var Zoe=Object.defineProperty;var yU=t=>{throw TypeError(t)};var Joe=(t,e,n)=>e in t?Zoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Un=(t,e,n)=>Joe(t,typeof e!="symbol"?e+"":e,n),Pk=(t,e,n)=>e.has(t)||yU("Cannot "+n);var Ke=(t,e,n)=>(Pk(t,e,"read from private field"),n?n.call(t):e.get(t)),Jn=(t,e,n)=>e.has(t)?yU("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),gn=(t,e,n,r)=>(Pk(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),lo=(t,e,n)=>(Pk(t,e,"access private method"),n);var cC=(t,e,n,r)=>({set _(s){gn(t,e,s,n)},get _(){return Ke(t,e,r)}});function yV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var SA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function DL(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var wV={exports:{}},rN={},vV={exports:{}},Rn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dx=Symbol.for("react.element"),eae=Symbol.for("react.portal"),tae=Symbol.for("react.fragment"),nae=Symbol.for("react.strict_mode"),rae=Symbol.for("react.profiler"),sae=Symbol.for("react.provider"),iae=Symbol.for("react.context"),oae=Symbol.for("react.forward_ref"),aae=Symbol.for("react.suspense"),lae=Symbol.for("react.memo"),cae=Symbol.for("react.lazy"),wU=Symbol.iterator;function uae(t){return t===null||typeof t!="object"?null:(t=wU&&t[wU]||t["@@iterator"],typeof t=="function"?t:null)}var xV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bV=Object.assign,CV={};function py(t,e,n){this.props=t,this.context=e,this.refs=CV,this.updater=n||xV}py.prototype.isReactComponent={};py.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};py.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SV(){}SV.prototype=py.prototype;function PL(t,e,n){this.props=t,this.context=e,this.refs=CV,this.updater=n||xV}var RL=PL.prototype=new SV;RL.constructor=PL;bV(RL,py.prototype);RL.isPureReactComponent=!0;var vU=Array.isArray,BV=Object.prototype.hasOwnProperty,OL={current:null},_V={key:!0,ref:!0,__self:!0,__source:!0};function NV(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)BV.call(e,r)&&!_V.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Dx,type:t,key:i,ref:o,props:s,_owner:OL.current}}function Aae(t,e){return{$$typeof:Dx,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $L(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dx}function dae(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xU=/\/+/g;function Rk(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dae(""+t.key):e.toString(36)}function DS(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Dx:case eae:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Rk(o,0):r,vU(s)?(n="",t!=null&&(n=t.replace(xU,"$&/")+"/"),DS(s,e,n,"",function(c){return c})):s!=null&&($L(s)&&(s=Aae(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xU,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",vU(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Rk(i,a);o+=DS(i,e,n,l,s)}else if(l=uae(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Rk(i,a++),o+=DS(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function uC(t,e,n){if(t==null)return t;var r=[],s=0;return DS(t,r,"","",function(i){return e.call(n,i,s++)}),r}function hae(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var na={current:null},PS={transition:null},fae={ReactCurrentDispatcher:na,ReactCurrentBatchConfig:PS,ReactCurrentOwner:OL};function IV(){throw Error("act(...) is not supported in production builds of React.")}Rn.Children={map:uC,forEach:function(t,e,n){uC(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uC(t,function(){e++}),e},toArray:function(t){return uC(t,function(e){return e})||[]},only:function(t){if(!$L(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Rn.Component=py;Rn.Fragment=tae;Rn.Profiler=rae;Rn.PureComponent=PL;Rn.StrictMode=nae;Rn.Suspense=aae;Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fae;Rn.act=IV;Rn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bV({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=OL.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)BV.call(e,l)&&!_V.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Dx,type:t.type,key:s,ref:i,props:r,_owner:o}};Rn.createContext=function(t){return t={$$typeof:iae,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sae,_context:t},t.Consumer=t};Rn.createElement=NV;Rn.createFactory=function(t){var e=NV.bind(null,t);return e.type=t,e};Rn.createRef=function(){return{current:null}};Rn.forwardRef=function(t){return{$$typeof:oae,render:t}};Rn.isValidElement=$L;Rn.lazy=function(t){return{$$typeof:cae,_payload:{_status:-1,_result:t},_init:hae}};Rn.memo=function(t,e){return{$$typeof:lae,type:t,compare:e===void 0?null:e}};Rn.startTransition=function(t){var e=PS.transition;PS.transition={};try{t()}finally{PS.transition=e}};Rn.unstable_act=IV;Rn.useCallback=function(t,e){return na.current.useCallback(t,e)};Rn.useContext=function(t){return na.current.useContext(t)};Rn.useDebugValue=function(){};Rn.useDeferredValue=function(t){return na.current.useDeferredValue(t)};Rn.useEffect=function(t,e){return na.current.useEffect(t,e)};Rn.useId=function(){return na.current.useId()};Rn.useImperativeHandle=function(t,e,n){return na.current.useImperativeHandle(t,e,n)};Rn.useInsertionEffect=function(t,e){return na.current.useInsertionEffect(t,e)};Rn.useLayoutEffect=function(t,e){return na.current.useLayoutEffect(t,e)};Rn.useMemo=function(t,e){return na.current.useMemo(t,e)};Rn.useReducer=function(t,e,n){return na.current.useReducer(t,e,n)};Rn.useRef=function(t){return na.current.useRef(t)};Rn.useState=function(t){return na.current.useState(t)};Rn.useSyncExternalStore=function(t,e,n){return na.current.useSyncExternalStore(t,e,n)};Rn.useTransition=function(){return na.current.useTransition()};Rn.version="18.3.1";vV.exports=Rn;var O=vV.exports;const it=Lx(O),UL=yV({__proto__:null,default:it},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pae=O,mae=Symbol.for("react.element"),gae=Symbol.for("react.fragment"),yae=Object.prototype.hasOwnProperty,wae=pae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vae={key:!0,ref:!0,__self:!0,__source:!0};function EV(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yae.call(e,r)&&!vae.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:mae,type:t,key:i,ref:o,props:s,_owner:wae.current}}rN.Fragment=gae;rN.jsx=EV;rN.jsxs=EV;wV.exports=rN;var x=wV.exports,kV={exports:{}},yl={},TV={exports:{}},FV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,Z){var le=V.length;V.push(Z);e:for(;0<le;){var ce=le-1>>>1,M=V[ce];if(0<s(M,Z))V[ce]=Z,V[le]=M,le=ce;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Z=V[0],le=V.pop();if(le!==Z){V[0]=le;e:for(var ce=0,M=V.length,G=M>>>1;ce<G;){var X=2*(ce+1)-1,re=V[X],ue=X+1,de=V[ue];if(0>s(re,le))ue<M&&0>s(de,re)?(V[ce]=de,V[ue]=le,ce=ue):(V[ce]=re,V[X]=le,ce=X);else if(ue<M&&0>s(de,le))V[ce]=de,V[ue]=le,ce=ue;else break e}}return Z}function s(V,Z){var le=V.sortIndex-Z.sortIndex;return le!==0?le:V.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,A=null,d=3,h=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=V)r(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(c)}}function C(V){if(m=!1,b(V),!p)if(n(l)!==null)p=!0,J(_);else{var Z=n(c);Z!==null&&oe(C,Z.startTime-V)}}function _(V,Z){p=!1,m&&(m=!1,g(T),T=-1),h=!0;var le=d;try{for(b(Z),A=n(l);A!==null&&(!(A.expirationTime>Z)||V&&!R());){var ce=A.callback;if(typeof ce=="function"){A.callback=null,d=A.priorityLevel;var M=ce(A.expirationTime<=Z);Z=t.unstable_now(),typeof M=="function"?A.callback=M:A===n(l)&&r(l),b(Z)}else r(l);A=n(l)}if(A!==null)var G=!0;else{var X=n(c);X!==null&&oe(C,X.startTime-Z),G=!1}return G}finally{A=null,d=le,h=!1}}var I=!1,F=null,T=-1,D=5,H=-1;function R(){return!(t.unstable_now()-H<D)}function U(){if(F!==null){var V=t.unstable_now();H=V;var Z=!0;try{Z=F(!0,V)}finally{Z?W():(I=!1,F=null)}}else I=!1}var W;if(typeof v=="function")W=function(){v(U)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Y=$.port2;$.port1.onmessage=U,W=function(){Y.postMessage(null)}}else W=function(){y(U,0)};function J(V){F=V,I||(I=!0,W())}function oe(V,Z){T=y(function(){V(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,J(_))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(d){case 1:case 2:case 3:var Z=3;break;default:Z=d}var le=d;d=Z;try{return V()}finally{d=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var le=d;d=V;try{return Z()}finally{d=le}},t.unstable_scheduleCallback=function(V,Z,le){var ce=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ce+le:ce):le=ce,V){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=le+M,V={id:u++,callback:Z,priorityLevel:V,startTime:le,expirationTime:M,sortIndex:-1},le>ce?(V.sortIndex=le,e(c,V),n(l)===null&&V===n(c)&&(m?(g(T),T=-1):m=!0,oe(C,le-ce))):(V.sortIndex=M,e(l,V),p||h||(p=!0,J(_))),V},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(V){var Z=d;return function(){var le=d;d=Z;try{return V.apply(this,arguments)}finally{d=le}}}})(FV);TV.exports=FV;var xae=TV.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bae=O,pl=xae;function nt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LV=new Set,Bv={};function Fm(t,e){R0(t,e),R0(t+"Capture",e)}function R0(t,e){for(Bv[t]=e,t=0;t<e.length;t++)LV.add(e[t])}var Ad=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oF=Object.prototype.hasOwnProperty,Cae=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bU={},CU={};function Sae(t){return oF.call(CU,t)?!0:oF.call(bU,t)?!1:Cae.test(t)?CU[t]=!0:(bU[t]=!0,!1)}function Bae(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _ae(t,e,n,r){if(e===null||typeof e>"u"||Bae(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ra(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Yi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Yi[t]=new ra(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Yi[e]=new ra(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Yi[t]=new ra(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Yi[t]=new ra(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Yi[t]=new ra(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Yi[t]=new ra(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Yi[t]=new ra(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Yi[t]=new ra(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Yi[t]=new ra(t,5,!1,t.toLowerCase(),null,!1,!1)});var ML=/[\-:]([a-z])/g;function QL(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ML,QL);Yi[e]=new ra(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ML,QL);Yi[e]=new ra(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ML,QL);Yi[e]=new ra(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Yi[t]=new ra(t,1,!1,t.toLowerCase(),null,!1,!1)});Yi.xlinkHref=new ra("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Yi[t]=new ra(t,1,!1,t.toLowerCase(),null,!0,!0)});function jL(t,e,n,r){var s=Yi.hasOwnProperty(e)?Yi[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_ae(e,n,s,r)&&(n=null),r||s===null?Sae(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bd=bae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,AC=Symbol.for("react.element"),Mg=Symbol.for("react.portal"),Qg=Symbol.for("react.fragment"),HL=Symbol.for("react.strict_mode"),aF=Symbol.for("react.profiler"),DV=Symbol.for("react.provider"),PV=Symbol.for("react.context"),zL=Symbol.for("react.forward_ref"),lF=Symbol.for("react.suspense"),cF=Symbol.for("react.suspense_list"),VL=Symbol.for("react.memo"),fh=Symbol.for("react.lazy"),RV=Symbol.for("react.offscreen"),SU=Symbol.iterator;function nw(t){return t===null||typeof t!="object"?null:(t=SU&&t[SU]||t["@@iterator"],typeof t=="function"?t:null)}var hs=Object.assign,Ok;function Iw(t){if(Ok===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ok=e&&e[1]||""}return`
`+Ok+t}var $k=!1;function Uk(t,e){if(!t||$k)return"";$k=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$k=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Iw(t):""}function Nae(t){switch(t.tag){case 5:return Iw(t.type);case 16:return Iw("Lazy");case 13:return Iw("Suspense");case 19:return Iw("SuspenseList");case 0:case 2:case 15:return t=Uk(t.type,!1),t;case 11:return t=Uk(t.type.render,!1),t;case 1:return t=Uk(t.type,!0),t;default:return""}}function uF(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qg:return"Fragment";case Mg:return"Portal";case aF:return"Profiler";case HL:return"StrictMode";case lF:return"Suspense";case cF:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case PV:return(t.displayName||"Context")+".Consumer";case DV:return(t._context.displayName||"Context")+".Provider";case zL:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case VL:return e=t.displayName||null,e!==null?e:uF(t.type)||"Memo";case fh:e=t._payload,t=t._init;try{return uF(t(e))}catch{}}return null}function Iae(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uF(e);case 8:return e===HL?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rf(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OV(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Eae(t){var e=OV(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dC(t){t._valueTracker||(t._valueTracker=Eae(t))}function $V(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OV(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yB(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function AF(t,e){var n=e.checked;return hs({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function BU(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=rf(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UV(t,e){e=e.checked,e!=null&&jL(t,"checked",e,!1)}function dF(t,e){UV(t,e);var n=rf(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hF(t,e.type,n):e.hasOwnProperty("defaultValue")&&hF(t,e.type,rf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _U(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hF(t,e,n){(e!=="number"||yB(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ew=Array.isArray;function o0(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+rf(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function fF(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(nt(91));return hs({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function NU(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(nt(92));if(Ew(n)){if(1<n.length)throw Error(nt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:rf(n)}}function MV(t,e){var n=rf(e.value),r=rf(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function IU(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function QV(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pF(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?QV(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hC,jV=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hC=hC||document.createElement("div"),hC.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hC.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _v(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zw={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kae=["Webkit","ms","Moz","O"];Object.keys(Zw).forEach(function(t){kae.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zw[e]=Zw[t]})});function HV(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zw.hasOwnProperty(t)&&Zw[t]?(""+e).trim():e+"px"}function zV(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=HV(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Tae=hs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mF(t,e){if(e){if(Tae[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(nt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(nt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(nt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(nt(62))}}function gF(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yF=null;function WL(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wF=null,a0=null,l0=null;function EU(t){if(t=Ox(t)){if(typeof wF!="function")throw Error(nt(280));var e=t.stateNode;e&&(e=lN(e),wF(t.stateNode,t.type,e))}}function VV(t){a0?l0?l0.push(t):l0=[t]:a0=t}function WV(){if(a0){var t=a0,e=l0;if(l0=a0=null,EU(t),e)for(t=0;t<e.length;t++)EU(e[t])}}function GV(t,e){return t(e)}function KV(){}var Mk=!1;function qV(t,e,n){if(Mk)return t(e,n);Mk=!0;try{return GV(t,e,n)}finally{Mk=!1,(a0!==null||l0!==null)&&(KV(),WV())}}function Nv(t,e){var n=t.stateNode;if(n===null)return null;var r=lN(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(nt(231,e,typeof n));return n}var vF=!1;if(Ad)try{var rw={};Object.defineProperty(rw,"passive",{get:function(){vF=!0}}),window.addEventListener("test",rw,rw),window.removeEventListener("test",rw,rw)}catch{vF=!1}function Fae(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Jw=!1,wB=null,vB=!1,xF=null,Lae={onError:function(t){Jw=!0,wB=t}};function Dae(t,e,n,r,s,i,o,a,l){Jw=!1,wB=null,Fae.apply(Lae,arguments)}function Pae(t,e,n,r,s,i,o,a,l){if(Dae.apply(this,arguments),Jw){if(Jw){var c=wB;Jw=!1,wB=null}else throw Error(nt(198));vB||(vB=!0,xF=c)}}function Lm(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kU(t){if(Lm(t)!==t)throw Error(nt(188))}function Rae(t){var e=t.alternate;if(!e){if(e=Lm(t),e===null)throw Error(nt(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return kU(s),t;if(i===r)return kU(s),e;i=i.sibling}throw Error(nt(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(nt(189))}}if(n.alternate!==r)throw Error(nt(190))}if(n.tag!==3)throw Error(nt(188));return n.stateNode.current===n?t:e}function YV(t){return t=Rae(t),t!==null?ZV(t):null}function ZV(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ZV(t);if(e!==null)return e;t=t.sibling}return null}var JV=pl.unstable_scheduleCallback,TU=pl.unstable_cancelCallback,Oae=pl.unstable_shouldYield,$ae=pl.unstable_requestPaint,Rs=pl.unstable_now,Uae=pl.unstable_getCurrentPriorityLevel,GL=pl.unstable_ImmediatePriority,e7=pl.unstable_UserBlockingPriority,xB=pl.unstable_NormalPriority,Mae=pl.unstable_LowPriority,t7=pl.unstable_IdlePriority,sN=null,nA=null;function Qae(t){if(nA&&typeof nA.onCommitFiberRoot=="function")try{nA.onCommitFiberRoot(sN,t,void 0,(t.current.flags&128)===128)}catch{}}var tu=Math.clz32?Math.clz32:zae,jae=Math.log,Hae=Math.LN2;function zae(t){return t>>>=0,t===0?32:31-(jae(t)/Hae|0)|0}var fC=64,pC=4194304;function kw(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bB(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=kw(a):(i&=o,i!==0&&(r=kw(i)))}else o=n&~s,o!==0?r=kw(o):i!==0&&(r=kw(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tu(e),s=1<<n,r|=t[n],e&=~s;return r}function Vae(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wae(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-tu(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Vae(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function bF(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function n7(){var t=fC;return fC<<=1,!(fC&4194240)&&(fC=64),t}function Qk(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Px(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tu(e),t[e]=n}function Gae(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-tu(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function KL(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tu(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var yr=0;function r7(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var s7,qL,i7,o7,a7,CF=!1,mC=[],Uh=null,Mh=null,Qh=null,Iv=new Map,Ev=new Map,yh=[],Kae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FU(t,e){switch(t){case"focusin":case"focusout":Uh=null;break;case"dragenter":case"dragleave":Mh=null;break;case"mouseover":case"mouseout":Qh=null;break;case"pointerover":case"pointerout":Iv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ev.delete(e.pointerId)}}function sw(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ox(e),e!==null&&qL(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function qae(t,e,n,r,s){switch(e){case"focusin":return Uh=sw(Uh,t,e,n,r,s),!0;case"dragenter":return Mh=sw(Mh,t,e,n,r,s),!0;case"mouseover":return Qh=sw(Qh,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Iv.set(i,sw(Iv.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ev.set(i,sw(Ev.get(i)||null,t,e,n,r,s)),!0}return!1}function l7(t){var e=Np(t.target);if(e!==null){var n=Lm(e);if(n!==null){if(e=n.tag,e===13){if(e=XV(n),e!==null){t.blockedOn=e,a7(t.priority,function(){i7(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function RS(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=SF(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yF=r,n.target.dispatchEvent(r),yF=null}else return e=Ox(n),e!==null&&qL(e),t.blockedOn=n,!1;e.shift()}return!0}function LU(t,e,n){RS(t)&&n.delete(e)}function Xae(){CF=!1,Uh!==null&&RS(Uh)&&(Uh=null),Mh!==null&&RS(Mh)&&(Mh=null),Qh!==null&&RS(Qh)&&(Qh=null),Iv.forEach(LU),Ev.forEach(LU)}function iw(t,e){t.blockedOn===e&&(t.blockedOn=null,CF||(CF=!0,pl.unstable_scheduleCallback(pl.unstable_NormalPriority,Xae)))}function kv(t){function e(s){return iw(s,t)}if(0<mC.length){iw(mC[0],t);for(var n=1;n<mC.length;n++){var r=mC[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Uh!==null&&iw(Uh,t),Mh!==null&&iw(Mh,t),Qh!==null&&iw(Qh,t),Iv.forEach(e),Ev.forEach(e),n=0;n<yh.length;n++)r=yh[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yh.length&&(n=yh[0],n.blockedOn===null);)l7(n),n.blockedOn===null&&yh.shift()}var c0=Bd.ReactCurrentBatchConfig,CB=!0;function Yae(t,e,n,r){var s=yr,i=c0.transition;c0.transition=null;try{yr=1,XL(t,e,n,r)}finally{yr=s,c0.transition=i}}function Zae(t,e,n,r){var s=yr,i=c0.transition;c0.transition=null;try{yr=4,XL(t,e,n,r)}finally{yr=s,c0.transition=i}}function XL(t,e,n,r){if(CB){var s=SF(t,e,n,r);if(s===null)Yk(t,e,r,SB,n),FU(t,r);else if(qae(s,t,e,n,r))r.stopPropagation();else if(FU(t,r),e&4&&-1<Kae.indexOf(t)){for(;s!==null;){var i=Ox(s);if(i!==null&&s7(i),i=SF(t,e,n,r),i===null&&Yk(t,e,r,SB,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Yk(t,e,r,null,n)}}var SB=null;function SF(t,e,n,r){if(SB=null,t=WL(r),t=Np(t),t!==null)if(e=Lm(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XV(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return SB=t,null}function c7(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uae()){case GL:return 1;case e7:return 4;case xB:case Mae:return 16;case t7:return 536870912;default:return 16}default:return 16}}var Nh=null,YL=null,OS=null;function u7(){if(OS)return OS;var t,e=YL,n=e.length,r,s="value"in Nh?Nh.value:Nh.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return OS=s.slice(t,1<r?1-r:void 0)}function $S(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gC(){return!0}function DU(){return!1}function wl(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gC:DU,this.isPropagationStopped=DU,this}return hs(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gC)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gC)},persist:function(){},isPersistent:gC}),e}var my={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ZL=wl(my),Rx=hs({},my,{view:0,detail:0}),Jae=wl(Rx),jk,Hk,ow,iN=hs({},Rx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JL,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ow&&(ow&&t.type==="mousemove"?(jk=t.screenX-ow.screenX,Hk=t.screenY-ow.screenY):Hk=jk=0,ow=t),jk)},movementY:function(t){return"movementY"in t?t.movementY:Hk}}),PU=wl(iN),ele=hs({},iN,{dataTransfer:0}),tle=wl(ele),nle=hs({},Rx,{relatedTarget:0}),zk=wl(nle),rle=hs({},my,{animationName:0,elapsedTime:0,pseudoElement:0}),sle=wl(rle),ile=hs({},my,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ole=wl(ile),ale=hs({},my,{data:0}),RU=wl(ale),lle={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cle={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ule={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ale(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ule[t])?!!e[t]:!1}function JL(){return Ale}var dle=hs({},Rx,{key:function(t){if(t.key){var e=lle[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$S(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cle[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JL,charCode:function(t){return t.type==="keypress"?$S(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$S(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hle=wl(dle),fle=hs({},iN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OU=wl(fle),ple=hs({},Rx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JL}),mle=wl(ple),gle=hs({},my,{propertyName:0,elapsedTime:0,pseudoElement:0}),yle=wl(gle),wle=hs({},iN,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vle=wl(wle),xle=[9,13,27,32],eD=Ad&&"CompositionEvent"in window,ev=null;Ad&&"documentMode"in document&&(ev=document.documentMode);var ble=Ad&&"TextEvent"in window&&!ev,A7=Ad&&(!eD||ev&&8<ev&&11>=ev),$U=" ",UU=!1;function d7(t,e){switch(t){case"keyup":return xle.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h7(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jg=!1;function Cle(t,e){switch(t){case"compositionend":return h7(e);case"keypress":return e.which!==32?null:(UU=!0,$U);case"textInput":return t=e.data,t===$U&&UU?null:t;default:return null}}function Sle(t,e){if(jg)return t==="compositionend"||!eD&&d7(t,e)?(t=u7(),OS=YL=Nh=null,jg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return A7&&e.locale!=="ko"?null:e.data;default:return null}}var Ble={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MU(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ble[t.type]:e==="textarea"}function f7(t,e,n,r){VV(r),e=BB(e,"onChange"),0<e.length&&(n=new ZL("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var tv=null,Tv=null;function _le(t){B7(t,0)}function oN(t){var e=Vg(t);if($V(e))return t}function Nle(t,e){if(t==="change")return e}var p7=!1;if(Ad){var Vk;if(Ad){var Wk="oninput"in document;if(!Wk){var QU=document.createElement("div");QU.setAttribute("oninput","return;"),Wk=typeof QU.oninput=="function"}Vk=Wk}else Vk=!1;p7=Vk&&(!document.documentMode||9<document.documentMode)}function jU(){tv&&(tv.detachEvent("onpropertychange",m7),Tv=tv=null)}function m7(t){if(t.propertyName==="value"&&oN(Tv)){var e=[];f7(e,Tv,t,WL(t)),qV(_le,e)}}function Ile(t,e,n){t==="focusin"?(jU(),tv=e,Tv=n,tv.attachEvent("onpropertychange",m7)):t==="focusout"&&jU()}function Ele(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oN(Tv)}function kle(t,e){if(t==="click")return oN(e)}function Tle(t,e){if(t==="input"||t==="change")return oN(e)}function Fle(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ou=typeof Object.is=="function"?Object.is:Fle;function Fv(t,e){if(ou(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!oF.call(e,s)||!ou(t[s],e[s]))return!1}return!0}function HU(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zU(t,e){var n=HU(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HU(n)}}function g7(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?g7(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function y7(){for(var t=window,e=yB();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yB(t.document)}return e}function tD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Lle(t){var e=y7(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&g7(n.ownerDocument.documentElement,n)){if(r!==null&&tD(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=zU(n,i);var o=zU(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Dle=Ad&&"documentMode"in document&&11>=document.documentMode,Hg=null,BF=null,nv=null,_F=!1;function VU(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_F||Hg==null||Hg!==yB(r)||(r=Hg,"selectionStart"in r&&tD(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nv&&Fv(nv,r)||(nv=r,r=BB(BF,"onSelect"),0<r.length&&(e=new ZL("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hg)))}function yC(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zg={animationend:yC("Animation","AnimationEnd"),animationiteration:yC("Animation","AnimationIteration"),animationstart:yC("Animation","AnimationStart"),transitionend:yC("Transition","TransitionEnd")},Gk={},w7={};Ad&&(w7=document.createElement("div").style,"AnimationEvent"in window||(delete zg.animationend.animation,delete zg.animationiteration.animation,delete zg.animationstart.animation),"TransitionEvent"in window||delete zg.transitionend.transition);function aN(t){if(Gk[t])return Gk[t];if(!zg[t])return t;var e=zg[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in w7)return Gk[t]=e[n];return t}var v7=aN("animationend"),x7=aN("animationiteration"),b7=aN("animationstart"),C7=aN("transitionend"),S7=new Map,WU="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cf(t,e){S7.set(t,e),Fm(e,[t])}for(var Kk=0;Kk<WU.length;Kk++){var qk=WU[Kk],Ple=qk.toLowerCase(),Rle=qk[0].toUpperCase()+qk.slice(1);Cf(Ple,"on"+Rle)}Cf(v7,"onAnimationEnd");Cf(x7,"onAnimationIteration");Cf(b7,"onAnimationStart");Cf("dblclick","onDoubleClick");Cf("focusin","onFocus");Cf("focusout","onBlur");Cf(C7,"onTransitionEnd");R0("onMouseEnter",["mouseout","mouseover"]);R0("onMouseLeave",["mouseout","mouseover"]);R0("onPointerEnter",["pointerout","pointerover"]);R0("onPointerLeave",["pointerout","pointerover"]);Fm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ole=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tw));function GU(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pae(r,e,void 0,t),t.currentTarget=null}function B7(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;GU(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;GU(s,a,c),i=l}}}if(vB)throw t=xF,vB=!1,xF=null,t}function Hr(t,e){var n=e[TF];n===void 0&&(n=e[TF]=new Set);var r=t+"__bubble";n.has(r)||(_7(e,t,2,!1),n.add(r))}function Xk(t,e,n){var r=0;e&&(r|=4),_7(n,t,r,e)}var wC="_reactListening"+Math.random().toString(36).slice(2);function Lv(t){if(!t[wC]){t[wC]=!0,LV.forEach(function(n){n!=="selectionchange"&&(Ole.has(n)||Xk(n,!1,t),Xk(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wC]||(e[wC]=!0,Xk("selectionchange",!1,e))}}function _7(t,e,n,r){switch(c7(e)){case 1:var s=Yae;break;case 4:s=Zae;break;default:s=XL}n=s.bind(null,e,n,t),s=void 0,!vF||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Yk(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Np(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}qV(function(){var c=i,u=WL(n),A=[];e:{var d=S7.get(t);if(d!==void 0){var h=ZL,p=t;switch(t){case"keypress":if($S(n)===0)break e;case"keydown":case"keyup":h=hle;break;case"focusin":p="focus",h=zk;break;case"focusout":p="blur",h=zk;break;case"beforeblur":case"afterblur":h=zk;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=PU;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=tle;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=mle;break;case v7:case x7:case b7:h=sle;break;case C7:h=yle;break;case"scroll":h=Jae;break;case"wheel":h=vle;break;case"copy":case"cut":case"paste":h=ole;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=OU}var m=(e&4)!==0,y=!m&&t==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var v=c,b;v!==null;){b=v;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,g!==null&&(C=Nv(v,g),C!=null&&m.push(Dv(v,C,b)))),y)break;v=v.return}0<m.length&&(d=new h(d,p,null,n,u),A.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==yF&&(p=n.relatedTarget||n.fromElement)&&(Np(p)||p[dd]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?Np(p):null,p!==null&&(y=Lm(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(m=PU,C="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=OU,C="onPointerLeave",g="onPointerEnter",v="pointer"),y=h==null?d:Vg(h),b=p==null?d:Vg(p),d=new m(C,v+"leave",h,n,u),d.target=y,d.relatedTarget=b,C=null,Np(u)===c&&(m=new m(g,v+"enter",p,n,u),m.target=b,m.relatedTarget=y,C=m),y=C,h&&p)t:{for(m=h,g=p,v=0,b=m;b;b=gg(b))v++;for(b=0,C=g;C;C=gg(C))b++;for(;0<v-b;)m=gg(m),v--;for(;0<b-v;)g=gg(g),b--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=gg(m),g=gg(g)}m=null}else m=null;h!==null&&KU(A,d,h,m,!1),p!==null&&y!==null&&KU(A,y,p,m,!0)}}e:{if(d=c?Vg(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var _=Nle;else if(MU(d))if(p7)_=Tle;else{_=Ele;var I=Ile}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(_=kle);if(_&&(_=_(t,c))){f7(A,_,n,u);break e}I&&I(t,d,c),t==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&hF(d,"number",d.value)}switch(I=c?Vg(c):window,t){case"focusin":(MU(I)||I.contentEditable==="true")&&(Hg=I,BF=c,nv=null);break;case"focusout":nv=BF=Hg=null;break;case"mousedown":_F=!0;break;case"contextmenu":case"mouseup":case"dragend":_F=!1,VU(A,n,u);break;case"selectionchange":if(Dle)break;case"keydown":case"keyup":VU(A,n,u)}var F;if(eD)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else jg?d7(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(A7&&n.locale!=="ko"&&(jg||T!=="onCompositionStart"?T==="onCompositionEnd"&&jg&&(F=u7()):(Nh=u,YL="value"in Nh?Nh.value:Nh.textContent,jg=!0)),I=BB(c,T),0<I.length&&(T=new RU(T,t,null,n,u),A.push({event:T,listeners:I}),F?T.data=F:(F=h7(n),F!==null&&(T.data=F)))),(F=ble?Cle(t,n):Sle(t,n))&&(c=BB(c,"onBeforeInput"),0<c.length&&(u=new RU("onBeforeInput","beforeinput",null,n,u),A.push({event:u,listeners:c}),u.data=F))}B7(A,e)})}function Dv(t,e,n){return{instance:t,listener:e,currentTarget:n}}function BB(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nv(t,n),i!=null&&r.unshift(Dv(t,i,s)),i=Nv(t,e),i!=null&&r.push(Dv(t,i,s))),t=t.return}return r}function gg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function KU(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Nv(n,i),l!=null&&o.unshift(Dv(n,l,a))):s||(l=Nv(n,i),l!=null&&o.push(Dv(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var $le=/\r\n?/g,Ule=/\u0000|\uFFFD/g;function qU(t){return(typeof t=="string"?t:""+t).replace($le,`
`).replace(Ule,"")}function vC(t,e,n){if(e=qU(e),qU(t)!==e&&n)throw Error(nt(425))}function _B(){}var NF=null,IF=null;function EF(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kF=typeof setTimeout=="function"?setTimeout:void 0,Mle=typeof clearTimeout=="function"?clearTimeout:void 0,XU=typeof Promise=="function"?Promise:void 0,Qle=typeof queueMicrotask=="function"?queueMicrotask:typeof XU<"u"?function(t){return XU.resolve(null).then(t).catch(jle)}:kF;function jle(t){setTimeout(function(){throw t})}function Zk(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),kv(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);kv(e)}function jh(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function YU(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gy=Math.random().toString(36).slice(2),qu="__reactFiber$"+gy,Pv="__reactProps$"+gy,dd="__reactContainer$"+gy,TF="__reactEvents$"+gy,Hle="__reactListeners$"+gy,zle="__reactHandles$"+gy;function Np(t){var e=t[qu];if(e)return e;for(var n=t.parentNode;n;){if(e=n[dd]||n[qu]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=YU(t);t!==null;){if(n=t[qu])return n;t=YU(t)}return e}t=n,n=t.parentNode}return null}function Ox(t){return t=t[qu]||t[dd],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(nt(33))}function lN(t){return t[Pv]||null}var FF=[],Wg=-1;function Sf(t){return{current:t}}function Vr(t){0>Wg||(t.current=FF[Wg],FF[Wg]=null,Wg--)}function Pr(t,e){Wg++,FF[Wg]=t.current,t.current=e}var sf={},Bo=Sf(sf),ka=Sf(!1),rm=sf;function O0(t,e){var n=t.type.contextTypes;if(!n)return sf;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ta(t){return t=t.childContextTypes,t!=null}function NB(){Vr(ka),Vr(Bo)}function ZU(t,e,n){if(Bo.current!==sf)throw Error(nt(168));Pr(Bo,e),Pr(ka,n)}function N7(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(nt(108,Iae(t)||"Unknown",s));return hs({},n,r)}function IB(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sf,rm=Bo.current,Pr(Bo,t),Pr(ka,ka.current),!0}function JU(t,e,n){var r=t.stateNode;if(!r)throw Error(nt(169));n?(t=N7(t,e,rm),r.__reactInternalMemoizedMergedChildContext=t,Vr(ka),Vr(Bo),Pr(Bo,t)):Vr(ka),Pr(ka,n)}var YA=null,cN=!1,Jk=!1;function I7(t){YA===null?YA=[t]:YA.push(t)}function Vle(t){cN=!0,I7(t)}function Bf(){if(!Jk&&YA!==null){Jk=!0;var t=0,e=yr;try{var n=YA;for(yr=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}YA=null,cN=!1}catch(s){throw YA!==null&&(YA=YA.slice(t+1)),JV(GL,Bf),s}finally{yr=e,Jk=!1}}return null}var Gg=[],Kg=0,EB=null,kB=0,jl=[],Hl=0,sm=null,od=1,ad="";function hp(t,e){Gg[Kg++]=kB,Gg[Kg++]=EB,EB=t,kB=e}function E7(t,e,n){jl[Hl++]=od,jl[Hl++]=ad,jl[Hl++]=sm,sm=t;var r=od;t=ad;var s=32-tu(r)-1;r&=~(1<<s),n+=1;var i=32-tu(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,od=1<<32-tu(e)+s|n<<s|r,ad=i+t}else od=1<<i|n<<s|r,ad=t}function nD(t){t.return!==null&&(hp(t,1),E7(t,1,0))}function rD(t){for(;t===EB;)EB=Gg[--Kg],Gg[Kg]=null,kB=Gg[--Kg],Gg[Kg]=null;for(;t===sm;)sm=jl[--Hl],jl[Hl]=null,ad=jl[--Hl],jl[Hl]=null,od=jl[--Hl],jl[Hl]=null}var Al=null,ol=null,Jr=!1,qc=null;function k7(t,e){var n=Wl(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eM(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Al=t,ol=jh(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Al=t,ol=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=sm!==null?{id:od,overflow:ad}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wl(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Al=t,ol=null,!0):!1;default:return!1}}function LF(t){return(t.mode&1)!==0&&(t.flags&128)===0}function DF(t){if(Jr){var e=ol;if(e){var n=e;if(!eM(t,e)){if(LF(t))throw Error(nt(418));e=jh(n.nextSibling);var r=Al;e&&eM(t,e)?k7(r,n):(t.flags=t.flags&-4097|2,Jr=!1,Al=t)}}else{if(LF(t))throw Error(nt(418));t.flags=t.flags&-4097|2,Jr=!1,Al=t}}}function tM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Al=t}function xC(t){if(t!==Al)return!1;if(!Jr)return tM(t),Jr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!EF(t.type,t.memoizedProps)),e&&(e=ol)){if(LF(t))throw T7(),Error(nt(418));for(;e;)k7(t,e),e=jh(e.nextSibling)}if(tM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(nt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ol=jh(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ol=null}}else ol=Al?jh(t.stateNode.nextSibling):null;return!0}function T7(){for(var t=ol;t;)t=jh(t.nextSibling)}function $0(){ol=Al=null,Jr=!1}function sD(t){qc===null?qc=[t]:qc.push(t)}var Wle=Bd.ReactCurrentBatchConfig;function aw(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(nt(309));var r=n.stateNode}if(!r)throw Error(nt(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(nt(284));if(!n._owner)throw Error(nt(290,t))}return t}function bC(t,e){throw t=Object.prototype.toString.call(e),Error(nt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nM(t){var e=t._init;return e(t._payload)}function F7(t){function e(g,v){if(t){var b=g.deletions;b===null?(g.deletions=[v],g.flags|=16):b.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=Wh(g,v),g.index=0,g.sibling=null,g}function i(g,v,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<v?(g.flags|=2,v):b):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,b,C){return v===null||v.tag!==6?(v=oT(b,g.mode,C),v.return=g,v):(v=s(v,b),v.return=g,v)}function l(g,v,b,C){var _=b.type;return _===Qg?u(g,v,b.props.children,C,b.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===fh&&nM(_)===v.type)?(C=s(v,b.props),C.ref=aw(g,v,b),C.return=g,C):(C=VS(b.type,b.key,b.props,null,g.mode,C),C.ref=aw(g,v,b),C.return=g,C)}function c(g,v,b,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=aT(b,g.mode,C),v.return=g,v):(v=s(v,b.children||[]),v.return=g,v)}function u(g,v,b,C,_){return v===null||v.tag!==7?(v=Gp(b,g.mode,C,_),v.return=g,v):(v=s(v,b),v.return=g,v)}function A(g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=oT(""+v,g.mode,b),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case AC:return b=VS(v.type,v.key,v.props,null,g.mode,b),b.ref=aw(g,null,v),b.return=g,b;case Mg:return v=aT(v,g.mode,b),v.return=g,v;case fh:var C=v._init;return A(g,C(v._payload),b)}if(Ew(v)||nw(v))return v=Gp(v,g.mode,b,null),v.return=g,v;bC(g,v)}return null}function d(g,v,b,C){var _=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:a(g,v,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case AC:return b.key===_?l(g,v,b,C):null;case Mg:return b.key===_?c(g,v,b,C):null;case fh:return _=b._init,d(g,v,_(b._payload),C)}if(Ew(b)||nw(b))return _!==null?null:u(g,v,b,C,null);bC(g,b)}return null}function h(g,v,b,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(b)||null,a(v,g,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case AC:return g=g.get(C.key===null?b:C.key)||null,l(v,g,C,_);case Mg:return g=g.get(C.key===null?b:C.key)||null,c(v,g,C,_);case fh:var I=C._init;return h(g,v,b,I(C._payload),_)}if(Ew(C)||nw(C))return g=g.get(b)||null,u(v,g,C,_,null);bC(v,C)}return null}function p(g,v,b,C){for(var _=null,I=null,F=v,T=v=0,D=null;F!==null&&T<b.length;T++){F.index>T?(D=F,F=null):D=F.sibling;var H=d(g,F,b[T],C);if(H===null){F===null&&(F=D);break}t&&F&&H.alternate===null&&e(g,F),v=i(H,v,T),I===null?_=H:I.sibling=H,I=H,F=D}if(T===b.length)return n(g,F),Jr&&hp(g,T),_;if(F===null){for(;T<b.length;T++)F=A(g,b[T],C),F!==null&&(v=i(F,v,T),I===null?_=F:I.sibling=F,I=F);return Jr&&hp(g,T),_}for(F=r(g,F);T<b.length;T++)D=h(F,g,T,b[T],C),D!==null&&(t&&D.alternate!==null&&F.delete(D.key===null?T:D.key),v=i(D,v,T),I===null?_=D:I.sibling=D,I=D);return t&&F.forEach(function(R){return e(g,R)}),Jr&&hp(g,T),_}function m(g,v,b,C){var _=nw(b);if(typeof _!="function")throw Error(nt(150));if(b=_.call(b),b==null)throw Error(nt(151));for(var I=_=null,F=v,T=v=0,D=null,H=b.next();F!==null&&!H.done;T++,H=b.next()){F.index>T?(D=F,F=null):D=F.sibling;var R=d(g,F,H.value,C);if(R===null){F===null&&(F=D);break}t&&F&&R.alternate===null&&e(g,F),v=i(R,v,T),I===null?_=R:I.sibling=R,I=R,F=D}if(H.done)return n(g,F),Jr&&hp(g,T),_;if(F===null){for(;!H.done;T++,H=b.next())H=A(g,H.value,C),H!==null&&(v=i(H,v,T),I===null?_=H:I.sibling=H,I=H);return Jr&&hp(g,T),_}for(F=r(g,F);!H.done;T++,H=b.next())H=h(F,g,T,H.value,C),H!==null&&(t&&H.alternate!==null&&F.delete(H.key===null?T:H.key),v=i(H,v,T),I===null?_=H:I.sibling=H,I=H);return t&&F.forEach(function(U){return e(g,U)}),Jr&&hp(g,T),_}function y(g,v,b,C){if(typeof b=="object"&&b!==null&&b.type===Qg&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case AC:e:{for(var _=b.key,I=v;I!==null;){if(I.key===_){if(_=b.type,_===Qg){if(I.tag===7){n(g,I.sibling),v=s(I,b.props.children),v.return=g,g=v;break e}}else if(I.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===fh&&nM(_)===I.type){n(g,I.sibling),v=s(I,b.props),v.ref=aw(g,I,b),v.return=g,g=v;break e}n(g,I);break}else e(g,I);I=I.sibling}b.type===Qg?(v=Gp(b.props.children,g.mode,C,b.key),v.return=g,g=v):(C=VS(b.type,b.key,b.props,null,g.mode,C),C.ref=aw(g,v,b),C.return=g,g=C)}return o(g);case Mg:e:{for(I=b.key;v!==null;){if(v.key===I)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(g,v.sibling),v=s(v,b.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=aT(b,g.mode,C),v.return=g,g=v}return o(g);case fh:return I=b._init,y(g,v,I(b._payload),C)}if(Ew(b))return p(g,v,b,C);if(nw(b))return m(g,v,b,C);bC(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,b),v.return=g,g=v):(n(g,v),v=oT(b,g.mode,C),v.return=g,g=v),o(g)):n(g,v)}return y}var U0=F7(!0),L7=F7(!1),TB=Sf(null),FB=null,qg=null,iD=null;function oD(){iD=qg=FB=null}function aD(t){var e=TB.current;Vr(TB),t._currentValue=e}function PF(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function u0(t,e){FB=t,iD=qg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Na=!0),t.firstContext=null)}function sc(t){var e=t._currentValue;if(iD!==t)if(t={context:t,memoizedValue:e,next:null},qg===null){if(FB===null)throw Error(nt(308));qg=t,FB.dependencies={lanes:0,firstContext:t}}else qg=qg.next=t;return e}var Ip=null;function lD(t){Ip===null?Ip=[t]:Ip.push(t)}function D7(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,lD(e)):(n.next=s.next,s.next=n),e.interleaved=n,hd(t,r)}function hd(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ph=!1;function cD(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P7(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ld(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hh(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Xn&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,hd(t,n)}return s=r.interleaved,s===null?(e.next=e,lD(r)):(e.next=s.next,s.next=e),r.interleaved=e,hd(t,n)}function US(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,KL(t,n)}}function rM(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function LB(t,e,n,r){var s=t.updateQueue;ph=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var A=s.baseState;o=0,u=c=l=null,a=i;do{var d=a.lane,h=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(d=e,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){A=p.call(h,A,d);break e}A=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(h,A,d):p,d==null)break e;A=hs({},A,d);break e;case 2:ph=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=A):u=u.next=h,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(u===null&&(l=A),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);om|=o,t.lanes=o,t.memoizedState=A}}function sM(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(nt(191,s));s.call(r)}}}var $x={},rA=Sf($x),Rv=Sf($x),Ov=Sf($x);function Ep(t){if(t===$x)throw Error(nt(174));return t}function uD(t,e){switch(Pr(Ov,e),Pr(Rv,t),Pr(rA,$x),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pF(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pF(e,t)}Vr(rA),Pr(rA,e)}function M0(){Vr(rA),Vr(Rv),Vr(Ov)}function R7(t){Ep(Ov.current);var e=Ep(rA.current),n=pF(e,t.type);e!==n&&(Pr(Rv,t),Pr(rA,n))}function AD(t){Rv.current===t&&(Vr(rA),Vr(Rv))}var cs=Sf(0);function DB(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var eT=[];function dD(){for(var t=0;t<eT.length;t++)eT[t]._workInProgressVersionPrimary=null;eT.length=0}var MS=Bd.ReactCurrentDispatcher,tT=Bd.ReactCurrentBatchConfig,im=0,ds=null,Ai=null,Si=null,PB=!1,rv=!1,$v=0,Gle=0;function co(){throw Error(nt(321))}function hD(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ou(t[n],e[n]))return!1;return!0}function fD(t,e,n,r,s,i){if(im=i,ds=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,MS.current=t===null||t.memoizedState===null?Yle:Zle,t=n(r,s),rv){i=0;do{if(rv=!1,$v=0,25<=i)throw Error(nt(301));i+=1,Si=Ai=null,e.updateQueue=null,MS.current=Jle,t=n(r,s)}while(rv)}if(MS.current=RB,e=Ai!==null&&Ai.next!==null,im=0,Si=Ai=ds=null,PB=!1,e)throw Error(nt(300));return t}function pD(){var t=$v!==0;return $v=0,t}function Mu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Si===null?ds.memoizedState=Si=t:Si=Si.next=t,Si}function ic(){if(Ai===null){var t=ds.alternate;t=t!==null?t.memoizedState:null}else t=Ai.next;var e=Si===null?ds.memoizedState:Si.next;if(e!==null)Si=e,Ai=t;else{if(t===null)throw Error(nt(310));Ai=t,t={memoizedState:Ai.memoizedState,baseState:Ai.baseState,baseQueue:Ai.baseQueue,queue:Ai.queue,next:null},Si===null?ds.memoizedState=Si=t:Si=Si.next=t}return Si}function Uv(t,e){return typeof e=="function"?e(t):e}function nT(t){var e=ic(),n=e.queue;if(n===null)throw Error(nt(311));n.lastRenderedReducer=t;var r=Ai,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((im&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var A={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=A,o=r):l=l.next=A,ds.lanes|=u,om|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,ou(r,e.memoizedState)||(Na=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ds.lanes|=i,om|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rT(t){var e=ic(),n=e.queue;if(n===null)throw Error(nt(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ou(i,e.memoizedState)||(Na=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function O7(){}function $7(t,e){var n=ds,r=ic(),s=e(),i=!ou(r.memoizedState,s);if(i&&(r.memoizedState=s,Na=!0),r=r.queue,mD(Q7.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Si!==null&&Si.memoizedState.tag&1){if(n.flags|=2048,Mv(9,M7.bind(null,n,r,s,e),void 0,null),Ei===null)throw Error(nt(349));im&30||U7(n,e,s)}return s}function U7(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ds.updateQueue,e===null?(e={lastEffect:null,stores:null},ds.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function M7(t,e,n,r){e.value=n,e.getSnapshot=r,j7(e)&&H7(t)}function Q7(t,e,n){return n(function(){j7(e)&&H7(t)})}function j7(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ou(t,n)}catch{return!0}}function H7(t){var e=hd(t,1);e!==null&&nu(e,t,1,-1)}function iM(t){var e=Mu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uv,lastRenderedState:t},e.queue=t,t=t.dispatch=Xle.bind(null,ds,t),[e.memoizedState,t]}function Mv(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ds.updateQueue,e===null?(e={lastEffect:null,stores:null},ds.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function z7(){return ic().memoizedState}function QS(t,e,n,r){var s=Mu();ds.flags|=t,s.memoizedState=Mv(1|e,n,void 0,r===void 0?null:r)}function uN(t,e,n,r){var s=ic();r=r===void 0?null:r;var i=void 0;if(Ai!==null){var o=Ai.memoizedState;if(i=o.destroy,r!==null&&hD(r,o.deps)){s.memoizedState=Mv(e,n,i,r);return}}ds.flags|=t,s.memoizedState=Mv(1|e,n,i,r)}function oM(t,e){return QS(8390656,8,t,e)}function mD(t,e){return uN(2048,8,t,e)}function V7(t,e){return uN(4,2,t,e)}function W7(t,e){return uN(4,4,t,e)}function G7(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function K7(t,e,n){return n=n!=null?n.concat([t]):null,uN(4,4,G7.bind(null,e,t),n)}function gD(){}function q7(t,e){var n=ic();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hD(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function X7(t,e){var n=ic();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hD(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Y7(t,e,n){return im&21?(ou(n,e)||(n=n7(),ds.lanes|=n,om|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Na=!0),t.memoizedState=n)}function Kle(t,e){var n=yr;yr=n!==0&&4>n?n:4,t(!0);var r=tT.transition;tT.transition={};try{t(!1),e()}finally{yr=n,tT.transition=r}}function Z7(){return ic().memoizedState}function qle(t,e,n){var r=Vh(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},J7(t))eW(e,n);else if(n=D7(t,e,n,r),n!==null){var s=Ko();nu(n,t,r,s),tW(n,e,r)}}function Xle(t,e,n){var r=Vh(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(J7(t))eW(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ou(a,o)){var l=e.interleaved;l===null?(s.next=s,lD(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=D7(t,e,s,r),n!==null&&(s=Ko(),nu(n,t,r,s),tW(n,e,r))}}function J7(t){var e=t.alternate;return t===ds||e!==null&&e===ds}function eW(t,e){rv=PB=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tW(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,KL(t,n)}}var RB={readContext:sc,useCallback:co,useContext:co,useEffect:co,useImperativeHandle:co,useInsertionEffect:co,useLayoutEffect:co,useMemo:co,useReducer:co,useRef:co,useState:co,useDebugValue:co,useDeferredValue:co,useTransition:co,useMutableSource:co,useSyncExternalStore:co,useId:co,unstable_isNewReconciler:!1},Yle={readContext:sc,useCallback:function(t,e){return Mu().memoizedState=[t,e===void 0?null:e],t},useContext:sc,useEffect:oM,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,QS(4194308,4,G7.bind(null,e,t),n)},useLayoutEffect:function(t,e){return QS(4194308,4,t,e)},useInsertionEffect:function(t,e){return QS(4,2,t,e)},useMemo:function(t,e){var n=Mu();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mu();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qle.bind(null,ds,t),[r.memoizedState,t]},useRef:function(t){var e=Mu();return t={current:t},e.memoizedState=t},useState:iM,useDebugValue:gD,useDeferredValue:function(t){return Mu().memoizedState=t},useTransition:function(){var t=iM(!1),e=t[0];return t=Kle.bind(null,t[1]),Mu().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ds,s=Mu();if(Jr){if(n===void 0)throw Error(nt(407));n=n()}else{if(n=e(),Ei===null)throw Error(nt(349));im&30||U7(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,oM(Q7.bind(null,r,i,t),[t]),r.flags|=2048,Mv(9,M7.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Mu(),e=Ei.identifierPrefix;if(Jr){var n=ad,r=od;n=(r&~(1<<32-tu(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$v++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Gle++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Zle={readContext:sc,useCallback:q7,useContext:sc,useEffect:mD,useImperativeHandle:K7,useInsertionEffect:V7,useLayoutEffect:W7,useMemo:X7,useReducer:nT,useRef:z7,useState:function(){return nT(Uv)},useDebugValue:gD,useDeferredValue:function(t){var e=ic();return Y7(e,Ai.memoizedState,t)},useTransition:function(){var t=nT(Uv)[0],e=ic().memoizedState;return[t,e]},useMutableSource:O7,useSyncExternalStore:$7,useId:Z7,unstable_isNewReconciler:!1},Jle={readContext:sc,useCallback:q7,useContext:sc,useEffect:mD,useImperativeHandle:K7,useInsertionEffect:V7,useLayoutEffect:W7,useMemo:X7,useReducer:rT,useRef:z7,useState:function(){return rT(Uv)},useDebugValue:gD,useDeferredValue:function(t){var e=ic();return Ai===null?e.memoizedState=t:Y7(e,Ai.memoizedState,t)},useTransition:function(){var t=rT(Uv)[0],e=ic().memoizedState;return[t,e]},useMutableSource:O7,useSyncExternalStore:$7,useId:Z7,unstable_isNewReconciler:!1};function Hc(t,e){if(t&&t.defaultProps){e=hs({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function RF(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:hs({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var AN={isMounted:function(t){return(t=t._reactInternals)?Lm(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ko(),s=Vh(t),i=ld(r,s);i.payload=e,n!=null&&(i.callback=n),e=Hh(t,i,s),e!==null&&(nu(e,t,s,r),US(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ko(),s=Vh(t),i=ld(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Hh(t,i,s),e!==null&&(nu(e,t,s,r),US(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ko(),r=Vh(t),s=ld(n,r);s.tag=2,e!=null&&(s.callback=e),e=Hh(t,s,r),e!==null&&(nu(e,t,r,n),US(e,t,r))}};function aM(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Fv(n,r)||!Fv(s,i):!0}function nW(t,e,n){var r=!1,s=sf,i=e.contextType;return typeof i=="object"&&i!==null?i=sc(i):(s=Ta(e)?rm:Bo.current,r=e.contextTypes,i=(r=r!=null)?O0(t,s):sf),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=AN,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function lM(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&AN.enqueueReplaceState(e,e.state,null)}function OF(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},cD(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=sc(i):(i=Ta(e)?rm:Bo.current,s.context=O0(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(RF(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&AN.enqueueReplaceState(s,s.state,null),LB(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Q0(t,e){try{var n="",r=e;do n+=Nae(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function sT(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $F(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ece=typeof WeakMap=="function"?WeakMap:Map;function rW(t,e,n){n=ld(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$B||($B=!0,KF=r),$F(t,e)},n}function sW(t,e,n){n=ld(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){$F(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){$F(t,e),typeof r!="function"&&(zh===null?zh=new Set([this]):zh.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cM(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ece;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=fce.bind(null,t,e,n),e.then(t,t))}function uM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function AM(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ld(-1,1),e.tag=2,Hh(n,e,1))),n.lanes|=1),t)}var tce=Bd.ReactCurrentOwner,Na=!1;function Mo(t,e,n,r){e.child=t===null?L7(e,null,n,r):U0(e,t.child,n,r)}function dM(t,e,n,r,s){n=n.render;var i=e.ref;return u0(e,s),r=fD(t,e,n,r,i,s),n=pD(),t!==null&&!Na?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fd(t,e,s)):(Jr&&n&&nD(e),e.flags|=1,Mo(t,e,r,s),e.child)}function hM(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!BD(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,iW(t,e,i,r,s)):(t=VS(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fv,n(o,r)&&t.ref===e.ref)return fd(t,e,s)}return e.flags|=1,t=Wh(i,r),t.ref=e.ref,t.return=e,e.child=t}function iW(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Fv(i,r)&&t.ref===e.ref)if(Na=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Na=!0);else return e.lanes=t.lanes,fd(t,e,s)}return UF(t,e,n,r,s)}function oW(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pr(Yg,tl),tl|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pr(Yg,tl),tl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Pr(Yg,tl),tl|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Pr(Yg,tl),tl|=r;return Mo(t,e,s,n),e.child}function aW(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function UF(t,e,n,r,s){var i=Ta(n)?rm:Bo.current;return i=O0(e,i),u0(e,s),n=fD(t,e,n,r,i,s),r=pD(),t!==null&&!Na?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fd(t,e,s)):(Jr&&r&&nD(e),e.flags|=1,Mo(t,e,n,s),e.child)}function fM(t,e,n,r,s){if(Ta(n)){var i=!0;IB(e)}else i=!1;if(u0(e,s),e.stateNode===null)jS(t,e),nW(e,n,r),OF(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=sc(c):(c=Ta(n)?rm:Bo.current,c=O0(e,c));var u=n.getDerivedStateFromProps,A=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";A||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&lM(e,o,r,c),ph=!1;var d=e.memoizedState;o.state=d,LB(e,r,o,s),l=e.memoizedState,a!==r||d!==l||ka.current||ph?(typeof u=="function"&&(RF(e,n,u,r),l=e.memoizedState),(a=ph||aM(e,n,a,r,d,l,c))?(A||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,P7(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Hc(e.type,a),o.props=c,A=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=sc(l):(l=Ta(n)?rm:Bo.current,l=O0(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==A||d!==l)&&lM(e,o,r,l),ph=!1,d=e.memoizedState,o.state=d,LB(e,r,o,s);var p=e.memoizedState;a!==A||d!==p||ka.current||ph?(typeof h=="function"&&(RF(e,n,h,r),p=e.memoizedState),(c=ph||aM(e,n,c,r,d,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return MF(t,e,n,r,i,s)}function MF(t,e,n,r,s,i){aW(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&JU(e,n,!1),fd(t,e,i);r=e.stateNode,tce.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=U0(e,t.child,null,i),e.child=U0(e,null,a,i)):Mo(t,e,a,i),e.memoizedState=r.state,s&&JU(e,n,!0),e.child}function lW(t){var e=t.stateNode;e.pendingContext?ZU(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ZU(t,e.context,!1),uD(t,e.containerInfo)}function pM(t,e,n,r,s){return $0(),sD(s),e.flags|=256,Mo(t,e,n,r),e.child}var QF={dehydrated:null,treeContext:null,retryLane:0};function jF(t){return{baseLanes:t,cachePool:null,transitions:null}}function cW(t,e,n){var r=e.pendingProps,s=cs.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Pr(cs,s&1),t===null)return DF(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=fN(o,r,0,null),t=Gp(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=jF(n),e.memoizedState=QF,t):yD(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return nce(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wh(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Wh(a,i):(i=Gp(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?jF(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=QF,r}return i=t.child,t=i.sibling,r=Wh(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yD(t,e){return e=fN({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function CC(t,e,n,r){return r!==null&&sD(r),U0(e,t.child,null,n),t=yD(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nce(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=sT(Error(nt(422))),CC(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=fN({mode:"visible",children:r.children},s,0,null),i=Gp(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&U0(e,t.child,null,o),e.child.memoizedState=jF(o),e.memoizedState=QF,i);if(!(e.mode&1))return CC(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(nt(419)),r=sT(i,r,void 0),CC(t,e,o,r)}if(a=(o&t.childLanes)!==0,Na||a){if(r=Ei,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,hd(t,s),nu(r,t,s,-1))}return SD(),r=sT(Error(nt(421))),CC(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=pce.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ol=jh(s.nextSibling),Al=e,Jr=!0,qc=null,t!==null&&(jl[Hl++]=od,jl[Hl++]=ad,jl[Hl++]=sm,od=t.id,ad=t.overflow,sm=e),e=yD(e,r.children),e.flags|=4096,e)}function mM(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),PF(t.return,e,n)}function iT(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function uW(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Mo(t,e,r.children,n),r=cs.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mM(t,n,e);else if(t.tag===19)mM(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pr(cs,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&DB(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),iT(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&DB(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}iT(e,!0,n,null,i);break;case"together":iT(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jS(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fd(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),om|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(nt(153));if(e.child!==null){for(t=e.child,n=Wh(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wh(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rce(t,e,n){switch(e.tag){case 3:lW(e),$0();break;case 5:R7(e);break;case 1:Ta(e.type)&&IB(e);break;case 4:uD(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Pr(TB,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pr(cs,cs.current&1),e.flags|=128,null):n&e.child.childLanes?cW(t,e,n):(Pr(cs,cs.current&1),t=fd(t,e,n),t!==null?t.sibling:null);Pr(cs,cs.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uW(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pr(cs,cs.current),r)break;return null;case 22:case 23:return e.lanes=0,oW(t,e,n)}return fd(t,e,n)}var AW,HF,dW,hW;AW=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};HF=function(){};dW=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ep(rA.current);var i=null;switch(n){case"input":s=AF(t,s),r=AF(t,r),i=[];break;case"select":s=hs({},s,{value:void 0}),r=hs({},r,{value:void 0}),i=[];break;case"textarea":s=fF(t,s),r=fF(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_B)}mF(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bv.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Hr("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};hW=function(t,e,n,r){n!==r&&(e.flags|=4)};function lw(t,e){if(!Jr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function uo(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sce(t,e,n){var r=e.pendingProps;switch(rD(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return uo(e),null;case 1:return Ta(e.type)&&NB(),uo(e),null;case 3:return r=e.stateNode,M0(),Vr(ka),Vr(Bo),dD(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xC(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qc!==null&&(YF(qc),qc=null))),HF(t,e),uo(e),null;case 5:AD(e);var s=Ep(Ov.current);if(n=e.type,t!==null&&e.stateNode!=null)dW(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(nt(166));return uo(e),null}if(t=Ep(rA.current),xC(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[qu]=e,r[Pv]=i,t=(e.mode&1)!==0,n){case"dialog":Hr("cancel",r),Hr("close",r);break;case"iframe":case"object":case"embed":Hr("load",r);break;case"video":case"audio":for(s=0;s<Tw.length;s++)Hr(Tw[s],r);break;case"source":Hr("error",r);break;case"img":case"image":case"link":Hr("error",r),Hr("load",r);break;case"details":Hr("toggle",r);break;case"input":BU(r,i),Hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Hr("invalid",r);break;case"textarea":NU(r,i),Hr("invalid",r)}mF(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&vC(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&vC(r.textContent,a,t),s=["children",""+a]):Bv.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Hr("scroll",r)}switch(n){case"input":dC(r),_U(r,i,!0);break;case"textarea":dC(r),IU(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=_B)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=QV(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qu]=e,t[Pv]=r,AW(t,e,!1,!1),e.stateNode=t;e:{switch(o=gF(n,r),n){case"dialog":Hr("cancel",t),Hr("close",t),s=r;break;case"iframe":case"object":case"embed":Hr("load",t),s=r;break;case"video":case"audio":for(s=0;s<Tw.length;s++)Hr(Tw[s],t);s=r;break;case"source":Hr("error",t),s=r;break;case"img":case"image":case"link":Hr("error",t),Hr("load",t),s=r;break;case"details":Hr("toggle",t),s=r;break;case"input":BU(t,r),s=AF(t,r),Hr("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=hs({},r,{value:void 0}),Hr("invalid",t);break;case"textarea":NU(t,r),s=fF(t,r),Hr("invalid",t);break;default:s=r}mF(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?zV(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jV(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_v(t,l):typeof l=="number"&&_v(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bv.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Hr("scroll",t):l!=null&&jL(t,i,l,o))}switch(n){case"input":dC(t),_U(t,r,!1);break;case"textarea":dC(t),IU(t);break;case"option":r.value!=null&&t.setAttribute("value",""+rf(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?o0(t,!!r.multiple,i,!1):r.defaultValue!=null&&o0(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=_B)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return uo(e),null;case 6:if(t&&e.stateNode!=null)hW(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(nt(166));if(n=Ep(Ov.current),Ep(rA.current),xC(e)){if(r=e.stateNode,n=e.memoizedProps,r[qu]=e,(i=r.nodeValue!==n)&&(t=Al,t!==null))switch(t.tag){case 3:vC(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vC(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qu]=e,e.stateNode=r}return uo(e),null;case 13:if(Vr(cs),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Jr&&ol!==null&&e.mode&1&&!(e.flags&128))T7(),$0(),e.flags|=98560,i=!1;else if(i=xC(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(nt(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(nt(317));i[qu]=e}else $0(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;uo(e),i=!1}else qc!==null&&(YF(qc),qc=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||cs.current&1?pi===0&&(pi=3):SD())),e.updateQueue!==null&&(e.flags|=4),uo(e),null);case 4:return M0(),HF(t,e),t===null&&Lv(e.stateNode.containerInfo),uo(e),null;case 10:return aD(e.type._context),uo(e),null;case 17:return Ta(e.type)&&NB(),uo(e),null;case 19:if(Vr(cs),i=e.memoizedState,i===null)return uo(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)lw(i,!1);else{if(pi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=DB(t),o!==null){for(e.flags|=128,lw(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pr(cs,cs.current&1|2),e.child}t=t.sibling}i.tail!==null&&Rs()>j0&&(e.flags|=128,r=!0,lw(i,!1),e.lanes=4194304)}else{if(!r)if(t=DB(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),lw(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Jr)return uo(e),null}else 2*Rs()-i.renderingStartTime>j0&&n!==1073741824&&(e.flags|=128,r=!0,lw(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Rs(),e.sibling=null,n=cs.current,Pr(cs,r?n&1|2:n&1),e):(uo(e),null);case 22:case 23:return CD(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tl&1073741824&&(uo(e),e.subtreeFlags&6&&(e.flags|=8192)):uo(e),null;case 24:return null;case 25:return null}throw Error(nt(156,e.tag))}function ice(t,e){switch(rD(e),e.tag){case 1:return Ta(e.type)&&NB(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return M0(),Vr(ka),Vr(Bo),dD(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return AD(e),null;case 13:if(Vr(cs),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(nt(340));$0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Vr(cs),null;case 4:return M0(),null;case 10:return aD(e.type._context),null;case 22:case 23:return CD(),null;case 24:return null;default:return null}}var SC=!1,xo=!1,oce=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function Xg(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bs(t,e,r)}else n.current=null}function zF(t,e,n){try{n()}catch(r){bs(t,e,r)}}var gM=!1;function ace(t,e){if(NF=CB,t=y7(),tD(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,A=t,d=null;t:for(;;){for(var h;A!==n||s!==0&&A.nodeType!==3||(a=o+s),A!==i||r!==0&&A.nodeType!==3||(l=o+r),A.nodeType===3&&(o+=A.nodeValue.length),(h=A.firstChild)!==null;)d=A,A=h;for(;;){if(A===t)break t;if(d===n&&++c===s&&(a=o),d===i&&++u===r&&(l=o),(h=A.nextSibling)!==null)break;A=d,d=A.parentNode}A=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(IF={focusedElem:t,selectionRange:n},CB=!1,Nt=e;Nt!==null;)if(e=Nt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Nt=t;else for(;Nt!==null;){e=Nt;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Hc(e.type,m),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(nt(163))}}catch(C){bs(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Nt=t;break}Nt=e.return}return p=gM,gM=!1,p}function sv(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&zF(e,n,i)}s=s.next}while(s!==r)}}function dN(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function VF(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fW(t){var e=t.alternate;e!==null&&(t.alternate=null,fW(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qu],delete e[Pv],delete e[TF],delete e[Hle],delete e[zle])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pW(t){return t.tag===5||t.tag===3||t.tag===4}function yM(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pW(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function WF(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_B));else if(r!==4&&(t=t.child,t!==null))for(WF(t,e,n),t=t.sibling;t!==null;)WF(t,e,n),t=t.sibling}function GF(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(GF(t,e,n),t=t.sibling;t!==null;)GF(t,e,n),t=t.sibling}var Hi=null,Kc=!1;function rh(t,e,n){for(n=n.child;n!==null;)mW(t,e,n),n=n.sibling}function mW(t,e,n){if(nA&&typeof nA.onCommitFiberUnmount=="function")try{nA.onCommitFiberUnmount(sN,n)}catch{}switch(n.tag){case 5:xo||Xg(n,e);case 6:var r=Hi,s=Kc;Hi=null,rh(t,e,n),Hi=r,Kc=s,Hi!==null&&(Kc?(t=Hi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Hi.removeChild(n.stateNode));break;case 18:Hi!==null&&(Kc?(t=Hi,n=n.stateNode,t.nodeType===8?Zk(t.parentNode,n):t.nodeType===1&&Zk(t,n),kv(t)):Zk(Hi,n.stateNode));break;case 4:r=Hi,s=Kc,Hi=n.stateNode.containerInfo,Kc=!0,rh(t,e,n),Hi=r,Kc=s;break;case 0:case 11:case 14:case 15:if(!xo&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&zF(n,e,o),s=s.next}while(s!==r)}rh(t,e,n);break;case 1:if(!xo&&(Xg(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){bs(n,e,a)}rh(t,e,n);break;case 21:rh(t,e,n);break;case 22:n.mode&1?(xo=(r=xo)||n.memoizedState!==null,rh(t,e,n),xo=r):rh(t,e,n);break;default:rh(t,e,n)}}function wM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oce),e.forEach(function(r){var s=mce.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Dc(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Hi=a.stateNode,Kc=!1;break e;case 3:Hi=a.stateNode.containerInfo,Kc=!0;break e;case 4:Hi=a.stateNode.containerInfo,Kc=!0;break e}a=a.return}if(Hi===null)throw Error(nt(160));mW(i,o,s),Hi=null,Kc=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){bs(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gW(e,t),e=e.sibling}function gW(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dc(e,t),Ru(t),r&4){try{sv(3,t,t.return),dN(3,t)}catch(m){bs(t,t.return,m)}try{sv(5,t,t.return)}catch(m){bs(t,t.return,m)}}break;case 1:Dc(e,t),Ru(t),r&512&&n!==null&&Xg(n,n.return);break;case 5:if(Dc(e,t),Ru(t),r&512&&n!==null&&Xg(n,n.return),t.flags&32){var s=t.stateNode;try{_v(s,"")}catch(m){bs(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&UV(s,i),gF(a,o);var c=gF(a,i);for(o=0;o<l.length;o+=2){var u=l[o],A=l[o+1];u==="style"?zV(s,A):u==="dangerouslySetInnerHTML"?jV(s,A):u==="children"?_v(s,A):jL(s,u,A,c)}switch(a){case"input":dF(s,i);break;case"textarea":MV(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?o0(s,!!i.multiple,h,!1):d!==!!i.multiple&&(i.defaultValue!=null?o0(s,!!i.multiple,i.defaultValue,!0):o0(s,!!i.multiple,i.multiple?[]:"",!1))}s[Pv]=i}catch(m){bs(t,t.return,m)}}break;case 6:if(Dc(e,t),Ru(t),r&4){if(t.stateNode===null)throw Error(nt(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){bs(t,t.return,m)}}break;case 3:if(Dc(e,t),Ru(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kv(e.containerInfo)}catch(m){bs(t,t.return,m)}break;case 4:Dc(e,t),Ru(t);break;case 13:Dc(e,t),Ru(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xD=Rs())),r&4&&wM(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(xo=(c=xo)||u,Dc(e,t),xo=c):Dc(e,t),Ru(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Nt=t,u=t.child;u!==null;){for(A=Nt=u;Nt!==null;){switch(d=Nt,h=d.child,d.tag){case 0:case 11:case 14:case 15:sv(4,d,d.return);break;case 1:Xg(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){bs(r,n,m)}}break;case 5:Xg(d,d.return);break;case 22:if(d.memoizedState!==null){xM(A);continue}}h!==null?(h.return=d,Nt=h):xM(A)}u=u.sibling}e:for(u=null,A=t;;){if(A.tag===5){if(u===null){u=A;try{s=A.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=A.stateNode,l=A.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=HV("display",o))}catch(m){bs(t,t.return,m)}}}else if(A.tag===6){if(u===null)try{A.stateNode.nodeValue=c?"":A.memoizedProps}catch(m){bs(t,t.return,m)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===t)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===t)break e;for(;A.sibling===null;){if(A.return===null||A.return===t)break e;u===A&&(u=null),A=A.return}u===A&&(u=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Dc(e,t),Ru(t),r&4&&wM(t);break;case 21:break;default:Dc(e,t),Ru(t)}}function Ru(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pW(n)){var r=n;break e}n=n.return}throw Error(nt(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(_v(s,""),r.flags&=-33);var i=yM(t);GF(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=yM(t);WF(t,a,o);break;default:throw Error(nt(161))}}catch(l){bs(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lce(t,e,n){Nt=t,yW(t)}function yW(t,e,n){for(var r=(t.mode&1)!==0;Nt!==null;){var s=Nt,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||SC;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||xo;a=SC;var c=xo;if(SC=o,(xo=l)&&!c)for(Nt=s;Nt!==null;)o=Nt,l=o.child,o.tag===22&&o.memoizedState!==null?bM(s):l!==null?(l.return=o,Nt=l):bM(s);for(;i!==null;)Nt=i,yW(i),i=i.sibling;Nt=s,SC=a,xo=c}vM(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Nt=i):vM(t)}}function vM(t){for(;Nt!==null;){var e=Nt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xo||dN(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xo)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Hc(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&sM(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sM(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var A=u.dehydrated;A!==null&&kv(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(nt(163))}xo||e.flags&512&&VF(e)}catch(d){bs(e,e.return,d)}}if(e===t){Nt=null;break}if(n=e.sibling,n!==null){n.return=e.return,Nt=n;break}Nt=e.return}}function xM(t){for(;Nt!==null;){var e=Nt;if(e===t){Nt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Nt=n;break}Nt=e.return}}function bM(t){for(;Nt!==null;){var e=Nt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dN(4,e)}catch(l){bs(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){bs(e,s,l)}}var i=e.return;try{VF(e)}catch(l){bs(e,i,l)}break;case 5:var o=e.return;try{VF(e)}catch(l){bs(e,o,l)}}}catch(l){bs(e,e.return,l)}if(e===t){Nt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Nt=a;break}Nt=e.return}}var cce=Math.ceil,OB=Bd.ReactCurrentDispatcher,wD=Bd.ReactCurrentOwner,tc=Bd.ReactCurrentBatchConfig,Xn=0,Ei=null,qs=null,Xi=0,tl=0,Yg=Sf(0),pi=0,Qv=null,om=0,hN=0,vD=0,iv=null,Ba=null,xD=0,j0=1/0,XA=null,$B=!1,KF=null,zh=null,BC=!1,Ih=null,UB=0,ov=0,qF=null,HS=-1,zS=0;function Ko(){return Xn&6?Rs():HS!==-1?HS:HS=Rs()}function Vh(t){return t.mode&1?Xn&2&&Xi!==0?Xi&-Xi:Wle.transition!==null?(zS===0&&(zS=n7()),zS):(t=yr,t!==0||(t=window.event,t=t===void 0?16:c7(t.type)),t):1}function nu(t,e,n,r){if(50<ov)throw ov=0,qF=null,Error(nt(185));Px(t,n,r),(!(Xn&2)||t!==Ei)&&(t===Ei&&(!(Xn&2)&&(hN|=n),pi===4&&wh(t,Xi)),Fa(t,r),n===1&&Xn===0&&!(e.mode&1)&&(j0=Rs()+500,cN&&Bf()))}function Fa(t,e){var n=t.callbackNode;Wae(t,e);var r=bB(t,t===Ei?Xi:0);if(r===0)n!==null&&TU(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&TU(n),e===1)t.tag===0?Vle(CM.bind(null,t)):I7(CM.bind(null,t)),Qle(function(){!(Xn&6)&&Bf()}),n=null;else{switch(r7(r)){case 1:n=GL;break;case 4:n=e7;break;case 16:n=xB;break;case 536870912:n=t7;break;default:n=xB}n=_W(n,wW.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wW(t,e){if(HS=-1,zS=0,Xn&6)throw Error(nt(327));var n=t.callbackNode;if(A0()&&t.callbackNode!==n)return null;var r=bB(t,t===Ei?Xi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=MB(t,r);else{e=r;var s=Xn;Xn|=2;var i=xW();(Ei!==t||Xi!==e)&&(XA=null,j0=Rs()+500,Wp(t,e));do try{dce();break}catch(a){vW(t,a)}while(!0);oD(),OB.current=i,Xn=s,qs!==null?e=0:(Ei=null,Xi=0,e=pi)}if(e!==0){if(e===2&&(s=bF(t),s!==0&&(r=s,e=XF(t,s))),e===1)throw n=Qv,Wp(t,0),wh(t,r),Fa(t,Rs()),n;if(e===6)wh(t,r);else{if(s=t.current.alternate,!(r&30)&&!uce(s)&&(e=MB(t,r),e===2&&(i=bF(t),i!==0&&(r=i,e=XF(t,i))),e===1))throw n=Qv,Wp(t,0),wh(t,r),Fa(t,Rs()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(nt(345));case 2:fp(t,Ba,XA);break;case 3:if(wh(t,r),(r&130023424)===r&&(e=xD+500-Rs(),10<e)){if(bB(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ko(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=kF(fp.bind(null,t,Ba,XA),e);break}fp(t,Ba,XA);break;case 4:if(wh(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-tu(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Rs()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cce(r/1960))-r,10<r){t.timeoutHandle=kF(fp.bind(null,t,Ba,XA),r);break}fp(t,Ba,XA);break;case 5:fp(t,Ba,XA);break;default:throw Error(nt(329))}}}return Fa(t,Rs()),t.callbackNode===n?wW.bind(null,t):null}function XF(t,e){var n=iv;return t.current.memoizedState.isDehydrated&&(Wp(t,e).flags|=256),t=MB(t,e),t!==2&&(e=Ba,Ba=n,e!==null&&YF(e)),t}function YF(t){Ba===null?Ba=t:Ba.push.apply(Ba,t)}function uce(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ou(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wh(t,e){for(e&=~vD,e&=~hN,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tu(e),r=1<<n;t[n]=-1,e&=~r}}function CM(t){if(Xn&6)throw Error(nt(327));A0();var e=bB(t,0);if(!(e&1))return Fa(t,Rs()),null;var n=MB(t,e);if(t.tag!==0&&n===2){var r=bF(t);r!==0&&(e=r,n=XF(t,r))}if(n===1)throw n=Qv,Wp(t,0),wh(t,e),Fa(t,Rs()),n;if(n===6)throw Error(nt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fp(t,Ba,XA),Fa(t,Rs()),null}function bD(t,e){var n=Xn;Xn|=1;try{return t(e)}finally{Xn=n,Xn===0&&(j0=Rs()+500,cN&&Bf())}}function am(t){Ih!==null&&Ih.tag===0&&!(Xn&6)&&A0();var e=Xn;Xn|=1;var n=tc.transition,r=yr;try{if(tc.transition=null,yr=1,t)return t()}finally{yr=r,tc.transition=n,Xn=e,!(Xn&6)&&Bf()}}function CD(){tl=Yg.current,Vr(Yg)}function Wp(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Mle(n)),qs!==null)for(n=qs.return;n!==null;){var r=n;switch(rD(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&NB();break;case 3:M0(),Vr(ka),Vr(Bo),dD();break;case 5:AD(r);break;case 4:M0();break;case 13:Vr(cs);break;case 19:Vr(cs);break;case 10:aD(r.type._context);break;case 22:case 23:CD()}n=n.return}if(Ei=t,qs=t=Wh(t.current,null),Xi=tl=e,pi=0,Qv=null,vD=hN=om=0,Ba=iv=null,Ip!==null){for(e=0;e<Ip.length;e++)if(n=Ip[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ip=null}return t}function vW(t,e){do{var n=qs;try{if(oD(),MS.current=RB,PB){for(var r=ds.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}PB=!1}if(im=0,Si=Ai=ds=null,rv=!1,$v=0,wD.current=null,n===null||n.return===null){pi=1,Qv=e,qs=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Xi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,A=u.tag;if(!(u.mode&1)&&(A===0||A===11||A===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=uM(o);if(h!==null){h.flags&=-257,AM(h,o,a,i,e),h.mode&1&&cM(i,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){cM(i,c,e),SD();break e}l=Error(nt(426))}}else if(Jr&&a.mode&1){var y=uM(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),AM(y,o,a,i,e),sD(Q0(l,a));break e}}i=l=Q0(l,a),pi!==4&&(pi=2),iv===null?iv=[i]:iv.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=rW(i,l,e);rM(i,g);break e;case 1:a=l;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(zh===null||!zh.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=sW(i,a,e);rM(i,C);break e}}i=i.return}while(i!==null)}CW(n)}catch(_){e=_,qs===n&&n!==null&&(qs=n=n.return);continue}break}while(!0)}function xW(){var t=OB.current;return OB.current=RB,t===null?RB:t}function SD(){(pi===0||pi===3||pi===2)&&(pi=4),Ei===null||!(om&268435455)&&!(hN&268435455)||wh(Ei,Xi)}function MB(t,e){var n=Xn;Xn|=2;var r=xW();(Ei!==t||Xi!==e)&&(XA=null,Wp(t,e));do try{Ace();break}catch(s){vW(t,s)}while(!0);if(oD(),Xn=n,OB.current=r,qs!==null)throw Error(nt(261));return Ei=null,Xi=0,pi}function Ace(){for(;qs!==null;)bW(qs)}function dce(){for(;qs!==null&&!Oae();)bW(qs)}function bW(t){var e=BW(t.alternate,t,tl);t.memoizedProps=t.pendingProps,e===null?CW(t):qs=e,wD.current=null}function CW(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ice(n,e),n!==null){n.flags&=32767,qs=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pi=6,qs=null;return}}else if(n=sce(n,e,tl),n!==null){qs=n;return}if(e=e.sibling,e!==null){qs=e;return}qs=e=t}while(e!==null);pi===0&&(pi=5)}function fp(t,e,n){var r=yr,s=tc.transition;try{tc.transition=null,yr=1,hce(t,e,n,r)}finally{tc.transition=s,yr=r}return null}function hce(t,e,n,r){do A0();while(Ih!==null);if(Xn&6)throw Error(nt(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(nt(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Gae(t,i),t===Ei&&(qs=Ei=null,Xi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||BC||(BC=!0,_W(xB,function(){return A0(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tc.transition,tc.transition=null;var o=yr;yr=1;var a=Xn;Xn|=4,wD.current=null,ace(t,n),gW(n,t),Lle(IF),CB=!!NF,IF=NF=null,t.current=n,lce(n),$ae(),Xn=a,yr=o,tc.transition=i}else t.current=n;if(BC&&(BC=!1,Ih=t,UB=s),i=t.pendingLanes,i===0&&(zh=null),Qae(n.stateNode),Fa(t,Rs()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if($B)throw $B=!1,t=KF,KF=null,t;return UB&1&&t.tag!==0&&A0(),i=t.pendingLanes,i&1?t===qF?ov++:(ov=0,qF=t):ov=0,Bf(),null}function A0(){if(Ih!==null){var t=r7(UB),e=tc.transition,n=yr;try{if(tc.transition=null,yr=16>t?16:t,Ih===null)var r=!1;else{if(t=Ih,Ih=null,UB=0,Xn&6)throw Error(nt(331));var s=Xn;for(Xn|=4,Nt=t.current;Nt!==null;){var i=Nt,o=i.child;if(Nt.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Nt=c;Nt!==null;){var u=Nt;switch(u.tag){case 0:case 11:case 15:sv(8,u,i)}var A=u.child;if(A!==null)A.return=u,Nt=A;else for(;Nt!==null;){u=Nt;var d=u.sibling,h=u.return;if(fW(u),u===c){Nt=null;break}if(d!==null){d.return=h,Nt=d;break}Nt=h}}}var p=i.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Nt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Nt=o;else e:for(;Nt!==null;){if(i=Nt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:sv(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Nt=g;break e}Nt=i.return}}var v=t.current;for(Nt=v;Nt!==null;){o=Nt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Nt=b;else e:for(o=v;Nt!==null;){if(a=Nt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dN(9,a)}}catch(_){bs(a,a.return,_)}if(a===o){Nt=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Nt=C;break e}Nt=a.return}}if(Xn=s,Bf(),nA&&typeof nA.onPostCommitFiberRoot=="function")try{nA.onPostCommitFiberRoot(sN,t)}catch{}r=!0}return r}finally{yr=n,tc.transition=e}}return!1}function SM(t,e,n){e=Q0(n,e),e=rW(t,e,1),t=Hh(t,e,1),e=Ko(),t!==null&&(Px(t,1,e),Fa(t,e))}function bs(t,e,n){if(t.tag===3)SM(t,t,n);else for(;e!==null;){if(e.tag===3){SM(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zh===null||!zh.has(r))){t=Q0(n,t),t=sW(e,t,1),e=Hh(e,t,1),t=Ko(),e!==null&&(Px(e,1,t),Fa(e,t));break}}e=e.return}}function fce(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ko(),t.pingedLanes|=t.suspendedLanes&n,Ei===t&&(Xi&n)===n&&(pi===4||pi===3&&(Xi&130023424)===Xi&&500>Rs()-xD?Wp(t,0):vD|=n),Fa(t,e)}function SW(t,e){e===0&&(t.mode&1?(e=pC,pC<<=1,!(pC&130023424)&&(pC=4194304)):e=1);var n=Ko();t=hd(t,e),t!==null&&(Px(t,e,n),Fa(t,n))}function pce(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SW(t,n)}function mce(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(nt(314))}r!==null&&r.delete(e),SW(t,n)}var BW;BW=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ka.current)Na=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Na=!1,rce(t,e,n);Na=!!(t.flags&131072)}else Na=!1,Jr&&e.flags&1048576&&E7(e,kB,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jS(t,e),t=e.pendingProps;var s=O0(e,Bo.current);u0(e,n),s=fD(null,e,r,t,s,n);var i=pD();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ta(r)?(i=!0,IB(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cD(e),s.updater=AN,e.stateNode=s,s._reactInternals=e,OF(e,r,t,n),e=MF(null,e,r,!0,i,n)):(e.tag=0,Jr&&i&&nD(e),Mo(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jS(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=yce(r),t=Hc(r,t),s){case 0:e=UF(null,e,r,t,n);break e;case 1:e=fM(null,e,r,t,n);break e;case 11:e=dM(null,e,r,t,n);break e;case 14:e=hM(null,e,r,Hc(r.type,t),n);break e}throw Error(nt(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hc(r,s),UF(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hc(r,s),fM(t,e,r,s,n);case 3:e:{if(lW(e),t===null)throw Error(nt(387));r=e.pendingProps,i=e.memoizedState,s=i.element,P7(t,e),LB(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Q0(Error(nt(423)),e),e=pM(t,e,r,n,s);break e}else if(r!==s){s=Q0(Error(nt(424)),e),e=pM(t,e,r,n,s);break e}else for(ol=jh(e.stateNode.containerInfo.firstChild),Al=e,Jr=!0,qc=null,n=L7(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($0(),r===s){e=fd(t,e,n);break e}Mo(t,e,r,n)}e=e.child}return e;case 5:return R7(e),t===null&&DF(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,EF(r,s)?o=null:i!==null&&EF(r,i)&&(e.flags|=32),aW(t,e),Mo(t,e,o,n),e.child;case 6:return t===null&&DF(e),null;case 13:return cW(t,e,n);case 4:return uD(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=U0(e,null,r,n):Mo(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hc(r,s),dM(t,e,r,s,n);case 7:return Mo(t,e,e.pendingProps,n),e.child;case 8:return Mo(t,e,e.pendingProps.children,n),e.child;case 12:return Mo(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Pr(TB,r._currentValue),r._currentValue=o,i!==null)if(ou(i.value,o)){if(i.children===s.children&&!ka.current){e=fd(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ld(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),PF(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(nt(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),PF(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Mo(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,u0(e,n),s=sc(s),r=r(s),e.flags|=1,Mo(t,e,r,n),e.child;case 14:return r=e.type,s=Hc(r,e.pendingProps),s=Hc(r.type,s),hM(t,e,r,s,n);case 15:return iW(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hc(r,s),jS(t,e),e.tag=1,Ta(r)?(t=!0,IB(e)):t=!1,u0(e,n),nW(e,r,s),OF(e,r,s,n),MF(null,e,r,!0,t,n);case 19:return uW(t,e,n);case 22:return oW(t,e,n)}throw Error(nt(156,e.tag))};function _W(t,e){return JV(t,e)}function gce(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wl(t,e,n,r){return new gce(t,e,n,r)}function BD(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yce(t){if(typeof t=="function")return BD(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zL)return 11;if(t===VL)return 14}return 2}function Wh(t,e){var n=t.alternate;return n===null?(n=Wl(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function VS(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")BD(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qg:return Gp(n.children,s,i,e);case HL:o=8,s|=8;break;case aF:return t=Wl(12,n,e,s|2),t.elementType=aF,t.lanes=i,t;case lF:return t=Wl(13,n,e,s),t.elementType=lF,t.lanes=i,t;case cF:return t=Wl(19,n,e,s),t.elementType=cF,t.lanes=i,t;case RV:return fN(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DV:o=10;break e;case PV:o=9;break e;case zL:o=11;break e;case VL:o=14;break e;case fh:o=16,r=null;break e}throw Error(nt(130,t==null?t:typeof t,""))}return e=Wl(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Gp(t,e,n,r){return t=Wl(7,t,r,e),t.lanes=n,t}function fN(t,e,n,r){return t=Wl(22,t,r,e),t.elementType=RV,t.lanes=n,t.stateNode={isHidden:!1},t}function oT(t,e,n){return t=Wl(6,t,null,e),t.lanes=n,t}function aT(t,e,n){return e=Wl(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wce(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qk(0),this.expirationTimes=Qk(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qk(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _D(t,e,n,r,s,i,o,a,l){return t=new wce(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Wl(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cD(i),t}function vce(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mg,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function NW(t){if(!t)return sf;t=t._reactInternals;e:{if(Lm(t)!==t||t.tag!==1)throw Error(nt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ta(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(nt(171))}if(t.tag===1){var n=t.type;if(Ta(n))return N7(t,n,e)}return e}function IW(t,e,n,r,s,i,o,a,l){return t=_D(n,r,!0,t,s,i,o,a,l),t.context=NW(null),n=t.current,r=Ko(),s=Vh(n),i=ld(r,s),i.callback=e??null,Hh(n,i,s),t.current.lanes=s,Px(t,s,r),Fa(t,r),t}function pN(t,e,n,r){var s=e.current,i=Ko(),o=Vh(s);return n=NW(n),e.context===null?e.context=n:e.pendingContext=n,e=ld(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Hh(s,e,o),t!==null&&(nu(t,s,o,i),US(t,s,o)),o}function QB(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function BM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ND(t,e){BM(t,e),(t=t.alternate)&&BM(t,e)}function xce(){return null}var EW=typeof reportError=="function"?reportError:function(t){console.error(t)};function ID(t){this._internalRoot=t}mN.prototype.render=ID.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(nt(409));pN(t,e,null,null)};mN.prototype.unmount=ID.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;am(function(){pN(null,t,null,null)}),e[dd]=null}};function mN(t){this._internalRoot=t}mN.prototype.unstable_scheduleHydration=function(t){if(t){var e=o7();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yh.length&&e!==0&&e<yh[n].priority;n++);yh.splice(n,0,t),n===0&&l7(t)}};function ED(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gN(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _M(){}function bce(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=QB(o);i.call(c)}}var o=IW(e,r,t,0,null,!1,!1,"",_M);return t._reactRootContainer=o,t[dd]=o.current,Lv(t.nodeType===8?t.parentNode:t),am(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=QB(l);a.call(c)}}var l=_D(t,0,!1,null,null,!1,!1,"",_M);return t._reactRootContainer=l,t[dd]=l.current,Lv(t.nodeType===8?t.parentNode:t),am(function(){pN(e,l,n,r)}),l}function yN(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=QB(o);a.call(l)}}pN(e,o,t,s)}else o=bce(n,e,t,s,r);return QB(o)}s7=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kw(e.pendingLanes);n!==0&&(KL(e,n|1),Fa(e,Rs()),!(Xn&6)&&(j0=Rs()+500,Bf()))}break;case 13:am(function(){var r=hd(t,1);if(r!==null){var s=Ko();nu(r,t,1,s)}}),ND(t,1)}};qL=function(t){if(t.tag===13){var e=hd(t,134217728);if(e!==null){var n=Ko();nu(e,t,134217728,n)}ND(t,134217728)}};i7=function(t){if(t.tag===13){var e=Vh(t),n=hd(t,e);if(n!==null){var r=Ko();nu(n,t,e,r)}ND(t,e)}};o7=function(){return yr};a7=function(t,e){var n=yr;try{return yr=t,e()}finally{yr=n}};wF=function(t,e,n){switch(e){case"input":if(dF(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=lN(r);if(!s)throw Error(nt(90));$V(r),dF(r,s)}}}break;case"textarea":MV(t,n);break;case"select":e=n.value,e!=null&&o0(t,!!n.multiple,e,!1)}};GV=bD;KV=am;var Cce={usingClientEntryPoint:!1,Events:[Ox,Vg,lN,VV,WV,bD]},cw={findFiberByHostInstance:Np,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sce={bundleType:cw.bundleType,version:cw.version,rendererPackageName:cw.rendererPackageName,rendererConfig:cw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bd.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YV(t),t===null?null:t.stateNode},findFiberByHostInstance:cw.findFiberByHostInstance||xce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _C=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_C.isDisabled&&_C.supportsFiber)try{sN=_C.inject(Sce),nA=_C}catch{}}yl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cce;yl.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ED(e))throw Error(nt(200));return vce(t,e,null,n)};yl.createRoot=function(t,e){if(!ED(t))throw Error(nt(299));var n=!1,r="",s=EW;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=_D(t,1,!1,null,null,n,!1,r,s),t[dd]=e.current,Lv(t.nodeType===8?t.parentNode:t),new ID(e)};yl.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(nt(188)):(t=Object.keys(t).join(","),Error(nt(268,t)));return t=YV(e),t=t===null?null:t.stateNode,t};yl.flushSync=function(t){return am(t)};yl.hydrate=function(t,e,n){if(!gN(e))throw Error(nt(200));return yN(null,t,e,!0,n)};yl.hydrateRoot=function(t,e,n){if(!ED(t))throw Error(nt(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=EW;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=IW(e,null,t,1,n??null,s,!1,i,o),t[dd]=e.current,Lv(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new mN(e)};yl.render=function(t,e,n){if(!gN(e))throw Error(nt(200));return yN(null,t,e,!1,n)};yl.unmountComponentAtNode=function(t){if(!gN(t))throw Error(nt(40));return t._reactRootContainer?(am(function(){yN(null,null,t,!1,function(){t._reactRootContainer=null,t[dd]=null})}),!0):!1};yl.unstable_batchedUpdates=bD;yl.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gN(n))throw Error(nt(200));if(t==null||t._reactInternals===void 0)throw Error(nt(38));return yN(t,e,n,!1,r)};yl.version="18.3.1-next-f1338f8080-20240426";function kW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kW)}catch(t){console.error(t)}}kW(),kV.exports=yl;var Dm=kV.exports;const TW=Lx(Dm);var FW,NM=Dm;FW=NM.createRoot,NM.hydrateRoot;const Bce=1,_ce=1e6;let lT=0;function Nce(){return lT=(lT+1)%Number.MAX_SAFE_INTEGER,lT.toString()}const cT=new Map,IM=t=>{if(cT.has(t))return;const e=setTimeout(()=>{cT.delete(t),av({type:"REMOVE_TOAST",toastId:t})},_ce);cT.set(t,e)},Ice=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Bce)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?IM(n):t.toasts.forEach(r=>{IM(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},WS=[];let GS={toasts:[]};function av(t){GS=Ice(GS,t),WS.forEach(e=>{e(GS)})}function Ece({...t}){const e=Nce(),n=s=>av({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>av({type:"DISMISS_TOAST",toastId:e});return av({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function kce(){const[t,e]=O.useState(GS);return O.useEffect(()=>(WS.push(e),()=>{const n=WS.indexOf(e);n>-1&&WS.splice(n,1)}),[t]),{...t,toast:Ece,dismiss:n=>av({type:"DISMISS_TOAST",toastId:n})}}function en(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function EM(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function LW(...t){return e=>{let n=!1;const r=t.map(s=>{const i=EM(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():EM(t[s],null)}}}}function $r(...t){return O.useCallback(LW(...t),t)}function Tce(t,e){const n=O.createContext(e),r=i=>{const{children:o,...a}=i,l=O.useMemo(()=>a,Object.values(a));return x.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=O.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function _f(t,e=[]){let n=[];function r(i,o){const a=O.createContext(o),l=n.length;n=[...n,o];const c=A=>{var g;const{scope:d,children:h,...p}=A,m=((g=d==null?void 0:d[t])==null?void 0:g[l])||a,y=O.useMemo(()=>p,Object.values(p));return x.jsx(m.Provider,{value:y,children:h})};c.displayName=i+"Provider";function u(A,d){var m;const h=((m=d==null?void 0:d[t])==null?void 0:m[l])||a,p=O.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${A}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>O.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return O.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Fce(s,...e)]}function Fce(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const A=l(i)[`__scope${c}`];return{...a,...A}},{});return O.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function H0(t){const e=Dce(t),n=O.forwardRef((r,s)=>{const{children:i,...o}=r,a=O.Children.toArray(i),l=a.find(Rce);if(l){const c=l.props.children,u=a.map(A=>A===l?O.Children.count(c)>1?O.Children.only(null):O.isValidElement(c)?c.props.children:null:A);return x.jsx(e,{...o,ref:s,children:O.isValidElement(c)?O.cloneElement(c,void 0,u):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var Lce=H0("Slot");function Dce(t){const e=O.forwardRef((n,r)=>{const{children:s,...i}=n;if(O.isValidElement(s)){const o=$ce(s),a=Oce(i,s.props);return s.type!==O.Fragment&&(a.ref=r?LW(r,o):o),O.cloneElement(s,a)}return O.Children.count(s)>1?O.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var DW=Symbol("radix.slottable");function Pce(t){const e=({children:n})=>x.jsx(x.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=DW,e}function Rce(t){return O.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===DW}function Oce(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function $ce(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function kD(t){const e=t+"CollectionProvider",[n,r]=_f(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:g}=m,v=it.useRef(null),b=it.useRef(new Map).current;return x.jsx(s,{scope:y,itemMap:b,collectionRef:v,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=H0(a),c=it.forwardRef((m,y)=>{const{scope:g,children:v}=m,b=i(a,g),C=$r(y,b.collectionRef);return x.jsx(l,{ref:C,children:v})});c.displayName=a;const u=t+"CollectionItemSlot",A="data-radix-collection-item",d=H0(u),h=it.forwardRef((m,y)=>{const{scope:g,children:v,...b}=m,C=it.useRef(null),_=$r(y,C),I=i(u,g);return it.useEffect(()=>(I.itemMap.set(C,{ref:C,...b}),()=>void I.itemMap.delete(C))),x.jsx(d,{[A]:"",ref:_,children:v})});h.displayName=u;function p(m){const y=i(t+"CollectionConsumer",m);return it.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${A}]`));return Array.from(y.itemMap.values()).sort((I,F)=>b.indexOf(I.ref.current)-b.indexOf(F.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},p,r]}var Uce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_n=Uce.reduce((t,e)=>{const n=H0(`Primitive.${e}`),r=O.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function PW(t,e){t&&Dm.flushSync(()=>t.dispatchEvent(e))}function oc(t){const e=O.useRef(t);return O.useEffect(()=>{e.current=t}),O.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Mce(t,e=globalThis==null?void 0:globalThis.document){const n=oc(t);O.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Qce="DismissableLayer",ZF="dismissableLayer.update",jce="dismissableLayer.pointerDownOutside",Hce="dismissableLayer.focusOutside",kM,RW=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ux=O.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=O.useContext(RW),[u,A]=O.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=O.useState({}),p=$r(e,F=>A(F)),m=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(y),v=u?m.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=v>=g,_=Vce(F=>{const T=F.target,D=[...c.branches].some(H=>H.contains(T));!C||D||(s==null||s(F),o==null||o(F),F.defaultPrevented||a==null||a())},d),I=Wce(F=>{const T=F.target;[...c.branches].some(H=>H.contains(T))||(i==null||i(F),o==null||o(F),F.defaultPrevented||a==null||a())},d);return Mce(F=>{v===c.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&a&&(F.preventDefault(),a()))},d),O.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(kM=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),TM(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=kM)}},[u,d,n,c]),O.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),TM())},[u,c]),O.useEffect(()=>{const F=()=>h({});return document.addEventListener(ZF,F),()=>document.removeEventListener(ZF,F)},[]),x.jsx(_n.div,{...l,ref:p,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:en(t.onFocusCapture,I.onFocusCapture),onBlurCapture:en(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:en(t.onPointerDownCapture,_.onPointerDownCapture)})});Ux.displayName=Qce;var zce="DismissableLayerBranch",OW=O.forwardRef((t,e)=>{const n=O.useContext(RW),r=O.useRef(null),s=$r(e,r);return O.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),x.jsx(_n.div,{...t,ref:s})});OW.displayName=zce;function Vce(t,e=globalThis==null?void 0:globalThis.document){const n=oc(t),r=O.useRef(!1),s=O.useRef(()=>{});return O.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){$W(jce,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Wce(t,e=globalThis==null?void 0:globalThis.document){const n=oc(t),r=O.useRef(!1);return O.useEffect(()=>{const s=i=>{i.target&&!r.current&&$W(Hce,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function TM(){const t=new CustomEvent(ZF);document.dispatchEvent(t)}function $W(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?PW(s,i):s.dispatchEvent(i)}var Gce=Ux,Kce=OW,Zi=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{},qce="Portal",wN=O.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=O.useState(!1);Zi(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?TW.createPortal(x.jsx(_n.div,{...r,ref:e}),o):null});wN.displayName=qce;function Xce(t,e){return O.useReducer((n,r)=>e[n][r]??n,t)}var Pm=t=>{const{present:e,children:n}=t,r=Yce(e),s=typeof n=="function"?n({present:r.isPresent}):O.Children.only(n),i=$r(r.ref,Zce(s));return typeof n=="function"||r.isPresent?O.cloneElement(s,{ref:i}):null};Pm.displayName="Presence";function Yce(t){const[e,n]=O.useState(),r=O.useRef(null),s=O.useRef(t),i=O.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Xce(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const c=NC(r.current);i.current=a==="mounted"?c:"none"},[a]),Zi(()=>{const c=r.current,u=s.current;if(u!==t){const d=i.current,h=NC(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Zi(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,A=h=>{const m=NC(r.current).includes(h.animationName);if(h.target===e&&m&&(l("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},d=h=>{h.target===e&&(i.current=NC(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",A),e.addEventListener("animationend",A),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",A),e.removeEventListener("animationend",A)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:O.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function NC(t){return(t==null?void 0:t.animationName)||"none"}function Zce(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Jce=UL[" useInsertionEffect ".trim().toString()]||Zi;function z0({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=eue({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const u=O.useRef(t!==void 0);O.useEffect(()=>{const A=u.current;A!==a&&console.warn(`${r} is changing from ${A?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=O.useCallback(u=>{var A;if(a){const d=tue(u)?u(t):u;d!==t&&((A=o.current)==null||A.call(o,d))}else i(u)},[a,t,i,o]);return[l,c]}function eue({defaultProp:t,onChange:e}){const[n,r]=O.useState(t),s=O.useRef(n),i=O.useRef(e);return Jce(()=>{i.current=e},[e]),O.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function tue(t){return typeof t=="function"}var UW=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nue="VisuallyHidden",vN=O.forwardRef((t,e)=>x.jsx(_n.span,{...t,ref:e,style:{...UW,...t.style}}));vN.displayName=nue;var rue=vN,TD="ToastProvider",[FD,sue,iue]=kD("Toast"),[MW,Tnt]=_f("Toast",[iue]),[oue,xN]=MW(TD),QW=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=O.useState(null),[c,u]=O.useState(0),A=O.useRef(!1),d=O.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${TD}\`. Expected non-empty \`string\`.`),x.jsx(FD.Provider,{scope:e,children:x.jsx(oue,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:O.useCallback(()=>u(h=>h+1),[]),onToastRemove:O.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:A,isClosePausedRef:d,children:o})})};QW.displayName=TD;var jW="ToastViewport",aue=["F8"],JF="toast.viewportPause",e4="toast.viewportResume",HW=O.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=aue,label:s="Notifications ({hotkey})",...i}=t,o=xN(jW,n),a=sue(n),l=O.useRef(null),c=O.useRef(null),u=O.useRef(null),A=O.useRef(null),d=$r(e,A,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;O.useEffect(()=>{const y=g=>{var b;r.length!==0&&r.every(C=>g[C]||g.code===C)&&((b=A.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),O.useEffect(()=>{const y=l.current,g=A.current;if(p&&y&&g){const v=()=>{if(!o.isClosePausedRef.current){const I=new CustomEvent(JF);g.dispatchEvent(I),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const I=new CustomEvent(e4);g.dispatchEvent(I),o.isClosePausedRef.current=!1}},C=I=>{!y.contains(I.relatedTarget)&&b()},_=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",v),y.addEventListener("focusout",C),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",_),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",C),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",_),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[p,o.isClosePausedRef]);const m=O.useCallback(({tabbingDirection:y})=>{const v=a().map(b=>{const C=b.ref.current,_=[C,...vue(C)];return y==="forwards"?_:_.reverse()});return(y==="forwards"?v.reverse():v).flat()},[a]);return O.useEffect(()=>{const y=A.current;if(y){const g=v=>{var _,I,F;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const T=document.activeElement,D=v.shiftKey;if(v.target===y&&D){(_=c.current)==null||_.focus();return}const U=m({tabbingDirection:D?"backwards":"forwards"}),W=U.findIndex($=>$===T);uT(U.slice(W+1))?v.preventDefault():D?(I=c.current)==null||I.focus():(F=u.current)==null||F.focus()}};return y.addEventListener("keydown",g),()=>y.removeEventListener("keydown",g)}},[a,m]),x.jsxs(Kce,{ref:l,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&x.jsx(t4,{ref:c,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});uT(y)}}),x.jsx(FD.Slot,{scope:n,children:x.jsx(_n.ol,{tabIndex:-1,...i,ref:d})}),p&&x.jsx(t4,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});uT(y)}})]})});HW.displayName=jW;var zW="ToastFocusProxy",t4=O.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=xN(zW,n);return x.jsx(vN,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});t4.displayName=zW;var Mx="Toast",lue="toast.swipeStart",cue="toast.swipeMove",uue="toast.swipeCancel",Aue="toast.swipeEnd",VW=O.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=z0({prop:r,defaultProp:s??!0,onChange:i,caller:Mx});return x.jsx(Pm,{present:n||a,children:x.jsx(fue,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:oc(t.onPause),onResume:oc(t.onResume),onSwipeStart:en(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:en(t.onSwipeMove,c=>{const{x:u,y:A}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${A}px`)}),onSwipeCancel:en(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:en(t.onSwipeEnd,c=>{const{x:u,y:A}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${A}px`),l(!1)})})})});VW.displayName=Mx;var[due,hue]=MW(Mx,{onClose(){}}),fue=O.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:A,onSwipeCancel:d,onSwipeEnd:h,...p}=t,m=xN(Mx,n),[y,g]=O.useState(null),v=$r(e,$=>g($)),b=O.useRef(null),C=O.useRef(null),_=s||m.duration,I=O.useRef(0),F=O.useRef(_),T=O.useRef(0),{onToastAdd:D,onToastRemove:H}=m,R=oc(()=>{var Y;(y==null?void 0:y.contains(document.activeElement))&&((Y=m.viewport)==null||Y.focus()),o()}),U=O.useCallback($=>{!$||$===1/0||(window.clearTimeout(T.current),I.current=new Date().getTime(),T.current=window.setTimeout(R,$))},[R]);O.useEffect(()=>{const $=m.viewport;if($){const Y=()=>{U(F.current),c==null||c()},J=()=>{const oe=new Date().getTime()-I.current;F.current=F.current-oe,window.clearTimeout(T.current),l==null||l()};return $.addEventListener(JF,J),$.addEventListener(e4,Y),()=>{$.removeEventListener(JF,J),$.removeEventListener(e4,Y)}}},[m.viewport,_,l,c,U]),O.useEffect(()=>{i&&!m.isClosePausedRef.current&&U(_)},[i,_,m.isClosePausedRef,U]),O.useEffect(()=>(D(),()=>H()),[D,H]);const W=O.useMemo(()=>y?ZW(y):null,[y]);return m.viewport?x.jsxs(x.Fragment,{children:[W&&x.jsx(pue,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),x.jsx(due,{scope:n,onClose:R,children:Dm.createPortal(x.jsx(FD.ItemSlot,{scope:n,children:x.jsx(Gce,{asChild:!0,onEscapeKeyDown:en(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||R(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:x.jsx(_n.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...p,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:en(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:en(t.onPointerDown,$=>{$.button===0&&(b.current={x:$.clientX,y:$.clientY})}),onPointerMove:en(t.onPointerMove,$=>{if(!b.current)return;const Y=$.clientX-b.current.x,J=$.clientY-b.current.y,oe=!!C.current,V=["left","right"].includes(m.swipeDirection),Z=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,le=V?Z(0,Y):0,ce=V?0:Z(0,J),M=$.pointerType==="touch"?10:2,G={x:le,y:ce},X={originalEvent:$,delta:G};oe?(C.current=G,IC(cue,A,X,{discrete:!1})):FM(G,m.swipeDirection,M)?(C.current=G,IC(lue,u,X,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(Y)>M||Math.abs(J)>M)&&(b.current=null)}),onPointerUp:en(t.onPointerUp,$=>{const Y=C.current,J=$.target;if(J.hasPointerCapture($.pointerId)&&J.releasePointerCapture($.pointerId),C.current=null,b.current=null,Y){const oe=$.currentTarget,V={originalEvent:$,delta:Y};FM(Y,m.swipeDirection,m.swipeThreshold)?IC(Aue,h,V,{discrete:!0}):IC(uue,d,V,{discrete:!0}),oe.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),pue=t=>{const{__scopeToast:e,children:n,...r}=t,s=xN(Mx,e),[i,o]=O.useState(!1),[a,l]=O.useState(!1);return yue(()=>o(!0)),O.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:x.jsx(wN,{asChild:!0,children:x.jsx(vN,{...r,children:i&&x.jsxs(x.Fragment,{children:[s.label," ",n]})})})},mue="ToastTitle",WW=O.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return x.jsx(_n.div,{...r,ref:e})});WW.displayName=mue;var gue="ToastDescription",GW=O.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return x.jsx(_n.div,{...r,ref:e})});GW.displayName=gue;var KW="ToastAction",qW=O.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?x.jsx(YW,{altText:n,asChild:!0,children:x.jsx(LD,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${KW}\`. Expected non-empty \`string\`.`),null)});qW.displayName=KW;var XW="ToastClose",LD=O.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=hue(XW,n);return x.jsx(YW,{asChild:!0,children:x.jsx(_n.button,{type:"button",...r,ref:e,onClick:en(t.onClick,s.onClose)})})});LD.displayName=XW;var YW=O.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return x.jsx(_n.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function ZW(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),wue(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...ZW(r))}}),e}function IC(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?PW(s,i):s.dispatchEvent(i)}var FM=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function yue(t=()=>{}){const e=oc(t);Zi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function wue(t){return t.nodeType===t.ELEMENT_NODE}function vue(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function uT(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var xue=QW,JW=HW,eG=VW,tG=WW,nG=GW,rG=qW,sG=LD;function iG(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=iG(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function oG(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=iG(t))&&(r&&(r+=" "),r+=e);return r}const LM=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,DM=oG,DD=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return DM(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],A=i==null?void 0:i[c];if(u===null)return null;const d=LM(u)||LM(A);return s[c][d]}),a=n&&Object.entries(n).reduce((c,u)=>{let[A,d]=u;return d===void 0||(c[A]=d),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:A,className:d,...h}=u;return Object.entries(h).every(p=>{let[m,y]=p;return Array.isArray(y)?y.includes({...i,...a}[m]):{...i,...a}[m]===y})?[...c,A,d]:c},[]);return DM(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aG=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>O.createElement("svg",{ref:l,...Cue,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:aG("lucide",s),...a},[...o.map(([c,u])=>O.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=(t,e)=>{const n=O.forwardRef(({className:r,...s},i)=>O.createElement(Sue,{ref:i,iconNode:e,className:aG(`lucide-${bue(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=Xt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=Xt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=Xt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=Xt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=Xt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=Xt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=Xt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=Xt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=Xt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=Xt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=Xt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=Xt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=Xt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=Xt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=Xt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=Xt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=Xt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=Xt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=Xt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=Xt("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=Xt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=Xt("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=Xt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=Xt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=Xt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=Xt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Xt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=Xt("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=Xt("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=Xt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=Xt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=Xt("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=Xt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=Xt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=Xt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=Xt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=Xt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Xt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=Xt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=Xt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=Xt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=Xt("SwitchCamera",[["path",{d:"M11 19H4a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h5",key:"mtk2lu"}],["path",{d:"M13 5h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-5",key:"120jsl"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m18 22-3-3 3-3",key:"kgdoj7"}],["path",{d:"m6 2 3 3-3 3",key:"1fnbkv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=Xt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=Xt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=Xt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hue=Xt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zue=Xt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=Xt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=Xt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vue=Xt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=Xt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=Xt("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=Xt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),UD="-",Gue=t=>{const e=que(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(UD);return a[0]===""&&a.length!==1&&a.shift(),mG(a,e)||Kue(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},mG=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?mG(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(UD);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},OM=/^\[(.+)\]$/,Kue=t=>{if(OM.test(t)){const e=OM.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},que=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Yue(Object.entries(t.classGroups),n).forEach(([i,o])=>{s4(o,r,i,e)}),r},s4=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:$M(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Xue(s)){s4(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{s4(o,$M(e,i),n,r)})})},$M=(t,e)=>{let n=t;return e.split(UD).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Xue=t=>t.isThemeGetter,Yue=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,Zue=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},gG="!",Jue=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,A;for(let y=0;y<a.length;y++){let g=a[y];if(c===0){if(g===s&&(r||a.slice(y,y+i)===e)){l.push(a.slice(u,y)),u=y+i;continue}if(g==="/"){A=y;continue}}g==="["?c++:g==="]"&&c--}const d=l.length===0?a:a.substring(u),h=d.startsWith(gG),p=h?d.substring(1):d,m=A&&A>u?A-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},eAe=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},tAe=t=>({cache:Zue(t.cacheSize),parseClassName:Jue(t),...Gue(t)}),nAe=/\s+/,rAe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(nAe);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:A,baseClassName:d,maybePostfixModifierPosition:h}=n(c);let p=!!h,m=r(p?d.substring(0,h):d);if(!m){if(!p){a=c+(a.length>0?" "+a:a);continue}if(m=r(d),!m){a=c+(a.length>0?" "+a:a);continue}p=!1}const y=eAe(u).join(":"),g=A?y+gG:y,v=g+m;if(i.includes(v))continue;i.push(v);const b=s(m,p);for(let C=0;C<b.length;++C){const _=b[C];i.push(g+_)}a=c+(a.length>0?" "+a:a)}return a};function sAe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=yG(e))&&(r&&(r+=" "),r+=n);return r}const yG=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=yG(t[r]))&&(n&&(n+=" "),n+=e);return n};function iAe(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,A)=>A(u),t());return n=tAe(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=rAe(l,n);return s(l,u),u}return function(){return i(sAe.apply(null,arguments))}}const jr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},wG=/^\[(?:([a-z-]+):)?(.+)\]$/i,oAe=/^\d+\/\d+$/,aAe=new Set(["px","full","screen"]),lAe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cAe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uAe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AAe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dAe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,HA=t=>h0(t)||aAe.has(t)||oAe.test(t),sh=t=>yy(t,"length",vAe),h0=t=>!!t&&!Number.isNaN(Number(t)),hT=t=>yy(t,"number",h0),uw=t=>!!t&&Number.isInteger(Number(t)),hAe=t=>t.endsWith("%")&&h0(t.slice(0,-1)),Cn=t=>wG.test(t),ih=t=>lAe.test(t),fAe=new Set(["length","size","percentage"]),pAe=t=>yy(t,fAe,vG),mAe=t=>yy(t,"position",vG),gAe=new Set(["image","url"]),yAe=t=>yy(t,gAe,bAe),wAe=t=>yy(t,"",xAe),Aw=()=>!0,yy=(t,e,n)=>{const r=wG.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},vAe=t=>cAe.test(t)&&!uAe.test(t),vG=()=>!1,xAe=t=>AAe.test(t),bAe=t=>dAe.test(t),CAe=()=>{const t=jr("colors"),e=jr("spacing"),n=jr("blur"),r=jr("brightness"),s=jr("borderColor"),i=jr("borderRadius"),o=jr("borderSpacing"),a=jr("borderWidth"),l=jr("contrast"),c=jr("grayscale"),u=jr("hueRotate"),A=jr("invert"),d=jr("gap"),h=jr("gradientColorStops"),p=jr("gradientColorStopPositions"),m=jr("inset"),y=jr("margin"),g=jr("opacity"),v=jr("padding"),b=jr("saturate"),C=jr("scale"),_=jr("sepia"),I=jr("skew"),F=jr("space"),T=jr("translate"),D=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Cn,e],U=()=>[Cn,e],W=()=>["",HA,sh],$=()=>["auto",h0,Cn],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",Cn],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[h0,Cn];return{cacheSize:500,separator:":",theme:{colors:[Aw],spacing:[HA,sh],blur:["none","",ih,Cn],brightness:ce(),borderColor:[t],borderRadius:["none","","full",ih,Cn],borderSpacing:U(),borderWidth:W(),contrast:ce(),grayscale:Z(),hueRotate:ce(),invert:Z(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[hAe,sh],inset:R(),margin:R(),opacity:ce(),padding:U(),saturate:ce(),scale:ce(),sepia:Z(),skew:ce(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Cn]}],container:["container"],columns:[{columns:[ih]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Cn]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",uw,Cn]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Cn]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",uw,Cn]}],"grid-cols":[{"grid-cols":[Aw]}],"col-start-end":[{col:["auto",{span:["full",uw,Cn]},Cn]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Aw]}],"row-start-end":[{row:["auto",{span:[uw,Cn]},Cn]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Cn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Cn]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Cn,e]}],"min-w":[{"min-w":[Cn,e,"min","max","fit"]}],"max-w":[{"max-w":[Cn,e,"none","full","min","max","fit","prose",{screen:[ih]},ih]}],h:[{h:[Cn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Cn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Cn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Cn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ih,sh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hT]}],"font-family":[{font:[Aw]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Cn]}],"line-clamp":[{"line-clamp":["none",h0,hT]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",HA,Cn]}],"list-image":[{"list-image":["none",Cn]}],"list-style-type":[{list:["none","disc","decimal",Cn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",HA,sh]}],"underline-offset":[{"underline-offset":["auto",HA,Cn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Cn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Cn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),mAe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pAe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yAe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[HA,Cn]}],"outline-w":[{outline:[HA,sh]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[HA,sh]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ih,wAe]}],"shadow-color":[{shadow:[Aw]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ih,Cn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[A]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[A]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Cn]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",Cn]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",Cn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[uw,Cn]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Cn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Cn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Cn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[HA,sh,hT]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},SAe=iAe(CAe);function Yn(...t){return SAe(oG(t))}const BAe=xue,xG=O.forwardRef(({className:t,...e},n)=>x.jsx(JW,{ref:n,className:Yn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));xG.displayName=JW.displayName;const _Ae=DD("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bG=O.forwardRef(({className:t,variant:e,...n},r)=>x.jsx(eG,{ref:r,className:Yn(_Ae({variant:e}),t),...n}));bG.displayName=eG.displayName;const NAe=O.forwardRef(({className:t,...e},n)=>x.jsx(rG,{ref:n,className:Yn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));NAe.displayName=rG.displayName;const CG=O.forwardRef(({className:t,...e},n)=>x.jsx(sG,{ref:n,className:Yn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(Qx,{className:"h-4 w-4"})}));CG.displayName=sG.displayName;const SG=O.forwardRef(({className:t,...e},n)=>x.jsx(tG,{ref:n,className:Yn("text-sm font-semibold",t),...e}));SG.displayName=tG.displayName;const BG=O.forwardRef(({className:t,...e},n)=>x.jsx(nG,{ref:n,className:Yn("text-sm opacity-90",t),...e}));BG.displayName=nG.displayName;function IAe(){const{toasts:t}=kce();return x.jsxs(BAe,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return x.jsxs(bG,{...i,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(SG,{children:n}),r&&x.jsx(BG,{children:r})]}),s,x.jsx(CG,{})]},e)}),x.jsx(xG,{})]})}var UM=["light","dark"],EAe="(prefers-color-scheme: dark)",kAe=O.createContext(void 0),TAe={setTheme:t=>{},themes:[]},FAe=()=>{var t;return(t=O.useContext(kAe))!=null?t:TAe};O.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,A=s?UM.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(p,m=!1,y=!0)=>{let g=o?o[p]:p,v=m?p+"|| ''":`'${g}'`,b="";return s&&y&&!m&&UM.includes(p)&&(b+=`d.style.colorScheme = '${p}';`),n==="class"?m||g?b+=`c.add(${v})`:b+="null":g&&(b+=`d[s](n,${v})`),b},h=t?`!function(){${u}${d(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${EAe}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}${c?"":"else{"+d(i,!1,!1)+"}"}${A}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}else{${d(i,!1,!1)};}${A}}catch(t){}}();`;return O.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var LAe=t=>{switch(t){case"success":return RAe;case"info":return $Ae;case"warning":return OAe;case"error":return UAe;default:return null}},DAe=Array(12).fill(0),PAe=({visible:t,className:e})=>it.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},it.createElement("div",{className:"sonner-spinner"},DAe.map((n,r)=>it.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),RAe=it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},it.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),OAe=it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},it.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),$Ae=it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},it.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),UAe=it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},it.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),MAe=it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},it.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),it.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),QAe=()=>{let[t,e]=it.useState(document.hidden);return it.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},i4=1,jAe=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:i4++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],it.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(zAe(c)&&!c.ok){i=!1;let u=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,A=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:u,description:A})}else if(n.success!==void 0){i=!1;let u=typeof n.success=="function"?await n.success(c):n.success,A=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:u,description:A})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let u=typeof n.error=="function"?await n.error(c):n.error,A=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:u,description:A})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||i4++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ba=new jAe,HAe=(t,e)=>{let n=(e==null?void 0:e.id)||i4++;return ba.addToast({title:t,...e,id:n}),n},zAe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",VAe=HAe,WAe=()=>ba.toasts,GAe=()=>ba.getActiveToasts(),Ln=Object.assign(VAe,{success:ba.success,info:ba.info,warning:ba.warning,error:ba.error,custom:ba.custom,message:ba.message,promise:ba.promise,dismiss:ba.dismiss,loading:ba.loading},{getHistory:WAe,getToasts:GAe});function KAe(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}KAe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function EC(t){return t.label!==void 0}var qAe=3,XAe="32px",YAe="16px",MM=4e3,ZAe=356,JAe=14,ede=20,tde=200;function Pc(...t){return t.filter(Boolean).join(" ")}function nde(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var rde=t=>{var e,n,r,s,i,o,a,l,c,u,A;let{invert:d,toast:h,unstyled:p,interacting:m,setHeights:y,visibleToasts:g,heights:v,index:b,toasts:C,expanded:_,removeToast:I,defaultRichColors:F,closeButton:T,style:D,cancelButtonStyle:H,actionButtonStyle:R,className:U="",descriptionClassName:W="",duration:$,position:Y,gap:J,loadingIcon:oe,expandByDefault:V,classNames:Z,icons:le,closeButtonAriaLabel:ce="Close toast",pauseWhenPageIsHidden:M}=t,[G,X]=it.useState(null),[re,ue]=it.useState(null),[de,we]=it.useState(!1),[Ce,Ne]=it.useState(!1),[Ee,Ue]=it.useState(!1),[ze,tt]=it.useState(!1),[Ae,Ge]=it.useState(!1),[At,rt]=it.useState(0),[We,dt]=it.useState(0),at=it.useRef(h.duration||$||MM),gt=it.useRef(null),mt=it.useRef(null),cn=b===0,Zt=b+1<=g,vt=h.type,Wt=h.dismissible!==!1,Jt=h.className||"",xt=h.descriptionClassName||"",Gt=it.useMemo(()=>v.findIndex(qt=>qt.toastId===h.id)||0,[v,h.id]),St=it.useMemo(()=>{var qt;return(qt=h.closeButton)!=null?qt:T},[h.closeButton,T]),vr=it.useMemo(()=>h.duration||$||MM,[h.duration,$]),An=it.useRef(0),Yt=it.useRef(0),sn=it.useRef(0),Gn=it.useRef(null),[Ot,rr]=Y.split("-"),Kt=it.useMemo(()=>v.reduce((qt,on,On)=>On>=Gt?qt:qt+on.height,0),[v,Gt]),nn=QAe(),Ar=h.invert||d,dn=vt==="loading";Yt.current=it.useMemo(()=>Gt*J+Kt,[Gt,Kt]),it.useEffect(()=>{at.current=vr},[vr]),it.useEffect(()=>{we(!0)},[]),it.useEffect(()=>{let qt=mt.current;if(qt){let on=qt.getBoundingClientRect().height;return dt(on),y(On=>[{toastId:h.id,height:on,position:h.position},...On]),()=>y(On=>On.filter(Kr=>Kr.toastId!==h.id))}},[y,h.id]),it.useLayoutEffect(()=>{if(!de)return;let qt=mt.current,on=qt.style.height;qt.style.height="auto";let On=qt.getBoundingClientRect().height;qt.style.height=on,dt(On),y(Kr=>Kr.find(Bt=>Bt.toastId===h.id)?Kr.map(Bt=>Bt.toastId===h.id?{...Bt,height:On}:Bt):[{toastId:h.id,height:On,position:h.position},...Kr])},[de,h.title,h.description,y,h.id]);let $t=it.useCallback(()=>{Ne(!0),rt(Yt.current),y(qt=>qt.filter(on=>on.toastId!==h.id)),setTimeout(()=>{I(h)},tde)},[h,I,y,Yt]);it.useEffect(()=>{if(h.promise&&vt==="loading"||h.duration===1/0||h.type==="loading")return;let qt;return _||m||M&&nn?(()=>{if(sn.current<An.current){let on=new Date().getTime()-An.current;at.current=at.current-on}sn.current=new Date().getTime()})():at.current!==1/0&&(An.current=new Date().getTime(),qt=setTimeout(()=>{var on;(on=h.onAutoClose)==null||on.call(h,h),$t()},at.current)),()=>clearTimeout(qt)},[_,m,h,vt,M,nn,$t]),it.useEffect(()=>{h.delete&&$t()},[$t,h.delete]);function zn(){var qt,on,On;return le!=null&&le.loading?it.createElement("div",{className:Pc(Z==null?void 0:Z.loader,(qt=h==null?void 0:h.classNames)==null?void 0:qt.loader,"sonner-loader"),"data-visible":vt==="loading"},le.loading):oe?it.createElement("div",{className:Pc(Z==null?void 0:Z.loader,(on=h==null?void 0:h.classNames)==null?void 0:on.loader,"sonner-loader"),"data-visible":vt==="loading"},oe):it.createElement(PAe,{className:Pc(Z==null?void 0:Z.loader,(On=h==null?void 0:h.classNames)==null?void 0:On.loader),visible:vt==="loading"})}return it.createElement("li",{tabIndex:0,ref:mt,className:Pc(U,Jt,Z==null?void 0:Z.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,Z==null?void 0:Z.default,Z==null?void 0:Z[vt],(n=h==null?void 0:h.classNames)==null?void 0:n[vt]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:F,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":de,"data-promise":!!h.promise,"data-swiped":Ae,"data-removed":Ce,"data-visible":Zt,"data-y-position":Ot,"data-x-position":rr,"data-index":b,"data-front":cn,"data-swiping":Ee,"data-dismissible":Wt,"data-type":vt,"data-invert":Ar,"data-swipe-out":ze,"data-swipe-direction":re,"data-expanded":!!(_||V&&de),style:{"--index":b,"--toasts-before":b,"--z-index":C.length-b,"--offset":`${Ce?At:Yt.current}px`,"--initial-height":V?"auto":`${We}px`,...D,...h.style},onDragEnd:()=>{Ue(!1),X(null),Gn.current=null},onPointerDown:qt=>{dn||!Wt||(gt.current=new Date,rt(Yt.current),qt.target.setPointerCapture(qt.pointerId),qt.target.tagName!=="BUTTON"&&(Ue(!0),Gn.current={x:qt.clientX,y:qt.clientY}))},onPointerUp:()=>{var qt,on,On,Kr;if(ze||!Wt)return;Gn.current=null;let Bt=Number(((qt=mt.current)==null?void 0:qt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Hs=Number(((on=mt.current)==null?void 0:on.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ri=new Date().getTime()-((On=gt.current)==null?void 0:On.getTime()),Tr=G==="x"?Bt:Hs,ss=Math.abs(Tr)/ri;if(Math.abs(Tr)>=ede||ss>.11){rt(Yt.current),(Kr=h.onDismiss)==null||Kr.call(h,h),ue(G==="x"?Bt>0?"right":"left":Hs>0?"down":"up"),$t(),tt(!0),Ge(!1);return}Ue(!1),X(null)},onPointerMove:qt=>{var on,On,Kr,Bt;if(!Gn.current||!Wt||((on=window.getSelection())==null?void 0:on.toString().length)>0)return;let Hs=qt.clientY-Gn.current.y,ri=qt.clientX-Gn.current.x,Tr=(On=t.swipeDirections)!=null?On:nde(Y);!G&&(Math.abs(ri)>1||Math.abs(Hs)>1)&&X(Math.abs(ri)>Math.abs(Hs)?"x":"y");let ss={x:0,y:0};G==="y"?(Tr.includes("top")||Tr.includes("bottom"))&&(Tr.includes("top")&&Hs<0||Tr.includes("bottom")&&Hs>0)&&(ss.y=Hs):G==="x"&&(Tr.includes("left")||Tr.includes("right"))&&(Tr.includes("left")&&ri<0||Tr.includes("right")&&ri>0)&&(ss.x=ri),(Math.abs(ss.x)>0||Math.abs(ss.y)>0)&&Ge(!0),(Kr=mt.current)==null||Kr.style.setProperty("--swipe-amount-x",`${ss.x}px`),(Bt=mt.current)==null||Bt.style.setProperty("--swipe-amount-y",`${ss.y}px`)}},St&&!h.jsx?it.createElement("button",{"aria-label":ce,"data-disabled":dn,"data-close-button":!0,onClick:dn||!Wt?()=>{}:()=>{var qt;$t(),(qt=h.onDismiss)==null||qt.call(h,h)},className:Pc(Z==null?void 0:Z.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},(i=le==null?void 0:le.close)!=null?i:MAe):null,h.jsx||O.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:it.createElement(it.Fragment,null,vt||h.icon||h.promise?it.createElement("div",{"data-icon":"",className:Pc(Z==null?void 0:Z.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||zn():null,h.type!=="loading"?h.icon||(le==null?void 0:le[vt])||LAe(vt):null):null,it.createElement("div",{"data-content":"",className:Pc(Z==null?void 0:Z.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},it.createElement("div",{"data-title":"",className:Pc(Z==null?void 0:Z.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?it.createElement("div",{"data-description":"",className:Pc(W,xt,Z==null?void 0:Z.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),O.isValidElement(h.cancel)?h.cancel:h.cancel&&EC(h.cancel)?it.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||H,onClick:qt=>{var on,On;EC(h.cancel)&&Wt&&((On=(on=h.cancel).onClick)==null||On.call(on,qt),$t())},className:Pc(Z==null?void 0:Z.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,O.isValidElement(h.action)?h.action:h.action&&EC(h.action)?it.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:qt=>{var on,On;EC(h.action)&&((On=(on=h.action).onClick)==null||On.call(on,qt),!qt.defaultPrevented&&$t())},className:Pc(Z==null?void 0:Z.actionButton,(A=h==null?void 0:h.classNames)==null?void 0:A.actionButton)},h.action.label):null))};function QM(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function sde(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?YAe:XAe;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var ide=O.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:A,duration:d,style:h,visibleToasts:p=qAe,toastOptions:m,dir:y=QM(),gap:g=JAe,loadingIcon:v,icons:b,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:_}=t,[I,F]=it.useState([]),T=it.useMemo(()=>Array.from(new Set([r].concat(I.filter(M=>M.position).map(M=>M.position)))),[I,r]),[D,H]=it.useState([]),[R,U]=it.useState(!1),[W,$]=it.useState(!1),[Y,J]=it.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=it.useRef(null),V=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=it.useRef(null),le=it.useRef(!1),ce=it.useCallback(M=>{F(G=>{var X;return(X=G.find(re=>re.id===M.id))!=null&&X.delete||ba.dismiss(M.id),G.filter(({id:re})=>re!==M.id)})},[]);return it.useEffect(()=>ba.subscribe(M=>{if(M.dismiss){F(G=>G.map(X=>X.id===M.id?{...X,delete:!0}:X));return}setTimeout(()=>{TW.flushSync(()=>{F(G=>{let X=G.findIndex(re=>re.id===M.id);return X!==-1?[...G.slice(0,X),{...G[X],...M},...G.slice(X+1)]:[M,...G]})})})}),[]),it.useEffect(()=>{if(u!=="system"){J(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let M=window.matchMedia("(prefers-color-scheme: dark)");try{M.addEventListener("change",({matches:G})=>{J(G?"dark":"light")})}catch{M.addListener(({matches:X})=>{try{J(X?"dark":"light")}catch(re){console.error(re)}})}},[u]),it.useEffect(()=>{I.length<=1&&U(!1)},[I]),it.useEffect(()=>{let M=G=>{var X,re;s.every(ue=>G[ue]||G.code===ue)&&(U(!0),(X=oe.current)==null||X.focus()),G.code==="Escape"&&(document.activeElement===oe.current||(re=oe.current)!=null&&re.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[s]),it.useEffect(()=>{if(oe.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,le.current=!1)}},[oe.current]),it.createElement("section",{ref:e,"aria-label":`${C} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((M,G)=>{var X;let[re,ue]=M.split("-");return I.length?it.createElement("ol",{key:M,dir:y==="auto"?QM():y,tabIndex:-1,ref:oe,className:a,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":re,"data-lifted":R&&I.length>1&&!i,"data-x-position":ue,style:{"--front-toast-height":`${((X=D[0])==null?void 0:X.height)||0}px`,"--width":`${ZAe}px`,"--gap":`${g}px`,...h,...sde(l,c)},onBlur:de=>{le.current&&!de.currentTarget.contains(de.relatedTarget)&&(le.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||le.current||(le.current=!0,Z.current=de.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{W||U(!1)},onDragEnd:()=>U(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},I.filter(de=>!de.position&&G===0||de.position===M).map((de,we)=>{var Ce,Ne;return it.createElement(rde,{key:de.id,icons:b,index:we,toast:de,defaultRichColors:A,duration:(Ce=m==null?void 0:m.duration)!=null?Ce:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:p,closeButton:(Ne=m==null?void 0:m.closeButton)!=null?Ne:o,interacting:W,position:M,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:ce,toasts:I.filter(Ee=>Ee.position==de.position),heights:D.filter(Ee=>Ee.position==de.position),setHeights:H,expandByDefault:i,gap:g,loadingIcon:v,expanded:R,pauseWhenPageIsHidden:_,swipeDirections:t.swipeDirections})})):null}))});const ode=({...t})=>{const{theme:e="system"}=FAe();return x.jsx(ide,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var ade=UL[" useId ".trim().toString()]||(()=>{}),lde=0;function Gh(t){const[e,n]=O.useState(ade());return Zi(()=>{n(r=>r??String(lde++))},[t]),e?`radix-${e}`:""}const cde=["top","right","bottom","left"],of=Math.min,nl=Math.max,HB=Math.round,kC=Math.floor,iA=t=>({x:t,y:t}),ude={left:"right",right:"left",bottom:"top",top:"bottom"},Ade={start:"end",end:"start"};function o4(t,e,n){return nl(t,of(e,n))}function pd(t,e){return typeof t=="function"?t(e):t}function md(t){return t.split("-")[0]}function wy(t){return t.split("-")[1]}function MD(t){return t==="x"?"y":"x"}function QD(t){return t==="y"?"height":"width"}const dde=new Set(["top","bottom"]);function Zu(t){return dde.has(md(t))?"y":"x"}function jD(t){return MD(Zu(t))}function hde(t,e,n){n===void 0&&(n=!1);const r=wy(t),s=jD(t),i=QD(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=zB(o)),[o,zB(o)]}function fde(t){const e=zB(t);return[a4(t),e,a4(e)]}function a4(t){return t.replace(/start|end/g,e=>Ade[e])}const jM=["left","right"],HM=["right","left"],pde=["top","bottom"],mde=["bottom","top"];function gde(t,e,n){switch(t){case"top":case"bottom":return n?e?HM:jM:e?jM:HM;case"left":case"right":return e?pde:mde;default:return[]}}function yde(t,e,n,r){const s=wy(t);let i=gde(md(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(a4)))),i}function zB(t){return t.replace(/left|right|bottom|top/g,e=>ude[e])}function wde(t){return{top:0,right:0,bottom:0,left:0,...t}}function _G(t){return typeof t!="number"?wde(t):{top:t,right:t,bottom:t,left:t}}function VB(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function zM(t,e,n){let{reference:r,floating:s}=t;const i=Zu(e),o=jD(e),a=QD(o),l=md(e),c=i==="y",u=r.x+r.width/2-s.width/2,A=r.y+r.height/2-s.height/2,d=r[a]/2-s[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-s.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:A};break;case"left":h={x:r.x-s.width,y:A};break;default:h={x:r.x,y:r.y}}switch(wy(e)){case"start":h[o]-=d*(n&&c?-1:1);break;case"end":h[o]+=d*(n&&c?-1:1);break}return h}const vde=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:A}=zM(c,r,l),d=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:y,fn:g}=a[m],{x:v,y:b,data:C,reset:_}=await g({x:u,y:A,initialPlacement:r,placement:d,strategy:s,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});u=v??u,A=b??A,h={...h,[y]:{...h[y],...C}},_&&p<=50&&(p++,typeof _=="object"&&(_.placement&&(d=_.placement),_.rects&&(c=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):_.rects),{x:u,y:A}=zM(c,d,l)),m=-1)}return{x:u,y:A,placement:d,strategy:s,middlewareData:h}};async function jv(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:A="floating",altBoundary:d=!1,padding:h=0}=pd(e,t),p=_G(h),y=a[d?A==="floating"?"reference":"floating":A],g=VB(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=A==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=VB(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:l}):v);return{top:(g.top-_.top+p.top)/C.y,bottom:(_.bottom-g.bottom+p.bottom)/C.y,left:(g.left-_.left+p.left)/C.x,right:(_.right-g.right+p.right)/C.x}}const xde=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=pd(t,e)||{};if(c==null)return{};const A=_G(u),d={x:n,y:r},h=jD(s),p=QD(h),m=await o.getDimensions(c),y=h==="y",g=y?"top":"left",v=y?"bottom":"right",b=y?"clientHeight":"clientWidth",C=i.reference[p]+i.reference[h]-d[h]-i.floating[p],_=d[h]-i.reference[h],I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let F=I?I[b]:0;(!F||!await(o.isElement==null?void 0:o.isElement(I)))&&(F=a.floating[b]||i.floating[p]);const T=C/2-_/2,D=F/2-m[p]/2-1,H=of(A[g],D),R=of(A[v],D),U=H,W=F-m[p]-R,$=F/2-m[p]/2+T,Y=o4(U,$,W),J=!l.arrow&&wy(s)!=null&&$!==Y&&i.reference[p]/2-($<U?H:R)-m[p]/2<0,oe=J?$<U?$-U:$-W:0;return{[h]:d[h]+oe,data:{[h]:Y,centerOffset:$-Y-oe,...J&&{alignmentOffset:oe}},reset:J}}}),bde=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:A=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...y}=pd(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const g=md(s),v=Zu(a),b=md(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=d||(b||!m?[zB(a)]:fde(a)),I=p!=="none";!d&&I&&_.push(...yde(a,m,p,C));const F=[a,..._],T=await jv(e,y),D=[];let H=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&D.push(T[g]),A){const $=hde(s,o,C);D.push(T[$[0]],T[$[1]])}if(H=[...H,{placement:s,overflows:D}],!D.every($=>$<=0)){var R,U;const $=(((R=i.flip)==null?void 0:R.index)||0)+1,Y=F[$];if(Y&&(!(A==="alignment"?v!==Zu(Y):!1)||H.every(V=>V.overflows[0]>0&&Zu(V.placement)===v)))return{data:{index:$,overflows:H},reset:{placement:Y}};let J=(U=H.filter(oe=>oe.overflows[0]<=0).sort((oe,V)=>oe.overflows[1]-V.overflows[1])[0])==null?void 0:U.placement;if(!J)switch(h){case"bestFit":{var W;const oe=(W=H.filter(V=>{if(I){const Z=Zu(V.placement);return Z===v||Z==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(Z=>Z>0).reduce((Z,le)=>Z+le,0)]).sort((V,Z)=>V[1]-Z[1])[0])==null?void 0:W[0];oe&&(J=oe);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function VM(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function WM(t){return cde.some(e=>t[e]>=0)}const Cde=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=pd(t,e);switch(r){case"referenceHidden":{const i=await jv(e,{...s,elementContext:"reference"}),o=VM(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:WM(o)}}}case"escaped":{const i=await jv(e,{...s,altBoundary:!0}),o=VM(i,n.floating);return{data:{escapedOffsets:o,escaped:WM(o)}}}default:return{}}}}},NG=new Set(["left","top"]);async function Sde(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=md(n),a=wy(n),l=Zu(n)==="y",c=NG.has(o)?-1:1,u=i&&l?-1:1,A=pd(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof A=="number"?{mainAxis:A,crossAxis:0,alignmentAxis:null}:{mainAxis:A.mainAxis||0,crossAxis:A.crossAxis||0,alignmentAxis:A.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*u,y:d*c}:{x:d*c,y:h*u}}const Bde=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await Sde(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},_de=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:v}=y;return{x:g,y:v}}},...l}=pd(t,e),c={x:n,y:r},u=await jv(e,l),A=Zu(md(s)),d=MD(A);let h=c[d],p=c[A];if(i){const y=d==="y"?"top":"left",g=d==="y"?"bottom":"right",v=h+u[y],b=h-u[g];h=o4(v,h,b)}if(o){const y=A==="y"?"top":"left",g=A==="y"?"bottom":"right",v=p+u[y],b=p-u[g];p=o4(v,p,b)}const m=a.fn({...e,[d]:h,[A]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[d]:i,[A]:o}}}}}},Nde=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=pd(t,e),u={x:n,y:r},A=Zu(s),d=MD(A);let h=u[d],p=u[A];const m=pd(a,e),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=d==="y"?"height":"width",C=i.reference[d]-i.floating[b]+y.mainAxis,_=i.reference[d]+i.reference[b]-y.mainAxis;h<C?h=C:h>_&&(h=_)}if(c){var g,v;const b=d==="y"?"width":"height",C=NG.has(md(s)),_=i.reference[A]-i.floating[b]+(C&&((g=o.offset)==null?void 0:g[A])||0)+(C?0:y.crossAxis),I=i.reference[A]+i.reference[b]+(C?0:((v=o.offset)==null?void 0:v[A])||0)-(C?y.crossAxis:0);p<_?p=_:p>I&&(p=I)}return{[d]:h,[A]:p}}}},Ide=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=pd(t,e),u=await jv(e,c),A=md(s),d=wy(s),h=Zu(s)==="y",{width:p,height:m}=i.floating;let y,g;A==="top"||A==="bottom"?(y=A,g=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=A,y=d==="end"?"top":"bottom");const v=m-u.top-u.bottom,b=p-u.left-u.right,C=of(m-u[y],v),_=of(p-u[g],b),I=!e.middlewareData.shift;let F=C,T=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(F=v),I&&!d){const H=nl(u.left,0),R=nl(u.right,0),U=nl(u.top,0),W=nl(u.bottom,0);h?T=p-2*(H!==0||R!==0?H+R:nl(u.left,u.right)):F=m-2*(U!==0||W!==0?U+W:nl(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:F});const D=await o.getDimensions(a.floating);return p!==D.width||m!==D.height?{reset:{rects:!0}}:{}}}};function bN(){return typeof window<"u"}function vy(t){return IG(t)?(t.nodeName||"").toLowerCase():"#document"}function dl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function BA(t){var e;return(e=(IG(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function IG(t){return bN()?t instanceof Node||t instanceof dl(t).Node:!1}function lu(t){return bN()?t instanceof Element||t instanceof dl(t).Element:!1}function mA(t){return bN()?t instanceof HTMLElement||t instanceof dl(t).HTMLElement:!1}function GM(t){return!bN()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof dl(t).ShadowRoot}const Ede=new Set(["inline","contents"]);function jx(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=cu(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Ede.has(s)}const kde=new Set(["table","td","th"]);function Tde(t){return kde.has(vy(t))}const Fde=[":popover-open",":modal"];function CN(t){return Fde.some(e=>{try{return t.matches(e)}catch{return!1}})}const Lde=["transform","translate","scale","rotate","perspective"],Dde=["transform","translate","scale","rotate","perspective","filter"],Pde=["paint","layout","strict","content"];function HD(t){const e=zD(),n=lu(t)?cu(t):t;return Lde.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Dde.some(r=>(n.willChange||"").includes(r))||Pde.some(r=>(n.contain||"").includes(r))}function Rde(t){let e=af(t);for(;mA(e)&&!W0(e);){if(HD(e))return e;if(CN(e))return null;e=af(e)}return null}function zD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ode=new Set(["html","body","#document"]);function W0(t){return Ode.has(vy(t))}function cu(t){return dl(t).getComputedStyle(t)}function SN(t){return lu(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function af(t){if(vy(t)==="html")return t;const e=t.assignedSlot||t.parentNode||GM(t)&&t.host||BA(t);return GM(e)?e.host:e}function EG(t){const e=af(t);return W0(e)?t.ownerDocument?t.ownerDocument.body:t.body:mA(e)&&jx(e)?e:EG(e)}function Hv(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=EG(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=dl(s);if(i){const a=l4(o);return e.concat(o,o.visualViewport||[],jx(s)?s:[],a&&n?Hv(a):[])}return e.concat(s,Hv(s,[],n))}function l4(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kG(t){const e=cu(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=mA(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=HB(n)!==i||HB(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function VD(t){return lu(t)?t:t.contextElement}function f0(t){const e=VD(t);if(!mA(e))return iA(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=kG(e);let o=(i?HB(n.width):n.width)/r,a=(i?HB(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const $de=iA(0);function TG(t){const e=dl(t);return!zD()||!e.visualViewport?$de:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ude(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==dl(t)?!1:e}function lm(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=VD(t);let o=iA(1);e&&(r?lu(r)&&(o=f0(r)):o=f0(t));const a=Ude(i,n,r)?TG(i):iA(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,A=s.height/o.y;if(i){const d=dl(i),h=r&&lu(r)?dl(r):r;let p=d,m=l4(p);for(;m&&r&&h!==p;){const y=f0(m),g=m.getBoundingClientRect(),v=cu(m),b=g.left+(m.clientLeft+parseFloat(v.paddingLeft))*y.x,C=g.top+(m.clientTop+parseFloat(v.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,A*=y.y,l+=b,c+=C,p=dl(m),m=l4(p)}}return VB({width:u,height:A,x:l,y:c})}function WD(t,e){const n=SN(t).scrollLeft;return e?e.left+n:lm(BA(t)).left+n}function FG(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:WD(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function Mde(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=BA(r),a=e?CN(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=iA(1);const u=iA(0),A=mA(r);if((A||!A&&!i)&&((vy(r)!=="body"||jx(o))&&(l=SN(r)),mA(r))){const h=lm(r);c=f0(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const d=o&&!A&&!i?FG(o,l,!0):iA(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:n.y*c.y-l.scrollTop*c.y+u.y+d.y}}function Qde(t){return Array.from(t.getClientRects())}function jde(t){const e=BA(t),n=SN(t),r=t.ownerDocument.body,s=nl(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=nl(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+WD(t);const a=-n.scrollTop;return cu(r).direction==="rtl"&&(o+=nl(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function Hde(t,e){const n=dl(t),r=BA(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=zD();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const zde=new Set(["absolute","fixed"]);function Vde(t,e){const n=lm(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=mA(t)?f0(t):iA(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function KM(t,e,n){let r;if(e==="viewport")r=Hde(t,n);else if(e==="document")r=jde(BA(t));else if(lu(e))r=Vde(e,n);else{const s=TG(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return VB(r)}function LG(t,e){const n=af(t);return n===e||!lu(n)||W0(n)?!1:cu(n).position==="fixed"||LG(n,e)}function Wde(t,e){const n=e.get(t);if(n)return n;let r=Hv(t,[],!1).filter(a=>lu(a)&&vy(a)!=="body"),s=null;const i=cu(t).position==="fixed";let o=i?af(t):t;for(;lu(o)&&!W0(o);){const a=cu(o),l=HD(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&zde.has(s.position)||jx(o)&&!l&&LG(t,o))?r=r.filter(u=>u!==o):s=a,o=af(o)}return e.set(t,r),r}function Gde(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?CN(e)?[]:Wde(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const A=KM(e,u,s);return c.top=nl(A.top,c.top),c.right=of(A.right,c.right),c.bottom=of(A.bottom,c.bottom),c.left=nl(A.left,c.left),c},KM(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Kde(t){const{width:e,height:n}=kG(t);return{width:e,height:n}}function qde(t,e,n){const r=mA(e),s=BA(e),i=n==="fixed",o=lm(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=iA(0);function c(){l.x=WD(s)}if(r||!r&&!i)if((vy(e)!=="body"||jx(s))&&(a=SN(e)),r){const h=lm(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&c();i&&!r&&s&&c();const u=s&&!r&&!i?FG(s,a):iA(0),A=o.left+a.scrollLeft-l.x-u.x,d=o.top+a.scrollTop-l.y-u.y;return{x:A,y:d,width:o.width,height:o.height}}function fT(t){return cu(t).position==="static"}function qM(t,e){if(!mA(t)||cu(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return BA(t)===n&&(n=n.ownerDocument.body),n}function DG(t,e){const n=dl(t);if(CN(t))return n;if(!mA(t)){let s=af(t);for(;s&&!W0(s);){if(lu(s)&&!fT(s))return s;s=af(s)}return n}let r=qM(t,e);for(;r&&Tde(r)&&fT(r);)r=qM(r,e);return r&&W0(r)&&fT(r)&&!HD(r)?n:r||Rde(t)||n}const Xde=async function(t){const e=this.getOffsetParent||DG,n=this.getDimensions,r=await n(t.floating);return{reference:qde(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Yde(t){return cu(t).direction==="rtl"}const Zde={convertOffsetParentRelativeRectToViewportRelativeRect:Mde,getDocumentElement:BA,getClippingRect:Gde,getOffsetParent:DG,getElementRects:Xde,getClientRects:Qde,getDimensions:Kde,getScale:f0,isElement:lu,isRTL:Yde};function PG(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Jde(t,e){let n=null,r;const s=BA(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:A,width:d,height:h}=c;if(a||e(),!d||!h)return;const p=kC(A),m=kC(s.clientWidth-(u+d)),y=kC(s.clientHeight-(A+h)),g=kC(u),b={rootMargin:-p+"px "+-m+"px "+-y+"px "+-g+"px",threshold:nl(0,of(1,l))||1};let C=!0;function _(I){const F=I[0].intersectionRatio;if(F!==l){if(!C)return o();F?o(!1,F):r=setTimeout(()=>{o(!1,1e-7)},1e3)}F===1&&!PG(c,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(_,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(t)}return o(!0),i}function ehe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=VD(t),u=s||i?[...c?Hv(c):[],...Hv(e)]:[];u.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),i&&g.addEventListener("resize",n)});const A=c&&a?Jde(c,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(g=>{let[v]=g;v&&v.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let p,m=l?lm(t):null;l&&y();function y(){const g=lm(t);m&&!PG(m,g)&&n(),m=g,p=requestAnimationFrame(y)}return n(),()=>{var g;u.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),A==null||A(),(g=h)==null||g.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const the=Bde,nhe=_de,rhe=bde,she=Ide,ihe=Cde,XM=xde,ohe=Nde,ahe=(t,e,n)=>{const r=new Map,s={platform:Zde,...n},i={...s.platform,_c:r};return vde(t,e,{...s,platform:i})};var lhe=typeof document<"u",che=function(){},KS=lhe?O.useLayoutEffect:che;function WB(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!WB(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!WB(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function RG(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function YM(t,e){const n=RG(t);return Math.round(e*n)/n}function pT(t){const e=O.useRef(t);return KS(()=>{e.current=t}),e}function uhe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,A]=O.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,h]=O.useState(r);WB(d,r)||h(r);const[p,m]=O.useState(null),[y,g]=O.useState(null),v=O.useCallback(V=>{V!==I.current&&(I.current=V,m(V))},[]),b=O.useCallback(V=>{V!==F.current&&(F.current=V,g(V))},[]),C=i||p,_=o||y,I=O.useRef(null),F=O.useRef(null),T=O.useRef(u),D=l!=null,H=pT(l),R=pT(s),U=pT(c),W=O.useCallback(()=>{if(!I.current||!F.current)return;const V={placement:e,strategy:n,middleware:d};R.current&&(V.platform=R.current),ahe(I.current,F.current,V).then(Z=>{const le={...Z,isPositioned:U.current!==!1};$.current&&!WB(T.current,le)&&(T.current=le,Dm.flushSync(()=>{A(le)}))})},[d,e,n,R,U]);KS(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,A(V=>({...V,isPositioned:!1})))},[c]);const $=O.useRef(!1);KS(()=>($.current=!0,()=>{$.current=!1}),[]),KS(()=>{if(C&&(I.current=C),_&&(F.current=_),C&&_){if(H.current)return H.current(C,_,W);W()}},[C,_,W,H,D]);const Y=O.useMemo(()=>({reference:I,floating:F,setReference:v,setFloating:b}),[v,b]),J=O.useMemo(()=>({reference:C,floating:_}),[C,_]),oe=O.useMemo(()=>{const V={position:n,left:0,top:0};if(!J.floating)return V;const Z=YM(J.floating,u.x),le=YM(J.floating,u.y);return a?{...V,transform:"translate("+Z+"px, "+le+"px)",...RG(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:le}},[n,a,J.floating,u.x,u.y]);return O.useMemo(()=>({...u,update:W,refs:Y,elements:J,floatingStyles:oe}),[u,W,Y,J,oe])}const Ahe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?XM({element:r.current,padding:s}).fn(n):{}:r?XM({element:r,padding:s}).fn(n):{}}}},dhe=(t,e)=>({...the(t),options:[t,e]}),hhe=(t,e)=>({...nhe(t),options:[t,e]}),fhe=(t,e)=>({...ohe(t),options:[t,e]}),phe=(t,e)=>({...rhe(t),options:[t,e]}),mhe=(t,e)=>({...she(t),options:[t,e]}),ghe=(t,e)=>({...ihe(t),options:[t,e]}),yhe=(t,e)=>({...Ahe(t),options:[t,e]});var whe="Arrow",OG=O.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return x.jsx(_n.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});OG.displayName=whe;var vhe=OG;function xhe(t){const[e,n]=O.useState(void 0);return Zi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var GD="Popper",[$G,BN]=_f(GD),[bhe,UG]=$G(GD),MG=t=>{const{__scopePopper:e,children:n}=t,[r,s]=O.useState(null);return x.jsx(bhe,{scope:e,anchor:r,onAnchorChange:s,children:n})};MG.displayName=GD;var QG="PopperAnchor",jG=O.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=UG(QG,n),o=O.useRef(null),a=$r(e,o);return O.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:x.jsx(_n.div,{...s,ref:a})});jG.displayName=QG;var KD="PopperContent",[Che,She]=$G(KD),HG=O.forwardRef((t,e)=>{var de,we,Ce,Ne,Ee,Ue;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:A="partial",hideWhenDetached:d=!1,updatePositionStrategy:h="optimized",onPlaced:p,...m}=t,y=UG(KD,n),[g,v]=O.useState(null),b=$r(e,ze=>v(ze)),[C,_]=O.useState(null),I=xhe(C),F=(I==null?void 0:I.width)??0,T=(I==null?void 0:I.height)??0,D=r+(i!=="center"?"-"+i:""),H=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},R=Array.isArray(c)?c:[c],U=R.length>0,W={padding:H,boundary:R.filter(_he),altBoundary:U},{refs:$,floatingStyles:Y,placement:J,isPositioned:oe,middlewareData:V}=uhe({strategy:"fixed",placement:D,whileElementsMounted:(...ze)=>ehe(...ze,{animationFrame:h==="always"}),elements:{reference:y.anchor},middleware:[dhe({mainAxis:s+T,alignmentAxis:o}),l&&hhe({mainAxis:!0,crossAxis:!1,limiter:A==="partial"?fhe():void 0,...W}),l&&phe({...W}),mhe({...W,apply:({elements:ze,rects:tt,availableWidth:Ae,availableHeight:Ge})=>{const{width:At,height:rt}=tt.reference,We=ze.floating.style;We.setProperty("--radix-popper-available-width",`${Ae}px`),We.setProperty("--radix-popper-available-height",`${Ge}px`),We.setProperty("--radix-popper-anchor-width",`${At}px`),We.setProperty("--radix-popper-anchor-height",`${rt}px`)}}),C&&yhe({element:C,padding:a}),Nhe({arrowWidth:F,arrowHeight:T}),d&&ghe({strategy:"referenceHidden",...W})]}),[Z,le]=WG(J),ce=oc(p);Zi(()=>{oe&&(ce==null||ce())},[oe,ce]);const M=(de=V.arrow)==null?void 0:de.x,G=(we=V.arrow)==null?void 0:we.y,X=((Ce=V.arrow)==null?void 0:Ce.centerOffset)!==0,[re,ue]=O.useState();return Zi(()=>{g&&ue(window.getComputedStyle(g).zIndex)},[g]),x.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:oe?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[(Ne=V.transformOrigin)==null?void 0:Ne.x,(Ee=V.transformOrigin)==null?void 0:Ee.y].join(" "),...((Ue=V.hide)==null?void 0:Ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(Che,{scope:n,placedSide:Z,onArrowChange:_,arrowX:M,arrowY:G,shouldHideArrow:X,children:x.jsx(_n.div,{"data-side":Z,"data-align":le,...m,ref:b,style:{...m.style,animation:oe?void 0:"none"}})})})});HG.displayName=KD;var zG="PopperArrow",Bhe={top:"bottom",right:"left",bottom:"top",left:"right"},VG=O.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=She(zG,r),o=Bhe[i.placedSide];return x.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:x.jsx(vhe,{...s,ref:n,style:{...s.style,display:"block"}})})});VG.displayName=zG;function _he(t){return t!==null}var Nhe=t=>({name:"transformOrigin",options:t,fn(e){var y,g,v;const{placement:n,rects:r,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=WG(n),A={start:"0%",center:"50%",end:"100%"}[u],d=(((g=s.arrow)==null?void 0:g.x)??0)+a/2,h=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let p="",m="";return c==="bottom"?(p=o?A:`${d}px`,m=`${-l}px`):c==="top"?(p=o?A:`${d}px`,m=`${r.floating.height+l}px`):c==="right"?(p=`${-l}px`,m=o?A:`${h}px`):c==="left"&&(p=`${r.floating.width+l}px`,m=o?A:`${h}px`),{data:{x:p,y:m}}}});function WG(t){const[e,n="center"]=t.split("-");return[e,n]}var Ihe=MG,GG=jG,KG=HG,qG=VG,[_N,Lnt]=_f("Tooltip",[BN]),qD=BN(),XG="TooltipProvider",Ehe=700,ZM="tooltip.open",[khe,YG]=_N(XG),ZG=t=>{const{__scopeTooltip:e,delayDuration:n=Ehe,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=O.useRef(!0),a=O.useRef(!1),l=O.useRef(0);return O.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),x.jsx(khe,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:O.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:O.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:O.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};ZG.displayName=XG;var JG="Tooltip",[Dnt,NN]=_N(JG),c4="TooltipTrigger",The=O.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=NN(c4,n),i=YG(c4,n),o=qD(n),a=O.useRef(null),l=$r(e,a,s.onTriggerChange),c=O.useRef(!1),u=O.useRef(!1),A=O.useCallback(()=>c.current=!1,[]);return O.useEffect(()=>()=>document.removeEventListener("pointerup",A),[A]),x.jsx(GG,{asChild:!0,...o,children:x.jsx(_n.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:en(t.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:en(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:en(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",A,{once:!0})}),onFocus:en(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:en(t.onBlur,s.onClose),onClick:en(t.onClick,s.onClose)})})});The.displayName=c4;var Fhe="TooltipPortal",[Pnt,Lhe]=_N(Fhe,{forceMount:void 0}),G0="TooltipContent",eK=O.forwardRef((t,e)=>{const n=Lhe(G0,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=NN(G0,t.__scopeTooltip);return x.jsx(Pm,{present:r||o.open,children:o.disableHoverableContent?x.jsx(tK,{side:s,...i,ref:e}):x.jsx(Dhe,{side:s,...i,ref:e})})}),Dhe=O.forwardRef((t,e)=>{const n=NN(G0,t.__scopeTooltip),r=YG(G0,t.__scopeTooltip),s=O.useRef(null),i=$r(e,s),[o,a]=O.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:A}=r,d=O.useCallback(()=>{a(null),A(!1)},[A]),h=O.useCallback((p,m)=>{const y=p.currentTarget,g={x:p.clientX,y:p.clientY},v=Uhe(g,y.getBoundingClientRect()),b=Mhe(g,v),C=Qhe(m.getBoundingClientRect()),_=Hhe([...b,...C]);a(_),A(!0)},[A]);return O.useEffect(()=>()=>d(),[d]),O.useEffect(()=>{if(l&&u){const p=y=>h(y,u),m=y=>h(y,l);return l.addEventListener("pointerleave",p),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",m)}}},[l,u,h,d]),O.useEffect(()=>{if(o){const p=m=>{const y=m.target,g={x:m.clientX,y:m.clientY},v=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),b=!jhe(g,o);v?d():b&&(d(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,u,o,c,d]),x.jsx(tK,{...t,ref:i})}),[Phe,Rhe]=_N(JG,{isInside:!1}),Ohe=Pce("TooltipContent"),tK=O.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=NN(G0,n),c=qD(n),{onClose:u}=l;return O.useEffect(()=>(document.addEventListener(ZM,u),()=>document.removeEventListener(ZM,u)),[u]),O.useEffect(()=>{if(l.trigger){const A=d=>{const h=d.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",A,{capture:!0}),()=>window.removeEventListener("scroll",A,{capture:!0})}},[l.trigger,u]),x.jsx(Ux,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:A=>A.preventDefault(),onDismiss:u,children:x.jsxs(KG,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[x.jsx(Ohe,{children:r}),x.jsx(Phe,{scope:n,isInside:!0,children:x.jsx(rue,{id:l.contentId,role:"tooltip",children:s||r})})]})})});eK.displayName=G0;var nK="TooltipArrow",$he=O.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=qD(n);return Rhe(nK,n).isInside?null:x.jsx(qG,{...s,...r,ref:e})});$he.displayName=nK;function Uhe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Mhe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Qhe(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function jhe(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,u=a.y,A=l.x,d=l.y;u>r!=d>r&&n<(A-c)*(r-u)/(d-u)+c&&(s=!s)}return s}function Hhe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),zhe(e)}function zhe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Vhe=ZG,rK=eK;const Whe=Vhe,Ghe=O.forwardRef(({className:t,sideOffset:e=4,...n},r)=>x.jsx(rK,{ref:r,sideOffset:e,className:Yn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Ghe.displayName=rK.displayName;var IN=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},EN=typeof window>"u"||"Deno"in globalThis;function zc(){}function Khe(t,e){return typeof t=="function"?t(e):t}function qhe(t){return typeof t=="number"&&t>=0&&t!==1/0}function Xhe(t,e){return Math.max(t+(e||0)-Date.now(),0)}function u4(t,e){return typeof t=="function"?t(e):t}function Yhe(t,e){return typeof t=="function"?t(e):t}function JM(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==XD(o,e.options))return!1}else if(!Vv(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function e6(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(zv(e.options.mutationKey)!==zv(i))return!1}else if(!Vv(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function XD(t,e){return((e==null?void 0:e.queryKeyHashFn)||zv)(t)}function zv(t){return JSON.stringify(t,(e,n)=>A4(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Vv(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Vv(t[n],e[n])):!1}function sK(t,e){if(t===e)return t;const n=t6(t)&&t6(e);if(n||A4(t)&&A4(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<o;u++){const A=n?u:i[u];(!n&&l.has(A)||n)&&t[A]===void 0&&e[A]===void 0?(a[A]=void 0,c++):(a[A]=sK(t[A],e[A]),a[A]===t[A]&&t[A]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function t6(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function A4(t){if(!n6(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!n6(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function n6(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zhe(t){return new Promise(e=>{setTimeout(e,t)})}function Jhe(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?sK(t,e):e}function efe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function tfe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var YD=Symbol();function iK(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===YD?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Mp,bh,I0,uV,nfe=(uV=class extends IN{constructor(){super();Jn(this,Mp);Jn(this,bh);Jn(this,I0);gn(this,I0,e=>{if(!EN&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ke(this,bh)||this.setEventListener(Ke(this,I0))}onUnsubscribe(){var e;this.hasListeners()||((e=Ke(this,bh))==null||e.call(this),gn(this,bh,void 0))}setEventListener(e){var n;gn(this,I0,e),(n=Ke(this,bh))==null||n.call(this),gn(this,bh,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Ke(this,Mp)!==e&&(gn(this,Mp,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Ke(this,Mp)=="boolean"?Ke(this,Mp):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Mp=new WeakMap,bh=new WeakMap,I0=new WeakMap,uV),oK=new nfe,E0,Ch,k0,AV,rfe=(AV=class extends IN{constructor(){super();Jn(this,E0,!0);Jn(this,Ch);Jn(this,k0);gn(this,k0,e=>{if(!EN&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Ke(this,Ch)||this.setEventListener(Ke(this,k0))}onUnsubscribe(){var e;this.hasListeners()||((e=Ke(this,Ch))==null||e.call(this),gn(this,Ch,void 0))}setEventListener(e){var n;gn(this,k0,e),(n=Ke(this,Ch))==null||n.call(this),gn(this,Ch,e(this.setOnline.bind(this)))}setOnline(e){Ke(this,E0)!==e&&(gn(this,E0,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Ke(this,E0)}},E0=new WeakMap,Ch=new WeakMap,k0=new WeakMap,AV),GB=new rfe;function sfe(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function ife(t){return Math.min(1e3*2**t,3e4)}function aK(t){return(t??"online")==="online"?GB.isOnline():!0}var lK=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function mT(t){return t instanceof lK}function cK(t){let e=!1,n=0,r=!1,s;const i=sfe(),o=m=>{var y;r||(d(new lK(m)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>oK.isFocused()&&(t.networkMode==="always"||GB.isOnline())&&t.canRun(),u=()=>aK(t.networkMode)&&t.canRun(),A=m=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,m),s==null||s(),i.resolve(m))},d=m=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,m),s==null||s(),i.reject(m))},h=()=>new Promise(m=>{var y;s=g=>{(r||c())&&m(g)},(y=t.onPause)==null||y.call(t)}).then(()=>{var m;s=void 0,r||(m=t.onContinue)==null||m.call(t)}),p=()=>{if(r)return;let m;const y=n===0?t.initialPromise:void 0;try{m=y??t.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(A).catch(g=>{var I;if(r)return;const v=t.retry??(EN?0:3),b=t.retryDelay??ife,C=typeof b=="function"?b(n,g):b,_=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,g);if(e||!_){d(g);return}n++,(I=t.onFail)==null||I.call(t,n,g),Zhe(C).then(()=>c()?void 0:h()).then(()=>{e?d(g):p()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?p():h().then(p),i)}}var ofe=t=>setTimeout(t,0);function afe(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=ofe;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Qo=afe(),Qp,dV,uK=(dV=class{constructor(){Jn(this,Qp)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qhe(this.gcTime)&&gn(this,Qp,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(EN?1/0:5*60*1e3))}clearGcTimeout(){Ke(this,Qp)&&(clearTimeout(Ke(this,Qp)),gn(this,Qp,void 0))}},Qp=new WeakMap,dV),T0,jp,Ml,Hp,mo,Tx,zp,Wc,KA,hV,lfe=(hV=class extends uK{constructor(e){super();Jn(this,Wc);Jn(this,T0);Jn(this,jp);Jn(this,Ml);Jn(this,Hp);Jn(this,mo);Jn(this,Tx);Jn(this,zp);gn(this,zp,!1),gn(this,Tx,e.defaultOptions),this.setOptions(e.options),this.observers=[],gn(this,Hp,e.client),gn(this,Ml,Ke(this,Hp).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,gn(this,T0,ufe(this.options)),this.state=e.state??Ke(this,T0),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Ke(this,mo))==null?void 0:e.promise}setOptions(e){this.options={...Ke(this,Tx),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ke(this,Ml).remove(this)}setData(e,n){const r=Jhe(this.state.data,e,this.options);return lo(this,Wc,KA).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){lo(this,Wc,KA).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=Ke(this,mo))==null?void 0:r.promise;return(s=Ke(this,mo))==null||s.cancel(e),n?n.then(zc).catch(zc):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ke(this,T0))}isActive(){return this.observers.some(e=>Yhe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===YD||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>u4(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Xhe(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Ke(this,mo))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Ke(this,mo))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Ke(this,Ml).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Ke(this,mo)&&(Ke(this,zp)?Ke(this,mo).cancel({revert:!0}):Ke(this,mo).cancelRetry()),this.scheduleGc()),Ke(this,Ml).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||lo(this,Wc,KA).call(this,{type:"invalidate"})}fetch(e,n){var c,u,A;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Ke(this,mo))return Ke(this,mo).continueRetry(),Ke(this,mo).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(gn(this,zp,!0),r.signal)})},i=()=>{const d=iK(this.options,n),p=(()=>{const m={client:Ke(this,Hp),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return gn(this,zp,!1),this.options.persister?this.options.persister(d,p,this):d(p)},a=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Ke(this,Hp),state:this.state,fetchFn:i};return s(d),d})();(c=this.options.behavior)==null||c.onFetch(a,this),gn(this,jp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&lo(this,Wc,KA).call(this,{type:"fetch",meta:(A=a.fetchOptions)==null?void 0:A.meta});const l=d=>{var h,p,m,y;mT(d)&&d.silent||lo(this,Wc,KA).call(this,{type:"error",error:d}),mT(d)||((p=(h=Ke(this,Ml).config).onError)==null||p.call(h,d,this),(y=(m=Ke(this,Ml).config).onSettled)==null||y.call(m,this.state.data,d,this)),this.scheduleGc()};return gn(this,mo,cK({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var h,p,m,y;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(g){l(g);return}(p=(h=Ke(this,Ml).config).onSuccess)==null||p.call(h,d,this),(y=(m=Ke(this,Ml).config).onSettled)==null||y.call(m,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,h)=>{lo(this,Wc,KA).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{lo(this,Wc,KA).call(this,{type:"pause"})},onContinue:()=>{lo(this,Wc,KA).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),Ke(this,mo).start()}},T0=new WeakMap,jp=new WeakMap,Ml=new WeakMap,Hp=new WeakMap,mo=new WeakMap,Tx=new WeakMap,zp=new WeakMap,Wc=new WeakSet,KA=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...cfe(r.data,this.options),fetchMeta:e.meta??null};case"success":return gn(this,jp,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return mT(s)&&s.revert&&Ke(this,jp)?{...Ke(this,jp),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Qo.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Ke(this,Ml).notify({query:this,type:"updated",action:e})})},hV);function cfe(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:aK(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ufe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qu,fV,Afe=(fV=class extends IN{constructor(e={}){super();Jn(this,Qu);this.config=e,gn(this,Qu,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??XD(s,n);let o=this.get(i);return o||(o=new lfe({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){Ke(this,Qu).has(e.queryHash)||(Ke(this,Qu).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Ke(this,Qu).get(e.queryHash);n&&(e.destroy(),n===e&&Ke(this,Qu).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Qo.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ke(this,Qu).get(e)}getAll(){return[...Ke(this,Qu).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>JM(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>JM(e,r)):n}notify(e){Qo.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Qo.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Qo.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qu=new WeakMap,fV),ju,$o,Vp,Hu,ch,pV,dfe=(pV=class extends uK{constructor(e){super();Jn(this,Hu);Jn(this,ju);Jn(this,$o);Jn(this,Vp);this.mutationId=e.mutationId,gn(this,$o,e.mutationCache),gn(this,ju,[]),this.state=e.state||hfe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Ke(this,ju).includes(e)||(Ke(this,ju).push(e),this.clearGcTimeout(),Ke(this,$o).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){gn(this,ju,Ke(this,ju).filter(n=>n!==e)),this.scheduleGc(),Ke(this,$o).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Ke(this,ju).length||(this.state.status==="pending"?this.scheduleGc():Ke(this,$o).remove(this))}continue(){var e;return((e=Ke(this,Vp))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,c,u,A,d,h,p,m,y,g,v,b,C,_,I,F,T;const n=()=>{lo(this,Hu,ch).call(this,{type:"continue"})};gn(this,Vp,cK({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(D,H)=>{lo(this,Hu,ch).call(this,{type:"failed",failureCount:D,error:H})},onPause:()=>{lo(this,Hu,ch).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ke(this,$o).canRun(this)}));const r=this.state.status==="pending",s=!Ke(this,Vp).canStart();try{if(r)n();else{lo(this,Hu,ch).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=Ke(this,$o).config).onMutate)==null?void 0:o.call(i,e,this));const H=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));H!==this.state.context&&lo(this,Hu,ch).call(this,{type:"pending",context:H,variables:e,isPaused:s})}const D=await Ke(this,Vp).start();return await((u=(c=Ke(this,$o).config).onSuccess)==null?void 0:u.call(c,D,e,this.state.context,this)),await((d=(A=this.options).onSuccess)==null?void 0:d.call(A,D,e,this.state.context)),await((p=(h=Ke(this,$o).config).onSettled)==null?void 0:p.call(h,D,null,this.state.variables,this.state.context,this)),await((y=(m=this.options).onSettled)==null?void 0:y.call(m,D,null,e,this.state.context)),lo(this,Hu,ch).call(this,{type:"success",data:D}),D}catch(D){try{throw await((v=(g=Ke(this,$o).config).onError)==null?void 0:v.call(g,D,e,this.state.context,this)),await((C=(b=this.options).onError)==null?void 0:C.call(b,D,e,this.state.context)),await((I=(_=Ke(this,$o).config).onSettled)==null?void 0:I.call(_,void 0,D,this.state.variables,this.state.context,this)),await((T=(F=this.options).onSettled)==null?void 0:T.call(F,void 0,D,e,this.state.context)),D}finally{lo(this,Hu,ch).call(this,{type:"error",error:D})}}finally{Ke(this,$o).runNext(this)}}},ju=new WeakMap,$o=new WeakMap,Vp=new WeakMap,Hu=new WeakSet,ch=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Qo.batch(()=>{Ke(this,ju).forEach(r=>{r.onMutationUpdate(e)}),Ke(this,$o).notify({mutation:this,type:"updated",action:e})})},pV);function hfe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rd,Gc,Fx,mV,ffe=(mV=class extends IN{constructor(e={}){super();Jn(this,rd);Jn(this,Gc);Jn(this,Fx);this.config=e,gn(this,rd,new Set),gn(this,Gc,new Map),gn(this,Fx,0)}build(e,n,r){const s=new dfe({mutationCache:this,mutationId:++cC(this,Fx)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){Ke(this,rd).add(e);const n=TC(e);if(typeof n=="string"){const r=Ke(this,Gc).get(n);r?r.push(e):Ke(this,Gc).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Ke(this,rd).delete(e)){const n=TC(e);if(typeof n=="string"){const r=Ke(this,Gc).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&Ke(this,Gc).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=TC(e);if(typeof n=="string"){const r=Ke(this,Gc).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=TC(e);if(typeof n=="string"){const s=(r=Ke(this,Gc).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Qo.batch(()=>{Ke(this,rd).forEach(e=>{this.notify({type:"removed",mutation:e})}),Ke(this,rd).clear(),Ke(this,Gc).clear()})}getAll(){return Array.from(Ke(this,rd))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>e6(n,r))}findAll(e={}){return this.getAll().filter(n=>e6(e,n))}notify(e){Qo.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Qo.batch(()=>Promise.all(e.map(n=>n.continue().catch(zc))))}},rd=new WeakMap,Gc=new WeakMap,Fx=new WeakMap,mV);function TC(t){var e;return(e=t.options.scope)==null?void 0:e.id}function r6(t){return{onFetch:(e,n)=>{var u,A,d,h,p;const r=e.options,s=(d=(A=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:A.fetchMore)==null?void 0:d.direction,i=((h=e.state.data)==null?void 0:h.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},g=iK(e.options,e.fetchOptions),v=async(b,C,_)=>{if(m)return Promise.reject();if(C==null&&b.pages.length)return Promise.resolve(b);const F=(()=>{const R={client:e.client,queryKey:e.queryKey,pageParam:C,direction:_?"backward":"forward",meta:e.options.meta};return y(R),R})(),T=await g(F),{maxPages:D}=e.options,H=_?tfe:efe;return{pages:H(b.pages,T,D),pageParams:H(b.pageParams,C,D)}};if(s&&i.length){const b=s==="backward",C=b?pfe:s6,_={pages:i,pageParams:o},I=C(r,_);a=await v(_,I,b)}else{const b=t??i.length;do{const C=l===0?o[0]??r.initialPageParam:s6(r,a);if(l>0&&C==null)break;a=await v(a,C),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var m,y;return(y=(m=e.options).persister)==null?void 0:y.call(m,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function s6(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function pfe(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var vs,Sh,Bh,F0,L0,_h,D0,P0,gV,mfe=(gV=class{constructor(t={}){Jn(this,vs);Jn(this,Sh);Jn(this,Bh);Jn(this,F0);Jn(this,L0);Jn(this,_h);Jn(this,D0);Jn(this,P0);gn(this,vs,t.queryCache||new Afe),gn(this,Sh,t.mutationCache||new ffe),gn(this,Bh,t.defaultOptions||{}),gn(this,F0,new Map),gn(this,L0,new Map),gn(this,_h,0)}mount(){cC(this,_h)._++,Ke(this,_h)===1&&(gn(this,D0,oK.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ke(this,vs).onFocus())})),gn(this,P0,GB.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ke(this,vs).onOnline())})))}unmount(){var t,e;cC(this,_h)._--,Ke(this,_h)===0&&((t=Ke(this,D0))==null||t.call(this),gn(this,D0,void 0),(e=Ke(this,P0))==null||e.call(this),gn(this,P0,void 0))}isFetching(t){return Ke(this,vs).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Ke(this,Sh).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ke(this,vs).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Ke(this,vs).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(u4(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Ke(this,vs).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=Ke(this,vs).get(r.queryHash),i=s==null?void 0:s.state.data,o=Khe(e,i);if(o!==void 0)return Ke(this,vs).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Qo.batch(()=>Ke(this,vs).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ke(this,vs).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Ke(this,vs);Qo.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Ke(this,vs);return Qo.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Qo.batch(()=>Ke(this,vs).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(zc).catch(zc)}invalidateQueries(t,e={}){return Qo.batch(()=>(Ke(this,vs).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Qo.batch(()=>Ke(this,vs).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(zc)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(zc)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Ke(this,vs).build(this,e);return n.isStaleByTime(u4(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(zc).catch(zc)}fetchInfiniteQuery(t){return t.behavior=r6(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(zc).catch(zc)}ensureInfiniteQueryData(t){return t.behavior=r6(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return GB.isOnline()?Ke(this,Sh).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ke(this,vs)}getMutationCache(){return Ke(this,Sh)}getDefaultOptions(){return Ke(this,Bh)}setDefaultOptions(t){gn(this,Bh,t)}setQueryDefaults(t,e){Ke(this,F0).set(zv(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Ke(this,F0).values()],n={};return e.forEach(r=>{Vv(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Ke(this,L0).set(zv(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Ke(this,L0).values()],n={};return e.forEach(r=>{Vv(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Ke(this,Bh).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=XD(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===YD&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Ke(this,Bh).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Ke(this,vs).clear(),Ke(this,Sh).clear()}},vs=new WeakMap,Sh=new WeakMap,Bh=new WeakMap,F0=new WeakMap,L0=new WeakMap,_h=new WeakMap,D0=new WeakMap,P0=new WeakMap,gV),gfe=O.createContext(void 0),yfe=({client:t,children:e})=>(O.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(gfe.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wv.apply(this,arguments)}var Eh;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Eh||(Eh={}));const i6="popstate";function wfe(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return d4("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:KB(s)}return xfe(e,n,null,t)}function Js(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AK(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vfe(){return Math.random().toString(36).substr(2,8)}function o6(t,e){return{usr:t.state,key:t.key,idx:e}}function d4(t,e,n,r){return n===void 0&&(n=null),Wv({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xy(e):e,{state:n,key:e&&e.key||r||vfe()})}function KB(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xy(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xfe(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Eh.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Wv({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function A(){a=Eh.Pop;let y=u(),g=y==null?null:y-c;c=y,l&&l({action:a,location:m.location,delta:g})}function d(y,g){a=Eh.Push;let v=d4(m.location,y,g);c=u()+1;let b=o6(v,c),C=m.createHref(v);try{o.pushState(b,"",C)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(C)}i&&l&&l({action:a,location:m.location,delta:1})}function h(y,g){a=Eh.Replace;let v=d4(m.location,y,g);c=u();let b=o6(v,c),C=m.createHref(v);o.replaceState(b,"",C),i&&l&&l({action:a,location:m.location,delta:0})}function p(y){let g=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:KB(y);return v=v.replace(/ $/,"%20"),Js(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let m={get action(){return a},get location(){return t(s,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(i6,A),l=y,()=>{s.removeEventListener(i6,A),l=null}},createHref(y){return e(s,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(y){return o.go(y)}};return m}var a6;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(a6||(a6={}));function bfe(t,e,n){return n===void 0&&(n="/"),Cfe(t,e,n,!1)}function Cfe(t,e,n,r){let s=typeof e=="string"?xy(e):e,i=ZD(s.pathname||"/",n);if(i==null)return null;let o=dK(t);Sfe(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Pfe(i);a=Lfe(o[l],c,r)}return a}function dK(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Js(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Kh([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Js(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),dK(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Tfe(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of hK(i.path))s(i,o,l)}),e}function hK(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=hK(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Sfe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ffe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Bfe=/^:[\w-]+$/,_fe=3,Nfe=2,Ife=1,Efe=10,kfe=-2,l6=t=>t==="*";function Tfe(t,e){let n=t.split("/"),r=n.length;return n.some(l6)&&(r+=kfe),e&&(r+=Nfe),n.filter(s=>!l6(s)).reduce((s,i)=>s+(Bfe.test(i)?_fe:i===""?Ife:Efe),r)}function Ffe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Lfe(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",A=c6({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),d=l.route;if(!A&&c&&n&&!r[r.length-1].route.index&&(A=c6({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!A)return null;Object.assign(s,A.params),o.push({params:s,pathname:Kh([i,A.pathname]),pathnameBase:Ufe(Kh([i,A.pathnameBase])),route:d}),A.pathnameBase!=="/"&&(i=Kh([i,A.pathnameBase]))}return o}function c6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Dfe(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,A)=>{let{paramName:d,isOptional:h}=u;if(d==="*"){let m=a[A]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[A];return h&&!p?c[d]=void 0:c[d]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function Dfe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),AK(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Pfe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return AK(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ZD(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Rfe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?xy(t):t;return{pathname:n?n.startsWith("/")?n:Ofe(n,e):e,search:Mfe(r),hash:Qfe(s)}}function Ofe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function gT(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $fe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fK(t,e){let n=$fe(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function pK(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=xy(t):(s=Wv({},t),Js(!s.pathname||!s.pathname.includes("?"),gT("?","pathname","search",s)),Js(!s.pathname||!s.pathname.includes("#"),gT("#","pathname","hash",s)),Js(!s.search||!s.search.includes("#"),gT("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let A=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),A-=1;s.pathname=d.join("/")}a=A>=0?e[A]:"/"}let l=Rfe(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Kh=t=>t.join("/").replace(/\/\/+/g,"/"),Ufe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Mfe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qfe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jfe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mK=["post","put","patch","delete"];new Set(mK);const Hfe=["get",...mK];new Set(Hfe);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gv.apply(this,arguments)}const JD=O.createContext(null),zfe=O.createContext(null),Rm=O.createContext(null),kN=O.createContext(null),Nf=O.createContext({outlet:null,matches:[],isDataRoute:!1}),gK=O.createContext(null);function Vfe(t,e){let{relative:n}=e===void 0?{}:e;Hx()||Js(!1);let{basename:r,navigator:s}=O.useContext(Rm),{hash:i,pathname:o,search:a}=wK(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Kh([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Hx(){return O.useContext(kN)!=null}function zx(){return Hx()||Js(!1),O.useContext(kN).location}function yK(t){O.useContext(Rm).static||O.useLayoutEffect(t)}function sa(){let{isDataRoute:t}=O.useContext(Nf);return t?spe():Wfe()}function Wfe(){Hx()||Js(!1);let t=O.useContext(JD),{basename:e,future:n,navigator:r}=O.useContext(Rm),{matches:s}=O.useContext(Nf),{pathname:i}=zx(),o=JSON.stringify(fK(s,n.v7_relativeSplatPath)),a=O.useRef(!1);return yK(()=>{a.current=!0}),O.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let A=pK(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:Kh([e,A.pathname])),(u.replace?r.replace:r.push)(A,u.state,u)},[e,r,o,i,t])}function eP(){let{matches:t}=O.useContext(Nf),e=t[t.length-1];return e?e.params:{}}function wK(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(Rm),{matches:s}=O.useContext(Nf),{pathname:i}=zx(),o=JSON.stringify(fK(s,r.v7_relativeSplatPath));return O.useMemo(()=>pK(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Gfe(t,e){return Kfe(t,e)}function Kfe(t,e,n,r){Hx()||Js(!1);let{navigator:s}=O.useContext(Rm),{matches:i}=O.useContext(Nf),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=zx(),u;if(e){var A;let y=typeof e=="string"?xy(e):e;l==="/"||(A=y.pathname)!=null&&A.startsWith(l)||Js(!1),u=y}else u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=bfe(t,{pathname:h}),m=Jfe(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Kh([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Kh([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&m?O.createElement(kN.Provider,{value:{location:Gv({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Eh.Pop}},m):m}function qfe(){let t=rpe(),e=jfe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:s},n):null,null)}const Xfe=O.createElement(qfe,null);class Yfe extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(Nf.Provider,{value:this.props.routeContext},O.createElement(gK.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zfe(t){let{routeContext:e,match:n,children:r}=t,s=O.useContext(JD);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Nf.Provider,{value:e},r)}function Jfe(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(A=>A.route.id&&(a==null?void 0:a[A.route.id])!==void 0);u>=0||Js(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let A=o[u];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(c=u),A.route.id){let{loaderData:d,errors:h}=n,p=A.route.loader&&d[A.route.id]===void 0&&(!h||h[A.route.id]===void 0);if(A.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,A,d)=>{let h,p=!1,m=null,y=null;n&&(h=a&&A.route.id?a[A.route.id]:void 0,m=A.route.errorElement||Xfe,l&&(c<0&&d===0?(p=!0,y=null):c===d&&(p=!0,y=A.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,d+1)),v=()=>{let b;return h?b=m:p?b=y:A.route.Component?b=O.createElement(A.route.Component,null):A.route.element?b=A.route.element:b=u,O.createElement(Zfe,{match:A,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:b})};return n&&(A.route.ErrorBoundary||A.route.errorElement||d===0)?O.createElement(Yfe,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var vK=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vK||{}),qB=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qB||{});function epe(t){let e=O.useContext(JD);return e||Js(!1),e}function tpe(t){let e=O.useContext(zfe);return e||Js(!1),e}function npe(t){let e=O.useContext(Nf);return e||Js(!1),e}function xK(t){let e=npe(),n=e.matches[e.matches.length-1];return n.route.id||Js(!1),n.route.id}function rpe(){var t;let e=O.useContext(gK),n=tpe(qB.UseRouteError),r=xK(qB.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function spe(){let{router:t}=epe(vK.UseNavigateStable),e=xK(qB.UseNavigateStable),n=O.useRef(!1);return yK(()=>{n.current=!0}),O.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Gv({fromRouteId:e},i)))},[t,e])}function ipe(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Za(t){Js(!1)}function ope(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Eh.Pop,navigator:i,static:o=!1,future:a}=t;Hx()&&Js(!1);let l=e.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:l,navigator:i,static:o,future:Gv({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=xy(r));let{pathname:u="/",search:A="",hash:d="",state:h=null,key:p="default"}=r,m=O.useMemo(()=>{let y=ZD(u,l);return y==null?null:{location:{pathname:y,search:A,hash:d,state:h,key:p},navigationType:s}},[l,u,A,d,h,p,s]);return m==null?null:O.createElement(Rm.Provider,{value:c},O.createElement(kN.Provider,{children:n,value:m}))}function ape(t){let{children:e,location:n}=t;return Gfe(h4(e),n)}new Promise(()=>{});function h4(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,s)=>{if(!O.isValidElement(r))return;let i=[...e,s];if(r.type===O.Fragment){n.push.apply(n,h4(r.props.children,i));return}r.type!==Za&&Js(!1),!r.props.index||!r.props.children||Js(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=h4(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function f4(){return f4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f4.apply(this,arguments)}function lpe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function cpe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function upe(t,e){return t.button===0&&(!e||e==="_self")&&!cpe(t)}const Ape=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dpe="6";try{window.__reactRouterVersion=dpe}catch{}const hpe="startTransition",u6=UL[hpe];function fpe(t){let{basename:e,children:n,future:r,window:s}=t,i=O.useRef();i.current==null&&(i.current=wfe({window:s,v5Compat:!0}));let o=i.current,[a,l]=O.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=O.useCallback(A=>{c&&u6?u6(()=>l(A)):l(A)},[l,c]);return O.useLayoutEffect(()=>o.listen(u),[o,u]),O.useEffect(()=>ipe(r),[r]),O.createElement(ope,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const ppe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mpe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zg=O.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:A}=e,d=lpe(e,Ape),{basename:h}=O.useContext(Rm),p,m=!1;if(typeof c=="string"&&mpe.test(c)&&(p=c,ppe))try{let b=new URL(window.location.href),C=c.startsWith("//")?new URL(b.protocol+c):new URL(c),_=ZD(C.pathname,h);C.origin===b.origin&&_!=null?c=_+C.search+C.hash:m=!0}catch{}let y=Vfe(c,{relative:s}),g=gpe(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:A});function v(b){r&&r(b),b.defaultPrevented||g(b)}return O.createElement("a",f4({},d,{href:p||y,onClick:m||i?r:v,ref:n,target:l}))});var A6;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(A6||(A6={}));var d6;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(d6||(d6={}));function gpe(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=sa(),c=zx(),u=wK(t,{relative:o});return O.useCallback(A=>{if(upe(A,n)){A.preventDefault();let d=r!==void 0?r:KB(c)===KB(u);l(t,{replace:d,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const ype=[{id:"owner1",email:"elite@playpal.com",password:"elite123",turfId:"ahm-001",turfName:"Elite Cricket Arena"},{id:"owner2",email:"shuttle@playpal.com",password:"shuttle123",turfId:"ahm-002",turfName:"Shuttle Masters Badminton"},{id:"owner3",email:"goalzone@playpal.com",password:"goal123",turfId:"ahm-003",turfName:"Goal Zone Football Turf"},{id:"owner4",email:"diamond@playpal.com",password:"diamond123",turfId:"srt-001",turfName:"Diamond City Cricket Ground"},{id:"owner5",email:"baroda@playpal.com",password:"baroda123",turfId:"vad-001",turfName:"Baroda Cricket Academy"}],bK=O.createContext(void 0),wpe=({children:t})=>{const[e,n]=O.useState(null),[r,s]=O.useState(!0);O.useEffect(()=>{const u=localStorage.getItem("playpal_user");if(u)try{const A=JSON.parse(u);n({...A,createdAt:new Date(A.createdAt)})}catch{localStorage.removeItem("playpal_user")}s(!1)},[]);const i=async(u,A,d)=>{if(s(!0),await new Promise(h=>setTimeout(h,800)),d==="turf_owner"){const h=ype.find(p=>p.email===u&&p.password===A);if(h){const p={id:h.id,name:h.turfName+" Admin",email:h.email,phone:"+91 98765 00000",role:"turf_owner",city:"Ahmedabad",points:0,createdAt:new Date,turfId:h.turfId,turfName:h.turfName};return n(p),localStorage.setItem("playpal_user",JSON.stringify(p)),s(!1),!0}}else{const p=JSON.parse(localStorage.getItem("playpal_registered_users")||"[]").find(m=>m.email===u&&m.password===A);if(p){const m={id:p.id,name:p.name,email:p.email,phone:p.phone,role:"user",city:p.city,points:p.points||100,createdAt:new Date(p.createdAt),skills:p.skills||[],reputation:p.reputation||4.8,feedbackCount:p.feedbackCount||12};return n(m),localStorage.setItem("playpal_user",JSON.stringify(m)),s(!1),!0}}return s(!1),!1},o=async u=>{s(!0),await new Promise(p=>setTimeout(p,800));const A=JSON.parse(localStorage.getItem("playpal_registered_users")||"[]");if(A.some(p=>p.email===u.email))return s(!1),!1;const d={id:`user_${Date.now()}`,name:u.name,email:u.email,phone:u.phone,password:u.password,city:u.city,points:0,createdAt:new Date().toISOString()};A.push(d),localStorage.setItem("playpal_registered_users",JSON.stringify(A));const h={id:d.id,name:d.name,email:d.email,phone:d.phone,role:"user",city:d.city,points:d.points,createdAt:new Date,skills:[],reputation:5,feedbackCount:0};return n(h),localStorage.setItem("playpal_user",JSON.stringify(h)),s(!1),!0},a=()=>{n(null),localStorage.removeItem("playpal_user")},l=u=>{if(e){const A={...e,...u};n(A),localStorage.setItem("playpal_user",JSON.stringify(A))}},c=u=>{if(e){const A={...e,points:e.points+u};n(A),localStorage.setItem("playpal_user",JSON.stringify(A))}};return x.jsx(bK.Provider,{value:{user:e,isAuthenticated:!!e,isLoading:r,login:i,signup:o,logout:a,updateUser:l,addPoints:c},children:t})},If=()=>{const t=O.useContext(bK);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},CK=O.createContext(void 0),vpe=()=>{const t=[];for(let e=6;e<=23;e++){const n=`${e.toString().padStart(2,"0")}:00`;t.push(n)}return t},xpe=vpe(),bpe=({children:t})=>{const[e,n]=O.useState([]);O.useEffect(()=>{const h=localStorage.getItem("playpal_bookings");if(h)try{n(JSON.parse(h))}catch{localStorage.removeItem("playpal_bookings")}},[]);const r=h=>{n(h),localStorage.setItem("playpal_bookings",JSON.stringify(h))},s=h=>{const p={...h,id:`booking_${Date.now()}`,createdAt:new Date().toISOString()},m=[...e,p];return r(m),p},i=h=>{const p=e.map(m=>m.id===h?{...m,status:"Cancelled"}:m);r(p)},o=h=>{const p=e.map(m=>m.id===h?{...m,status:"Completed",paidAmount:m.totalAmount,remainingAmount:0}:m);r(p)},a=h=>e.filter(p=>p.userId===h),l=h=>e.filter(p=>p.venueId===h),c=(h,p)=>e.filter(m=>m.venueId===h&&m.date===p&&m.status!=="Cancelled"),u=(h,p)=>{const m=c(h,p),y=new Set(m.map(g=>g.timeSlot));return xpe.map(g=>({time:g,isAvailable:!y.has(g),price:A(g)}))},A=h=>{const p=parseInt(h.split(":")[0]);return p>=6&&p<=10||p>=17&&p<=22?1500:1e3},d=(h,p,m)=>{const g=u(h,p).find(v=>v.time===m);return(g==null?void 0:g.isAvailable)??!1};return x.jsx(CK.Provider,{value:{bookings:e,addBooking:s,cancelBooking:i,completeBooking:o,getBookingsByUser:a,getBookingsByVenue:l,getBookingsByDate:c,getAvailableSlots:u,isSlotAvailable:d},children:t})},TN=()=>{const t=O.useContext(CK);if(t===void 0)throw new Error("useBooking must be used within a BookingProvider");return t},dw=[{name:"Ahmedabad",district:"Ahmedabad",state:"Gujarat"},{name:"Surat",district:"Surat",state:"Gujarat"},{name:"Vadodara",district:"Vadodara",state:"Gujarat"},{name:"Rajkot",district:"Rajkot",state:"Gujarat"},{name:"Gandhinagar",district:"Gandhinagar",state:"Gujarat"},{name:"Bhavnagar",district:"Bhavnagar",state:"Gujarat"},{name:"Jamnagar",district:"Jamnagar",state:"Gujarat"},{name:"Junagadh",district:"Junagadh",state:"Gujarat"},{name:"Anand",district:"Anand",state:"Gujarat"},{name:"Nadiad",district:"Kheda",state:"Gujarat"},{name:"Morbi",district:"Morbi",state:"Gujarat"},{name:"Mehsana",district:"Mehsana",state:"Gujarat"},{name:"Bharuch",district:"Bharuch",state:"Gujarat"},{name:"Vapi",district:"Valsad",state:"Gujarat"},{name:"Navsari",district:"Navsari",state:"Gujarat"},{name:"Veraval",district:"Gir Somnath",state:"Gujarat"},{name:"Porbandar",district:"Porbandar",state:"Gujarat"},{name:"Godhra",district:"Panchmahal",state:"Gujarat"},{name:"Bhuj",district:"Kutch",state:"Gujarat"},{name:"Palanpur",district:"Banaskantha",state:"Gujarat"}],p4=[{id:"ahm-001",name:"Elite Cricket Arena",image:"https://images.unsplash.com/photo-1531415074968-036ba1b575da?w=800&auto=format&fit=crop",sports:["Cricket"],location:"Satellite Road",city:"Ahmedabad",district:"Ahmedabad",address:"Near Jodhpur Cross Roads, Satellite Road, Ahmedabad - 380015",distance:"2.5 km",pricePerHour:1200,rating:4.8,reviews:324,crowdLevel:"Medium",weather:"32C Sunny",slotsAvailable:4,isVerified:!0,facilities:["Floodlights","Drinking Water","Changing Room","Parking","First Aid","Scoreboard"],rules:["Wear proper cricket shoes","No metal spikes allowed","Book 2 hours in advance"],contactPhone:"+91 98765 43210",openTime:"06:00",closeTime:"23:00",images:["https://images.unsplash.com/photo-1531415074968-036ba1b575da?w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1540747913346-19e32dc3e97e?w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1587280501635-68a0e82cd5ff?w=800&auto=format&fit=crop"],description:"Elite Cricket Arena is Ahmedabad's premier cricket facility featuring international-standard turf and professional-grade equipment."},{id:"ahm-002",name:"Shuttle Masters Badminton",image:"https://images.unsplash.com/photo-1626224583764-f87db24ac4ea?w=800&auto=format&fit=crop",sports:["Badminton"],location:"Prahladnagar",city:"Ahmedabad",district:"Ahmedabad",address:"Corporate Road, Prahladnagar, Ahmedabad - 380015",distance:"1.8 km",pricePerHour:400,rating:4.9,reviews:512,crowdLevel:"Low",weather:"32C Sunny",slotsAvailable:8,isVerified:!0,facilities:["AC Courts","Pro Shop","Coaching","Cafeteria","Parking","Shower"],rules:["Non-marking shoes only","Rackets available for rent","Prior booking required"],contactPhone:"+91 98765 43211",openTime:"06:00",closeTime:"22:00",images:["https://images.unsplash.com/photo-1626224583764-f87db24ac4ea?w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1613918431703-aa50889e3be4?w=800&auto=format&fit=crop"],description:"Premium air-conditioned badminton courts with wooden flooring and professional lighting."},{id:"ahm-003",name:"Goal Zone Football Turf",image:"https://images.unsplash.com/photo-1529900748604-07564a03e7a6?w=800&auto=format&fit=crop",sports:["Football"],location:"SG Highway",city:"Ahmedabad",district:"Ahmedabad",address:"Near Karnavati Club, SG Highway, Ahmedabad - 380054",distance:"4.2 km",pricePerHour:1500,rating:4.7,reviews:289,crowdLevel:"High",weather:"32C Sunny",slotsAvailable:2,isVerified:!0,facilities:["FIFA Standard Turf","Floodlights","Changing Room","Refreshments","Parking"],rules:["Football studs only","Team jersey recommended","Minimum 5 players per team"],contactPhone:"+91 98765 43212",openTime:"05:00",closeTime:"24:00",images:["https://images.unsplash.com/photo-1529900748604-07564a03e7a6?w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&auto=format&fit=crop"],description:"Professional 5-a-side and 7-a-side football turfs with FIFA-standard artificial grass."},{id:"ahm-004",name:"Ace Tennis Academy",image:"https://images.unsplash.com/photo-1622279457486-62dcc4a431d6?w=800&auto=format&fit=crop",sports:["Tennis"],location:"Bodakdev",city:"Ahmedabad",district:"Ahmedabad",address:"Judges Bungalow Road, Bodakdev, Ahmedabad - 380054",distance:"3.1 km",pricePerHour:600,rating:4.6,reviews:178,crowdLevel:"Low",weather:"32C Sunny",slotsAvailable:6,isVerified:!0,facilities:["Clay Courts","Hard Courts","Pro Coaching","Equipment Rental","Parking"],rules:["Tennis shoes mandatory","White dress preferred","Book 1 hour minimum"],contactPhone:"+91 98765 43213",openTime:"06:00",closeTime:"21:00",images:["https://images.unsplash.com/photo-1622279457486-62dcc4a431d6?w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1554068865-24cecd4e34b8?w=800&auto=format&fit=crop"],description:"Premier tennis facility with both clay and hard courts, professional coaching available."},{id:"ahm-005",name:"Pickle Point Arena",image:"https://images.unsplash.com/photo-1554068865-24cecd4e34b8?w=800&auto=format&fit=crop",sports:["Pickleball"],location:"Vastrapur",city:"Ahmedabad",district:"Ahmedabad",address:"Near Vastrapur Lake, Vastrapur, Ahmedabad - 380015",distance:"2.8 km",pricePerHour:350,rating:4.5,reviews:89,crowdLevel:"Low",weather:"32C Sunny",slotsAvailable:10,isVerified:!1,facilities:["Indoor Courts","Equipment Rental","Coaching","Cafeteria"],rules:["Paddles available for rent","Court shoes required"],contactPhone:"+91 98765 43214",openTime:"07:00",closeTime:"21:00",images:["https://images.unsplash.com/photo-1554068865-24cecd4e34b8?w=800&auto=format&fit=crop"],description:"Gujarat's first dedicated Pickleball arena with professional courts and equipment."},{id:"srt-001",name:"Diamond City Cricket Ground",image:"https://images.unsplash.com/photo-1540747913346-19e32dc3e97e?w=800&auto=format&fit=crop",sports:["Cricket"],location:"Vesu",city:"Surat",district:"Surat",address:"VIP Road, Vesu, Surat - 395007",distance:"3.5 km",pricePerHour:1e3,rating:4.7,reviews:256,crowdLevel:"Medium",weather:"34C Sunny",slotsAvailable:5,isVerified:!0,facilities:["Night Lights","Practice Nets","Changing Room","Parking","Canteen"],rules:["Cricket whites preferred","Bring your own equipment"],contactPhone:"+91 98765 43220",openTime:"05:30",closeTime:"23:00",images:["https://images.unsplash.com/photo-1540747913346-19e32dc3e97e?w=800&auto=format&fit=crop"],description:"Premium cricket facility in Surat with excellent pitch conditions and facilities."},{id:"srt-002",name:"Surat Sports Complex",image:"https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&auto=format&fit=crop",sports:["Football","Cricket","Tennis"],location:"Athwa",city:"Surat",district:"Surat",address:"Athwa Gate, Surat - 395001",distance:"2.0 km",pricePerHour:800,rating:4.5,reviews:189,crowdLevel:"High",weather:"34C Sunny",slotsAvailable:3,isVerified:!0,facilities:["Multi-Sport","Gym","Swimming Pool","Cafeteria","Parking"],rules:["Membership available","Day passes accepted"],contactPhone:"+91 98765 43221",openTime:"06:00",closeTime:"22:00",images:["https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&auto=format&fit=crop"],description:"Multi-sport complex offering various sports facilities under one roof."},{id:"srt-003",name:"Smash Badminton Hub",image:"https://images.unsplash.com/photo-1613918431703-aa50889e3be4?w=800&auto=format&fit=crop",sports:["Badminton"],location:"Adajan",city:"Surat",district:"Surat",address:"Adajan BRTS Road, Surat - 395009",distance:"4.5 km",pricePerHour:350,rating:4.8,reviews:423,crowdLevel:"Medium",weather:"34C Sunny",slotsAvailable:6,isVerified:!0,facilities:["Wooden Courts","AC","Pro Shop","Coaching"],rules:["Non-marking shoes only","Booking required"],contactPhone:"+91 98765 43222",openTime:"06:00",closeTime:"22:00",images:["https://images.unsplash.com/photo-1613918431703-aa50889e3be4?w=800&auto=format&fit=crop"],description:"Premium badminton facility with 8 courts and professional coaching."},{id:"vad-001",name:"Baroda Cricket Academy",image:"https://images.unsplash.com/photo-1587280501635-68a0e82cd5ff?w=800&auto=format&fit=crop",sports:["Cricket"],location:"Alkapuri",city:"Vadodara",district:"Vadodara",address:"Race Course Road, Alkapuri, Vadodara - 390007",distance:"1.5 km",pricePerHour:1100,rating:4.9,reviews:567,crowdLevel:"Medium",weather:"33C Sunny",slotsAvailable:4,isVerified:!0,facilities:["International Standard","Video Analysis","Coaching","Gym"],rules:["Professional gear required","Training programs available"],contactPhone:"+91 98765 43230",openTime:"05:00",closeTime:"22:00",images:["https://images.unsplash.com/photo-1587280501635-68a0e82cd5ff?w=800&auto=format&fit=crop"],description:"Historic cricket academy that has produced many national players."},{id:"vad-002",name:"Striker Football Arena",image:"https://images.unsplash.com/photo-1551958219-acbc608c6377?w=800&auto=format&fit=crop",sports:["Football"],location:"Manjalpur",city:"Vadodara",district:"Vadodara",address:"NH-48, Manjalpur, Vadodara - 390011",distance:"5.2 km",pricePerHour:1200,rating:4.6,reviews:234,crowdLevel:"Low",weather:"33C Sunny",slotsAvailable:7,isVerified:!0,facilities:["Artificial Turf","Floodlights","Refreshments","Parking"],rules:["Studs allowed","Team bookings preferred"],contactPhone:"+91 98765 43231",openTime:"06:00",closeTime:"23:00",images:["https://images.unsplash.com/photo-1551958219-acbc608c6377?w=800&auto=format&fit=crop"],description:"Modern football facility with premium artificial turf and night lighting."},{id:"rjk-001",name:"Saurashtra Cricket Hub",image:"https://images.unsplash.com/photo-1531415074968-036ba1b575da?w=800&auto=format&fit=crop",sports:["Cricket"],location:"Kalavad Road",city:"Rajkot",district:"Rajkot",address:"Near Aji Dam, Kalavad Road, Rajkot - 360005",distance:"3.8 km",pricePerHour:900,rating:4.7,reviews:312,crowdLevel:"Medium",weather:"35C Sunny",slotsAvailable:5,isVerified:!0,facilities:["Practice Nets","Floodlights","Canteen","Parking"],rules:["Helmet mandatory for batting","Cricket shoes required"],contactPhone:"+91 98765 43240",openTime:"05:30",closeTime:"22:00",images:["https://images.unsplash.com/photo-1531415074968-036ba1b575da?w=800&auto=format&fit=crop"],description:"Premier cricket facility in Saurashtra region with excellent amenities."},{id:"rjk-002",name:"Race Course Sports Club",image:"https://images.unsplash.com/photo-1622279457486-62dcc4a431d6?w=800&auto=format&fit=crop",sports:["Tennis","Badminton","Cricket"],location:"Race Course",city:"Rajkot",district:"Rajkot",address:"Race Course Ring Road, Rajkot - 360001",distance:"2.0 km",pricePerHour:500,rating:4.5,reviews:178,crowdLevel:"Low",weather:"35C Sunny",slotsAvailable:8,isVerified:!0,facilities:["Multi-Sport","Club House","Restaurant","Parking"],rules:["Membership preferred","Guest passes available"],contactPhone:"+91 98765 43241",openTime:"06:00",closeTime:"21:00",images:["https://images.unsplash.com/photo-1622279457486-62dcc4a431d6?w=800&auto=format&fit=crop"],description:"Exclusive sports club with tennis, badminton, and cricket facilities."},{id:"gnd-001",name:"Capital Sports Arena",image:"https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&auto=format&fit=crop",sports:["Football","Cricket"],location:"Sector 21",city:"Gandhinagar",district:"Gandhinagar",address:"Sector 21, Gandhinagar - 382021",distance:"1.2 km",pricePerHour:1e3,rating:4.6,reviews:145,crowdLevel:"Low",weather:"31C Sunny",slotsAvailable:9,isVerified:!0,facilities:["Government Facility","Olympic Standard","Gym","Pool"],rules:["ID proof required","Booking through app only"],contactPhone:"+91 98765 43250",openTime:"06:00",closeTime:"21:00",images:["https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&auto=format&fit=crop"],description:"State-of-the-art sports facility in Gujarat's capital city."},{id:"bhv-001",name:"Nilambagh Sports Ground",image:"https://images.unsplash.com/photo-1540747913346-19e32dc3e97e?w=800&auto=format&fit=crop",sports:["Cricket","Football"],location:"Nilambagh",city:"Bhavnagar",district:"Bhavnagar",address:"Near Nilambagh Palace, Bhavnagar - 364001",distance:"2.5 km",pricePerHour:700,rating:4.4,reviews:98,crowdLevel:"Low",weather:"33C Sunny",slotsAvailable:6,isVerified:!1,facilities:["Natural Grass","Pavilion","Parking"],rules:["Prior booking required","Groups welcome"],contactPhone:"+91 98765 43260",openTime:"06:00",closeTime:"20:00",images:["https://images.unsplash.com/photo-1540747913346-19e32dc3e97e?w=800&auto=format&fit=crop"],description:"Historic sports ground near the famous Nilambagh Palace."},{id:"jmn-001",name:"Lakhota Sports Complex",image:"https://images.unsplash.com/photo-1529900748604-07564a03e7a6?w=800&auto=format&fit=crop",sports:["Football","Cricket","Tennis"],location:"Lakhota",city:"Jamnagar",district:"Jamnagar",address:"Near Lakhota Lake, Jamnagar - 361001",distance:"1.8 km",pricePerHour:600,rating:4.3,reviews:87,crowdLevel:"Medium",weather:"34C Sunny",slotsAvailable:5,isVerified:!0,facilities:["Multi-Sport","Lake View","Cafeteria","Parking"],rules:["Sports shoes mandatory","ID required"],contactPhone:"+91 98765 43270",openTime:"06:00",closeTime:"21:00",images:["https://images.unsplash.com/photo-1529900748604-07564a03e7a6?w=800&auto=format&fit=crop"],description:"Beautiful sports complex with stunning lake views."},{id:"and-001",name:"Amul Sports Ground",image:"https://images.unsplash.com/photo-1531415074968-036ba1b575da?w=800&auto=format&fit=crop",sports:["Cricket"],location:"GCMMF Road",city:"Anand",district:"Anand",address:"Near GCMMF, Anand - 388001",distance:"1.0 km",pricePerHour:800,rating:4.5,reviews:123,crowdLevel:"Medium",weather:"32C Sunny",slotsAvailable:4,isVerified:!0,facilities:["Practice Nets","Floodlights","Canteen"],rules:["Cricket gear required","Team bookings preferred"],contactPhone:"+91 98765 43280",openTime:"06:00",closeTime:"22:00",images:["https://images.unsplash.com/photo-1531415074968-036ba1b575da?w=800&auto=format&fit=crop"],description:"Well-maintained cricket ground in the heart of Anand."}],SK=t=>p4.find(e=>e.id===t),BK=O.createContext(void 0),Cpe=({children:t})=>{const[e,n]=O.useState(dw[0]);O.useEffect(()=>{const i=localStorage.getItem("playpal_city");if(i)try{const o=JSON.parse(i),a=dw.find(l=>l.name===o.name);a&&n(a)}catch{}},[]);const r=i=>{n(i),localStorage.setItem("playpal_city",JSON.stringify(i))},s=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(i=>{r(dw[0])},i=>{console.log("Location detection failed, using default"),r(dw[0])})};return x.jsx(BK.Provider,{value:{selectedCity:e,setSelectedCity:r,cities:dw,detectLocation:s},children:t})},Vx=()=>{const t=O.useContext(BK);if(t===void 0)throw new Error("useLocation must be used within a LocationProvider");return t},_K=O.createContext(void 0),Spe=({children:t})=>{const{user:e}=If(),[n,r]=O.useState([]);O.useEffect(()=>{const d=localStorage.getItem("playpal_events");if(d)try{const p=JSON.parse(d).map(m=>({...m,pendingRequests:m.pendingRequests||[],skillLevel:m.skillLevel||"Intermediate",startTime:m.startTime||"00:00",endTime:m.endTime||"00:00",coordinates:m.coordinates||void 0}));r(p)}catch{localStorage.removeItem("playpal_events")}else r([{id:"evt_1",creatorId:"user_mock_1",creatorName:"Rahul Sharma",sport:"Cricket",date:new Date().toISOString().split("T")[0],startTime:"18:00",endTime:"20:00",location:"Elite Cricket Arena",requiredPlayers:3,joinedPlayers:["user_mock_2"],pendingRequests:[],description:"Need a few players for a casual match.",status:"Open",skillLevel:"Intermediate"},{id:"evt_2",creatorId:"user_mock_3",creatorName:"Priya Patel",sport:"Badminton",date:new Date().toISOString().split("T")[0],startTime:"07:00",endTime:"08:00",location:"Shuttle Masters",requiredPlayers:1,joinedPlayers:[],pendingRequests:["user_mock_4"],description:"Looking for a doubles partner.",status:"Open",skillLevel:"Advanced"}])},[]);const s=d=>{r(d),localStorage.setItem("playpal_events",JSON.stringify(d))},i=d=>{if(!e)return;const h={...d,id:`evt_${Date.now()}`,creatorId:e.id,creatorName:e.name,joinedPlayers:[e.id],pendingRequests:[],status:"Open"};s([...n,h])},o=d=>{if(!e)return;const h=n.map(p=>p.id===d?p.joinedPlayers.includes(e.id)||p.pendingRequests.includes(e.id)?p:{...p,pendingRequests:[...p.pendingRequests,e.id]}:p);s(h)},a=d=>{if(!e)return;const h=n.map(p=>p.id===d?{...p,pendingRequests:p.pendingRequests.filter(m=>m!==e.id)}:p);s(h)},l=(d,h)=>{const p=n.map(m=>{if(m.id===d){if(!m.pendingRequests.includes(h))return m;const y=[...m.joinedPlayers,h],g=y.length-1>=m.requiredPlayers?"Full":"Open";return{...m,joinedPlayers:y,pendingRequests:m.pendingRequests.filter(v=>v!==h),status:g}}return m});s(p)},c=(d,h)=>{const p=n.map(m=>m.id===d?{...m,pendingRequests:m.pendingRequests.filter(y=>y!==h)}:m);s(p)},u=d=>{if(!e)return;const h=n.map(p=>p.id===d?{...p,joinedPlayers:p.joinedPlayers.filter(m=>m!==e.id),status:"Open"}:p);s(h)},A=()=>e?{hosted:n.filter(d=>d.creatorId===e.id),joined:n.filter(d=>d.joinedPlayers.includes(e.id)&&d.creatorId!==e.id)}:{hosted:[],joined:[]};return x.jsx(_K.Provider,{value:{events:n,createEvent:i,joinEvent:o,cancelRequest:a,acceptRequest:l,rejectRequest:c,leaveEvent:u,getMyEvents:A},children:t})},Bpe=()=>{const t=O.useContext(_K);if(t===void 0)throw new Error("useEvent must be used within an EventProvider");return t},tP=O.createContext({});function Wx(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const nP=typeof window<"u",rP=nP?O.useLayoutEffect:O.useEffect,FN=O.createContext(null);function sP(t,e){t.indexOf(e)===-1&&t.push(e)}function iP(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const gA=(t,e,n)=>n>e?e:n<t?t:n;let LN=()=>{},K0=()=>{};const gd={},NK=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function IK(t){return typeof t=="object"&&t!==null}const EK=t=>/^0[^.\s]+$/u.test(t);function oP(t){let e;return()=>(e===void 0&&(e=t()),e)}const nc=t=>t,_pe=(t,e)=>n=>e(t(n)),Gx=(...t)=>t.reduce(_pe),Kv=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class aP{constructor(){this.subscriptions=[]}add(e){return sP(this.subscriptions,e),()=>iP(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const oA=t=>t*1e3,Gl=t=>t/1e3;function kK(t,e){return e?t*(1e3/e):0}const TK=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Npe=1e-7,Ipe=12;function Epe(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=TK(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>Npe&&++a<Ipe);return o}function Kx(t,e,n,r){if(t===e&&n===r)return nc;const s=i=>Epe(i,0,1,t,n);return i=>i===0||i===1?i:TK(s(i),e,r)}const FK=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,LK=t=>e=>1-t(1-e),DK=Kx(.33,1.53,.69,.99),lP=LK(DK),PK=FK(lP),RK=t=>(t*=2)<1?.5*lP(t):.5*(2-Math.pow(2,-10*(t-1))),cP=t=>1-Math.sin(Math.acos(t)),OK=LK(cP),$K=FK(cP),kpe=Kx(.42,0,1,1),Tpe=Kx(0,0,.58,1),UK=Kx(.42,0,.58,1),Fpe=t=>Array.isArray(t)&&typeof t[0]!="number",MK=t=>Array.isArray(t)&&typeof t[0]=="number",h6={linear:nc,easeIn:kpe,easeInOut:UK,easeOut:Tpe,circIn:cP,circInOut:$K,circOut:OK,backIn:lP,backInOut:PK,backOut:DK,anticipate:RK},Lpe=t=>typeof t=="string",f6=t=>{if(MK(t)){K0(t.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[e,n,r,s]=t;return Kx(e,n,r,s)}else if(Lpe(t))return K0(h6[t]!==void 0,`Invalid easing type '${t}'`,"invalid-easing-type"),h6[t];return t},FC=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],p6={value:null,addProjectionMetrics:null};function Dpe(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(A){o.has(A)&&(u.schedule(A),t()),l++,A(a)}const u={schedule:(A,d=!1,h=!1)=>{const m=h&&s?n:r;return d&&o.add(A),m.has(A)||m.add(A),A},cancel:A=>{r.delete(A),o.delete(A)},process:A=>{if(a=A,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&p6.value&&p6.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,u.process(A))}};return u}const Ppe=40;function QK(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=FC.reduce((b,C)=>(b[C]=Dpe(i,e?C:void 0),b),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:A,preRender:d,render:h,postRender:p}=o,m=()=>{const b=gd.useManualTiming?s.timestamp:performance.now();n=!1,gd.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(b-s.timestamp,Ppe),1)),s.timestamp=b,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),A.process(s),d.process(s),h.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(m))},y=()=>{n=!0,r=!0,s.isProcessing||t(m)};return{schedule:FC.reduce((b,C)=>{const _=o[C];return b[C]=(I,F=!1,T=!1)=>(n||y(),_.schedule(I,F,T)),b},{}),cancel:b=>{for(let C=0;C<FC.length;C++)o[FC[C]].cancel(b)},state:s,steps:o}}const{schedule:Ir,cancel:yd,state:Vi,steps:yT}=QK(typeof requestAnimationFrame<"u"?requestAnimationFrame:nc,!0);let qS;function Rpe(){qS=void 0}const zo={now:()=>(qS===void 0&&zo.set(Vi.isProcessing||gd.useManualTiming?Vi.timestamp:performance.now()),qS),set:t=>{qS=t,queueMicrotask(Rpe)}},jK=t=>e=>typeof e=="string"&&e.startsWith(t),HK=jK("--"),Ope=jK("var(--"),uP=t=>Ope(t)?$pe.test(t.split("/*")[0].trim()):!1,$pe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function m6(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const by={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qv={...by,transform:t=>gA(0,1,t)},LC={...by,default:1},uv=t=>Math.round(t*1e5)/1e5,AP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Upe(t){return t==null}const Mpe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dP=(t,e)=>n=>!!(typeof n=="string"&&Mpe.test(n)&&n.startsWith(t)||e&&!Upe(n)&&Object.prototype.hasOwnProperty.call(n,e)),zK=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(AP);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Qpe=t=>gA(0,255,t),wT={...by,transform:t=>Math.round(Qpe(t))},Tp={test:dP("rgb","red"),parse:zK("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+wT.transform(t)+", "+wT.transform(e)+", "+wT.transform(n)+", "+uv(qv.transform(r))+")"};function jpe(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const m4={test:dP("#"),parse:jpe,transform:Tp.transform},qx=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),uh=qx("deg"),aA=qx("%"),Ct=qx("px"),Hpe=qx("vh"),zpe=qx("vw"),g6={...aA,parse:t=>aA.parse(t)/100,transform:t=>aA.transform(t*100)},Jg={test:dP("hsl","hue"),parse:zK("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+aA.transform(uv(e))+", "+aA.transform(uv(n))+", "+uv(qv.transform(r))+")"},Gs={test:t=>Tp.test(t)||m4.test(t)||Jg.test(t),parse:t=>Tp.test(t)?Tp.parse(t):Jg.test(t)?Jg.parse(t):m4.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Tp.transform(t):Jg.transform(t),getAnimatableNone:t=>{const e=Gs.parse(t);return e.alpha=0,Gs.transform(e)}},Vpe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Wpe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(AP))==null?void 0:e.length)||0)+(((n=t.match(Vpe))==null?void 0:n.length)||0)>0}const VK="number",WK="color",Gpe="var",Kpe="var(",y6="${}",qpe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xv(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(qpe,l=>(Gs.test(l)?(r.color.push(i),s.push(WK),n.push(Gs.parse(l))):l.startsWith(Kpe)?(r.var.push(i),s.push(Gpe),n.push(l)):(r.number.push(i),s.push(VK),n.push(parseFloat(l))),++i,y6)).split(y6);return{values:n,split:a,indexes:r,types:s}}function GK(t){return Xv(t).values}function KK(t){const{split:e,types:n}=Xv(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===VK?i+=uv(s[o]):a===WK?i+=Gs.transform(s[o]):i+=s[o]}return i}}const Xpe=t=>typeof t=="number"?0:Gs.test(t)?Gs.getAnimatableNone(t):t;function Ype(t){const e=GK(t);return KK(t)(e.map(Xpe))}const lf={test:Wpe,parse:GK,createTransformer:KK,getAnimatableNone:Ype};function vT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Zpe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=vT(l,a,t+1/3),i=vT(l,a,t),o=vT(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function XB(t,e){return n=>n>0?e:t}const us=(t,e,n)=>t+(e-t)*n,xT=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},Jpe=[m4,Tp,Jg],eme=t=>Jpe.find(e=>e.test(t));function w6(t){const e=eme(t);if(LN(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!e)return!1;let n=e.parse(t);return e===Jg&&(n=Zpe(n)),n}const v6=(t,e)=>{const n=w6(t),r=w6(e);if(!n||!r)return XB(t,e);const s={...n};return i=>(s.red=xT(n.red,r.red,i),s.green=xT(n.green,r.green,i),s.blue=xT(n.blue,r.blue,i),s.alpha=us(n.alpha,r.alpha,i),Tp.transform(s))},g4=new Set(["none","hidden"]);function tme(t,e){return g4.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function nme(t,e){return n=>us(t,e,n)}function hP(t){return typeof t=="number"?nme:typeof t=="string"?uP(t)?XB:Gs.test(t)?v6:ime:Array.isArray(t)?qK:typeof t=="object"?Gs.test(t)?v6:rme:XB}function qK(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>hP(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function rme(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=hP(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function sme(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const ime=(t,e)=>{const n=lf.createTransformer(e),r=Xv(t),s=Xv(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?g4.has(t)&&!s.values.length||g4.has(e)&&!r.values.length?tme(t,e):Gx(qK(sme(r,s),s.values),n):(LN(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),XB(t,e))};function XK(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?us(t,e,n):hP(t)(t,e)}const ome=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ir.update(e,n),stop:()=>yd(e),now:()=>Vi.isProcessing?Vi.timestamp:zo.now()}},YK=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},YB=2e4;function fP(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<YB;)e+=n,r=t.next(e);return e>=YB?1/0:e}function ame(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(fP(r),YB);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Gl(s)}}const lme=5;function ZK(t,e,n){const r=Math.max(e-lme,0);return kK(n-t(r),e-r)}const ls={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bT=.001;function cme({duration:t=ls.duration,bounce:e=ls.bounce,velocity:n=ls.velocity,mass:r=ls.mass}){let s,i;LN(t<=oA(ls.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-e;o=gA(ls.minDamping,ls.maxDamping,o),t=gA(ls.minDuration,ls.maxDuration,Gl(t)),o<1?(s=c=>{const u=c*o,A=u*t,d=u-n,h=y4(c,o),p=Math.exp(-A);return bT-d/h*p},i=c=>{const A=c*o*t,d=A*n+n,h=Math.pow(o,2)*Math.pow(c,2)*t,p=Math.exp(-A),m=y4(Math.pow(c,2),o);return(-s(c)+bT>0?-1:1)*((d-h)*p)/m}):(s=c=>{const u=Math.exp(-c*t),A=(c-n)*t+1;return-bT+u*A},i=c=>{const u=Math.exp(-c*t),A=(n-c)*(t*t);return u*A});const a=5/t,l=Ame(s,i,a);if(t=oA(t),isNaN(l))return{stiffness:ls.stiffness,damping:ls.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const ume=12;function Ame(t,e,n){let r=n;for(let s=1;s<ume;s++)r=r-t(r)/e(r);return r}function y4(t,e){return t*Math.sqrt(1-e*e)}const dme=["duration","bounce"],hme=["stiffness","damping","mass"];function x6(t,e){return e.some(n=>t[n]!==void 0)}function fme(t){let e={velocity:ls.velocity,stiffness:ls.stiffness,damping:ls.damping,mass:ls.mass,isResolvedFromDuration:!1,...t};if(!x6(t,hme)&&x6(t,dme))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*gA(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ls.mass,stiffness:s,damping:i}}else{const n=cme(t);e={...e,...n,mass:ls.mass},e.isResolvedFromDuration=!0}return e}function ZB(t=ls.visualDuration,e=ls.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:A,velocity:d,isResolvedFromDuration:h}=fme({...n,velocity:-Gl(n.velocity||0)}),p=d||0,m=c/(2*Math.sqrt(l*u)),y=o-i,g=Gl(Math.sqrt(l/u)),v=Math.abs(y)<5;r||(r=v?ls.restSpeed.granular:ls.restSpeed.default),s||(s=v?ls.restDelta.granular:ls.restDelta.default);let b;if(m<1){const _=y4(g,m);b=I=>{const F=Math.exp(-m*g*I);return o-F*((p+m*g*y)/_*Math.sin(_*I)+y*Math.cos(_*I))}}else if(m===1)b=_=>o-Math.exp(-g*_)*(y+(p+g*y)*_);else{const _=g*Math.sqrt(m*m-1);b=I=>{const F=Math.exp(-m*g*I),T=Math.min(_*I,300);return o-F*((p+m*g*y)*Math.sinh(T)+_*y*Math.cosh(T))/_}}const C={calculatedDuration:h&&A||null,next:_=>{const I=b(_);if(h)a.done=_>=A;else{let F=_===0?p:0;m<1&&(F=_===0?oA(p):ZK(b,_,I));const T=Math.abs(F)<=r,D=Math.abs(o-I)<=s;a.done=T&&D}return a.value=a.done?o:I,a},toString:()=>{const _=Math.min(fP(C),YB),I=YK(F=>C.next(_*F).value,_,30);return _+"ms "+I},toTransition:()=>{}};return C}ZB.applyToOptions=t=>{const e=ame(t,100,ZB);return t.ease=e.ease,t.duration=oA(e.duration),t.type="keyframes",t};function w4({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const A=t[0],d={done:!1,value:A},h=T=>a!==void 0&&T<a||l!==void 0&&T>l,p=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let m=n*e;const y=A+m,g=o===void 0?y:o(y);g!==y&&(m=g-A);const v=T=>-m*Math.exp(-T/r),b=T=>g+v(T),C=T=>{const D=v(T),H=b(T);d.done=Math.abs(D)<=c,d.value=d.done?g:H};let _,I;const F=T=>{h(d.value)&&(_=T,I=ZB({keyframes:[d.value,p(d.value)],velocity:ZK(b,T,d.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return F(0),{calculatedDuration:null,next:T=>{let D=!1;return!I&&_===void 0&&(D=!0,C(T),F(T)),_!==void 0&&T>=_?I.next(T-_):(!D&&C(T),d)}}}function pme(t,e,n){const r=[],s=n||gd.mix||XK,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||nc:e;a=Gx(l,a)}r.push(a)}return r}function JK(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(K0(i===e.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=pme(e,r,s),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let A=0;if(l>1)for(;A<t.length-2&&!(u<t[A+1]);A++);const d=Kv(t[A],t[A+1],u);return a[A](d)};return n?u=>c(gA(t[0],t[i-1],u)):c}function mme(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Kv(0,e,r);t.push(us(n,1,s))}}function gme(t){const e=[0];return mme(e,t.length-1),e}function yme(t,e){return t.map(n=>n*e)}function wme(t,e){return t.map(()=>e||UK).splice(0,t.length-1)}function Av({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=Fpe(r)?r.map(f6):f6(r),i={done:!1,value:e[0]},o=yme(n&&n.length===e.length?n:gme(e),t),a=JK(o,e,{ease:Array.isArray(s)?s:wme(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const vme=t=>t!==null;function pP(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(vme),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const xme={decay:w4,inertia:w4,tween:Av,keyframes:Av,spring:ZB};function e9(t){typeof t.type=="string"&&(t.type=xme[t.type])}class mP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const bme=t=>t/100;class DN extends mP{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==zo.now()&&this.tick(zo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;e9(e);const{type:n=Av,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Av;l!==Av&&typeof a[0]!="number"&&(this.mixKeyframes=Gx(bme,XK(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=fP(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:A,repeatType:d,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let b=this.currentTime,C=r;if(A){const T=Math.min(this.currentTime,s)/a;let D=Math.floor(T),H=T%1;!H&&T>=1&&(H=1),H===1&&D--,D=Math.min(D,A+1),!!(D%2)&&(d==="reverse"?(H=1-H,h&&(H-=h/a)):d==="mirror"&&(C=o)),b=gA(0,1,H)*a}const _=v?{done:!1,value:u[0]}:C.next(b);i&&(_.value=i(_.value));let{done:I}=_;!v&&l!==null&&(I=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return F&&p!==w4&&(_.value=pP(u,this.options,y,this.speed)),m&&m(_.value),F&&this.finish(),_}then(e,n){return this.finished.then(e,n)}get duration(){return Gl(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Gl(e)}get time(){return Gl(this.currentTime)}set time(e){var n;e=oA(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(zo.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Gl(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=ome,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Cme(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Fp=t=>t*180/Math.PI,v4=t=>{const e=Fp(Math.atan2(t[1],t[0]));return x4(e)},Sme={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:v4,rotateZ:v4,skewX:t=>Fp(Math.atan(t[1])),skewY:t=>Fp(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},x4=t=>(t=t%360,t<0&&(t+=360),t),b6=v4,C6=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),S6=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Bme={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:C6,scaleY:S6,scale:t=>(C6(t)+S6(t))/2,rotateX:t=>x4(Fp(Math.atan2(t[6],t[5]))),rotateY:t=>x4(Fp(Math.atan2(-t[2],t[0]))),rotateZ:b6,rotate:b6,skewX:t=>Fp(Math.atan(t[4])),skewY:t=>Fp(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function b4(t){return t.includes("scale")?1:0}function C4(t,e){if(!t||t==="none")return b4(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Bme,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Sme,s=a}if(!s)return b4(e);const i=r[e],o=s[1].split(",").map(Nme);return typeof i=="function"?i(o):o[i]}const _me=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return C4(n,e)};function Nme(t){return parseFloat(t.trim())}const Cy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sy=new Set(Cy),B6=t=>t===by||t===Ct,Ime=new Set(["x","y","z"]),Eme=Cy.filter(t=>!Ime.has(t));function kme(t){const e=[];return Eme.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const kh={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>C4(e,"x"),y:(t,{transform:e})=>C4(e,"y")};kh.translateX=kh.x;kh.translateY=kh.y;const Kp=new Set;let S4=!1,B4=!1,_4=!1;function t9(){if(B4){const t=Array.from(Kp).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=kme(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}B4=!1,S4=!1,Kp.forEach(t=>t.complete(_4)),Kp.clear()}function n9(){Kp.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(B4=!0)})}function Tme(){_4=!0,n9(),t9(),_4=!1}class gP{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Kp.add(this),S4||(S4=!0,Ir.read(n9),Ir.resolveKeyframes(t9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}Cme(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Kp.delete(this)}cancel(){this.state==="scheduled"&&(Kp.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Fme=t=>t.startsWith("--");function Lme(t,e,n){Fme(e)?t.style.setProperty(e,n):t.style[e]=n}const Dme=oP(()=>window.ScrollTimeline!==void 0),Pme={};function Rme(t,e){const n=oP(t);return()=>Pme[e]??n()}const r9=Rme(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lw=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,_6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lw([0,.65,.55,1]),circOut:Lw([.55,0,1,.45]),backIn:Lw([.31,.01,.66,-.59]),backOut:Lw([.33,1.53,.69,.99])};function s9(t,e){if(t)return typeof t=="function"?r9()?YK(t,e):"ease-out":MK(t)?Lw(t):Array.isArray(t)?t.map(n=>s9(n,e)||_6.easeOut):_6[t]}function Ome(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const A=s9(a,s);Array.isArray(A)&&(u.easing=A);const d={delay:r,duration:s,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(d.pseudoElement=c),t.animate(u,d)}function i9(t){return typeof t=="function"&&"applyToOptions"in t}function $me({type:t,...e}){return i9(t)&&r9()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Ume extends mP{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,K0(typeof e.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const c=$me(e);this.animation=Ome(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=pP(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):Lme(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Gl(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Gl(e)}get time(){return Gl(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=oA(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Dme()?(this.animation.timeline=e,nc):n(this)}}const o9={anticipate:RK,backInOut:PK,circInOut:$K};function Mme(t){return t in o9}function Qme(t){typeof t.ease=="string"&&Mme(t.ease)&&(t.ease=o9[t.ease])}const CT=10;class jme extends Ume{constructor(e){Qme(e),e9(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new DN({...o,autoplay:!1}),l=Math.max(CT,zo.now()-this.startTime),c=gA(0,CT,l-CT);n.setWithVelocity(a.sample(Math.max(0,l-c)).value,a.sample(l).value,c),a.stop()}}const N6=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(lf.test(t)||t==="0")&&!t.startsWith("url("));function Hme(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function zme(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=N6(s,e),a=N6(i,e);return LN(o===a,`You are trying to animate ${e} from "${s}" to "${i}". "${o?i:s}" is not an animatable value.`,"value-not-animatable"),!o||!a?!1:Hme(t)||(n==="spring"||i9(n))&&r}function N4(t){t.duration=0,t.type="keyframes"}const Vme=new Set(["opacity","clipPath","filter","transform"]),Wme=oP(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Gme(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return Wme()&&n&&Vme.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const Kme=40;class qme extends mP{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...A}){var p;super(),this.stop=()=>{var m,y;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=zo.now();const d={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:u,...A},h=(u==null?void 0:u.KeyframeResolver)||gP;this.keyframeResolver=new h(a,(m,y,g)=>this.onKeyframesResolved(m,y,d,!g),l,c,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=zo.now(),zme(e,i,o,a)||((gd.instantAnimations||!l)&&(u==null||u(pP(e,r,n))),e[0]=e[e.length-1],N4(r),r.repeat=0);const d={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Kme?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},h=!c&&Gme(d)?new jme({...d,element:d.motionValue.owner.current}):new DN(d);h.finished.then(()=>this.notifyFinished()).catch(nc),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Tme()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Xme=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Yme(t){const e=Xme.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}const Zme=4;function a9(t,e,n=1){K0(n<=Zme,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,s]=Yme(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return NK(o)?parseFloat(o):o}return uP(s)?a9(s,e,n+1):s}function yP(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const l9=new Set(["width","height","top","left","right","bottom",...Cy]),Jme={test:t=>t==="auto",parse:t=>t},c9=t=>e=>e.test(t),u9=[by,Ct,aA,uh,zpe,Hpe,Jme],I6=t=>u9.find(c9(t));function ege(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||EK(t):!0}const tge=new Set(["brightness","contrast","saturate","opacity"]);function nge(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(AP)||[];if(!r)return t;const s=n.replace(r,"");let i=tge.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const rge=/\b([a-z-]*)\(.*?\)/gu,I4={...lf,getAnimatableNone:t=>{const e=t.match(rge);return e?e.map(nge).join(" "):t}},E6={...by,transform:Math.round},sge={rotate:uh,rotateX:uh,rotateY:uh,rotateZ:uh,scale:LC,scaleX:LC,scaleY:LC,scaleZ:LC,skew:uh,skewX:uh,skewY:uh,distance:Ct,translateX:Ct,translateY:Ct,translateZ:Ct,x:Ct,y:Ct,z:Ct,perspective:Ct,transformPerspective:Ct,opacity:qv,originX:g6,originY:g6,originZ:Ct},wP={borderWidth:Ct,borderTopWidth:Ct,borderRightWidth:Ct,borderBottomWidth:Ct,borderLeftWidth:Ct,borderRadius:Ct,radius:Ct,borderTopLeftRadius:Ct,borderTopRightRadius:Ct,borderBottomRightRadius:Ct,borderBottomLeftRadius:Ct,width:Ct,maxWidth:Ct,height:Ct,maxHeight:Ct,top:Ct,right:Ct,bottom:Ct,left:Ct,inset:Ct,insetBlock:Ct,insetBlockStart:Ct,insetBlockEnd:Ct,insetInline:Ct,insetInlineStart:Ct,insetInlineEnd:Ct,padding:Ct,paddingTop:Ct,paddingRight:Ct,paddingBottom:Ct,paddingLeft:Ct,paddingBlock:Ct,paddingBlockStart:Ct,paddingBlockEnd:Ct,paddingInline:Ct,paddingInlineStart:Ct,paddingInlineEnd:Ct,margin:Ct,marginTop:Ct,marginRight:Ct,marginBottom:Ct,marginLeft:Ct,marginBlock:Ct,marginBlockStart:Ct,marginBlockEnd:Ct,marginInline:Ct,marginInlineStart:Ct,marginInlineEnd:Ct,backgroundPositionX:Ct,backgroundPositionY:Ct,...sge,zIndex:E6,fillOpacity:qv,strokeOpacity:qv,numOctaves:E6},ige={...wP,color:Gs,backgroundColor:Gs,outlineColor:Gs,fill:Gs,stroke:Gs,borderColor:Gs,borderTopColor:Gs,borderRightColor:Gs,borderBottomColor:Gs,borderLeftColor:Gs,filter:I4,WebkitFilter:I4},A9=t=>ige[t];function d9(t,e){let n=A9(t);return n!==I4&&(n=lf),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const oge=new Set(["auto","none","0"]);function age(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!oge.has(i)&&Xv(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=d9(n,s)}class lge extends gP{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let A=e[u];if(typeof A=="string"&&(A=A.trim(),uP(A))){const d=a9(A,n.current);d!==void 0&&(e[u]=d),u===e.length-1&&(this.finalKeyframe=A)}}if(this.resolveNoneKeyframes(),!l9.has(r)||e.length!==2)return;const[s,i]=e,o=I6(s),a=I6(i),l=m6(s),c=m6(i);if(l!==c&&kh[r]){this.needsMeasurement=!0;return}if(o!==a)if(B6(o)&&B6(a))for(let u=0;u<e.length;u++){const A=e[u];typeof A=="string"&&(e[u]=parseFloat(A))}else kh[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||ege(e[s]))&&r.push(s);r.length&&age(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=kh[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function cge(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const h9=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function f9(t){return IK(t)&&"offsetHeight"in t}const k6=30,uge=t=>!isNaN(parseFloat(t)),dv={current:void 0};class Age{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=zo.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=zo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=uge(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new aP);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ir.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return dv.current&&dv.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=zo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>k6)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,k6);return kK(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cm(t,e){return new Age(t,e)}const{schedule:vP,cancel:Rnt}=QK(queueMicrotask,!1),Mc={x:!1,y:!1};function p9(){return Mc.x||Mc.y}function dge(t){return t==="x"||t==="y"?Mc[t]?null:(Mc[t]=!0,()=>{Mc[t]=!1}):Mc.x||Mc.y?null:(Mc.x=Mc.y=!0,()=>{Mc.x=Mc.y=!1})}function m9(t,e){const n=cge(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function T6(t){return!(t.pointerType==="touch"||p9())}function hge(t,e,n={}){const[r,s,i]=m9(t,n),o=a=>{if(!T6(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=A=>{T6(A)&&(c(A),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const g9=(t,e)=>e?t===e?!0:g9(t,e.parentElement):!1,xP=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,fge=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function y9(t){return fge.has(t.tagName)||t.isContentEditable===!0}const XS=new WeakSet;function F6(t){return e=>{e.key==="Enter"&&t(e)}}function ST(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pge=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=F6(()=>{if(XS.has(n))return;ST(n,"down");const s=F6(()=>{ST(n,"up")}),i=()=>ST(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function L6(t){return xP(t)&&!p9()}function mge(t,e,n={}){const[r,s,i]=m9(t,n),o=a=>{const l=a.currentTarget;if(!L6(a))return;XS.add(l);const c=e(l,a),u=(h,p)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",d),XS.has(l)&&XS.delete(l),L6(h)&&typeof c=="function"&&c(h,{success:p})},A=h=>{u(h,l===window||l===document||n.useGlobalTarget||g9(l,h.target))},d=h=>{u(h,!1)};window.addEventListener("pointerup",A,s),window.addEventListener("pointercancel",d,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),f9(a)&&(a.addEventListener("focus",c=>pge(c,s)),!y9(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function w9(t){return IK(t)&&"ownerSVGElement"in t}function gge(t){return w9(t)&&t.tagName==="svg"}function yge(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],s=t[1+n],i=t[2+n],o=t[3+n],a=JK(s,i,o);return e?a(r):a}const Ii=t=>!!(t&&t.getVelocity);function wge(t,e,n){const r=t.get();let s=null,i=r,o;const a=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,l=()=>{s&&(s.stop(),s=null)},c=()=>{l(),s=new DN({keyframes:[P6(t.get()),P6(i)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:o})};if(t.attach((u,A)=>{i=u,o=d=>A(D6(d,a)),Ir.postRender(()=>{var d;c(),(d=t.events.animationStart)==null||d.notify(),s==null||s.then(()=>{var h;(h=t.events.animationComplete)==null||h.notify()})})},l),Ii(e)){const u=e.on("change",d=>t.set(D6(d,a))),A=t.on("destroy",u);return()=>{u(),A()}}return l}function D6(t,e){return e?t+e:t}function P6(t){return typeof t=="number"?t:parseFloat(t)}const vge=[...u9,Gs,lf],xge=t=>vge.find(c9(t)),Xx=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function R6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function bge(...t){return e=>{let n=!1;const r=t.map(s=>{const i=R6(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():R6(t[s],null)}}}}function Cge(...t){return O.useCallback(bge(...t),t)}class Sge extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=f9(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Bge({children:t,isPresent:e,anchorX:n,root:r}){var u;const s=O.useId(),i=O.useRef(null),o=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=O.useContext(Xx),l=((u=t.props)==null?void 0:u.ref)??(t==null?void 0:t.ref),c=Cge(i,l);return O.useInsertionEffect(()=>{const{width:A,height:d,top:h,left:p,right:m}=o.current;if(e||!i.current||!A||!d)return;const y=n==="left"?`left: ${p}`:`right: ${m}`;i.current.dataset.motionPopId=s;const g=document.createElement("style");a&&(g.nonce=a);const v=r??document.head;return v.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${A}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{v.contains(g)&&v.removeChild(g)}},[e]),x.jsx(Sge,{isPresent:e,childRef:i,sizeRef:o,children:O.cloneElement(t,{ref:c})})}const _ge=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const c=Wx(Nge),u=O.useId();let A=!0,d=O.useMemo(()=>(A=!1,{id:u,initial:e,isPresent:n,custom:s,onExitComplete:h=>{c.set(h,!0);for(const p of c.values())if(!p)return;r&&r()},register:h=>(c.set(h,!1),()=>c.delete(h))}),[n,c,r]);return i&&A&&(d={...d}),O.useMemo(()=>{c.forEach((h,p)=>c.set(p,!1))},[n]),O.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=x.jsx(Bge,{isPresent:n,anchorX:a,root:l,children:t})),x.jsx(FN.Provider,{value:d,children:t})};function Nge(){return new Map}function v9(t=!0){const e=O.useContext(FN);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=O.useId();O.useEffect(()=>{if(t)return s(i)},[t]);const o=O.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const DC=t=>t.key||"";function O6(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const JB=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,u]=v9(o),A=O.useMemo(()=>O6(t),[t]),d=o&&!c?[]:A.map(DC),h=O.useRef(!0),p=O.useRef(A),m=Wx(()=>new Map),y=O.useRef(new Set),[g,v]=O.useState(A),[b,C]=O.useState(A);rP(()=>{h.current=!1,p.current=A;for(let F=0;F<b.length;F++){const T=DC(b[F]);d.includes(T)?(m.delete(T),y.current.delete(T)):m.get(T)!==!0&&m.set(T,!1)}},[b,d.length,d.join("-")]);const _=[];if(A!==g){let F=[...A];for(let T=0;T<b.length;T++){const D=b[T],H=DC(D);d.includes(H)||(F.splice(T,0,D),_.push(D))}return i==="wait"&&_.length&&(F=_),C(O6(F)),v(A),null}const{forceRender:I}=O.useContext(tP);return x.jsx(x.Fragment,{children:b.map(F=>{const T=DC(F),D=o&&!c?!1:A===b||d.includes(T),H=()=>{if(y.current.has(T))return;if(y.current.add(T),m.has(T))m.set(T,!0);else return;let R=!0;m.forEach(U=>{U||(R=!1)}),R&&(I==null||I(),C(p.current),o&&(u==null||u()),r&&r())};return x.jsx(_ge,{isPresent:D,initial:!h.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:D?void 0:H,anchorX:a,children:F},T)})})},x9=O.createContext({strict:!1}),$6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},q0={};for(const t in $6)q0[t]={isEnabled:e=>$6[t].some(n=>!!e[n])};function Ige(t){for(const e in t)q0[e]={...q0[e],...t[e]}}const Ege=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function e_(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Ege.has(t)}let b9=t=>!e_(t);function kge(t){typeof t=="function"&&(b9=e=>e.startsWith("on")?!e_(e):t(e))}try{kge(require("@emotion/is-prop-valid").default)}catch{}function Tge(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(b9(s)||n===!0&&e_(s)||!e&&!e_(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const PN=O.createContext({});function RN(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Yv(t){return typeof t=="string"||Array.isArray(t)}const bP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],CP=["initial",...bP];function ON(t){return RN(t.animate)||CP.some(e=>Yv(t[e]))}function C9(t){return!!(ON(t)||t.variants)}function Fge(t,e){if(ON(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Yv(n)?n:void 0,animate:Yv(r)?r:void 0}}return t.inherit!==!1?e:{}}function Lge(t){const{initial:e,animate:n}=Fge(t,O.useContext(PN));return O.useMemo(()=>({initial:e,animate:n}),[U6(e),U6(n)])}function U6(t){return Array.isArray(t)?t.join(" "):t}function M6(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const hw={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ct.test(t))t=parseFloat(t);else return t;const n=M6(t,e.target.x),r=M6(t,e.target.y);return`${n}% ${r}%`}},Dge={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=lf.parse(t);if(s.length>5)return r;const i=lf.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=us(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},E4={borderRadius:{...hw,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hw,borderTopRightRadius:hw,borderBottomLeftRadius:hw,borderBottomRightRadius:hw,boxShadow:Dge};function S9(t,{layout:e,layoutId:n}){return Sy.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!E4[t]||t==="opacity")}const Pge={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Rge=Cy.length;function Oge(t,e,n){let r="",s=!0;for(let i=0;i<Rge;i++){const o=Cy[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=h9(a,wP[o]);if(!l){s=!1;const u=Pge[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function SP(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Sy.has(l)){o=!0;continue}else if(HK(l)){s[l]=c;continue}else{const u=h9(c,wP[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=Oge(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}const BP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function B9(t,e,n){for(const r in e)!Ii(e[r])&&!S9(r,n)&&(t[r]=e[r])}function $ge({transformTemplate:t},e){return O.useMemo(()=>{const n=BP();return SP(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Uge(t,e){const n=t.style||{},r={};return B9(r,n,t),Object.assign(r,$ge(t,e)),r}function Mge(t,e){const n={},r=Uge(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Qge={offset:"stroke-dashoffset",array:"stroke-dasharray"},jge={offset:"strokeDashoffset",array:"strokeDasharray"};function Hge(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Qge:jge;t[i.offset]=Ct.transform(-r);const o=Ct.transform(e),a=Ct.transform(n);t[i.array]=`${o} ${a}`}const zge=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function _9(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,u){if(SP(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:A,style:d}=t;A.transform&&(d.transform=A.transform,delete A.transform),(d.transform||A.transformOrigin)&&(d.transformOrigin=A.transformOrigin??"50% 50%",delete A.transformOrigin),d.transform&&(d.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete A.transformBox);for(const h of zge)A[h]!==void 0&&(d[h]=A[h],delete A[h]);e!==void 0&&(A.x=e),n!==void 0&&(A.y=n),r!==void 0&&(A.scale=r),s!==void 0&&Hge(A,s,i,o,!1)}const N9=()=>({...BP(),attrs:{}}),I9=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Vge(t,e,n,r){const s=O.useMemo(()=>{const i=N9();return _9(i,e,I9(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};B9(i,t.style,t),s.style={...i,...s.style}}return s}const Wge=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _P(t){return typeof t!="string"||t.includes("-")?!1:!!(Wge.indexOf(t)>-1||/[A-Z]/u.test(t))}function Gge(t,e,n,{latestValues:r},s,i=!1,o){const l=(o??_P(t)?Vge:Mge)(e,r,s,t),c=Tge(e,typeof t=="string",i),u=t!==O.Fragment?{...c,...l,ref:n}:{},{children:A}=e,d=O.useMemo(()=>Ii(A)?A.get():A,[A]);return O.createElement(t,{...u,children:d})}function Q6(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function NP(t,e,n,r){if(typeof e=="function"){const[s,i]=Q6(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Q6(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function YS(t){return Ii(t)?t.get():t}function Kge({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:qge(n,r,s,t),renderState:e()}}function qge(t,e,n,r){const s={},i=r(t,{});for(const d in i)s[d]=YS(i[d]);let{initial:o,animate:a}=t;const l=ON(t),c=C9(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const A=u?a:o;if(A&&typeof A!="boolean"&&!RN(A)){const d=Array.isArray(A)?A:[A];for(let h=0;h<d.length;h++){const p=NP(t,d[h]);if(p){const{transitionEnd:m,transition:y,...g}=p;for(const v in g){let b=g[v];if(Array.isArray(b)){const C=u?b.length-1:0;b=b[C]}b!==null&&(s[v]=b)}for(const v in m)s[v]=m[v]}}}return s}const E9=t=>(e,n)=>{const r=O.useContext(PN),s=O.useContext(FN),i=()=>Kge(t,e,r,s);return n?i():Wx(i)};function IP(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Ii(r[o])||e.style&&Ii(e.style[o])||S9(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const Xge=E9({scrapeMotionValuesFromProps:IP,createRenderState:BP});function k9(t,e,n){const r=IP(t,e,n);for(const s in t)if(Ii(t[s])||Ii(e[s])){const i=Cy.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const Yge=E9({scrapeMotionValuesFromProps:k9,createRenderState:N9}),Zge=Symbol.for("motionComponentSymbol");function Jge(t,e,n){const r=O.useRef(n);O.useInsertionEffect(()=>{r.current=n});const s=O.useRef(null);return O.useCallback(i=>{var a;i&&((a=t.onMount)==null||a.call(t,i)),e&&(i?e.mount(i):e.unmount());const o=r.current;if(typeof o=="function")if(i){const l=o(i);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[e])}const EP=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),e0e="framerAppearId",T9="data-"+EP(e0e),F9=O.createContext({});function Dw(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function t0e(t,e,n,r,s,i){var y,g;const{visualElement:o}=O.useContext(PN),a=O.useContext(x9),l=O.useContext(FN),c=O.useContext(Xx).reducedMotion,u=O.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:i}));const A=u.current,d=O.useContext(F9);A&&!A.projection&&s&&(A.type==="html"||A.type==="svg")&&n0e(u.current,n,s,d);const h=O.useRef(!1);O.useInsertionEffect(()=>{A&&h.current&&A.update(n,l)});const p=n[T9],m=O.useRef(!!p&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,p))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,p)));return rP(()=>{A&&(h.current=!0,window.MotionIsMounted=!0,A.updateFeatures(),A.scheduleRenderMicrotask(),m.current&&A.animationState&&A.animationState.animateChanges())}),O.useEffect(()=>{A&&(!m.current&&A.animationState&&A.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,p)}),m.current=!1),A.enteringChildren=void 0)}),A}function n0e(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:L9(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Dw(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function L9(t){if(t)return t.options.allowProjection!==!1?t.projection:L9(t.parent)}function BT(t,{forwardMotionProps:e=!1,type:n}={},r,s){r&&Ige(r);const i=n?n==="svg":_P(t),o=i?Yge:Xge;function a(c,u){let A;const d={...O.useContext(Xx),...c,layoutId:r0e(c)},{isStatic:h}=d,p=Lge(c),m=o(c,h);if(!h&&nP){s0e();const y=i0e(d);A=y.MeasureLayout,p.visualElement=t0e(t,m,d,s,y.ProjectionNode,i)}return x.jsxs(PN.Provider,{value:p,children:[A&&p.visualElement?x.jsx(A,{visualElement:p.visualElement,...d}):null,Gge(t,c,Jge(m,p.visualElement,u),m,h,e,i)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=O.forwardRef(a);return l[Zge]=t,l}function r0e({layoutId:t}){const e=O.useContext(tP).id;return e&&t!==void 0?e+"-"+t:t}function s0e(t,e){O.useContext(x9).strict}function i0e(t){const{drag:e,layout:n}=q0;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function o0e(t,e){if(typeof Proxy>"u")return BT;const n=new Map,r=(i,o)=>BT(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,BT(o,void 0,t,e)),n.get(o))})}function D9({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function a0e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function l0e(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function _T(t){return t===void 0||t===1}function k4({scale:t,scaleX:e,scaleY:n}){return!_T(t)||!_T(e)||!_T(n)}function pp(t){return k4(t)||P9(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function P9(t){return j6(t.x)||j6(t.y)}function j6(t){return t&&t!=="0%"}function t_(t,e,n){const r=t-n,s=e*r;return n+s}function H6(t,e,n,r,s){return s!==void 0&&(t=t_(t,s,r)),t_(t,n,r)+e}function T4(t,e=0,n=1,r,s){t.min=H6(t.min,e,n,r,s),t.max=H6(t.max,e,n,r,s)}function R9(t,{x:e,y:n}){T4(t.x,e.translate,e.scale,e.originPoint),T4(t.y,n.translate,n.scale,n.originPoint)}const z6=.999999999999,V6=1.0000000000001;function c0e(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&t0(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,R9(t,o)),r&&pp(i.latestValues)&&t0(t,i.latestValues))}e.x<V6&&e.x>z6&&(e.x=1),e.y<V6&&e.y>z6&&(e.y=1)}function e0(t,e){t.min=t.min+e,t.max=t.max+e}function W6(t,e,n,r,s=.5){const i=us(t.min,t.max,s);T4(t,e,n,i,r)}function t0(t,e){W6(t.x,e.x,e.scaleX,e.scale,e.originX),W6(t.y,e.y,e.scaleY,e.scale,e.originY)}function O9(t,e){return D9(l0e(t.getBoundingClientRect(),e))}function u0e(t,e,n){const r=O9(t,n),{scroll:s}=e;return s&&(e0(r.x,s.offset.x),e0(r.y,s.offset.y)),r}const G6=()=>({translate:0,scale:1,origin:0,originPoint:0}),n0=()=>({x:G6(),y:G6()}),K6=()=>({min:0,max:0}),ui=()=>({x:K6(),y:K6()}),F4={current:null},$9={current:!1};function A0e(){if($9.current=!0,!!nP)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>F4.current=t.matches;t.addEventListener("change",e),e()}else F4.current=!1}const d0e=new WeakMap;function h0e(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Ii(s))t.addValue(r,s);else if(Ii(i))t.addValue(r,cm(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,cm(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const q6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class f0e{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=zo.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,Ir.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=ON(n),this.isVariantNode=C9(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...A}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in A){const h=A[d];l[d]!==void 0&&Ii(h)&&h.set(l[d])}}mount(e){var n;this.current=e,d0e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:($9.current||A0e(),this.shouldReduceMotion=F4.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),yd(this.notifyUpdate),yd(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Sy.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ir.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in q0){const n=q0[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ui()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<q6.length;r++){const s=q6[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=h0e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=cm(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(NK(r)||EK(r))?r=parseFloat(r):!xge(r)&&lf.test(n)&&(r=d9(e,n)),this.setBaseTarget(e,Ii(r)?r.get():r)),Ii(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=NP(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ii(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new aP),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){vP.render(this.render)}}class U9 extends f0e{constructor(){super(...arguments),this.KeyframeResolver=lge}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ii(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function M9(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function p0e(t){return window.getComputedStyle(t)}class m0e extends U9{constructor(){super(...arguments),this.type="html",this.renderInstance=M9}readValueFromInstance(e,n){var r;if(Sy.has(n))return(r=this.projection)!=null&&r.isProjecting?b4(n):_me(e,n);{const s=p0e(e),i=(HK(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return O9(e,n)}build(e,n,r){SP(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return IP(e,n,r)}}const Q9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function g0e(t,e,n,r){M9(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Q9.has(s)?s:EP(s),e.attrs[s])}class y0e extends U9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ui}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sy.has(n)){const r=A9(n);return r&&r.default||0}return n=Q9.has(n)?n:EP(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return k9(e,n,r)}build(e,n,r){_9(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){g0e(e,n,r,s)}mount(e){this.isSVGTag=I9(e.tagName),super.mount(e)}}const w0e=(t,e)=>e.isSVG??_P(t)?new y0e(e):new m0e(e,{allowProjection:t!==O.Fragment});function p0(t,e,n){const r=t.getProps();return NP(r,e,n!==void 0?n:r.custom,t)}const L4=t=>Array.isArray(t);function v0e(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,cm(n))}function x0e(t){return L4(t)?t[t.length-1]||0:t}function b0e(t,e){const n=p0(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=x0e(i[o]);v0e(t,o,a)}}function C0e(t){return!!(Ii(t)&&t.add)}function D4(t,e){const n=t.getValue("willChange");if(C0e(n))return n.add(e);if(!n&&gd.WillChange){const r=new gd.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function j9(t){return t.props[T9]}const S0e=t=>t!==null;function B0e(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(S0e),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const _0e={type:"spring",stiffness:500,damping:25,restSpeed:10},N0e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),I0e={type:"keyframes",duration:.8},E0e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},k0e=(t,{keyframes:e})=>e.length>2?I0e:Sy.has(t)?t.startsWith("scale")?N0e(e[1]):_0e:E0e;function T0e({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const kP=(t,e,n,r={},s,i)=>o=>{const a=yP(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-oA(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};T0e(a)||Object.assign(u,k0e(t,u)),u.duration&&(u.duration=oA(u.duration)),u.repeatDelay&&(u.repeatDelay=oA(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let A=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(N4(u),u.delay===0&&(A=!0)),(gd.instantAnimations||gd.skipAnimations)&&(A=!0,N4(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,A&&!i&&e.get()!==void 0){const d=B0e(u.keyframes,a);if(d!==void 0){Ir.update(()=>{u.onUpdate(d),u.onComplete()});return}}return a.isSync?new DN(u):new qme(u)};function F0e({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function H9(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const u in a){const A=t.getValue(u,t.latestValues[u]??null),d=a[u];if(d===void 0||c&&F0e(c,u))continue;const h={delay:n,...yP(i||{},u)},p=A.get();if(p!==void 0&&!A.isAnimating&&!Array.isArray(d)&&d===p&&!h.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const g=j9(t);if(g){const v=window.MotionHandoffAnimation(g,u,Ir);v!==null&&(h.startTime=v,m=!0)}}D4(t,u),A.start(kP(u,A,d,t.shouldReduceMotion&&l9.has(u)?{type:!1}:h,t,m));const y=A.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{Ir.update(()=>{o&&b0e(t,o)})}),l}function z9(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function P4(t,e,n={}){var l;const r=p0(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(H9(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:A,staggerDirection:d}=s;return L0e(t,e,c,u,A,d,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,u]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function L0e(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(P4(l,e,{...o,delay:n+(typeof r=="function"?0:r)+z9(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function D0e(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>P4(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=P4(t,e,n);else{const s=typeof e=="function"?p0(t,e,n.custom):e;r=Promise.all(H9(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function V9(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const P0e=CP.length;function W9(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?W9(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<P0e;n++){const r=CP[n],s=t.props[r];(Yv(s)||s===!1)&&(e[r]=s)}return e}const R0e=[...bP].reverse(),O0e=bP.length;function $0e(t){return e=>Promise.all(e.map(({animation:n,options:r})=>D0e(t,n,r)))}function U0e(t){let e=$0e(t),n=X6(),r=!0;const s=l=>(c,u)=>{var d;const A=p0(t,u,l==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);if(A){const{transition:h,transitionEnd:p,...m}=A;c={...c,...m,...p}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=W9(t.parent)||{},A=[],d=new Set;let h={},p=1/0;for(let y=0;y<O0e;y++){const g=R0e[y],v=n[g],b=c[g]!==void 0?c[g]:u[g],C=Yv(b),_=g===l?v.isActive:null;_===!1&&(p=y);let I=b===u[g]&&b!==c[g]&&C;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),v.protectedKeys={...h},!v.isActive&&_===null||!b&&!v.prevProp||RN(b)||typeof b=="boolean")continue;const F=M0e(v.prevProp,b);let T=F||g===l&&v.isActive&&!I&&C||y>p&&C,D=!1;const H=Array.isArray(b)?b:[b];let R=H.reduce(s(g),{});_===!1&&(R={});const{prevResolvedValues:U={}}=v,W={...U,...R},$=oe=>{T=!0,d.has(oe)&&(D=!0,d.delete(oe)),v.needsAnimating[oe]=!0;const V=t.getValue(oe);V&&(V.liveStyle=!1)};for(const oe in W){const V=R[oe],Z=U[oe];if(h.hasOwnProperty(oe))continue;let le=!1;L4(V)&&L4(Z)?le=!V9(V,Z):le=V!==Z,le?V!=null?$(oe):d.add(oe):V!==void 0&&d.has(oe)?$(oe):v.protectedKeys[oe]=!0}v.prevProp=b,v.prevResolvedValues=R,v.isActive&&(h={...h,...R}),r&&t.blockInitialAnimation&&(T=!1);const Y=I&&F;T&&(!Y||D)&&A.push(...H.map(oe=>{const V={type:g};if(typeof oe=="string"&&r&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:Z}=t,le=p0(Z,oe);if(Z.enteringChildren&&le){const{delayChildren:ce}=le.transition||{};V.delay=z9(Z.enteringChildren,t,ce)}}return{animation:oe,options:V}}))}if(d.size){const y={};if(typeof c.initial!="boolean"){const g=p0(t,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(y.transition=g.transition)}d.forEach(g=>{const v=t.getBaseTarget(g),b=t.getValue(g);b&&(b.liveStyle=!0),y[g]=v??null}),A.push({animation:y})}let m=!!A.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(A):Promise.resolve()}function a(l,c){var A;if(n[l].isActive===c)return Promise.resolve();(A=t.variantChildren)==null||A.forEach(d=>{var h;return(h=d.animationState)==null?void 0:h.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const d in n)n[d].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=X6()}}}function M0e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!V9(e,t):!1}function lp(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function X6(){return{animate:lp(!0),whileInView:lp(),whileHover:lp(),whileTap:lp(),whileDrag:lp(),whileFocus:lp(),exit:lp()}}class Ef{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Q0e extends Ef{constructor(e){super(e),e.animationState||(e.animationState=U0e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();RN(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let j0e=0;class H0e extends Ef{constructor(){super(...arguments),this.id=j0e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const z0e={animation:{Feature:Q0e},exit:{Feature:H0e}};function Zv(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Yx(t){return{point:{x:t.pageX,y:t.pageY}}}const V0e=t=>e=>xP(e)&&t(e,Yx(e));function hv(t,e,n,r){return Zv(t,e,V0e(n),r)}const G9=1e-4,W0e=1-G9,G0e=1+G9,K9=.01,K0e=0-K9,q0e=0+K9;function Vo(t){return t.max-t.min}function X0e(t,e,n){return Math.abs(t-e)<=n}function Y6(t,e,n,r=.5){t.origin=r,t.originPoint=us(e.min,e.max,t.origin),t.scale=Vo(n)/Vo(e),t.translate=us(n.min,n.max,t.origin)-t.originPoint,(t.scale>=W0e&&t.scale<=G0e||isNaN(t.scale))&&(t.scale=1),(t.translate>=K0e&&t.translate<=q0e||isNaN(t.translate))&&(t.translate=0)}function fv(t,e,n,r){Y6(t.x,e.x,n.x,r?r.originX:void 0),Y6(t.y,e.y,n.y,r?r.originY:void 0)}function Z6(t,e,n){t.min=n.min+e.min,t.max=t.min+Vo(e)}function Y0e(t,e,n){Z6(t.x,e.x,n.x),Z6(t.y,e.y,n.y)}function J6(t,e,n){t.min=e.min-n.min,t.max=t.min+Vo(e)}function n_(t,e,n){J6(t.x,e.x,n.x),J6(t.y,e.y,n.y)}function Ol(t){return[t("x"),t("y")]}const q9=({current:t})=>t?t.ownerDocument.defaultView:null,eQ=(t,e)=>Math.abs(t-e);function Z0e(t,e){const n=eQ(t.x,e.x),r=eQ(t.y,e.y);return Math.sqrt(n**2+r**2)}const tQ=new Set(["auto","scroll"]);class X9{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=h=>{this.handleScroll(h.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=IT(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Z0e(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!m)return;const{point:y}=h,{timestamp:g}=Vi;this.history.push({...y,timestamp:g});const{onStart:v,onMove:b}=this.handlers;p||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=NT(p,this.transformPagePoint),Ir.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:g}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=IT(h.type==="pointercancel"?this.lastMoveEventInfo:NT(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,v),y&&y(h,v)},!xP(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=Yx(e),c=NT(l,this.transformPagePoint),{point:u}=c,{timestamp:A}=Vi;this.history=[{...u,timestamp:A}];const{onSessionStart:d}=n;d&&d(e,IT(c,this.history)),this.removeListeners=Gx(hv(this.contextWindow,"pointermove",this.handlePointerMove),hv(this.contextWindow,"pointerup",this.handlePointerUp),hv(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(tQ.has(r.overflowX)||tQ.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,s),Ir.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),yd(this.updatePoint)}}function NT(t,e){return e?{point:e(t.point)}:t}function nQ(t,e){return{x:t.x-e.x,y:t.y-e.y}}function IT({point:t},e){return{point:t,delta:nQ(t,Y9(e)),offset:nQ(t,J0e(e)),velocity:eye(e,.1)}}function J0e(t){return t[0]}function Y9(t){return t[t.length-1]}function eye(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Y9(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>oA(e)));)n--;if(!r)return{x:0,y:0};const i=Gl(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function tye(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?us(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?us(n,t,r.max):Math.min(t,n)),t}function rQ(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function nye(t,{top:e,left:n,bottom:r,right:s}){return{x:rQ(t.x,n,s),y:rQ(t.y,e,r)}}function sQ(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function rye(t,e){return{x:sQ(t.x,e.x),y:sQ(t.y,e.y)}}function sye(t,e){let n=.5;const r=Vo(t),s=Vo(e);return s>r?n=Kv(e.min,e.max-r,t.min):r>s&&(n=Kv(t.min,t.max-s,e.min)),gA(0,1,n)}function iye(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const R4=.35;function oye(t=R4){return t===!1?t=0:t===!0&&(t=R4),{x:iQ(t,"left","right"),y:iQ(t,"top","bottom")}}function iQ(t,e,n){return{min:oQ(t,e),max:oQ(t,n)}}function oQ(t,e){return typeof t=="number"?t:t[e]||0}const aye=new WeakMap;class lye{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ui(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=A=>{n?(this.stopAnimation(),this.snapToCursor(Yx(A).point)):this.pauseAnimation()},o=(A,d)=>{this.stopAnimation();const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dge(h),!this.openDragLock))return;this.latestPointerEvent=A,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ol(g=>{let v=this.getAxisMotionValue(g).get()||0;if(aA.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const C=b.layout.layoutBox[g];C&&(v=Vo(C)*(parseFloat(v)/100))}}this.originPoint[g]=v}),m&&Ir.postRender(()=>m(A,d)),D4(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(A,d)=>{this.latestPointerEvent=A,this.latestPanInfo=d;const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:y}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:g}=d;if(p&&this.currentDirection===null){this.currentDirection=cye(g),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,g),this.updateAxis("y",d.point,g),this.visualElement.render(),y&&y(A,d)},l=(A,d)=>{this.latestPointerEvent=A,this.latestPanInfo=d,this.stop(A,d),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Ol(A=>{var d;return this.getAnimationState(A)==="paused"&&((d=this.getAxisMotionValue(A).animation)==null?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new X9(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:q9(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ir.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!PC(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=tye(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Dw(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=nye(r.layoutBox,e):this.constraints=!1,this.elastic=oye(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ol(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=iye(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Dw(e))return!1;const r=e.current;K0(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=u0e(r,s.root,this.visualElement.getTransformPagePoint());let o=rye(s.layout.layoutBox,i);if(n){const a=n(a0e(o));this.hasMutatedConstraints=!!a,a&&(o=D9(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Ol(u=>{if(!PC(u,n,this.currentDirection))return;let A=l&&l[u]||{};o&&(A={min:0,max:0});const d=s?200:1e6,h=s?40:1e7,p={type:"inertia",velocity:r?e[u]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...A};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return D4(this.visualElement,e),r.start(kP(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ol(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ol(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ol(n=>{const{drag:r}=this.getProps();if(!PC(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n],l=i.get()||0;i.set(e[n]-us(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Dw(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ol(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=sye({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ol(o=>{if(!PC(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(us(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;aye.set(this.visualElement,this);const e=this.visualElement.current,n=hv(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&!y9(l.target)&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Dw(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ir.read(r);const o=Zv(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ol(u=>{const A=this.getAxisMotionValue(u);A&&(this.originPoint[u]+=l[u].translate,A.set(A.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=R4,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function PC(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function cye(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class uye extends Ef{constructor(e){super(e),this.removeGroupControls=nc,this.removeListeners=nc,this.controls=new lye(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nc}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const aQ=t=>(e,n)=>{t&&Ir.postRender(()=>t(e,n))};class Aye extends Ef{constructor(){super(...arguments),this.removePointerDownListener=nc}onPointerDown(e){this.session=new X9(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:q9(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:aQ(e),onStart:aQ(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Ir.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=hv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ZS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let ET=!1;class dye extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),ET&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ZS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,ET=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Ir.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),vP.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;ET=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Z9(t){const[e,n]=v9(),r=O.useContext(tP);return x.jsx(dye,{...t,layoutGroup:r,switchLayoutGroup:O.useContext(F9),isPresent:e,safeToRemove:n})}function hye(t,e,n){const r=Ii(t)?t:cm(t);return r.start(kP("",r,e,n)),r.animation}const fye=(t,e)=>t.depth-e.depth;class pye{constructor(){this.children=[],this.isDirty=!1}add(e){sP(this.children,e),this.isDirty=!0}remove(e){iP(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fye),this.isDirty=!1,this.children.forEach(e)}}function mye(t,e){const n=zo.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(yd(r),t(i-e))};return Ir.setup(r,!0),()=>yd(r)}const J9=["TopLeft","TopRight","BottomLeft","BottomRight"],gye=J9.length,lQ=t=>typeof t=="string"?parseFloat(t):t,cQ=t=>typeof t=="number"||Ct.test(t);function yye(t,e,n,r,s,i){s?(t.opacity=us(0,n.opacity??1,wye(r)),t.opacityExit=us(e.opacity??1,0,vye(r))):i&&(t.opacity=us(e.opacity??1,n.opacity??1,r));for(let o=0;o<gye;o++){const a=`border${J9[o]}Radius`;let l=uQ(e,a),c=uQ(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||cQ(l)===cQ(c)?(t[a]=Math.max(us(lQ(l),lQ(c),r),0),(aA.test(c)||aA.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=us(e.rotate||0,n.rotate||0,r))}function uQ(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const wye=eq(0,.5,OK),vye=eq(.5,.95,nc);function eq(t,e,n){return r=>r<t?0:r>e?1:n(Kv(t,e,r))}function AQ(t,e){t.min=e.min,t.max=e.max}function Rc(t,e){AQ(t.x,e.x),AQ(t.y,e.y)}function dQ(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function hQ(t,e,n,r,s){return t-=e,t=t_(t,1/n,r),s!==void 0&&(t=t_(t,1/s,r)),t}function xye(t,e=0,n=1,r=.5,s,i=t,o=t){if(aA.test(e)&&(e=parseFloat(e),e=us(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=us(i.min,i.max,r);t===i&&(a-=e),t.min=hQ(t.min,e,n,a,s),t.max=hQ(t.max,e,n,a,s)}function fQ(t,e,[n,r,s],i,o){xye(t,e[n],e[r],e[s],e.scale,i,o)}const bye=["x","scaleX","originX"],Cye=["y","scaleY","originY"];function pQ(t,e,n,r){fQ(t.x,e,bye,n?n.x:void 0,r?r.x:void 0),fQ(t.y,e,Cye,n?n.y:void 0,r?r.y:void 0)}function mQ(t){return t.translate===0&&t.scale===1}function tq(t){return mQ(t.x)&&mQ(t.y)}function gQ(t,e){return t.min===e.min&&t.max===e.max}function Sye(t,e){return gQ(t.x,e.x)&&gQ(t.y,e.y)}function yQ(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function nq(t,e){return yQ(t.x,e.x)&&yQ(t.y,e.y)}function wQ(t){return Vo(t.x)/Vo(t.y)}function vQ(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Bye{constructor(){this.members=[]}add(e){sP(this.members,e),e.scheduleRender()}remove(e){if(iP(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _ye(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:A,rotateY:d,skewX:h,skewY:p}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),A&&(r+=`rotateX(${A}deg) `),d&&(r+=`rotateY(${d}deg) `),h&&(r+=`skewX(${h}deg) `),p&&(r+=`skewY(${p}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const kT=["","X","Y","Z"],Nye=1e3;let Iye=0;function TT(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function rq(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=j9(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ir,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&rq(r)}function sq({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Iye++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Tye),this.nodes.forEach(Pye),this.nodes.forEach(Rye),this.nodes.forEach(Fye)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new pye)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new aP),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=w9(o)&&!gge(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u,A=0;const d=()=>this.root.updateBlockedByResize=!1;Ir.read(()=>{A=window.innerWidth}),t(o,()=>{const h=window.innerWidth;h!==A&&(A=h,this.root.updateBlockedByResize=!0,u&&u(),u=mye(d,250),ZS.hasAnimatedSinceResize&&(ZS.hasAnimatedSinceResize=!1,this.nodes.forEach(CQ)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:A,hasRelativeLayoutChanged:d,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||Qye,{onLayoutAnimationStart:m,onLayoutAnimationComplete:y}=c.getProps(),g=!this.targetLayout||!nq(this.targetLayout,h),v=!A&&d;if(this.options.layoutRoot||this.resumeFrom||v||A&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...yP(p,"layout"),onPlay:m,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,v)}else A||CQ(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),yd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Oye),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const A=this.path[u];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xQ);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(bQ);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Dye),this.nodes.forEach(Eye),this.nodes.forEach(kye)):this.nodes.forEach(bQ),this.clearAllSnapshots();const a=zo.now();Vi.delta=gA(0,1e3/60,a-Vi.timestamp),Vi.timestamp=a,Vi.isProcessing=!0,yT.update.process(Vi),yT.preRender.process(Vi),yT.render.process(Vi),Vi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Lye),this.sharedNodes.forEach($ye)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ir.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ir.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vo(this.snapshot.measuredBox.x)&&!Vo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ui(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!tq(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||pp(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),jye(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return ui();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Hye))){const{scroll:u}=this.root;u&&(e0(a.x,u.offset.x),e0(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=ui();if(Rc(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:A,options:d}=u;u!==this.root&&A&&d.layoutScroll&&(A.wasRoot&&Rc(a,o),e0(a.x,A.offset.x),e0(a.y,A.offset.y))}return a}applyTransform(o,a=!1){const l=ui();Rc(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&t0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),pp(u.latestValues)&&t0(l,u.latestValues)}return pp(this.latestValues)&&t0(l,this.latestValues),l}removeTransform(o){const a=ui();Rc(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!pp(c.latestValues))continue;k4(c.latestValues)&&c.updateSnapshot();const u=ui(),A=c.measurePageBox();Rc(u,A),pQ(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return pp(this.latestValues)&&pQ(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:A}=this.options;if(!this.layout||!(u||A))return;this.resolvedRelativeTargetAt=Vi.timestamp;const d=this.getClosestProjectingParent();d&&this.linkedParentVersion!==d.layoutVersion&&!d.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(d&&d.layout?this.createRelativeTarget(d,this.layout.layoutBox,d.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ui(),this.targetWithTransforms=ui()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Y0e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rc(this.target,this.layout.layoutBox),R9(this.target,this.targetDelta)):Rc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?this.createRelativeTarget(d,this.target,d.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||k4(this.parent.latestValues)||P9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ui(),this.relativeTargetOrigin=ui(),n_(this.relativeTargetOrigin,a,l),Rc(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var p;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Vi.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Rc(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,d=this.treeScale.y;c0e(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ui());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dQ(this.prevProjectionDelta.x,this.projectionDelta.x),dQ(this.prevProjectionDelta.y,this.projectionDelta.y)),fv(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==d||!vQ(this.projectionDelta.x,this.prevProjectionDelta.x)||!vQ(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=n0(),this.projectionDelta=n0(),this.projectionDeltaWithTransform=n0()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},A=n0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=ui(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,m=h!==p,y=this.getStack(),g=!y||y.members.length<=1,v=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(Mye));this.animationProgress=0;let b;this.mixTargetDelta=C=>{const _=C/1e3;SQ(A.x,o.x,_),SQ(A.y,o.y,_),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(n_(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Uye(this.relativeTarget,this.relativeTargetOrigin,d,_),b&&Sye(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=ui()),Rc(b,this.relativeTarget)),m&&(this.animationValues=u,yye(u,c,this.latestValues,_,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(yd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ir.update(()=>{ZS.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=cm(0)),this.currentAnimation=hye(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Nye),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&iq(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ui();const A=Vo(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+A;const d=Vo(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Rc(a,l),t0(a,u),fv(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Bye),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&TT("z",o,c,this.animationValues);for(let u=0;u<kT.length;u++)TT(`rotate${kT[u]}`,o,c,this.animationValues),TT(`skew${kT[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=YS(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=YS(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!pp(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let A=_ye(this.projectionDeltaWithTransform,this.treeScale,u);l&&(A=l(u,A)),o.transform=A;const{x:d,y:h}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in E4){if(u[p]===void 0)continue;const{correct:m,applyTo:y,isCSSVariable:g}=E4[p],v=A==="none"?u[p]:m(u[p],c);if(y){const b=y.length;for(let C=0;C<b;C++)o[y[C]]=v}else g?this.options.visualElement.renderState.vars[p]=v:o[p]=v}this.options.layoutId&&(o.pointerEvents=c===this?YS(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(xQ),this.root.sharedNodes.clear()}}}function Eye(t){t.updateLayout()}function kye(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Ol(A=>{const d=o?e.measuredBox[A]:e.layoutBox[A],h=Vo(d);d.min=r[A].min,d.max=d.min+h}):iq(i,e.layoutBox,r)&&Ol(A=>{const d=o?e.measuredBox[A]:e.layoutBox[A],h=Vo(r[A]);d.max=d.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[A].max=t.relativeTarget[A].min+h)});const a=n0();fv(a,r,e.layoutBox);const l=n0();o?fv(l,t.applyTransform(s,!0),e.measuredBox):fv(l,r,e.layoutBox);const c=!tq(a);let u=!1;if(!t.resumeFrom){const A=t.getClosestProjectingParent();if(A&&!A.resumeFrom){const{snapshot:d,layout:h}=A;if(d&&h){const p=ui();n_(p,e.layoutBox,d.layoutBox);const m=ui();n_(m,r,h.layoutBox),nq(p,m)||(u=!0),A.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=p,t.relativeParent=A)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Tye(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Fye(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Lye(t){t.clearSnapshot()}function xQ(t){t.clearMeasurements()}function bQ(t){t.isLayoutDirty=!1}function Dye(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function CQ(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Pye(t){t.resolveTargetDelta()}function Rye(t){t.calcProjection()}function Oye(t){t.resetSkewAndRotation()}function $ye(t){t.removeLeadSnapshot()}function SQ(t,e,n){t.translate=us(e.translate,0,n),t.scale=us(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function BQ(t,e,n,r){t.min=us(e.min,n.min,r),t.max=us(e.max,n.max,r)}function Uye(t,e,n,r){BQ(t.x,e.x,n.x,r),BQ(t.y,e.y,n.y,r)}function Mye(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Qye={duration:.45,ease:[.4,0,.1,1]},_Q=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),NQ=_Q("applewebkit/")&&!_Q("chrome/")?Math.round:nc;function IQ(t){t.min=NQ(t.min),t.max=NQ(t.max)}function jye(t){IQ(t.x),IQ(t.y)}function iq(t,e,n){return t==="position"||t==="preserve-aspect"&&!X0e(wQ(e),wQ(n),.2)}function Hye(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const zye=sq({attachResizeListener:(t,e)=>Zv(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),FT={current:void 0},oq=sq({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!FT.current){const t=new zye({});t.mount(window),t.setOptions({layoutScroll:!0}),FT.current=t}return FT.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Vye={pan:{Feature:Aye},drag:{Feature:uye,ProjectionNode:oq,MeasureLayout:Z9}};function EQ(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Ir.postRender(()=>i(e,Yx(e)))}class Wye extends Ef{mount(){const{current:e}=this.node;e&&(this.unmount=hge(e,(n,r)=>(EQ(this.node,r,"Start"),s=>EQ(this.node,s,"End"))))}unmount(){}}class Gye extends Ef{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gx(Zv(this.node.current,"focus",()=>this.onFocus()),Zv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kQ(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Ir.postRender(()=>i(e,Yx(e)))}class Kye extends Ef{mount(){const{current:e}=this.node;e&&(this.unmount=mge(e,(n,r)=>(kQ(this.node,r,"Start"),(s,{success:i})=>kQ(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const O4=new WeakMap,LT=new WeakMap,qye=t=>{const e=O4.get(t.target);e&&e(t)},Xye=t=>{t.forEach(qye)};function Yye({root:t,...e}){const n=t||document;LT.has(n)||LT.set(n,{});const r=LT.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Xye,{root:t,...e})),r[s]}function Zye(t,e,n){const r=Yye(e);return O4.set(t,n),r.observe(t),()=>{O4.delete(t),r.unobserve(t)}}const Jye={some:0,all:1};class e1e extends Ef{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Jye[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:A}=this.node.getProps(),d=c?u:A;d&&d(l)};return Zye(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(t1e(e,n))&&this.startObserver()}unmount(){}}function t1e({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const n1e={inView:{Feature:e1e},tap:{Feature:Kye},focus:{Feature:Gye},hover:{Feature:Wye}},r1e={layout:{ProjectionNode:oq,MeasureLayout:Z9}},s1e={...z0e,...n1e,...Vye,...r1e},Ft=o0e(s1e,w0e);function r_(t){const e=Wx(()=>cm(t)),{isStatic:n}=O.useContext(Xx);if(n){const[,r]=O.useState(t);O.useEffect(()=>e.on("change",r),[])}return e}function aq(t,e){const n=r_(e()),r=()=>n.set(e());return r(),rP(()=>{const s=()=>Ir.preRender(r,!1,!0),i=t.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),yd(r)}}),n}function i1e(t){dv.current=[],t();const e=aq(dv.current,t);return dv.current=void 0,e}function Pw(t,e,n,r){if(typeof t=="function")return i1e(t);const s=typeof e=="function"?e:yge(e,n,r);return Array.isArray(t)?TQ(t,s):TQ([t],([i])=>s(i))}function TQ(t,e){const n=Wx(()=>[]);return aq(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}function FQ(t,e={}){const{isStatic:n}=O.useContext(Xx),r=()=>Ii(t)?t.get():t;if(n)return Pw(r);const s=r_(r());return O.useInsertionEffect(()=>wge(s,t,e),[s,JSON.stringify(e)]),s}const LQ=["Champions keep playing until they get it right.","Hard work beats talent when talent doesn't work hard.","It's not whether you get knocked down; it's whether you get up.","Winning isn't everything, but wanting to win is.","Your only limit is your mind."],DT=[{Component:pA,color:"text-yellow-500"},{Component:$D,color:"text-blue-500"},{Component:pG,color:"text-red-500"},{Component:sA,color:"text-green-500"},{Component:Oue,color:"text-purple-500"},{Component:d0,color:"text-orange-500"}],o1e=({onComplete:t})=>{const[e,n]=O.useState(0),[r]=O.useState(()=>LQ[Math.floor(Math.random()*LQ.length)]);O.useEffect(()=>{const i=setInterval(()=>{n(a=>(a+1)%DT.length)},400),o=setTimeout(()=>{t()},2500);return()=>{clearInterval(i),clearTimeout(o)}},[t]);const s=DT[e].Component;return x.jsx(JB,{children:x.jsxs(Ft.div,{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-background",exit:{opacity:0},transition:{duration:.5},children:[x.jsxs(Ft.div,{className:"relative mb-8",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:[x.jsx(Ft.div,{className:"absolute inset-0 bg-primary/10 rounded-full blur-xl",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}),x.jsx(Ft.div,{initial:{scale:.5,opacity:0,rotate:-20},animate:{scale:1,opacity:1,rotate:0},exit:{scale:.5,opacity:0,rotate:20},transition:{duration:.2},className:`relative z-10 p-4 rounded-2xl bg-secondary/50 backdrop-blur-sm ${DT[e].color}`,children:x.jsx(s,{className:"w-12 h-12 md:w-16 md:h-16"})},e)]}),x.jsxs(Ft.div,{className:"text-4xl md:text-6xl font-bold tracking-tight mb-6 overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[x.jsx("span",{className:"text-foreground inline-block",children:"Play"}),x.jsx(Ft.span,{className:"text-primary inline-block",animate:{textShadow:["0px 0px 0px rgba(0,0,0,0)","0px 0px 20px rgba(var(--primary), 0.5)","0px 0px 0px rgba(0,0,0,0)"]},transition:{duration:2,repeat:1/0},children:"Pal"})]}),x.jsxs(Ft.p,{className:"text-muted-foreground text-sm md:text-base text-center max-w-md px-6 italic",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.5},children:['"',r,'"']}),x.jsx(Ft.div,{className:"absolute bottom-10 w-48 h-1 bg-secondary rounded-full overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:x.jsx(Ft.div,{className:"h-full bg-primary",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2,ease:"easeInOut"}})})]})})},a1e=DD("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Pt=O.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Lce:"button";return x.jsx(o,{className:Yn(a1e({variant:e,size:n,className:t})),ref:i,...s})});Pt.displayName="Button";const Om=()=>{var d;const[t,e]=O.useState(!1),[n,r]=O.useState(!1),s=sa(),{user:i,isAuthenticated:o,logout:a}=If(),{selectedCity:l,cities:c,setSelectedCity:u}=Vx(),A=[{name:"Venues",href:"/venues"},{name:"Find Players",href:"/players"},{name:"Tournaments",href:"/tournaments"}];return x.jsxs(Ft.header,{className:"fixed top-0 left-0 right-0 z-40 gradient-glass border-b border-border/50",initial:{y:-100},animate:{y:0},transition:{duration:.5,delay:.2},children:[x.jsxs("nav",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[x.jsx(Zg,{to:"/",className:"flex items-center gap-2",children:x.jsxs("span",{className:"text-2xl font-bold",children:[x.jsx("span",{className:"text-foreground",children:"P"}),x.jsx("span",{className:"text-primary",children:"l"}),x.jsx("span",{className:"text-foreground",children:"ayPal"})]})}),x.jsxs("div",{className:"relative hidden md:block",children:[x.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-secondary/80 text-sm cursor-pointer hover:bg-secondary transition-colors",onClick:()=>r(!n),children:[x.jsx(au,{className:"w-4 h-4 text-primary"}),x.jsx("span",{className:"font-medium",children:l.name}),x.jsx(RD,{className:"w-4 h-4 text-muted-foreground"})]}),n&&x.jsx("div",{className:"absolute top-full mt-2 left-0 w-48 bg-card border rounded-lg shadow-lg py-2 max-h-64 overflow-y-auto z-50",children:c.map(h=>x.jsx("button",{className:"w-full px-4 py-2 text-left text-sm hover:bg-secondary transition-colors",onClick:()=>{u(h),r(!1)},children:h.name},h.name))})]}),x.jsx("div",{className:"hidden md:flex items-center gap-8",children:A.map(h=>x.jsx(Zg,{to:h.href,className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:h.name},h.name))}),x.jsx("div",{className:"hidden md:flex items-center gap-3",children:o?x.jsxs(x.Fragment,{children:[x.jsxs(Pt,{variant:"ghost",size:"sm",onClick:()=>s((i==null?void 0:i.role)==="turf_owner"?"/owner-dashboard":"/dashboard"),children:[x.jsx(cv,{className:"w-4 h-4 mr-2"}),(d=i==null?void 0:i.name)==null?void 0:d.split(" ")[0]]}),x.jsx(Pt,{size:"sm",variant:"outline",onClick:()=>{a(),s("/")},children:"Logout"})]}):x.jsxs(x.Fragment,{children:[x.jsxs(Pt,{variant:"ghost",size:"sm",onClick:()=>s("/login"),children:[x.jsx(cv,{className:"w-4 h-4 mr-2"}),"Login"]}),x.jsx(Pt,{size:"sm",className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>s("/login"),children:"Get Started"})]})}),x.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-secondary transition-colors",onClick:()=>e(!t),children:t?x.jsx(Qx,{className:"w-6 h-6"}):x.jsx($ue,{className:"w-6 h-6"})})]}),x.jsx(Ft.div,{className:"md:hidden bg-background border-t border-border",initial:!1,animate:{height:t?"auto":0},transition:{duration:.3},style:{overflow:"hidden"},children:x.jsxs("div",{className:"container mx-auto px-4 py-4 flex flex-col gap-4",children:[o&&x.jsxs(Zg,{to:(i==null?void 0:i.role)==="turf_owner"?"/owner-dashboard":"/dashboard",className:"px-3 py-2 bg-primary/10 text-primary font-semibold rounded-lg hover:bg-primary/20 transition-colors flex items-center gap-2",onClick:()=>e(!1),children:[x.jsx(cv,{className:"w-5 h-5"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{children:i==null?void 0:i.name}),x.jsx("span",{className:"text-xs text-muted-foreground",children:"View Dashboard"})]})]}),x.jsxs("div",{className:"px-3 py-2 bg-secondary/50 rounded-lg",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(au,{className:"w-4 h-4 text-primary"}),x.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Location"})]}),x.jsx("select",{className:"w-full px-3 py-2 rounded-md border bg-background text-sm",value:l.name,onChange:h=>{const p=c.find(m=>m.name===h.target.value);p&&u(p)},children:c.map(h=>x.jsx("option",{value:h.name,children:h.name},h.name))})]}),A.map(h=>x.jsx(Zg,{to:h.href,className:"px-3 py-2 text-foreground font-medium hover:text-primary transition-colors",onClick:()=>e(!1),children:h.name},h.name)),x.jsx("div",{className:"flex gap-3 pt-2 border-t border-border",children:o?x.jsx(Pt,{className:"flex-1",variant:"outline",onClick:()=>{a(),s("/"),e(!1)},children:"Logout"}):x.jsxs(x.Fragment,{children:[x.jsx(Pt,{variant:"outline",className:"flex-1",onClick:()=>{s("/login"),e(!1)},children:"Login"}),x.jsx(Pt,{className:"flex-1",onClick:()=>{s("/login"),e(!1)},children:"Get Started"})]})})]})})]})},l1e=()=>{const t=sa(),[e,n]=O.useState(""),r=O.useRef(null),s=r_(0),i=r_(0),o=v=>{const{clientX:b,clientY:C}=v,{innerWidth:_,innerHeight:I}=window;s.set(b/_-.5),i.set(C/I-.5)},a=FQ(s,{stiffness:100,damping:30}),l=FQ(i,{stiffness:100,damping:30}),c=Pw(a,[-.5,.5],[20,-20]),u=Pw(l,[-.5,.5],[20,-20]),A=Pw(a,[-.5,.5],[-20,20]),d=Pw(l,[-.5,.5],[-20,20]),h=()=>{t(`/venues?search=${encodeURIComponent(e)}`)},[p,m]=O.useState(0),y=["Team","Court","Game","Passion"];O.useEffect(()=>{const v=setInterval(()=>{m(b=>(b+1)%y.length)},2e3);return()=>clearInterval(v)},[]);const g=[{name:"Cricket",icon:"",color:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20"},{name:"Football",icon:"",color:"bg-blue-500/10 text-blue-500 border-blue-500/20"},{name:"Badminton",icon:"",color:"bg-green-500/10 text-green-500 border-green-500/20"},{name:"Tennis",icon:"",color:"bg-orange-500/10 text-orange-500 border-orange-500/20"}];return x.jsxs("section",{ref:r,onMouseMove:o,className:"relative min-h-[110vh] pt-24 md:pt-32 pb-20 overflow-hidden flex items-center justify-center bg-background",children:[x.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[x.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-primary/10 rounded-full blur-[120px] animate-pulse-slow"}),x.jsx("div",{className:"absolute bottom-[-10%] right-[-5%] w-[40%] h-[60%] bg-accent/20 rounded-full blur-[100px] animate-pulse-slow delay-1000"}),x.jsx("div",{className:"absolute top-[40%] left-[60%] w-[30%] h-[30%] bg-secondary/30 rounded-full blur-[80px]"}),x.jsx("div",{className:"absolute inset-0 bg-[url('/grid-pattern.svg')] opacity-[0.05]"})]}),x.jsx("div",{className:"container mx-auto px-4 relative z-10",children:x.jsxs("div",{className:"flex flex-col items-center text-center max-w-5xl mx-auto",children:[x.jsxs(Ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-secondary/30 backdrop-blur-md border border-primary/10 text-sm font-medium text-primary mb-8",children:[x.jsxs("span",{className:"relative flex h-2 w-2",children:[x.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),x.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]}),"Trusted by 10,000+ active players"]}),x.jsxs(Ft.h1,{className:"text-5xl md:text-7xl lg:text-8xl font-bold tracking-tight mb-8 leading-[1.1]",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.1,type:"spring"},children:[x.jsx("span",{className:"block text-foreground",children:"Play Better,"}),x.jsxs("span",{className:"block",children:["Find Your"," ",x.jsx(Ft.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"text-transparent bg-clip-text bg-gradient-to-r from-primary via-orange-600 to-amber-600",children:y[p]},y[p])]})]}),x.jsx(Ft.p,{className:"text-xl text-muted-foreground max-w-2xl mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:"The smartest way to book sports venues and find players nearby. Join the community that's changing the game."}),x.jsxs(Ft.div,{className:"w-full max-w-2xl relative mb-16 z-20",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.4},children:[x.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary to-accent rounded-2xl opacity-20 blur-lg transition duration-1000 group-hover:opacity-100"}),x.jsxs("div",{className:"relative flex items-center gap-2 p-2 bg-background/80 backdrop-blur-xl border border-border/50 rounded-2xl shadow-xl",children:[x.jsxs("div",{className:"flex-1 flex items-center gap-3 px-4 h-14",children:[x.jsx(V0,{className:"w-6 h-6 text-muted-foreground"}),x.jsx("input",{type:"text",placeholder:"Search 'Cricket in Ahmedabad'...",className:"flex-1 bg-transparent outline-none text-lg text-foreground placeholder:text-muted-foreground/60 min-w-0",value:e,onChange:v=>n(v.target.value),onKeyDown:v=>v.key==="Enter"&&h()})]}),x.jsx(Pt,{size:"lg",onClick:h,className:"h-14 px-8 rounded-xl text-lg font-semibold bg-primary hover:bg-primary/90 shadow-lg shadow-primary/25 transition-all hover:scale-[1.02]",children:"Search"})]}),x.jsx("div",{className:"absolute top-full left-0 right-0 mt-4 flex flex-wrap items-center justify-center gap-3",children:g.map((v,b)=>x.jsxs(Ft.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6+b*.1},className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium border bg-background/50 backdrop-blur-sm transition-all hover:scale-105 hover:bg-background ${v.color}`,onClick:()=>t(`/venues?sport=${v.name}`),children:[x.jsx("span",{className:"text-sm",children:v.icon}),v.name]},v.name))})]}),x.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[x.jsx(Ft.div,{style:{x:c,y:u},className:"absolute top-[15%] left-[5%] md:left-[10%] hidden lg:block",children:x.jsxs("div",{className:"bg-background/80 backdrop-blur-md p-4 rounded-2xl border border-primary/10 shadow-2xl flex gap-4 items-center animate-float",children:[x.jsx("div",{className:"h-12 w-12 rounded-xl bg-orange-500/10 flex items-center justify-center",children:x.jsx(pA,{className:"text-orange-600 w-6 h-6"})}),x.jsxs("div",{children:[x.jsx("p",{className:"font-bold text-sm text-foreground",children:"Top Rated Turf"}),x.jsxs("div",{className:"flex text-amber-500 text-xs gap-0.5",children:[x.jsx(vh,{className:"w-3 h-3 fill-current"}),x.jsx(vh,{className:"w-3 h-3 fill-current"}),x.jsx(vh,{className:"w-3 h-3 fill-current"}),x.jsx(vh,{className:"w-3 h-3 fill-current"}),x.jsx(vh,{className:"w-3 h-3 fill-current"})]})]})]})}),x.jsx(Ft.div,{style:{x:A,y:d},className:"absolute bottom-[20%] right-[5%] md:right-[10%] hidden lg:block",children:x.jsxs("div",{className:"bg-background/80 backdrop-blur-md p-4 rounded-2xl border border-primary/10 shadow-2xl flex gap-4 items-center animate-float-delayed",children:[x.jsx("div",{className:"flex -space-x-3",children:[1,2,3].map((v,b)=>x.jsx("div",{className:"w-9 h-9 rounded-full bg-secondary border-2 border-background flex items-center justify-center",children:x.jsx(sA,{className:"w-4 h-4 text-primary opacity-70"})},b))}),x.jsxs("div",{children:[x.jsx("p",{className:"font-bold text-sm text-foreground",children:"3 Players Needed"}),x.jsxs("p",{className:"text-xs text-green-600 font-medium flex items-center gap-1",children:[x.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),"Match Starting soon!"]})]})]})})]})]})})]})},$4=({id:t,name:e,image:n,sport:r,location:s,distance:i,price:o,rating:a,reviews:l,crowdLevel:c,weather:u,slotsAvailable:A,isVerified:d=!1})=>{const h=sa(),p={Low:"bg-sport-football/20 text-sport-football",Medium:"bg-sport-cricket/20 text-sport-cricket",High:"bg-destructive/20 text-destructive"};return x.jsxs(Ft.div,{className:"group rounded-2xl bg-card border border-border overflow-hidden shadow-soft hover:shadow-hover transition-all duration-300 h-full flex flex-col",whileHover:{y:-4},onClick:()=>h(`/venue/${t}`),children:[x.jsxs("div",{className:"relative h-48 overflow-hidden shrink-0",children:[x.jsx("img",{src:n,alt:e,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-foreground/40 to-transparent"}),x.jsx("div",{className:"absolute top-3 left-3 px-3 py-1 rounded-full bg-card/90 backdrop-blur-sm text-xs font-medium text-foreground",children:r}),d&&x.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1 px-2 py-1 rounded-full bg-primary/90 text-primary-foreground text-xs font-medium border border-primary/20",children:[x.jsx(n4,{className:"w-3 h-3"}),"Verified"]}),x.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center gap-1 px-3 py-1.5 rounded-lg bg-card/95 backdrop-blur-sm shadow-sm",children:[x.jsx(dG,{className:"w-3.5 h-3.5 text-primary"}),x.jsx("span",{className:"font-bold text-foreground",children:o}),x.jsx("span",{className:"text-xs text-muted-foreground",children:"/hr"})]})]}),x.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[x.jsxs("div",{className:"flex items-start justify-between mb-2",children:[x.jsx("h3",{className:"font-semibold text-foreground text-lg line-clamp-1 group-hover:text-primary transition-colors",children:e}),x.jsxs("div",{className:"flex items-center gap-1 text-sm bg-secondary/50 px-1.5 py-0.5 rounded-md",children:[x.jsx(vh,{className:"w-3.5 h-3.5 text-amber-500 fill-amber-500"}),x.jsx("span",{className:"font-bold text-foreground",children:a}),x.jsxs("span",{className:"text-muted-foreground text-xs",children:["(",l,")"]})]})]}),x.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground mb-4",children:[x.jsx(au,{className:"w-3.5 h-3.5"}),x.jsx("span",{className:"line-clamp-1",children:s}),x.jsxs("span",{className:"text-primary font-medium ml-auto whitespace-nowrap",children:[" ",i]})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 mb-4 mt-auto",children:[x.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border border-transparent ${p[c]}`,children:[x.jsx(sA,{className:"w-3 h-3"}),c," Crowd"]}),x.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-secondary/50 text-secondary-foreground text-xs font-medium border border-border",children:[x.jsx(uG,{className:"w-3 h-3"}),u]}),x.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-primary/5 text-primary text-xs font-medium border border-primary/10",children:[x.jsx(kp,{className:"w-3 h-3"}),A," slots"]})]}),x.jsx(Pt,{className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground shadow-md group-hover:shadow-lg transition-all",onClick:m=>{m.stopPropagation(),h(`/venues/${t}`)},children:"Book Now"})]})]})},c1e=[{id:"1",name:"Elite Cricket Arena",image:"https://images.unsplash.com/photo-1531415074968-036ba1b575da?w=600&h=400&fit=crop",sport:"Cricket",location:"Satellite, Ahmedabad",distance:"2.5 km",price:1200,rating:4.8,reviews:245,crowdLevel:"Low",weather:"32C Sunny",slotsAvailable:5,isVerified:!0},{id:"2",name:"ProKick Football Zone",image:"https://images.unsplash.com/photo-1459865264687-595d652de67e?w=600&h=400&fit=crop",sport:"Football",location:"SG Highway, Ahmedabad",distance:"4.2 km",price:1500,rating:4.6,reviews:189,crowdLevel:"Medium",weather:"31C Clear",slotsAvailable:3,isVerified:!0},{id:"3",name:"Shuttle Masters",image:"https://images.unsplash.com/photo-1626224583764-f87db24ac4ea?w=600&h=400&fit=crop",sport:"Badminton",location:"Prahladnagar, Ahmedabad",distance:"1.8 km",price:400,rating:4.9,reviews:312,crowdLevel:"High",weather:"30C Humid",slotsAvailable:2,isVerified:!1},{id:"4",name:"AcePoint Tennis Club",image:"https://images.unsplash.com/photo-1554068865-24cecd4e34b8?w=600&h=400&fit=crop",sport:"Tennis",location:"Vastrapur, Ahmedabad",distance:"3.1 km",price:800,rating:4.7,reviews:156,crowdLevel:"Low",weather:"29C Breezy",slotsAvailable:4,isVerified:!0}],u1e=()=>{const t=sa();return x.jsx("section",{id:"venues",className:"py-20 bg-secondary/30",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs(Ft.div,{className:"flex flex-col md:flex-row md:items-end justify-between mb-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[x.jsxs("div",{children:[x.jsx("span",{className:"text-primary font-semibold text-sm uppercase tracking-wider",children:"Nearby Venues"}),x.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mt-2",children:"Top Rated Sports Venues"}),x.jsx("p",{className:"text-muted-foreground mt-2 max-w-md",children:"Discover the best turfs and courts near you with real-time availability"})]}),x.jsxs(Pt,{variant:"ghost",className:"mt-4 md:mt-0 text-primary hover:text-primary/90",onClick:()=>t("/venues"),children:["View All Venues",x.jsx(PD,{className:"w-4 h-4 ml-2"})]})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8",children:c1e.map((e,n)=>x.jsx(Ft.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:n*.1,type:"spring",stiffness:50},className:"h-full",children:x.jsx($4,{...e})},e.name))})]})})},A1e=[{icon:lG,title:"AI Chat Agent",description:"Book venues, find players, and get recommendations through natural conversation",color:"bg-primary/10 text-primary"},{icon:au,title:"Smart Discovery",description:"Find nearby venues with real-time slot availability and crowd predictions",color:"bg-sport-cricket/10 text-sport-cricket"},{icon:sA,title:"Find Players",description:"Match with players of similar skill level for casual or competitive games",color:"bg-sport-football/10 text-sport-football"},{icon:pA,title:"Tournaments",description:"Join local tournaments, view brackets, and compete for prizes",color:"bg-sport-badminton/10 text-sport-badminton"},{icon:AG,title:"Rewards System",description:"Earn points on every booking and unlock exclusive discounts",color:"bg-accent/10 text-accent"},{icon:uG,title:"Weather Intelligence",description:"Get weather-based recommendations and indoor alternatives",color:"bg-sport-pickleball/10 text-sport-pickleball"},{icon:Jc,title:"Instant Booking",description:"Book slots in seconds with secure payments and instant confirmation",color:"bg-sport-tennis/10 text-sport-tennis"},{icon:$D,title:"Real-time Updates",description:"Live slot availability, crowd levels, and dynamic pricing",color:"bg-primary/10 text-primary"}],d1e=()=>x.jsx("section",{className:"py-20",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs(Ft.div,{className:"text-center max-w-2xl mx-auto mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[x.jsx("span",{className:"text-primary font-semibold text-sm uppercase tracking-wider",children:"Features"}),x.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mt-2",children:["Everything You Need to"," ",x.jsx("span",{className:"text-gradient",children:"Play Smarter"})]}),x.jsx("p",{className:"text-muted-foreground mt-4",children:"From AI-powered booking to finding the perfect teammates, PlayPal has everything for your sports journey"})]}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:A1e.map((t,e)=>x.jsxs(Ft.div,{className:"group p-6 rounded-2xl bg-card border border-border hover:border-primary/30 transition-all duration-300 hover:shadow-card",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:e*.1},whileHover:{y:-4},children:[x.jsx("div",{className:`w-12 h-12 rounded-xl ${t.color} flex items-center justify-center mb-4 transition-transform group-hover:scale-110`,children:x.jsx(t.icon,{className:"w-6 h-6"})}),x.jsx("h3",{className:"font-semibold text-foreground text-lg mb-2",children:t.title}),x.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]},t.title))})]})}),DQ=[{icon:V0,step:"01",title:"Discover",description:"Search venues by sport, location, or just ask our AI assistant"},{icon:Jc,step:"02",title:"Book",description:"Select your slot, confirm timing, and pay securely online"},{icon:sA,step:"03",title:"Team Up",description:"Find players to complete your team or join existing games"},{icon:pA,step:"04",title:"Play & Win",description:"Show up, play hard, earn points and unlock rewards"}],h1e=()=>{const t=sa();return x.jsxs("section",{className:"py-20 bg-secondary/30",children:[x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs(Ft.div,{className:"text-center max-w-2xl mx-auto mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[x.jsx("span",{className:"text-primary font-semibold text-sm uppercase tracking-wider",children:"How It Works"}),x.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mt-2",children:["Start Playing in"," ",x.jsx("span",{className:"text-gradient",children:"4 Simple Steps"})]})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:DQ.map((e,n)=>x.jsxs(Ft.div,{className:"relative text-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:n*.1},children:[n<DQ.length-1&&x.jsx("div",{className:"hidden md:block absolute top-12 left-1/2 w-full h-0.5 bg-border"}),x.jsxs("div",{className:"relative mx-auto w-24 h-24 rounded-2xl gradient-hero shadow-glow flex items-center justify-center text-primary-foreground mb-6",children:[x.jsx(e.icon,{className:"w-10 h-10"}),x.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 rounded-full bg-card border-2 border-primary text-primary text-sm font-bold flex items-center justify-center",children:e.step})]}),x.jsx("h3",{className:"font-semibold text-xl text-foreground mb-2",children:e.title}),x.jsx("p",{className:"text-sm text-muted-foreground max-w-xs mx-auto",children:e.description})]},e.title))})]}),x.jsx("div",{className:"flex justify-center mt-12",children:x.jsx(Pt,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground px-8",onClick:()=>t("/venues"),children:"Start Booking Now"})})]})},f1e=()=>{const t=sa();return x.jsx("section",{className:"py-20",children:x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs(Ft.div,{className:"relative rounded-3xl gradient-hero p-12 md:p-16 overflow-hidden",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[x.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary-foreground/10 rounded-full blur-3xl"}),x.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-primary-foreground/10 rounded-full blur-3xl"}),x.jsxs("div",{className:"relative z-10 max-w-2xl mx-auto text-center text-primary-foreground",children:[x.jsxs(Ft.div,{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary-foreground/20 text-sm font-medium mb-6",initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.2},children:[x.jsx(r4,{className:"w-4 h-4"}),"Join 10,000+ Players"]}),x.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6",children:"Ready to Play Smarter?"}),x.jsx("p",{className:"text-lg opacity-90 mb-8",children:"Download PlayPal and never struggle to find venues or players again. Your perfect game is just a tap away."}),x.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[x.jsxs(Pt,{size:"lg",className:"bg-primary-foreground text-primary hover:bg-primary-foreground/90 px-8",onClick:()=>t("/login"),children:["Get Started Free",x.jsx(PD,{className:"w-5 h-5 ml-2"})]}),x.jsx(Pt,{size:"lg",variant:"outline",className:"border-primary-foreground/30 text-primary-foreground hover:bg-primary-foreground/10 px-8",onClick:()=>t("/login"),children:"For Turf Owners"})]})]})]})})})},By=()=>{const t={Product:[{name:"Venues",href:"/venues"},{name:"Find Players",href:"/players"},{name:"Tournaments",href:"/tournaments"},{name:"For Turf Owners",href:"/owner-dashboard"}],Sports:[{name:"Cricket",href:"/venues?sport=Cricket"},{name:"Football",href:"/venues?sport=Football"},{name:"Badminton",href:"/venues?sport=Badminton"},{name:"Tennis",href:"/venues?sport=Tennis"},{name:"Pickleball",href:"/venues?sport=Pickleball"}],Cities:[{name:"Ahmedabad",href:"/venues?city=Ahmedabad"},{name:"Surat",href:"/venues?city=Surat"},{name:"Vadodara",href:"/venues?city=Vadodara"},{name:"Rajkot",href:"/venues?city=Rajkot"},{name:"Gandhinagar",href:"/venues?city=Gandhinagar"}],Support:[{name:"Help Center",href:"/help"},{name:"Contact Us",href:"/contact"},{name:"Privacy Policy",href:"/privacy"},{name:"Terms of Service",href:"/terms"}]},e=[{icon:Pue,href:"#"},{icon:Hue,href:"#"},{icon:Fue,href:"#"},{icon:Wue,href:"#"}];return x.jsx("footer",{className:"bg-foreground text-background pt-16 pb-8",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-8 mb-12",children:[x.jsxs("div",{className:"col-span-2",children:[x.jsxs("div",{className:"text-2xl font-bold mb-4 flex items-center",children:[x.jsx("span",{children:"P"}),x.jsx("span",{className:"text-orange-500",children:"l"}),x.jsx("span",{children:"ayPal"})]}),x.jsx("p",{className:"text-background/60 text-sm mb-6 max-w-xs",children:"Your one stop for sports & sport partners. Book venues, find players, and play smarter with AI."}),x.jsxs("div",{className:"space-y-2 text-sm text-background/60",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(au,{className:"w-4 h-4"}),x.jsx("span",{children:"Gujarat, India"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(fG,{className:"w-4 h-4"}),x.jsx("span",{children:"hello@playpal.in"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(OD,{className:"w-4 h-4"}),x.jsx("span",{children:"+91 98765 43210"})]})]})]}),Object.entries(t).map(([n,r])=>x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold mb-4",children:n}),x.jsx("ul",{className:"space-y-2",children:r.map(s=>x.jsx("li",{children:x.jsx(Zg,{to:s.href,className:"text-sm text-background/60 hover:text-background transition-colors",children:s.name})},s.name))})]},n))]}),x.jsxs("div",{className:"pt-8 border-t border-background/10 flex flex-col md:flex-row items-center justify-between gap-4",children:[x.jsxs("div",{className:"flex flex-col md:items-start items-center gap-1",children:[x.jsx("p",{className:"text-sm text-background/60",children:" 2025 PlayPal. All rights reserved."}),x.jsxs("p",{className:"text-sm text-background/60",children:["Developed by ",x.jsx("span",{className:"text-orange-500 font-medium",children:"Yash Bachwani"})," & ",x.jsx("span",{className:"text-orange-500 font-medium",children:"Mustafa Khericha"})]})]}),x.jsx("div",{className:"flex items-center gap-4",children:e.map((n,r)=>x.jsx("a",{href:n.href,className:"w-10 h-10 rounded-full bg-background/10 flex items-center justify-center hover:bg-background/20 transition-colors",children:x.jsx(n.icon,{className:"w-5 h-5"})},r))})]})]})})},p1e=["Book a cricket slot","Find players nearby","Badminton courts available?","Any tournaments this weekend?"],_y=()=>{const[t,e]=O.useState(!1),[n,r]=O.useState([{id:"1",role:"assistant",content:"Hey!  I'm your PlayPal AI assistant. I can help you book venues, find players, or answer any sports-related questions. What would you like to do today?",timestamp:new Date}]),[s,i]=O.useState(""),[o,a]=O.useState(!1),l=O.useRef(null),c=()=>{var h;(h=l.current)==null||h.scrollIntoView({behavior:"smooth"})};O.useEffect(()=>{c()},[n]);const u=h=>{const p=h.toLowerCase();return p.includes("cricket")?" Great choice! I found 5 cricket turfs near you in Ahmedabad. The best option is **Elite Cricket Arena** in Satellite - it has slots available at 6 PM and 8 PM today for 1,200/hour. Would you like me to book one?":p.includes("book")||p.includes("slot")?" I'd love to help you book! Which sport are you interested in? Cricket, Football, Badminton, Tennis, or Pickleball?":p.includes("player")||p.includes("find")?" I found 12 players looking to play near you! 4 are looking for cricket partners, 5 for football, and 3 for badminton. Want me to show you compatible players based on your skill level?":p.includes("badminton")?" There are 3 badminton courts available nearby! **Shuttle Masters** in Prahladnagar has the best rating (4.9) with slots at 400/hour. It's only 1.8 km away. Shall I book it?":p.includes("tournament")?` Exciting! There are 2 tournaments this weekend:

1. **Cricket Premier League** - Saturday, 500 entry, 10,000 prize pool
2. **Badminton Open** - Sunday, Free entry, Trophy + 5,000

Want me to register you for any?`:p.includes("weather")?" Today in Ahmedabad: 32C, Sunny with clear skies. Perfect for outdoor sports! However, I'd recommend evening slots (after 5 PM) to avoid the heat.":"I understand! Let me help you with that. Could you tell me which sport you're interested in and your preferred time? I'll find the best options for you."},A=()=>{if(!s.trim())return;const h={id:Date.now().toString(),role:"user",content:s,timestamp:new Date};r(p=>[...p,h]),i(""),a(!0),setTimeout(()=>{const p={id:(Date.now()+1).toString(),role:"assistant",content:u(s),timestamp:new Date};r(m=>[...m,p]),a(!1)},1e3+Math.random()*1e3)},d=h=>{i(h)};return x.jsxs(x.Fragment,{children:[x.jsxs(Ft.button,{className:"fixed bottom-6 right-6 z-50 w-14 h-14 rounded-full gradient-hero shadow-glow flex items-center justify-center text-primary-foreground",onClick:()=>e(!0),whileHover:{scale:1.05},whileTap:{scale:.95},initial:{scale:0},animate:{scale:t?0:1},transition:{type:"spring",stiffness:300,damping:20},children:[x.jsx(Uue,{className:"w-6 h-6"}),x.jsx(Ft.div,{className:"absolute -top-1 -right-1 w-4 h-4 rounded-full bg-accent",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}})]}),x.jsx(JB,{children:t&&x.jsxs(Ft.div,{className:"fixed bottom-6 right-6 z-50 w-[380px] max-w-[calc(100vw-3rem)] h-[600px] max-h-[calc(100vh-6rem)] rounded-2xl bg-card border border-border shadow-card overflow-hidden flex flex-col",initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},transition:{type:"spring",stiffness:300,damping:25},children:[x.jsxs("div",{className:"p-4 gradient-hero text-primary-foreground flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-foreground/20 flex items-center justify-center",children:x.jsx(lG,{className:"w-5 h-5"})}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold",children:"PlayPal AI"}),x.jsx("p",{className:"text-xs opacity-80",children:"Always here to help"})]})]}),x.jsx("button",{onClick:()=>e(!1),className:"p-2 rounded-full hover:bg-primary-foreground/20 transition-colors",children:x.jsx(Qx,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.map(h=>x.jsxs(Ft.div,{className:`flex gap-3 ${h.role==="user"?"flex-row-reverse":""}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[x.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${h.role==="user"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"}`,children:h.role==="user"?x.jsx(cv,{className:"w-4 h-4"}):x.jsx(r4,{className:"w-4 h-4"})}),x.jsx("div",{className:`max-w-[75%] p-3 rounded-2xl ${h.role==="user"?"bg-primary text-primary-foreground rounded-tr-none":"bg-secondary text-secondary-foreground rounded-tl-none"}`,children:x.jsx("p",{className:"text-sm whitespace-pre-wrap",children:h.content})})]},h.id)),o&&x.jsxs(Ft.div,{className:"flex gap-3",initial:{opacity:0},animate:{opacity:1},children:[x.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary flex items-center justify-center",children:x.jsx(r4,{className:"w-4 h-4 text-secondary-foreground"})}),x.jsx("div",{className:"px-4 py-3 rounded-2xl rounded-tl-none bg-secondary",children:x.jsx("div",{className:"flex gap-1",children:[0,1,2].map(h=>x.jsx(Ft.div,{className:"w-2 h-2 rounded-full bg-muted-foreground",animate:{y:[0,-5,0]},transition:{duration:.6,repeat:1/0,delay:h*.2}},h))})})]}),x.jsx("div",{ref:l})]}),x.jsx("div",{className:"px-4 pb-2 flex gap-2 overflow-x-auto",children:p1e.map(h=>x.jsx("button",{onClick:()=>d(h),className:"px-3 py-1.5 rounded-full bg-secondary text-secondary-foreground text-xs font-medium whitespace-nowrap hover:bg-secondary/80 transition-colors",children:h},h))}),x.jsx("div",{className:"p-4 border-t border-border",children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",value:s,onChange:h=>i(h.target.value),onKeyDown:h=>h.key==="Enter"&&A(),placeholder:"Ask me anything...",className:"flex-1 px-4 py-2.5 rounded-xl bg-secondary text-foreground placeholder:text-muted-foreground outline-none focus:ring-2 focus:ring-primary/30"}),x.jsx(Pt,{onClick:A,size:"icon",className:"bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl",disabled:!s.trim(),children:x.jsx(Mue,{className:"w-4 h-4"})})]})})]})})]})},m1e=()=>{const[t,e]=O.useState(()=>!sessionStorage.getItem("hasSeenPreloader")),n=()=>{sessionStorage.setItem("hasSeenPreloader","true"),e(!1)};return x.jsxs(x.Fragment,{children:[x.jsx(JB,{mode:"wait",children:t&&x.jsx(o1e,{onComplete:n})}),x.jsx(JB,{children:!t&&x.jsxs(Ft.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[x.jsx(Om,{}),x.jsxs("main",{children:[x.jsx(l1e,{}),x.jsx(u1e,{}),x.jsx(d1e,{}),x.jsx(h1e,{}),x.jsx(f1e,{})]}),x.jsx(By,{}),x.jsx(_y,{})]})})]})},jo=O.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:Yn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));jo.displayName="Input";const g1e=()=>{const t=sa(),{login:e}=If(),[n,r]=O.useState(!0),[s,i]=O.useState("user"),[o,a]=O.useState(!1),[l,c]=O.useState(!1),{cities:u}=Vx(),[A,d]=O.useState({name:"",email:"",phone:"",password:"",city:"Ahmedabad"}),h=async p=>{if(p.preventDefault(),c(!0),n)await e(A.email,A.password,s)?(Ln.success("Welcome back!"),t(s==="turf_owner"?"/owner-dashboard":"/dashboard")):Ln.error("Invalid credentials. Please try again.");else{const m=JSON.parse(localStorage.getItem("playpal_registered_users")||"[]");m.some(y=>y.email===A.email)?Ln.error("Email already registered"):(m.push({...A,role:"user",id:`user_${Date.now()}`,points:100,createdAt:new Date().toISOString()}),localStorage.setItem("playpal_registered_users",JSON.stringify(m)),await e(A.email,A.password,"user")&&(Ln.success("Account created! Welcome to PlayPal!"),t("/dashboard")))}c(!1)};return x.jsxs("div",{className:"min-h-screen flex",children:[x.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:x.jsxs(Ft.div,{className:"w-full max-w-md",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[x.jsx(Zg,{to:"/",className:"inline-block mb-8",children:x.jsxs("span",{className:"text-3xl font-bold",children:[x.jsx("span",{className:"text-foreground",children:"P"}),x.jsx("span",{className:"text-primary",children:"l"}),x.jsx("span",{className:"text-foreground",children:"ayPal"})]})}),x.jsx("h1",{className:"text-3xl font-bold mb-2",children:n?"Welcome back!":"Create account"}),x.jsx("p",{className:"text-muted-foreground mb-8",children:n?"Sign in to continue your sports journey":"Start your sports journey today"}),x.jsxs("div",{className:"flex gap-2 mb-6 p-1 bg-secondary rounded-lg",children:[x.jsx("button",{className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all ${s==="user"?"bg-primary text-primary-foreground":"text-muted-foreground"}`,onClick:()=>i("user"),children:"Player"}),x.jsx("button",{className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all ${s==="turf_owner"?"bg-primary text-primary-foreground":"text-muted-foreground"}`,onClick:()=>i("turf_owner"),children:"Turf Owner"})]}),x.jsxs("form",{onSubmit:h,className:"space-y-4",children:[!n&&s==="user"&&x.jsxs("div",{className:"relative",children:[x.jsx(cv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),x.jsx(jo,{placeholder:"Full Name",className:"pl-10",value:A.name,onChange:p=>d({...A,name:p.target.value}),required:!0})]}),x.jsxs("div",{className:"relative",children:[x.jsx(fG,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),x.jsx(jo,{type:"email",placeholder:"Email address",className:"pl-10",value:A.email,onChange:p=>d({...A,email:p.target.value}),required:!0})]}),!n&&s==="user"&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"relative",children:[x.jsx(OD,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),x.jsx(jo,{placeholder:"Phone Number",className:"pl-10",value:A.phone,onChange:p=>d({...A,phone:p.target.value}),required:!0})]}),x.jsxs("div",{className:"relative",children:[x.jsx(au,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),x.jsx("select",{className:"w-full h-10 pl-10 pr-4 rounded-md border border-input bg-background text-foreground",value:A.city,onChange:p=>d({...A,city:p.target.value}),children:u.map(p=>x.jsx("option",{value:p.name,children:p.name},p.name))})]})]}),x.jsxs("div",{className:"relative",children:[x.jsx(Rue,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),x.jsx(jo,{type:o?"text":"password",placeholder:"Password",className:"pl-10 pr-10",value:A.password,onChange:p=>d({...A,password:p.target.value}),required:!0}),x.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>a(!o),children:o?x.jsx(kue,{className:"w-5 h-5 text-muted-foreground"}):x.jsx(Tue,{className:"w-5 h-5 text-muted-foreground"})})]}),x.jsxs(Pt,{type:"submit",className:"w-full",disabled:l,children:[l?"Please wait...":n?"Sign In":"Create Account",x.jsx(PD,{className:"w-4 h-4 ml-2"})]})]}),x.jsxs("p",{className:"mt-6 text-center text-muted-foreground",children:[n?"Don't have an account?":"Already have an account?"," ",x.jsx("button",{className:"text-primary font-medium hover:underline",onClick:()=>r(!n),children:n?"Sign up":"Sign in"})]}),s==="turf_owner"&&n&&x.jsx("div",{className:"mt-6 p-4 bg-secondary rounded-lg",children:x.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.jsx("strong",{children:"Demo Credentials:"}),x.jsx("br",{}),"Email: elite@playpal.com",x.jsx("br",{}),"Password: elite123"]})})]})}),x.jsx("div",{className:"hidden lg:flex flex-1 gradient-hero items-center justify-center p-12",children:x.jsxs(Ft.div,{className:"text-center text-primary-foreground",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},children:[x.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Your one stop for sports & sport partners"}),x.jsx("p",{className:"text-xl opacity-90",children:"Book venues, find players, join tournaments - all in one place!"})]})})]})},y1e=()=>{const t=sa(),{user:e,logout:n}=If(),{getBookingsByUser:r}=TN(),[s,i]=O.useState("upcoming");if(!e)return t("/login"),null;const o=r(e.id),a=o.filter(u=>u.status==="Confirmed"),l=o.filter(u=>u.status==="Completed"||u.status==="Cancelled"),c=[{points:500,reward:"10% Discount",status:e.points>=500?"unlocked":"locked"},{points:1e3,reward:"1 Hour Free",status:e.points>=1e3?"unlocked":"locked"},{points:2e3,reward:"Free Tournament Entry",status:e.points>=2e3?"unlocked":"locked"},{points:5e3,reward:"Premium Membership",status:e.points>=5e3?"unlocked":"locked"}];return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx(Om,{}),x.jsx("main",{className:"pt-20 pb-12",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[x.jsxs("div",{children:[x.jsxs("h1",{className:"text-3xl font-bold",children:["Welcome, ",e.name,"! "]}),x.jsxs("p",{className:"text-muted-foreground",children:[e.city,", Gujarat"]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("div",{className:"px-4 py-2 rounded-xl bg-primary/10",children:[x.jsx("span",{className:"text-primary font-bold text-xl",children:e.points}),x.jsx("span",{className:"text-muted-foreground ml-1",children:"points"})]}),x.jsxs(Pt,{variant:"outline",onClick:()=>{n(),t("/")},children:[x.jsx(hG,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}),x.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[x.jsxs("div",{className:"lg:col-span-2",children:[x.jsxs("div",{className:"flex gap-4 mb-6",children:[x.jsxs("button",{className:`px-4 py-2 rounded-lg font-medium ${s==="upcoming"?"bg-primary text-primary-foreground":"bg-secondary"}`,onClick:()=>i("upcoming"),children:["Upcoming (",a.length,")"]}),x.jsxs("button",{className:`px-4 py-2 rounded-lg font-medium ${s==="past"?"bg-primary text-primary-foreground":"bg-secondary"}`,onClick:()=>i("past"),children:["Past Bookings (",l.length,")"]})]}),x.jsxs("div",{className:"space-y-4",children:[(s==="upcoming"?a:l).map(u=>x.jsxs(Ft.div,{className:"p-4 bg-card border rounded-xl",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold text-lg",children:u.venueName}),x.jsx("p",{className:"text-muted-foreground",children:u.sport})]}),x.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${u.status==="Confirmed"?"bg-primary/10 text-primary":u.status==="Completed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:u.status})]}),x.jsxs("div",{className:"mt-3 flex flex-wrap gap-4 text-sm text-muted-foreground",children:[x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(Jc,{className:"w-4 h-4"}),new Date(u.date).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short"})]}),x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(kp,{className:"w-4 h-4"}),u.timeSlot]}),x.jsxs("span",{className:"font-medium text-foreground",children:["",u.totalAmount]})]}),s==="upcoming"&&x.jsxs("div",{className:"flex gap-2 w-full mt-4",children:[x.jsx(Pt,{className:"flex-1",variant:"outline",onClick:()=>t(`/booking/${u.id}/invoice`),children:"View Invoice"}),x.jsxs(Pt,{className:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 border-0 text-white shadow-lg shadow-orange-500/20",onClick:()=>t(`/match/${u.id}`),children:[x.jsx(lv,{className:"w-4 h-4 mr-2 fill-white"})," Start Match"]})]}),s!=="upcoming"&&x.jsx(Pt,{className:"w-full mt-4",variant:"outline",onClick:()=>t(`/booking/${u.id}/invoice`),children:"View Invoice"})]},u.id)),(s==="upcoming"?a:l).length===0&&x.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[x.jsx(Jc,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),x.jsxs("p",{children:["No ",s," bookings"]}),x.jsx(Pt,{className:"mt-4",onClick:()=>t("/venues"),children:"Book Now"})]})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"bg-card border rounded-xl p-6",children:[x.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[x.jsx(AG,{className:"w-5 h-5 text-primary"}),"Rewards Progress"]}),x.jsx("div",{className:"space-y-3",children:c.map((u,A)=>x.jsx("div",{className:`p-3 rounded-lg ${u.status==="unlocked"?"bg-primary/10":"bg-secondary"}`,children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:u.status==="unlocked"?"text-primary font-medium":"text-muted-foreground",children:u.reward}),x.jsxs("span",{className:"text-sm",children:[u.points," pts"]})]})},A))})]}),x.jsxs("div",{className:"bg-card border rounded-xl p-6",children:[x.jsx("h3",{className:"font-semibold mb-4",children:"Quick Actions"}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs(Pt,{className:"w-full justify-between bg-primary text-primary-foreground hover:bg-primary/90 shadow-md",onClick:()=>t("/venues"),children:["Book New Slot ",x.jsx(Fw,{className:"w-4 h-4"})]}),x.jsxs(Pt,{variant:"outline",className:"w-full justify-between",onClick:()=>t("/venues"),children:["Find Venues ",x.jsx(Fw,{className:"w-4 h-4"})]}),x.jsxs(Pt,{variant:"outline",className:"w-full justify-between",onClick:()=>t("/players"),children:["Find Players ",x.jsx(Fw,{className:"w-4 h-4"})]}),x.jsxs(Pt,{variant:"outline",className:"w-full justify-between",onClick:()=>t("/tournaments"),children:["Tournaments ",x.jsx(Fw,{className:"w-4 h-4"})]})]})]})]})]})]})}),x.jsx(By,{}),x.jsx(_y,{})]})},w1e=()=>{sa();const{selectedCity:t,cities:e,setSelectedCity:n}=Vx(),[r,s]=O.useState(""),[i,o]=O.useState(null),a=["Cricket","Football","Badminton","Tennis","Pickleball"],l=p4.filter(u=>{const A=u.city.toLowerCase()===t.name.toLowerCase(),d=!r||u.name.toLowerCase().includes(r.toLowerCase())||u.location.toLowerCase().includes(r.toLowerCase()),h=!i||u.sports.includes(i);return A&&d&&h}),c=r?p4.filter(u=>{const A=u.name.toLowerCase().includes(r.toLowerCase())||u.location.toLowerCase().includes(r.toLowerCase())||u.city.toLowerCase().includes(r.toLowerCase()),d=u.city.toLowerCase()!==t.name.toLowerCase(),h=!i||u.sports.includes(i);return d&&A&&h}):[];return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx(Om,{}),x.jsx("main",{className:"pt-20 pb-12",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs("div",{className:"mb-8",children:[x.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Sports Venues"}),x.jsx("p",{className:"text-muted-foreground",children:"Find and book the best sports facilities near you"})]}),x.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[x.jsxs("div",{className:"relative flex-1",children:[x.jsx(V0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),x.jsx(jo,{placeholder:"Search venues, sports, or cities...",className:"pl-10",value:r,onChange:u=>s(u.target.value)})]}),x.jsx("select",{className:"h-10 px-4 rounded-md border bg-background",value:t.name,onChange:u=>{const A=e.find(d=>d.name===u.target.value);A&&n(A)},children:e.map(u=>x.jsx("option",{value:u.name,children:u.name},u.name))})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[x.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${i?"bg-secondary hover:bg-secondary/80":"bg-primary text-primary-foreground"}`,onClick:()=>o(null),children:"All Sports"}),a.map(u=>x.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${i===u?"bg-primary text-primary-foreground":"bg-secondary hover:bg-secondary/80"}`,onClick:()=>o(u),children:u},u))]}),x.jsxs("div",{className:"mb-8",children:[x.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Venues in ",t.name]}),l.length>0?x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((u,A)=>x.jsx(Ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.05},className:"h-full",children:x.jsx($4,{...u,sport:u.sports[0],price:u.pricePerHour})},u.id))}):x.jsx("div",{className:"text-center py-12 text-muted-foreground",children:x.jsxs("p",{children:["No venues found in ",t.name]})})]}),c.length>0&&x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Venues in Other Cities"}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((u,A)=>x.jsx(Ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.05},className:"h-full",children:x.jsx($4,{...u,sport:u.sports[0],price:u.pricePerHour})},u.id))})]})]})}),x.jsx(By,{}),x.jsx(_y,{})]})},v1e=()=>{const{id:t}=eP(),e=sa(),n=SK(t||""),{user:r,isAuthenticated:s,addPoints:i}=If(),{getAvailableSlots:o,addBooking:a}=TN(),[l,c]=O.useState(0),[u,A]=O.useState(new Date().toISOString().split("T")[0]),[d,h]=O.useState(null);if(!n)return x.jsx("div",{className:"min-h-screen flex items-center justify-center",children:x.jsx("p",{children:"Venue not found"})});const p=o(n.id,u),m=()=>{if(!s){Ln.error("Please login to book"),e("/login");return}if(!d){Ln.error("Please select a time slot");return}const g=parseInt(d.split(":")[0]),v=g>=20||g<4,_=n.pricePerHour+(v?200:0),I=a({venueId:n.id,venueName:n.name,sport:n.sports[0],date:u,timeSlot:d,duration:1,totalAmount:_,paidAmount:Math.round(_*.85),remainingAmount:_-Math.round(_*.85),status:"Confirmed",userId:r.id,userName:r.name,userPhone:r.phone});i(10),Ln.success("Booking confirmed! +10 Points earned "),e(`/invoice/${I.id}`)},y=Array.from({length:7},(g,v)=>{const b=new Date;return b.setDate(b.getDate()+v),b.toISOString().split("T")[0]});return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx(Om,{}),x.jsx("main",{className:"pt-20 pb-12",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs("div",{className:"relative h-[250px] md:h-[400px] rounded-2xl overflow-hidden mb-6 md:mb-8",children:[x.jsx("img",{src:n.images[l],alt:n.name,className:"w-full h-full object-cover"}),n.images.length>1&&x.jsxs(x.Fragment,{children:[x.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-background/80 hover:bg-background",onClick:()=>c(g=>g===0?n.images.length-1:g-1),children:x.jsx(_ue,{className:"w-6 h-6"})}),x.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-background/80 hover:bg-background",onClick:()=>c(g=>g===n.images.length-1?0:g+1),children:x.jsx(Fw,{className:"w-6 h-6"})})]}),n.isVerified&&x.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2 px-3 py-1.5 rounded-full bg-primary text-primary-foreground",children:[x.jsx(n4,{className:"w-4 h-4"}),"Verified Venue"]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8",children:[x.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[x.jsxs("div",{children:[x.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:n.sports.map(g=>x.jsx("span",{className:"px-3 py-1 rounded-full bg-primary/10 text-primary text-sm font-medium",children:g},g))}),x.jsx("h1",{className:"text-3xl font-bold mb-2",children:n.name}),x.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx(au,{className:"w-4 h-4"}),n.address]}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx(vh,{className:"w-4 h-4 text-sport-cricket fill-sport-cricket"}),n.rating," (",n.reviews," reviews)"]})]})]}),x.jsx("p",{className:"text-muted-foreground",children:n.description}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold mb-3",children:"Facilities"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:n.facilities.map(g=>x.jsx("span",{className:"px-3 py-1.5 rounded-lg bg-secondary text-sm",children:g},g))})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold mb-3",children:"Rules"}),x.jsx("ul",{className:"space-y-2",children:n.rules.map((g,v)=>x.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground",children:[x.jsx(n4,{className:"w-4 h-4 text-primary mt-0.5"}),g]},v))})]})]}),x.jsxs(Ft.div,{className:"bg-card border rounded-2xl p-4 md:p-6 h-fit lg:sticky lg:top-24",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsxs("div",{children:[x.jsxs("span",{className:"text-3xl font-bold text-primary",children:["",n.pricePerHour]}),x.jsx("span",{className:"text-muted-foreground",children:"/hour"})]}),x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx(sA,{className:"w-4 h-4"}),n.crowdLevel," Crowd"]})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Date"}),x.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:y.map(g=>{const v=new Date(g);return x.jsxs("button",{className:`flex-shrink-0 px-3 py-2 rounded-lg text-center ${u===g?"bg-primary text-primary-foreground":"bg-secondary"}`,onClick:()=>{A(g),h(null)},children:[x.jsx("div",{className:"text-xs",children:v.toLocaleDateString("en",{weekday:"short"})}),x.jsx("div",{className:"font-semibold",children:v.getDate()})]},g)})})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Time"}),x.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-2 max-h-48 overflow-y-auto",children:p.map(g=>x.jsx("button",{disabled:!g.isAvailable,className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${g.isAvailable?d===g.time?"bg-primary text-primary-foreground":"bg-secondary hover:bg-secondary/80":"bg-muted text-muted-foreground cursor-not-allowed line-through"}`,onClick:()=>h(g.time),children:g.time},g.time))})]}),d&&x.jsxs("div",{className:"mb-6 p-4 bg-secondary rounded-lg border border-border",children:[x.jsxs("div",{className:"flex justify-between mb-2",children:[x.jsx("span",{className:"text-muted-foreground",children:"Rate per hour"}),x.jsxs("span",{className:"font-semibold",children:["",n.pricePerHour]})]}),(parseInt(d.split(":")[0])>=20||parseInt(d.split(":")[0])<4)&&x.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2 text-amber-600",children:[x.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium",children:[x.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse"}),"Peak Hour Charge"]}),x.jsx("span",{className:"font-semibold",children:"+200"})]}),x.jsx("div",{className:"h-px bg-border/50 my-2"}),x.jsxs("div",{className:"flex justify-between mb-2 text-lg font-bold text-foreground",children:[x.jsx("span",{children:"Total Amount"}),x.jsxs("span",{children:["",n.pricePerHour+(parseInt(d.split(":")[0])>=20||parseInt(d.split(":")[0])<4?200:0)]})]}),x.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground bg-background/50 p-2 rounded",children:[x.jsx("span",{children:"Pay Now (85%)"}),x.jsxs("span",{className:"text-primary font-bold",children:["",Math.round((n.pricePerHour+(parseInt(d.split(":")[0])>=20||parseInt(d.split(":")[0])<4?200:0))*.85)]})]})]}),x.jsx(Pt,{className:"w-full",size:"lg",onClick:m,children:"Book Now"}),x.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[x.jsx(OD,{className:"w-4 h-4"}),n.contactPhone]})]})]})]})}),x.jsx(By,{}),x.jsx(_y,{})]})};var PT="focusScope.autoFocusOnMount",RT="focusScope.autoFocusOnUnmount",PQ={bubbles:!1,cancelable:!0},x1e="FocusScope",TP=O.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=O.useState(null),c=oc(s),u=oc(i),A=O.useRef(null),d=$r(e,m=>l(m)),h=O.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;O.useEffect(()=>{if(r){let m=function(b){if(h.paused||!a)return;const C=b.target;a.contains(C)?A.current=C:Ah(A.current,{select:!0})},y=function(b){if(h.paused||!a)return;const C=b.relatedTarget;C!==null&&(a.contains(C)||Ah(A.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&Ah(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const v=new MutationObserver(g);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),v.disconnect()}}},[r,a,h.paused]),O.useEffect(()=>{if(a){OQ.add(h);const m=document.activeElement;if(!a.contains(m)){const g=new CustomEvent(PT,PQ);a.addEventListener(PT,c),a.dispatchEvent(g),g.defaultPrevented||(b1e(N1e(lq(a)),{select:!0}),document.activeElement===m&&Ah(a))}return()=>{a.removeEventListener(PT,c),setTimeout(()=>{const g=new CustomEvent(RT,PQ);a.addEventListener(RT,u),a.dispatchEvent(g),g.defaultPrevented||Ah(m??document.body,{select:!0}),a.removeEventListener(RT,u),OQ.remove(h)},0)}}},[a,c,u,h]);const p=O.useCallback(m=>{if(!n&&!r||h.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(y&&g){const v=m.currentTarget,[b,C]=C1e(v);b&&C?!m.shiftKey&&g===C?(m.preventDefault(),n&&Ah(b,{select:!0})):m.shiftKey&&g===b&&(m.preventDefault(),n&&Ah(C,{select:!0})):g===v&&m.preventDefault()}},[n,r,h.paused]);return x.jsx(_n.div,{tabIndex:-1,...o,ref:d,onKeyDown:p})});TP.displayName=x1e;function b1e(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ah(r,{select:e}),document.activeElement!==n)return}function C1e(t){const e=lq(t),n=RQ(e,t),r=RQ(e.reverse(),t);return[n,r]}function lq(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function RQ(t,e){for(const n of t)if(!S1e(n,{upTo:e}))return n}function S1e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function B1e(t){return t instanceof HTMLInputElement&&"select"in t}function Ah(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&B1e(t)&&e&&t.select()}}var OQ=_1e();function _1e(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=$Q(t,e),t.unshift(e)},remove(e){var n;t=$Q(t,e),(n=t[0])==null||n.resume()}}}function $Q(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function N1e(t){return t.filter(e=>e.tagName!=="A")}var OT=0;function cq(){O.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??UQ()),document.body.insertAdjacentElement("beforeend",t[1]??UQ()),OT++,()=>{OT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),OT--}},[])}function UQ(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xu=function(){return Xu=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Xu.apply(this,arguments)};function uq(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function I1e(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var JS="right-scroll-bar-position",eB="width-before-scroll-bar",E1e="with-scroll-bars-hidden",k1e="--removed-body-scroll-bar-size";function $T(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function T1e(t,e){var n=O.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var F1e=typeof window<"u"?O.useLayoutEffect:O.useEffect,MQ=new WeakMap;function L1e(t,e){var n=T1e(null,function(r){return t.forEach(function(s){return $T(s,r)})});return F1e(function(){var r=MQ.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||$T(a,null)}),i.forEach(function(a){s.has(a)||$T(a,o)})}MQ.set(n,t)},[t]),n}function D1e(t){return t}function P1e(t,e){e===void 0&&(e=D1e);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function R1e(t){t===void 0&&(t={});var e=P1e(null);return e.options=Xu({async:!0,ssr:!1},t),e}var Aq=function(t){var e=t.sideCar,n=uq(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return O.createElement(r,Xu({},n))};Aq.isSideCarExport=!0;function O1e(t,e){return t.useMedium(e),Aq}var dq=R1e(),UT=function(){},$N=O.forwardRef(function(t,e){var n=O.useRef(null),r=O.useState({onScrollCapture:UT,onWheelCapture:UT,onTouchMoveCapture:UT}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,A=t.shards,d=t.sideCar,h=t.noRelative,p=t.noIsolation,m=t.inert,y=t.allowPinchZoom,g=t.as,v=g===void 0?"div":g,b=t.gapMode,C=uq(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=d,I=L1e([n,e]),F=Xu(Xu({},C),s);return O.createElement(O.Fragment,null,u&&O.createElement(_,{sideCar:dq,removeScrollBar:c,shards:A,noRelative:h,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:b}),o?O.cloneElement(O.Children.only(a),Xu(Xu({},F),{ref:I})):O.createElement(v,Xu({},F,{className:l,ref:I}),a))});$N.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$N.classNames={fullWidth:eB,zeroRight:JS};var $1e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function U1e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=$1e();return e&&t.setAttribute("nonce",e),t}function M1e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Q1e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var j1e=function(){var t=0,e=null;return{add:function(n){t==0&&(e=U1e())&&(M1e(e,n),Q1e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},H1e=function(){var t=j1e();return function(e,n){O.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},hq=function(){var t=H1e(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},z1e={left:0,top:0,right:0,gap:0},MT=function(t){return parseInt(t||"",10)||0},V1e=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[MT(n),MT(r),MT(s)]},W1e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return z1e;var e=V1e(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},G1e=hq(),m0="data-scroll-locked",K1e=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(E1e,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(m0,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(JS,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(eB,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(JS," .").concat(JS,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(eB," .").concat(eB,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(m0,`] {
    `).concat(k1e,": ").concat(a,`px;
  }
`)},QQ=function(){var t=parseInt(document.body.getAttribute(m0)||"0",10);return isFinite(t)?t:0},q1e=function(){O.useEffect(function(){return document.body.setAttribute(m0,(QQ()+1).toString()),function(){var t=QQ()-1;t<=0?document.body.removeAttribute(m0):document.body.setAttribute(m0,t.toString())}},[])},X1e=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;q1e();var i=O.useMemo(function(){return W1e(s)},[s]);return O.createElement(G1e,{styles:K1e(i,!e,s,n?"":"!important")})},U4=!1;if(typeof window<"u")try{var RC=Object.defineProperty({},"passive",{get:function(){return U4=!0,!0}});window.addEventListener("test",RC,RC),window.removeEventListener("test",RC,RC)}catch{U4=!1}var yg=U4?{passive:!1}:!1,Y1e=function(t){return t.tagName==="TEXTAREA"},fq=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Y1e(t)&&n[e]==="visible")},Z1e=function(t){return fq(t,"overflowY")},J1e=function(t){return fq(t,"overflowX")},jQ=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=pq(t,r);if(s){var i=mq(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ewe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},twe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},pq=function(t,e){return t==="v"?Z1e(e):J1e(e)},mq=function(t,e){return t==="v"?ewe(e):twe(e)},nwe=function(t,e){return t==="h"&&e==="rtl"?-1:1},rwe=function(t,e,n,r,s){var i=nwe(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,A=0,d=0;do{if(!a)break;var h=mq(t,a),p=h[0],m=h[1],y=h[2],g=m-y-i*p;(p||g)&&pq(t,a)&&(A+=g,d+=p);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(A)<1||!s)||!u&&(Math.abs(d)<1||!s))&&(c=!0),c},OC=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},HQ=function(t){return[t.deltaX,t.deltaY]},zQ=function(t){return t&&"current"in t?t.current:t},swe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},iwe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},owe=0,wg=[];function awe(t){var e=O.useRef([]),n=O.useRef([0,0]),r=O.useRef(),s=O.useState(owe++)[0],i=O.useState(hq)[0],o=O.useRef(t);O.useEffect(function(){o.current=t},[t]),O.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=I1e([t.lockRef.current],(t.shards||[]).map(zQ),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=O.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var g=OC(m),v=n.current,b="deltaX"in m?m.deltaX:v[0]-g[0],C="deltaY"in m?m.deltaY:v[1]-g[1],_,I=m.target,F=Math.abs(b)>Math.abs(C)?"h":"v";if("touches"in m&&F==="h"&&I.type==="range")return!1;var T=jQ(F,I);if(!T)return!0;if(T?_=F:(_=F==="v"?"h":"v",T=jQ(F,I)),!T)return!1;if(!r.current&&"changedTouches"in m&&(b||C)&&(r.current=_),!_)return!0;var D=r.current||_;return rwe(D,y,m,D==="h"?b:C,!0)},[]),l=O.useCallback(function(m){var y=m;if(!(!wg.length||wg[wg.length-1]!==i)){var g="deltaY"in y?HQ(y):OC(y),v=e.current.filter(function(_){return _.name===y.type&&(_.target===y.target||y.target===_.shadowParent)&&swe(_.delta,g)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(zQ).filter(Boolean).filter(function(_){return _.contains(y.target)}),C=b.length>0?a(y,b[0]):!o.current.noIsolation;C&&y.cancelable&&y.preventDefault()}}},[]),c=O.useCallback(function(m,y,g,v){var b={name:m,delta:y,target:g,should:v,shadowParent:lwe(g)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(C){return C!==b})},1)},[]),u=O.useCallback(function(m){n.current=OC(m),r.current=void 0},[]),A=O.useCallback(function(m){c(m.type,HQ(m),m.target,a(m,t.lockRef.current))},[]),d=O.useCallback(function(m){c(m.type,OC(m),m.target,a(m,t.lockRef.current))},[]);O.useEffect(function(){return wg.push(i),t.setCallbacks({onScrollCapture:A,onWheelCapture:A,onTouchMoveCapture:d}),document.addEventListener("wheel",l,yg),document.addEventListener("touchmove",l,yg),document.addEventListener("touchstart",u,yg),function(){wg=wg.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,yg),document.removeEventListener("touchmove",l,yg),document.removeEventListener("touchstart",u,yg)}},[]);var h=t.removeScrollBar,p=t.inert;return O.createElement(O.Fragment,null,p?O.createElement(i,{styles:iwe(s)}):null,h?O.createElement(X1e,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function lwe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const cwe=O1e(dq,awe);var FP=O.forwardRef(function(t,e){return O.createElement($N,Xu({},t,{ref:e,sideCar:cwe}))});FP.classNames=$N.classNames;var uwe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},vg=new WeakMap,$C=new WeakMap,UC={},QT=0,gq=function(t){return t&&(t.host||gq(t.parentNode))},Awe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=gq(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},dwe=function(t,e,n,r){var s=Awe(e,Array.isArray(t)?t:[t]);UC[n]||(UC[n]=new WeakMap);var i=UC[n],o=[],a=new Set,l=new Set(s),c=function(A){!A||a.has(A)||(a.add(A),c(A.parentNode))};s.forEach(c);var u=function(A){!A||l.has(A)||Array.prototype.forEach.call(A.children,function(d){if(a.has(d))u(d);else try{var h=d.getAttribute(r),p=h!==null&&h!=="false",m=(vg.get(d)||0)+1,y=(i.get(d)||0)+1;vg.set(d,m),i.set(d,y),o.push(d),m===1&&p&&$C.set(d,!0),y===1&&d.setAttribute(n,"true"),p||d.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",d,g)}})};return u(e),a.clear(),QT++,function(){o.forEach(function(A){var d=vg.get(A)-1,h=i.get(A)-1;vg.set(A,d),i.set(A,h),d||($C.has(A)||A.removeAttribute(r),$C.delete(A)),h||A.removeAttribute(n)}),QT--,QT||(vg=new WeakMap,vg=new WeakMap,$C=new WeakMap,UC={})}},yq=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=uwe(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),dwe(r,s,n,"aria-hidden")):function(){return null}},UN="Dialog",[wq,$nt]=_f(UN),[hwe,pu]=wq(UN),vq=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=O.useRef(null),l=O.useRef(null),[c,u]=z0({prop:r,defaultProp:s??!1,onChange:i,caller:UN});return x.jsx(hwe,{scope:e,triggerRef:a,contentRef:l,contentId:Gh(),titleId:Gh(),descriptionId:Gh(),open:c,onOpenChange:u,onOpenToggle:O.useCallback(()=>u(A=>!A),[u]),modal:o,children:n})};vq.displayName=UN;var xq="DialogTrigger",bq=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=pu(xq,n),i=$r(e,s.triggerRef);return x.jsx(_n.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":PP(s.open),...r,ref:i,onClick:en(t.onClick,s.onOpenToggle)})});bq.displayName=xq;var LP="DialogPortal",[fwe,Cq]=wq(LP,{forceMount:void 0}),Sq=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=pu(LP,e);return x.jsx(fwe,{scope:e,forceMount:n,children:O.Children.map(r,o=>x.jsx(Pm,{present:n||i.open,children:x.jsx(wN,{asChild:!0,container:s,children:o})}))})};Sq.displayName=LP;var s_="DialogOverlay",Bq=O.forwardRef((t,e)=>{const n=Cq(s_,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=pu(s_,t.__scopeDialog);return i.modal?x.jsx(Pm,{present:r||i.open,children:x.jsx(mwe,{...s,ref:e})}):null});Bq.displayName=s_;var pwe=H0("DialogOverlay.RemoveScroll"),mwe=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=pu(s_,n);return x.jsx(FP,{as:pwe,allowPinchZoom:!0,shards:[s.contentRef],children:x.jsx(_n.div,{"data-state":PP(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),um="DialogContent",_q=O.forwardRef((t,e)=>{const n=Cq(um,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=pu(um,t.__scopeDialog);return x.jsx(Pm,{present:r||i.open,children:i.modal?x.jsx(gwe,{...s,ref:e}):x.jsx(ywe,{...s,ref:e})})});_q.displayName=um;var gwe=O.forwardRef((t,e)=>{const n=pu(um,t.__scopeDialog),r=O.useRef(null),s=$r(e,n.contentRef,r);return O.useEffect(()=>{const i=r.current;if(i)return yq(i)},[]),x.jsx(Nq,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:en(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:en(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:en(t.onFocusOutside,i=>i.preventDefault())})}),ywe=O.forwardRef((t,e)=>{const n=pu(um,t.__scopeDialog),r=O.useRef(!1),s=O.useRef(!1);return x.jsx(Nq,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Nq=O.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=pu(um,n),l=O.useRef(null),c=$r(e,l);return cq(),x.jsxs(x.Fragment,{children:[x.jsx(TP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:x.jsx(Ux,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":PP(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),x.jsxs(x.Fragment,{children:[x.jsx(wwe,{titleId:a.titleId}),x.jsx(xwe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),DP="DialogTitle",Iq=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=pu(DP,n);return x.jsx(_n.h2,{id:s.titleId,...r,ref:e})});Iq.displayName=DP;var Eq="DialogDescription",kq=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=pu(Eq,n);return x.jsx(_n.p,{id:s.descriptionId,...r,ref:e})});kq.displayName=Eq;var Tq="DialogClose",Fq=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=pu(Tq,n);return x.jsx(_n.button,{type:"button",...r,ref:e,onClick:en(t.onClick,()=>s.onOpenChange(!1))})});Fq.displayName=Tq;function PP(t){return t?"open":"closed"}var Lq="DialogTitleWarning",[Unt,Dq]=Tce(Lq,{contentName:um,titleName:DP,docsSlug:"dialog"}),wwe=({titleId:t})=>{const e=Dq(Lq),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return O.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},vwe="DialogDescriptionWarning",xwe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Dq(vwe).contentName}}.`;return O.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},bwe=vq,Cwe=bq,Swe=Sq,Pq=Bq,Rq=_q,Oq=Iq,$q=kq,Bwe=Fq;const _we=bwe,Nwe=Cwe,Iwe=Swe,Uq=O.forwardRef(({className:t,...e},n)=>x.jsx(Pq,{ref:n,className:Yn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Uq.displayName=Pq.displayName;const Mq=O.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(Iwe,{children:[x.jsx(Uq,{}),x.jsxs(Rq,{ref:r,className:Yn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,x.jsxs(Bwe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[x.jsx(Qx,{className:"h-4 w-4"}),x.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Mq.displayName=Rq.displayName;const Qq=({className:t,...e})=>x.jsx("div",{className:Yn("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Qq.displayName="DialogHeader";const jq=O.forwardRef(({className:t,...e},n)=>x.jsx(Oq,{ref:n,className:Yn("text-lg font-semibold leading-none tracking-tight",t),...e}));jq.displayName=Oq.displayName;const Ewe=O.forwardRef(({className:t,...e},n)=>x.jsx($q,{ref:n,className:Yn("text-sm text-muted-foreground",t),...e}));Ewe.displayName=$q.displayName;var kwe="Label",Hq=O.forwardRef((t,e)=>x.jsx(_n.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Hq.displayName=kwe;var zq=Hq;const Twe=DD("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qA=O.forwardRef(({className:t,...e},n)=>x.jsx(zq,{ref:n,className:Yn(Twe(),t),...e}));qA.displayName=zq.displayName;function VQ(t,[e,n]){return Math.min(n,Math.max(e,t))}var Fwe=O.createContext(void 0);function RP(t){const e=O.useContext(Fwe);return t||e||"ltr"}function Lwe(t){const e=O.useRef({value:t,previous:t});return O.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Dwe=[" ","Enter","ArrowUp","ArrowDown"],Pwe=[" ","Enter"],Am="Select",[MN,QN,Rwe]=kD(Am),[Ny,Mnt]=_f(Am,[Rwe,BN]),jN=BN(),[Owe,kf]=Ny(Am),[$we,Uwe]=Ny(Am),Vq=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:A,disabled:d,required:h,form:p}=t,m=jN(e),[y,g]=O.useState(null),[v,b]=O.useState(null),[C,_]=O.useState(!1),I=RP(c),[F,T]=z0({prop:r,defaultProp:s??!1,onChange:i,caller:Am}),[D,H]=z0({prop:o,defaultProp:a,onChange:l,caller:Am}),R=O.useRef(null),U=y?p||!!y.closest("form"):!0,[W,$]=O.useState(new Set),Y=Array.from(W).map(J=>J.props.value).join(";");return x.jsx(Ihe,{...m,children:x.jsxs(Owe,{required:h,scope:e,trigger:y,onTriggerChange:g,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:C,onValueNodeHasChildrenChange:_,contentId:Gh(),value:D,onValueChange:H,open:F,onOpenChange:T,dir:I,triggerPointerDownPosRef:R,disabled:d,children:[x.jsx(MN.Provider,{scope:e,children:x.jsx($we,{scope:t.__scopeSelect,onNativeOptionAdd:O.useCallback(J=>{$(oe=>new Set(oe).add(J))},[]),onNativeOptionRemove:O.useCallback(J=>{$(oe=>{const V=new Set(oe);return V.delete(J),V})},[]),children:n})}),U?x.jsxs(pX,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:A,value:D,onChange:J=>H(J.target.value),disabled:d,form:p,children:[D===void 0?x.jsx("option",{value:""}):null,Array.from(W)]},Y):null]})})};Vq.displayName=Am;var Wq="SelectTrigger",Gq=O.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=jN(n),o=kf(Wq,n),a=o.disabled||r,l=$r(e,o.onTriggerChange),c=QN(n),u=O.useRef("touch"),[A,d,h]=gX(m=>{const y=c().filter(b=>!b.disabled),g=y.find(b=>b.value===o.value),v=yX(y,m,g);v!==void 0&&o.onValueChange(v.value)}),p=m=>{a||(o.onOpenChange(!0),h()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return x.jsx(GG,{asChild:!0,...i,children:x.jsx(_n.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":mX(o.value)?"":void 0,...s,ref:l,onClick:en(s.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&p(m)}),onPointerDown:en(s.onPointerDown,m=>{u.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(p(m),m.preventDefault())}),onKeyDown:en(s.onKeyDown,m=>{const y=A.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&d(m.key),!(y&&m.key===" ")&&Dwe.includes(m.key)&&(p(),m.preventDefault())})})})});Gq.displayName=Wq;var Kq="SelectValue",qq=O.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=kf(Kq,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,A=$r(e,l.onValueNodeChange);return Zi(()=>{c(u)},[c,u]),x.jsx(_n.span,{...a,ref:A,style:{pointerEvents:"none"},children:mX(l.value)?x.jsx(x.Fragment,{children:o}):i})});qq.displayName=Kq;var Mwe="SelectIcon",Xq=O.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return x.jsx(_n.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});Xq.displayName=Mwe;var Qwe="SelectPortal",Yq=t=>x.jsx(wN,{asChild:!0,...t});Yq.displayName=Qwe;var dm="SelectContent",Zq=O.forwardRef((t,e)=>{const n=kf(dm,t.__scopeSelect),[r,s]=O.useState();if(Zi(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Dm.createPortal(x.jsx(Jq,{scope:t.__scopeSelect,children:x.jsx(MN.Slot,{scope:t.__scopeSelect,children:x.jsx("div",{children:t.children})})}),i):null}return x.jsx(eX,{...t,ref:e})});Zq.displayName=dm;var Qc=10,[Jq,Tf]=Ny(dm),jwe="SelectContentImpl",Hwe=H0("SelectContent.RemoveScroll"),eX=O.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:A,collisionBoundary:d,collisionPadding:h,sticky:p,hideWhenDetached:m,avoidCollisions:y,...g}=t,v=kf(dm,n),[b,C]=O.useState(null),[_,I]=O.useState(null),F=$r(e,de=>C(de)),[T,D]=O.useState(null),[H,R]=O.useState(null),U=QN(n),[W,$]=O.useState(!1),Y=O.useRef(!1);O.useEffect(()=>{if(b)return yq(b)},[b]),cq();const J=O.useCallback(de=>{const[we,...Ce]=U().map(Ue=>Ue.ref.current),[Ne]=Ce.slice(-1),Ee=document.activeElement;for(const Ue of de)if(Ue===Ee||(Ue==null||Ue.scrollIntoView({block:"nearest"}),Ue===we&&_&&(_.scrollTop=0),Ue===Ne&&_&&(_.scrollTop=_.scrollHeight),Ue==null||Ue.focus(),document.activeElement!==Ee))return},[U,_]),oe=O.useCallback(()=>J([T,b]),[J,T,b]);O.useEffect(()=>{W&&oe()},[W,oe]);const{onOpenChange:V,triggerPointerDownPosRef:Z}=v;O.useEffect(()=>{if(b){let de={x:0,y:0};const we=Ne=>{var Ee,Ue;de={x:Math.abs(Math.round(Ne.pageX)-(((Ee=Z.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(Ne.pageY)-(((Ue=Z.current)==null?void 0:Ue.y)??0))}},Ce=Ne=>{de.x<=10&&de.y<=10?Ne.preventDefault():b.contains(Ne.target)||V(!1),document.removeEventListener("pointermove",we),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Ce,{capture:!0})}}},[b,V,Z]),O.useEffect(()=>{const de=()=>V(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[V]);const[le,ce]=gX(de=>{const we=U().filter(Ee=>!Ee.disabled),Ce=we.find(Ee=>Ee.ref.current===document.activeElement),Ne=yX(we,de,Ce);Ne&&setTimeout(()=>Ne.ref.current.focus())}),M=O.useCallback((de,we,Ce)=>{const Ne=!Y.current&&!Ce;(v.value!==void 0&&v.value===we||Ne)&&(D(de),Ne&&(Y.current=!0))},[v.value]),G=O.useCallback(()=>b==null?void 0:b.focus(),[b]),X=O.useCallback((de,we,Ce)=>{const Ne=!Y.current&&!Ce;(v.value!==void 0&&v.value===we||Ne)&&R(de)},[v.value]),re=r==="popper"?M4:tX,ue=re===M4?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:A,collisionBoundary:d,collisionPadding:h,sticky:p,hideWhenDetached:m,avoidCollisions:y}:{};return x.jsx(Jq,{scope:n,content:b,viewport:_,onViewportChange:I,itemRefCallback:M,selectedItem:T,onItemLeave:G,itemTextRefCallback:X,focusSelectedItem:oe,selectedItemText:H,position:r,isPositioned:W,searchRef:le,children:x.jsx(FP,{as:Hwe,allowPinchZoom:!0,children:x.jsx(TP,{asChild:!0,trapped:v.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:en(s,de=>{var we;(we=v.trigger)==null||we.focus({preventScroll:!0}),de.preventDefault()}),children:x.jsx(Ux,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:x.jsx(re,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:de=>de.preventDefault(),...g,...ue,onPlaced:()=>$(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:en(g.onKeyDown,de=>{const we=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!we&&de.key.length===1&&ce(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let Ne=U().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(de.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const Ee=de.target,Ue=Ne.indexOf(Ee);Ne=Ne.slice(Ue+1)}setTimeout(()=>J(Ne)),de.preventDefault()}})})})})})})});eX.displayName=jwe;var zwe="SelectItemAlignedPosition",tX=O.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=kf(dm,n),o=Tf(dm,n),[a,l]=O.useState(null),[c,u]=O.useState(null),A=$r(e,F=>u(F)),d=QN(n),h=O.useRef(!1),p=O.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:g,focusSelectedItem:v}=o,b=O.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&m&&y&&g){const F=i.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),H=g.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=H.left-T.left,Ue=D.left-Ee,ze=F.left-Ue,tt=F.width+ze,Ae=Math.max(tt,T.width),Ge=window.innerWidth-Qc,At=VQ(Ue,[Qc,Math.max(Qc,Ge-Ae)]);a.style.minWidth=tt+"px",a.style.left=At+"px"}else{const Ee=T.right-H.right,Ue=window.innerWidth-D.right-Ee,ze=window.innerWidth-F.right-Ue,tt=F.width+ze,Ae=Math.max(tt,T.width),Ge=window.innerWidth-Qc,At=VQ(Ue,[Qc,Math.max(Qc,Ge-Ae)]);a.style.minWidth=tt+"px",a.style.right=At+"px"}const R=d(),U=window.innerHeight-Qc*2,W=m.scrollHeight,$=window.getComputedStyle(c),Y=parseInt($.borderTopWidth,10),J=parseInt($.paddingTop,10),oe=parseInt($.borderBottomWidth,10),V=parseInt($.paddingBottom,10),Z=Y+J+W+V+oe,le=Math.min(y.offsetHeight*5,Z),ce=window.getComputedStyle(m),M=parseInt(ce.paddingTop,10),G=parseInt(ce.paddingBottom,10),X=F.top+F.height/2-Qc,re=U-X,ue=y.offsetHeight/2,de=y.offsetTop+ue,we=Y+J+de,Ce=Z-we;if(we<=X){const Ee=R.length>0&&y===R[R.length-1].ref.current;a.style.bottom="0px";const Ue=c.clientHeight-m.offsetTop-m.offsetHeight,ze=Math.max(re,ue+(Ee?G:0)+Ue+oe),tt=we+ze;a.style.height=tt+"px"}else{const Ee=R.length>0&&y===R[0].ref.current;a.style.top="0px";const ze=Math.max(X,Y+m.offsetTop+(Ee?M:0)+ue)+Ce;a.style.height=ze+"px",m.scrollTop=we-X+m.offsetTop}a.style.margin=`${Qc}px 0`,a.style.minHeight=le+"px",a.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[d,i.trigger,i.valueNode,a,c,m,y,g,i.dir,r]);Zi(()=>b(),[b]);const[C,_]=O.useState();Zi(()=>{c&&_(window.getComputedStyle(c).zIndex)},[c]);const I=O.useCallback(F=>{F&&p.current===!0&&(b(),v==null||v(),p.current=!1)},[b,v]);return x.jsx(Wwe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:I,children:x.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:x.jsx(_n.div,{...s,ref:A,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});tX.displayName=zwe;var Vwe="SelectPopperPosition",M4=O.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Qc,...i}=t,o=jN(n);return x.jsx(KG,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});M4.displayName=Vwe;var[Wwe,OP]=Ny(dm,{}),Q4="SelectViewport",nX=O.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Tf(Q4,n),o=OP(Q4,n),a=$r(e,i.onViewportChange),l=O.useRef(0);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),x.jsx(MN.Slot,{scope:n,children:x.jsx(_n.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:en(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:A,shouldExpandOnScrollRef:d}=o;if(d!=null&&d.current&&A){const h=Math.abs(l.current-u.scrollTop);if(h>0){const p=window.innerHeight-Qc*2,m=parseFloat(A.style.minHeight),y=parseFloat(A.style.height),g=Math.max(m,y);if(g<p){const v=g+h,b=Math.min(p,v),C=v-b;A.style.height=b+"px",A.style.bottom==="0px"&&(u.scrollTop=C>0?C:0,A.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});nX.displayName=Q4;var rX="SelectGroup",[Gwe,Kwe]=Ny(rX),qwe=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Gh();return x.jsx(Gwe,{scope:n,id:s,children:x.jsx(_n.div,{role:"group","aria-labelledby":s,...r,ref:e})})});qwe.displayName=rX;var sX="SelectLabel",iX=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Kwe(sX,n);return x.jsx(_n.div,{id:s.id,...r,ref:e})});iX.displayName=sX;var i_="SelectItem",[Xwe,oX]=Ny(i_),aX=O.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=kf(i_,n),l=Tf(i_,n),c=a.value===r,[u,A]=O.useState(i??""),[d,h]=O.useState(!1),p=$r(e,v=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,v,r,s)}),m=Gh(),y=O.useRef("touch"),g=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.jsx(Xwe,{scope:n,value:r,disabled:s,textId:m,isSelected:c,onItemTextChange:O.useCallback(v=>{A(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:x.jsx(MN.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:x.jsx(_n.div,{role:"option","aria-labelledby":m,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:p,onFocus:en(o.onFocus,()=>h(!0)),onBlur:en(o.onBlur,()=>h(!1)),onClick:en(o.onClick,()=>{y.current!=="mouse"&&g()}),onPointerUp:en(o.onPointerUp,()=>{y.current==="mouse"&&g()}),onPointerDown:en(o.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:en(o.onPointerMove,v=>{var b;y.current=v.pointerType,s?(b=l.onItemLeave)==null||b.call(l):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:en(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:en(o.onKeyDown,v=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&v.key===" "||(Pwe.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});aX.displayName=i_;var Rw="SelectItemText",lX=O.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=kf(Rw,n),a=Tf(Rw,n),l=oX(Rw,n),c=Uwe(Rw,n),[u,A]=O.useState(null),d=$r(e,g=>A(g),l.onItemTextChange,g=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,g,l.value,l.disabled)}),h=u==null?void 0:u.textContent,p=O.useMemo(()=>x.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=c;return Zi(()=>(m(p),()=>y(p)),[m,y,p]),x.jsxs(x.Fragment,{children:[x.jsx(_n.span,{id:l.textId,...i,ref:d}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Dm.createPortal(i.children,o.valueNode):null]})});lX.displayName=Rw;var cX="SelectItemIndicator",uX=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return oX(cX,n).isSelected?x.jsx(_n.span,{"aria-hidden":!0,...r,ref:e}):null});uX.displayName=cX;var j4="SelectScrollUpButton",AX=O.forwardRef((t,e)=>{const n=Tf(j4,t.__scopeSelect),r=OP(j4,t.__scopeSelect),[s,i]=O.useState(!1),o=$r(e,r.onScrollButtonChange);return Zi(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?x.jsx(hX,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});AX.displayName=j4;var H4="SelectScrollDownButton",dX=O.forwardRef((t,e)=>{const n=Tf(H4,t.__scopeSelect),r=OP(H4,t.__scopeSelect),[s,i]=O.useState(!1),o=$r(e,r.onScrollButtonChange);return Zi(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?x.jsx(hX,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});dX.displayName=H4;var hX=O.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Tf("SelectScrollButton",n),o=O.useRef(null),a=QN(n),l=O.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return O.useEffect(()=>()=>l(),[l]),Zi(()=>{var u;const c=a().find(A=>A.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),x.jsx(_n.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:en(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:en(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:en(s.onPointerLeave,()=>{l()})})}),Ywe="SelectSeparator",fX=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return x.jsx(_n.div,{"aria-hidden":!0,...r,ref:e})});fX.displayName=Ywe;var z4="SelectArrow",Zwe=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=jN(n),i=kf(z4,n),o=Tf(z4,n);return i.open&&o.position==="popper"?x.jsx(qG,{...s,...r,ref:e}):null});Zwe.displayName=z4;var Jwe="SelectBubbleInput",pX=O.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=O.useRef(null),i=$r(r,s),o=Lwe(e);return O.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const A=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(A)}},[o,e]),x.jsx(_n.select,{...n,style:{...UW,...n.style},ref:i,defaultValue:e})});pX.displayName=Jwe;function mX(t){return t===""||t===void 0}function gX(t){const e=oc(t),n=O.useRef(""),r=O.useRef(0),s=O.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=O.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return O.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function yX(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=eve(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function eve(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var tve=Vq,wX=Gq,nve=qq,rve=Xq,sve=Yq,vX=Zq,ive=nX,xX=iX,bX=aX,ove=lX,ave=uX,CX=AX,SX=dX,BX=fX;const V4=tve,W4=nve,o_=O.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(wX,{ref:r,className:Yn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,x.jsx(rve,{asChild:!0,children:x.jsx(RD,{className:"h-4 w-4 opacity-50"})})]}));o_.displayName=wX.displayName;const _X=O.forwardRef(({className:t,...e},n)=>x.jsx(CX,{ref:n,className:Yn("flex cursor-default items-center justify-center py-1",t),...e,children:x.jsx(Nue,{className:"h-4 w-4"})}));_X.displayName=CX.displayName;const NX=O.forwardRef(({className:t,...e},n)=>x.jsx(SX,{ref:n,className:Yn("flex cursor-default items-center justify-center py-1",t),...e,children:x.jsx(RD,{className:"h-4 w-4"})}));NX.displayName=SX.displayName;const a_=O.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>x.jsx(sve,{children:x.jsxs(vX,{ref:s,className:Yn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[x.jsx(_X,{}),x.jsx(ive,{className:Yn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),x.jsx(NX,{})]})}));a_.displayName=vX.displayName;const lve=O.forwardRef(({className:t,...e},n)=>x.jsx(xX,{ref:n,className:Yn("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));lve.displayName=xX.displayName;const l_=O.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(bX,{ref:r,className:Yn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(ave,{children:x.jsx(cG,{className:"h-4 w-4"})})}),x.jsx(ove,{children:e})]}));l_.displayName=bX.displayName;const cve=O.forwardRef(({className:t,...e},n)=>x.jsx(BX,{ref:n,className:Yn("-mx-1 my-1 h-px bg-muted",t),...e}));cve.displayName=BX.displayName;const uve=[{id:"p001",name:"Arjun Patel",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&auto=format&fit=crop",city:"Ahmedabad",sports:["Cricket","Football"],skillLevel:"Advanced",playStyle:"Competitive",age:28,gender:"Male",matchesPlayed:156,rating:4.8,badges:["Tournament Winner","Century Scorer","Team Captain"],points:2450,bio:"Weekend warrior looking for quality cricket matches. Love competitive games!",availability:["Evening","Weekend"],lookingFor:["Cricket","Football"],isOnline:!0},{id:"p002",name:"Priya Sharma",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200&auto=format&fit=crop",city:"Ahmedabad",sports:["Badminton","Tennis"],skillLevel:"Intermediate",playStyle:"Casual",age:25,gender:"Female",matchesPlayed:89,rating:4.6,badges:["Rising Star","Consistent Player"],points:1200,bio:"Love playing badminton after work. Always up for a friendly match!",availability:["Evening","Night"],lookingFor:["Badminton"],isOnline:!0},{id:"p003",name:"Rahul Mehta",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=200&auto=format&fit=crop",city:"Ahmedabad",sports:["Football"],skillLevel:"Pro",playStyle:"Competitive",age:30,gender:"Male",matchesPlayed:234,rating:4.9,badges:["Pro Player","Tournament Winner","Goal Machine"],points:3800,bio:"Ex-college football captain. Looking for serious players for weekend matches.",availability:["Weekend","Morning"],lookingFor:["Football"],isOnline:!1},{id:"p004",name:"Sneha Desai",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=200&auto=format&fit=crop",city:"Surat",sports:["Tennis","Pickleball"],skillLevel:"Advanced",playStyle:"Competitive",age:27,gender:"Female",matchesPlayed:145,rating:4.7,badges:["Tennis Pro","Quick Learner"],points:2100,bio:"Tennis enthusiast exploring pickleball. Let's play!",availability:["Morning","Evening"],lookingFor:["Tennis","Pickleball"],isOnline:!0},{id:"p005",name:"Vikram Singh",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=200&auto=format&fit=crop",city:"Vadodara",sports:["Cricket"],skillLevel:"Intermediate",playStyle:"Casual",age:32,gender:"Male",matchesPlayed:78,rating:4.4,badges:["Team Player","Reliable"],points:980,bio:"Cricket lover since childhood. Looking for weekend gully cricket matches!",availability:["Weekend"],lookingFor:["Cricket"],isOnline:!1},{id:"p006",name:"Kavya Joshi",avatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=200&auto=format&fit=crop",city:"Ahmedabad",sports:["Badminton"],skillLevel:"Beginner",playStyle:"Casual",age:23,gender:"Female",matchesPlayed:34,rating:4.2,badges:["New Player","Enthusiast"],points:450,bio:"Just started playing badminton. Looking for patient partners to learn with!",availability:["Evening","Weekend"],lookingFor:["Badminton"],isOnline:!0},{id:"p007",name:"Nikhil Agarwal",avatar:"https://images.unsplash.com/photo-1519345182560-3f2917c472ef?w=200&auto=format&fit=crop",city:"Rajkot",sports:["Cricket","Tennis"],skillLevel:"Advanced",playStyle:"Competitive",age:29,gender:"Male",matchesPlayed:189,rating:4.8,badges:["All-Rounder","Tournament Regular"],points:2890,bio:"Play both cricket and tennis at competitive level. Always looking for worthy opponents!",availability:["Morning","Evening","Weekend"],lookingFor:["Cricket","Tennis"],isOnline:!0},{id:"p008",name:"Ananya Reddy",avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=200&auto=format&fit=crop",city:"Gandhinagar",sports:["Football","Badminton"],skillLevel:"Intermediate",playStyle:"Casual",age:26,gender:"Female",matchesPlayed:67,rating:4.5,badges:["Versatile Player","Team Spirit"],points:890,bio:"Love team sports! Looking for mixed football teams and badminton partners.",availability:["Evening","Weekend"],lookingFor:["Football","Badminton"],isOnline:!1},{id:"p009",name:"Harsh Trivedi",avatar:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=200&auto=format&fit=crop",city:"Surat",sports:["Cricket"],skillLevel:"Pro",playStyle:"Competitive",age:35,gender:"Male",matchesPlayed:312,rating:4.9,badges:["Veteran","Coach","Tournament Winner"],points:5200,bio:"Former district level player. Now coaching and playing for fun. Can help beginners!",availability:["Morning","Weekend"],lookingFor:["Cricket"],isOnline:!0},{id:"p010",name:"Riya Shah",avatar:"https://images.unsplash.com/photo-1580489944761-15a19d654956?w=200&auto=format&fit=crop",city:"Ahmedabad",sports:["Pickleball","Tennis"],skillLevel:"Beginner",playStyle:"Casual",age:24,gender:"Female",matchesPlayed:23,rating:4.3,badges:["Quick Learner","Positive Energy"],points:320,bio:"New to racket sports but loving every moment. Weekends are for sports!",availability:["Weekend"],lookingFor:["Pickleball"],isOnline:!0},{id:"p011",name:"Dev Patel",avatar:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?w=200&auto=format&fit=crop",city:"Bhavnagar",sports:["Football","Cricket"],skillLevel:"Intermediate",playStyle:"Competitive",age:27,gender:"Male",matchesPlayed:112,rating:4.6,badges:["Goal Scorer","Team Player"],points:1560,bio:"Football first, cricket second. Looking for regular weekend games!",availability:["Evening","Weekend"],lookingFor:["Football"],isOnline:!1},{id:"p012",name:"Meera Iyer",avatar:"https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=200&auto=format&fit=crop",city:"Vadodara",sports:["Badminton","Tennis"],skillLevel:"Advanced",playStyle:"Competitive",age:28,gender:"Female",matchesPlayed:178,rating:4.7,badges:["Smash Queen","Tournament Regular"],points:2340,bio:"Competitive badminton player. State level qualifier. Looking for serious matches!",availability:["Morning","Evening"],lookingFor:["Badminton"],isOnline:!0}];var jT="rovingFocusGroup.onEntryFocus",Ave={bubbles:!1,cancelable:!0},Zx="RovingFocusGroup",[G4,IX,dve]=kD(Zx),[hve,EX]=_f(Zx,[dve]),[fve,pve]=hve(Zx),kX=O.forwardRef((t,e)=>x.jsx(G4.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(G4.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(mve,{...t,ref:e})})}));kX.displayName=Zx;var mve=O.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...A}=t,d=O.useRef(null),h=$r(e,d),p=RP(i),[m,y]=z0({prop:o,defaultProp:a??null,onChange:l,caller:Zx}),[g,v]=O.useState(!1),b=oc(c),C=IX(n),_=O.useRef(!1),[I,F]=O.useState(0);return O.useEffect(()=>{const T=d.current;if(T)return T.addEventListener(jT,b),()=>T.removeEventListener(jT,b)},[b]),x.jsx(fve,{scope:n,orientation:r,dir:p,loop:s,currentTabStopId:m,onItemFocus:O.useCallback(T=>y(T),[y]),onItemShiftTab:O.useCallback(()=>v(!0),[]),onFocusableItemAdd:O.useCallback(()=>F(T=>T+1),[]),onFocusableItemRemove:O.useCallback(()=>F(T=>T-1),[]),children:x.jsx(_n.div,{tabIndex:g||I===0?-1:0,"data-orientation":r,...A,ref:h,style:{outline:"none",...t.style},onMouseDown:en(t.onMouseDown,()=>{_.current=!0}),onFocus:en(t.onFocus,T=>{const D=!_.current;if(T.target===T.currentTarget&&D&&!g){const H=new CustomEvent(jT,Ave);if(T.currentTarget.dispatchEvent(H),!H.defaultPrevented){const R=C().filter(J=>J.focusable),U=R.find(J=>J.active),W=R.find(J=>J.id===m),Y=[U,W,...R].filter(Boolean).map(J=>J.ref.current);LX(Y,u)}}_.current=!1}),onBlur:en(t.onBlur,()=>v(!1))})})}),TX="RovingFocusGroupItem",FX=O.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Gh(),c=i||l,u=pve(TX,n),A=u.currentTabStopId===c,d=IX(n),{onFocusableItemAdd:h,onFocusableItemRemove:p,currentTabStopId:m}=u;return O.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),x.jsx(G4.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:x.jsx(_n.span,{tabIndex:A?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:en(t.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:en(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:en(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=wve(y,u.orientation,u.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=d().filter(C=>C.focusable).map(C=>C.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const C=b.indexOf(y.currentTarget);b=u.loop?vve(b,C+1):b.slice(C+1)}setTimeout(()=>LX(b))}}),children:typeof o=="function"?o({isCurrentTabStop:A,hasTabStop:m!=null}):o})})});FX.displayName=TX;var gve={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function yve(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function wve(t,e,n){const r=yve(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return gve[r]}function LX(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function vve(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var xve=kX,bve=FX,HN="Tabs",[Cve,Qnt]=_f(HN,[EX]),DX=EX(),[Sve,$P]=Cve(HN),PX=O.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=RP(a),[A,d]=z0({prop:r,onChange:s,defaultProp:i??"",caller:HN});return x.jsx(Sve,{scope:n,baseId:Gh(),value:A,onValueChange:d,orientation:o,dir:u,activationMode:l,children:x.jsx(_n.div,{dir:u,"data-orientation":o,...c,ref:e})})});PX.displayName=HN;var RX="TabsList",OX=O.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=$P(RX,n),o=DX(n);return x.jsx(xve,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:x.jsx(_n.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});OX.displayName=RX;var $X="TabsTrigger",UX=O.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=$P($X,n),a=DX(n),l=jX(o.baseId,r),c=HX(o.baseId,r),u=r===o.value;return x.jsx(bve,{asChild:!0,...a,focusable:!s,active:u,children:x.jsx(_n.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:en(t.onMouseDown,A=>{!s&&A.button===0&&A.ctrlKey===!1?o.onValueChange(r):A.preventDefault()}),onKeyDown:en(t.onKeyDown,A=>{[" ","Enter"].includes(A.key)&&o.onValueChange(r)}),onFocus:en(t.onFocus,()=>{const A=o.activationMode!=="manual";!u&&!s&&A&&o.onValueChange(r)})})})});UX.displayName=$X;var MX="TabsContent",QX=O.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=$P(MX,n),l=jX(a.baseId,r),c=HX(a.baseId,r),u=r===a.value,A=O.useRef(u);return O.useEffect(()=>{const d=requestAnimationFrame(()=>A.current=!1);return()=>cancelAnimationFrame(d)},[]),x.jsx(Pm,{present:s||u,children:({present:d})=>x.jsx(_n.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:A.current?"0s":void 0},children:d&&i})})});QX.displayName=MX;function jX(t,e){return`${t}-trigger-${e}`}function HX(t,e){return`${t}-content-${e}`}var Bve=PX,zX=OX,VX=UX,WX=QX;const _ve=Bve,GX=O.forwardRef(({className:t,...e},n)=>x.jsx(zX,{ref:n,className:Yn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));GX.displayName=zX.displayName;const tB=O.forwardRef(({className:t,...e},n)=>x.jsx(VX,{ref:n,className:Yn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));tB.displayName=VX.displayName;const nB=O.forwardRef(({className:t,...e},n)=>x.jsx(WX,{ref:n,className:Yn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));nB.displayName=WX.displayName;function Nve(t,e){const n=O.useRef(e);O.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const Ive=1;function Eve(t){return Object.freeze({__version:Ive,map:t})}function kve(t,e){return Object.freeze({...t,...e})}const KX=O.createContext(null),qX=KX.Provider;function XX(){const t=O.useContext(KX);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Tve(t){function e(n,r){const{instance:s,context:i}=t(n).current;return O.useImperativeHandle(r,()=>s),n.children==null?null:it.createElement(qX,{value:i},n.children)}return O.forwardRef(e)}function Fve(t){function e(n,r){const{instance:s}=t(n).current;return O.useImperativeHandle(r,()=>s),null}return O.forwardRef(e)}function Lve(t,e){const n=O.useRef();O.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function YX(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}var K4={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(SA,function(n){var r="1.9.4";function s(f){var w,B,k,z;for(B=1,k=arguments.length;B<k;B++){z=arguments[B];for(w in z)f[w]=z[w]}return f}var i=Object.create||function(){function f(){}return function(w){return f.prototype=w,new f}}();function o(f,w){var B=Array.prototype.slice;if(f.bind)return f.bind.apply(f,B.call(arguments,1));var k=B.call(arguments,2);return function(){return f.apply(w,k.length?k.concat(B.call(arguments)):arguments)}}var a=0;function l(f){return"_leaflet_id"in f||(f._leaflet_id=++a),f._leaflet_id}function c(f,w,B){var k,z,ne,ve;return ve=function(){k=!1,z&&(ne.apply(B,z),z=!1)},ne=function(){k?z=arguments:(f.apply(B,arguments),setTimeout(ve,w),k=!0)},ne}function u(f,w,B){var k=w[1],z=w[0],ne=k-z;return f===k&&B?f:((f-z)%ne+ne)%ne+z}function A(){return!1}function d(f,w){if(w===!1)return f;var B=Math.pow(10,w===void 0?6:w);return Math.round(f*B)/B}function h(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function p(f){return h(f).split(/\s+/)}function m(f,w){Object.prototype.hasOwnProperty.call(f,"options")||(f.options=f.options?i(f.options):{});for(var B in w)f.options[B]=w[B];return f.options}function y(f,w,B){var k=[];for(var z in f)k.push(encodeURIComponent(B?z.toUpperCase():z)+"="+encodeURIComponent(f[z]));return(!w||w.indexOf("?")===-1?"?":"&")+k.join("&")}var g=/\{ *([\w_ -]+) *\}/g;function v(f,w){return f.replace(g,function(B,k){var z=w[k];if(z===void 0)throw new Error("No value provided for variable "+B);return typeof z=="function"&&(z=z(w)),z})}var b=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function C(f,w){for(var B=0;B<f.length;B++)if(f[B]===w)return B;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(f){return window["webkit"+f]||window["moz"+f]||window["ms"+f]}var F=0;function T(f){var w=+new Date,B=Math.max(0,16-(w-F));return F=w+B,window.setTimeout(f,B)}var D=window.requestAnimationFrame||I("RequestAnimationFrame")||T,H=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(f){window.clearTimeout(f)};function R(f,w,B){if(B&&D===T)f.call(w);else return D.call(window,o(f,w))}function U(f){f&&H.call(window,f)}var W={__proto__:null,extend:s,create:i,bind:o,get lastId(){return a},stamp:l,throttle:c,wrapNum:u,falseFn:A,formatNum:d,trim:h,splitWords:p,setOptions:m,getParamString:y,template:v,isArray:b,indexOf:C,emptyImageUrl:_,requestFn:D,cancelFn:H,requestAnimFrame:R,cancelAnimFrame:U};function $(){}$.extend=function(f){var w=function(){m(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},B=w.__super__=this.prototype,k=i(B);k.constructor=w,w.prototype=k;for(var z in this)Object.prototype.hasOwnProperty.call(this,z)&&z!=="prototype"&&z!=="__super__"&&(w[z]=this[z]);return f.statics&&s(w,f.statics),f.includes&&(Y(f.includes),s.apply(null,[k].concat(f.includes))),s(k,f),delete k.statics,delete k.includes,k.options&&(k.options=B.options?i(B.options):{},s(k.options,f.options)),k._initHooks=[],k.callInitHooks=function(){if(!this._initHooksCalled){B.callInitHooks&&B.callInitHooks.call(this),this._initHooksCalled=!0;for(var ne=0,ve=k._initHooks.length;ne<ve;ne++)k._initHooks[ne].call(this)}},w},$.include=function(f){var w=this.prototype.options;return s(this.prototype,f),f.options&&(this.prototype.options=w,this.mergeOptions(f.options)),this},$.mergeOptions=function(f){return s(this.prototype.options,f),this},$.addInitHook=function(f){var w=Array.prototype.slice.call(arguments,1),B=typeof f=="function"?f:function(){this[f].apply(this,w)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(B),this};function Y(f){if(!(typeof L>"u"||!L||!L.Mixin)){f=b(f)?f:[f];for(var w=0;w<f.length;w++)f[w]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var J={on:function(f,w,B){if(typeof f=="object")for(var k in f)this._on(k,f[k],w);else{f=p(f);for(var z=0,ne=f.length;z<ne;z++)this._on(f[z],w,B)}return this},off:function(f,w,B){if(!arguments.length)delete this._events;else if(typeof f=="object")for(var k in f)this._off(k,f[k],w);else{f=p(f);for(var z=arguments.length===1,ne=0,ve=f.length;ne<ve;ne++)z?this._off(f[ne]):this._off(f[ne],w,B)}return this},_on:function(f,w,B,k){if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}if(this._listens(f,w,B)===!1){B===this&&(B=void 0);var z={fn:w,ctx:B};k&&(z.once=!0),this._events=this._events||{},this._events[f]=this._events[f]||[],this._events[f].push(z)}},_off:function(f,w,B){var k,z,ne;if(this._events&&(k=this._events[f],!!k)){if(arguments.length===1){if(this._firingCount)for(z=0,ne=k.length;z<ne;z++)k[z].fn=A;delete this._events[f];return}if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}var ve=this._listens(f,w,B);if(ve!==!1){var De=k[ve];this._firingCount&&(De.fn=A,this._events[f]=k=k.slice()),k.splice(ve,1)}}},fire:function(f,w,B){if(!this.listens(f,B))return this;var k=s({},w,{type:f,target:this,sourceTarget:w&&w.sourceTarget||this});if(this._events){var z=this._events[f];if(z){this._firingCount=this._firingCount+1||1;for(var ne=0,ve=z.length;ne<ve;ne++){var De=z[ne],$e=De.fn;De.once&&this.off(f,$e,De.ctx),$e.call(De.ctx||this,k)}this._firingCount--}}return B&&this._propagateEvent(k),this},listens:function(f,w,B,k){typeof f!="string"&&console.warn('"string" type argument expected');var z=w;typeof w!="function"&&(k=!!w,z=void 0,B=void 0);var ne=this._events&&this._events[f];if(ne&&ne.length&&this._listens(f,z,B)!==!1)return!0;if(k){for(var ve in this._eventParents)if(this._eventParents[ve].listens(f,w,B,k))return!0}return!1},_listens:function(f,w,B){if(!this._events)return!1;var k=this._events[f]||[];if(!w)return!!k.length;B===this&&(B=void 0);for(var z=0,ne=k.length;z<ne;z++)if(k[z].fn===w&&k[z].ctx===B)return z;return!1},once:function(f,w,B){if(typeof f=="object")for(var k in f)this._on(k,f[k],w,!0);else{f=p(f);for(var z=0,ne=f.length;z<ne;z++)this._on(f[z],w,B,!0)}return this},addEventParent:function(f){return this._eventParents=this._eventParents||{},this._eventParents[l(f)]=f,this},removeEventParent:function(f){return this._eventParents&&delete this._eventParents[l(f)],this},_propagateEvent:function(f){for(var w in this._eventParents)this._eventParents[w].fire(f.type,s({layer:f.target,propagatedFrom:f.target},f),!0)}};J.addEventListener=J.on,J.removeEventListener=J.clearAllEventListeners=J.off,J.addOneTimeEventListener=J.once,J.fireEvent=J.fire,J.hasEventListeners=J.listens;var oe=$.extend(J);function V(f,w,B){this.x=B?Math.round(f):f,this.y=B?Math.round(w):w}var Z=Math.trunc||function(f){return f>0?Math.floor(f):Math.ceil(f)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(f){return this.clone()._add(le(f))},_add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.clone()._subtract(le(f))},_subtract:function(f){return this.x-=f.x,this.y-=f.y,this},divideBy:function(f){return this.clone()._divideBy(f)},_divideBy:function(f){return this.x/=f,this.y/=f,this},multiplyBy:function(f){return this.clone()._multiplyBy(f)},_multiplyBy:function(f){return this.x*=f,this.y*=f,this},scaleBy:function(f){return new V(this.x*f.x,this.y*f.y)},unscaleBy:function(f){return new V(this.x/f.x,this.y/f.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Z(this.x),this.y=Z(this.y),this},distanceTo:function(f){f=le(f);var w=f.x-this.x,B=f.y-this.y;return Math.sqrt(w*w+B*B)},equals:function(f){return f=le(f),f.x===this.x&&f.y===this.y},contains:function(f){return f=le(f),Math.abs(f.x)<=Math.abs(this.x)&&Math.abs(f.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}};function le(f,w,B){return f instanceof V?f:b(f)?new V(f[0],f[1]):f==null?f:typeof f=="object"&&"x"in f&&"y"in f?new V(f.x,f.y):new V(f,w,B)}function ce(f,w){if(f)for(var B=w?[f,w]:f,k=0,z=B.length;k<z;k++)this.extend(B[k])}ce.prototype={extend:function(f){var w,B;if(!f)return this;if(f instanceof V||typeof f[0]=="number"||"x"in f)w=B=le(f);else if(f=M(f),w=f.min,B=f.max,!w||!B)return this;return!this.min&&!this.max?(this.min=w.clone(),this.max=B.clone()):(this.min.x=Math.min(w.x,this.min.x),this.max.x=Math.max(B.x,this.max.x),this.min.y=Math.min(w.y,this.min.y),this.max.y=Math.max(B.y,this.max.y)),this},getCenter:function(f){return le((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,f)},getBottomLeft:function(){return le(this.min.x,this.max.y)},getTopRight:function(){return le(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(f){var w,B;return typeof f[0]=="number"||f instanceof V?f=le(f):f=M(f),f instanceof ce?(w=f.min,B=f.max):w=B=f,w.x>=this.min.x&&B.x<=this.max.x&&w.y>=this.min.y&&B.y<=this.max.y},intersects:function(f){f=M(f);var w=this.min,B=this.max,k=f.min,z=f.max,ne=z.x>=w.x&&k.x<=B.x,ve=z.y>=w.y&&k.y<=B.y;return ne&&ve},overlaps:function(f){f=M(f);var w=this.min,B=this.max,k=f.min,z=f.max,ne=z.x>w.x&&k.x<B.x,ve=z.y>w.y&&k.y<B.y;return ne&&ve},isValid:function(){return!!(this.min&&this.max)},pad:function(f){var w=this.min,B=this.max,k=Math.abs(w.x-B.x)*f,z=Math.abs(w.y-B.y)*f;return M(le(w.x-k,w.y-z),le(B.x+k,B.y+z))},equals:function(f){return f?(f=M(f),this.min.equals(f.getTopLeft())&&this.max.equals(f.getBottomRight())):!1}};function M(f,w){return!f||f instanceof ce?f:new ce(f,w)}function G(f,w){if(f)for(var B=w?[f,w]:f,k=0,z=B.length;k<z;k++)this.extend(B[k])}G.prototype={extend:function(f){var w=this._southWest,B=this._northEast,k,z;if(f instanceof re)k=f,z=f;else if(f instanceof G){if(k=f._southWest,z=f._northEast,!k||!z)return this}else return f?this.extend(ue(f)||X(f)):this;return!w&&!B?(this._southWest=new re(k.lat,k.lng),this._northEast=new re(z.lat,z.lng)):(w.lat=Math.min(k.lat,w.lat),w.lng=Math.min(k.lng,w.lng),B.lat=Math.max(z.lat,B.lat),B.lng=Math.max(z.lng,B.lng)),this},pad:function(f){var w=this._southWest,B=this._northEast,k=Math.abs(w.lat-B.lat)*f,z=Math.abs(w.lng-B.lng)*f;return new G(new re(w.lat-k,w.lng-z),new re(B.lat+k,B.lng+z))},getCenter:function(){return new re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new re(this.getNorth(),this.getWest())},getSouthEast:function(){return new re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(f){typeof f[0]=="number"||f instanceof re||"lat"in f?f=ue(f):f=X(f);var w=this._southWest,B=this._northEast,k,z;return f instanceof G?(k=f.getSouthWest(),z=f.getNorthEast()):k=z=f,k.lat>=w.lat&&z.lat<=B.lat&&k.lng>=w.lng&&z.lng<=B.lng},intersects:function(f){f=X(f);var w=this._southWest,B=this._northEast,k=f.getSouthWest(),z=f.getNorthEast(),ne=z.lat>=w.lat&&k.lat<=B.lat,ve=z.lng>=w.lng&&k.lng<=B.lng;return ne&&ve},overlaps:function(f){f=X(f);var w=this._southWest,B=this._northEast,k=f.getSouthWest(),z=f.getNorthEast(),ne=z.lat>w.lat&&k.lat<B.lat,ve=z.lng>w.lng&&k.lng<B.lng;return ne&&ve},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(f,w){return f?(f=X(f),this._southWest.equals(f.getSouthWest(),w)&&this._northEast.equals(f.getNorthEast(),w)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function X(f,w){return f instanceof G?f:new G(f,w)}function re(f,w,B){if(isNaN(f)||isNaN(w))throw new Error("Invalid LatLng object: ("+f+", "+w+")");this.lat=+f,this.lng=+w,B!==void 0&&(this.alt=+B)}re.prototype={equals:function(f,w){if(!f)return!1;f=ue(f);var B=Math.max(Math.abs(this.lat-f.lat),Math.abs(this.lng-f.lng));return B<=(w===void 0?1e-9:w)},toString:function(f){return"LatLng("+d(this.lat,f)+", "+d(this.lng,f)+")"},distanceTo:function(f){return we.distance(this,ue(f))},wrap:function(){return we.wrapLatLng(this)},toBounds:function(f){var w=180*f/40075017,B=w/Math.cos(Math.PI/180*this.lat);return X([this.lat-w,this.lng-B],[this.lat+w,this.lng+B])},clone:function(){return new re(this.lat,this.lng,this.alt)}};function ue(f,w,B){return f instanceof re?f:b(f)&&typeof f[0]!="object"?f.length===3?new re(f[0],f[1],f[2]):f.length===2?new re(f[0],f[1]):null:f==null?f:typeof f=="object"&&"lat"in f?new re(f.lat,"lng"in f?f.lng:f.lon,f.alt):w===void 0?null:new re(f,w,B)}var de={latLngToPoint:function(f,w){var B=this.projection.project(f),k=this.scale(w);return this.transformation._transform(B,k)},pointToLatLng:function(f,w){var B=this.scale(w),k=this.transformation.untransform(f,B);return this.projection.unproject(k)},project:function(f){return this.projection.project(f)},unproject:function(f){return this.projection.unproject(f)},scale:function(f){return 256*Math.pow(2,f)},zoom:function(f){return Math.log(f/256)/Math.LN2},getProjectedBounds:function(f){if(this.infinite)return null;var w=this.projection.bounds,B=this.scale(f),k=this.transformation.transform(w.min,B),z=this.transformation.transform(w.max,B);return new ce(k,z)},infinite:!1,wrapLatLng:function(f){var w=this.wrapLng?u(f.lng,this.wrapLng,!0):f.lng,B=this.wrapLat?u(f.lat,this.wrapLat,!0):f.lat,k=f.alt;return new re(B,w,k)},wrapLatLngBounds:function(f){var w=f.getCenter(),B=this.wrapLatLng(w),k=w.lat-B.lat,z=w.lng-B.lng;if(k===0&&z===0)return f;var ne=f.getSouthWest(),ve=f.getNorthEast(),De=new re(ne.lat-k,ne.lng-z),$e=new re(ve.lat-k,ve.lng-z);return new G(De,$e)}},we=s({},de,{wrapLng:[-180,180],R:6371e3,distance:function(f,w){var B=Math.PI/180,k=f.lat*B,z=w.lat*B,ne=Math.sin((w.lat-f.lat)*B/2),ve=Math.sin((w.lng-f.lng)*B/2),De=ne*ne+Math.cos(k)*Math.cos(z)*ve*ve,$e=2*Math.atan2(Math.sqrt(De),Math.sqrt(1-De));return this.R*$e}}),Ce=6378137,Ne={R:Ce,MAX_LATITUDE:85.0511287798,project:function(f){var w=Math.PI/180,B=this.MAX_LATITUDE,k=Math.max(Math.min(B,f.lat),-B),z=Math.sin(k*w);return new V(this.R*f.lng*w,this.R*Math.log((1+z)/(1-z))/2)},unproject:function(f){var w=180/Math.PI;return new re((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*w,f.x*w/this.R)},bounds:function(){var f=Ce*Math.PI;return new ce([-f,-f],[f,f])}()};function Ee(f,w,B,k){if(b(f)){this._a=f[0],this._b=f[1],this._c=f[2],this._d=f[3];return}this._a=f,this._b=w,this._c=B,this._d=k}Ee.prototype={transform:function(f,w){return this._transform(f.clone(),w)},_transform:function(f,w){return w=w||1,f.x=w*(this._a*f.x+this._b),f.y=w*(this._c*f.y+this._d),f},untransform:function(f,w){return w=w||1,new V((f.x/w-this._b)/this._a,(f.y/w-this._d)/this._c)}};function Ue(f,w,B,k){return new Ee(f,w,B,k)}var ze=s({},we,{code:"EPSG:3857",projection:Ne,transformation:function(){var f=.5/(Math.PI*Ne.R);return Ue(f,.5,-f,.5)}()}),tt=s({},ze,{code:"EPSG:900913"});function Ae(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function Ge(f,w){var B="",k,z,ne,ve,De,$e;for(k=0,ne=f.length;k<ne;k++){for(De=f[k],z=0,ve=De.length;z<ve;z++)$e=De[z],B+=(z?"L":"M")+$e.x+" "+$e.y;B+=w?ht.svg?"z":"x":""}return B||"M0 0"}var At=document.documentElement.style,rt="ActiveXObject"in window,We=rt&&!document.addEventListener,dt="msLaunchUri"in navigator&&!("documentMode"in document),at=Kn("webkit"),gt=Kn("android"),mt=Kn("android 2")||Kn("android 3"),cn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Zt=gt&&Kn("Google")&&cn<537&&!("AudioNode"in window),vt=!!window.opera,Wt=!dt&&Kn("chrome"),Jt=Kn("gecko")&&!at&&!vt&&!rt,xt=!Wt&&Kn("safari"),Gt=Kn("phantom"),St="OTransition"in At,vr=navigator.platform.indexOf("Win")===0,An=rt&&"transition"in At,Yt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!mt,sn="MozPerspective"in At,Gn=!window.L_DISABLE_3D&&(An||Yt||sn)&&!St&&!Gt,Ot=typeof orientation<"u"||Kn("mobile"),rr=Ot&&at,Kt=Ot&&Yt,nn=!window.PointerEvent&&window.MSPointerEvent,Ar=!!(window.PointerEvent||nn),dn="ontouchstart"in window||!!window.TouchEvent,$t=!window.L_NO_TOUCH&&(dn||Ar),zn=Ot&&vt,qt=Ot&&Jt,on=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,On=function(){var f=!1;try{var w=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("testPassiveEventSupport",A,w),window.removeEventListener("testPassiveEventSupport",A,w)}catch{}return f}(),Kr=function(){return!!document.createElement("canvas").getContext}(),Bt=!!(document.createElementNS&&Ae("svg").createSVGRect),Hs=!!Bt&&function(){var f=document.createElement("div");return f.innerHTML="<svg/>",(f.firstChild&&f.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ri=!Bt&&function(){try{var f=document.createElement("div");f.innerHTML='<v:shape adj="1"/>';var w=f.firstChild;return w.style.behavior="url(#default#VML)",w&&typeof w.adj=="object"}catch{return!1}}(),Tr=navigator.platform.indexOf("Mac")===0,ss=navigator.platform.indexOf("Linux")===0;function Kn(f){return navigator.userAgent.toLowerCase().indexOf(f)>=0}var ht={ie:rt,ielt9:We,edge:dt,webkit:at,android:gt,android23:mt,androidStock:Zt,opera:vt,chrome:Wt,gecko:Jt,safari:xt,phantom:Gt,opera12:St,win:vr,ie3d:An,webkit3d:Yt,gecko3d:sn,any3d:Gn,mobile:Ot,mobileWebkit:rr,mobileWebkit3d:Kt,msPointer:nn,pointer:Ar,touch:$t,touchNative:dn,mobileOpera:zn,mobileGecko:qt,retina:on,passiveEvents:On,canvas:Kr,svg:Bt,vml:ri,inlineSvg:Hs,mac:Tr,linux:ss},zs=ht.msPointer?"MSPointerDown":"pointerdown",Su=ht.msPointer?"MSPointerMove":"pointermove",dc=ht.msPointer?"MSPointerUp":"pointerup",oa=ht.msPointer?"MSPointerCancel":"pointercancel",aa={touchstart:zs,touchmove:Su,touchend:dc,touchcancel:oa},la={touchstart:Hf,touchmove:Od,touchend:Od,touchcancel:Od},xi={},Eo=!1;function TA(f,w,B){return w==="touchstart"&&Rd(),la[w]?(B=la[w].bind(this,B),f.addEventListener(aa[w],B,!1),B):(console.warn("wrong event specified:",w),A)}function xl(f,w,B){if(!aa[w]){console.warn("wrong event specified:",w);return}f.removeEventListener(aa[w],B,!1)}function FA(f){xi[f.pointerId]=f}function Pd(f){xi[f.pointerId]&&(xi[f.pointerId]=f)}function LA(f){delete xi[f.pointerId]}function Rd(){Eo||(document.addEventListener(zs,FA,!0),document.addEventListener(Su,Pd,!0),document.addEventListener(dc,LA,!0),document.addEventListener(oa,LA,!0),Eo=!0)}function Od(f,w){if(w.pointerType!==(w.MSPOINTER_TYPE_MOUSE||"mouse")){w.touches=[];for(var B in xi)w.touches.push(xi[B]);w.changedTouches=[w],f(w)}}function Hf(f,w){w.MSPOINTER_TYPE_TOUCH&&w.pointerType===w.MSPOINTER_TYPE_TOUCH&&Ur(w),Od(f,w)}function ng(f){var w={},B,k;for(k in f)B=f[k],w[k]=B&&B.bind?B.bind(f):B;return f=w,w.type="dblclick",w.detail=2,w.isTrusted=!1,w._simulated=!0,w}var rg=200;function ca(f,w){f.addEventListener("dblclick",w);var B=0,k;function z(ne){if(ne.detail!==1){k=ne.detail;return}if(!(ne.pointerType==="mouse"||ne.sourceCapabilities&&!ne.sourceCapabilities.firesTouchEvents)){var ve=Sl(ne);if(!(ve.some(function($e){return $e instanceof HTMLLabelElement&&$e.attributes.for})&&!ve.some(function($e){return $e instanceof HTMLInputElement||$e instanceof HTMLSelectElement}))){var De=Date.now();De-B<=rg?(k++,k===2&&w(ng(ne))):k=1,B=De}}}return f.addEventListener("click",z),{dblclick:w,simDblclick:z}}function zf(f,w){f.removeEventListener("dblclick",w.dblclick),f.removeEventListener("click",w.simDblclick)}var $d=Md(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),hc=Md(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Vf=hc==="webkitTransition"||hc==="OTransition"?hc+"End":"transitionend";function Wf(f){return typeof f=="string"?document.getElementById(f):f}function Bu(f,w){var B=f.style[w]||f.currentStyle&&f.currentStyle[w];if((!B||B==="auto")&&document.defaultView){var k=document.defaultView.getComputedStyle(f,null);B=k?k[w]:null}return B==="auto"?null:B}function pn(f,w,B){var k=document.createElement(f);return k.className=w||"",B&&B.appendChild(k),k}function sr(f){var w=f.parentNode;w&&w.removeChild(f)}function Ud(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function Cr(f){var w=f.parentNode;w&&w.lastChild!==f&&w.appendChild(f)}function fc(f){var w=f.parentNode;w&&w.firstChild!==f&&w.insertBefore(f,w.firstChild)}function ua(f,w){if(f.classList!==void 0)return f.classList.contains(w);var B=qr(f);return B.length>0&&new RegExp("(^|\\s)"+w+"(\\s|$)").test(B)}function an(f,w){if(f.classList!==void 0)for(var B=p(w),k=0,z=B.length;k<z;k++)f.classList.add(B[k]);else if(!ua(f,w)){var ne=qr(f);to(f,(ne?ne+" ":"")+w)}}function Fr(f,w){f.classList!==void 0?f.classList.remove(w):to(f,h((" "+qr(f)+" ").replace(" "+w+" "," ")))}function to(f,w){f.className.baseVal===void 0?f.className=w:f.className.baseVal=w}function qr(f){return f.correspondingElement&&(f=f.correspondingElement),f.className.baseVal===void 0?f.className:f.className.baseVal}function fs(f,w){"opacity"in f.style?f.style.opacity=w:"filter"in f.style&&sg(f,w)}function sg(f,w){var B=!1,k="DXImageTransform.Microsoft.Alpha";try{B=f.filters.item(k)}catch{if(w===1)return}w=Math.round(w*100),B?(B.Enabled=w!==100,B.Opacity=w):f.style.filter+=" progid:"+k+"(opacity="+w+")"}function Md(f){for(var w=document.documentElement.style,B=0;B<f.length;B++)if(f[B]in w)return f[B];return!1}function pc(f,w,B){var k=w||new V(0,0);f.style[$d]=(ht.ie3d?"translate("+k.x+"px,"+k.y+"px)":"translate3d("+k.x+"px,"+k.y+"px,0)")+(B?" scale("+B+")":"")}function er(f,w){f._leaflet_pos=w,ht.any3d?pc(f,w):(f.style.left=w.x+"px",f.style.top=w.y+"px")}function bl(f){return f._leaflet_pos||new V(0,0)}var _u,Cl,mc;if("onselectstart"in document)_u=function(){st(window,"selectstart",Ur)},Cl=function(){ir(window,"selectstart",Ur)};else{var DA=Md(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);_u=function(){if(DA){var f=document.documentElement.style;mc=f[DA],f[DA]="none"}},Cl=function(){DA&&(document.documentElement.style[DA]=mc,mc=void 0)}}function Gf(){st(window,"dragstart",Ur)}function Kf(){ir(window,"dragstart",Ur)}var Nu,Qd;function ko(f){for(;f.tabIndex===-1;)f=f.parentNode;f.style&&(jd(),Nu=f,Qd=f.style.outlineStyle,f.style.outlineStyle="none",st(window,"keydown",jd))}function jd(){Nu&&(Nu.style.outlineStyle=Qd,Nu=void 0,Qd=void 0,ir(window,"keydown",jd))}function Iu(f){do f=f.parentNode;while((!f.offsetWidth||!f.offsetHeight)&&f!==document.body);return f}function PA(f){var w=f.getBoundingClientRect();return{x:w.width/f.offsetWidth||1,y:w.height/f.offsetHeight||1,boundingClientRect:w}}var H1={__proto__:null,TRANSFORM:$d,TRANSITION:hc,TRANSITION_END:Vf,get:Wf,getStyle:Bu,create:pn,remove:sr,empty:Ud,toFront:Cr,toBack:fc,hasClass:ua,addClass:an,removeClass:Fr,setClass:to,getClass:qr,setOpacity:fs,testProp:Md,setTransform:pc,setPosition:er,getPosition:bl,get disableTextSelection(){return _u},get enableTextSelection(){return Cl},disableImageDrag:Gf,enableImageDrag:Kf,preventOutline:ko,restoreOutline:jd,getSizedParentNode:Iu,getScale:PA};function st(f,w,B,k){if(w&&typeof w=="object")for(var z in w)Qa(f,z,w[z],B);else{w=p(w);for(var ne=0,ve=w.length;ne<ve;ne++)Qa(f,w[ne],B,k)}return this}var Aa="_leaflet_events";function ir(f,w,B,k){if(arguments.length===1)ig(f),delete f[Aa];else if(w&&typeof w=="object")for(var z in w)qf(f,z,w[z],B);else if(w=p(w),arguments.length===2)ig(f,function(De){return C(w,De)!==-1});else for(var ne=0,ve=w.length;ne<ve;ne++)qf(f,w[ne],B,k);return this}function ig(f,w){for(var B in f[Aa]){var k=B.split(/\d/)[0];(!w||w(k))&&qf(f,k,null,null,B)}}var Ma={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Qa(f,w,B,k){var z=w+l(B)+(k?"_"+l(k):"");if(f[Aa]&&f[Aa][z])return this;var ne=function(De){return B.call(k||f,De||window.event)},ve=ne;!ht.touchNative&&ht.pointer&&w.indexOf("touch")===0?ne=TA(f,w,ne):ht.touch&&w==="dblclick"?ne=ca(f,ne):"addEventListener"in f?w==="touchstart"||w==="touchmove"||w==="wheel"||w==="mousewheel"?f.addEventListener(Ma[w]||w,ne,ht.passiveEvents?{passive:!1}:!1):w==="mouseenter"||w==="mouseleave"?(ne=function(De){De=De||window.event,zd(f,De)&&ve(De)},f.addEventListener(Ma[w],ne,!1)):f.addEventListener(w,ve,!1):f.attachEvent("on"+w,ne),f[Aa]=f[Aa]||{},f[Aa][z]=ne}function qf(f,w,B,k,z){z=z||w+l(B)+(k?"_"+l(k):"");var ne=f[Aa]&&f[Aa][z];if(!ne)return this;!ht.touchNative&&ht.pointer&&w.indexOf("touch")===0?xl(f,w,ne):ht.touch&&w==="dblclick"?zf(f,ne):"removeEventListener"in f?f.removeEventListener(Ma[w]||w,ne,!1):f.detachEvent("on"+w,ne),f[Aa][z]=null}function gc(f){return f.stopPropagation?f.stopPropagation():f.originalEvent?f.originalEvent._stopped=!0:f.cancelBubble=!0,this}function Eu(f){return Qa(f,"wheel",gc),this}function yc(f){return st(f,"mousedown touchstart dblclick contextmenu",gc),f._leaflet_disable_click=!0,this}function Ur(f){return f.preventDefault?f.preventDefault():f.returnValue=!1,this}function wc(f){return Ur(f),gc(f),this}function Sl(f){if(f.composedPath)return f.composedPath();for(var w=[],B=f.target;B;)w.push(B),B=B.parentNode;return w}function og(f,w){if(!w)return new V(f.clientX,f.clientY);var B=PA(w),k=B.boundingClientRect;return new V((f.clientX-k.left)/B.x-w.clientLeft,(f.clientY-k.top)/B.y-w.clientTop)}var Xf=ht.linux&&ht.chrome?window.devicePixelRatio:ht.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Hd(f){return ht.edge?f.wheelDeltaY/2:f.deltaY&&f.deltaMode===0?-f.deltaY/Xf:f.deltaY&&f.deltaMode===1?-f.deltaY*20:f.deltaY&&f.deltaMode===2?-f.deltaY*60:f.deltaX||f.deltaZ?0:f.wheelDelta?(f.wheelDeltaY||f.wheelDelta)/2:f.detail&&Math.abs(f.detail)<32765?-f.detail*20:f.detail?f.detail/-32765*60:0}function zd(f,w){var B=w.relatedTarget;if(!B)return!0;try{for(;B&&B!==f;)B=B.parentNode}catch{return!1}return B!==f}var vc={__proto__:null,on:st,off:ir,stopPropagation:gc,disableScrollPropagation:Eu,disableClickPropagation:yc,preventDefault:Ur,stop:wc,getPropagationPath:Sl,getMousePosition:og,getWheelDelta:Hd,isExternalTarget:zd,addListener:st,removeListener:ir},Vd=oe.extend({run:function(f,w,B,k){this.stop(),this._el=f,this._inProgress=!0,this._duration=B||.25,this._easeOutPower=1/Math.max(k||.5,.2),this._startPos=bl(f),this._offset=w.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=R(this._animate,this),this._step()},_step:function(f){var w=+new Date-this._startTime,B=this._duration*1e3;w<B?this._runFrame(this._easeOut(w/B),f):(this._runFrame(1),this._complete())},_runFrame:function(f,w){var B=this._startPos.add(this._offset.multiplyBy(f));w&&B._round(),er(this._el,B),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(f){return 1-Math.pow(1-f,this._easeOutPower)}}),vn=oe.extend({options:{crs:ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,w){w=m(this,w),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(f),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),w.maxBounds&&this.setMaxBounds(w.maxBounds),w.zoom!==void 0&&(this._zoom=this._limitZoom(w.zoom)),w.center&&w.zoom!==void 0&&this.setView(ue(w.center),w.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=hc&&ht.any3d&&!ht.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),st(this._proxy,Vf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(f,w,B){if(w=w===void 0?this._zoom:this._limitZoom(w),f=this._limitCenter(ue(f),w,this.options.maxBounds),B=B||{},this._stop(),this._loaded&&!B.reset&&B!==!0){B.animate!==void 0&&(B.zoom=s({animate:B.animate},B.zoom),B.pan=s({animate:B.animate,duration:B.duration},B.pan));var k=this._zoom!==w?this._tryAnimatedZoom&&this._tryAnimatedZoom(f,w,B.zoom):this._tryAnimatedPan(f,B.pan);if(k)return clearTimeout(this._sizeTimer),this}return this._resetView(f,w,B.pan&&B.pan.noMoveStart),this},setZoom:function(f,w){return this._loaded?this.setView(this.getCenter(),f,{zoom:w}):(this._zoom=f,this)},zoomIn:function(f,w){return f=f||(ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+f,w)},zoomOut:function(f,w){return f=f||(ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-f,w)},setZoomAround:function(f,w,B){var k=this.getZoomScale(w),z=this.getSize().divideBy(2),ne=f instanceof V?f:this.latLngToContainerPoint(f),ve=ne.subtract(z).multiplyBy(1-1/k),De=this.containerPointToLatLng(z.add(ve));return this.setView(De,w,{zoom:B})},_getBoundsCenterZoom:function(f,w){w=w||{},f=f.getBounds?f.getBounds():X(f);var B=le(w.paddingTopLeft||w.padding||[0,0]),k=le(w.paddingBottomRight||w.padding||[0,0]),z=this.getBoundsZoom(f,!1,B.add(k));if(z=typeof w.maxZoom=="number"?Math.min(w.maxZoom,z):z,z===1/0)return{center:f.getCenter(),zoom:z};var ne=k.subtract(B).divideBy(2),ve=this.project(f.getSouthWest(),z),De=this.project(f.getNorthEast(),z),$e=this.unproject(ve.add(De).divideBy(2).add(ne),z);return{center:$e,zoom:z}},fitBounds:function(f,w){if(f=X(f),!f.isValid())throw new Error("Bounds are not valid.");var B=this._getBoundsCenterZoom(f,w);return this.setView(B.center,B.zoom,w)},fitWorld:function(f){return this.fitBounds([[-90,-180],[90,180]],f)},panTo:function(f,w){return this.setView(f,this._zoom,{pan:w})},panBy:function(f,w){if(f=le(f).round(),w=w||{},!f.x&&!f.y)return this.fire("moveend");if(w.animate!==!0&&!this.getSize().contains(f))return this._resetView(this.unproject(this.project(this.getCenter()).add(f)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Vd,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),w.noMoveStart||this.fire("movestart"),w.animate!==!1){an(this._mapPane,"leaflet-pan-anim");var B=this._getMapPanePos().subtract(f).round();this._panAnim.run(this._mapPane,B,w.duration||.25,w.easeLinearity)}else this._rawPanBy(f),this.fire("move").fire("moveend");return this},flyTo:function(f,w,B){if(B=B||{},B.animate===!1||!ht.any3d)return this.setView(f,w,B);this._stop();var k=this.project(this.getCenter()),z=this.project(f),ne=this.getSize(),ve=this._zoom;f=ue(f),w=w===void 0?ve:w;var De=Math.max(ne.x,ne.y),$e=De*this.getZoomScale(ve,w),Ye=z.distanceTo(k)||1,ft=1.42,Vt=ft*ft;function In(dr){var $i=dr?-1:1,Sk=dr?$e:De,Bk=$e*$e-De*De+$i*Vt*Vt*Ye*Ye,Y2=2*Sk*Vt*Ye,pg=Bk/Y2,Y1=Math.sqrt(pg*pg+1)-pg,Z2=Y1<1e-9?-18:Math.log(Y1);return Z2}function Oi(dr){return(Math.exp(dr)-Math.exp(-dr))/2}function ks(dr){return(Math.exp(dr)+Math.exp(-dr))/2}function ga(dr){return Oi(dr)/ks(dr)}var oo=In(0);function Zd(dr){return De*(ks(oo)/ks(oo+ft*dr))}function bk(dr){return De*(ks(oo)*ga(oo+ft*dr)-Oi(oo))/Vt}function Pu(dr){return 1-Math.pow(1-dr,1.5)}var Va=Date.now(),Dl=(In(1)-oo)/ft,Ck=B.duration?1e3*B.duration:1e3*Dl*.8;function X1(){var dr=(Date.now()-Va)/Ck,$i=Pu(dr)*Dl;dr<=1?(this._flyToFrame=R(X1,this),this._move(this.unproject(k.add(z.subtract(k).multiplyBy(bk($i)/Ye)),ve),this.getScaleZoom(De/Zd($i),ve),{flyTo:!0})):this._move(f,w)._moveEnd(!0)}return this._moveStart(!0,B.noMoveStart),X1.call(this),this},flyToBounds:function(f,w){var B=this._getBoundsCenterZoom(f,w);return this.flyTo(B.center,B.zoom,w)},setMaxBounds:function(f){return f=X(f),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),f.isValid()?(this.options.maxBounds=f,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(f){var w=this.options.minZoom;return this.options.minZoom=f,this._loaded&&w!==f&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(f):this},setMaxZoom:function(f){var w=this.options.maxZoom;return this.options.maxZoom=f,this._loaded&&w!==f&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(f):this},panInsideBounds:function(f,w){this._enforcingBounds=!0;var B=this.getCenter(),k=this._limitCenter(B,this._zoom,X(f));return B.equals(k)||this.panTo(k,w),this._enforcingBounds=!1,this},panInside:function(f,w){w=w||{};var B=le(w.paddingTopLeft||w.padding||[0,0]),k=le(w.paddingBottomRight||w.padding||[0,0]),z=this.project(this.getCenter()),ne=this.project(f),ve=this.getPixelBounds(),De=M([ve.min.add(B),ve.max.subtract(k)]),$e=De.getSize();if(!De.contains(ne)){this._enforcingBounds=!0;var Ye=ne.subtract(De.getCenter()),ft=De.extend(ne).getSize().subtract($e);z.x+=Ye.x<0?-ft.x:ft.x,z.y+=Ye.y<0?-ft.y:ft.y,this.panTo(this.unproject(z),w),this._enforcingBounds=!1}return this},invalidateSize:function(f){if(!this._loaded)return this;f=s({animate:!1,pan:!0},f===!0?{animate:!0}:f);var w=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var B=this.getSize(),k=w.divideBy(2).round(),z=B.divideBy(2).round(),ne=k.subtract(z);return!ne.x&&!ne.y?this:(f.animate&&f.pan?this.panBy(ne):(f.pan&&this._rawPanBy(ne),this.fire("move"),f.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:w,newSize:B}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(f){if(f=this._locateOptions=s({timeout:1e4,watch:!1},f),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var w=o(this._handleGeolocationResponse,this),B=o(this._handleGeolocationError,this);return f.watch?this._locationWatchId=navigator.geolocation.watchPosition(w,B,f):navigator.geolocation.getCurrentPosition(w,B,f),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(f){if(this._container._leaflet_id){var w=f.code,B=f.message||(w===1?"permission denied":w===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:w,message:"Geolocation error: "+B+"."})}},_handleGeolocationResponse:function(f){if(this._container._leaflet_id){var w=f.coords.latitude,B=f.coords.longitude,k=new re(w,B),z=k.toBounds(f.coords.accuracy*2),ne=this._locateOptions;if(ne.setView){var ve=this.getBoundsZoom(z);this.setView(k,ne.maxZoom?Math.min(ve,ne.maxZoom):ve)}var De={latlng:k,bounds:z,timestamp:f.timestamp};for(var $e in f.coords)typeof f.coords[$e]=="number"&&(De[$e]=f.coords[$e]);this.fire("locationfound",De)}},addHandler:function(f,w){if(!w)return this;var B=this[f]=new w(this);return this._handlers.push(B),this.options[f]&&B.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),sr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var f;for(f in this._layers)this._layers[f].remove();for(f in this._panes)sr(this._panes[f]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(f,w){var B="leaflet-pane"+(f?" leaflet-"+f.replace("Pane","")+"-pane":""),k=pn("div",B,w||this._mapPane);return f&&(this._panes[f]=k),k},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var f=this.getPixelBounds(),w=this.unproject(f.getBottomLeft()),B=this.unproject(f.getTopRight());return new G(w,B)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(f,w,B){f=X(f),B=le(B||[0,0]);var k=this.getZoom()||0,z=this.getMinZoom(),ne=this.getMaxZoom(),ve=f.getNorthWest(),De=f.getSouthEast(),$e=this.getSize().subtract(B),Ye=M(this.project(De,k),this.project(ve,k)).getSize(),ft=ht.any3d?this.options.zoomSnap:1,Vt=$e.x/Ye.x,In=$e.y/Ye.y,Oi=w?Math.max(Vt,In):Math.min(Vt,In);return k=this.getScaleZoom(Oi,k),ft&&(k=Math.round(k/(ft/100))*(ft/100),k=w?Math.ceil(k/ft)*ft:Math.floor(k/ft)*ft),Math.max(z,Math.min(ne,k))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(f,w){var B=this._getTopLeftPoint(f,w);return new ce(B,B.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(f){return this.options.crs.getProjectedBounds(f===void 0?this.getZoom():f)},getPane:function(f){return typeof f=="string"?this._panes[f]:f},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,w){var B=this.options.crs;return w=w===void 0?this._zoom:w,B.scale(f)/B.scale(w)},getScaleZoom:function(f,w){var B=this.options.crs;w=w===void 0?this._zoom:w;var k=B.zoom(f*B.scale(w));return isNaN(k)?1/0:k},project:function(f,w){return w=w===void 0?this._zoom:w,this.options.crs.latLngToPoint(ue(f),w)},unproject:function(f,w){return w=w===void 0?this._zoom:w,this.options.crs.pointToLatLng(le(f),w)},layerPointToLatLng:function(f){var w=le(f).add(this.getPixelOrigin());return this.unproject(w)},latLngToLayerPoint:function(f){var w=this.project(ue(f))._round();return w._subtract(this.getPixelOrigin())},wrapLatLng:function(f){return this.options.crs.wrapLatLng(ue(f))},wrapLatLngBounds:function(f){return this.options.crs.wrapLatLngBounds(X(f))},distance:function(f,w){return this.options.crs.distance(ue(f),ue(w))},containerPointToLayerPoint:function(f){return le(f).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(f){return le(f).add(this._getMapPanePos())},containerPointToLatLng:function(f){var w=this.containerPointToLayerPoint(le(f));return this.layerPointToLatLng(w)},latLngToContainerPoint:function(f){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ue(f)))},mouseEventToContainerPoint:function(f){return og(f,this._container)},mouseEventToLayerPoint:function(f){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(f))},mouseEventToLatLng:function(f){return this.layerPointToLatLng(this.mouseEventToLayerPoint(f))},_initContainer:function(f){var w=this._container=Wf(f);if(w){if(w._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");st(w,"scroll",this._onScroll,this),this._containerId=l(w)},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&ht.any3d,an(f,"leaflet-container"+(ht.touch?" leaflet-touch":"")+(ht.retina?" leaflet-retina":"")+(ht.ielt9?" leaflet-oldie":"")+(ht.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var w=Bu(f,"position");w!=="absolute"&&w!=="relative"&&w!=="fixed"&&w!=="sticky"&&(f.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var f=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),er(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(an(f.markerPane,"leaflet-zoom-hide"),an(f.shadowPane,"leaflet-zoom-hide"))},_resetView:function(f,w,B){er(this._mapPane,new V(0,0));var k=!this._loaded;this._loaded=!0,w=this._limitZoom(w),this.fire("viewprereset");var z=this._zoom!==w;this._moveStart(z,B)._move(f,w)._moveEnd(z),this.fire("viewreset"),k&&this.fire("load")},_moveStart:function(f,w){return f&&this.fire("zoomstart"),w||this.fire("movestart"),this},_move:function(f,w,B,k){w===void 0&&(w=this._zoom);var z=this._zoom!==w;return this._zoom=w,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),k?B&&B.pinch&&this.fire("zoom",B):((z||B&&B.pinch)&&this.fire("zoom",B),this.fire("move",B)),this},_moveEnd:function(f){return f&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(f){er(this._mapPane,this._getMapPanePos().subtract(f))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(f){this._targets={},this._targets[l(this._container)]=this;var w=f?ir:st;w(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&w(window,"resize",this._onResize,this),ht.any3d&&this.options.transform3DLimit&&(f?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=R(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var f=this._getMapPanePos();Math.max(Math.abs(f.x),Math.abs(f.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(f,w){for(var B=[],k,z=w==="mouseout"||w==="mouseover",ne=f.target||f.srcElement,ve=!1;ne;){if(k=this._targets[l(ne)],k&&(w==="click"||w==="preclick")&&this._draggableMoved(k)){ve=!0;break}if(k&&k.listens(w,!0)&&(z&&!zd(ne,f)||(B.push(k),z))||ne===this._container)break;ne=ne.parentNode}return!B.length&&!ve&&!z&&this.listens(w,!0)&&(B=[this]),B},_isClickDisabled:function(f){for(;f&&f!==this._container;){if(f._leaflet_disable_click)return!0;f=f.parentNode}},_handleDOMEvent:function(f){var w=f.target||f.srcElement;if(!(!this._loaded||w._leaflet_disable_events||f.type==="click"&&this._isClickDisabled(w))){var B=f.type;B==="mousedown"&&ko(w),this._fireDOMEvent(f,B)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(f,w,B){if(f.type==="click"){var k=s({},f);k.type="preclick",this._fireDOMEvent(k,k.type,B)}var z=this._findEventTargets(f,w);if(B){for(var ne=[],ve=0;ve<B.length;ve++)B[ve].listens(w,!0)&&ne.push(B[ve]);z=ne.concat(z)}if(z.length){w==="contextmenu"&&Ur(f);var De=z[0],$e={originalEvent:f};if(f.type!=="keypress"&&f.type!=="keydown"&&f.type!=="keyup"){var Ye=De.getLatLng&&(!De._radius||De._radius<=10);$e.containerPoint=Ye?this.latLngToContainerPoint(De.getLatLng()):this.mouseEventToContainerPoint(f),$e.layerPoint=this.containerPointToLayerPoint($e.containerPoint),$e.latlng=Ye?De.getLatLng():this.layerPointToLatLng($e.layerPoint)}for(ve=0;ve<z.length;ve++)if(z[ve].fire(w,$e,!0),$e.originalEvent._stopped||z[ve].options.bubblingMouseEvents===!1&&C(this._mouseEvents,w)!==-1)return}},_draggableMoved:function(f){return f=f.dragging&&f.dragging.enabled()?f:this,f.dragging&&f.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var f=0,w=this._handlers.length;f<w;f++)this._handlers[f].disable()},whenReady:function(f,w){return this._loaded?f.call(w||this,{target:this}):this.on("load",f,w),this},_getMapPanePos:function(){return bl(this._mapPane)||new V(0,0)},_moved:function(){var f=this._getMapPanePos();return f&&!f.equals([0,0])},_getTopLeftPoint:function(f,w){var B=f&&w!==void 0?this._getNewPixelOrigin(f,w):this.getPixelOrigin();return B.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,w){var B=this.getSize()._divideBy(2);return this.project(f,w)._subtract(B)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(f,w,B){var k=this._getNewPixelOrigin(B,w);return this.project(f,w)._subtract(k)},_latLngBoundsToNewLayerBounds:function(f,w,B){var k=this._getNewPixelOrigin(B,w);return M([this.project(f.getSouthWest(),w)._subtract(k),this.project(f.getNorthWest(),w)._subtract(k),this.project(f.getSouthEast(),w)._subtract(k),this.project(f.getNorthEast(),w)._subtract(k)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(f){return this.latLngToLayerPoint(f).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,w,B){if(!B)return f;var k=this.project(f,w),z=this.getSize().divideBy(2),ne=new ce(k.subtract(z),k.add(z)),ve=this._getBoundsOffset(ne,B,w);return Math.abs(ve.x)<=1&&Math.abs(ve.y)<=1?f:this.unproject(k.add(ve),w)},_limitOffset:function(f,w){if(!w)return f;var B=this.getPixelBounds(),k=new ce(B.min.add(f),B.max.add(f));return f.add(this._getBoundsOffset(k,w))},_getBoundsOffset:function(f,w,B){var k=M(this.project(w.getNorthEast(),B),this.project(w.getSouthWest(),B)),z=k.min.subtract(f.min),ne=k.max.subtract(f.max),ve=this._rebound(z.x,-ne.x),De=this._rebound(z.y,-ne.y);return new V(ve,De)},_rebound:function(f,w){return f+w>0?Math.round(f-w)/2:Math.max(0,Math.ceil(f))-Math.max(0,Math.floor(w))},_limitZoom:function(f){var w=this.getMinZoom(),B=this.getMaxZoom(),k=ht.any3d?this.options.zoomSnap:1;return k&&(f=Math.round(f/k)*k),Math.max(w,Math.min(B,f))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Fr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(f,w){var B=this._getCenterOffset(f)._trunc();return(w&&w.animate)!==!0&&!this.getSize().contains(B)?!1:(this.panBy(B,w),!0)},_createAnimProxy:function(){var f=this._proxy=pn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(f),this.on("zoomanim",function(w){var B=$d,k=this._proxy.style[B];pc(this._proxy,this.project(w.center,w.zoom),this.getZoomScale(w.zoom,1)),k===this._proxy.style[B]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){sr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var f=this.getCenter(),w=this.getZoom();pc(this._proxy,this.project(f,w),this.getZoomScale(w,1))},_catchTransitionEnd:function(f){this._animatingZoom&&f.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,w,B){if(this._animatingZoom)return!0;if(B=B||{},!this._zoomAnimated||B.animate===!1||this._nothingToAnimate()||Math.abs(w-this._zoom)>this.options.zoomAnimationThreshold)return!1;var k=this.getZoomScale(w),z=this._getCenterOffset(f)._divideBy(1-1/k);return B.animate!==!0&&!this.getSize().contains(z)?!1:(R(function(){this._moveStart(!0,B.noMoveStart||!1)._animateZoom(f,w,!0)},this),!0)},_animateZoom:function(f,w,B,k){this._mapPane&&(B&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=w,an(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:f,zoom:w,noUpdate:k}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Fr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Yf(f,w){return new vn(f,w)}var si=$.extend({options:{position:"topright"},initialize:function(f){m(this,f)},getPosition:function(){return this.options.position},setPosition:function(f){var w=this._map;return w&&w.removeControl(this),this.options.position=f,w&&w.addControl(this),this},getContainer:function(){return this._container},addTo:function(f){this.remove(),this._map=f;var w=this._container=this.onAdd(f),B=this.getPosition(),k=f._controlCorners[B];return an(w,"leaflet-control"),B.indexOf("bottom")!==-1?k.insertBefore(w,k.firstChild):k.appendChild(w),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(sr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(f){this._map&&f&&f.screenX>0&&f.screenY>0&&this._map.getContainer().focus()}}),xc=function(f){return new si(f)};vn.include({addControl:function(f){return f.addTo(this),this},removeControl:function(f){return f.remove(),this},_initControlPos:function(){var f=this._controlCorners={},w="leaflet-",B=this._controlContainer=pn("div",w+"control-container",this._container);function k(z,ne){var ve=w+z+" "+w+ne;f[z+ne]=pn("div",ve,B)}k("top","left"),k("top","right"),k("bottom","left"),k("bottom","right")},_clearControlPos:function(){for(var f in this._controlCorners)sr(this._controlCorners[f]);sr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zf=si.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(f,w,B,k){return B<k?-1:k<B?1:0}},initialize:function(f,w,B){m(this,B),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var k in f)this._addLayer(f[k],k);for(k in w)this._addLayer(w[k],k,!0)},onAdd:function(f){this._initLayout(),this._update(),this._map=f,f.on("zoomend",this._checkDisabledLayers,this);for(var w=0;w<this._layers.length;w++)this._layers[w].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(f){return si.prototype.addTo.call(this,f),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(f,w){return this._addLayer(f,w),this._map?this._update():this},addOverlay:function(f,w){return this._addLayer(f,w,!0),this._map?this._update():this},removeLayer:function(f){f.off("add remove",this._onLayerChange,this);var w=this._getLayer(l(f));return w&&this._layers.splice(this._layers.indexOf(w),1),this._map?this._update():this},expand:function(){an(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var f=this._map.getSize().y-(this._container.offsetTop+50);return f<this._section.clientHeight?(an(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=f+"px"):Fr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Fr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var f="leaflet-control-layers",w=this._container=pn("div",f),B=this.options.collapsed;w.setAttribute("aria-haspopup",!0),yc(w),Eu(w);var k=this._section=pn("section",f+"-list");B&&(this._map.on("click",this.collapse,this),st(w,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var z=this._layersLink=pn("a",f+"-toggle",w);z.href="#",z.title="Layers",z.setAttribute("role","button"),st(z,{keydown:function(ne){ne.keyCode===13&&this._expandSafely()},click:function(ne){Ur(ne),this._expandSafely()}},this),B||this.expand(),this._baseLayersList=pn("div",f+"-base",k),this._separator=pn("div",f+"-separator",k),this._overlaysList=pn("div",f+"-overlays",k),w.appendChild(k)},_getLayer:function(f){for(var w=0;w<this._layers.length;w++)if(this._layers[w]&&l(this._layers[w].layer)===f)return this._layers[w]},_addLayer:function(f,w,B){this._map&&f.on("add remove",this._onLayerChange,this),this._layers.push({layer:f,name:w,overlay:B}),this.options.sortLayers&&this._layers.sort(o(function(k,z){return this.options.sortFunction(k.layer,z.layer,k.name,z.name)},this)),this.options.autoZIndex&&f.setZIndex&&(this._lastZIndex++,f.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ud(this._baseLayersList),Ud(this._overlaysList),this._layerControlInputs=[];var f,w,B,k,z=0;for(B=0;B<this._layers.length;B++)k=this._layers[B],this._addItem(k),w=w||k.overlay,f=f||!k.overlay,z+=k.overlay?0:1;return this.options.hideSingleBase&&(f=f&&z>1,this._baseLayersList.style.display=f?"":"none"),this._separator.style.display=w&&f?"":"none",this},_onLayerChange:function(f){this._handlingClick||this._update();var w=this._getLayer(l(f.target)),B=w.overlay?f.type==="add"?"overlayadd":"overlayremove":f.type==="add"?"baselayerchange":null;B&&this._map.fire(B,w)},_createRadioElement:function(f,w){var B='<input type="radio" class="leaflet-control-layers-selector" name="'+f+'"'+(w?' checked="checked"':"")+"/>",k=document.createElement("div");return k.innerHTML=B,k.firstChild},_addItem:function(f){var w=document.createElement("label"),B=this._map.hasLayer(f.layer),k;f.overlay?(k=document.createElement("input"),k.type="checkbox",k.className="leaflet-control-layers-selector",k.defaultChecked=B):k=this._createRadioElement("leaflet-base-layers_"+l(this),B),this._layerControlInputs.push(k),k.layerId=l(f.layer),st(k,"click",this._onInputClick,this);var z=document.createElement("span");z.innerHTML=" "+f.name;var ne=document.createElement("span");w.appendChild(ne),ne.appendChild(k),ne.appendChild(z);var ve=f.overlay?this._overlaysList:this._baseLayersList;return ve.appendChild(w),this._checkDisabledLayers(),w},_onInputClick:function(){if(!this._preventClick){var f=this._layerControlInputs,w,B,k=[],z=[];this._handlingClick=!0;for(var ne=f.length-1;ne>=0;ne--)w=f[ne],B=this._getLayer(w.layerId).layer,w.checked?k.push(B):w.checked||z.push(B);for(ne=0;ne<z.length;ne++)this._map.hasLayer(z[ne])&&this._map.removeLayer(z[ne]);for(ne=0;ne<k.length;ne++)this._map.hasLayer(k[ne])||this._map.addLayer(k[ne]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var f=this._layerControlInputs,w,B,k=this._map.getZoom(),z=f.length-1;z>=0;z--)w=f[z],B=this._getLayer(w.layerId).layer,w.disabled=B.options.minZoom!==void 0&&k<B.options.minZoom||B.options.maxZoom!==void 0&&k>B.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var f=this._section;this._preventClick=!0,st(f,"click",Ur),this.expand();var w=this;setTimeout(function(){ir(f,"click",Ur),w._preventClick=!1})}}),ag=function(f,w,B){return new Zf(f,w,B)},ja=si.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(f){var w="leaflet-control-zoom",B=pn("div",w+" leaflet-bar"),k=this.options;return this._zoomInButton=this._createButton(k.zoomInText,k.zoomInTitle,w+"-in",B,this._zoomIn),this._zoomOutButton=this._createButton(k.zoomOutText,k.zoomOutTitle,w+"-out",B,this._zoomOut),this._updateDisabled(),f.on("zoomend zoomlevelschange",this._updateDisabled,this),B},onRemove:function(f){f.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(f){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(f.shiftKey?3:1))},_zoomOut:function(f){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(f.shiftKey?3:1))},_createButton:function(f,w,B,k,z){var ne=pn("a",B,k);return ne.innerHTML=f,ne.href="#",ne.title=w,ne.setAttribute("role","button"),ne.setAttribute("aria-label",w),yc(ne),st(ne,"click",wc),st(ne,"click",z,this),st(ne,"click",this._refocusOnMap,this),ne},_updateDisabled:function(){var f=this._map,w="leaflet-disabled";Fr(this._zoomInButton,w),Fr(this._zoomOutButton,w),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||f._zoom===f.getMinZoom())&&(an(this._zoomOutButton,w),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||f._zoom===f.getMaxZoom())&&(an(this._zoomInButton,w),this._zoomInButton.setAttribute("aria-disabled","true"))}});vn.mergeOptions({zoomControl:!0}),vn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ja,this.addControl(this.zoomControl))});var bc=function(f){return new ja(f)},Jf=si.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(f){var w="leaflet-control-scale",B=pn("div",w),k=this.options;return this._addScales(k,w+"-line",B),f.on(k.updateWhenIdle?"moveend":"move",this._update,this),f.whenReady(this._update,this),B},onRemove:function(f){f.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(f,w,B){f.metric&&(this._mScale=pn("div",w,B)),f.imperial&&(this._iScale=pn("div",w,B))},_update:function(){var f=this._map,w=f.getSize().y/2,B=f.distance(f.containerPointToLatLng([0,w]),f.containerPointToLatLng([this.options.maxWidth,w]));this._updateScales(B)},_updateScales:function(f){this.options.metric&&f&&this._updateMetric(f),this.options.imperial&&f&&this._updateImperial(f)},_updateMetric:function(f){var w=this._getRoundNum(f),B=w<1e3?w+" m":w/1e3+" km";this._updateScale(this._mScale,B,w/f)},_updateImperial:function(f){var w=f*3.2808399,B,k,z;w>5280?(B=w/5280,k=this._getRoundNum(B),this._updateScale(this._iScale,k+" mi",k/B)):(z=this._getRoundNum(w),this._updateScale(this._iScale,z+" ft",z/w))},_updateScale:function(f,w,B){f.style.width=Math.round(this.options.maxWidth*B)+"px",f.innerHTML=w},_getRoundNum:function(f){var w=Math.pow(10,(Math.floor(f)+"").length-1),B=f/w;return B=B>=10?10:B>=5?5:B>=3?3:B>=2?2:1,w*B}}),RA=function(f){return new Jf(f)},lg='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',E=si.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ht.inlineSvg?lg+" ":"")+"Leaflet</a>"},initialize:function(f){m(this,f),this._attributions={}},onAdd:function(f){f.attributionControl=this,this._container=pn("div","leaflet-control-attribution"),yc(this._container);for(var w in f._layers)f._layers[w].getAttribution&&this.addAttribution(f._layers[w].getAttribution());return this._update(),f.on("layeradd",this._addAttribution,this),this._container},onRemove:function(f){f.off("layeradd",this._addAttribution,this)},_addAttribution:function(f){f.layer.getAttribution&&(this.addAttribution(f.layer.getAttribution()),f.layer.once("remove",function(){this.removeAttribution(f.layer.getAttribution())},this))},setPrefix:function(f){return this.options.prefix=f,this._update(),this},addAttribution:function(f){return f?(this._attributions[f]||(this._attributions[f]=0),this._attributions[f]++,this._update(),this):this},removeAttribution:function(f){return f?(this._attributions[f]&&(this._attributions[f]--,this._update()),this):this},_update:function(){if(this._map){var f=[];for(var w in this._attributions)this._attributions[w]&&f.push(w);var B=[];this.options.prefix&&B.push(this.options.prefix),f.length&&B.push(f.join(", ")),this._container.innerHTML=B.join(' <span aria-hidden="true">|</span> ')}}});vn.mergeOptions({attributionControl:!0}),vn.addInitHook(function(){this.options.attributionControl&&new E().addTo(this)});var K=function(f){return new E(f)};si.Layers=Zf,si.Zoom=ja,si.Scale=Jf,si.Attribution=E,xc.layers=ag,xc.zoom=bc,xc.scale=RA,xc.attribution=K;var fe=$.extend({initialize:function(f){this._map=f},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});fe.addTo=function(f,w){return f.addHandler(w,this),this};var be={Events:J},ke=ht.touch?"touchstart mousedown":"mousedown",Qe=oe.extend({options:{clickTolerance:3},initialize:function(f,w,B,k){m(this,k),this._element=f,this._dragStartTarget=w||f,this._preventOutline=B},enable:function(){this._enabled||(st(this._dragStartTarget,ke,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qe._dragging===this&&this.finishDrag(!0),ir(this._dragStartTarget,ke,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(f){if(this._enabled&&(this._moved=!1,!ua(this._element,"leaflet-zoom-anim"))){if(f.touches&&f.touches.length!==1){Qe._dragging===this&&this.finishDrag();return}if(!(Qe._dragging||f.shiftKey||f.which!==1&&f.button!==1&&!f.touches)&&(Qe._dragging=this,this._preventOutline&&ko(this._element),Gf(),_u(),!this._moving)){this.fire("down");var w=f.touches?f.touches[0]:f,B=Iu(this._element);this._startPoint=new V(w.clientX,w.clientY),this._startPos=bl(this._element),this._parentScale=PA(B);var k=f.type==="mousedown";st(document,k?"mousemove":"touchmove",this._onMove,this),st(document,k?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(f){if(this._enabled){if(f.touches&&f.touches.length>1){this._moved=!0;return}var w=f.touches&&f.touches.length===1?f.touches[0]:f,B=new V(w.clientX,w.clientY)._subtract(this._startPoint);!B.x&&!B.y||Math.abs(B.x)+Math.abs(B.y)<this.options.clickTolerance||(B.x/=this._parentScale.x,B.y/=this._parentScale.y,Ur(f),this._moved||(this.fire("dragstart"),this._moved=!0,an(document.body,"leaflet-dragging"),this._lastTarget=f.target||f.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),an(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(B),this._moving=!0,this._lastEvent=f,this._updatePosition())}},_updatePosition:function(){var f={originalEvent:this._lastEvent};this.fire("predrag",f),er(this._element,this._newPos),this.fire("drag",f)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(f){Fr(document.body,"leaflet-dragging"),this._lastTarget&&(Fr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ir(document,"mousemove touchmove",this._onMove,this),ir(document,"mouseup touchend touchcancel",this._onUp,this),Kf(),Cl();var w=this._moved&&this._moving;this._moving=!1,Qe._dragging=!1,w&&this.fire("dragend",{noInertia:f,distance:this._newPos.distanceTo(this._startPos)})}});function Xe(f,w,B){var k,z=[1,4,2,8],ne,ve,De,$e,Ye,ft,Vt,In;for(ne=0,ft=f.length;ne<ft;ne++)f[ne]._code=ii(f[ne],w);for(De=0;De<4;De++){for(Vt=z[De],k=[],ne=0,ft=f.length,ve=ft-1;ne<ft;ve=ne++)$e=f[ne],Ye=f[ve],$e._code&Vt?Ye._code&Vt||(In=da(Ye,$e,Vt,w,B),In._code=ii(In,w),k.push(In)):(Ye._code&Vt&&(In=da(Ye,$e,Vt,w,B),In._code=ii(In,w),k.push(In)),k.push($e));f=k}return f}function _t(f,w){var B,k,z,ne,ve,De,$e,Ye,ft;if(!f||f.length===0)throw new Error("latlngs not passed");oi(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Vt=ue([0,0]),In=X(f),Oi=In.getNorthWest().distanceTo(In.getSouthWest())*In.getNorthEast().distanceTo(In.getNorthWest());Oi<1700&&(Vt=Dt(f));var ks=f.length,ga=[];for(B=0;B<ks;B++){var oo=ue(f[B]);ga.push(w.project(ue([oo.lat-Vt.lat,oo.lng-Vt.lng])))}for(De=$e=Ye=0,B=0,k=ks-1;B<ks;k=B++)z=ga[B],ne=ga[k],ve=z.y*ne.x-ne.y*z.x,$e+=(z.x+ne.x)*ve,Ye+=(z.y+ne.y)*ve,De+=ve*3;De===0?ft=ga[0]:ft=[$e/De,Ye/De];var Zd=w.unproject(le(ft));return ue([Zd.lat+Vt.lat,Zd.lng+Vt.lng])}function Dt(f){for(var w=0,B=0,k=0,z=0;z<f.length;z++){var ne=ue(f[z]);w+=ne.lat,B+=ne.lng,k++}return ue([w/k,B/k])}var rn={__proto__:null,clipPolygon:Xe,polygonCenter:_t,centroid:Dt};function hn(f,w){if(!w||!f.length)return f.slice();var B=w*w;return f=Is(f,B),f=ps(f,B),f}function $n(f,w,B){return Math.sqrt(Sc(f,w,B,!0))}function Mr(f,w,B){return Sc(f,w,B)}function ps(f,w){var B=f.length,k=typeof Uint8Array<"u"?Uint8Array:Array,z=new k(B);z[0]=z[B-1]=1,or(f,z,w,0,B-1);var ne,ve=[];for(ne=0;ne<B;ne++)z[ne]&&ve.push(f[ne]);return ve}function or(f,w,B,k,z){var ne=0,ve,De,$e;for(De=k+1;De<=z-1;De++)$e=Sc(f[De],f[k],f[z],!0),$e>ne&&(ve=De,ne=$e);ne>B&&(w[ve]=1,or(f,w,B,k,ve),or(f,w,B,ve,z))}function Is(f,w){for(var B=[f[0]],k=1,z=0,ne=f.length;k<ne;k++)Cc(f[k],f[z])>w&&(B.push(f[k]),z=k);return z<ne-1&&B.push(f[ne-1]),B}var is;function Vs(f,w,B,k,z){var ne=k?is:ii(f,B),ve=ii(w,B),De,$e,Ye;for(is=ve;;){if(!(ne|ve))return[f,w];if(ne&ve)return!1;De=ne||ve,$e=da(f,w,De,B,z),Ye=ii($e,B),De===ne?(f=$e,ne=Ye):(w=$e,ve=Ye)}}function da(f,w,B,k,z){var ne=w.x-f.x,ve=w.y-f.y,De=k.min,$e=k.max,Ye,ft;return B&8?(Ye=f.x+ne*($e.y-f.y)/ve,ft=$e.y):B&4?(Ye=f.x+ne*(De.y-f.y)/ve,ft=De.y):B&2?(Ye=$e.x,ft=f.y+ve*($e.x-f.x)/ne):B&1&&(Ye=De.x,ft=f.y+ve*(De.x-f.x)/ne),new V(Ye,ft,z)}function ii(f,w){var B=0;return f.x<w.min.x?B|=1:f.x>w.max.x&&(B|=2),f.y<w.min.y?B|=4:f.y>w.max.y&&(B|=8),B}function Cc(f,w){var B=w.x-f.x,k=w.y-f.y;return B*B+k*k}function Sc(f,w,B,k){var z=w.x,ne=w.y,ve=B.x-z,De=B.y-ne,$e=ve*ve+De*De,Ye;return $e>0&&(Ye=((f.x-z)*ve+(f.y-ne)*De)/$e,Ye>1?(z=B.x,ne=B.y):Ye>0&&(z+=ve*Ye,ne+=De*Ye)),ve=f.x-z,De=f.y-ne,k?ve*ve+De*De:new V(z,ne)}function oi(f){return!b(f[0])||typeof f[0][0]!="object"&&typeof f[0][0]<"u"}function Bc(f){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),oi(f)}function ku(f,w){var B,k,z,ne,ve,De,$e,Ye;if(!f||f.length===0)throw new Error("latlngs not passed");oi(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var ft=ue([0,0]),Vt=X(f),In=Vt.getNorthWest().distanceTo(Vt.getSouthWest())*Vt.getNorthEast().distanceTo(Vt.getNorthWest());In<1700&&(ft=Dt(f));var Oi=f.length,ks=[];for(B=0;B<Oi;B++){var ga=ue(f[B]);ks.push(w.project(ue([ga.lat-ft.lat,ga.lng-ft.lng])))}for(B=0,k=0;B<Oi-1;B++)k+=ks[B].distanceTo(ks[B+1])/2;if(k===0)Ye=ks[0];else for(B=0,ne=0;B<Oi-1;B++)if(ve=ks[B],De=ks[B+1],z=ve.distanceTo(De),ne+=z,ne>k){$e=(ne-k)/z,Ye=[De.x-$e*(De.x-ve.x),De.y-$e*(De.y-ve.y)];break}var oo=w.unproject(le(Ye));return ue([oo.lat+ft.lat,oo.lng+ft.lng])}var OA={__proto__:null,simplify:hn,pointToSegmentDistance:$n,closestPointOnSegment:Mr,clipSegment:Vs,_getEdgeIntersection:da,_getBitCode:ii,_sqClosestPointOnSegment:Sc,isFlat:oi,_flat:Bc,polylineCenter:ku},Bl={project:function(f){return new V(f.lng,f.lat)},unproject:function(f){return new re(f.y,f.x)},bounds:new ce([-180,-90],[180,90])},Es={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ce([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(f){var w=Math.PI/180,B=this.R,k=f.lat*w,z=this.R_MINOR/B,ne=Math.sqrt(1-z*z),ve=ne*Math.sin(k),De=Math.tan(Math.PI/4-k/2)/Math.pow((1-ve)/(1+ve),ne/2);return k=-B*Math.log(Math.max(De,1e-10)),new V(f.lng*w*B,k)},unproject:function(f){for(var w=180/Math.PI,B=this.R,k=this.R_MINOR/B,z=Math.sqrt(1-k*k),ne=Math.exp(-f.y/B),ve=Math.PI/2-2*Math.atan(ne),De=0,$e=.1,Ye;De<15&&Math.abs($e)>1e-7;De++)Ye=z*Math.sin(ve),Ye=Math.pow((1-Ye)/(1+Ye),z/2),$e=Math.PI/2-2*Math.atan(ne*Ye)-ve,ve+=$e;return new re(ve*w,f.x*w/B)}},$A={__proto__:null,LonLat:Bl,Mercator:Es,SphericalMercator:Ne},UA=s({},we,{code:"EPSG:3395",projection:Es,transformation:function(){var f=.5/(Math.PI*Es.R);return Ue(f,.5,-f,.5)}()}),Wd=s({},we,{code:"EPSG:4326",projection:Bl,transformation:Ue(1/180,1,-1/180,.5)}),ep=s({},de,{projection:Bl,transformation:Ue(1,0,-1,0),scale:function(f){return Math.pow(2,f)},zoom:function(f){return Math.log(f)/Math.LN2},distance:function(f,w){var B=w.lng-f.lng,k=w.lat-f.lat;return Math.sqrt(B*B+k*k)},infinite:!0});de.Earth=we,de.EPSG3395=UA,de.EPSG3857=ze,de.EPSG900913=tt,de.EPSG4326=Wd,de.Simple=ep;var Sr=oe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(f){return f.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(f){return f&&f.removeLayer(this),this},getPane:function(f){return this._map.getPane(f?this.options[f]||f:this.options.pane)},addInteractiveTarget:function(f){return this._map._targets[l(f)]=this,this},removeInteractiveTarget:function(f){return delete this._map._targets[l(f)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(f){var w=f.target;if(w.hasLayer(this)){if(this._map=w,this._zoomAnimated=w._zoomAnimated,this.getEvents){var B=this.getEvents();w.on(B,this),this.once("remove",function(){w.off(B,this)},this)}this.onAdd(w),this.fire("add"),w.fire("layeradd",{layer:this})}}});vn.include({addLayer:function(f){if(!f._layerAdd)throw new Error("The provided object is not a Layer.");var w=l(f);return this._layers[w]?this:(this._layers[w]=f,f._mapToAdd=this,f.beforeAdd&&f.beforeAdd(this),this.whenReady(f._layerAdd,f),this)},removeLayer:function(f){var w=l(f);return this._layers[w]?(this._loaded&&f.onRemove(this),delete this._layers[w],this._loaded&&(this.fire("layerremove",{layer:f}),f.fire("remove")),f._map=f._mapToAdd=null,this):this},hasLayer:function(f){return l(f)in this._layers},eachLayer:function(f,w){for(var B in this._layers)f.call(w,this._layers[B]);return this},_addLayers:function(f){f=f?b(f)?f:[f]:[];for(var w=0,B=f.length;w<B;w++)this.addLayer(f[w])},_addZoomLimit:function(f){(!isNaN(f.options.maxZoom)||!isNaN(f.options.minZoom))&&(this._zoomBoundLayers[l(f)]=f,this._updateZoomLevels())},_removeZoomLimit:function(f){var w=l(f);this._zoomBoundLayers[w]&&(delete this._zoomBoundLayers[w],this._updateZoomLevels())},_updateZoomLevels:function(){var f=1/0,w=-1/0,B=this._getZoomSpan();for(var k in this._zoomBoundLayers){var z=this._zoomBoundLayers[k].options;f=z.minZoom===void 0?f:Math.min(f,z.minZoom),w=z.maxZoom===void 0?w:Math.max(w,z.maxZoom)}this._layersMaxZoom=w===-1/0?void 0:w,this._layersMinZoom=f===1/0?void 0:f,B!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var no=Sr.extend({initialize:function(f,w){m(this,w),this._layers={};var B,k;if(f)for(B=0,k=f.length;B<k;B++)this.addLayer(f[B])},addLayer:function(f){var w=this.getLayerId(f);return this._layers[w]=f,this._map&&this._map.addLayer(f),this},removeLayer:function(f){var w=f in this._layers?f:this.getLayerId(f);return this._map&&this._layers[w]&&this._map.removeLayer(this._layers[w]),delete this._layers[w],this},hasLayer:function(f){var w=typeof f=="number"?f:this.getLayerId(f);return w in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(f){var w=Array.prototype.slice.call(arguments,1),B,k;for(B in this._layers)k=this._layers[B],k[f]&&k[f].apply(k,w);return this},onAdd:function(f){this.eachLayer(f.addLayer,f)},onRemove:function(f){this.eachLayer(f.removeLayer,f)},eachLayer:function(f,w){for(var B in this._layers)f.call(w,this._layers[B]);return this},getLayer:function(f){return this._layers[f]},getLayers:function(){var f=[];return this.eachLayer(f.push,f),f},setZIndex:function(f){return this.invoke("setZIndex",f)},getLayerId:function(f){return l(f)}}),Gd=function(f,w){return new no(f,w)},ha=no.extend({addLayer:function(f){return this.hasLayer(f)?this:(f.addEventParent(this),no.prototype.addLayer.call(this,f),this.fire("layeradd",{layer:f}))},removeLayer:function(f){return this.hasLayer(f)?(f in this._layers&&(f=this._layers[f]),f.removeEventParent(this),no.prototype.removeLayer.call(this,f),this.fire("layerremove",{layer:f})):this},setStyle:function(f){return this.invoke("setStyle",f)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var f=new G;for(var w in this._layers){var B=this._layers[w];f.extend(B.getBounds?B.getBounds():B.getLatLng())}return f}}),fa=function(f,w){return new ha(f,w)},pa=$.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(f){m(this,f)},createIcon:function(f){return this._createIcon("icon",f)},createShadow:function(f){return this._createIcon("shadow",f)},_createIcon:function(f,w){var B=this._getIconUrl(f);if(!B){if(f==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var k=this._createImg(B,w&&w.tagName==="IMG"?w:null);return this._setIconStyles(k,f),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),k},_setIconStyles:function(f,w){var B=this.options,k=B[w+"Size"];typeof k=="number"&&(k=[k,k]);var z=le(k),ne=le(w==="shadow"&&B.shadowAnchor||B.iconAnchor||z&&z.divideBy(2,!0));f.className="leaflet-marker-"+w+" "+(B.className||""),ne&&(f.style.marginLeft=-ne.x+"px",f.style.marginTop=-ne.y+"px"),z&&(f.style.width=z.x+"px",f.style.height=z.y+"px")},_createImg:function(f,w){return w=w||document.createElement("img"),w.src=f,w},_getIconUrl:function(f){return ht.retina&&this.options[f+"RetinaUrl"]||this.options[f+"Url"]}});function tp(f){return new pa(f)}var _c=pa.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(f){return typeof _c.imagePath!="string"&&(_c.imagePath=this._detectIconPath()),(this.options.imagePath||_c.imagePath)+pa.prototype._getIconUrl.call(this,f)},_stripUrl:function(f){var w=function(B,k,z){var ne=k.exec(B);return ne&&ne[z]};return f=w(f,/^url\((['"])?(.+)\1\)$/,2),f&&w(f,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var f=pn("div","leaflet-default-icon-path",document.body),w=Bu(f,"background-image")||Bu(f,"backgroundImage");if(document.body.removeChild(f),w=this._stripUrl(w),w)return w;var B=document.querySelector('link[href$="leaflet.css"]');return B?B.href.substring(0,B.href.length-11-1):""}}),Nc=fe.extend({initialize:function(f){this._marker=f},addHooks:function(){var f=this._marker._icon;this._draggable||(this._draggable=new Qe(f,f,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),an(f,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Fr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(f){var w=this._marker,B=w._map,k=this._marker.options.autoPanSpeed,z=this._marker.options.autoPanPadding,ne=bl(w._icon),ve=B.getPixelBounds(),De=B.getPixelOrigin(),$e=M(ve.min._subtract(De).add(z),ve.max._subtract(De).subtract(z));if(!$e.contains(ne)){var Ye=le((Math.max($e.max.x,ne.x)-$e.max.x)/(ve.max.x-$e.max.x)-(Math.min($e.min.x,ne.x)-$e.min.x)/(ve.min.x-$e.min.x),(Math.max($e.max.y,ne.y)-$e.max.y)/(ve.max.y-$e.max.y)-(Math.min($e.min.y,ne.y)-$e.min.y)/(ve.min.y-$e.min.y)).multiplyBy(k);B.panBy(Ye,{animate:!1}),this._draggable._newPos._add(Ye),this._draggable._startPos._add(Ye),er(w._icon,this._draggable._newPos),this._onDrag(f),this._panRequest=R(this._adjustPan.bind(this,f))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(f){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=R(this._adjustPan.bind(this,f)))},_onDrag:function(f){var w=this._marker,B=w._shadow,k=bl(w._icon),z=w._map.layerPointToLatLng(k);B&&er(B,k),w._latlng=z,f.latlng=z,f.oldLatLng=this._oldLatLng,w.fire("move",f).fire("drag",f)},_onDragEnd:function(f){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",f)}}),_l=Sr.extend({options:{icon:new _c,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(f,w){m(this,w),this._latlng=ue(f)},onAdd:function(f){this._zoomAnimated=this._zoomAnimated&&f.options.markerZoomAnimation,this._zoomAnimated&&f.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(f){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&f.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(f){var w=this._latlng;return this._latlng=ue(f),this.update(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},setZIndexOffset:function(f){return this.options.zIndexOffset=f,this.update()},getIcon:function(){return this.options.icon},setIcon:function(f){return this.options.icon=f,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var f=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(f)}return this},_initIcon:function(){var f=this.options,w="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),B=f.icon.createIcon(this._icon),k=!1;B!==this._icon&&(this._icon&&this._removeIcon(),k=!0,f.title&&(B.title=f.title),B.tagName==="IMG"&&(B.alt=f.alt||"")),an(B,w),f.keyboard&&(B.tabIndex="0",B.setAttribute("role","button")),this._icon=B,f.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&st(B,"focus",this._panOnFocus,this);var z=f.icon.createShadow(this._shadow),ne=!1;z!==this._shadow&&(this._removeShadow(),ne=!0),z&&(an(z,w),z.alt=""),this._shadow=z,f.opacity<1&&this._updateOpacity(),k&&this.getPane().appendChild(this._icon),this._initInteraction(),z&&ne&&this.getPane(f.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ir(this._icon,"focus",this._panOnFocus,this),sr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&sr(this._shadow),this._shadow=null},_setPos:function(f){this._icon&&er(this._icon,f),this._shadow&&er(this._shadow,f),this._zIndex=f.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(f){this._icon&&(this._icon.style.zIndex=this._zIndex+f)},_animateZoom:function(f){var w=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center).round();this._setPos(w)},_initInteraction:function(){if(this.options.interactive&&(an(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Nc)){var f=this.options.draggable;this.dragging&&(f=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Nc(this),f&&this.dragging.enable()}},setOpacity:function(f){return this.options.opacity=f,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var f=this.options.opacity;this._icon&&fs(this._icon,f),this._shadow&&fs(this._shadow,f)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var f=this._map;if(f){var w=this.options.icon.options,B=w.iconSize?le(w.iconSize):le(0,0),k=w.iconAnchor?le(w.iconAnchor):le(0,0);f.panInside(this._latlng,{paddingTopLeft:k,paddingBottomRight:B.subtract(k)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function To(f,w){return new _l(f,w)}var ms=Sr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(f){this._renderer=f.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(f){return m(this,f),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&f&&Object.prototype.hasOwnProperty.call(f,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ha=ms.extend({options:{fill:!0,radius:10},initialize:function(f,w){m(this,w),this._latlng=ue(f),this._radius=this.options.radius},setLatLng:function(f){var w=this._latlng;return this._latlng=ue(f),this.redraw(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(f){return this.options.radius=this._radius=f,this.redraw()},getRadius:function(){return this._radius},setStyle:function(f){var w=f&&f.radius||this._radius;return ms.prototype.setStyle.call(this,f),this.setRadius(w),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var f=this._radius,w=this._radiusY||f,B=this._clickTolerance(),k=[f+B,w+B];this._pxBounds=new ce(this._point.subtract(k),this._point.add(k))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(f){return f.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ic(f,w){return new Ha(f,w)}var Nl=Ha.extend({initialize:function(f,w,B){if(typeof w=="number"&&(w=s({},B,{radius:w})),m(this,w),this._latlng=ue(f),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(f){return this._mRadius=f,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var f=[this._radius,this._radiusY||this._radius];return new G(this._map.layerPointToLatLng(this._point.subtract(f)),this._map.layerPointToLatLng(this._point.add(f)))},setStyle:ms.prototype.setStyle,_project:function(){var f=this._latlng.lng,w=this._latlng.lat,B=this._map,k=B.options.crs;if(k.distance===we.distance){var z=Math.PI/180,ne=this._mRadius/we.R/z,ve=B.project([w+ne,f]),De=B.project([w-ne,f]),$e=ve.add(De).divideBy(2),Ye=B.unproject($e).lat,ft=Math.acos((Math.cos(ne*z)-Math.sin(w*z)*Math.sin(Ye*z))/(Math.cos(w*z)*Math.cos(Ye*z)))/z;(isNaN(ft)||ft===0)&&(ft=ne/Math.cos(Math.PI/180*w)),this._point=$e.subtract(B.getPixelOrigin()),this._radius=isNaN(ft)?0:$e.x-B.project([Ye,f-ft]).x,this._radiusY=$e.y-ve.y}else{var Vt=k.unproject(k.project(this._latlng).subtract([this._mRadius,0]));this._point=B.latLngToLayerPoint(this._latlng),this._radius=this._point.x-B.latLngToLayerPoint(Vt).x}this._updateBounds()}});function np(f,w,B){return new Nl(f,w,B)}var ro=ms.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,w){m(this,w),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(f){return this._setLatLngs(f),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(f){for(var w=1/0,B=null,k=Sc,z,ne,ve=0,De=this._parts.length;ve<De;ve++)for(var $e=this._parts[ve],Ye=1,ft=$e.length;Ye<ft;Ye++){z=$e[Ye-1],ne=$e[Ye];var Vt=k(f,z,ne,!0);Vt<w&&(w=Vt,B=k(f,z,ne))}return B&&(B.distance=Math.sqrt(w)),B},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ku(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(f,w){return w=w||this._defaultShape(),f=ue(f),w.push(f),this._bounds.extend(f),this.redraw()},_setLatLngs:function(f){this._bounds=new G,this._latlngs=this._convertLatLngs(f)},_defaultShape:function(){return oi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(f){for(var w=[],B=oi(f),k=0,z=f.length;k<z;k++)B?(w[k]=ue(f[k]),this._bounds.extend(w[k])):w[k]=this._convertLatLngs(f[k]);return w},_project:function(){var f=new ce;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,f),this._bounds.isValid()&&f.isValid()&&(this._rawPxBounds=f,this._updateBounds())},_updateBounds:function(){var f=this._clickTolerance(),w=new V(f,f);this._rawPxBounds&&(this._pxBounds=new ce([this._rawPxBounds.min.subtract(w),this._rawPxBounds.max.add(w)]))},_projectLatlngs:function(f,w,B){var k=f[0]instanceof re,z=f.length,ne,ve;if(k){for(ve=[],ne=0;ne<z;ne++)ve[ne]=this._map.latLngToLayerPoint(f[ne]),B.extend(ve[ne]);w.push(ve)}else for(ne=0;ne<z;ne++)this._projectLatlngs(f[ne],w,B)},_clipPoints:function(){var f=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}var w=this._parts,B,k,z,ne,ve,De,$e;for(B=0,z=0,ne=this._rings.length;B<ne;B++)for($e=this._rings[B],k=0,ve=$e.length;k<ve-1;k++)De=Vs($e[k],$e[k+1],f,k,!0),De&&(w[z]=w[z]||[],w[z].push(De[0]),(De[1]!==$e[k+1]||k===ve-2)&&(w[z].push(De[1]),z++))}},_simplifyPoints:function(){for(var f=this._parts,w=this.options.smoothFactor,B=0,k=f.length;B<k;B++)f[B]=hn(f[B],w)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(f,w){var B,k,z,ne,ve,De,$e=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(B=0,ne=this._parts.length;B<ne;B++)for(De=this._parts[B],k=0,ve=De.length,z=ve-1;k<ve;z=k++)if(!(!w&&k===0)&&$n(f,De[z],De[k])<=$e)return!0;return!1}});function os(f,w){return new ro(f,w)}ro._flat=Bc;var Ec=ro.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _t(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(f){var w=ro.prototype._convertLatLngs.call(this,f),B=w.length;return B>=2&&w[0]instanceof re&&w[0].equals(w[B-1])&&w.pop(),w},_setLatLngs:function(f){ro.prototype._setLatLngs.call(this,f),oi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return oi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var f=this._renderer._bounds,w=this.options.weight,B=new V(w,w);if(f=new ce(f.min.subtract(B),f.max.add(B)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}for(var k=0,z=this._rings.length,ne;k<z;k++)ne=Xe(this._rings[k],f,!0),ne.length&&this._parts.push(ne)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(f){var w=!1,B,k,z,ne,ve,De,$e,Ye;if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(ne=0,$e=this._parts.length;ne<$e;ne++)for(B=this._parts[ne],ve=0,Ye=B.length,De=Ye-1;ve<Ye;De=ve++)k=B[ve],z=B[De],k.y>f.y!=z.y>f.y&&f.x<(z.x-k.x)*(f.y-k.y)/(z.y-k.y)+k.x&&(w=!w);return w||ro.prototype._containsPoint.call(this,f,!0)}});function Il(f,w){return new Ec(f,w)}var Ws=ha.extend({initialize:function(f,w){m(this,w),this._layers={},f&&this.addData(f)},addData:function(f){var w=b(f)?f:f.features,B,k,z;if(w){for(B=0,k=w.length;B<k;B++)z=w[B],(z.geometries||z.geometry||z.features||z.coordinates)&&this.addData(z);return this}var ne=this.options;if(ne.filter&&!ne.filter(f))return this;var ve=Tu(f,ne);return ve?(ve.feature=kl(f),ve.defaultOptions=ve.options,this.resetStyle(ve),ne.onEachFeature&&ne.onEachFeature(f,ve),this.addLayer(ve)):this},resetStyle:function(f){return f===void 0?this.eachLayer(this.resetStyle,this):(f.options=s({},f.defaultOptions),this._setLayerStyle(f,this.options.style),this)},setStyle:function(f){return this.eachLayer(function(w){this._setLayerStyle(w,f)},this)},_setLayerStyle:function(f,w){f.setStyle&&(typeof w=="function"&&(w=w(f.feature)),f.setStyle(w))}});function Tu(f,w){var B=f.type==="Feature"?f.geometry:f,k=B?B.coordinates:null,z=[],ne=w&&w.pointToLayer,ve=w&&w.coordsToLatLng||MA,De,$e,Ye,ft;if(!k&&!B)return null;switch(B.type){case"Point":return De=ve(k),Kd(ne,f,De,w);case"MultiPoint":for(Ye=0,ft=k.length;Ye<ft;Ye++)De=ve(k[Ye]),z.push(Kd(ne,f,De,w));return new ha(z);case"LineString":case"MultiLineString":return $e=Fu(k,B.type==="LineString"?0:1,ve),new ro($e,w);case"Polygon":case"MultiPolygon":return $e=Fu(k,B.type==="Polygon"?1:2,ve),new Ec($e,w);case"GeometryCollection":for(Ye=0,ft=B.geometries.length;Ye<ft;Ye++){var Vt=Tu({geometry:B.geometries[Ye],type:"Feature",properties:f.properties},w);Vt&&z.push(Vt)}return new ha(z);case"FeatureCollection":for(Ye=0,ft=B.features.length;Ye<ft;Ye++){var In=Tu(B.features[Ye],w);In&&z.push(In)}return new ha(z);default:throw new Error("Invalid GeoJSON object.")}}function Kd(f,w,B,k){return f?f(w,B):new _l(B,k&&k.markersInheritOptions&&k)}function MA(f){return new re(f[1],f[0],f[2])}function Fu(f,w,B){for(var k=[],z=0,ne=f.length,ve;z<ne;z++)ve=w?Fu(f[z],w-1,B):(B||MA)(f[z]),k.push(ve);return k}function El(f,w){return f=ue(f),f.alt!==void 0?[d(f.lng,w),d(f.lat,w),d(f.alt,w)]:[d(f.lng,w),d(f.lat,w)]}function za(f,w,B,k){for(var z=[],ne=0,ve=f.length;ne<ve;ne++)z.push(w?za(f[ne],oi(f[ne])?0:w-1,B,k):El(f[ne],k));return!w&&B&&z.length>0&&z.push(z[0].slice()),z}function Fo(f,w){return f.feature?s({},f.feature,{geometry:w}):kl(w)}function kl(f){return f.type==="Feature"||f.type==="FeatureCollection"?f:{type:"Feature",properties:{},geometry:f}}var Tl={toGeoJSON:function(f){return Fo(this,{type:"Point",coordinates:El(this.getLatLng(),f)})}};_l.include(Tl),Nl.include(Tl),Ha.include(Tl),ro.include({toGeoJSON:function(f){var w=!oi(this._latlngs),B=za(this._latlngs,w?1:0,!1,f);return Fo(this,{type:(w?"Multi":"")+"LineString",coordinates:B})}}),Ec.include({toGeoJSON:function(f){var w=!oi(this._latlngs),B=w&&!oi(this._latlngs[0]),k=za(this._latlngs,B?2:w?1:0,!0,f);return w||(k=[k]),Fo(this,{type:(B?"Multi":"")+"Polygon",coordinates:k})}}),no.include({toMultiPoint:function(f){var w=[];return this.eachLayer(function(B){w.push(B.toGeoJSON(f).geometry.coordinates)}),Fo(this,{type:"MultiPoint",coordinates:w})},toGeoJSON:function(f){var w=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(w==="MultiPoint")return this.toMultiPoint(f);var B=w==="GeometryCollection",k=[];return this.eachLayer(function(z){if(z.toGeoJSON){var ne=z.toGeoJSON(f);if(B)k.push(ne.geometry);else{var ve=kl(ne);ve.type==="FeatureCollection"?k.push.apply(k,ve.features):k.push(ve)}}}),B?Fo(this,{geometries:k,type:"GeometryCollection"}):{type:"FeatureCollection",features:k}}});function Lu(f,w){return new Ws(f,w)}var ma=Lu,Lo=Sr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(f,w,B){this._url=f,this._bounds=X(w),m(this,B)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(an(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){sr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(f){return this.options.opacity=f,this._image&&this._updateOpacity(),this},setStyle:function(f){return f.opacity&&this.setOpacity(f.opacity),this},bringToFront:function(){return this._map&&Cr(this._image),this},bringToBack:function(){return this._map&&fc(this._image),this},setUrl:function(f){return this._url=f,this._image&&(this._image.src=f),this},setBounds:function(f){return this._bounds=X(f),this._map&&this._reset(),this},getEvents:function(){var f={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var f=this._url.tagName==="IMG",w=this._image=f?this._url:pn("img");if(an(w,"leaflet-image-layer"),this._zoomAnimated&&an(w,"leaflet-zoom-animated"),this.options.className&&an(w,this.options.className),w.onselectstart=A,w.onmousemove=A,w.onload=o(this.fire,this,"load"),w.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),f){this._url=w.src;return}w.src=this._url,w.alt=this.options.alt},_animateZoom:function(f){var w=this._map.getZoomScale(f.zoom),B=this._map._latLngBoundsToNewLayerBounds(this._bounds,f.zoom,f.center).min;pc(this._image,B,w)},_reset:function(){var f=this._image,w=new ce(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),B=w.getSize();er(f,w.min),f.style.width=B.x+"px",f.style.height=B.y+"px"},_updateOpacity:function(){fs(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var f=this.options.errorOverlayUrl;f&&this._url!==f&&(this._url=f,this._image.src=f)},getCenter:function(){return this._bounds.getCenter()}}),Zn=function(f,w,B){return new Lo(f,w,B)},ar=Lo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var f=this._url.tagName==="VIDEO",w=this._image=f?this._url:pn("video");if(an(w,"leaflet-image-layer"),this._zoomAnimated&&an(w,"leaflet-zoom-animated"),this.options.className&&an(w,this.options.className),w.onselectstart=A,w.onmousemove=A,w.onloadeddata=o(this.fire,this,"load"),f){for(var B=w.getElementsByTagName("source"),k=[],z=0;z<B.length;z++)k.push(B[z].src);this._url=B.length>0?k:[w.src];return}b(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(w.style,"objectFit")&&(w.style.objectFit="fill"),w.autoplay=!!this.options.autoplay,w.loop=!!this.options.loop,w.muted=!!this.options.muted,w.playsInline=!!this.options.playsInline;for(var ne=0;ne<this._url.length;ne++){var ve=pn("source");ve.src=this._url[ne],w.appendChild(ve)}}});function as(f,w,B){return new ar(f,w,B)}var gs=Lo.extend({_initImage:function(){var f=this._image=this._url;an(f,"leaflet-image-layer"),this._zoomAnimated&&an(f,"leaflet-zoom-animated"),this.options.className&&an(f,this.options.className),f.onselectstart=A,f.onmousemove=A}});function kc(f,w,B){return new gs(f,w,B)}var so=Sr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(f,w){f&&(f instanceof re||b(f))?(this._latlng=ue(f),m(this,w)):(m(this,f),this._source=w),this.options.content&&(this._content=this.options.content)},openOn:function(f){return f=arguments.length?f:this._source._map,f.hasLayer(this)||f.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(f){return this._map?this.close():(arguments.length?this._source=f:f=this._source,this._prepareOpen(),this.openOn(f._map)),this},onAdd:function(f){this._zoomAnimated=f._zoomAnimated,this._container||this._initLayout(),f._fadeAnimated&&fs(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),f._fadeAnimated&&fs(this._container,1),this.bringToFront(),this.options.interactive&&(an(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(f){f._fadeAnimated?(fs(this._container,0),this._removeTimeout=setTimeout(o(sr,void 0,this._container),200)):sr(this._container),this.options.interactive&&(Fr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(f){return this._latlng=ue(f),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(f){return this._content=f,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var f={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Cr(this._container),this},bringToBack:function(){return this._map&&fc(this._container),this},_prepareOpen:function(f){var w=this._source;if(!w._map)return!1;if(w instanceof ha){w=null;var B=this._source._layers;for(var k in B)if(B[k]._map){w=B[k];break}if(!w)return!1;this._source=w}if(!f)if(w.getCenter)f=w.getCenter();else if(w.getLatLng)f=w.getLatLng();else if(w.getBounds)f=w.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(f),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var f=this._contentNode,w=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof w=="string")f.innerHTML=w;else{for(;f.hasChildNodes();)f.removeChild(f.firstChild);f.appendChild(w)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),w=le(this.options.offset),B=this._getAnchor();this._zoomAnimated?er(this._container,f.add(B)):w=w.add(f).add(B);var k=this._containerBottom=-w.y,z=this._containerLeft=-Math.round(this._containerWidth/2)+w.x;this._container.style.bottom=k+"px",this._container.style.left=z+"px"}},_getAnchor:function(){return[0,0]}});vn.include({_initOverlay:function(f,w,B,k){var z=w;return z instanceof f||(z=new f(k).setContent(w)),B&&z.setLatLng(B),z}}),Sr.include({_initOverlay:function(f,w,B,k){var z=B;return z instanceof f?(m(z,k),z._source=this):(z=w&&!k?w:new f(k,this),z.setContent(B)),z}});var Tc=so.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(f){return f=arguments.length?f:this._source._map,!f.hasLayer(this)&&f._popup&&f._popup.options.autoClose&&f.removeLayer(f._popup),f._popup=this,so.prototype.openOn.call(this,f)},onAdd:function(f){so.prototype.onAdd.call(this,f),f.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ms||this._source.on("preclick",gc))},onRemove:function(f){so.prototype.onRemove.call(this,f),f.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ms||this._source.off("preclick",gc))},getEvents:function(){var f=so.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(f.preclick=this.close),this.options.keepInView&&(f.moveend=this._adjustPan),f},_initLayout:function(){var f="leaflet-popup",w=this._container=pn("div",f+" "+(this.options.className||"")+" leaflet-zoom-animated"),B=this._wrapper=pn("div",f+"-content-wrapper",w);if(this._contentNode=pn("div",f+"-content",B),yc(w),Eu(this._contentNode),st(w,"contextmenu",gc),this._tipContainer=pn("div",f+"-tip-container",w),this._tip=pn("div",f+"-tip",this._tipContainer),this.options.closeButton){var k=this._closeButton=pn("a",f+"-close-button",w);k.setAttribute("role","button"),k.setAttribute("aria-label","Close popup"),k.href="#close",k.innerHTML='<span aria-hidden="true">&#215;</span>',st(k,"click",function(z){Ur(z),this.close()},this)}},_updateLayout:function(){var f=this._contentNode,w=f.style;w.width="",w.whiteSpace="nowrap";var B=f.offsetWidth;B=Math.min(B,this.options.maxWidth),B=Math.max(B,this.options.minWidth),w.width=B+1+"px",w.whiteSpace="",w.height="";var k=f.offsetHeight,z=this.options.maxHeight,ne="leaflet-popup-scrolled";z&&k>z?(w.height=z+"px",an(f,ne)):Fr(f,ne),this._containerWidth=this._container.offsetWidth},_animateZoom:function(f){var w=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center),B=this._getAnchor();er(this._container,w.add(B))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var f=this._map,w=parseInt(Bu(this._container,"marginBottom"),10)||0,B=this._container.offsetHeight+w,k=this._containerWidth,z=new V(this._containerLeft,-B-this._containerBottom);z._add(bl(this._container));var ne=f.layerPointToContainerPoint(z),ve=le(this.options.autoPanPadding),De=le(this.options.autoPanPaddingTopLeft||ve),$e=le(this.options.autoPanPaddingBottomRight||ve),Ye=f.getSize(),ft=0,Vt=0;ne.x+k+$e.x>Ye.x&&(ft=ne.x+k-Ye.x+$e.x),ne.x-ft-De.x<0&&(ft=ne.x-De.x),ne.y+B+$e.y>Ye.y&&(Vt=ne.y+B-Ye.y+$e.y),ne.y-Vt-De.y<0&&(Vt=ne.y-De.y),(ft||Vt)&&(this.options.keepInView&&(this._autopanning=!0),f.fire("autopanstart").panBy([ft,Vt]))}},_getAnchor:function(){return le(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),cg=function(f,w){return new Tc(f,w)};vn.mergeOptions({closePopupOnClick:!0}),vn.include({openPopup:function(f,w,B){return this._initOverlay(Tc,f,w,B).openOn(this),this},closePopup:function(f){return f=arguments.length?f:this._popup,f&&f.close(),this}}),Sr.include({bindPopup:function(f,w){return this._popup=this._initOverlay(Tc,this._popup,f,w),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(f){return this._popup&&(this instanceof ha||(this._popup._source=this),this._popup._prepareOpen(f||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(f){return this._popup&&this._popup.setContent(f),this},getPopup:function(){return this._popup},_openPopup:function(f){if(!(!this._popup||!this._map)){wc(f);var w=f.layer||f.target;if(this._popup._source===w&&!(w instanceof ms)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(f.latlng);return}this._popup._source=w,this.openPopup(f.latlng)}},_movePopup:function(f){this._popup.setLatLng(f.latlng)},_onKeyPress:function(f){f.originalEvent.keyCode===13&&this._openPopup(f)}});var rp=so.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(f){so.prototype.onAdd.call(this,f),this.setOpacity(this.options.opacity),f.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(f){so.prototype.onRemove.call(this,f),f.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var f=so.prototype.getEvents.call(this);return this.options.permanent||(f.preclick=this.close),f},_initLayout:function(){var f="leaflet-tooltip",w=f+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pn("div",w),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(f){var w,B,k=this._map,z=this._container,ne=k.latLngToContainerPoint(k.getCenter()),ve=k.layerPointToContainerPoint(f),De=this.options.direction,$e=z.offsetWidth,Ye=z.offsetHeight,ft=le(this.options.offset),Vt=this._getAnchor();De==="top"?(w=$e/2,B=Ye):De==="bottom"?(w=$e/2,B=0):De==="center"?(w=$e/2,B=Ye/2):De==="right"?(w=0,B=Ye/2):De==="left"?(w=$e,B=Ye/2):ve.x<ne.x?(De="right",w=0,B=Ye/2):(De="left",w=$e+(ft.x+Vt.x)*2,B=Ye/2),f=f.subtract(le(w,B,!0)).add(ft).add(Vt),Fr(z,"leaflet-tooltip-right"),Fr(z,"leaflet-tooltip-left"),Fr(z,"leaflet-tooltip-top"),Fr(z,"leaflet-tooltip-bottom"),an(z,"leaflet-tooltip-"+De),er(z,f)},_updatePosition:function(){var f=this._map.latLngToLayerPoint(this._latlng);this._setPosition(f)},setOpacity:function(f){this.options.opacity=f,this._container&&fs(this._container,f)},_animateZoom:function(f){var w=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center);this._setPosition(w)},_getAnchor:function(){return le(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),V2=function(f,w){return new rp(f,w)};vn.include({openTooltip:function(f,w,B){return this._initOverlay(rp,f,w,B).openOn(this),this},closeTooltip:function(f){return f.close(),this}}),Sr.include({bindTooltip:function(f,w){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(rp,this._tooltip,f,w),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(f){if(!(!f&&this._tooltipHandlersAdded)){var w=f?"off":"on",B={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?B.add=this._openTooltip:(B.mouseover=this._openTooltip,B.mouseout=this.closeTooltip,B.click=this._openTooltip,this._map?this._addFocusListeners():B.add=this._addFocusListeners),this._tooltip.options.sticky&&(B.mousemove=this._moveTooltip),this[w](B),this._tooltipHandlersAdded=!f}},openTooltip:function(f){return this._tooltip&&(this instanceof ha||(this._tooltip._source=this),this._tooltip._prepareOpen(f)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(f){return this._tooltip&&this._tooltip.setContent(f),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(f){var w=typeof f.getElement=="function"&&f.getElement();w&&(st(w,"focus",function(){this._tooltip._source=f,this.openTooltip()},this),st(w,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(f){var w=typeof f.getElement=="function"&&f.getElement();w&&w.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(f){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var w=this;this._map.once("moveend",function(){w._openOnceFlag=!1,w._openTooltip(f)});return}this._tooltip._source=f.layer||f.target,this.openTooltip(this._tooltip.options.sticky?f.latlng:void 0)}},_moveTooltip:function(f){var w=f.latlng,B,k;this._tooltip.options.sticky&&f.originalEvent&&(B=this._map.mouseEventToContainerPoint(f.originalEvent),k=this._map.containerPointToLayerPoint(B),w=this._map.layerPointToLatLng(k)),this._tooltip.setLatLng(w)}});var z1=pa.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(f){var w=f&&f.tagName==="DIV"?f:document.createElement("div"),B=this.options;if(B.html instanceof Element?(Ud(w),w.appendChild(B.html)):w.innerHTML=B.html!==!1?B.html:"",B.bgPos){var k=le(B.bgPos);w.style.backgroundPosition=-k.x+"px "+-k.y+"px"}return this._setIconStyles(w,"icon"),w},createShadow:function(){return null}});function W2(f){return new z1(f)}pa.Default=_c;var qd=Sr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ht.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(f){m(this,f)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(f){f._addZoomLimit(this)},onRemove:function(f){this._removeAllTiles(),sr(this._container),f._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Cr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fc(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(f){return this.options.opacity=f,this._updateOpacity(),this},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var f=this._clampZoom(this._map.getZoom());f!==this._tileZoom&&(this._tileZoom=f,this._updateLevels()),this._update()}return this},getEvents:function(){var f={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),f.move=this._onMove),this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},createTile:function(){return document.createElement("div")},getTileSize:function(){var f=this.options.tileSize;return f instanceof V?f:new V(f,f)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(f){for(var w=this.getPane().children,B=-f(-1/0,1/0),k=0,z=w.length,ne;k<z;k++)ne=w[k].style.zIndex,w[k]!==this._container&&ne&&(B=f(B,+ne));isFinite(B)&&(this.options.zIndex=B+f(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ht.ielt9){fs(this._container,this.options.opacity);var f=+new Date,w=!1,B=!1;for(var k in this._tiles){var z=this._tiles[k];if(!(!z.current||!z.loaded)){var ne=Math.min(1,(f-z.loaded)/200);fs(z.el,ne),ne<1?w=!0:(z.active?B=!0:this._onOpaqueTile(z),z.active=!0)}}B&&!this._noPrune&&this._pruneTiles(),w&&(U(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=pn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var f=this._tileZoom,w=this.options.maxZoom;if(f!==void 0){for(var B in this._levels)B=Number(B),this._levels[B].el.children.length||B===f?(this._levels[B].el.style.zIndex=w-Math.abs(f-B),this._onUpdateLevel(B)):(sr(this._levels[B].el),this._removeTilesAtZoom(B),this._onRemoveLevel(B),delete this._levels[B]);var k=this._levels[f],z=this._map;return k||(k=this._levels[f]={},k.el=pn("div","leaflet-tile-container leaflet-zoom-animated",this._container),k.el.style.zIndex=w,k.origin=z.project(z.unproject(z.getPixelOrigin()),f).round(),k.zoom=f,this._setZoomTransform(k,z.getCenter(),z.getZoom()),A(k.el.offsetWidth),this._onCreateLevel(k)),this._level=k,k}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var f,w,B=this._map.getZoom();if(B>this.options.maxZoom||B<this.options.minZoom){this._removeAllTiles();return}for(f in this._tiles)w=this._tiles[f],w.retain=w.current;for(f in this._tiles)if(w=this._tiles[f],w.current&&!w.active){var k=w.coords;this._retainParent(k.x,k.y,k.z,k.z-5)||this._retainChildren(k.x,k.y,k.z,k.z+2)}for(f in this._tiles)this._tiles[f].retain||this._removeTile(f)}},_removeTilesAtZoom:function(f){for(var w in this._tiles)this._tiles[w].coords.z===f&&this._removeTile(w)},_removeAllTiles:function(){for(var f in this._tiles)this._removeTile(f)},_invalidateAll:function(){for(var f in this._levels)sr(this._levels[f].el),this._onRemoveLevel(Number(f)),delete this._levels[f];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(f,w,B,k){var z=Math.floor(f/2),ne=Math.floor(w/2),ve=B-1,De=new V(+z,+ne);De.z=+ve;var $e=this._tileCoordsToKey(De),Ye=this._tiles[$e];return Ye&&Ye.active?(Ye.retain=!0,!0):(Ye&&Ye.loaded&&(Ye.retain=!0),ve>k?this._retainParent(z,ne,ve,k):!1)},_retainChildren:function(f,w,B,k){for(var z=2*f;z<2*f+2;z++)for(var ne=2*w;ne<2*w+2;ne++){var ve=new V(z,ne);ve.z=B+1;var De=this._tileCoordsToKey(ve),$e=this._tiles[De];if($e&&$e.active){$e.retain=!0;continue}else $e&&$e.loaded&&($e.retain=!0);B+1<k&&this._retainChildren(z,ne,B+1,k)}},_resetView:function(f){var w=f&&(f.pinch||f.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),w,w)},_animateZoom:function(f){this._setView(f.center,f.zoom,!0,f.noUpdate)},_clampZoom:function(f){var w=this.options;return w.minNativeZoom!==void 0&&f<w.minNativeZoom?w.minNativeZoom:w.maxNativeZoom!==void 0&&w.maxNativeZoom<f?w.maxNativeZoom:f},_setView:function(f,w,B,k){var z=Math.round(w);this.options.maxZoom!==void 0&&z>this.options.maxZoom||this.options.minZoom!==void 0&&z<this.options.minZoom?z=void 0:z=this._clampZoom(z);var ne=this.options.updateWhenZooming&&z!==this._tileZoom;(!k||ne)&&(this._tileZoom=z,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),z!==void 0&&this._update(f),B||this._pruneTiles(),this._noPrune=!!B),this._setZoomTransforms(f,w)},_setZoomTransforms:function(f,w){for(var B in this._levels)this._setZoomTransform(this._levels[B],f,w)},_setZoomTransform:function(f,w,B){var k=this._map.getZoomScale(B,f.zoom),z=f.origin.multiplyBy(k).subtract(this._map._getNewPixelOrigin(w,B)).round();ht.any3d?pc(f.el,z,k):er(f.el,z)},_resetGrid:function(){var f=this._map,w=f.options.crs,B=this._tileSize=this.getTileSize(),k=this._tileZoom,z=this._map.getPixelWorldBounds(this._tileZoom);z&&(this._globalTileRange=this._pxBoundsToTileRange(z)),this._wrapX=w.wrapLng&&!this.options.noWrap&&[Math.floor(f.project([0,w.wrapLng[0]],k).x/B.x),Math.ceil(f.project([0,w.wrapLng[1]],k).x/B.y)],this._wrapY=w.wrapLat&&!this.options.noWrap&&[Math.floor(f.project([w.wrapLat[0],0],k).y/B.x),Math.ceil(f.project([w.wrapLat[1],0],k).y/B.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(f){var w=this._map,B=w._animatingZoom?Math.max(w._animateToZoom,w.getZoom()):w.getZoom(),k=w.getZoomScale(B,this._tileZoom),z=w.project(f,this._tileZoom).floor(),ne=w.getSize().divideBy(k*2);return new ce(z.subtract(ne),z.add(ne))},_update:function(f){var w=this._map;if(w){var B=this._clampZoom(w.getZoom());if(f===void 0&&(f=w.getCenter()),this._tileZoom!==void 0){var k=this._getTiledPixelBounds(f),z=this._pxBoundsToTileRange(k),ne=z.getCenter(),ve=[],De=this.options.keepBuffer,$e=new ce(z.getBottomLeft().subtract([De,-De]),z.getTopRight().add([De,-De]));if(!(isFinite(z.min.x)&&isFinite(z.min.y)&&isFinite(z.max.x)&&isFinite(z.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ye in this._tiles){var ft=this._tiles[Ye].coords;(ft.z!==this._tileZoom||!$e.contains(new V(ft.x,ft.y)))&&(this._tiles[Ye].current=!1)}if(Math.abs(B-this._tileZoom)>1){this._setView(f,B);return}for(var Vt=z.min.y;Vt<=z.max.y;Vt++)for(var In=z.min.x;In<=z.max.x;In++){var Oi=new V(In,Vt);if(Oi.z=this._tileZoom,!!this._isValidTile(Oi)){var ks=this._tiles[this._tileCoordsToKey(Oi)];ks?ks.current=!0:ve.push(Oi)}}if(ve.sort(function(oo,Zd){return oo.distanceTo(ne)-Zd.distanceTo(ne)}),ve.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ga=document.createDocumentFragment();for(In=0;In<ve.length;In++)this._addTile(ve[In],ga);this._level.el.appendChild(ga)}}}},_isValidTile:function(f){var w=this._map.options.crs;if(!w.infinite){var B=this._globalTileRange;if(!w.wrapLng&&(f.x<B.min.x||f.x>B.max.x)||!w.wrapLat&&(f.y<B.min.y||f.y>B.max.y))return!1}if(!this.options.bounds)return!0;var k=this._tileCoordsToBounds(f);return X(this.options.bounds).overlaps(k)},_keyToBounds:function(f){return this._tileCoordsToBounds(this._keyToTileCoords(f))},_tileCoordsToNwSe:function(f){var w=this._map,B=this.getTileSize(),k=f.scaleBy(B),z=k.add(B),ne=w.unproject(k,f.z),ve=w.unproject(z,f.z);return[ne,ve]},_tileCoordsToBounds:function(f){var w=this._tileCoordsToNwSe(f),B=new G(w[0],w[1]);return this.options.noWrap||(B=this._map.wrapLatLngBounds(B)),B},_tileCoordsToKey:function(f){return f.x+":"+f.y+":"+f.z},_keyToTileCoords:function(f){var w=f.split(":"),B=new V(+w[0],+w[1]);return B.z=+w[2],B},_removeTile:function(f){var w=this._tiles[f];w&&(sr(w.el),delete this._tiles[f],this.fire("tileunload",{tile:w.el,coords:this._keyToTileCoords(f)}))},_initTile:function(f){an(f,"leaflet-tile");var w=this.getTileSize();f.style.width=w.x+"px",f.style.height=w.y+"px",f.onselectstart=A,f.onmousemove=A,ht.ielt9&&this.options.opacity<1&&fs(f,this.options.opacity)},_addTile:function(f,w){var B=this._getTilePos(f),k=this._tileCoordsToKey(f),z=this.createTile(this._wrapCoords(f),o(this._tileReady,this,f));this._initTile(z),this.createTile.length<2&&R(o(this._tileReady,this,f,null,z)),er(z,B),this._tiles[k]={el:z,coords:f,current:!0},w.appendChild(z),this.fire("tileloadstart",{tile:z,coords:f})},_tileReady:function(f,w,B){w&&this.fire("tileerror",{error:w,tile:B,coords:f});var k=this._tileCoordsToKey(f);B=this._tiles[k],B&&(B.loaded=+new Date,this._map._fadeAnimated?(fs(B.el,0),U(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this)):(B.active=!0,this._pruneTiles()),w||(an(B.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:B.el,coords:f})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ht.ielt9||!this._map._fadeAnimated?R(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(f){return f.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(f){var w=new V(this._wrapX?u(f.x,this._wrapX):f.x,this._wrapY?u(f.y,this._wrapY):f.y);return w.z=f.z,w},_pxBoundsToTileRange:function(f){var w=this.getTileSize();return new ce(f.min.unscaleBy(w).floor(),f.max.unscaleBy(w).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var f in this._tiles)if(!this._tiles[f].loaded)return!1;return!0}});function G2(f){return new qd(f)}var Fl=qd.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(f,w){this._url=f,w=m(this,w),w.detectRetina&&ht.retina&&w.maxZoom>0?(w.tileSize=Math.floor(w.tileSize/2),w.zoomReverse?(w.zoomOffset--,w.minZoom=Math.min(w.maxZoom,w.minZoom+1)):(w.zoomOffset++,w.maxZoom=Math.max(w.minZoom,w.maxZoom-1)),w.minZoom=Math.max(0,w.minZoom)):w.zoomReverse?w.minZoom=Math.min(w.maxZoom,w.minZoom):w.maxZoom=Math.max(w.minZoom,w.maxZoom),typeof w.subdomains=="string"&&(w.subdomains=w.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(f,w){return this._url===f&&w===void 0&&(w=!0),this._url=f,w||this.redraw(),this},createTile:function(f,w){var B=document.createElement("img");return st(B,"load",o(this._tileOnLoad,this,w,B)),st(B,"error",o(this._tileOnError,this,w,B)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(B.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(B.referrerPolicy=this.options.referrerPolicy),B.alt="",B.src=this.getTileUrl(f),B},getTileUrl:function(f){var w={r:ht.retina?"@2x":"",s:this._getSubdomain(f),x:f.x,y:f.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var B=this._globalTileRange.max.y-f.y;this.options.tms&&(w.y=B),w["-y"]=B}return v(this._url,s(w,this.options))},_tileOnLoad:function(f,w){ht.ielt9?setTimeout(o(f,this,null,w),0):f(null,w)},_tileOnError:function(f,w,B){var k=this.options.errorTileUrl;k&&w.getAttribute("src")!==k&&(w.src=k),f(B,w)},_onTileRemove:function(f){f.tile.onload=null},_getZoomForUrl:function(){var f=this._tileZoom,w=this.options.maxZoom,B=this.options.zoomReverse,k=this.options.zoomOffset;return B&&(f=w-f),f+k},_getSubdomain:function(f){var w=Math.abs(f.x+f.y)%this.options.subdomains.length;return this.options.subdomains[w]},_abortLoading:function(){var f,w;for(f in this._tiles)if(this._tiles[f].coords.z!==this._tileZoom&&(w=this._tiles[f].el,w.onload=A,w.onerror=A,!w.complete)){w.src=_;var B=this._tiles[f].coords;sr(w),delete this._tiles[f],this.fire("tileabort",{tile:w,coords:B})}},_removeTile:function(f){var w=this._tiles[f];if(w)return w.el.setAttribute("src",_),qd.prototype._removeTile.call(this,f)},_tileReady:function(f,w,B){if(!(!this._map||B&&B.getAttribute("src")===_))return qd.prototype._tileReady.call(this,f,w,B)}});function V1(f,w){return new Fl(f,w)}var W1=Fl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,w){this._url=f;var B=s({},this.defaultWmsParams);for(var k in w)k in this.options||(B[k]=w[k]);w=m(this,w);var z=w.detectRetina&&ht.retina?2:1,ne=this.getTileSize();B.width=ne.x*z,B.height=ne.y*z,this.wmsParams=B},onAdd:function(f){this._crs=this.options.crs||f.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var w=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[w]=this._crs.code,Fl.prototype.onAdd.call(this,f)},getTileUrl:function(f){var w=this._tileCoordsToNwSe(f),B=this._crs,k=M(B.project(w[0]),B.project(w[1])),z=k.min,ne=k.max,ve=(this._wmsVersion>=1.3&&this._crs===Wd?[z.y,z.x,ne.y,ne.x]:[z.x,z.y,ne.x,ne.y]).join(","),De=Fl.prototype.getTileUrl.call(this,f);return De+y(this.wmsParams,De,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ve},setParams:function(f,w){return s(this.wmsParams,f),w||this.redraw(),this}});function K2(f,w){return new W1(f,w)}Fl.WMS=W1,V1.wms=K2;var Ll=Sr.extend({options:{padding:.1},initialize:function(f){m(this,f),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),an(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var f={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(f.zoomanim=this._onAnimZoom),f},_onAnimZoom:function(f){this._updateTransform(f.center,f.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(f,w){var B=this._map.getZoomScale(w,this._zoom),k=this._map.getSize().multiplyBy(.5+this.options.padding),z=this._map.project(this._center,w),ne=k.multiplyBy(-B).add(z).subtract(this._map._getNewPixelOrigin(f,w));ht.any3d?pc(this._container,ne,B):er(this._container,ne)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var f in this._layers)this._layers[f]._reset()},_onZoomEnd:function(){for(var f in this._layers)this._layers[f]._project()},_updatePaths:function(){for(var f in this._layers)this._layers[f]._update()},_update:function(){var f=this.options.padding,w=this._map.getSize(),B=this._map.containerPointToLayerPoint(w.multiplyBy(-f)).round();this._bounds=new ce(B,B.add(w.multiplyBy(1+f*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),G1=Ll.extend({options:{tolerance:0},getEvents:function(){var f=Ll.prototype.getEvents.call(this);return f.viewprereset=this._onViewPreReset,f},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ll.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var f=this._container=document.createElement("canvas");st(f,"mousemove",this._onMouseMove,this),st(f,"click dblclick mousedown mouseup contextmenu",this._onClick,this),st(f,"mouseout",this._handleMouseOut,this),f._leaflet_disable_events=!0,this._ctx=f.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,sr(this._container),ir(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var f;this._redrawBounds=null;for(var w in this._layers)f=this._layers[w],f._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ll.prototype._update.call(this);var f=this._bounds,w=this._container,B=f.getSize(),k=ht.retina?2:1;er(w,f.min),w.width=k*B.x,w.height=k*B.y,w.style.width=B.x+"px",w.style.height=B.y+"px",ht.retina&&this._ctx.scale(2,2),this._ctx.translate(-f.min.x,-f.min.y),this.fire("update")}},_reset:function(){Ll.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(f){this._updateDashArray(f),this._layers[l(f)]=f;var w=f._order={layer:f,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=w),this._drawLast=w,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(f){this._requestRedraw(f)},_removePath:function(f){var w=f._order,B=w.next,k=w.prev;B?B.prev=k:this._drawLast=k,k?k.next=B:this._drawFirst=B,delete f._order,delete this._layers[l(f)],this._requestRedraw(f)},_updatePath:function(f){this._extendRedrawBounds(f),f._project(),f._update(),this._requestRedraw(f)},_updateStyle:function(f){this._updateDashArray(f),this._requestRedraw(f)},_updateDashArray:function(f){if(typeof f.options.dashArray=="string"){var w=f.options.dashArray.split(/[, ]+/),B=[],k,z;for(z=0;z<w.length;z++){if(k=Number(w[z]),isNaN(k))return;B.push(k)}f.options._dashArray=B}else f.options._dashArray=f.options.dashArray},_requestRedraw:function(f){this._map&&(this._extendRedrawBounds(f),this._redrawRequest=this._redrawRequest||R(this._redraw,this))},_extendRedrawBounds:function(f){if(f._pxBounds){var w=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ce,this._redrawBounds.extend(f._pxBounds.min.subtract([w,w])),this._redrawBounds.extend(f._pxBounds.max.add([w,w]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var f=this._redrawBounds;if(f){var w=f.getSize();this._ctx.clearRect(f.min.x,f.min.y,w.x,w.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var f,w=this._redrawBounds;if(this._ctx.save(),w){var B=w.getSize();this._ctx.beginPath(),this._ctx.rect(w.min.x,w.min.y,B.x,B.y),this._ctx.clip()}this._drawing=!0;for(var k=this._drawFirst;k;k=k.next)f=k.layer,(!w||f._pxBounds&&f._pxBounds.intersects(w))&&f._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,w){if(this._drawing){var B,k,z,ne,ve=f._parts,De=ve.length,$e=this._ctx;if(De){for($e.beginPath(),B=0;B<De;B++){for(k=0,z=ve[B].length;k<z;k++)ne=ve[B][k],$e[k?"lineTo":"moveTo"](ne.x,ne.y);w&&$e.closePath()}this._fillStroke($e,f)}}},_updateCircle:function(f){if(!(!this._drawing||f._empty())){var w=f._point,B=this._ctx,k=Math.max(Math.round(f._radius),1),z=(Math.max(Math.round(f._radiusY),1)||k)/k;z!==1&&(B.save(),B.scale(1,z)),B.beginPath(),B.arc(w.x,w.y/z,k,0,Math.PI*2,!1),z!==1&&B.restore(),this._fillStroke(B,f)}},_fillStroke:function(f,w){var B=w.options;B.fill&&(f.globalAlpha=B.fillOpacity,f.fillStyle=B.fillColor||B.color,f.fill(B.fillRule||"evenodd")),B.stroke&&B.weight!==0&&(f.setLineDash&&f.setLineDash(w.options&&w.options._dashArray||[]),f.globalAlpha=B.opacity,f.lineWidth=B.weight,f.strokeStyle=B.color,f.lineCap=B.lineCap,f.lineJoin=B.lineJoin,f.stroke())},_onClick:function(f){for(var w=this._map.mouseEventToLayerPoint(f),B,k,z=this._drawFirst;z;z=z.next)B=z.layer,B.options.interactive&&B._containsPoint(w)&&(!(f.type==="click"||f.type==="preclick")||!this._map._draggableMoved(B))&&(k=B);this._fireEvent(k?[k]:!1,f)},_onMouseMove:function(f){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var w=this._map.mouseEventToLayerPoint(f);this._handleMouseHover(f,w)}},_handleMouseOut:function(f){var w=this._hoveredLayer;w&&(Fr(this._container,"leaflet-interactive"),this._fireEvent([w],f,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(f,w){if(!this._mouseHoverThrottled){for(var B,k,z=this._drawFirst;z;z=z.next)B=z.layer,B.options.interactive&&B._containsPoint(w)&&(k=B);k!==this._hoveredLayer&&(this._handleMouseOut(f),k&&(an(this._container,"leaflet-interactive"),this._fireEvent([k],f,"mouseover"),this._hoveredLayer=k)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,f),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(f,w,B){this._map._fireDOMEvent(w,B||w.type,f)},_bringToFront:function(f){var w=f._order;if(w){var B=w.next,k=w.prev;if(B)B.prev=k;else return;k?k.next=B:B&&(this._drawFirst=B),w.prev=this._drawLast,this._drawLast.next=w,w.next=null,this._drawLast=w,this._requestRedraw(f)}},_bringToBack:function(f){var w=f._order;if(w){var B=w.next,k=w.prev;if(k)k.next=B;else return;B?B.prev=k:k&&(this._drawLast=k),w.prev=null,w.next=this._drawFirst,this._drawFirst.prev=w,this._drawFirst=w,this._requestRedraw(f)}}});function K1(f){return ht.canvas?new G1(f):null}var Xd=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(f){return document.createElement("<lvml:"+f+' class="lvml">')}}catch{}return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),q2={_initContainer:function(){this._container=pn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ll.prototype._update.call(this),this.fire("update"))},_initPath:function(f){var w=f._container=Xd("shape");an(w,"leaflet-vml-shape "+(this.options.className||"")),w.coordsize="1 1",f._path=Xd("path"),w.appendChild(f._path),this._updateStyle(f),this._layers[l(f)]=f},_addPath:function(f){var w=f._container;this._container.appendChild(w),f.options.interactive&&f.addInteractiveTarget(w)},_removePath:function(f){var w=f._container;sr(w),f.removeInteractiveTarget(w),delete this._layers[l(f)]},_updateStyle:function(f){var w=f._stroke,B=f._fill,k=f.options,z=f._container;z.stroked=!!k.stroke,z.filled=!!k.fill,k.stroke?(w||(w=f._stroke=Xd("stroke")),z.appendChild(w),w.weight=k.weight+"px",w.color=k.color,w.opacity=k.opacity,k.dashArray?w.dashStyle=b(k.dashArray)?k.dashArray.join(" "):k.dashArray.replace(/( *, *)/g," "):w.dashStyle="",w.endcap=k.lineCap.replace("butt","flat"),w.joinstyle=k.lineJoin):w&&(z.removeChild(w),f._stroke=null),k.fill?(B||(B=f._fill=Xd("fill")),z.appendChild(B),B.color=k.fillColor||k.color,B.opacity=k.fillOpacity):B&&(z.removeChild(B),f._fill=null)},_updateCircle:function(f){var w=f._point.round(),B=Math.round(f._radius),k=Math.round(f._radiusY||B);this._setPath(f,f._empty()?"M0 0":"AL "+w.x+","+w.y+" "+B+","+k+" 0,"+65535*360)},_setPath:function(f,w){f._path.v=w},_bringToFront:function(f){Cr(f._container)},_bringToBack:function(f){fc(f._container)}},Yd=ht.vml?Xd:Ae,Du=Ll.extend({_initContainer:function(){this._container=Yd("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Yd("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){sr(this._container),ir(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ll.prototype._update.call(this);var f=this._bounds,w=f.getSize(),B=this._container;(!this._svgSize||!this._svgSize.equals(w))&&(this._svgSize=w,B.setAttribute("width",w.x),B.setAttribute("height",w.y)),er(B,f.min),B.setAttribute("viewBox",[f.min.x,f.min.y,w.x,w.y].join(" ")),this.fire("update")}},_initPath:function(f){var w=f._path=Yd("path");f.options.className&&an(w,f.options.className),f.options.interactive&&an(w,"leaflet-interactive"),this._updateStyle(f),this._layers[l(f)]=f},_addPath:function(f){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(f._path),f.addInteractiveTarget(f._path)},_removePath:function(f){sr(f._path),f.removeInteractiveTarget(f._path),delete this._layers[l(f)]},_updatePath:function(f){f._project(),f._update()},_updateStyle:function(f){var w=f._path,B=f.options;w&&(B.stroke?(w.setAttribute("stroke",B.color),w.setAttribute("stroke-opacity",B.opacity),w.setAttribute("stroke-width",B.weight),w.setAttribute("stroke-linecap",B.lineCap),w.setAttribute("stroke-linejoin",B.lineJoin),B.dashArray?w.setAttribute("stroke-dasharray",B.dashArray):w.removeAttribute("stroke-dasharray"),B.dashOffset?w.setAttribute("stroke-dashoffset",B.dashOffset):w.removeAttribute("stroke-dashoffset")):w.setAttribute("stroke","none"),B.fill?(w.setAttribute("fill",B.fillColor||B.color),w.setAttribute("fill-opacity",B.fillOpacity),w.setAttribute("fill-rule",B.fillRule||"evenodd")):w.setAttribute("fill","none"))},_updatePoly:function(f,w){this._setPath(f,Ge(f._parts,w))},_updateCircle:function(f){var w=f._point,B=Math.max(Math.round(f._radius),1),k=Math.max(Math.round(f._radiusY),1)||B,z="a"+B+","+k+" 0 1,0 ",ne=f._empty()?"M0 0":"M"+(w.x-B)+","+w.y+z+B*2+",0 "+z+-B*2+",0 ";this._setPath(f,ne)},_setPath:function(f,w){f._path.setAttribute("d",w)},_bringToFront:function(f){Cr(f._path)},_bringToBack:function(f){fc(f._path)}});ht.vml&&Du.include(q2);function io(f){return ht.svg||ht.vml?new Du(f):null}vn.include({getRenderer:function(f){var w=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return w||(w=this._renderer=this._createRenderer()),this.hasLayer(w)||this.addLayer(w),w},_getPaneRenderer:function(f){if(f==="overlayPane"||f===void 0)return!1;var w=this._paneRenderers[f];return w===void 0&&(w=this._createRenderer({pane:f}),this._paneRenderers[f]=w),w},_createRenderer:function(f){return this.options.preferCanvas&&K1(f)||io(f)}});var Do=Ec.extend({initialize:function(f,w){Ec.prototype.initialize.call(this,this._boundsToLatLngs(f),w)},setBounds:function(f){return this.setLatLngs(this._boundsToLatLngs(f))},_boundsToLatLngs:function(f){return f=X(f),[f.getSouthWest(),f.getNorthWest(),f.getNorthEast(),f.getSouthEast()]}});function ug(f,w){return new Do(f,w)}Du.create=Yd,Du.pointsToPath=Ge,Ws.geometryToLayer=Tu,Ws.coordsToLatLng=MA,Ws.coordsToLatLngs=Fu,Ws.latLngToCoords=El,Ws.latLngsToCoords=za,Ws.getFeature=Fo,Ws.asFeature=kl,vn.mergeOptions({boxZoom:!0});var sp=fe.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane,this._resetStateTimeout=0,f.on("unload",this._destroy,this)},addHooks:function(){st(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ir(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){sr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(f){if(!f.shiftKey||f.which!==1&&f.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),_u(),Gf(),this._startPoint=this._map.mouseEventToContainerPoint(f),st(document,{contextmenu:wc,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(f){this._moved||(this._moved=!0,this._box=pn("div","leaflet-zoom-box",this._container),an(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(f);var w=new ce(this._point,this._startPoint),B=w.getSize();er(this._box,w.min),this._box.style.width=B.x+"px",this._box.style.height=B.y+"px"},_finish:function(){this._moved&&(sr(this._box),Fr(this._container,"leaflet-crosshair")),Cl(),Kf(),ir(document,{contextmenu:wc,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if(!(f.which!==1&&f.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var w=new G(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(w).fire("boxzoomend",{boxZoomBounds:w})}},_onKeyDown:function(f){f.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});vn.addInitHook("addHandler","boxZoom",sp),vn.mergeOptions({doubleClickZoom:!0});var q1=fe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(f){var w=this._map,B=w.getZoom(),k=w.options.zoomDelta,z=f.originalEvent.shiftKey?B-k:B+k;w.options.doubleClickZoom==="center"?w.setZoom(z):w.setZoomAround(f.containerPoint,z)}});vn.addInitHook("addHandler","doubleClickZoom",q1),vn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ip=fe.extend({addHooks:function(){if(!this._draggable){var f=this._map;this._draggable=new Qe(f._mapPane,f._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),f.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),f.on("zoomend",this._onZoomEnd,this),f.whenReady(this._onZoomEnd,this))}an(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Fr(this._map._container,"leaflet-grab"),Fr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var f=this._map;if(f._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var w=X(this._map.options.maxBounds);this._offsetLimit=M(this._map.latLngToContainerPoint(w.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(w.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;f.fire("movestart").fire("dragstart"),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(f){if(this._map.options.inertia){var w=this._lastTime=+new Date,B=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(B),this._times.push(w),this._prunePositions(w)}this._map.fire("move",f).fire("drag",f)},_prunePositions:function(f){for(;this._positions.length>1&&f-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var f=this._map.getSize().divideBy(2),w=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=w.subtract(f).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(f,w){return f-(f-w)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var f=this._draggable._newPos.subtract(this._draggable._startPos),w=this._offsetLimit;f.x<w.min.x&&(f.x=this._viscousLimit(f.x,w.min.x)),f.y<w.min.y&&(f.y=this._viscousLimit(f.y,w.min.y)),f.x>w.max.x&&(f.x=this._viscousLimit(f.x,w.max.x)),f.y>w.max.y&&(f.y=this._viscousLimit(f.y,w.max.y)),this._draggable._newPos=this._draggable._startPos.add(f)}},_onPreDragWrap:function(){var f=this._worldWidth,w=Math.round(f/2),B=this._initialWorldOffset,k=this._draggable._newPos.x,z=(k-w+B)%f+w-B,ne=(k+w+B)%f-w-B,ve=Math.abs(z+B)<Math.abs(ne+B)?z:ne;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ve},_onDragEnd:function(f){var w=this._map,B=w.options,k=!B.inertia||f.noInertia||this._times.length<2;if(w.fire("dragend",f),k)w.fire("moveend");else{this._prunePositions(+new Date);var z=this._lastPos.subtract(this._positions[0]),ne=(this._lastTime-this._times[0])/1e3,ve=B.easeLinearity,De=z.multiplyBy(ve/ne),$e=De.distanceTo([0,0]),Ye=Math.min(B.inertiaMaxSpeed,$e),ft=De.multiplyBy(Ye/$e),Vt=Ye/(B.inertiaDeceleration*ve),In=ft.multiplyBy(-Vt/2).round();!In.x&&!In.y?w.fire("moveend"):(In=w._limitOffset(In,w.options.maxBounds),R(function(){w.panBy(In,{duration:Vt,easeLinearity:ve,noMoveStart:!0,animate:!0})}))}}});vn.addInitHook("addHandler","dragging",ip),vn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var op=fe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(f){this._map=f,this._setPanDelta(f.options.keyboardPanDelta),this._setZoomDelta(f.options.zoomDelta)},addHooks:function(){var f=this._map._container;f.tabIndex<=0&&(f.tabIndex="0"),st(f,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ir(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var f=document.body,w=document.documentElement,B=f.scrollTop||w.scrollTop,k=f.scrollLeft||w.scrollLeft;this._map._container.focus(),window.scrollTo(k,B)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(f){var w=this._panKeys={},B=this.keyCodes,k,z;for(k=0,z=B.left.length;k<z;k++)w[B.left[k]]=[-1*f,0];for(k=0,z=B.right.length;k<z;k++)w[B.right[k]]=[f,0];for(k=0,z=B.down.length;k<z;k++)w[B.down[k]]=[0,f];for(k=0,z=B.up.length;k<z;k++)w[B.up[k]]=[0,-1*f]},_setZoomDelta:function(f){var w=this._zoomKeys={},B=this.keyCodes,k,z;for(k=0,z=B.zoomIn.length;k<z;k++)w[B.zoomIn[k]]=f;for(k=0,z=B.zoomOut.length;k<z;k++)w[B.zoomOut[k]]=-f},_addHooks:function(){st(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ir(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var w=f.keyCode,B=this._map,k;if(w in this._panKeys){if(!B._panAnim||!B._panAnim._inProgress)if(k=this._panKeys[w],f.shiftKey&&(k=le(k).multiplyBy(3)),B.options.maxBounds&&(k=B._limitOffset(le(k),B.options.maxBounds)),B.options.worldCopyJump){var z=B.wrapLatLng(B.unproject(B.project(B.getCenter()).add(k)));B.panTo(z)}else B.panBy(k)}else if(w in this._zoomKeys)B.setZoom(B.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[w]);else if(w===27&&B._popup&&B._popup.options.closeOnEscapeKey)B.closePopup();else return;wc(f)}}});vn.addInitHook("addHandler","keyboard",op),vn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ag=fe.extend({addHooks:function(){st(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ir(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(f){var w=Hd(f),B=this._map.options.wheelDebounceTime;this._delta+=w,this._lastMousePos=this._map.mouseEventToContainerPoint(f),this._startTime||(this._startTime=+new Date);var k=Math.max(B-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),k),wc(f)},_performZoom:function(){var f=this._map,w=f.getZoom(),B=this._map.options.zoomSnap||0;f._stop();var k=this._delta/(this._map.options.wheelPxPerZoomLevel*4),z=4*Math.log(2/(1+Math.exp(-Math.abs(k))))/Math.LN2,ne=B?Math.ceil(z/B)*B:z,ve=f._limitZoom(w+(this._delta>0?ne:-ne))-w;this._delta=0,this._startTime=null,ve&&(f.options.scrollWheelZoom==="center"?f.setZoom(w+ve):f.setZoomAround(this._lastMousePos,w+ve))}});vn.addInitHook("addHandler","scrollWheelZoom",Ag);var X2=600;vn.mergeOptions({tapHold:ht.touchNative&&ht.safari&&ht.mobile,tapTolerance:15});var dg=fe.extend({addHooks:function(){st(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ir(this._map._container,"touchstart",this._onDown,this)},_onDown:function(f){if(clearTimeout(this._holdTimeout),f.touches.length===1){var w=f.touches[0];this._startPos=this._newPos=new V(w.clientX,w.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(st(document,"touchend",Ur),st(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",w))},this),X2),st(document,"touchend touchcancel contextmenu",this._cancel,this),st(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function f(){ir(document,"touchend",Ur),ir(document,"touchend touchcancel",f)},_cancel:function(){clearTimeout(this._holdTimeout),ir(document,"touchend touchcancel contextmenu",this._cancel,this),ir(document,"touchmove",this._onMove,this)},_onMove:function(f){var w=f.touches[0];this._newPos=new V(w.clientX,w.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(f,w){var B=new MouseEvent(f,{bubbles:!0,cancelable:!0,view:window,screenX:w.screenX,screenY:w.screenY,clientX:w.clientX,clientY:w.clientY});B._simulated=!0,w.target.dispatchEvent(B)}});vn.addInitHook("addHandler","tapHold",dg),vn.mergeOptions({touchZoom:ht.touch,bounceAtZoomLimits:!0});var hg=fe.extend({addHooks:function(){an(this._map._container,"leaflet-touch-zoom"),st(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Fr(this._map._container,"leaflet-touch-zoom"),ir(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){var w=this._map;if(!(!f.touches||f.touches.length!==2||w._animatingZoom||this._zooming)){var B=w.mouseEventToContainerPoint(f.touches[0]),k=w.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=w.getSize()._divideBy(2),this._startLatLng=w.containerPointToLatLng(this._centerPoint),w.options.touchZoom!=="center"&&(this._pinchStartLatLng=w.containerPointToLatLng(B.add(k)._divideBy(2))),this._startDist=B.distanceTo(k),this._startZoom=w.getZoom(),this._moved=!1,this._zooming=!0,w._stop(),st(document,"touchmove",this._onTouchMove,this),st(document,"touchend touchcancel",this._onTouchEnd,this),Ur(f)}},_onTouchMove:function(f){if(!(!f.touches||f.touches.length!==2||!this._zooming)){var w=this._map,B=w.mouseEventToContainerPoint(f.touches[0]),k=w.mouseEventToContainerPoint(f.touches[1]),z=B.distanceTo(k)/this._startDist;if(this._zoom=w.getScaleZoom(z,this._startZoom),!w.options.bounceAtZoomLimits&&(this._zoom<w.getMinZoom()&&z<1||this._zoom>w.getMaxZoom()&&z>1)&&(this._zoom=w._limitZoom(this._zoom)),w.options.touchZoom==="center"){if(this._center=this._startLatLng,z===1)return}else{var ne=B._add(k)._divideBy(2)._subtract(this._centerPoint);if(z===1&&ne.x===0&&ne.y===0)return;this._center=w.unproject(w.project(this._pinchStartLatLng,this._zoom).subtract(ne),this._zoom)}this._moved||(w._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var ve=o(w._move,w,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=R(ve,this,!0),Ur(f)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),ir(document,"touchmove",this._onTouchMove,this),ir(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});vn.addInitHook("addHandler","touchZoom",hg),vn.BoxZoom=sp,vn.DoubleClickZoom=q1,vn.Drag=ip,vn.Keyboard=op,vn.ScrollWheelZoom=Ag,vn.TapHold=dg,vn.TouchZoom=hg,n.Bounds=ce,n.Browser=ht,n.CRS=de,n.Canvas=G1,n.Circle=Nl,n.CircleMarker=Ha,n.Class=$,n.Control=si,n.DivIcon=z1,n.DivOverlay=so,n.DomEvent=vc,n.DomUtil=H1,n.Draggable=Qe,n.Evented=oe,n.FeatureGroup=ha,n.GeoJSON=Ws,n.GridLayer=qd,n.Handler=fe,n.Icon=pa,n.ImageOverlay=Lo,n.LatLng=re,n.LatLngBounds=G,n.Layer=Sr,n.LayerGroup=no,n.LineUtil=OA,n.Map=vn,n.Marker=_l,n.Mixin=be,n.Path=ms,n.Point=V,n.PolyUtil=rn,n.Polygon=Ec,n.Polyline=ro,n.Popup=Tc,n.PosAnimation=Vd,n.Projection=$A,n.Rectangle=Do,n.Renderer=Ll,n.SVG=Du,n.SVGOverlay=gs,n.TileLayer=Fl,n.Tooltip=rp,n.Transformation=Ee,n.Util=W,n.VideoOverlay=ar,n.bind=o,n.bounds=M,n.canvas=K1,n.circle=np,n.circleMarker=Ic,n.control=xc,n.divIcon=W2,n.extend=s,n.featureGroup=fa,n.geoJSON=Lu,n.geoJson=ma,n.gridLayer=G2,n.icon=tp,n.imageOverlay=Zn,n.latLng=ue,n.latLngBounds=X,n.layerGroup=Gd,n.map=Yf,n.marker=To,n.point=le,n.polygon=Il,n.polyline=os,n.popup=cg,n.rectangle=ug,n.setOptions=m,n.stamp=l,n.svg=io,n.svgOverlay=kc,n.tileLayer=V1,n.tooltip=V2,n.transformation=Ue,n.version=r,n.videoOverlay=as;var fg=window.L;n.noConflict=function(){return window.L=fg,this},window.L=n})})(K4,K4.exports);var zN=K4.exports;const ZX=Lx(zN);function JX(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function eY(t,e){return e==null?function(r,s){const i=O.useRef();return i.current||(i.current=t(r,s)),i}:function(r,s){const i=O.useRef();i.current||(i.current=t(r,s));const o=O.useRef(r),{instance:a}=i.current;return O.useEffect(function(){o.current!==r&&(e(a,r,o.current),o.current=r)},[a,r,s]),i}}function Dve(t,e){O.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var i;(i=e.layerContainer)==null||i.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function tY(t){return function(n){const r=XX(),s=t(YX(n,r),r);return Nve(r.map,n.attribution),Lve(s.current,n.eventHandlers),Dve(s.current,r),s}}function Pve(t,e){const n=eY(t,e),r=tY(n);return Tve(r)}function Rve(t,e){const n=eY(t,e),r=tY(n);return Fve(r)}function Ove(t,e,n){const{opacity:r,zIndex:s}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),s!=null&&s!==n.zIndex&&t.setZIndex(s)}function UP(){return XX().map}function $ve(t){const e=UP();return O.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function q4(){return q4=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q4.apply(this,arguments)}function Uve({bounds:t,boundsOptions:e,center:n,children:r,className:s,id:i,placeholder:o,style:a,whenReady:l,zoom:c,...u},A){const[d]=O.useState({className:s,id:i,style:a}),[h,p]=O.useState(null);O.useImperativeHandle(A,()=>(h==null?void 0:h.map)??null,[h]);const m=O.useCallback(g=>{if(g!==null&&h===null){const v=new zN.Map(g,u);n!=null&&c!=null?v.setView(n,c):t!=null&&v.fitBounds(t,e),l!=null&&v.whenReady(l),p(Eve(v))}},[]);O.useEffect(()=>()=>{h==null||h.map.remove()},[h]);const y=h?it.createElement(qX,{value:h},r):o??null;return it.createElement("div",q4({},d,{ref:m}),y)}const Mve=O.forwardRef(Uve),Qve=Pve(function({position:e,...n},r){const s=new zN.Marker(e,n);return JX(s,kve(r,{overlayContainer:s}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),jve=Rve(function({url:e,...n},r){const s=new zN.TileLayer(e,YX(n,r));return JX(s,r)},function(e,n,r){Ove(e,n,r);const{url:s}=n;s!=null&&s!==r.url&&e.setUrl(s)}),Hve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",zve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let Vve=ZX.icon({iconUrl:Hve,shadowUrl:zve,iconSize:[25,41],iconAnchor:[12,41]});ZX.Marker.prototype.options.icon=Vve;const Wve=({onLocationSelect:t})=>{const[e,n]=O.useState(null),r=UP();return $ve({click(s){n(s.latlng),t(s.latlng.lat,s.latlng.lng),r.flyTo(s.latlng,r.getZoom())}}),e===null?null:x.jsx(Qve,{position:e})},Gve=({center:t})=>{const e=UP();return O.useEffect(()=>{e.flyTo(t,13)},[t,e]),null},Kve=({onLocationSelect:t})=>{const[e,n]=O.useState(""),[r,s]=O.useState([20.5937,78.9629]),i=async()=>{if(e)try{const l=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(e)}`)).json();if(l&&l.length>0){const{lat:c,lon:u,display_name:A}=l[0],d=parseFloat(c),h=parseFloat(u);s([d,h]),t(d,h,A)}}catch(a){console.error("Error searching location:",a)}},o=async(a,l)=>{try{const u=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${l}`)).json();u&&(n(u.display_name),t(a,l,u.display_name))}catch(c){console.error("Error reverse geocoding:",c);const u=`${a.toFixed(4)}, ${l.toFixed(4)}`;n(u),t(a,l,u)}};return x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex gap-2",children:[x.jsx(jo,{placeholder:"Search for a location...",value:e,onChange:a=>n(a.target.value),onKeyDown:a=>a.key==="Enter"&&i()}),x.jsx(Pt,{onClick:i,size:"icon",variant:"secondary",children:x.jsx(V0,{className:"w-4 h-4"})})]}),x.jsxs("div",{className:"h-[300px] w-full rounded-md overflow-hidden border relative z-0",children:[x.jsxs(Mve,{center:r,zoom:5,style:{height:"100%",width:"100%"},children:[x.jsx(jve,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),x.jsx(Wve,{onLocationSelect:o}),x.jsx(Gve,{center:r})]}),x.jsxs("div",{className:"absolute bottom-2 left-2 right-2 bg-background/80 backdrop-blur-sm p-2 rounded text-xs text-center border pointer-events-none z-[1000]",children:[x.jsx(au,{className:"w-3 h-3 inline mr-1"}),"Click on the map to set precise location"]})]})]})},qve=()=>{const{selectedCity:t}=Vx(),{user:e}=If(),{events:n,createEvent:r,joinEvent:s,getMyEvents:i,leaveEvent:o,acceptRequest:a,rejectRequest:l,cancelRequest:c}=Bpe(),[u,A]=O.useState("events"),[d,h]=O.useState(""),[p,m]=O.useState(null),[y,g]=O.useState(!1),[v,b]=O.useState({sport:"",date:"",startTime:"",endTime:"",location:"",coordinates:void 0,requiredPlayers:1,description:"",skillLevel:"Intermediate"}),C=($,Y,J)=>{b({...v,location:J,coordinates:{lat:$,lng:Y}})},_=["Cricket","Football","Badminton","Tennis","Pickleball"],I=["Beginner","Intermediate","Advanced","Expert"],F=()=>{if(!v.sport||!v.date||!v.startTime||!v.endTime||!v.location){Ln.error("Please fill in all required fields");return}r({...v,requiredPlayers:Number(v.requiredPlayers)}),g(!1),Ln.success("Event created successfully! "),A("my-events")},T=$=>{if(!e){Ln.error("Please login to join events");return}s($),Ln.success("Request sent! Waiting for host approval. ")},D=n.filter($=>{const Y=!d||$.sport.toLowerCase().includes(d.toLowerCase())||$.location.toLowerCase().includes(d.toLowerCase()),J=!p||$.sport===p;return Y&&J&&$.status==="Open"}),H=uve.filter($=>{const Y=$.city.toLowerCase()===t.name.toLowerCase(),J=!d||$.name.toLowerCase().includes(d.toLowerCase()),oe=!p||$.sports.includes(p);return Y&&J&&oe}),R=i(),U=()=>R.hosted.reduce(($,Y)=>$+Y.pendingRequests.length,0),W=()=>n.filter($=>$.pendingRequests.includes((e==null?void 0:e.id)||"")).length;return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx(Om,{}),x.jsx("main",{className:"pt-20 pb-12",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 mb-8",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Community & Events"}),x.jsx("p",{className:"text-muted-foreground",children:"Find games, connect with players, and build your reputation."})]}),e&&x.jsxs(_we,{open:y,onOpenChange:g,children:[x.jsx(Nwe,{asChild:!0,children:x.jsxs(Pt,{className:"shadow-lg shadow-primary/20",children:[x.jsx(jB,{className:"w-4 h-4 mr-2"})," Create Event"]})}),x.jsxs(Mq,{className:"max-w-lg max-h-[85vh] overflow-y-auto",children:[x.jsx(Qq,{children:x.jsx(jq,{children:"Create New Event"})}),x.jsxs("div",{className:"space-y-4 py-4",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(qA,{children:"Sport"}),x.jsxs(V4,{onValueChange:$=>b({...v,sport:$}),children:[x.jsx(o_,{children:x.jsx(W4,{placeholder:"Select sport"})}),x.jsx(a_,{children:_.map($=>x.jsx(l_,{value:$,children:$},$))})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(qA,{children:"Skill Level"}),x.jsxs(V4,{onValueChange:$=>b({...v,skillLevel:$}),children:[x.jsx(o_,{children:x.jsx(W4,{placeholder:"Select Level"})}),x.jsx(a_,{children:I.map($=>x.jsx(l_,{value:$,children:$},$))})]})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(qA,{children:"Date"}),x.jsx(jo,{type:"date",onChange:$=>b({...v,date:$.target.value})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(qA,{children:"Start Time"}),x.jsx(jo,{type:"time",onChange:$=>b({...v,startTime:$.target.value})})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(qA,{children:"End Time"}),x.jsx(jo,{type:"time",onChange:$=>b({...v,endTime:$.target.value})})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(qA,{children:"Location / Venue"}),x.jsx(Kve,{onLocationSelect:C}),v.location&&x.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Selected: ",v.location]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(qA,{children:"Players Needed"}),x.jsx(jo,{type:"number",min:"1",placeholder:"1",onChange:$=>b({...v,requiredPlayers:parseInt($.target.value)||1})})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(qA,{children:"Description"}),x.jsx(jo,{placeholder:"e.g. Looking for intermediate players for doubles",onChange:$=>b({...v,description:$.target.value})})]}),x.jsx(Pt,{className:"w-full",onClick:F,children:"Create Event"})]})]})]})]}),x.jsx("div",{className:"flex justify-center mb-8",children:x.jsx("div",{className:"flex gap-2 p-1 bg-secondary/30 rounded-full",children:[{id:"events",label:"Find Events",icon:V0},{id:"players",label:"Find Players",icon:sA},{id:"my-events",label:"My Events",icon:Jc}].map($=>x.jsxs("button",{onClick:()=>A($.id),className:`flex items-center gap-2 px-6 py-2 rounded-full font-medium text-sm transition-all ${u===$.id?"bg-primary text-primary-foreground shadow-md":"hover:bg-background/50 text-muted-foreground"}`,children:[x.jsx($.icon,{className:"w-4 h-4"}),$.label,$.id==="my-events"&&e&&U()>0&&x.jsx("span",{className:"ml-2 bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full",children:U()})]},$.id))})}),u!=="my-events"&&x.jsxs("div",{className:"space-y-4 mb-8",children:[x.jsx("div",{className:"flex gap-4",children:x.jsxs("div",{className:"relative flex-1 max-w-md mx-auto",children:[x.jsx(V0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),x.jsx(jo,{placeholder:u==="events"?"Search by sport or location...":"Search players...",className:"pl-9 bg-card",value:d,onChange:$=>h($.target.value)})]})}),x.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:_.map($=>x.jsx("button",{className:`px-3 py-1 rounded-full text-xs font-medium border transition-colors ${p===$?"bg-primary text-primary-foreground border-primary":"bg-card hover:border-primary/50 text-muted-foreground"}`,onClick:()=>m(p===$?null:$),children:$},$))})]}),x.jsxs("div",{className:"min-h-[400px]",children:[u==="events"&&x.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[D.map($=>{const Y=$.joinedPlayers.includes((e==null?void 0:e.id)||""),J=$.pendingRequests.includes((e==null?void 0:e.id)||""),oe=(e==null?void 0:e.id)===$.creatorId;return x.jsxs(Ft.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-card border rounded-xl p-5 hover:border-primary/50 transition-all group",children:[x.jsxs("div",{className:"flex justify-between items-start mb-4",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-lg",children:$.sport}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:["Hosted by ",$.creatorName]})]}),x.jsx("span",{className:"bg-primary/10 text-primary text-[10px] uppercase tracking-wider font-bold px-2 py-1 rounded-full",children:$.skillLevel})]}),x.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground mb-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(Jc,{className:"w-4 h-4 text-primary/70"}),x.jsx("span",{children:new Date($.date).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(kp,{className:"w-4 h-4 text-primary/70"}),x.jsxs("span",{children:[$.startTime," - ",$.endTime]})]}),x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx(au,{className:"w-4 h-4 text-primary/70 mt-1"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"line-clamp-2",children:$.location}),$.coordinates&&x.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${$.coordinates.lat},${$.coordinates.lng}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-blue-500 hover:underline flex items-center gap-1 mt-0.5",children:"View on Map"})]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(sA,{className:"w-4 h-4 text-primary/70"}),x.jsxs("span",{children:[$.joinedPlayers.length," / ",$.requiredPlayers+1," Players"]})]})]}),x.jsx(Pt,{className:`w-full transition-colors group-hover:shadow-lg ${J?"bg-orange-100 text-orange-600 hover:bg-orange-200":Y?"bg-green-100 text-green-600 hover:bg-green-200":""}`,onClick:()=>J?c($.id):T($.id),disabled:oe||Y,children:oe?"You are hosting":Y?"Joined":J?"Pending Approval (Cancel)":"Request to Join"})]},$.id)}),D.length===0&&x.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-16 text-muted-foreground bg-card/50 rounded-2xl border-dashed border-2",children:[x.jsx(pA,{className:"w-12 h-12 mb-4 opacity-20"}),x.jsx("p",{className:"font-medium",children:"No active events found"}),x.jsx("p",{className:"text-sm",children:"Be the first to create one!"})]})]}),u==="players"&&x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map($=>x.jsxs(Ft.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-card border rounded-xl p-6 group hover:shadow-lg transition-all",children:[x.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[x.jsx("img",{src:$.avatar,alt:$.name,className:"w-16 h-16 rounded-full object-cover border-2 border-border group-hover:border-primary transition-colors"}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-lg",children:$.name}),x.jsxs("div",{className:"flex items-center gap-1 text-yellow-500 text-sm font-medium",children:[x.jsx(vh,{className:"w-4 h-4 fill-current"})," ",$.rating," ",x.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",$.matchesPlayed," matches)"]})]}),x.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[x.jsx(au,{className:"w-3 h-3"})," ",$.city]})]})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[$.sports.map(Y=>x.jsx("span",{className:"text-xs font-medium bg-secondary px-2 py-1 rounded",children:Y},Y)),x.jsx("span",{className:"text-xs font-bold bg-primary/10 text-primary px-2 py-1 rounded",children:$.skillLevel})]}),x.jsx(Pt,{variant:"outline",className:"w-full group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:"Connect"})]},$.id))}),u==="my-events"&&x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[x.jsxs("div",{className:"bg-card border rounded-xl p-6 flex flex-col items-center justify-center text-center group hover:border-primary/50 transition-colors",children:[x.jsx("span",{className:"text-4xl font-bold text-primary mb-1 group-hover:scale-110 transition-transform",children:R.hosted.length}),x.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-widest",children:"Hosting"})]}),x.jsxs("div",{className:"bg-card border rounded-xl p-6 flex flex-col items-center justify-center text-center group hover:border-primary/50 transition-colors",children:[x.jsx("span",{className:"text-4xl font-bold text-orange-500 mb-1 group-hover:scale-110 transition-transform",children:U()+W()}),x.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-widest",children:"Pending Requests"})]}),x.jsxs("div",{className:"bg-card border rounded-xl p-6 flex flex-col items-center justify-center text-center group hover:border-primary/50 transition-colors",children:[x.jsx("span",{className:"text-4xl font-bold text-blue-500 mb-1 group-hover:scale-110 transition-transform",children:R.joined.length}),x.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-widest",children:"Joining"})]}),x.jsxs("div",{className:"bg-card border rounded-xl p-6 flex flex-col items-center justify-center text-center group hover:border-primary/50 transition-colors",children:[x.jsx("span",{className:"text-4xl font-bold text-slate-500 mb-1 group-hover:scale-110 transition-transform",children:"1"}),x.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-widest",children:"Past"})]})]}),x.jsxs(_ve,{defaultValue:"hosting",className:"w-full",children:[x.jsxs(GX,{className:"w-full justify-start bg-transparent border-b rounded-none p-0 h-auto gap-6",children:[x.jsxs(tB,{value:"hosting",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-0 pb-2 text-muted-foreground data-[state=active]:text-foreground",children:["Events I Created ",x.jsx("span",{className:"ml-2 bg-primary/10 text-primary text-xs px-2 py-0.5 rounded-full",children:R.hosted.length})]}),x.jsxs(tB,{value:"joined",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-0 pb-2 text-muted-foreground data-[state=active]:text-foreground",children:["Events I Joined ",x.jsx("span",{className:"ml-2 bg-blue-500/10 text-blue-600 text-xs px-2 py-0.5 rounded-full",children:R.joined.length})]}),x.jsxs(tB,{value:"pending",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-0 pb-2 text-muted-foreground data-[state=active]:text-foreground",children:["My Pending Requests ",x.jsx("span",{className:"ml-2 bg-orange-500/10 text-orange-600 text-xs px-2 py-0.5 rounded-full",children:W()})]})]}),x.jsxs(nB,{value:"hosting",className:"mt-6 space-y-4",children:[R.hosted.map($=>x.jsxs("div",{className:"bg-card border rounded-xl p-4 gap-6 group hover:border-primary/30 transition-all",children:[x.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 mb-4",children:[x.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center text-primary shrink-0",children:x.jsx(pA,{className:"w-6 h-6"})}),x.jsxs("div",{className:"flex-1 text-center md:text-left",children:[x.jsxs("h4",{className:"font-bold text-lg",children:[$.sport," ",x.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",$.joinedPlayers.length,"/",$.requiredPlayers+1,")"]})]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3 text-sm text-muted-foreground mt-1",children:[x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(Jc,{className:"w-3 h-3"})," ",new Date($.date).toLocaleDateString()]}),x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(kp,{className:"w-3 h-3"})," ",$.startTime," - ",$.endTime]})]})]}),x.jsx("div",{className:"flex items-center gap-3",children:x.jsx("span",{className:"text-xs font-bold bg-secondary px-3 py-1 rounded-full",children:$.status})})]}),$.pendingRequests.length>0&&x.jsxs("div",{className:"bg-orange-50/50 border border-orange-100 rounded-lg p-3 mt-4",children:[x.jsxs("h5",{className:"text-xs font-bold text-orange-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[x.jsx(sA,{className:"w-3 h-3"})," ",$.pendingRequests.length," Pending Requests"]}),x.jsx("div",{className:"space-y-2",children:$.pendingRequests.map(Y=>x.jsxs("div",{className:"flex items-center justify-between bg-white/50 p-2 rounded-md",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-xs font-bold",children:"U"}),x.jsxs("span",{className:"text-sm font-medium",children:["User ",Y]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Pt,{size:"sm",variant:"outline",className:"h-8 w-8 p-0 text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>l($.id,Y),children:x.jsx(Qx,{className:"w-4 h-4"})}),x.jsx(Pt,{size:"sm",className:"h-8 w-8 p-0 bg-green-500 hover:bg-green-600",onClick:()=>a($.id,Y),children:x.jsx(cG,{className:"w-4 h-4"})})]})]},Y))})]})]},$.id)),R.hosted.length===0&&x.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-xl",children:[x.jsx("p",{children:"You haven't created any events yet."}),x.jsx(Pt,{variant:"link",onClick:()=>g(!0),className:"text-primary",children:"Create one now"})]})]}),x.jsxs(nB,{value:"joined",className:"mt-6 space-y-4",children:[R.joined.map($=>x.jsxs("div",{className:"bg-card border rounded-xl p-4 flex flex-col md:flex-row items-center gap-6 group hover:border-blue-500/30 transition-all",children:[x.jsx("div",{className:"w-12 h-12 bg-blue-500/10 rounded-full flex items-center justify-center text-blue-600",children:x.jsx(zue,{className:"w-6 h-6"})}),x.jsxs("div",{className:"flex-1 text-center md:text-left",children:[x.jsx("h4",{className:"font-bold text-lg",children:$.sport}),x.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:["Hosted by ",$.creatorName]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3 text-sm text-muted-foreground",children:[x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(Jc,{className:"w-3 h-3"})," ",new Date($.date).toLocaleDateString()]}),x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(kp,{className:"w-3 h-3"})," ",$.startTime," - ",$.endTime]})]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"bg-blue-50 text-blue-600 text-xs font-bold px-3 py-1 rounded-full",children:"Joined"}),x.jsx(Pt,{variant:"outline",className:"text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>o($.id),children:"Leave"})]})]},$.id)),R.joined.length===0&&x.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-xl",children:[x.jsx("p",{children:"You haven't joined any events yet."}),x.jsx(Pt,{variant:"link",onClick:()=>A("events"),className:"text-primary",children:"Find events"})]})]}),x.jsxs(nB,{value:"pending",className:"mt-6 space-y-4",children:[n.filter($=>$.pendingRequests.includes((e==null?void 0:e.id)||"")).map($=>x.jsxs("div",{className:"bg-card border rounded-xl p-4 flex flex-col md:flex-row items-center gap-6 group hover:border-orange-500/30 transition-all",children:[x.jsx("div",{className:"w-12 h-12 bg-orange-500/10 rounded-full flex items-center justify-center text-orange-600",children:x.jsx(Lue,{className:"w-6 h-6"})}),x.jsxs("div",{className:"flex-1 text-center md:text-left",children:[x.jsx("h4",{className:"font-bold text-lg",children:$.sport}),x.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:["Hosted by ",$.creatorName]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3 text-sm text-muted-foreground",children:[x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(Jc,{className:"w-3 h-3"})," ",new Date($.date).toLocaleDateString()]}),x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(kp,{className:"w-3 h-3"})," ",$.startTime," - ",$.endTime]})]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"bg-orange-50 text-orange-600 text-xs font-bold px-3 py-1 rounded-full",children:"Request Sent"}),x.jsx(Pt,{variant:"outline",className:"text-muted-foreground hover:bg-secondary",onClick:()=>c($.id),children:"Cancel"})]})]},$.id)),n.filter($=>$.pendingRequests.includes((e==null?void 0:e.id)||"")).length===0&&x.jsx("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-xl",children:x.jsx("p",{children:"You have no pending join requests."})})]})]})]})]})]})}),x.jsx(By,{}),x.jsx(_y,{})]})},Xve=[{id:"t001",name:"Ahmedabad Premier Cricket League",sport:"Cricket",image:"https://images.unsplash.com/photo-1531415074968-036ba1b575da?w=800&auto=format&fit=crop",city:"Ahmedabad",venue:"Elite Cricket Arena, Satellite",date:"2025-02-15",time:"08:00 AM",entryFee:5e3,prizePool:1e5,maxTeams:16,registeredTeams:12,format:"T20",description:"The biggest cricket tournament in Ahmedabad! Teams from across the city compete for glory and massive prizes.",rules:["Team of 11 players + 4 substitutes","20 overs per side","DRS not available","Matches start sharp at scheduled time"],prizes:[{position:"1st",prize:"50,000 + Trophy"},{position:"2nd",prize:"25,000"},{position:"3rd",prize:"15,000"},{position:"Best Batsman",prize:"5,000"},{position:"Best Bowler",prize:"5,000"}],organizer:"PlayPal Sports",contactPhone:"+91 98765 11111",status:"Registration Open",registrationDeadline:"2025-02-10"},{id:"t002",name:"Gujarat Badminton Open",sport:"Badminton",image:"https://images.unsplash.com/photo-1626224583764-f87db24ac4ea?w=800&auto=format&fit=crop",city:"Ahmedabad",venue:"Shuttle Masters, Prahladnagar",date:"2025-02-08",time:"09:00 AM",entryFee:500,prizePool:25e3,maxTeams:64,registeredTeams:48,format:"Singles & Doubles",description:"Open badminton tournament for all skill levels. Separate categories for beginners and advanced players.",rules:["BWF rules apply","Best of 3 games","21 points per game","Own equipment required"],prizes:[{position:"Singles Winner",prize:"10,000 + Trophy"},{position:"Singles Runner-up",prize:"5,000"},{position:"Doubles Winner",prize:"6,000"},{position:"Doubles Runner-up",prize:"4,000"}],organizer:"Shuttle Masters Academy",contactPhone:"+91 98765 22222",status:"Registration Open",registrationDeadline:"2025-02-05"},{id:"t003",name:"5-A-Side Football Championship",sport:"Football",image:"https://images.unsplash.com/photo-1529900748604-07564a03e7a6?w=800&auto=format&fit=crop",city:"Surat",venue:"Diamond City Ground, Vesu",date:"2025-02-22",time:"06:00 PM",entryFee:3e3,prizePool:5e4,maxTeams:12,registeredTeams:8,format:"5-a-Side",description:"Fast-paced 5-a-side football tournament under floodlights. Perfect for corporate teams and friend groups!",rules:["5 players per team + 3 substitutes","20 minutes per half","Rolling substitutions","No offside rule"],prizes:[{position:"1st",prize:"25,000 + Trophy"},{position:"2nd",prize:"15,000"},{position:"3rd",prize:"10,000"}],organizer:"Surat Sports Club",contactPhone:"+91 98765 33333",status:"Registration Open",registrationDeadline:"2025-02-18"},{id:"t004",name:"Tennis Masters Vadodara",sport:"Tennis",image:"https://images.unsplash.com/photo-1622279457486-62dcc4a431d6?w=800&auto=format&fit=crop",city:"Vadodara",venue:"Baroda Sports Club",date:"2025-03-01",time:"07:00 AM",entryFee:1e3,prizePool:4e4,maxTeams:32,registeredTeams:18,format:"Singles",description:"Prestigious tennis tournament attracting players from across Gujarat.",rules:["ITF rules apply","Best of 3 sets","Tie-break at 6-6","White dress code preferred"],prizes:[{position:"Winner",prize:"20,000 + Trophy"},{position:"Runner-up",prize:"12,000"},{position:"Semi-finalists",prize:"4,000 each"}],organizer:"Vadodara Tennis Association",contactPhone:"+91 98765 44444",status:"Upcoming",registrationDeadline:"2025-02-25"},{id:"t005",name:"Corporate Cricket Cup",sport:"Cricket",image:"https://images.unsplash.com/photo-1540747913346-19e32dc3e97e?w=800&auto=format&fit=crop",city:"Gandhinagar",venue:"Capital Sports Arena",date:"2025-02-28",time:"08:00 AM",entryFee:8e3,prizePool:15e4,maxTeams:8,registeredTeams:6,format:"T10",description:"Exclusive tournament for corporate teams. Network while you play!",rules:["Corporate teams only","10 overs per side","Team of 8 players","Company ID required"],prizes:[{position:"1st",prize:"75,000 + Trophy"},{position:"2nd",prize:"40,000"},{position:"3rd",prize:"25,000"},{position:"MVP",prize:"10,000"}],organizer:"PlayPal Corporate",contactPhone:"+91 98765 55555",status:"Registration Open",registrationDeadline:"2025-02-22"},{id:"t006",name:"Pickleball Premiere League",sport:"Pickleball",image:"https://images.unsplash.com/photo-1554068865-24cecd4e34b8?w=800&auto=format&fit=crop",city:"Ahmedabad",venue:"Pickle Point Arena, Vastrapur",date:"2025-02-12",time:"10:00 AM",entryFee:300,prizePool:15e3,maxTeams:32,registeredTeams:24,format:"Doubles",description:"Gujarat's first major pickleball tournament! Perfect for beginners and enthusiasts.",rules:["USA Pickleball rules","Best of 3 games to 11","Paddles provided if needed","Mixed doubles category available"],prizes:[{position:"Winners",prize:"8,000 + Trophy"},{position:"Runners-up",prize:"4,000"},{position:"3rd Place",prize:"3,000"}],organizer:"Pickle Point Academy",contactPhone:"+91 98765 66666",status:"Registration Open",registrationDeadline:"2025-02-08"},{id:"t007",name:"Rajkot Football League",sport:"Football",image:"https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&auto=format&fit=crop",city:"Rajkot",venue:"Race Course Sports Club",date:"2025-03-10",time:"05:00 PM",entryFee:4e3,prizePool:6e4,maxTeams:10,registeredTeams:4,format:"7-a-Side",description:"Premier football league in Rajkot. League format with playoffs!",rules:["7 players per team","League + Knockout format","25 minutes per half","Yellow/Red card system"],prizes:[{position:"Champions",prize:"30,000 + Trophy"},{position:"Runners-up",prize:"18,000"},{position:"3rd Place",prize:"12,000"}],organizer:"Rajkot Football Club",contactPhone:"+91 98765 77777",status:"Upcoming",registrationDeadline:"2025-03-05"},{id:"t008",name:"Women's Badminton Championship",sport:"Badminton",image:"https://images.unsplash.com/photo-1613918431703-aa50889e3be4?w=800&auto=format&fit=crop",city:"Surat",venue:"Smash Badminton Hub, Adajan",date:"2025-02-20",time:"09:00 AM",entryFee:400,prizePool:2e4,maxTeams:48,registeredTeams:32,format:"Singles & Doubles",description:"Exclusive women's badminton tournament to encourage female participation in sports.",rules:["Women only","Age categories: U-18, Open, 35+","BWF rules apply","Medals for all finalists"],prizes:[{position:"Open Singles",prize:"8,000"},{position:"Open Doubles",prize:"6,000"},{position:"U-18 Winner",prize:"3,000"},{position:"35+ Winner",prize:"3,000"}],organizer:"Gujarat Women Sports Association",contactPhone:"+91 98765 88888",status:"Registration Open",registrationDeadline:"2025-02-15"}],Yve=()=>{const t=sa();Vx();const{isAuthenticated:e}=If(),[n,r]=O.useState(null),s=["Cricket","Football","Badminton","Tennis","Pickleball"],i=Xve.filter(a=>!n||a.sport===n),o=a=>{if(!e){Ln.error("Please login to register"),t("/login");return}Ln.success(`Registered for ${a}! `)};return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx(Om,{}),x.jsx("main",{className:"pt-20 pb-12",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs("div",{className:"mb-8",children:[x.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Tournaments"}),x.jsx("p",{className:"text-muted-foreground",children:"Compete, win, and earn rewards"})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[x.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium ${n?"bg-secondary":"bg-primary text-primary-foreground"}`,onClick:()=>r(null),children:"All Sports"}),s.map(a=>x.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium ${n===a?"bg-primary text-primary-foreground":"bg-secondary"}`,onClick:()=>r(a),children:a},a))]}),x.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:i.map((a,l)=>x.jsxs(Ft.div,{className:"bg-card border rounded-xl overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.05},children:[x.jsxs("div",{className:"relative h-48",children:[x.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),x.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[x.jsx("span",{className:"px-2 py-1 bg-primary text-primary-foreground rounded text-xs font-medium",children:a.sport}),x.jsx("h3",{className:"text-white font-bold text-xl mt-2",children:a.name})]}),x.jsx("div",{className:"absolute top-4 right-4 px-3 py-1 bg-accent text-accent-foreground rounded-full text-sm font-medium",children:a.status})]}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx(Jc,{className:"w-4 h-4 text-primary"}),new Date(a.date).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short"})]}),x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx(kp,{className:"w-4 h-4 text-primary"}),a.time]}),x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx(au,{className:"w-4 h-4 text-primary"}),a.city]}),x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx(sA,{className:"w-4 h-4 text-primary"}),a.registeredTeams,"/",a.maxTeams," teams"]})]}),x.jsxs("div",{className:"flex items-center justify-between p-4 bg-secondary rounded-lg mb-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-muted-foreground",children:"Entry Fee"}),x.jsxs("p",{className:"font-bold flex items-center",children:[x.jsx(dG,{className:"w-4 h-4"}),a.entryFee]})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-sm text-muted-foreground",children:"Prize Pool"}),x.jsxs("p",{className:"font-bold text-primary flex items-center justify-end",children:[x.jsx(pA,{className:"w-4 h-4 mr-1"}),"",a.prizePool.toLocaleString()]})]})]}),x.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:a.description}),x.jsx(Pt,{className:"w-full",onClick:()=>o(a.name),disabled:a.registeredTeams>=a.maxTeams,children:a.registeredTeams>=a.maxTeams?"Fully Booked":"Register Now"})]})]},a.id))})]})}),x.jsx(By,{}),x.jsx(_y,{})]})},Zve=()=>{const t=sa(),{user:e,logout:n}=If(),{getBookingsByVenue:r,addBooking:s,getAvailableSlots:i}=TN(),[o,a]=O.useState(new Date().toISOString().split("T")[0]),[l,c]=O.useState(!1),[u,A]=O.useState({name:"",phone:"",slot:""});if(!e||e.role!=="turf_owner")return t("/login"),null;const d=e,h=SK(d.turfId),p=r(d.turfId),m=p.filter(_=>_.date===o&&_.status!=="Cancelled"),y=i(d.turfId,o),g=p.filter(_=>_.status==="Completed"||_.status==="Confirmed").reduce((_,I)=>_+I.totalAmount,0),v=m.reduce((_,I)=>_+I.totalAmount,0),b=()=>{if(!u.name||!u.phone||!u.slot){Ln.error("Please fill all fields");return}s({venueId:d.turfId,venueName:(h==null?void 0:h.name)||d.turfName,sport:(h==null?void 0:h.sports[0])||"Cricket",date:o,timeSlot:u.slot,duration:1,totalAmount:(h==null?void 0:h.pricePerHour)||1e3,paidAmount:(h==null?void 0:h.pricePerHour)||1e3,remainingAmount:0,status:"Confirmed",userId:"manual",userName:u.name,userPhone:u.phone,isManual:!0}),Ln.success("Booking added successfully!"),A({name:"",phone:"",slot:""}),c(!1)},C=Array.from({length:7},(_,I)=>{const F=new Date;return F.setDate(F.getDate()+I),F.toISOString().split("T")[0]});return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx("header",{className:"bg-card border-b sticky top-0 z-40",children:x.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between gap-4",children:[x.jsxs("div",{className:"flex items-center gap-2 md:gap-4 overflow-hidden",children:[x.jsxs("span",{className:"text-xl font-bold shrink-0",children:[x.jsx("span",{className:"text-foreground",children:"P"}),x.jsx("span",{className:"text-primary",children:"l"}),x.jsx("span",{className:"hidden md:inline text-foreground",children:"ayPal"})]}),x.jsx("span",{className:"text-muted-foreground shrink-0",children:"|"}),x.jsx("span",{className:"font-medium truncate",children:d.turfName})]}),x.jsxs(Pt,{variant:"outline",size:"sm",onClick:()=>{n(),t("/")},className:"shrink-0",children:[x.jsx(hG,{className:"w-4 h-4 md:mr-2"}),x.jsx("span",{className:"hidden md:inline",children:"Logout"})]})]})}),x.jsxs("main",{className:"container mx-auto px-4 py-8",children:[x.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[x.jsxs("div",{className:"bg-card border rounded-xl p-4 md:p-6",children:[x.jsx("p",{className:"text-muted-foreground text-xs md:text-sm",children:"Today's Bookings"}),x.jsx("p",{className:"text-2xl md:text-3xl font-bold",children:m.length})]}),x.jsxs("div",{className:"bg-card border rounded-xl p-4 md:p-6",children:[x.jsx("p",{className:"text-muted-foreground text-xs md:text-sm",children:"Today's Revenue"}),x.jsxs("p",{className:"text-2xl md:text-3xl font-bold text-primary",children:["",v.toLocaleString()]})]}),x.jsxs("div",{className:"bg-card border rounded-xl p-4 md:p-6",children:[x.jsx("p",{className:"text-muted-foreground text-xs md:text-sm",children:"Total Bookings"}),x.jsx("p",{className:"text-2xl md:text-3xl font-bold",children:p.length})]}),x.jsxs("div",{className:"bg-card border rounded-xl p-4 md:p-6",children:[x.jsx("p",{className:"text-muted-foreground text-xs md:text-sm",children:"Total Revenue"}),x.jsxs("p",{className:"text-2xl md:text-3xl font-bold text-primary",children:["",g.toLocaleString()]})]})]}),x.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[x.jsxs("div",{className:"lg:col-span-2",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[x.jsx("h2",{className:"text-xl font-bold",children:"Booking Calendar"}),x.jsxs(Pt,{onClick:()=>c(!0),className:"w-full sm:w-auto",children:[x.jsx(jB,{className:"w-4 h-4 mr-2"}),"Add Manual Booking"]})]}),x.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:C.map(_=>{const I=new Date(_),F=p.filter(T=>T.date===_&&T.status!=="Cancelled").length;return x.jsxs("button",{className:`flex-shrink-0 px-4 py-3 rounded-xl text-center min-w-[80px] ${o===_?"bg-primary text-primary-foreground":"bg-card border"}`,onClick:()=>a(_),children:[x.jsx("div",{className:"text-xs",children:I.toLocaleDateString("en",{weekday:"short"})}),x.jsx("div",{className:"text-xl font-bold",children:I.getDate()}),x.jsxs("div",{className:"text-xs mt-1",children:[F," bookings"]})]},_)})}),x.jsxs("div",{className:"bg-card border rounded-xl p-6",children:[x.jsx("h3",{className:"font-semibold mb-4",children:"Time Slots"}),x.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:y.map(_=>{const I=m.find(F=>F.timeSlot===_.time);return x.jsxs("div",{className:`p-3 rounded-lg text-center ${I?"bg-primary/10 border-primary border":"bg-secondary"}`,children:[x.jsx("div",{className:"font-medium",children:_.time}),I&&x.jsx("div",{className:"text-xs mt-1 text-primary truncate",children:I.userName})]},_.time)})})]})]}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-bold mb-4",children:"Today's Schedule"}),x.jsx("div",{className:"space-y-3",children:m.length>0?m.map(_=>x.jsxs("div",{className:"bg-card border rounded-xl p-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"font-semibold",children:_.timeSlot}),x.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${_.isManual?"bg-accent/10 text-accent":"bg-primary/10 text-primary"}`,children:_.isManual?"Walk-in":"Online"})]}),x.jsx("p",{className:"font-medium",children:_.userName}),x.jsx("p",{className:"text-sm text-muted-foreground",children:_.userPhone}),x.jsxs("p",{className:"text-sm text-primary mt-1",children:["",_.paidAmount," paid"]})]},_.id)):x.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[x.jsx(Jc,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),x.jsx("p",{children:"No bookings for this day"})]})})]})]}),l&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs(Ft.div,{className:"bg-card rounded-xl p-6 w-full max-w-md",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[x.jsx("h3",{className:"text-xl font-bold mb-4",children:"Add Manual Booking"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Customer Name"}),x.jsx(jo,{value:u.name,onChange:_=>A({...u,name:_.target.value}),placeholder:"Enter customer name"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Phone Number"}),x.jsx(jo,{value:u.phone,onChange:_=>A({...u,phone:_.target.value}),placeholder:"Enter phone number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Time Slot"}),x.jsxs("select",{className:"w-full h-10 px-3 rounded-md border bg-background",value:u.slot,onChange:_=>A({...u,slot:_.target.value}),children:[x.jsx("option",{value:"",children:"Select a slot"}),y.filter(_=>_.isAvailable).map(_=>x.jsx("option",{value:_.time,children:_.time},_.time))]})]})]}),x.jsxs("div",{className:"flex gap-3 mt-6",children:[x.jsx(Pt,{variant:"outline",className:"flex-1",onClick:()=>c(!1),children:"Cancel"}),x.jsx(Pt,{className:"flex-1",onClick:b,children:"Add Booking"})]})]})})]})]})},nY=O.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:Yn("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));nY.displayName="Card";const Jve=O.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:Yn("flex flex-col space-y-1.5 p-6",t),...e}));Jve.displayName="CardHeader";const exe=O.forwardRef(({className:t,...e},n)=>x.jsx("h3",{ref:n,className:Yn("text-2xl font-semibold leading-none tracking-tight",t),...e}));exe.displayName="CardTitle";const txe=O.forwardRef(({className:t,...e},n)=>x.jsx("p",{ref:n,className:Yn("text-sm text-muted-foreground",t),...e}));txe.displayName="CardDescription";const rY=O.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:Yn("p-6 pt-0",t),...e}));rY.displayName="CardContent";const sY=O.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:Yn("flex items-center p-6 pt-0",t),...e}));sY.displayName="CardFooter";var nxe="Separator",WQ="horizontal",rxe=["horizontal","vertical"],iY=O.forwardRef((t,e)=>{const{decorative:n,orientation:r=WQ,...s}=t,i=sxe(r)?r:WQ,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return x.jsx(_n.div,{"data-orientation":i,...a,...s,ref:e})});iY.displayName=nxe;function sxe(t){return rxe.includes(t)}var oY=iY;const X4=O.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>x.jsx(oY,{ref:s,decorative:n,orientation:e,className:Yn("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));X4.displayName=oY.displayName;function mu(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function hm(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const aY=6048e5,ixe=864e5;let oxe={};function VN(){return oxe}function Jv(t,e){var a,l,c,u;const n=VN(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=mu(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function c_(t){return Jv(t,{weekStartsOn:1})}function lY(t){const e=mu(t),n=e.getFullYear(),r=hm(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=c_(r),i=hm(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=c_(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function GQ(t){const e=mu(t);return e.setHours(0,0,0,0),e}function KQ(t){const e=mu(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function axe(t,e){const n=GQ(t),r=GQ(e),s=+n-KQ(n),i=+r-KQ(r);return Math.round((s-i)/ixe)}function lxe(t){const e=lY(t),n=hm(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),c_(n)}function cxe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function uxe(t){if(!cxe(t)&&typeof t!="number")return!1;const e=mu(t);return!isNaN(Number(e))}function Axe(t){const e=mu(t),n=hm(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const dxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hxe=(t,e,n)=>{let r;const s=dxe[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function HT(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const fxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gxe={date:HT({formats:fxe,defaultWidth:"full"}),time:HT({formats:pxe,defaultWidth:"full"}),dateTime:HT({formats:mxe,defaultWidth:"full"})},yxe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wxe=(t,e,n,r)=>yxe[t];function fw(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const vxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xxe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bxe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cxe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Bxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_xe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Nxe={ordinalNumber:_xe,era:fw({values:vxe,defaultWidth:"wide"}),quarter:fw({values:xxe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:fw({values:bxe,defaultWidth:"wide"}),day:fw({values:Cxe,defaultWidth:"wide"}),dayPeriod:fw({values:Sxe,defaultWidth:"wide",formattingValues:Bxe,defaultFormattingWidth:"wide"})};function pw(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Exe(a,A=>A.test(o)):Ixe(a,A=>A.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function Ixe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Exe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function kxe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const Txe=/^(\d+)(th|st|nd|rd)?/i,Fxe=/\d+/i,Lxe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Dxe={any:[/^b/i,/^(a|c)/i]},Pxe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Rxe={any:[/1/i,/2/i,/3/i,/4/i]},Oxe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$xe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Uxe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mxe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Qxe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jxe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Hxe={ordinalNumber:kxe({matchPattern:Txe,parsePattern:Fxe,valueCallback:t=>parseInt(t,10)}),era:pw({matchPatterns:Lxe,defaultMatchWidth:"wide",parsePatterns:Dxe,defaultParseWidth:"any"}),quarter:pw({matchPatterns:Pxe,defaultMatchWidth:"wide",parsePatterns:Rxe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:pw({matchPatterns:Oxe,defaultMatchWidth:"wide",parsePatterns:$xe,defaultParseWidth:"any"}),day:pw({matchPatterns:Uxe,defaultMatchWidth:"wide",parsePatterns:Mxe,defaultParseWidth:"any"}),dayPeriod:pw({matchPatterns:Qxe,defaultMatchWidth:"any",parsePatterns:jxe,defaultParseWidth:"any"})},zxe={code:"en-US",formatDistance:hxe,formatLong:gxe,formatRelative:wxe,localize:Nxe,match:Hxe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vxe(t){const e=mu(t);return axe(e,Axe(e))+1}function Wxe(t){const e=mu(t),n=+c_(e)-+lxe(e);return Math.round(n/aY)+1}function cY(t,e){var u,A,d,h;const n=mu(t),r=n.getFullYear(),s=VN(),i=(e==null?void 0:e.firstWeekContainsDate)??((A=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:A.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(d=s.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=hm(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Jv(o,e),l=hm(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Jv(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Gxe(t,e){var a,l,c,u;const n=VN(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,s=cY(t,e),i=hm(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Jv(i,e)}function Kxe(t,e){const n=mu(t),r=+Jv(n,e)-+Gxe(n,e);return Math.round(r/aY)+1}function pr(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const oh={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return pr(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):pr(n+1,2)},d(t,e){return pr(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return pr(t.getHours()%12||12,e.length)},H(t,e){return pr(t.getHours(),e.length)},m(t,e){return pr(t.getMinutes(),e.length)},s(t,e){return pr(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return pr(s,e.length)}},xg={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qQ={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return oh.y(t,e)},Y:function(t,e,n,r){const s=cY(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return pr(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):pr(i,e.length)},R:function(t,e){const n=lY(t);return pr(n,e.length)},u:function(t,e){const n=t.getFullYear();return pr(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return pr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return pr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return oh.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return pr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Kxe(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):pr(s,e.length)},I:function(t,e,n){const r=Wxe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):pr(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):oh.d(t,e)},D:function(t,e,n){const r=Vxe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):pr(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return pr(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return pr(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return pr(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=xg.noon:r===0?s=xg.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=xg.evening:r>=12?s=xg.afternoon:r>=4?s=xg.morning:s=xg.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return oh.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):oh.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):pr(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):pr(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):oh.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):oh.s(t,e)},S:function(t,e){return oh.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return YQ(r);case"XXXX":case"XX":return mp(r);case"XXXXX":case"XXX":default:return mp(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return YQ(r);case"xxxx":case"xx":return mp(r);case"xxxxx":case"xxx":default:return mp(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+XQ(r,":");case"OOOO":default:return"GMT"+mp(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+XQ(r,":");case"zzzz":default:return"GMT"+mp(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return pr(r,e.length)},T:function(t,e,n){const r=t.getTime();return pr(r,e.length)}};function XQ(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+pr(i,2)}function YQ(t,e){return t%60===0?(t>0?"-":"+")+pr(Math.abs(t)/60,2):mp(t,e)}function mp(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=pr(Math.trunc(r/60),2),i=pr(r%60,2);return n+s+e+i}const ZQ=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},uY=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},qxe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return ZQ(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",ZQ(r,e)).replace("{{time}}",uY(s,e))},Xxe={p:uY,P:qxe},Yxe=/^D+$/,Zxe=/^Y+$/,Jxe=["D","DD","YY","YYYY"];function ebe(t){return Yxe.test(t)}function tbe(t){return Zxe.test(t)}function nbe(t,e,n){const r=rbe(t,e,n);if(console.warn(r),Jxe.includes(t))throw new RangeError(r)}function rbe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sbe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ibe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,obe=/^'([^]*?)'?$/,abe=/''/g,lbe=/[a-zA-Z]/;function JQ(t,e,n){var u,A,d,h;const r=VN(),s=r.locale??zxe,i=r.firstWeekContainsDate??((A=(u=r.locale)==null?void 0:u.options)==null?void 0:A.firstWeekContainsDate)??1,o=r.weekStartsOn??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,a=mu(t);if(!uxe(a))throw new RangeError("Invalid time value");let l=e.match(ibe).map(p=>{const m=p[0];if(m==="p"||m==="P"){const y=Xxe[m];return y(p,s.formatLong)}return p}).join("").match(sbe).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const m=p[0];if(m==="'")return{isToken:!1,value:cbe(p)};if(qQ[m])return{isToken:!0,value:p};if(m.match(lbe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(p=>{if(!p.isToken)return p.value;const m=p.value;(tbe(m)||ebe(m))&&nbe(m,e,String(t));const y=qQ[m[0]];return y(a,m,s.localize,c)}).join("")}function cbe(t){const e=t.match(obe);return e?e[1].replace(abe,"'"):t}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Y4=function(t,e){return Y4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Y4(t,e)};function gu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Y4(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Z4=function(){return Z4=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Z4.apply(this,arguments)};function Uo(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(A){o(A)}}function l(u){try{c(r.throw(u))}catch(A){o(A)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function go(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function MC(t,e,n){if(arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||e)}var wd=function(){function t(e,n,r,s){this.left=e,this.top=n,this.width=r,this.height=s}return t.prototype.add=function(e,n,r,s){return new t(this.left+e,this.top+n,this.width+r,this.height+s)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(s){return s.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),WN=function(t,e){return wd.fromClientRect(t,e.getBoundingClientRect())},ube=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),s=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new wd(0,0,r,s)},GN=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},Ds=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var o=t[s];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},e8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Abe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var QC=0;QC<e8.length;QC++)Abe[e8.charCodeAt(QC)]=QC;var t8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ow=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jC=0;jC<t8.length;jC++)Ow[t8.charCodeAt(jC)]=jC;var dbe=function(t){var e=t.length*.75,n=t.length,r,s=0,i,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)i=Ow[t.charCodeAt(r)],o=Ow[t.charCodeAt(r+1)],a=Ow[t.charCodeAt(r+2)],l=Ow[t.charCodeAt(r+3)],u[s++]=i<<2|o>>4,u[s++]=(o&15)<<4|a>>2,u[s++]=(a&3)<<6|l&63;return c},hbe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},fbe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},qp=5,MP=11,zT=2,pbe=MP-qp,AY=65536>>qp,mbe=1<<qp,VT=mbe-1,gbe=1024>>qp,ybe=AY+gbe,wbe=ybe,vbe=32,xbe=wbe+vbe,bbe=65536>>MP,Cbe=1<<pbe,Sbe=Cbe-1,n8=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Bbe=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},_be=function(t,e){var n=dbe(t),r=Array.isArray(n)?fbe(n):new Uint32Array(n),s=Array.isArray(n)?hbe(n):new Uint16Array(n),i=24,o=n8(s,i/2,r[4]/2),a=r[5]===2?n8(s,(i+r[4])/2):Bbe(r,Math.ceil((i+r[4])/4));return new Nbe(r[0],r[1],r[2],r[3],o,a)},Nbe=function(){function t(e,n,r,s,i,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>qp],n=(n<<zT)+(e&VT),this.data[n];if(e<=65535)return n=this.index[AY+(e-55296>>qp)],n=(n<<zT)+(e&VT),this.data[n];if(e<this.highStart)return n=xbe-bbe+(e>>MP),n=this.index[n],n+=e>>qp&Sbe,n=this.index[n],n=(n<<zT)+(e&VT),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),r8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ibe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var HC=0;HC<r8.length;HC++)Ibe[r8.charCodeAt(HC)]=HC;var Ebe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",s8=50,kbe=1,dY=2,hY=3,Tbe=4,Fbe=5,i8=7,fY=8,o8=9,Th=10,J4=11,a8=12,e3=13,Lbe=14,$w=15,t3=16,zC=17,mw=18,Dbe=19,l8=20,n3=21,gw=22,WT=23,bg=24,Ja=25,Uw=26,Mw=27,Cg=28,Pbe=29,vp=30,Rbe=31,VC=32,WC=33,r3=34,s3=35,i3=36,ex=37,o3=38,rB=39,sB=40,GT=41,pY=42,Obe=43,$be=[9001,65288],mY="!",Mn="",GC="",a3=_be(Ebe),zA=[vp,i3],l3=[kbe,dY,hY,Fbe],gY=[Th,fY],c8=[Mw,Uw],Ube=l3.concat(gY),u8=[o3,rB,sB,r3,s3],Mbe=[$w,e3],Qbe=function(t,e){e===void 0&&(e="strict");var n=[],r=[],s=[];return t.forEach(function(i,o){var a=a3.get(i);if(a>s8?(s.push(!0),a-=s8):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(o),n.push(t3);if(a===Tbe||a===J4){if(o===0)return r.push(o),n.push(vp);var l=n[o-1];return Ube.indexOf(l)===-1?(r.push(r[o-1]),n.push(l)):(r.push(o),n.push(vp))}if(r.push(o),a===Rbe)return n.push(e==="strict"?n3:ex);if(a===pY||a===Pbe)return n.push(vp);if(a===Obe)return i>=131072&&i<=196605||i>=196608&&i<=262141?n.push(ex):n.push(vp);n.push(a)}),[r,n,s]},KT=function(t,e,n,r){var s=r[n];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=n;i<=r.length;){i++;var o=r[i];if(o===e)return!0;if(o!==Th)break}if(s===Th)for(var i=n;i>0;){i--;var a=r[i];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var l=n;l<=r.length;){l++;var o=r[l];if(o===e)return!0;if(o!==Th)break}if(a!==Th)break}return!1},A8=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===Th)n--;else return r}return 0},jbe=function(t,e,n,r,s){if(n[r]===0)return Mn;var i=r-1;if(Array.isArray(s)&&s[i]===!0)return Mn;var o=i-1,a=i+1,l=e[i],c=o>=0?e[o]:0,u=e[a];if(l===dY&&u===hY)return Mn;if(l3.indexOf(l)!==-1)return mY;if(l3.indexOf(u)!==-1||gY.indexOf(u)!==-1)return Mn;if(A8(i,e)===fY)return GC;if(a3.get(t[i])===J4||(l===VC||l===WC)&&a3.get(t[a])===J4||l===i8||u===i8||l===o8||[Th,e3,$w].indexOf(l)===-1&&u===o8||[zC,mw,Dbe,bg,Cg].indexOf(u)!==-1||A8(i,e)===gw||KT(WT,gw,i,e)||KT([zC,mw],n3,i,e)||KT(a8,a8,i,e))return Mn;if(l===Th)return GC;if(l===WT||u===WT)return Mn;if(u===t3||l===t3)return GC;if([e3,$w,n3].indexOf(u)!==-1||l===Lbe||c===i3&&Mbe.indexOf(l)!==-1||l===Cg&&u===i3||u===l8||zA.indexOf(u)!==-1&&l===Ja||zA.indexOf(l)!==-1&&u===Ja||l===Mw&&[ex,VC,WC].indexOf(u)!==-1||[ex,VC,WC].indexOf(l)!==-1&&u===Uw||zA.indexOf(l)!==-1&&c8.indexOf(u)!==-1||c8.indexOf(l)!==-1&&zA.indexOf(u)!==-1||[Mw,Uw].indexOf(l)!==-1&&(u===Ja||[gw,$w].indexOf(u)!==-1&&e[a+1]===Ja)||[gw,$w].indexOf(l)!==-1&&u===Ja||l===Ja&&[Ja,Cg,bg].indexOf(u)!==-1)return Mn;if([Ja,Cg,bg,zC,mw].indexOf(u)!==-1)for(var A=i;A>=0;){var d=e[A];if(d===Ja)return Mn;if([Cg,bg].indexOf(d)!==-1)A--;else break}if([Mw,Uw].indexOf(u)!==-1)for(var A=[zC,mw].indexOf(l)!==-1?o:i;A>=0;){var d=e[A];if(d===Ja)return Mn;if([Cg,bg].indexOf(d)!==-1)A--;else break}if(o3===l&&[o3,rB,r3,s3].indexOf(u)!==-1||[rB,r3].indexOf(l)!==-1&&[rB,sB].indexOf(u)!==-1||[sB,s3].indexOf(l)!==-1&&u===sB||u8.indexOf(l)!==-1&&[l8,Uw].indexOf(u)!==-1||u8.indexOf(u)!==-1&&l===Mw||zA.indexOf(l)!==-1&&zA.indexOf(u)!==-1||l===bg&&zA.indexOf(u)!==-1||zA.concat(Ja).indexOf(l)!==-1&&u===gw&&$be.indexOf(t[a])===-1||zA.concat(Ja).indexOf(u)!==-1&&l===mw)return Mn;if(l===GT&&u===GT){for(var h=n[i],p=1;h>0&&(h--,e[h]===GT);)p++;if(p%2!==0)return Mn}return l===VC&&u===WC?Mn:GC},Hbe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=Qbe(t,e.lineBreak),r=n[0],s=n[1],i=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(a){return[Ja,vp,pY].indexOf(a)!==-1?ex:a}));var o=e.wordBreak==="keep-all"?i.map(function(a,l){return a&&t[l]>=19968&&t[l]<=40959}):void 0;return[r,s,o]},zbe=function(){function t(e,n,r,s){this.codePoints=e,this.required=n===mY,this.start=r,this.end=s}return t.prototype.slice=function(){return Ds.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),Vbe=function(t,e){var n=GN(t),r=Hbe(n,e),s=r[0],i=r[1],o=r[2],a=n.length,l=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var u=Mn;c<a&&(u=jbe(n,i,s,++c,o))===Mn;);if(u!==Mn||c===a){var A=new zbe(n,u,l,c);return l=c,{value:A,done:!1}}return{done:!0,value:null}}}},Wbe=1,Gbe=2,Jx=4,d8=8,u_=10,h8=47,pv=92,Kbe=9,qbe=32,KC=34,yw=61,Xbe=35,Ybe=36,Zbe=37,qC=39,XC=40,ww=41,Jbe=95,Sa=45,e2e=33,t2e=60,n2e=62,r2e=64,s2e=91,i2e=93,o2e=61,a2e=123,YC=63,l2e=125,f8=124,c2e=126,u2e=128,p8=65533,qT=42,Lp=43,A2e=44,d2e=58,h2e=59,tx=46,f2e=0,p2e=8,m2e=11,g2e=14,y2e=31,w2e=127,Ou=-1,yY=48,wY=97,vY=101,v2e=102,x2e=117,b2e=122,xY=65,bY=69,CY=70,C2e=85,S2e=90,yo=function(t){return t>=yY&&t<=57},B2e=function(t){return t>=55296&&t<=57343},Sg=function(t){return yo(t)||t>=xY&&t<=CY||t>=wY&&t<=v2e},_2e=function(t){return t>=wY&&t<=b2e},N2e=function(t){return t>=xY&&t<=S2e},I2e=function(t){return _2e(t)||N2e(t)},E2e=function(t){return t>=u2e},ZC=function(t){return t===u_||t===Kbe||t===qbe},A_=function(t){return I2e(t)||E2e(t)||t===Jbe},m8=function(t){return A_(t)||yo(t)||t===Sa},k2e=function(t){return t>=f2e&&t<=p2e||t===m2e||t>=g2e&&t<=y2e||t===w2e},mh=function(t,e){return t!==pv?!1:e!==u_},JC=function(t,e,n){return t===Sa?A_(e)||mh(e,n):A_(t)?!0:!!(t===pv&&mh(t,e))},XT=function(t,e,n){return t===Lp||t===Sa?yo(e)?!0:e===tx&&yo(n):yo(t===tx?e:t)},T2e=function(t){var e=0,n=1;(t[e]===Lp||t[e]===Sa)&&(t[e]===Sa&&(n=-1),e++);for(var r=[];yo(t[e]);)r.push(t[e++]);var s=r.length?parseInt(Ds.apply(void 0,r),10):0;t[e]===tx&&e++;for(var i=[];yo(t[e]);)i.push(t[e++]);var o=i.length,a=o?parseInt(Ds.apply(void 0,i),10):0;(t[e]===bY||t[e]===vY)&&e++;var l=1;(t[e]===Lp||t[e]===Sa)&&(t[e]===Sa&&(l=-1),e++);for(var c=[];yo(t[e]);)c.push(t[e++]);var u=c.length?parseInt(Ds.apply(void 0,c),10):0;return n*(s+a*Math.pow(10,-o))*Math.pow(10,l*u)},F2e={type:2},L2e={type:3},D2e={type:4},P2e={type:13},R2e={type:8},O2e={type:21},$2e={type:9},U2e={type:10},M2e={type:11},Q2e={type:12},j2e={type:14},eS={type:23},H2e={type:1},z2e={type:25},V2e={type:24},W2e={type:26},G2e={type:27},K2e={type:28},q2e={type:29},X2e={type:31},c3={type:32},SY=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(GN(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==c3;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case KC:return this.consumeStringToken(KC);case Xbe:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if(m8(n)||mh(r,s)){var i=JC(n,r,s)?Gbe:Wbe,o=this.consumeName();return{type:5,value:o,flags:i}}break;case Ybe:if(this.peekCodePoint(0)===yw)return this.consumeCodePoint(),P2e;break;case qC:return this.consumeStringToken(qC);case XC:return F2e;case ww:return L2e;case qT:if(this.peekCodePoint(0)===yw)return this.consumeCodePoint(),j2e;break;case Lp:if(XT(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case A2e:return D2e;case Sa:var a=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(XT(a,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(JC(a,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Sa&&c===n2e)return this.consumeCodePoint(),this.consumeCodePoint(),V2e;break;case tx:if(XT(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case h8:if(this.peekCodePoint(0)===qT)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===qT&&(u=this.consumeCodePoint(),u===h8))return this.consumeToken();if(u===Ou)return this.consumeToken()}break;case d2e:return W2e;case h2e:return G2e;case t2e:if(this.peekCodePoint(0)===e2e&&this.peekCodePoint(1)===Sa&&this.peekCodePoint(2)===Sa)return this.consumeCodePoint(),this.consumeCodePoint(),z2e;break;case r2e:var A=this.peekCodePoint(0),d=this.peekCodePoint(1),h=this.peekCodePoint(2);if(JC(A,d,h)){var o=this.consumeName();return{type:7,value:o}}break;case s2e:return K2e;case pv:if(mh(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case i2e:return q2e;case o2e:if(this.peekCodePoint(0)===yw)return this.consumeCodePoint(),R2e;break;case a2e:return M2e;case l2e:return Q2e;case x2e:case C2e:var p=this.peekCodePoint(0),m=this.peekCodePoint(1);return p===Lp&&(Sg(m)||m===YC)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case f8:if(this.peekCodePoint(0)===yw)return this.consumeCodePoint(),$2e;if(this.peekCodePoint(0)===f8)return this.consumeCodePoint(),O2e;break;case c2e:if(this.peekCodePoint(0)===yw)return this.consumeCodePoint(),U2e;break;case Ou:return c3}return ZC(e)?(this.consumeWhiteSpace(),X2e):yo(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):A_(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Ds(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();Sg(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===YC&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var s=parseInt(Ds.apply(void 0,e.map(function(l){return l===YC?yY:l})),16),i=parseInt(Ds.apply(void 0,e.map(function(l){return l===YC?CY:l})),16);return{type:30,start:s,end:i}}var o=parseInt(Ds.apply(void 0,e),16);if(this.peekCodePoint(0)===Sa&&Sg(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var a=[];Sg(n)&&a.length<6;)a.push(n),n=this.consumeCodePoint();var i=parseInt(Ds.apply(void 0,a),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===XC?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===XC?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ou)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===qC||n===KC){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ou||this.peekCodePoint(0)===ww)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),eS)}for(;;){var s=this.consumeCodePoint();if(s===Ou||s===ww)return{type:22,value:Ds.apply(void 0,e)};if(ZC(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ou||this.peekCodePoint(0)===ww?(this.consumeCodePoint(),{type:22,value:Ds.apply(void 0,e)}):(this.consumeBadUrlRemnants(),eS);if(s===KC||s===qC||s===XC||k2e(s))return this.consumeBadUrlRemnants(),eS;if(s===pv)if(mh(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),eS;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;ZC(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===ww||e===Ou)return;mh(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var s=Math.min(n,e);r+=Ds.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var s=this._value[r];if(s===Ou||s===void 0||s===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(s===u_)return this._value.splice(0,r),H2e;if(s===pv){var i=this._value[r+1];i!==Ou&&i!==void 0&&(i===u_?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):mh(s,i)&&(n+=this.consumeStringSlice(r),n+=Ds(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=Jx,r=this.peekCodePoint(0);for((r===Lp||r===Sa)&&e.push(this.consumeCodePoint());yo(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(r===tx&&yo(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=d8;yo(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===bY||r===vY)&&((s===Lp||s===Sa)&&yo(i)||yo(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=d8;yo(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[T2e(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(JC(s,i,o)){var a=this.consumeName();return{type:15,number:n,flags:r,unit:a}}return s===Zbe?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Sg(e)){for(var n=Ds(e);Sg(this.peekCodePoint(0))&&n.length<6;)n+=Ds(this.consumeCodePoint());ZC(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||B2e(r)||r>1114111?p8:r}return e===Ou?p8:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(m8(n))e+=Ds(n);else if(mh(n,this.peekCodePoint(0)))e+=Ds(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),BY=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new SY;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||Z2e(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?c3:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),eb=function(t){return t.type===15},Iy=function(t){return t.type===17},xr=function(t){return t.type===20},Y2e=function(t){return t.type===0},u3=function(t,e){return xr(t)&&t.value===e},_Y=function(t){return t.type!==31},X0=function(t){return t.type!==31&&t.type!==4},_A=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},Z2e=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},cf=function(t){return t.type===17||t.type===15},Ks=function(t){return t.type===16||cf(t)},NY=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Ki={type:17,number:0,flags:Jx},QP={type:16,number:50,flags:Jx},Fh={type:16,number:100,flags:Jx},Qw=function(t,e,n){var r=t[0],s=t[1];return[Dr(r,e),Dr(typeof s<"u"?s:r,n)]},Dr=function(t,e){if(t.type===16)return t.number/100*e;if(eb(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},IY="deg",EY="grad",kY="rad",TY="turn",KN={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case IY:return Math.PI*e.number/180;case EY:return Math.PI/200*e.number;case kY:return e.number;case TY:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},FY=function(t){return t.type===15&&(t.unit===IY||t.unit===EY||t.unit===kY||t.unit===TY)},LY=function(t){var e=t.filter(xr).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ki,Ki];case"to top":case"bottom":return Kl(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ki,Fh];case"to right":case"left":return Kl(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Fh,Fh];case"to bottom":case"top":return Kl(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Fh,Ki];case"to left":case"right":return Kl(270)}return 0},Kl=function(t){return Math.PI*t/180},qh={name:"color",parse:function(t,e){if(e.type===18){var n=J2e[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return Lh(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),o=e.value.substring(3,4);return Lh(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return Lh(parseInt(r,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8);return Lh(parseInt(r,16),parseInt(s,16),parseInt(i,16),parseInt(o,16)/255)}}if(e.type===20){var a=cd[e.value.toUpperCase()];if(typeof a<"u")return a}return cd.TRANSPARENT}},Xh=function(t){return(255&t)===0},bi=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+r+","+n+","+e/255+")":"rgb("+s+","+r+","+n+")"},Lh=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},g8=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},y8=function(t,e){var n=e.filter(X0);if(n.length===3){var r=n.map(g8),s=r[0],i=r[1],o=r[2];return Lh(s,i,o,1)}if(n.length===4){var a=n.map(g8),s=a[0],i=a[1],o=a[2],l=a[3];return Lh(s,i,o,l)}return 0};function YT(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var w8=function(t,e){var n=e.filter(X0),r=n[0],s=n[1],i=n[2],o=n[3],a=(r.type===17?Kl(r.number):KN.parse(t,r))/(Math.PI*2),l=Ks(s)?s.number/100:0,c=Ks(i)?i.number/100:0,u=typeof o<"u"&&Ks(o)?Dr(o,1):1;if(l===0)return Lh(c*255,c*255,c*255,1);var A=c<=.5?c*(l+1):c+l-c*l,d=c*2-A,h=YT(d,A,a+1/3),p=YT(d,A,a),m=YT(d,A,a-1/3);return Lh(h*255,p*255,m*255,u)},J2e={hsl:w8,hsla:w8,rgb:y8,rgba:y8},mv=function(t,e){return qh.parse(t,BY.create(e).parseComponentValue())},cd={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},eCe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(xr(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},tCe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qN=function(t,e){var n=qh.parse(t,e[0]),r=e[1];return r&&Ks(r)?{color:n,stop:r}:{color:n,stop:null}},v8=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=Ki),r.stop===null&&(r.stop=Fh);for(var s=[],i=0,o=0;o<t.length;o++){var a=t[o].stop;if(a!==null){var l=Dr(a,e);l>i?s.push(l):s.push(i),i=l}else s.push(null)}for(var c=null,o=0;o<s.length;o++){var u=s[o];if(u===null)c===null&&(c=o);else if(c!==null){for(var A=o-c,d=s[c-1],h=(u-d)/(A+1),p=1;p<=A;p++)s[c+p-1]=h*p;c=null}}return t.map(function(m,y){var g=m.color;return{color:g,stop:Math.max(Math.min(1,s[y]/e),0)}})},nCe=function(t,e,n){var r=e/2,s=n/2,i=Dr(t[0],e)-r,o=s-Dr(t[1],n);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},rCe=function(t,e,n){var r=typeof t=="number"?t:nCe(t,e,n),s=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),i=e/2,o=n/2,a=s/2,l=Math.sin(r-Math.PI/2)*a,c=Math.cos(r-Math.PI/2)*a;return[s,i-c,i+c,o-l,o+l]},Uc=function(t,e){return Math.sqrt(t*t+e*e)},x8=function(t,e,n,r,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(o,a){var l=a[0],c=a[1],u=Uc(n-l,r-c);return(s?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:a,optimumDistance:u}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},sCe=function(t,e,n,r,s){var i=0,o=0;switch(t.size){case 0:t.shape===0?i=o=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-r)),o=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(t.shape===0)i=o=Math.min(Uc(e,n),Uc(e,n-s),Uc(e-r,n),Uc(e-r,n-s));else if(t.shape===1){var a=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(e),Math.abs(e-r)),l=x8(r,s,e,n,!0),c=l[0],u=l[1];i=Uc(c-e,(u-n)/a),o=a*i}break;case 1:t.shape===0?i=o=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-r)),o=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(t.shape===0)i=o=Math.max(Uc(e,n),Uc(e,n-s),Uc(e-r,n),Uc(e-r,n-s));else if(t.shape===1){var a=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(e),Math.abs(e-r)),A=x8(r,s,e,n,!1),c=A[0],u=A[1];i=Uc(c-e,(u-n)/a),o=a*i}break}return Array.isArray(t.size)&&(i=Dr(t.size[0],r),o=t.size.length===2?Dr(t.size[1],s):i),[i,o]},iCe=function(t,e){var n=Kl(180),r=[];return _A(e).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&o.value==="to"){n=LY(s);return}else if(FY(o)){n=KN.parse(t,o);return}}var a=qN(t,s);r.push(a)}),{angle:n,stops:r,type:1}},tS=function(t,e){var n=Kl(180),r=[];return _A(e).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=LY(s);return}else if(FY(o)){n=(KN.parse(t,o)+Kl(270))%Kl(360);return}}var a=qN(t,s);r.push(a)}),{angle:n,stops:r,type:1}},oCe=function(t,e){var n=Kl(180),r=[],s=1,i=0,o=3,a=[];return _A(e).forEach(function(l,c){var u=l[0];if(c===0){if(xr(u)&&u.value==="linear"){s=1;return}else if(xr(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var A=qh.parse(t,u.values[0]);r.push({stop:Ki,color:A})}else if(u.name==="to"){var A=qh.parse(t,u.values[0]);r.push({stop:Fh,color:A})}else if(u.name==="color-stop"){var d=u.values.filter(X0);if(d.length===2){var A=qh.parse(t,d[1]),h=d[0];Iy(h)&&r.push({stop:{type:16,number:h.number*100,flags:h.flags},color:A})}}}}),s===1?{angle:(n+Kl(180))%Kl(360),stops:r,type:s}:{size:o,shape:i,stops:r,position:a,type:s}},DY="closest-side",PY="farthest-side",RY="closest-corner",OY="farthest-corner",$Y="circle",UY="ellipse",MY="cover",QY="contain",aCe=function(t,e){var n=0,r=3,s=[],i=[];return _A(e).forEach(function(o,a){var l=!0;if(a===0){var c=!1;l=o.reduce(function(A,d){if(c)if(xr(d))switch(d.value){case"center":return i.push(QP),A;case"top":case"left":return i.push(Ki),A;case"right":case"bottom":return i.push(Fh),A}else(Ks(d)||cf(d))&&i.push(d);else if(xr(d))switch(d.value){case $Y:return n=0,!1;case UY:return n=1,!1;case"at":return c=!0,!1;case DY:return r=0,!1;case MY:case PY:return r=1,!1;case QY:case RY:return r=2,!1;case OY:return r=3,!1}else if(cf(d)||Ks(d))return Array.isArray(r)||(r=[]),r.push(d),!1;return A},l)}if(l){var u=qN(t,o);s.push(u)}}),{size:r,shape:n,stops:s,position:i,type:2}},nS=function(t,e){var n=0,r=3,s=[],i=[];return _A(e).forEach(function(o,a){var l=!0;if(a===0?l=o.reduce(function(u,A){if(xr(A))switch(A.value){case"center":return i.push(QP),!1;case"top":case"left":return i.push(Ki),!1;case"right":case"bottom":return i.push(Fh),!1}else if(Ks(A)||cf(A))return i.push(A),!1;return u},l):a===1&&(l=o.reduce(function(u,A){if(xr(A))switch(A.value){case $Y:return n=0,!1;case UY:return n=1,!1;case QY:case DY:return r=0,!1;case PY:return r=1,!1;case RY:return r=2,!1;case MY:case OY:return r=3,!1}else if(cf(A)||Ks(A))return Array.isArray(r)||(r=[]),r.push(A),!1;return u},l)),l){var c=qN(t,o);s.push(c)}}),{size:r,shape:n,stops:s,position:i,type:2}},lCe=function(t){return t.type===1},cCe=function(t){return t.type===2},jP={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=jY[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function uCe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!jY[t.name])}var jY={"linear-gradient":iCe,"-moz-linear-gradient":tS,"-ms-linear-gradient":tS,"-o-linear-gradient":tS,"-webkit-linear-gradient":tS,"radial-gradient":aCe,"-moz-radial-gradient":nS,"-ms-radial-gradient":nS,"-o-radial-gradient":nS,"-webkit-radial-gradient":nS,"-webkit-gradient":oCe},ACe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return X0(r)&&uCe(r)}).map(function(r){return jP.parse(t,r)})}},dCe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(xr(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},hCe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return _A(e).map(function(n){return n.filter(Ks)}).map(NY)}},fCe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return _A(e).map(function(n){return n.filter(xr).map(function(r){return r.value}).join(" ")}).map(pCe)}},pCe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},g0;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(g0||(g0={}));var mCe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return _A(e).map(function(n){return n.filter(gCe)})}},gCe=function(t){return xr(t)||Ks(t)},XN=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},yCe=XN("top"),wCe=XN("right"),vCe=XN("bottom"),xCe=XN("left"),YN=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return NY(n.filter(Ks))}}},bCe=YN("top-left"),CCe=YN("top-right"),SCe=YN("bottom-right"),BCe=YN("bottom-left"),ZN=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},_Ce=ZN("top"),NCe=ZN("right"),ICe=ZN("bottom"),ECe=ZN("left"),JN=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return eb(n)?n.number:0}}},kCe=JN("top"),TCe=JN("right"),FCe=JN("bottom"),LCe=JN("left"),DCe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},PCe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},RCe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(xr).reduce(function(n,r){return n|OCe(r.value)},0)}},OCe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},$Ce={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},UCe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},d_;(function(t){t.NORMAL="normal",t.STRICT="strict"})(d_||(d_={}));var MCe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return d_.STRICT;case"normal":default:return d_.NORMAL}}},QCe={name:"line-height",initialValue:"normal",prefix:!1,type:4},b8=function(t,e){return xr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Ks(t)?Dr(t,e):e},jCe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:jP.parse(t,e)}},HCe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},A3={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},eI=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},zCe=eI("top"),VCe=eI("right"),WCe=eI("bottom"),GCe=eI("left"),KCe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(xr).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},qCe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},tI=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},XCe=tI("top"),YCe=tI("right"),ZCe=tI("bottom"),JCe=tI("left"),eSe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},tSe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},nSe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&u3(e[0],"none")?[]:_A(e).map(function(n){for(var r={color:cd.TRANSPARENT,offsetX:Ki,offsetY:Ki,blur:Ki},s=0,i=0;i<n.length;i++){var o=n[i];cf(o)?(s===0?r.offsetX=o:s===1?r.offsetY=o:r.blur=o,s++):r.color=qh.parse(t,o)}return r})}},rSe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},sSe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=aSe[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},iSe=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},oSe=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=e[0],r=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],a=e[13];return e[14],e[15],e.length===16?[n,r,s,i,o,a]:null},aSe={matrix:iSe,matrix3d:oSe},C8={type:16,number:50,flags:Jx},lSe=[C8,C8],cSe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(Ks);return n.length!==2?lSe:[n[0],n[1]]}},uSe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},gv;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(gv||(gv={}));var ASe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return gv.BREAK_ALL;case"keep-all":return gv.KEEP_ALL;case"normal":default:return gv.NORMAL}}},dSe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Iy(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},HY={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},hSe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Iy(e)?e.number:1}},fSe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pSe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(xr).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},mSe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(s){switch(s.type){case 20:case 0:n.push(s.value);break;case 17:n.push(s.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},gSe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ySe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Iy(e))return e.number;if(xr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},wSe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(xr).map(function(n){return n.value})}},vSe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},di=function(t,e){return(t&e)!==0},xSe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},bSe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],s=e.filter(_Y),i=0;i<s.length;i++){var o=s[i],a=s[i+1];if(o.type===20){var l=a&&Iy(a)?a.number:1;r.push({counter:o.value,increment:l})}}return r}},CSe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(_Y),s=0;s<r.length;s++){var i=r[s],o=r[s+1];if(xr(i)&&i.value!=="none"){var a=o&&Iy(o)?o.number:0;n.push({counter:i.value,reset:a})}}return n}},SSe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(eb).map(function(n){return HY.parse(t,n)})}},BSe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],s=e.filter(Y2e);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var o=s[i].value,a=s[i+1].value;r.push({open:o,close:a})}return r}},S8=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},_Se={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&u3(e[0],"none")?[]:_A(e).map(function(n){for(var r={color:255,offsetX:Ki,offsetY:Ki,blur:Ki,spread:Ki,inset:!1},s=0,i=0;i<n.length;i++){var o=n[i];u3(o,"inset")?r.inset=!0:cf(o)?(s===0?r.offsetX=o:s===1?r.offsetY=o:s===2?r.blur=o:r.spread=o,s++):r.color=qh.parse(t,o)}return r})}},NSe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(xr).forEach(function(s){switch(s.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(s){r.indexOf(s)===-1&&r.push(s)}),r}},ISe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ESe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return eb(e)?e.number:0}},kSe=function(){function t(e,n){var r,s;this.animationDuration=bt(e,SSe,n.animationDuration),this.backgroundClip=bt(e,eCe,n.backgroundClip),this.backgroundColor=bt(e,tCe,n.backgroundColor),this.backgroundImage=bt(e,ACe,n.backgroundImage),this.backgroundOrigin=bt(e,dCe,n.backgroundOrigin),this.backgroundPosition=bt(e,hCe,n.backgroundPosition),this.backgroundRepeat=bt(e,fCe,n.backgroundRepeat),this.backgroundSize=bt(e,mCe,n.backgroundSize),this.borderTopColor=bt(e,yCe,n.borderTopColor),this.borderRightColor=bt(e,wCe,n.borderRightColor),this.borderBottomColor=bt(e,vCe,n.borderBottomColor),this.borderLeftColor=bt(e,xCe,n.borderLeftColor),this.borderTopLeftRadius=bt(e,bCe,n.borderTopLeftRadius),this.borderTopRightRadius=bt(e,CCe,n.borderTopRightRadius),this.borderBottomRightRadius=bt(e,SCe,n.borderBottomRightRadius),this.borderBottomLeftRadius=bt(e,BCe,n.borderBottomLeftRadius),this.borderTopStyle=bt(e,_Ce,n.borderTopStyle),this.borderRightStyle=bt(e,NCe,n.borderRightStyle),this.borderBottomStyle=bt(e,ICe,n.borderBottomStyle),this.borderLeftStyle=bt(e,ECe,n.borderLeftStyle),this.borderTopWidth=bt(e,kCe,n.borderTopWidth),this.borderRightWidth=bt(e,TCe,n.borderRightWidth),this.borderBottomWidth=bt(e,FCe,n.borderBottomWidth),this.borderLeftWidth=bt(e,LCe,n.borderLeftWidth),this.boxShadow=bt(e,_Se,n.boxShadow),this.color=bt(e,DCe,n.color),this.direction=bt(e,PCe,n.direction),this.display=bt(e,RCe,n.display),this.float=bt(e,$Ce,n.cssFloat),this.fontFamily=bt(e,mSe,n.fontFamily),this.fontSize=bt(e,gSe,n.fontSize),this.fontStyle=bt(e,vSe,n.fontStyle),this.fontVariant=bt(e,wSe,n.fontVariant),this.fontWeight=bt(e,ySe,n.fontWeight),this.letterSpacing=bt(e,UCe,n.letterSpacing),this.lineBreak=bt(e,MCe,n.lineBreak),this.lineHeight=bt(e,QCe,n.lineHeight),this.listStyleImage=bt(e,jCe,n.listStyleImage),this.listStylePosition=bt(e,HCe,n.listStylePosition),this.listStyleType=bt(e,A3,n.listStyleType),this.marginTop=bt(e,zCe,n.marginTop),this.marginRight=bt(e,VCe,n.marginRight),this.marginBottom=bt(e,WCe,n.marginBottom),this.marginLeft=bt(e,GCe,n.marginLeft),this.opacity=bt(e,hSe,n.opacity);var i=bt(e,KCe,n.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=bt(e,qCe,n.overflowWrap),this.paddingTop=bt(e,XCe,n.paddingTop),this.paddingRight=bt(e,YCe,n.paddingRight),this.paddingBottom=bt(e,ZCe,n.paddingBottom),this.paddingLeft=bt(e,JCe,n.paddingLeft),this.paintOrder=bt(e,NSe,n.paintOrder),this.position=bt(e,tSe,n.position),this.textAlign=bt(e,eSe,n.textAlign),this.textDecorationColor=bt(e,fSe,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=bt(e,pSe,(s=n.textDecorationLine)!==null&&s!==void 0?s:n.textDecoration),this.textShadow=bt(e,nSe,n.textShadow),this.textTransform=bt(e,rSe,n.textTransform),this.transform=bt(e,sSe,n.transform),this.transformOrigin=bt(e,cSe,n.transformOrigin),this.visibility=bt(e,uSe,n.visibility),this.webkitTextStrokeColor=bt(e,ISe,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=bt(e,ESe,n.webkitTextStrokeWidth),this.wordBreak=bt(e,ASe,n.wordBreak),this.zIndex=bt(e,dSe,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Xh(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return di(this.display,4)||di(this.display,33554432)||di(this.display,268435456)||di(this.display,536870912)||di(this.display,67108864)||di(this.display,134217728)},t}(),TSe=function(){function t(e,n){this.content=bt(e,xSe,n.content),this.quotes=bt(e,BSe,n.quotes)}return t}(),B8=function(){function t(e,n){this.counterIncrement=bt(e,bSe,n.counterIncrement),this.counterReset=bt(e,CSe,n.counterReset)}return t}(),bt=function(t,e,n){var r=new SY,s=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(s);var i=new BY(r.read());switch(e.type){case 2:var o=i.parseComponentValue();return e.parse(t,xr(o)?o.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return KN.parse(t,i.parseComponentValue());case"color":return qh.parse(t,i.parseComponentValue());case"image":return jP.parse(t,i.parseComponentValue());case"length":var a=i.parseComponentValue();return cf(a)?a:Ki;case"length-percentage":var l=i.parseComponentValue();return Ks(l)?l:Ki;case"time":return HY.parse(t,i.parseComponentValue())}break}},FSe="data-html2canvas-debug",LSe=function(t){var e=t.getAttribute(FSe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},d3=function(t,e){var n=LSe(t);return n===1||e===n},NA=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,d3(n,3))debugger;this.styles=new kSe(e,window.getComputedStyle(n,null)),p3(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=WN(this.context,n),d3(n,4)&&(this.flags|=16)}return t}(),DSe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",_8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var rS=0;rS<_8.length;rS++)jw[_8.charCodeAt(rS)]=rS;var PSe=function(t){var e=t.length*.75,n=t.length,r,s=0,i,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)i=jw[t.charCodeAt(r)],o=jw[t.charCodeAt(r+1)],a=jw[t.charCodeAt(r+2)],l=jw[t.charCodeAt(r+3)],u[s++]=i<<2|o>>4,u[s++]=(o&15)<<4|a>>2,u[s++]=(a&3)<<6|l&63;return c},RSe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},OSe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Xp=5,HP=11,ZT=2,$Se=HP-Xp,zY=65536>>Xp,USe=1<<Xp,JT=USe-1,MSe=1024>>Xp,QSe=zY+MSe,jSe=QSe,HSe=32,zSe=jSe+HSe,VSe=65536>>HP,WSe=1<<$Se,GSe=WSe-1,N8=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},KSe=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},qSe=function(t,e){var n=PSe(t),r=Array.isArray(n)?OSe(n):new Uint32Array(n),s=Array.isArray(n)?RSe(n):new Uint16Array(n),i=24,o=N8(s,i/2,r[4]/2),a=r[5]===2?N8(s,(i+r[4])/2):KSe(r,Math.ceil((i+r[4])/4));return new XSe(r[0],r[1],r[2],r[3],o,a)},XSe=function(){function t(e,n,r,s,i,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Xp],n=(n<<ZT)+(e&JT),this.data[n];if(e<=65535)return n=this.index[zY+(e-55296>>Xp)],n=(n<<ZT)+(e&JT),this.data[n];if(e<this.highStart)return n=zSe-VSe+(e>>HP),n=this.index[n],n+=e>>Xp&GSe,n=this.index[n],n=(n<<ZT)+(e&JT),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),I8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",YSe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sS=0;sS<I8.length;sS++)YSe[I8.charCodeAt(sS)]=sS;var ZSe=1,e5=2,t5=3,E8=4,k8=5,JSe=7,T8=8,n5=9,r5=10,F8=11,L8=12,D8=13,P8=14,s5=15,eBe=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},tBe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var o=t[s];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},nBe=qSe(DSe),$l="",i5="",rBe=function(t){return nBe.get(t)},sBe=function(t,e,n){var r=n-2,s=e[r],i=e[n-1],o=e[n];if(i===e5&&o===t5)return $l;if(i===e5||i===t5||i===E8||o===e5||o===t5||o===E8)return i5;if(i===T8&&[T8,n5,F8,L8].indexOf(o)!==-1||(i===F8||i===n5)&&(o===n5||o===r5)||(i===L8||i===r5)&&o===r5||o===D8||o===k8||o===JSe||i===ZSe)return $l;if(i===D8&&o===P8){for(;s===k8;)s=e[--r];if(s===P8)return $l}if(i===s5&&o===s5){for(var a=0;s===s5;)a++,s=e[--r];if(a%2===0)return $l}return i5},iBe=function(t){var e=eBe(t),n=e.length,r=0,s=0,i=e.map(rBe);return{next:function(){if(r>=n)return{done:!0,value:null};for(var o=$l;r<n&&(o=sBe(e,i,++r))===$l;);if(o!==$l||r===n){var a=tBe.apply(null,e.slice(s,r));return s=r,{value:a,done:!1}}return{done:!0,value:null}}}},oBe=function(t){for(var e=iBe(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},aBe=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(r),i===e)return!0}}return!1},lBe=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,s=GN(r.data).map(function(l){return Ds(l)}),i=0,o={},a=s.every(function(l,c){n.setStart(r,i),n.setEnd(r,i+l.length);var u=n.getBoundingClientRect();i+=l.length;var A=u.x>o.x||u.y>o.y;return o=u,c===0?!0:A});return t.body.removeChild(e),a},cBe=function(){return typeof new Image().crossOrigin<"u"},uBe=function(){return typeof new XMLHttpRequest().responseType=="string"},ABe=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},R8=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},dBe=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,i=e.toDataURL();s.src=i;var o=h3(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),O8(o).then(function(a){r.drawImage(a,0,0);var l=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var c=t.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=n+"px",R8(l)?O8(h3(n,n,0,0,c)):Promise.reject(!1)}).then(function(a){return r.drawImage(a,0,0),R8(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},h3=function(t,e,n,r,s){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(s),o},O8=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Wi={get SUPPORT_RANGE_BOUNDS(){var t=aBe(document);return Object.defineProperty(Wi,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Wi.SUPPORT_RANGE_BOUNDS&&lBe(document);return Object.defineProperty(Wi,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=ABe(document);return Object.defineProperty(Wi,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?dBe(document):Promise.resolve(!1);return Object.defineProperty(Wi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=cBe();return Object.defineProperty(Wi,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=uBe();return Object.defineProperty(Wi,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Wi,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Wi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},yv=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),hBe=function(t,e,n,r){var s=mBe(e,n),i=[],o=0;return s.forEach(function(a){if(n.textDecorationLine.length||a.trim().length>0)if(Wi.SUPPORT_RANGE_BOUNDS){var l=$8(r,o,a.length).getClientRects();if(l.length>1){var c=zP(a),u=0;c.forEach(function(d){i.push(new yv(d,wd.fromDOMRectList(t,$8(r,u+o,d.length).getClientRects()))),u+=d.length})}else i.push(new yv(a,wd.fromDOMRectList(t,l)))}else{var A=r.splitText(a.length);i.push(new yv(a,fBe(t,r))),r=A}else Wi.SUPPORT_RANGE_BOUNDS||(r=r.splitText(a.length));o+=a.length}),i},fBe=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(r,e);var i=WN(t,r);return r.firstChild&&s.replaceChild(r.firstChild,r),i}}return wd.EMPTY},$8=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(t,e),s.setEnd(t,e+n),s},zP=function(t){if(Wi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return oBe(t)},pBe=function(t,e){if(Wi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return yBe(t,e)},mBe=function(t,e){return e.letterSpacing!==0?zP(t):pBe(t,e)},gBe=[32,160,4961,65792,65793,4153,4241],yBe=function(t,e){for(var n=Vbe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],s,i=function(){if(s.value){var o=s.value.slice(),a=GN(o),l="";a.forEach(function(c){gBe.indexOf(c)===-1?l+=Ds(c):(l.length&&r.push(l),r.push(Ds(c)),l="")}),l.length&&r.push(l)}};!(s=n.next()).done;)i();return r},wBe=function(){function t(e,n,r){this.text=vBe(n.data,r.textTransform),this.textBounds=hBe(e,this.text,r,n)}return t}(),vBe=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(xBe,bBe);case 2:return t.toUpperCase();default:return t}},xBe=/(^|\s|:|-|\(|\))([a-z])/g,bBe=function(t,e,n){return t.length>0?e+n.toUpperCase():t},VY=function(t){gu(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.src=r.currentSrc||r.src,s.intrinsicWidth=r.naturalWidth,s.intrinsicHeight=r.naturalHeight,s.context.cache.addImage(s.src),s}return e}(NA),WY=function(t){gu(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r,s.intrinsicWidth=r.width,s.intrinsicHeight=r.height,s}return e}(NA),GY=function(t){gu(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=new XMLSerializer,o=WN(n,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),s.intrinsicWidth=r.width.baseVal.value,s.intrinsicHeight=r.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(NA),KY=function(t){gu(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(NA),f3=function(t){gu(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.start=r.start,s.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,s}return e}(NA),CBe=[{type:15,flags:0,unit:"px",number:3}],SBe=[{type:16,flags:0,number:50}],BBe=function(t){return t.width>t.height?new wd(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new wd(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},_Be=function(t){var e=t.type===NBe?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},h_="checkbox",f_="radio",NBe="password",U8=707406591,VP=function(t){gu(e,t);function e(n,r){var s=t.call(this,n,r)||this;switch(s.type=r.type.toLowerCase(),s.checked=r.checked,s.value=_Be(r),(s.type===h_||s.type===f_)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=BBe(s.bounds)),s.type){case h_:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=CBe;break;case f_:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=SBe;break}return s}return e}(NA),qY=function(t){gu(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=r.options[r.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(NA),XY=function(t){gu(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(NA),YY=function(t){gu(e,t);function e(n,r){var s=t.call(this,n,r)||this;s.src=r.src,s.width=parseInt(r.width,10)||0,s.height=parseInt(r.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){s.tree=JY(n,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?mv(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):cd.TRANSPARENT,o=r.contentWindow.document.body?mv(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):cd.TRANSPARENT;s.backgroundColor=Xh(i)?Xh(o)?s.styles.backgroundColor:o:i}}catch{}return s}return e}(NA),IBe=["OL","UL","MENU"],iB=function(t,e,n,r){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,eZ(s)&&s.data.trim().length>0)n.textNodes.push(new wBe(t,s,n.styles));else if(r0(s))if(sZ(s)&&s.assignedNodes)s.assignedNodes().forEach(function(a){return iB(t,a,n,r)});else{var o=ZY(t,s);o.styles.isVisible()&&(EBe(s,o,r)?o.flags|=4:kBe(o.styles)&&(o.flags|=2),IBe.indexOf(s.tagName)!==-1&&(o.flags|=8),n.elements.push(o),s.slot,s.shadowRoot?iB(t,s.shadowRoot,o,r):!p_(s)&&!tZ(s)&&!m_(s)&&iB(t,s,o,r))}},ZY=function(t,e){return m3(e)?new VY(t,e):nZ(e)?new WY(t,e):tZ(e)?new GY(t,e):TBe(e)?new KY(t,e):FBe(e)?new f3(t,e):LBe(e)?new VP(t,e):m_(e)?new qY(t,e):p_(e)?new XY(t,e):rZ(e)?new YY(t,e):new NA(t,e)},JY=function(t,e){var n=ZY(t,e);return n.flags|=4,iB(t,e,n,n),n},EBe=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||WP(t)&&n.styles.isTransparent()},kBe=function(t){return t.isPositioned()||t.isFloating()},eZ=function(t){return t.nodeType===Node.TEXT_NODE},r0=function(t){return t.nodeType===Node.ELEMENT_NODE},p3=function(t){return r0(t)&&typeof t.style<"u"&&!oB(t)},oB=function(t){return typeof t.className=="object"},TBe=function(t){return t.tagName==="LI"},FBe=function(t){return t.tagName==="OL"},LBe=function(t){return t.tagName==="INPUT"},DBe=function(t){return t.tagName==="HTML"},tZ=function(t){return t.tagName==="svg"},WP=function(t){return t.tagName==="BODY"},nZ=function(t){return t.tagName==="CANVAS"},M8=function(t){return t.tagName==="VIDEO"},m3=function(t){return t.tagName==="IMG"},rZ=function(t){return t.tagName==="IFRAME"},Q8=function(t){return t.tagName==="STYLE"},PBe=function(t){return t.tagName==="SCRIPT"},p_=function(t){return t.tagName==="TEXTAREA"},m_=function(t){return t.tagName==="SELECT"},sZ=function(t){return t.tagName==="SLOT"},j8=function(t){return t.tagName.indexOf("-")>0},RBe=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,s=e.counterReset,i=!0;r!==null&&r.forEach(function(a){var l=n.counters[a.counter];l&&a.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=a.increment)});var o=[];return i&&s.forEach(function(a){var l=n.counters[a.counter];o.push(a.counter),l||(l=n.counters[a.counter]=[]),l.push(a.reset)}),o},t}(),H8={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},z8={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},OBe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},$Be={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Bg=function(t,e,n,r,s,i){return t<e||t>n?nx(t,s,i.length>0):r.integers.reduce(function(o,a,l){for(;t>=a;)t-=a,o+=r.values[l];return o},"")+i},iZ=function(t,e,n,r){var s="";do n||t--,s=r(t)+s,t/=e;while(t*e>=e);return s},Ls=function(t,e,n,r,s){var i=n-e+1;return(t<0?"-":"")+(iZ(Math.abs(t),i,r,function(o){return Ds(Math.floor(o%i)+e)})+s)},cp=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return iZ(Math.abs(t),r,!1,function(s){return e[Math.floor(s%r)]})+n},Dg=1,dh=2,hh=4,Hw=8,VA=function(t,e,n,r,s,i){if(t<-9999||t>9999)return nx(t,4,s.length>0);var o=Math.abs(t),a=s;if(o===0)return e[0]+a;for(var l=0;o>0&&l<=4;l++){var c=o%10;c===0&&di(i,Dg)&&a!==""?a=e[c]+a:c>1||c===1&&l===0||c===1&&l===1&&di(i,dh)||c===1&&l===1&&di(i,hh)&&t>100||c===1&&l>1&&di(i,Hw)?a=e[c]+(l>0?n[l-1]:"")+a:c===1&&l>0&&(a=n[l-1]+a),o=Math.floor(o/10)}return(t<0?r:"")+a},V8="",W8="",G8="",o5="",nx=function(t,e,n){var r=n?". ":"",s=n?"":"",i=n?", ":"",o=n?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var a=Ls(t,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return cp(t,"",s);case 6:return Bg(t,1,3999,H8,3,r).toLowerCase();case 7:return Bg(t,1,3999,H8,3,r);case 8:return Ls(t,945,969,!1,r);case 9:return Ls(t,97,122,!1,r);case 10:return Ls(t,65,90,!1,r);case 11:return Ls(t,1632,1641,!0,r);case 12:case 49:return Bg(t,1,9999,z8,3,r);case 35:return Bg(t,1,9999,z8,3,r).toLowerCase();case 13:return Ls(t,2534,2543,!0,r);case 14:case 30:return Ls(t,6112,6121,!0,r);case 15:return cp(t,"",s);case 16:return cp(t,"",s);case 17:case 48:return VA(t,"",V8,"",s,dh|hh|Hw);case 47:return VA(t,"",W8,"",s,Dg|dh|hh|Hw);case 42:return VA(t,"",V8,"",s,dh|hh|Hw);case 41:return VA(t,"",W8,"",s,Dg|dh|hh|Hw);case 26:return VA(t,"","",G8,s,0);case 25:return VA(t,"","",G8,s,Dg|dh|hh);case 31:return VA(t,"","",o5,i,Dg|dh|hh);case 33:return VA(t,"","",o5,i,0);case 32:return VA(t,"","",o5,i,Dg|dh|hh);case 18:return Ls(t,2406,2415,!0,r);case 20:return Bg(t,1,19999,$Be,3,r);case 21:return Ls(t,2790,2799,!0,r);case 22:return Ls(t,2662,2671,!0,r);case 22:return Bg(t,1,10999,OBe,3,r);case 23:return cp(t,"");case 24:return cp(t,"");case 27:return Ls(t,3302,3311,!0,r);case 28:return cp(t,"",s);case 29:return cp(t,"",s);case 34:return Ls(t,3792,3801,!0,r);case 37:return Ls(t,6160,6169,!0,r);case 38:return Ls(t,4160,4169,!0,r);case 39:return Ls(t,2918,2927,!0,r);case 40:return Ls(t,1776,1785,!0,r);case 43:return Ls(t,3046,3055,!0,r);case 44:return Ls(t,3174,3183,!0,r);case 45:return Ls(t,3664,3673,!0,r);case 46:return Ls(t,3872,3881,!0,r);case 3:default:return Ls(t,48,57,!0,r)}},oZ="data-html2canvas-ignore",K8=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new RBe,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,s=UBe(e,n);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=s.contentWindow,l=a.document,c=jBe(s).then(function(){return Uo(r,void 0,void 0,function(){var u,A;return go(this,function(d){switch(d.label){case 0:return this.scrolledElements.forEach(WBe),a&&(a.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==n.top||a.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-n.left,a.scrollY-n.top,0,0))),u=this.options.onclone,A=this.clonedReferenceElement,typeof A>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:d.sent(),d.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,QBe(l)]:[3,4];case 3:d.sent(),d.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,A)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(zBe(document.doctype)+"<html></html>"),VBe(this.referenceElement.ownerDocument,i,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(d3(e,2))debugger;if(nZ(e))return this.createCanvasClone(e);if(M8(e))return this.createVideoClone(e);if(Q8(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return m3(n)&&(m3(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),j8(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return a5(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),s=e.cloneNode(!1);return s.textContent=r,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var a=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(a){var l=a.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,n,r){(!r0(n)||!PBe(n)&&!n.hasAttribute(oZ)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!r0(n)||!Q8(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(r0(i)&&sZ(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(a){return s.appendChildNode(n,a,r)})}else this.appendChildNode(n,i,r)},t.prototype.cloneNode=function(e,n){if(eZ(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&r0(e)&&(p3(e)||oB(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=r.getComputedStyle(e),o=r.getComputedStyle(e,":before"),a=r.getComputedStyle(e,":after");this.referenceElement===e&&p3(s)&&(this.clonedReferenceElement=s),WP(s)&&qBe(s);var l=this.counters.parse(new B8(this.context,i)),c=this.resolvePseudoContent(e,s,o,wv.BEFORE);j8(e)&&(n=!0),M8(e)||this.cloneChildNodes(e,s,n),c&&s.insertBefore(c,s.firstChild);var u=this.resolvePseudoContent(e,s,a,wv.AFTER);return u&&s.appendChild(u),this.counters.pop(l),(i&&(this.options.copyStyles||oB(e))&&!rZ(e)||n)&&a5(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(p_(e)||m_(e))&&(p_(s)||m_(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,s){var i=this;if(r){var o=r.content,a=n.ownerDocument;if(!(!a||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new B8(this.context,r));var l=new TSe(this.context,r),c=a.createElement("html2canvaspseudoelement");a5(r,c),l.content.forEach(function(A){if(A.type===0)c.appendChild(a.createTextNode(A.value));else if(A.type===22){var d=a.createElement("img");d.src=A.value,d.style.opacity="1",c.appendChild(d)}else if(A.type===18){if(A.name==="attr"){var h=A.values.filter(xr);h.length&&c.appendChild(a.createTextNode(e.getAttribute(h[0].value)||""))}else if(A.name==="counter"){var p=A.values.filter(X0),m=p[0],y=p[1];if(m&&xr(m)){var g=i.counters.getCounterValue(m.value),v=y&&xr(y)?A3.parse(i.context,y.value):3;c.appendChild(a.createTextNode(nx(g,v,!1)))}}else if(A.name==="counters"){var b=A.values.filter(X0),m=b[0],C=b[1],y=b[2];if(m&&xr(m)){var _=i.counters.getCounterValues(m.value),I=y&&xr(y)?A3.parse(i.context,y.value):3,F=C&&C.type===0?C.value:"",T=_.map(function(R){return nx(R,I,!1)}).join(F);c.appendChild(a.createTextNode(T))}}}else if(A.type===20)switch(A.value){case"open-quote":c.appendChild(a.createTextNode(S8(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(a.createTextNode(S8(l.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(a.createTextNode(A.value))}}),c.className=g3+" "+y3;var u=s===wv.BEFORE?" "+g3:" "+y3;return oB(n)?n.className.baseValue+=u:n.className+=u,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),wv;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(wv||(wv={}));var UBe=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(oZ,"true"),t.body.appendChild(n),n},MBe=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},QBe=function(t){return Promise.all([].slice.call(t.images,0).map(MBe))},jBe=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},HBe=["all","d","content"],a5=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);HBe.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},zBe=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},VBe=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},WBe=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},GBe=":before",KBe=":after",g3="___html2canvas___pseudoelement_before",y3="___html2canvas___pseudoelement_after",q8=`{
    content: "" !important;
    display: none !important;
}`,qBe=function(t){XBe(t,"."+g3+GBe+q8+`
         .`+y3+KBe+q8)},XBe=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},aZ=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),YBe=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(c5(e)||t_e(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Uo(this,void 0,void 0,function(){var n,r,s,i,o=this;return go(this,function(a){switch(a.label){case 0:return n=aZ.isSameOrigin(e),r=!l5(e)&&this._options.useCORS===!0&&Wi.SUPPORT_CORS_IMAGES&&!n,s=!l5(e)&&!n&&!c5(e)&&typeof this._options.proxy=="string"&&Wi.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!l5(e)&&!c5(e)&&!s&&!r?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(n_e(i)||r)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return l(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,o){var a=Wi.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(a==="text")i(l.response);else{var A=new FileReader;A.addEventListener("load",function(){return i(A.result)},!1),A.addEventListener("error",function(d){return o(d)},!1),A.readAsDataURL(l.response)}else o("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=o;var c=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+c+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=a),n._options.imageTimeout){var u=n._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+s)}}l.send()})},t}(),ZBe=/^data:image\/svg\+xml/i,JBe=/^data:image\/.*;base64,/i,e_e=/^data:image\/.*/i,t_e=function(t){return Wi.SUPPORT_SVG_DRAWING||!r_e(t)},l5=function(t){return e_e.test(t)},n_e=function(t){return JBe.test(t)},c5=function(t){return t.substr(0,4)==="blob"},r_e=function(t){return t.substr(-3).toLowerCase()==="svg"||ZBe.test(t)},yt=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),_g=function(t,e,n){return new yt(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},iS=function(){function t(e,n,r,s){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=s}return t.prototype.subdivide=function(e,n){var r=_g(this.start,this.startControl,e),s=_g(this.startControl,this.endControl,e),i=_g(this.endControl,this.end,e),o=_g(r,s,e),a=_g(s,i,e),l=_g(o,a,e);return n?new t(this.start,r,o,l):new t(l,a,i,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),zl=function(t){return t.type===1},s_e=function(){function t(e){var n=e.styles,r=e.bounds,s=Qw(n.borderTopLeftRadius,r.width,r.height),i=s[0],o=s[1],a=Qw(n.borderTopRightRadius,r.width,r.height),l=a[0],c=a[1],u=Qw(n.borderBottomRightRadius,r.width,r.height),A=u[0],d=u[1],h=Qw(n.borderBottomLeftRadius,r.width,r.height),p=h[0],m=h[1],y=[];y.push((i+l)/r.width),y.push((p+A)/r.width),y.push((o+m)/r.height),y.push((c+d)/r.height);var g=Math.max.apply(Math,y);g>1&&(i/=g,o/=g,l/=g,c/=g,A/=g,d/=g,p/=g,m/=g);var v=r.width-l,b=r.height-d,C=r.width-A,_=r.height-m,I=n.borderTopWidth,F=n.borderRightWidth,T=n.borderBottomWidth,D=n.borderLeftWidth,H=Dr(n.paddingTop,e.bounds.width),R=Dr(n.paddingRight,e.bounds.width),U=Dr(n.paddingBottom,e.bounds.width),W=Dr(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?Xr(r.left+D/3,r.top+I/3,i-D/3,o-I/3,lr.TOP_LEFT):new yt(r.left+D/3,r.top+I/3),this.topRightBorderDoubleOuterBox=i>0||o>0?Xr(r.left+v,r.top+I/3,l-F/3,c-I/3,lr.TOP_RIGHT):new yt(r.left+r.width-F/3,r.top+I/3),this.bottomRightBorderDoubleOuterBox=A>0||d>0?Xr(r.left+C,r.top+b,A-F/3,d-T/3,lr.BOTTOM_RIGHT):new yt(r.left+r.width-F/3,r.top+r.height-T/3),this.bottomLeftBorderDoubleOuterBox=p>0||m>0?Xr(r.left+D/3,r.top+_,p-D/3,m-T/3,lr.BOTTOM_LEFT):new yt(r.left+D/3,r.top+r.height-T/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?Xr(r.left+D*2/3,r.top+I*2/3,i-D*2/3,o-I*2/3,lr.TOP_LEFT):new yt(r.left+D*2/3,r.top+I*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?Xr(r.left+v,r.top+I*2/3,l-F*2/3,c-I*2/3,lr.TOP_RIGHT):new yt(r.left+r.width-F*2/3,r.top+I*2/3),this.bottomRightBorderDoubleInnerBox=A>0||d>0?Xr(r.left+C,r.top+b,A-F*2/3,d-T*2/3,lr.BOTTOM_RIGHT):new yt(r.left+r.width-F*2/3,r.top+r.height-T*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||m>0?Xr(r.left+D*2/3,r.top+_,p-D*2/3,m-T*2/3,lr.BOTTOM_LEFT):new yt(r.left+D*2/3,r.top+r.height-T*2/3),this.topLeftBorderStroke=i>0||o>0?Xr(r.left+D/2,r.top+I/2,i-D/2,o-I/2,lr.TOP_LEFT):new yt(r.left+D/2,r.top+I/2),this.topRightBorderStroke=i>0||o>0?Xr(r.left+v,r.top+I/2,l-F/2,c-I/2,lr.TOP_RIGHT):new yt(r.left+r.width-F/2,r.top+I/2),this.bottomRightBorderStroke=A>0||d>0?Xr(r.left+C,r.top+b,A-F/2,d-T/2,lr.BOTTOM_RIGHT):new yt(r.left+r.width-F/2,r.top+r.height-T/2),this.bottomLeftBorderStroke=p>0||m>0?Xr(r.left+D/2,r.top+_,p-D/2,m-T/2,lr.BOTTOM_LEFT):new yt(r.left+D/2,r.top+r.height-T/2),this.topLeftBorderBox=i>0||o>0?Xr(r.left,r.top,i,o,lr.TOP_LEFT):new yt(r.left,r.top),this.topRightBorderBox=l>0||c>0?Xr(r.left+v,r.top,l,c,lr.TOP_RIGHT):new yt(r.left+r.width,r.top),this.bottomRightBorderBox=A>0||d>0?Xr(r.left+C,r.top+b,A,d,lr.BOTTOM_RIGHT):new yt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=p>0||m>0?Xr(r.left,r.top+_,p,m,lr.BOTTOM_LEFT):new yt(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||o>0?Xr(r.left+D,r.top+I,Math.max(0,i-D),Math.max(0,o-I),lr.TOP_LEFT):new yt(r.left+D,r.top+I),this.topRightPaddingBox=l>0||c>0?Xr(r.left+Math.min(v,r.width-F),r.top+I,v>r.width+F?0:Math.max(0,l-F),Math.max(0,c-I),lr.TOP_RIGHT):new yt(r.left+r.width-F,r.top+I),this.bottomRightPaddingBox=A>0||d>0?Xr(r.left+Math.min(C,r.width-D),r.top+Math.min(b,r.height-T),Math.max(0,A-F),Math.max(0,d-T),lr.BOTTOM_RIGHT):new yt(r.left+r.width-F,r.top+r.height-T),this.bottomLeftPaddingBox=p>0||m>0?Xr(r.left+D,r.top+Math.min(_,r.height-T),Math.max(0,p-D),Math.max(0,m-T),lr.BOTTOM_LEFT):new yt(r.left+D,r.top+r.height-T),this.topLeftContentBox=i>0||o>0?Xr(r.left+D+W,r.top+I+H,Math.max(0,i-(D+W)),Math.max(0,o-(I+H)),lr.TOP_LEFT):new yt(r.left+D+W,r.top+I+H),this.topRightContentBox=l>0||c>0?Xr(r.left+Math.min(v,r.width+D+W),r.top+I+H,v>r.width+D+W?0:l-D+W,c-(I+H),lr.TOP_RIGHT):new yt(r.left+r.width-(F+R),r.top+I+H),this.bottomRightContentBox=A>0||d>0?Xr(r.left+Math.min(C,r.width-(D+W)),r.top+Math.min(b,r.height+I+H),Math.max(0,A-(F+R)),d-(T+U),lr.BOTTOM_RIGHT):new yt(r.left+r.width-(F+R),r.top+r.height-(T+U)),this.bottomLeftContentBox=p>0||m>0?Xr(r.left+D+W,r.top+_,Math.max(0,p-(D+W)),m-(T+U),lr.BOTTOM_LEFT):new yt(r.left+D+W,r.top+r.height-(T+U))}return t}(),lr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(lr||(lr={}));var Xr=function(t,e,n,r,s){var i=4*((Math.sqrt(2)-1)/3),o=n*i,a=r*i,l=t+n,c=e+r;switch(s){case lr.TOP_LEFT:return new iS(new yt(t,c),new yt(t,c-a),new yt(l-o,e),new yt(l,e));case lr.TOP_RIGHT:return new iS(new yt(t,e),new yt(t+o,e),new yt(l,c-a),new yt(l,c));case lr.BOTTOM_RIGHT:return new iS(new yt(l,e),new yt(l,e+a),new yt(t+o,c),new yt(t,c));case lr.BOTTOM_LEFT:default:return new iS(new yt(l,c),new yt(l-o,c),new yt(t,e+a),new yt(t,e))}},g_=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},i_e=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},y_=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},o_e=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),oS=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),a_e=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),l_e=function(t){return t.type===0},lZ=function(t){return t.type===1},c_e=function(t){return t.type===2},X8=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},u_e=function(t,e,n,r,s){return t.map(function(i,o){switch(o){case 0:return i.add(e,n);case 1:return i.add(e+r,n);case 2:return i.add(e+r,n+s);case 3:return i.add(e,n+s)}return i})},cZ=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),uZ=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new s_e(this.container),this.container.styles.opacity<1&&this.effects.push(new a_e(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new o_e(r,s,i))}if(this.container.styles.overflowX!==0){var o=g_(this.curves),a=y_(this.curves);X8(o,a)?this.effects.push(new oS(o,6)):(this.effects.push(new oS(o,2)),this.effects.push(new oS(a,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,s=this.effects.slice(0);r;){var i=r.effects.filter(function(l){return!lZ(l)});if(n||r.container.styles.position!==0||!r.parent){if(s.unshift.apply(s,i),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=g_(r.curves),a=y_(r.curves);X8(o,a)||s.unshift(new oS(a,6))}}else s.unshift.apply(s,i);r=r.parent}return s.filter(function(l){return di(l.target,e)})},t}(),w3=function(t,e,n,r){t.container.elements.forEach(function(s){var i=di(s.flags,4),o=di(s.flags,2),a=new uZ(s,t);di(s.styles.display,2048)&&r.push(a);var l=di(s.flags,8)?[]:r;if(i||o){var c=i||s.styles.isPositioned()?n:e,u=new cZ(a);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var A=s.styles.zIndex.order;if(A<0){var d=0;c.negativeZIndex.some(function(p,m){return A>p.element.container.styles.zIndex.order?(d=m,!1):d>0}),c.negativeZIndex.splice(d,0,u)}else if(A>0){var h=0;c.positiveZIndex.some(function(p,m){return A>=p.element.container.styles.zIndex.order?(h=m+1,!1):h>0}),c.positiveZIndex.splice(h,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);w3(a,u,i?u:n,l)}else s.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),w3(a,e,n,l);di(s.flags,8)&&AZ(s,l)})},AZ=function(t,e){for(var n=t instanceof f3?t.start:1,r=t instanceof f3?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof KY&&typeof i.container.value=="number"&&i.container.value!==0&&(n=i.container.value),i.listValue=nx(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},A_e=function(t){var e=new uZ(t,null),n=new cZ(e),r=[];return w3(e,n,n,r),AZ(e.container,r),n},Y8=function(t,e){switch(e){case 0:return ql(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return ql(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return ql(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return ql(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},d_e=function(t,e){switch(e){case 0:return ql(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return ql(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return ql(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return ql(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},h_e=function(t,e){switch(e){case 0:return ql(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return ql(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return ql(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return ql(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},f_e=function(t,e){switch(e){case 0:return aS(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return aS(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return aS(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return aS(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},aS=function(t,e){var n=[];return zl(t)?n.push(t.subdivide(.5,!1)):n.push(t),zl(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},ql=function(t,e,n,r){var s=[];return zl(t)?s.push(t.subdivide(.5,!1)):s.push(t),zl(n)?s.push(n.subdivide(.5,!0)):s.push(n),zl(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),zl(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},dZ=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},w_=function(t){var e=t.styles,n=t.bounds,r=Dr(e.paddingLeft,n.width),s=Dr(e.paddingRight,n.width),i=Dr(e.paddingTop,n.width),o=Dr(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+s),-(e.borderTopWidth+e.borderBottomWidth+i+o))},p_e=function(t,e){return t===0?e.bounds:t===2?w_(e):dZ(e)},m_e=function(t,e){return t===0?e.bounds:t===2?w_(e):dZ(e)},u5=function(t,e,n){var r=p_e(Pg(t.styles.backgroundOrigin,e),t),s=m_e(Pg(t.styles.backgroundClip,e),t),i=g_e(Pg(t.styles.backgroundSize,e),n,r),o=i[0],a=i[1],l=Qw(Pg(t.styles.backgroundPosition,e),r.width-o,r.height-a),c=y_e(Pg(t.styles.backgroundRepeat,e),l,i,r,s),u=Math.round(r.left+l[0]),A=Math.round(r.top+l[1]);return[c,u,A,o,a]},Ng=function(t){return xr(t)&&t.value===g0.AUTO},lS=function(t){return typeof t=="number"},g_e=function(t,e,n){var r=e[0],s=e[1],i=e[2],o=t[0],a=t[1];if(!o)return[0,0];if(Ks(o)&&a&&Ks(a))return[Dr(o,n.width),Dr(a,n.height)];var l=lS(i);if(xr(o)&&(o.value===g0.CONTAIN||o.value===g0.COVER)){if(lS(i)){var c=n.width/n.height;return c<i!=(o.value===g0.COVER)?[n.width,n.width/i]:[n.height*i,n.height]}return[n.width,n.height]}var u=lS(r),A=lS(s),d=u||A;if(Ng(o)&&(!a||Ng(a))){if(u&&A)return[r,s];if(!l&&!d)return[n.width,n.height];if(d&&l){var h=u?r:s*i,p=A?s:r/i;return[h,p]}var m=u?r:n.width,y=A?s:n.height;return[m,y]}if(l){var g=0,v=0;return Ks(o)?g=Dr(o,n.width):Ks(a)&&(v=Dr(a,n.height)),Ng(o)?g=v*i:(!a||Ng(a))&&(v=g/i),[g,v]}var b=null,C=null;if(Ks(o)?b=Dr(o,n.width):a&&Ks(a)&&(C=Dr(a,n.height)),b!==null&&(!a||Ng(a))&&(C=u&&A?b/r*s:n.height),C!==null&&Ng(o)&&(b=u&&A?C/s*r:n.width),b!==null&&C!==null)return[b,C];throw new Error("Unable to calculate background-size for element")},Pg=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},y_e=function(t,e,n,r,s){var i=e[0],o=e[1],a=n[0],l=n[1];switch(t){case 2:return[new yt(Math.round(r.left),Math.round(r.top+o)),new yt(Math.round(r.left+r.width),Math.round(r.top+o)),new yt(Math.round(r.left+r.width),Math.round(l+r.top+o)),new yt(Math.round(r.left),Math.round(l+r.top+o))];case 3:return[new yt(Math.round(r.left+i),Math.round(r.top)),new yt(Math.round(r.left+i+a),Math.round(r.top)),new yt(Math.round(r.left+i+a),Math.round(r.height+r.top)),new yt(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new yt(Math.round(r.left+i),Math.round(r.top+o)),new yt(Math.round(r.left+i+a),Math.round(r.top+o)),new yt(Math.round(r.left+i+a),Math.round(r.top+o+l)),new yt(Math.round(r.left+i),Math.round(r.top+o+l))];default:return[new yt(Math.round(s.left),Math.round(s.top)),new yt(Math.round(s.left+s.width),Math.round(s.top)),new yt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new yt(Math.round(s.left),Math.round(s.height+s.top))]}},w_e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Z8="Hidden Text",v_e=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),s.src=w_e,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=n,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(Z8)),r.appendChild(i),r.appendChild(s);var a=s.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(Z8)),r.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:a,middle:l}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),hZ=function(){function t(e,n){this.context=e,this.options=n}return t}(),x_e=1e4,b_e=function(t){gu(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s._activeEffects=[],s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),r.canvas||(s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px"),s.fontMetrics=new v_e(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),s}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(s){return r.applyEffect(s)})},e.prototype.applyEffect=function(n){this.ctx.save(),c_e(n)&&(this.ctx.globalAlpha=n.opacity),l_e(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),lZ(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return Uo(this,void 0,void 0,function(){var r;return go(this,function(s){switch(s.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return Uo(this,void 0,void 0,function(){return go(this,function(r){switch(r.label){case 0:if(di(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,s){var i=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+s);else{var o=zP(n.text);o.reduce(function(a,l){return i.ctx.fillText(l,a,n.bounds.top+s),a+i.ctx.measureText(l).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=N_e(n.fontFamily).join(", "),i=eb(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(n,r){return Uo(this,void 0,void 0,function(){var s,i,o,a,l,c,u,A,d=this;return go(this,function(h){return s=this.createFontStyle(r),i=s[0],o=s[1],a=s[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,a),c=l.baseline,u=l.middle,A=r.paintOrder,n.textBounds.forEach(function(p){A.forEach(function(m){switch(m){case 0:d.ctx.fillStyle=bi(r.color),d.renderTextWithLetterSpacing(p,r.letterSpacing,c);var y=r.textShadow;y.length&&p.text.trim().length&&(y.slice(0).reverse().forEach(function(g){d.ctx.shadowColor=bi(g.color),d.ctx.shadowOffsetX=g.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=g.offsetY.number*d.options.scale,d.ctx.shadowBlur=g.blur.number,d.renderTextWithLetterSpacing(p,r.letterSpacing,c)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),r.textDecorationLine.length&&(d.ctx.fillStyle=bi(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(g){switch(g){case 1:d.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+c),p.bounds.width,1);break;case 2:d.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:d.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+u),p.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&p.text.trim().length&&(d.ctx.strokeStyle=bi(r.webkitTextStrokeColor),d.ctx.lineWidth=r.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+c)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,s){if(s&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var i=w_(n),o=y_(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,n.intrinsicWidth,n.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return Uo(this,void 0,void 0,function(){var r,s,i,o,a,l,v,v,c,u,A,d,C,h,p,_,m,y,g,v,b,C,_;return go(this,function(I){switch(I.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,s=n.curves,i=r.styles,o=0,a=r.textNodes,I.label=1;case 1:return o<a.length?(l=a[o],[4,this.renderTextNode(l,i)]):[3,4];case 2:I.sent(),I.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof VY))return[3,8];I.label=5;case 5:return I.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return v=I.sent(),this.renderReplacedElement(r,s,v),[3,8];case 7:return I.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof WY&&this.renderReplacedElement(r,s,r.canvas),!(r instanceof GY))return[3,12];I.label=9;case 9:return I.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return v=I.sent(),this.renderReplacedElement(r,s,v),[3,12];case 11:return I.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof YY&&r.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:u=I.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),I.label=14;case 14:if(r instanceof VP&&(A=Math.min(r.bounds.width,r.bounds.height),r.type===h_?r.checked&&(this.ctx.save(),this.path([new yt(r.bounds.left+A*.39363,r.bounds.top+A*.79),new yt(r.bounds.left+A*.16,r.bounds.top+A*.5549),new yt(r.bounds.left+A*.27347,r.bounds.top+A*.44071),new yt(r.bounds.left+A*.39694,r.bounds.top+A*.5649),new yt(r.bounds.left+A*.72983,r.bounds.top+A*.23),new yt(r.bounds.left+A*.84,r.bounds.top+A*.34085),new yt(r.bounds.left+A*.39363,r.bounds.top+A*.79)]),this.ctx.fillStyle=bi(U8),this.ctx.fill(),this.ctx.restore()):r.type===f_&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+A/2,r.bounds.top+A/2,A/4,0,Math.PI*2,!0),this.ctx.fillStyle=bi(U8),this.ctx.fill(),this.ctx.restore())),C_e(r)&&r.value.length){switch(d=this.createFontStyle(i),C=d[0],h=d[1],p=this.fontMetrics.getMetrics(C,h).baseline,this.ctx.font=C,this.ctx.fillStyle=bi(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=B_e(r.styles.textAlign),_=w_(r),m=0,r.styles.textAlign){case 1:m+=_.width/2;break;case 2:m+=_.width;break}y=_.add(m,0,0,-_.height/2+1),this.ctx.save(),this.path([new yt(_.left,_.top),new yt(_.left+_.width,_.top),new yt(_.left+_.width,_.top+_.height),new yt(_.left,_.top+_.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new yv(r.value,y),i.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!di(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(g=r.styles.listStyleImage,g.type!==0)return[3,18];v=void 0,b=g.url,I.label=15;case 15:return I.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return v=I.sent(),this.ctx.drawImage(v,r.bounds.left-(v.width+10),r.bounds.top),[3,18];case 17:return I.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(C=this.createFontStyle(i)[0],this.ctx.font=C,this.ctx.fillStyle=bi(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",_=new wd(r.bounds.left,r.bounds.top+Dr(r.styles.paddingTop,r.bounds.width),r.bounds.width,b8(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new yv(n.listValue,_),i.letterSpacing,b8(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),I.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return Uo(this,void 0,void 0,function(){var r,s,g,i,o,g,a,l,g,c,u,g,A,d,g,h,p,g,m,y,g;return go(this,function(v){switch(v.label){case 0:if(di(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:v.sent(),r=0,s=n.negativeZIndex,v.label=2;case 2:return r<s.length?(g=s[r],[4,this.renderStack(g)]):[3,5];case 3:v.sent(),v.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:v.sent(),i=0,o=n.nonInlineLevel,v.label=7;case 7:return i<o.length?(g=o[i],[4,this.renderNode(g)]):[3,10];case 8:v.sent(),v.label=9;case 9:return i++,[3,7];case 10:a=0,l=n.nonPositionedFloats,v.label=11;case 11:return a<l.length?(g=l[a],[4,this.renderStack(g)]):[3,14];case 12:v.sent(),v.label=13;case 13:return a++,[3,11];case 14:c=0,u=n.nonPositionedInlineLevel,v.label=15;case 15:return c<u.length?(g=u[c],[4,this.renderStack(g)]):[3,18];case 16:v.sent(),v.label=17;case 17:return c++,[3,15];case 18:A=0,d=n.inlineLevel,v.label=19;case 19:return A<d.length?(g=d[A],[4,this.renderNode(g)]):[3,22];case 20:v.sent(),v.label=21;case 21:return A++,[3,19];case 22:h=0,p=n.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return h<p.length?(g=p[h],[4,this.renderStack(g)]):[3,26];case 24:v.sent(),v.label=25;case 25:return h++,[3,23];case 26:m=0,y=n.positiveZIndex,v.label=27;case 27:return m<y.length?(g=y[m],[4,this.renderStack(g)]):[3,30];case 28:v.sent(),v.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(s,i){var o=zl(s)?s.start:s;i===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),zl(s)&&r.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(n,r,s,i){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(n,r,s){var i;if(n.width===r&&n.height===s)return n;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,a=o.createElement("canvas");a.width=Math.max(1,r),a.height=Math.max(1,s);var l=a.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,r,s),a},e.prototype.renderBackgroundImage=function(n){return Uo(this,void 0,void 0,function(){var r,s,i,o,a,l;return go(this,function(c){switch(c.label){case 0:r=n.styles.backgroundImage.length-1,s=function(u){var A,d,h,H,J,oe,W,$,T,p,H,J,oe,W,$,m,y,g,v,b,C,_,I,F,T,D,H,R,U,W,$,Y,J,oe,V,Z,le,ce,M,G,X,re;return go(this,function(ue){switch(ue.label){case 0:if(u.type!==0)return[3,5];A=void 0,d=u.url,ue.label=1;case 1:return ue.trys.push([1,3,,4]),[4,i.context.cache.match(d)];case 2:return A=ue.sent(),[3,4];case 3:return ue.sent(),i.context.logger.error("Error loading background-image "+d),[3,4];case 4:return A&&(h=u5(n,r,[A.width,A.height,A.width/A.height]),H=h[0],J=h[1],oe=h[2],W=h[3],$=h[4],T=i.ctx.createPattern(i.resizeImage(A,W,$),"repeat"),i.renderRepeat(H,T,J,oe)),[3,6];case 5:lCe(u)?(p=u5(n,r,[null,null,null]),H=p[0],J=p[1],oe=p[2],W=p[3],$=p[4],m=rCe(u.angle,W,$),y=m[0],g=m[1],v=m[2],b=m[3],C=m[4],_=document.createElement("canvas"),_.width=W,_.height=$,I=_.getContext("2d"),F=I.createLinearGradient(g,b,v,C),v8(u.stops,y).forEach(function(de){return F.addColorStop(de.stop,bi(de.color))}),I.fillStyle=F,I.fillRect(0,0,W,$),W>0&&$>0&&(T=i.ctx.createPattern(_,"repeat"),i.renderRepeat(H,T,J,oe))):cCe(u)&&(D=u5(n,r,[null,null,null]),H=D[0],R=D[1],U=D[2],W=D[3],$=D[4],Y=u.position.length===0?[QP]:u.position,J=Dr(Y[0],W),oe=Dr(Y[Y.length-1],$),V=sCe(u,J,oe,W,$),Z=V[0],le=V[1],Z>0&&le>0&&(ce=i.ctx.createRadialGradient(R+J,U+oe,0,R+J,U+oe,Z),v8(u.stops,Z*2).forEach(function(de){return ce.addColorStop(de.stop,bi(de.color))}),i.path(H),i.ctx.fillStyle=ce,Z!==le?(M=n.bounds.left+.5*n.bounds.width,G=n.bounds.top+.5*n.bounds.height,X=le/Z,re=1/X,i.ctx.save(),i.ctx.translate(M,G),i.ctx.transform(1,0,0,X,0,0),i.ctx.translate(-M,-G),i.ctx.fillRect(R,re*(U-G)+G,W,$*re),i.ctx.restore()):i.ctx.fill())),ue.label=6;case 6:return r--,[2]}})},i=this,o=0,a=n.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<a.length?(l=a[o],[5,s(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,s){return Uo(this,void 0,void 0,function(){return go(this,function(i){return this.path(Y8(s,r)),this.ctx.fillStyle=bi(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,s,i){return Uo(this,void 0,void 0,function(){var o,a;return go(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(n,s,i)]:[3,2];case 1:return l.sent(),[2];case 2:return o=d_e(i,s),this.path(o),this.ctx.fillStyle=bi(n),this.ctx.fill(),a=h_e(i,s),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return Uo(this,void 0,void 0,function(){var r,s,i,o,a,l,c,u,A=this;return go(this,function(d){switch(d.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,s=!Xh(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=S_e(Pg(r.backgroundClip,0),n.curves),s||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Xh(r.backgroundColor)||(this.ctx.fillStyle=bi(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:d.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(h){A.ctx.save();var p=g_(n.curves),m=h.inset?0:x_e,y=u_e(p,-m+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(A.path(p),A.ctx.clip(),A.mask(y)):(A.mask(p),A.ctx.clip(),A.path(y)),A.ctx.shadowOffsetX=h.offsetX.number+m,A.ctx.shadowOffsetY=h.offsetY.number,A.ctx.shadowColor=bi(h.color),A.ctx.shadowBlur=h.blur.number,A.ctx.fillStyle=h.inset?bi(h.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()}),d.label=2;case 2:a=0,l=0,c=i,d.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!Xh(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,2)]:[3,11]):[3,13];case 4:return d.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,3)];case 6:return d.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,n.curves)];case 8:return d.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,n.curves)];case 10:d.sent(),d.label=11;case 11:a++,d.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,s,i,o){return Uo(this,void 0,void 0,function(){var a,l,c,u,A,d,h,p,m,y,g,v,b,C,_,I,_,I;return go(this,function(F){return this.ctx.save(),a=f_e(i,s),l=Y8(i,s),o===2&&(this.path(l),this.ctx.clip()),zl(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),zl(l[1])?(A=l[1].end.x,d=l[1].end.y):(A=l[1].x,d=l[1].y),s===0||s===2?h=Math.abs(c-A):h=Math.abs(u-d),this.ctx.beginPath(),o===3?this.formatPath(a):this.formatPath(l.slice(0,2)),p=r<3?r*3:r*2,m=r<3?r*2:r,o===3&&(p=r,m=r),y=!0,h<=p*2?y=!1:h<=p*2+m?(g=h/(2*p+m),p*=g,m*=g):(v=Math.floor((h+m)/(p+m)),b=(h-v*p)/(v-1),C=(h-(v+1)*p)/v,m=C<=0||Math.abs(m-b)<Math.abs(m-C)?b:C),y&&(o===3?this.ctx.setLineDash([0,p+m]):this.ctx.setLineDash([p,m])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=bi(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(zl(l[0])&&(_=l[3],I=l[0],this.ctx.beginPath(),this.formatPath([new yt(_.end.x,_.end.y),new yt(I.start.x,I.start.y)]),this.ctx.stroke()),zl(l[1])&&(_=l[1],I=l[2],this.ctx.beginPath(),this.formatPath([new yt(_.end.x,_.end.y),new yt(I.start.x,I.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return Uo(this,void 0,void 0,function(){var r;return go(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=bi(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=A_e(n),[4,this.renderStack(r)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(hZ),C_e=function(t){return t instanceof XY||t instanceof qY?!0:t instanceof VP&&t.type!==f_&&t.type!==h_},S_e=function(t,e){switch(t){case 0:return g_(e);case 2:return i_e(e);case 1:default:return y_(e)}},B_e=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},__e=["-apple-system","system-ui"],N_e=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return __e.indexOf(e)===-1}):t},I_e=function(t){gu(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=r,s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),s}return e.prototype.render=function(n){return Uo(this,void 0,void 0,function(){var r,s;return go(this,function(i){switch(i.label){case 0:return r=h3(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,E_e(r)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=bi(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(hZ),E_e=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},k_e=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,MC([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,MC([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,MC([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,MC([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),T_e=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new k_e({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new YBe(this,e)}return t.instanceCount=1,t}(),fZ=function(t,e){return e===void 0&&(e={}),F_e(t,e)};typeof window<"u"&&aZ.setContext(window);var F_e=function(t,e){return Uo(void 0,void 0,void 0,function(){var n,r,s,i,o,a,l,c,u,A,d,h,p,m,y,g,v,b,C,_,F,I,F,T,D,H,R,U,W,$,Y,J,oe,V,Z,le,ce,M,G,X;return go(this,function(re){switch(re.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return s={allowTaint:(T=e.allowTaint)!==null&&T!==void 0?T:!1,imageTimeout:(D=e.imageTimeout)!==null&&D!==void 0?D:15e3,proxy:e.proxy,useCORS:(H=e.useCORS)!==null&&H!==void 0?H:!1},i=Z4({logging:(R=e.logging)!==null&&R!==void 0?R:!0,cache:e.cache},s),o={windowWidth:(U=e.windowWidth)!==null&&U!==void 0?U:r.innerWidth,windowHeight:(W=e.windowHeight)!==null&&W!==void 0?W:r.innerHeight,scrollX:($=e.scrollX)!==null&&$!==void 0?$:r.pageXOffset,scrollY:(Y=e.scrollY)!==null&&Y!==void 0?Y:r.pageYOffset},a=new wd(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new T_e(i,a),c=(J=e.foreignObjectRendering)!==null&&J!==void 0?J:!1,u={allowTaint:(oe=e.allowTaint)!==null&&oe!==void 0?oe:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),A=new K8(l,t,u),d=A.clonedReferenceElement,d?[4,A.toIFrame(n,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=re.sent(),p=WP(d)||DBe(d)?ube(d.ownerDocument):WN(l,d),m=p.width,y=p.height,g=p.left,v=p.top,b=L_e(l,d,e.backgroundColor),C={canvas:e.canvas,backgroundColor:b,scale:(Z=(V=e.scale)!==null&&V!==void 0?V:r.devicePixelRatio)!==null&&Z!==void 0?Z:1,x:((le=e.x)!==null&&le!==void 0?le:0)+g,y:((ce=e.y)!==null&&ce!==void 0?ce:0)+v,width:(M=e.width)!==null&&M!==void 0?M:Math.ceil(m),height:(G=e.height)!==null&&G!==void 0?G:Math.ceil(y)},c?(l.logger.debug("Document cloned, using foreign object rendering"),F=new I_e(l,C),[4,F.render(d)]):[3,3];case 2:return _=re.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+g+","+v+" with size "+m+"x"+y+" using computed rendering"),l.logger.debug("Starting DOM parsing"),I=JY(l,d),b===I.styles.backgroundColor&&(I.styles.backgroundColor=cd.TRANSPARENT),l.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),F=new b_e(l,C),[4,F.render(I)];case 4:_=re.sent(),re.label=5;case 5:return(!((X=e.removeContainer)!==null&&X!==void 0)||X)&&(K8.destroy(h)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,_]}})})},L_e=function(t,e,n){var r=e.ownerDocument,s=r.documentElement?mv(t,getComputedStyle(r.documentElement).backgroundColor):cd.TRANSPARENT,i=r.body?mv(t,getComputedStyle(r.body).backgroundColor):cd.TRANSPARENT,o=typeof n=="string"?mv(t,n):n===null?cd.TRANSPARENT:4294967295;return e===r.documentElement?Xh(s)?Xh(i)?o:i:s:o};const D_e=Object.freeze(Object.defineProperty({__proto__:null,default:fZ},Symbol.toStringTag,{value:"Module"})),P_e="modulepreload",R_e=function(t){return"/"+t},J8={},A5=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=R_e(l),l in J8)return;J8[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const A=document.createElement("link");if(A.rel=c?"stylesheet":P_e,c||(A.as="script"),A.crossOrigin="",A.href=l,a&&A.setAttribute("nonce",a),document.head.appendChild(A),c)return new Promise((d,h)=>{A.addEventListener("load",d),A.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function mr(t){"@babel/helpers - typeof";return mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(t)}var uu=Uint8Array,al=Uint16Array,GP=Int32Array,KP=new uu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qP=new uu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ej=new uu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pZ=function(t,e){for(var n=new al(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var s=new GP(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},mZ=pZ(KP,2),O_e=mZ.b,v3=mZ.r;O_e[28]=258,v3[258]=28;var $_e=pZ(qP,0),tj=$_e.r,x3=new al(32768);for(var zr=0;zr<32768;++zr){var ah=(zr&43690)>>1|(zr&21845)<<1;ah=(ah&52428)>>2|(ah&13107)<<2,ah=(ah&61680)>>4|(ah&3855)<<4,x3[zr]=((ah&65280)>>8|(ah&255)<<8)>>1}var vv=function(t,e,n){for(var r=t.length,s=0,i=new al(e);s<r;++s)t[s]&&++i[t[s]-1];var o=new al(e);for(s=1;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var a;if(n){a=new al(1<<e);var l=15-e;for(s=0;s<r;++s)if(t[s])for(var c=s<<4|t[s],u=e-t[s],A=o[t[s]-1]++<<u,d=A|(1<<u)-1;A<=d;++A)a[x3[A]>>l]=c}else for(a=new al(r),s=0;s<r;++s)t[s]&&(a[s]=x3[o[t[s]-1]++]>>15-t[s]);return a},fm=new uu(288);for(var zr=0;zr<144;++zr)fm[zr]=8;for(var zr=144;zr<256;++zr)fm[zr]=9;for(var zr=256;zr<280;++zr)fm[zr]=7;for(var zr=280;zr<288;++zr)fm[zr]=8;var v_=new uu(32);for(var zr=0;zr<32;++zr)v_[zr]=5;var U_e=vv(fm,9,0),M_e=vv(v_,5,0),gZ=function(t){return(t+7)/8|0},Q_e=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new uu(t.subarray(e,n))},WA=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},vw=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},d5=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,i=n.slice();if(!s)return{t:wZ,l:0};if(s==1){var o=new uu(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(_,I){return _.f-I.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,A=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=s-1;)a=n[n[c].f<n[A].f?c++:A++],l=n[c!=u&&n[c].f<n[A].f?c++:A++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var d=i[0].s,r=1;r<s;++r)i[r].s>d&&(d=i[r].s);var h=new al(d+1),p=b3(n[u-1],h,0);if(p>e){var r=0,m=0,y=p-e,g=1<<y;for(i.sort(function(I,F){return h[F.s]-h[I.s]||I.f-F.f});r<s;++r){var v=i[r].s;if(h[v]>e)m+=g-(1<<p-h[v]),h[v]=e;else break}for(m>>=y;m>0;){var b=i[r].s;h[b]<e?m-=1<<e-h[b]++-1:++r}for(;r>=0&&m;--r){var C=i[r].s;h[C]==e&&(--h[C],++m)}p=e}return{t:new uu(h),l:p}},b3=function(t,e,n){return t.s==-1?Math.max(b3(t.l,e,n+1),b3(t.r,e,n+1)):e[t.s]=n},nj=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new al(++e),r=0,s=t[0],i=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[a]}return{c:n.subarray(0,r),n:e}},xw=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},yZ=function(t,e,n){var r=n.length,s=gZ(e+2);t[s]=r&255,t[s+1]=r>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<r;++i)t[s+i+4]=n[i];return(s+4+r)*8},rj=function(t,e,n,r,s,i,o,a,l,c,u){WA(e,u++,n),++s[256];for(var A=d5(s,15),d=A.t,h=A.l,p=d5(i,15),m=p.t,y=p.l,g=nj(d),v=g.c,b=g.n,C=nj(m),_=C.c,I=C.n,F=new al(19),T=0;T<v.length;++T)++F[v[T]&31];for(var T=0;T<_.length;++T)++F[_[T]&31];for(var D=d5(F,7),H=D.t,R=D.l,U=19;U>4&&!H[ej[U-1]];--U);var W=c+5<<3,$=xw(s,fm)+xw(i,v_)+o,Y=xw(s,d)+xw(i,m)+o+14+3*U+xw(F,H)+2*F[16]+3*F[17]+7*F[18];if(l>=0&&W<=$&&W<=Y)return yZ(e,u,t.subarray(l,l+c));var J,oe,V,Z;if(WA(e,u,1+(Y<$)),u+=2,Y<$){J=vv(d,h,0),oe=d,V=vv(m,y,0),Z=m;var le=vv(H,R,0);WA(e,u,b-257),WA(e,u+5,I-1),WA(e,u+10,U-4),u+=14;for(var T=0;T<U;++T)WA(e,u+3*T,H[ej[T]]);u+=3*U;for(var ce=[v,_],M=0;M<2;++M)for(var G=ce[M],T=0;T<G.length;++T){var X=G[T]&31;WA(e,u,le[X]),u+=H[X],X>15&&(WA(e,u,G[T]>>5&127),u+=G[T]>>12)}}else J=U_e,oe=fm,V=M_e,Z=v_;for(var T=0;T<a;++T){var re=r[T];if(re>255){var X=re>>18&31;vw(e,u,J[X+257]),u+=oe[X+257],X>7&&(WA(e,u,re>>23&31),u+=KP[X]);var ue=re&31;vw(e,u,V[ue]),u+=Z[ue],ue>3&&(vw(e,u,re>>5&8191),u+=qP[ue])}else vw(e,u,J[re]),u+=oe[re]}return vw(e,u,J[256]),u+oe[256]},j_e=new GP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),wZ=new uu(0),H_e=function(t,e,n,r,s,i){var o=i.z||t.length,a=new uu(r+o+5*(1+Math.ceil(o/7e3))+s),l=a.subarray(r,a.length-s),c=i.l,u=(i.r||0)&7;if(e){u&&(l[0]=i.r>>3);for(var A=j_e[e-1],d=A>>13,h=A&8191,p=(1<<n)-1,m=i.p||new al(32768),y=i.h||new al(p+1),g=Math.ceil(n/3),v=2*g,b=function(tt){return(t[tt]^t[tt+1]<<g^t[tt+2]<<v)&p},C=new GP(25e3),_=new al(288),I=new al(32),F=0,T=0,D=i.i||0,H=0,R=i.w||0,U=0;D+2<o;++D){var W=b(D),$=D&32767,Y=y[W];if(m[$]=Y,y[W]=$,R<=D){var J=o-D;if((F>7e3||H>24576)&&(J>423||!c)){u=rj(t,l,0,C,_,I,T,H,U,D-U,u),H=F=T=0,U=D;for(var oe=0;oe<286;++oe)_[oe]=0;for(var oe=0;oe<30;++oe)I[oe]=0}var V=2,Z=0,le=h,ce=$-Y&32767;if(J>2&&W==b(D-ce))for(var M=Math.min(d,J)-1,G=Math.min(32767,D),X=Math.min(258,J);ce<=G&&--le&&$!=Y;){if(t[D+V]==t[D+V-ce]){for(var re=0;re<X&&t[D+re]==t[D+re-ce];++re);if(re>V){if(V=re,Z=ce,re>M)break;for(var ue=Math.min(ce,re-2),de=0,oe=0;oe<ue;++oe){var we=D-ce+oe&32767,Ce=m[we],Ne=we-Ce&32767;Ne>de&&(de=Ne,Y=we)}}}$=Y,Y=m[$],ce+=$-Y&32767}if(Z){C[H++]=268435456|v3[V]<<18|tj[Z];var Ee=v3[V]&31,Ue=tj[Z]&31;T+=KP[Ee]+qP[Ue],++_[257+Ee],++I[Ue],R=D+V,++F}else C[H++]=t[D],++_[t[D]]}}for(D=Math.max(D,R);D<o;++D)C[H++]=t[D],++_[t[D]];u=rj(t,l,c,C,_,I,T,H,U,D-U,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=y,i.p=m,i.i=D,i.w=R)}else{for(var D=i.w||0;D<o+c;D+=65535){var ze=D+65535;ze>=o&&(l[u/8|0]=c,ze=o),u=yZ(l,u+1,t.subarray(D,ze))}i.i=o}return Q_e(a,0,r+gZ(u)+s)},vZ=function(){var t=1,e=0;return{p:function(n){for(var r=t,s=e,i=n.length|0,o=0;o!=i;){for(var a=Math.min(o+2655,i);o<a;++o)s+=r+=n[o];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}t=r,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},z_e=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new uu(i.length+t.length);o.set(i),o.set(t,i.length),t=o,s.w=i.length}return H_e(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,s)},xZ=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},V_e=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=vZ();s.p(e.dictionary),xZ(t,2,s.d())}};function C3(t,e){e||(e={});var n=vZ();n.p(t);var r=z_e(t,e,e.dictionary?6:2,4);return V_e(r,e),xZ(r,r.length-4,n.d()),r}var W_e=typeof TextDecoder<"u"&&new TextDecoder,G_e=0;try{W_e.decode(wZ,{stream:!0}),G_e=1}catch{}function K_e(t){if(Array.isArray(t))return t}function q_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function sj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function X_e(t,e){if(t){if(typeof t=="string")return sj(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sj(t,e):void 0}}function Y_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ij(t,e){return K_e(t)||q_e(t,e)||X_e(t,e)||Y_e()}function oj(t,e="utf8"){return new TextDecoder(e).decode(t)}const Z_e=new TextEncoder;function J_e(t){return Z_e.encode(t)}const eNe=1024*8,tNe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),h5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class XP{constructor(e=eNe,n={}){Un(this,"buffer");Un(this,"byteLength");Un(this,"byteOffset");Un(this,"length");Un(this,"offset");Un(this,"lastWrittenByte");Un(this,"littleEndian");Un(this,"_data");Un(this,"_mark");Un(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=n.offset?n.offset>>>0:0,i=e.byteLength-s;let o=s;(ArrayBuffer.isView(e)||e instanceof XP)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=h5[n].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+r);if(this.littleEndian===tNe&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(s,s+r));a.reverse();const l=new h5[n](a.buffer);return this.offset+=r,l.reverse(),l}const o=new h5[n](i);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return oj(this.readBytes(e))}decodeText(e=1,n="utf8"){return oj(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(J_e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const nNe=4,aj=0,lj=1,rNe=2;function Ey(t){let e=t.length;for(;--e>=0;)t[e]=0}const sNe=0,bZ=1,iNe=2,oNe=3,aNe=258,YP=29,tb=256,rx=tb+1+YP,y0=30,ZP=19,CZ=2*rx+1,Dp=15,f5=16,lNe=7,JP=256,SZ=16,BZ=17,_Z=18,S3=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),aB=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),cNe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),NZ=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),uNe=512,ZA=new Array((rx+2)*2);Ey(ZA);const xv=new Array(y0*2);Ey(xv);const sx=new Array(uNe);Ey(sx);const ix=new Array(aNe-oNe+1);Ey(ix);const eR=new Array(YP);Ey(eR);const x_=new Array(y0);Ey(x_);function p5(t,e,n,r,s){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=s,this.has_stree=t&&t.length}let IZ,EZ,kZ;function m5(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const TZ=t=>t<256?sx[t]:sx[256+(t>>>7)],ox=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Ia=(t,e,n)=>{t.bi_valid>f5-n?(t.bi_buf|=e<<t.bi_valid&65535,ox(t,t.bi_buf),t.bi_buf=e>>f5-t.bi_valid,t.bi_valid+=n-f5):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},Yu=(t,e,n)=>{Ia(t,n[e*2],n[e*2+1])},FZ=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},ANe=t=>{t.bi_valid===16?(ox(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},dNe=(t,e)=>{const n=e.dyn_tree,r=e.max_code,s=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,u,A,d,h,p,m=0;for(d=0;d<=Dp;d++)t.bl_count[d]=0;for(n[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<CZ;c++)u=t.heap[c],d=n[n[u*2+1]*2+1]+1,d>l&&(d=l,m++),n[u*2+1]=d,!(u>r)&&(t.bl_count[d]++,h=0,u>=a&&(h=o[u-a]),p=n[u*2],t.opt_len+=p*(d+h),i&&(t.static_len+=p*(s[u*2+1]+h)));if(m!==0){do{for(d=l-1;t.bl_count[d]===0;)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[l]--,m-=2}while(m>0);for(d=l;d!==0;d--)for(u=t.bl_count[d];u!==0;)A=t.heap[--c],!(A>r)&&(n[A*2+1]!==d&&(t.opt_len+=(d-n[A*2+1])*n[A*2],n[A*2+1]=d),u--)}},LZ=(t,e,n)=>{const r=new Array(Dp+1);let s=0,i,o;for(i=1;i<=Dp;i++)s=s+n[i-1]<<1,r[i]=s;for(o=0;o<=e;o++){let a=t[o*2+1];a!==0&&(t[o*2]=FZ(r[a]++,a))}},hNe=()=>{let t,e,n,r,s;const i=new Array(Dp+1);for(n=0,r=0;r<YP-1;r++)for(eR[r]=n,t=0;t<1<<S3[r];t++)ix[n++]=r;for(ix[n-1]=r,s=0,r=0;r<16;r++)for(x_[r]=s,t=0;t<1<<aB[r];t++)sx[s++]=r;for(s>>=7;r<y0;r++)for(x_[r]=s<<7,t=0;t<1<<aB[r]-7;t++)sx[256+s++]=r;for(e=0;e<=Dp;e++)i[e]=0;for(t=0;t<=143;)ZA[t*2+1]=8,t++,i[8]++;for(;t<=255;)ZA[t*2+1]=9,t++,i[9]++;for(;t<=279;)ZA[t*2+1]=7,t++,i[7]++;for(;t<=287;)ZA[t*2+1]=8,t++,i[8]++;for(LZ(ZA,rx+1,i),t=0;t<y0;t++)xv[t*2+1]=5,xv[t*2]=FZ(t,5);IZ=new p5(ZA,S3,tb+1,rx,Dp),EZ=new p5(xv,aB,0,y0,Dp),kZ=new p5(new Array(0),cNe,0,ZP,lNe)},DZ=t=>{let e;for(e=0;e<rx;e++)t.dyn_ltree[e*2]=0;for(e=0;e<y0;e++)t.dyn_dtree[e*2]=0;for(e=0;e<ZP;e++)t.bl_tree[e*2]=0;t.dyn_ltree[JP*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},PZ=t=>{t.bi_valid>8?ox(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},cj=(t,e,n,r)=>{const s=e*2,i=n*2;return t[s]<t[i]||t[s]===t[i]&&r[e]<=r[n]},g5=(t,e,n)=>{const r=t.heap[n];let s=n<<1;for(;s<=t.heap_len&&(s<t.heap_len&&cj(e,t.heap[s+1],t.heap[s],t.depth)&&s++,!cj(e,r,t.heap[s],t.depth));)t.heap[n]=t.heap[s],n=s,s<<=1;t.heap[n]=r},uj=(t,e,n)=>{let r,s,i=0,o,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+i++]&255,r+=(t.pending_buf[t.sym_buf+i++]&255)<<8,s=t.pending_buf[t.sym_buf+i++],r===0?Yu(t,s,e):(o=ix[s],Yu(t,o+tb+1,e),a=S3[o],a!==0&&(s-=eR[o],Ia(t,s,a)),r--,o=TZ(r),Yu(t,o,n),a=aB[o],a!==0&&(r-=x_[o],Ia(t,r,a)));while(i<t.sym_next);Yu(t,JP,e)},B3=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,s=e.stat_desc.has_stree,i=e.stat_desc.elems;let o,a,l=-1,c;for(t.heap_len=0,t.heap_max=CZ,o=0;o<i;o++)n[o*2]!==0?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):n[o*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,n[c*2]=1,t.depth[c]=0,t.opt_len--,s&&(t.static_len-=r[c*2+1]);for(e.max_code=l,o=t.heap_len>>1;o>=1;o--)g5(t,n,o);c=i;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],g5(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,n[c*2]=n[o*2]+n[a*2],t.depth[c]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,n[o*2+1]=n[a*2+1]=c,t.heap[1]=c++,g5(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],dNe(t,e),LZ(n,l,t.bl_count)},Aj=(t,e,n)=>{let r,s=-1,i,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)i=o,o=e[(r+1)*2+1],!(++a<l&&i===o)&&(a<c?t.bl_tree[i*2]+=a:i!==0?(i!==s&&t.bl_tree[i*2]++,t.bl_tree[SZ*2]++):a<=10?t.bl_tree[BZ*2]++:t.bl_tree[_Z*2]++,a=0,s=i,o===0?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4))},dj=(t,e,n)=>{let r,s=-1,i,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),r=0;r<=n;r++)if(i=o,o=e[(r+1)*2+1],!(++a<l&&i===o)){if(a<c)do Yu(t,i,t.bl_tree);while(--a!==0);else i!==0?(i!==s&&(Yu(t,i,t.bl_tree),a--),Yu(t,SZ,t.bl_tree),Ia(t,a-3,2)):a<=10?(Yu(t,BZ,t.bl_tree),Ia(t,a-3,3)):(Yu(t,_Z,t.bl_tree),Ia(t,a-11,7));a=0,s=i,o===0?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4)}},fNe=t=>{let e;for(Aj(t,t.dyn_ltree,t.l_desc.max_code),Aj(t,t.dyn_dtree,t.d_desc.max_code),B3(t,t.bl_desc),e=ZP-1;e>=3&&t.bl_tree[NZ[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},pNe=(t,e,n,r)=>{let s;for(Ia(t,e-257,5),Ia(t,n-1,5),Ia(t,r-4,4),s=0;s<r;s++)Ia(t,t.bl_tree[NZ[s]*2+1],3);dj(t,t.dyn_ltree,e-1),dj(t,t.dyn_dtree,n-1)},mNe=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return aj;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return lj;for(n=32;n<tb;n++)if(t.dyn_ltree[n*2]!==0)return lj;return aj};let hj=!1;const gNe=t=>{hj||(hNe(),hj=!0),t.l_desc=new m5(t.dyn_ltree,IZ),t.d_desc=new m5(t.dyn_dtree,EZ),t.bl_desc=new m5(t.bl_tree,kZ),t.bi_buf=0,t.bi_valid=0,DZ(t)},RZ=(t,e,n,r)=>{Ia(t,(sNe<<1)+(r?1:0),3),PZ(t),ox(t,n),ox(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},yNe=t=>{Ia(t,bZ<<1,3),Yu(t,JP,ZA),ANe(t)},wNe=(t,e,n,r)=>{let s,i,o=0;t.level>0?(t.strm.data_type===rNe&&(t.strm.data_type=mNe(t)),B3(t,t.l_desc),B3(t,t.d_desc),o=fNe(t),s=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=s&&(s=i)):s=i=n+5,n+4<=s&&e!==-1?RZ(t,e,n,r):t.strategy===nNe||i===s?(Ia(t,(bZ<<1)+(r?1:0),3),uj(t,ZA,xv)):(Ia(t,(iNe<<1)+(r?1:0),3),pNe(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),uj(t,t.dyn_ltree,t.dyn_dtree)),DZ(t),r&&PZ(t)},vNe=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(ix[n]+tb+1)*2]++,t.dyn_dtree[TZ(e)*2]++),t.sym_next===t.sym_end);var xNe=gNe,bNe=RZ,CNe=wNe,SNe=vNe,BNe=yNe,_Ne={_tr_init:xNe,_tr_stored_block:bNe,_tr_flush_block:CNe,_tr_tally:SNe,_tr_align:BNe};const NNe=(t,e,n,r)=>{let s=t&65535|0,i=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do s=s+e[r++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var ax=NNe;const INe=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},ENe=new Uint32Array(INe()),kNe=(t,e,n,r)=>{const s=ENe,i=r+n;t^=-1;for(let o=r;o<i;o++)t=t>>>8^s[(t^e[o])&255];return t^-1};var Ci=kNe,Y0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},nb={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:TNe,_tr_stored_block:_3,_tr_flush_block:FNe,_tr_tally:Yh,_tr_align:LNe}=_Ne,{Z_NO_FLUSH:Zh,Z_PARTIAL_FLUSH:DNe,Z_FULL_FLUSH:PNe,Z_FINISH:Vl,Z_BLOCK:fj,Z_OK:zi,Z_STREAM_END:pj,Z_STREAM_ERROR:lA,Z_DATA_ERROR:RNe,Z_BUF_ERROR:y5,Z_DEFAULT_COMPRESSION:ONe,Z_FILTERED:$Ne,Z_HUFFMAN_ONLY:cS,Z_RLE:UNe,Z_FIXED:MNe,Z_DEFAULT_STRATEGY:QNe,Z_UNKNOWN:jNe,Z_DEFLATED:nI}=nb,HNe=9,zNe=15,VNe=8,WNe=29,GNe=256,N3=GNe+1+WNe,KNe=30,qNe=19,XNe=2*N3+1,YNe=15,jn=3,Dh=258,cA=Dh+jn+1,ZNe=32,Z0=42,tR=57,I3=69,E3=73,k3=91,T3=103,Pp=113,zw=666,Wo=1,ky=2,pm=3,Ty=4,JNe=3,Rp=(t,e)=>(t.msg=Y0[e],e),mj=t=>t*2-(t>4?9:0),xh=t=>{let e=t.length;for(;--e>=0;)t[e]=0},eIe=t=>{let e,n,r,s=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=s?n-s:0;while(--e);e=s,r=e;do n=t.prev[--r],t.prev[r]=n>=s?n-s:0;while(--e)};let tIe=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,Jh=tIe;const el=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},ll=(t,e)=>{FNe(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,el(t.strm)},tr=(t,e)=>{t.pending_buf[t.pending++]=e},bw=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},F3=(t,e,n,r)=>{let s=t.avail_in;return s>r&&(s=r),s===0?0:(t.avail_in-=s,e.set(t.input.subarray(t.next_in,t.next_in+s),n),t.state.wrap===1?t.adler=ax(t.adler,e,s,n):t.state.wrap===2&&(t.adler=Ci(t.adler,e,s,n)),t.next_in+=s,t.total_in+=s,s)},OZ=(t,e)=>{let n=t.max_chain_length,r=t.strstart,s,i,o=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-cA?t.strstart-(t.w_size-cA):0,c=t.window,u=t.w_mask,A=t.prev,d=t.strstart+Dh;let h=c[r+o-1],p=c[r+o];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(s=e,!(c[s+o]!==p||c[s+o-1]!==h||c[s]!==c[r]||c[++s]!==c[r+1])){r+=2,s++;do;while(c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&r<d);if(i=Dh-(d-r),r=d-Dh,i>o){if(t.match_start=e,o=i,i>=a)break;h=c[r+o-1],p=c[r+o]}}while((e=A[e&u])>l&&--n!==0);return o<=t.lookahead?o:t.lookahead},J0=t=>{const e=t.w_size;let n,r,s;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-cA)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),eIe(t),r+=e),t.strm.avail_in===0)break;if(n=F3(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=jn)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=Jh(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=Jh(t,t.ins_h,t.window[s+jn-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<jn)););}while(t.lookahead<cA&&t.strm.avail_in!==0)},$Z=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,s,i,o=0,a=t.strm.avail_in;do{if(r=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i||(i=t.strm.avail_out-i,s=t.strstart-t.block_start,r>s+t.strm.avail_in&&(r=s+t.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&e!==Vl||e===Zh||r!==s+t.strm.avail_in)))break;o=e===Vl&&r===s+t.strm.avail_in?1:0,_3(t,0,0,o),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,el(t.strm),s&&(s>r&&(s=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+s),t.strm.next_out),t.strm.next_out+=s,t.strm.avail_out-=s,t.strm.total_out+=s,t.block_start+=s,r-=s),r&&(F3(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(o===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?Ty:e!==Zh&&e!==Vl&&t.strm.avail_in===0&&t.strstart===t.block_start?ky:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(F3(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,n=i>t.w_size?t.w_size:i,s=t.strstart-t.block_start,(s>=n||(s||e===Vl)&&e!==Zh&&t.strm.avail_in===0&&s<=i)&&(r=s>i?i:s,o=e===Vl&&t.strm.avail_in===0&&r===s?1:0,_3(t,t.block_start,r,o),t.block_start+=r,el(t.strm)),o?pm:Wo)},w5=(t,e)=>{let n,r;for(;;){if(t.lookahead<cA){if(J0(t),t.lookahead<cA&&e===Zh)return Wo;if(t.lookahead===0)break}if(n=0,t.lookahead>=jn&&(t.ins_h=Jh(t,t.ins_h,t.window[t.strstart+jn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-cA&&(t.match_length=OZ(t,n)),t.match_length>=jn)if(r=Yh(t,t.strstart-t.match_start,t.match_length-jn),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=jn){t.match_length--;do t.strstart++,t.ins_h=Jh(t,t.ins_h,t.window[t.strstart+jn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Jh(t,t.ins_h,t.window[t.strstart+1]);else r=Yh(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(ll(t,!1),t.strm.avail_out===0))return Wo}return t.insert=t.strstart<jn-1?t.strstart:jn-1,e===Vl?(ll(t,!0),t.strm.avail_out===0?pm:Ty):t.sym_next&&(ll(t,!1),t.strm.avail_out===0)?Wo:ky},Ig=(t,e)=>{let n,r,s;for(;;){if(t.lookahead<cA){if(J0(t),t.lookahead<cA&&e===Zh)return Wo;if(t.lookahead===0)break}if(n=0,t.lookahead>=jn&&(t.ins_h=Jh(t,t.ins_h,t.window[t.strstart+jn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=jn-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-cA&&(t.match_length=OZ(t,n),t.match_length<=5&&(t.strategy===$Ne||t.match_length===jn&&t.strstart-t.match_start>4096)&&(t.match_length=jn-1)),t.prev_length>=jn&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-jn,r=Yh(t,t.strstart-1-t.prev_match,t.prev_length-jn),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=s&&(t.ins_h=Jh(t,t.ins_h,t.window[t.strstart+jn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=jn-1,t.strstart++,r&&(ll(t,!1),t.strm.avail_out===0))return Wo}else if(t.match_available){if(r=Yh(t,0,t.window[t.strstart-1]),r&&ll(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Wo}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Yh(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<jn-1?t.strstart:jn-1,e===Vl?(ll(t,!0),t.strm.avail_out===0?pm:Ty):t.sym_next&&(ll(t,!1),t.strm.avail_out===0)?Wo:ky},nIe=(t,e)=>{let n,r,s,i;const o=t.window;for(;;){if(t.lookahead<=Dh){if(J0(t),t.lookahead<=Dh&&e===Zh)return Wo;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=jn&&t.strstart>0&&(s=t.strstart-1,r=o[s],r===o[++s]&&r===o[++s]&&r===o[++s])){i=t.strstart+Dh;do;while(r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&s<i);t.match_length=Dh-(i-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=jn?(n=Yh(t,1,t.match_length-jn),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Yh(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(ll(t,!1),t.strm.avail_out===0))return Wo}return t.insert=0,e===Vl?(ll(t,!0),t.strm.avail_out===0?pm:Ty):t.sym_next&&(ll(t,!1),t.strm.avail_out===0)?Wo:ky},rIe=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(J0(t),t.lookahead===0)){if(e===Zh)return Wo;break}if(t.match_length=0,n=Yh(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(ll(t,!1),t.strm.avail_out===0))return Wo}return t.insert=0,e===Vl?(ll(t,!0),t.strm.avail_out===0?pm:Ty):t.sym_next&&(ll(t,!1),t.strm.avail_out===0)?Wo:ky};function $u(t,e,n,r,s){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=s}const Vw=[new $u(0,0,0,0,$Z),new $u(4,4,8,4,w5),new $u(4,5,16,8,w5),new $u(4,6,32,32,w5),new $u(4,4,16,16,Ig),new $u(8,16,32,32,Ig),new $u(8,16,128,128,Ig),new $u(8,32,128,256,Ig),new $u(32,128,258,1024,Ig),new $u(32,258,258,4096,Ig)],sIe=t=>{t.window_size=2*t.w_size,xh(t.head),t.max_lazy_match=Vw[t.level].max_lazy,t.good_match=Vw[t.level].good_length,t.nice_match=Vw[t.level].nice_length,t.max_chain_length=Vw[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=jn-1,t.match_available=0,t.ins_h=0};function iIe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=nI,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(XNe*2),this.dyn_dtree=new Uint16Array((2*KNe+1)*2),this.bl_tree=new Uint16Array((2*qNe+1)*2),xh(this.dyn_ltree),xh(this.dyn_dtree),xh(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(YNe+1),this.heap=new Uint16Array(2*N3+1),xh(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*N3+1),xh(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const rb=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Z0&&e.status!==tR&&e.status!==I3&&e.status!==E3&&e.status!==k3&&e.status!==T3&&e.status!==Pp&&e.status!==zw?1:0},UZ=t=>{if(rb(t))return Rp(t,lA);t.total_in=t.total_out=0,t.data_type=jNe;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?tR:e.wrap?Z0:Pp,t.adler=e.wrap===2?0:1,e.last_flush=-2,TNe(e),zi},MZ=t=>{const e=UZ(t);return e===zi&&sIe(t.state),e},oIe=(t,e)=>rb(t)||t.state.wrap!==2?lA:(t.state.gzhead=e,zi),QZ=(t,e,n,r,s,i)=>{if(!t)return lA;let o=1;if(e===ONe&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),s<1||s>HNe||n!==nI||r<8||r>15||e<0||e>9||i<0||i>MNe||r===8&&o!==1)return Rp(t,lA);r===8&&(r=9);const a=new iIe;return t.state=a,a.strm=t,a.status=Z0,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=s+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+jn-1)/jn),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<s+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=i,a.method=n,MZ(t)},aIe=(t,e)=>QZ(t,e,nI,zNe,VNe,QNe),lIe=(t,e)=>{if(rb(t)||e>fj||e<0)return t?Rp(t,lA):lA;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===zw&&e!==Vl)return Rp(t,t.avail_out===0?y5:lA);const r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(el(t),t.avail_out===0)return n.last_flush=-1,zi}else if(t.avail_in===0&&mj(e)<=mj(r)&&e!==Vl)return Rp(t,y5);if(n.status===zw&&t.avail_in!==0)return Rp(t,y5);if(n.status===Z0&&n.wrap===0&&(n.status=Pp),n.status===Z0){let s=nI+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=cS||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,s|=i<<6,n.strstart!==0&&(s|=ZNe),s+=31-s%31,bw(n,s),n.strstart!==0&&(bw(n,t.adler>>>16),bw(n,t.adler&65535)),t.adler=1,n.status=Pp,el(t),n.pending!==0)return n.last_flush=-1,zi}if(n.status===tR){if(t.adler=0,tr(n,31),tr(n,139),tr(n,8),n.gzhead)tr(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),tr(n,n.gzhead.time&255),tr(n,n.gzhead.time>>8&255),tr(n,n.gzhead.time>>16&255),tr(n,n.gzhead.time>>24&255),tr(n,n.level===9?2:n.strategy>=cS||n.level<2?4:0),tr(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(tr(n,n.gzhead.extra.length&255),tr(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Ci(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=I3;else if(tr(n,0),tr(n,0),tr(n,0),tr(n,0),tr(n,0),tr(n,n.level===9?2:n.strategy>=cS||n.level<2?4:0),tr(n,JNe),n.status=Pp,el(t),n.pending!==0)return n.last_flush=-1,zi}if(n.status===I3){if(n.gzhead.extra){let s=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>s&&(t.adler=Ci(t.adler,n.pending_buf,n.pending-s,s)),n.gzindex+=a,el(t),n.pending!==0)return n.last_flush=-1,zi;s=0,i-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>s&&(t.adler=Ci(t.adler,n.pending_buf,n.pending-s,s)),n.gzindex=0}n.status=E3}if(n.status===E3){if(n.gzhead.name){let s=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>s&&(t.adler=Ci(t.adler,n.pending_buf,n.pending-s,s)),el(t),n.pending!==0)return n.last_flush=-1,zi;s=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,tr(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>s&&(t.adler=Ci(t.adler,n.pending_buf,n.pending-s,s)),n.gzindex=0}n.status=k3}if(n.status===k3){if(n.gzhead.comment){let s=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>s&&(t.adler=Ci(t.adler,n.pending_buf,n.pending-s,s)),el(t),n.pending!==0)return n.last_flush=-1,zi;s=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,tr(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>s&&(t.adler=Ci(t.adler,n.pending_buf,n.pending-s,s))}n.status=T3}if(n.status===T3){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(el(t),n.pending!==0))return n.last_flush=-1,zi;tr(n,t.adler&255),tr(n,t.adler>>8&255),t.adler=0}if(n.status=Pp,el(t),n.pending!==0)return n.last_flush=-1,zi}if(t.avail_in!==0||n.lookahead!==0||e!==Zh&&n.status!==zw){let s=n.level===0?$Z(n,e):n.strategy===cS?rIe(n,e):n.strategy===UNe?nIe(n,e):Vw[n.level].func(n,e);if((s===pm||s===Ty)&&(n.status=zw),s===Wo||s===pm)return t.avail_out===0&&(n.last_flush=-1),zi;if(s===ky&&(e===DNe?LNe(n):e!==fj&&(_3(n,0,0,!1),e===PNe&&(xh(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),el(t),t.avail_out===0))return n.last_flush=-1,zi}return e!==Vl?zi:n.wrap<=0?pj:(n.wrap===2?(tr(n,t.adler&255),tr(n,t.adler>>8&255),tr(n,t.adler>>16&255),tr(n,t.adler>>24&255),tr(n,t.total_in&255),tr(n,t.total_in>>8&255),tr(n,t.total_in>>16&255),tr(n,t.total_in>>24&255)):(bw(n,t.adler>>>16),bw(n,t.adler&65535)),el(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?zi:pj)},cIe=t=>{if(rb(t))return lA;const e=t.state.status;return t.state=null,e===Pp?Rp(t,RNe):zi},uIe=(t,e)=>{let n=e.length;if(rb(t))return lA;const r=t.state,s=r.wrap;if(s===2||s===1&&r.status!==Z0||r.lookahead)return lA;if(s===1&&(t.adler=ax(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){s===0&&(xh(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(n-r.w_size,n),0),e=l,n=r.w_size}const i=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,J0(r);r.lookahead>=jn;){let l=r.strstart,c=r.lookahead-(jn-1);do r.ins_h=Jh(r,r.ins_h,r.window[l+jn-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=jn-1,J0(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=jn-1,r.match_available=0,t.next_in=o,t.input=a,t.avail_in=i,r.wrap=s,zi};var AIe=aIe,dIe=QZ,hIe=MZ,fIe=UZ,pIe=oIe,mIe=lIe,gIe=cIe,yIe=uIe,wIe="pako deflate (from Nodeca project)",bv={deflateInit:AIe,deflateInit2:dIe,deflateReset:hIe,deflateResetKeep:fIe,deflateSetHeader:pIe,deflate:mIe,deflateEnd:gIe,deflateSetDictionary:yIe,deflateInfo:wIe};const vIe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var xIe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)vIe(n,r)&&(t[r]=n[r])}}return t},bIe=t=>{let e=0;for(let r=0,s=t.length;r<s;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,s=0,i=t.length;r<i;r++){let o=t[r];n.set(o,s),s+=o.length}return n},rI={assign:xIe,flattenChunks:bIe};let jZ=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{jZ=!1}const lx=new Uint8Array(256);for(let t=0;t<256;t++)lx[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;lx[254]=lx[254]=1;var CIe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,s,i,o=t.length,a=0;for(s=0;s<o;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<o&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),i=0,s=0;i<a;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<o&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|n&63):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|n&63):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|n&63);return e};const SIe=(t,e)=>{if(e<65534&&t.subarray&&jZ)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var BIe=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,s;const i=new Array(n*2);for(s=0,r=0;r<n;){let o=t[r++];if(o<128){i[s++]=o;continue}let a=lx[o];if(a>4){i[s++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return SIe(i,s)},_Ie=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+lx[t[n]]>e?n:e},cx={string2buf:CIe,buf2string:BIe,utf8border:_Ie};function NIe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var HZ=NIe;const zZ=Object.prototype.toString,{Z_NO_FLUSH:IIe,Z_SYNC_FLUSH:EIe,Z_FULL_FLUSH:kIe,Z_FINISH:TIe,Z_OK:b_,Z_STREAM_END:FIe,Z_DEFAULT_COMPRESSION:LIe,Z_DEFAULT_STRATEGY:DIe,Z_DEFLATED:PIe}=nb;function nR(t){this.options=rI.assign({level:LIe,method:PIe,chunkSize:16384,windowBits:15,memLevel:8,strategy:DIe},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new HZ,this.strm.avail_out=0;let n=bv.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==b_)throw new Error(Y0[n]);if(e.header&&bv.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=cx.string2buf(e.dictionary):zZ.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=bv.deflateSetDictionary(this.strm,r),n!==b_)throw new Error(Y0[n]);this._dict_set=!0}}nR.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let s,i;if(this.ended)return!1;for(e===~~e?i=e:i=e===!0?TIe:IIe,typeof t=="string"?n.input=cx.string2buf(t):zZ.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===EIe||i===kIe)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(s=bv.deflate(n,i),s===FIe)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),s=bv.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===b_;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};nR.prototype.onData=function(t){this.chunks.push(t)};nR.prototype.onEnd=function(t){t===b_&&(this.result=rI.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const uS=16209,RIe=16191;var OIe=function(e,n){let r,s,i,o,a,l,c,u,A,d,h,p,m,y,g,v,b,C,_,I,F,T,D,H;const R=e.state;r=e.next_in,D=e.input,s=r+(e.avail_in-5),i=e.next_out,H=e.output,o=i-(n-e.avail_out),a=i+(e.avail_out-257),l=R.dmax,c=R.wsize,u=R.whave,A=R.wnext,d=R.window,h=R.hold,p=R.bits,m=R.lencode,y=R.distcode,g=(1<<R.lenbits)-1,v=(1<<R.distbits)-1;e:do{p<15&&(h+=D[r++]<<p,p+=8,h+=D[r++]<<p,p+=8),b=m[h&g];t:for(;;){if(C=b>>>24,h>>>=C,p-=C,C=b>>>16&255,C===0)H[i++]=b&65535;else if(C&16){_=b&65535,C&=15,C&&(p<C&&(h+=D[r++]<<p,p+=8),_+=h&(1<<C)-1,h>>>=C,p-=C),p<15&&(h+=D[r++]<<p,p+=8,h+=D[r++]<<p,p+=8),b=y[h&v];n:for(;;){if(C=b>>>24,h>>>=C,p-=C,C=b>>>16&255,C&16){if(I=b&65535,C&=15,p<C&&(h+=D[r++]<<p,p+=8,p<C&&(h+=D[r++]<<p,p+=8)),I+=h&(1<<C)-1,I>l){e.msg="invalid distance too far back",R.mode=uS;break e}if(h>>>=C,p-=C,C=i-o,I>C){if(C=I-C,C>u&&R.sane){e.msg="invalid distance too far back",R.mode=uS;break e}if(F=0,T=d,A===0){if(F+=c-C,C<_){_-=C;do H[i++]=d[F++];while(--C);F=i-I,T=H}}else if(A<C){if(F+=c+A-C,C-=A,C<_){_-=C;do H[i++]=d[F++];while(--C);if(F=0,A<_){C=A,_-=C;do H[i++]=d[F++];while(--C);F=i-I,T=H}}}else if(F+=A-C,C<_){_-=C;do H[i++]=d[F++];while(--C);F=i-I,T=H}for(;_>2;)H[i++]=T[F++],H[i++]=T[F++],H[i++]=T[F++],_-=3;_&&(H[i++]=T[F++],_>1&&(H[i++]=T[F++]))}else{F=i-I;do H[i++]=H[F++],H[i++]=H[F++],H[i++]=H[F++],_-=3;while(_>2);_&&(H[i++]=H[F++],_>1&&(H[i++]=H[F++]))}}else if(C&64){e.msg="invalid distance code",R.mode=uS;break e}else{b=y[(b&65535)+(h&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){R.mode=RIe;break e}else{e.msg="invalid literal/length code",R.mode=uS;break e}else{b=m[(b&65535)+(h&(1<<C)-1)];continue t}break}}while(r<s&&i<a);_=p>>3,r-=_,p-=_<<3,h&=(1<<p)-1,e.next_in=r,e.next_out=i,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=i<a?257+(a-i):257-(i-a),R.hold=h,R.bits=p};const Eg=15,gj=852,yj=592,wj=0,v5=1,vj=2,$Ie=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),UIe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),MIe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),QIe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),jIe=(t,e,n,r,s,i,o,a)=>{const l=a.bits;let c=0,u=0,A=0,d=0,h=0,p=0,m=0,y=0,g=0,v=0,b,C,_,I,F,T=null,D;const H=new Uint16Array(Eg+1),R=new Uint16Array(Eg+1);let U=null,W,$,Y;for(c=0;c<=Eg;c++)H[c]=0;for(u=0;u<r;u++)H[e[n+u]]++;for(h=l,d=Eg;d>=1&&H[d]===0;d--);if(h>d&&(h=d),d===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,a.bits=1,0;for(A=1;A<d&&H[A]===0;A++);for(h<A&&(h=A),y=1,c=1;c<=Eg;c++)if(y<<=1,y-=H[c],y<0)return-1;if(y>0&&(t===wj||d!==1))return-1;for(R[1]=0,c=1;c<Eg;c++)R[c+1]=R[c]+H[c];for(u=0;u<r;u++)e[n+u]!==0&&(o[R[e[n+u]]++]=u);if(t===wj?(T=U=o,D=20):t===v5?(T=$Ie,U=UIe,D=257):(T=MIe,U=QIe,D=0),v=0,u=0,c=A,F=i,p=h,m=0,_=-1,g=1<<h,I=g-1,t===v5&&g>gj||t===vj&&g>yj)return 1;for(;;){W=c-m,o[u]+1<D?($=0,Y=o[u]):o[u]>=D?($=U[o[u]-D],Y=T[o[u]-D]):($=96,Y=0),b=1<<c-m,C=1<<p,A=C;do C-=b,s[F+(v>>m)+C]=W<<24|$<<16|Y|0;while(C!==0);for(b=1<<c-1;v&b;)b>>=1;if(b!==0?(v&=b-1,v+=b):v=0,u++,--H[c]===0){if(c===d)break;c=e[n+o[u]]}if(c>h&&(v&I)!==_){for(m===0&&(m=h),F+=A,p=c-m,y=1<<p;p+m<d&&(y-=H[p+m],!(y<=0));)p++,y<<=1;if(g+=1<<p,t===v5&&g>gj||t===vj&&g>yj)return 1;_=v&I,s[_]=h<<24|p<<16|F-i|0}}return v!==0&&(s[F+v]=c-m<<24|64<<16|0),a.bits=h,0};var Cv=jIe;const HIe=0,VZ=1,WZ=2,{Z_FINISH:xj,Z_BLOCK:zIe,Z_TREES:AS,Z_OK:mm,Z_STREAM_END:VIe,Z_NEED_DICT:WIe,Z_STREAM_ERROR:ac,Z_DATA_ERROR:GZ,Z_MEM_ERROR:KZ,Z_BUF_ERROR:GIe,Z_DEFLATED:bj}=nb,sI=16180,Cj=16181,Sj=16182,Bj=16183,_j=16184,Nj=16185,Ij=16186,Ej=16187,kj=16188,Tj=16189,C_=16190,GA=16191,x5=16192,Fj=16193,b5=16194,Lj=16195,Dj=16196,Pj=16197,Rj=16198,dS=16199,hS=16200,Oj=16201,$j=16202,Uj=16203,Mj=16204,Qj=16205,C5=16206,jj=16207,Hj=16208,Yr=16209,qZ=16210,XZ=16211,KIe=852,qIe=592,XIe=15,YIe=XIe,zj=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function ZIe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const $m=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<sI||e.mode>XZ?1:0},YZ=t=>{if($m(t))return ac;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=sI,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(KIe),e.distcode=e.distdyn=new Int32Array(qIe),e.sane=1,e.back=-1,mm},ZZ=t=>{if($m(t))return ac;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,YZ(t)},JZ=(t,e)=>{let n;if($m(t))return ac;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ac:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,ZZ(t))},eJ=(t,e)=>{if(!t)return ac;const n=new ZIe;t.state=n,n.strm=t,n.window=null,n.mode=sI;const r=JZ(t,e);return r!==mm&&(t.state=null),r},JIe=t=>eJ(t,YIe);let Vj=!0,S5,B5;const eEe=t=>{if(Vj){S5=new Int32Array(512),B5=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Cv(VZ,t.lens,0,288,S5,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Cv(WZ,t.lens,0,32,B5,0,t.work,{bits:5}),Vj=!1}t.lencode=S5,t.lenbits=9,t.distcode=B5,t.distbits=5},tJ=(t,e,n,r)=>{let s;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>r&&(s=r),i.window.set(e.subarray(n-r,n-r+s),i.wnext),r-=s,r?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},tEe=(t,e)=>{let n,r,s,i,o,a,l,c,u,A,d,h,p,m,y=0,g,v,b,C,_,I,F,T;const D=new Uint8Array(4);let H,R;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if($m(t)||!t.output||!t.input&&t.avail_in!==0)return ac;n=t.state,n.mode===GA&&(n.mode=x5),o=t.next_out,s=t.output,l=t.avail_out,i=t.next_in,r=t.input,a=t.avail_in,c=n.hold,u=n.bits,A=a,d=l,T=mm;e:for(;;)switch(n.mode){case sI:if(n.wrap===0){n.mode=x5;break}for(;u<16;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,D[0]=c&255,D[1]=c>>>8&255,n.check=Ci(n.check,D,2,0),c=0,u=0,n.mode=Cj;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=Yr;break}if((c&15)!==bj){t.msg="unknown compression method",n.mode=Yr;break}if(c>>>=4,u-=4,F=(c&15)+8,n.wbits===0&&(n.wbits=F),F>15||F>n.wbits){t.msg="invalid window size",n.mode=Yr;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?Tj:GA,c=0,u=0;break;case Cj:for(;u<16;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==bj){t.msg="unknown compression method",n.mode=Yr;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Yr;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,n.check=Ci(n.check,D,2,0)),c=0,u=0,n.mode=Sj;case Sj:for(;u<32;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,D[2]=c>>>16&255,D[3]=c>>>24&255,n.check=Ci(n.check,D,4,0)),c=0,u=0,n.mode=Bj;case Bj:for(;u<16;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,n.check=Ci(n.check,D,2,0)),c=0,u=0,n.mode=_j;case _j:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,n.check=Ci(n.check,D,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=Nj;case Nj:if(n.flags&1024&&(h=n.length,h>a&&(h=a),h&&(n.head&&(F=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+h),F)),n.flags&512&&n.wrap&4&&(n.check=Ci(n.check,r,h,i)),a-=h,i+=h,n.length-=h),n.length))break e;n.length=0,n.mode=Ij;case Ij:if(n.flags&2048){if(a===0)break e;h=0;do F=r[i+h++],n.head&&F&&n.length<65536&&(n.head.name+=String.fromCharCode(F));while(F&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=Ci(n.check,r,h,i)),a-=h,i+=h,F)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Ej;case Ej:if(n.flags&4096){if(a===0)break e;h=0;do F=r[i+h++],n.head&&F&&n.length<65536&&(n.head.comment+=String.fromCharCode(F));while(F&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=Ci(n.check,r,h,i)),a-=h,i+=h,F)break e}else n.head&&(n.head.comment=null);n.mode=kj;case kj:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Yr;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=GA;break;case Tj:for(;u<32;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}t.adler=n.check=zj(c),c=0,u=0,n.mode=C_;case C_:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=i,t.avail_in=a,n.hold=c,n.bits=u,WIe;t.adler=n.check=1,n.mode=GA;case GA:if(e===zIe||e===AS)break e;case x5:if(n.last){c>>>=u&7,u-=u&7,n.mode=C5;break}for(;u<3;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=Fj;break;case 1:if(eEe(n),n.mode=dS,e===AS){c>>>=2,u-=2;break e}break;case 2:n.mode=Dj;break;case 3:t.msg="invalid block type",n.mode=Yr}c>>>=2,u-=2;break;case Fj:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Yr;break}if(n.length=c&65535,c=0,u=0,n.mode=b5,e===AS)break e;case b5:n.mode=Lj;case Lj:if(h=n.length,h){if(h>a&&(h=a),h>l&&(h=l),h===0)break e;s.set(r.subarray(i,i+h),o),a-=h,i+=h,l-=h,o+=h,n.length-=h;break}n.mode=GA;break;case Dj:for(;u<14;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Yr;break}n.have=0,n.mode=Pj;case Pj:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}n.lens[U[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,H={bits:n.lenbits},T=Cv(HIe,n.lens,0,19,n.lencode,0,n.work,H),n.lenbits=H.bits,T){t.msg="invalid code lengths set",n.mode=Yr;break}n.have=0,n.mode=Rj;case Rj:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[c&(1<<n.lenbits)-1],g=y>>>24,v=y>>>16&255,b=y&65535,!(g<=u);){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(b<16)c>>>=g,u-=g,n.lens[n.have++]=b;else{if(b===16){for(R=g+2;u<R;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(c>>>=g,u-=g,n.have===0){t.msg="invalid bit length repeat",n.mode=Yr;break}F=n.lens[n.have-1],h=3+(c&3),c>>>=2,u-=2}else if(b===17){for(R=g+3;u<R;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}c>>>=g,u-=g,F=0,h=3+(c&7),c>>>=3,u-=3}else{for(R=g+7;u<R;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}c>>>=g,u-=g,F=0,h=11+(c&127),c>>>=7,u-=7}if(n.have+h>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Yr;break}for(;h--;)n.lens[n.have++]=F}}if(n.mode===Yr)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Yr;break}if(n.lenbits=9,H={bits:n.lenbits},T=Cv(VZ,n.lens,0,n.nlen,n.lencode,0,n.work,H),n.lenbits=H.bits,T){t.msg="invalid literal/lengths set",n.mode=Yr;break}if(n.distbits=6,n.distcode=n.distdyn,H={bits:n.distbits},T=Cv(WZ,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,H),n.distbits=H.bits,T){t.msg="invalid distances set",n.mode=Yr;break}if(n.mode=dS,e===AS)break e;case dS:n.mode=hS;case hS:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=i,t.avail_in=a,n.hold=c,n.bits=u,OIe(t,d),o=t.next_out,s=t.output,l=t.avail_out,i=t.next_in,r=t.input,a=t.avail_in,c=n.hold,u=n.bits,n.mode===GA&&(n.back=-1);break}for(n.back=0;y=n.lencode[c&(1<<n.lenbits)-1],g=y>>>24,v=y>>>16&255,b=y&65535,!(g<=u);){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(v&&!(v&240)){for(C=g,_=v,I=b;y=n.lencode[I+((c&(1<<C+_)-1)>>C)],g=y>>>24,v=y>>>16&255,b=y&65535,!(C+g<=u);){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}c>>>=C,u-=C,n.back+=C}if(c>>>=g,u-=g,n.back+=g,n.length=b,v===0){n.mode=Qj;break}if(v&32){n.back=-1,n.mode=GA;break}if(v&64){t.msg="invalid literal/length code",n.mode=Yr;break}n.extra=v&15,n.mode=Oj;case Oj:if(n.extra){for(R=n.extra;u<R;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=$j;case $j:for(;y=n.distcode[c&(1<<n.distbits)-1],g=y>>>24,v=y>>>16&255,b=y&65535,!(g<=u);){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(!(v&240)){for(C=g,_=v,I=b;y=n.distcode[I+((c&(1<<C+_)-1)>>C)],g=y>>>24,v=y>>>16&255,b=y&65535,!(C+g<=u);){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}c>>>=C,u-=C,n.back+=C}if(c>>>=g,u-=g,n.back+=g,v&64){t.msg="invalid distance code",n.mode=Yr;break}n.offset=b,n.extra=v&15,n.mode=Uj;case Uj:if(n.extra){for(R=n.extra;u<R;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Yr;break}n.mode=Mj;case Mj:if(l===0)break e;if(h=d-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Yr;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),m=n.window}else m=s,p=o-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do s[o++]=m[p++];while(--h);n.length===0&&(n.mode=hS);break;case Qj:if(l===0)break e;s[o++]=n.length,l--,n.mode=hS;break;case C5:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[i++]<<u,u+=8}if(d-=l,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?Ci(n.check,s,d,o-d):ax(n.check,s,d,o-d)),d=l,n.wrap&4&&(n.flags?c:zj(c))!==n.check){t.msg="incorrect data check",n.mode=Yr;break}c=0,u=0}n.mode=jj;case jj:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Yr;break}c=0,u=0}n.mode=Hj;case Hj:T=VIe;break e;case Yr:T=GZ;break e;case qZ:return KZ;case XZ:default:return ac}return t.next_out=o,t.avail_out=l,t.next_in=i,t.avail_in=a,n.hold=c,n.bits=u,(n.wsize||d!==t.avail_out&&n.mode<Yr&&(n.mode<C5||e!==xj))&&tJ(t,t.output,t.next_out,d-t.avail_out),A-=t.avail_in,d-=t.avail_out,t.total_in+=A,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?Ci(n.check,s,d,t.next_out-d):ax(n.check,s,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===GA?128:0)+(n.mode===dS||n.mode===b5?256:0),(A===0&&d===0||e===xj)&&T===mm&&(T=GIe),T},nEe=t=>{if($m(t))return ac;let e=t.state;return e.window&&(e.window=null),t.state=null,mm},rEe=(t,e)=>{if($m(t))return ac;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,mm):ac},sEe=(t,e)=>{const n=e.length;let r,s,i;return $m(t)||(r=t.state,r.wrap!==0&&r.mode!==C_)?ac:r.mode===C_&&(s=1,s=ax(s,e,n,0),s!==r.check)?GZ:(i=tJ(t,e,n,n),i?(r.mode=qZ,KZ):(r.havedict=1,mm))};var iEe=ZZ,oEe=JZ,aEe=YZ,lEe=JIe,cEe=eJ,uEe=tEe,AEe=nEe,dEe=rEe,hEe=sEe,fEe="pako inflate (from Nodeca project)",JA={inflateReset:iEe,inflateReset2:oEe,inflateResetKeep:aEe,inflateInit:lEe,inflateInit2:cEe,inflate:uEe,inflateEnd:AEe,inflateGetHeader:dEe,inflateSetDictionary:hEe,inflateInfo:fEe};function pEe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var mEe=pEe;const nJ=Object.prototype.toString,{Z_NO_FLUSH:gEe,Z_FINISH:yEe,Z_OK:ux,Z_STREAM_END:_5,Z_NEED_DICT:N5,Z_STREAM_ERROR:wEe,Z_DATA_ERROR:Wj,Z_MEM_ERROR:vEe}=nb;function sb(t){this.options=rI.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new HZ,this.strm.avail_out=0;let n=JA.inflateInit2(this.strm,e.windowBits);if(n!==ux)throw new Error(Y0[n]);if(this.header=new mEe,JA.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=cx.string2buf(e.dictionary):nJ.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=JA.inflateSetDictionary(this.strm,e.dictionary),n!==ux)))throw new Error(Y0[n])}sb.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let i,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?yEe:gEe,nJ.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=JA.inflate(n,o),i===N5&&s&&(i=JA.inflateSetDictionary(n,s),i===ux?i=JA.inflate(n,o):i===Wj&&(i=N5));n.avail_in>0&&i===_5&&n.state.wrap>0&&t[n.next_in]!==0;)JA.inflateReset(n),i=JA.inflate(n,o);switch(i){case wEe:case Wj:case N5:case vEe:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||i===_5))if(this.options.to==="string"){let l=cx.utf8border(n.output,n.next_out),c=n.next_out-l,u=cx.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===ux&&a===0)){if(i===_5)return i=JA.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};sb.prototype.onData=function(t){this.chunks.push(t)};sb.prototype.onEnd=function(t){t===ux&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=rI.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function rR(t,e){const n=new sb(e);if(n.push(t),n.err)throw n.msg||Y0[n.err];return n.result}function xEe(t,e){return e=e||{},e.raw=!0,rR(t,e)}var bEe=sb,CEe=rR,SEe=xEe,BEe=rR,_Ee=nb,NEe={Inflate:bEe,inflate:CEe,inflateRaw:SEe,ungzip:BEe,constants:_Ee};const{Inflate:IEe,inflate:EEe,inflateRaw:jnt,ungzip:Hnt}=NEe;var Gj=IEe,kEe=EEe;const rJ=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;rJ[t]=e}const Kj=4294967295;function TEe(t,e,n){let r=t;for(let s=0;s<n;s++)r=rJ[(r^e[s])&255]^r>>>8;return r}function FEe(t,e){return(TEe(Kj,t,e)^Kj)>>>0}function qj(t,e,n){const r=t.readUint32(),s=FEe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${s}`)}function sJ(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function iJ(t,e,n,r){let s=0;for(;s<r;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-r]&255}function oJ(t,e,n,r){let s=0;if(n.length===0)for(;s<r;s++)e[s]=t[s];else for(;s<r;s++)e[s]=t[s]+n[s]&255}function aJ(t,e,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+(e[i-s]>>1)&255}else{for(;i<s;i++)e[i]=t[i]+(n[i]>>1)&255;for(;i<r;i++)e[i]=t[i]+(e[i-s]+n[i]>>1)&255}}function lJ(t,e,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-s]&255}else{for(;i<s;i++)e[i]=t[i]+n[i]&255;for(;i<r;i++)e[i]=t[i]+LEe(e[i-s],n[i],n[i-s])&255}}function LEe(t,e,n){const r=t+e-n,s=Math.abs(r-t),i=Math.abs(r-e),o=Math.abs(r-n);return s<=i&&s<=o?t:i<=o?e:n}function DEe(t,e,n,r,s,i){switch(t){case 0:sJ(e,n,s);break;case 1:iJ(e,n,s,i);break;case 2:oJ(e,n,r,s);break;case 3:aJ(e,n,r,s,i);break;case 4:lJ(e,n,r,s,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const PEe=new Uint16Array([255]),REe=new Uint8Array(PEe.buffer),OEe=REe[0]===255;function $Ee(t){const{data:e,width:n,height:r,channels:s,depth:i}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(i/8)*s,l=new Uint8Array(r*n*a);let c=0;for(let u=0;u<7;u++){const A=o[u],d=Math.ceil((n-A.x)/A.xStep),h=Math.ceil((r-A.y)/A.yStep);if(d<=0||h<=0)continue;const p=d*a,m=new Uint8Array(p);for(let y=0;y<h;y++){const g=e[c++],v=e.subarray(c,c+p);c+=p;const b=new Uint8Array(p);DEe(g,v,b,m,p,a),m.set(b);for(let C=0;C<d;C++){const _=A.x+C*A.xStep,I=A.y+y*A.yStep;if(!(_>=n||I>=r))for(let F=0;F<a;F++)l[(I*n+_)*a+F]=b[C*a+F]}}}if(i===16){const u=new Uint16Array(l.buffer);if(OEe)for(let A=0;A<u.length;A++)u[A]=UEe(u[A]);return u}else return l}function UEe(t){return(t&255)<<8|t>>8&255}const MEe=new Uint16Array([255]),QEe=new Uint8Array(MEe.buffer),jEe=QEe[0]===255,HEe=new Uint8Array(0);function Xj(t){const{data:e,width:n,height:r,channels:s,depth:i}=t,o=Math.ceil(i/8)*s,a=Math.ceil(i/8*s*n),l=new Uint8Array(r*a);let c=HEe,u=0,A,d;for(let h=0;h<r;h++){switch(A=e.subarray(u+1,u+1+a),d=l.subarray(h*a,(h+1)*a),e[u]){case 0:sJ(A,d,a);break;case 1:iJ(A,d,a,o);break;case 2:oJ(A,d,c,a);break;case 3:aJ(A,d,c,a,o);break;case 4:lJ(A,d,c,a,o);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=d,u+=a+1}if(i===16){const h=new Uint16Array(l.buffer);if(jEe)for(let p=0;p<h.length;p++)h[p]=zEe(h[p]);return h}else return l}function zEe(t){return(t&255)<<8|t>>8&255}const lB=Uint8Array.of(137,80,78,71,13,10,26,10);function Yj(t){if(!VEe(t.readBytes(lB.length)))throw new Error("wrong PNG signature")}function VEe(t){if(t.length<lB.length)return!1;for(let e=0;e<lB.length;e++)if(t[e]!==lB[e])return!1;return!0}const WEe="tEXt",GEe=0,cJ=new TextDecoder("latin1");function KEe(t){if(XEe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const qEe=/^[\u0000-\u00FF]*$/;function XEe(t){if(!qEe.test(t))throw new Error("invalid latin1 text")}function YEe(t,e,n){const r=uJ(e);t[r]=ZEe(e,n-r.length-1)}function uJ(t){for(t.mark();t.readByte()!==GEe;);const e=t.offset;t.reset();const n=cJ.decode(t.readBytes(e-t.offset-1));return t.skip(1),KEe(n),n}function ZEe(t,e){return cJ.decode(t.readBytes(e))}const Ya={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},I5={UNKNOWN:-1,DEFLATE:0},Zj={UNKNOWN:-1,ADAPTIVE:0},E5={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},fS={NONE:0,BACKGROUND:1,PREVIOUS:2},k5={SOURCE:0,OVER:1};class JEe extends XP{constructor(n,r={}){super(n);Un(this,"_checkCrc");Un(this,"_inflator");Un(this,"_png");Un(this,"_apng");Un(this,"_end");Un(this,"_hasPalette");Un(this,"_palette");Un(this,"_hasTransparency");Un(this,"_transparency");Un(this,"_compressionMethod");Un(this,"_filterMethod");Un(this,"_interlaceMethod");Un(this,"_colorType");Un(this,"_isAnimated");Un(this,"_numberOfFrames");Un(this,"_numberOfPlays");Un(this,"_frames");Un(this,"_writingDataChunks");const{checkCrc:s=!1}=r;this._checkCrc=s,this._inflator=new Gj,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=I5.UNKNOWN,this._filterMethod=Zj.UNKNOWN,this._interlaceMethod=E5.UNKNOWN,this._colorType=Ya.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Yj(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(Yj(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const s=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case WEe:YEe(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?qj(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const s=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=s+n;break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?qj(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=eke(this.readUint8());const r=this.readUint8();this._colorType=r;let s;switch(r){case Ya.GREYSCALE:s=1;break;case Ya.TRUECOLOUR:s=3;break;case Ya.INDEXED_COLOUR:s=1;break;case Ya.GREYSCALE_ALPHA:s=2;break;case Ya.TRUECOLOUR_ALPHA:s=4;break;case Ya.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==I5.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<r;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,s=this.offset+this.byteOffset;if(s+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Ya.GREYSCALE:case Ya.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Ya.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const s=this.readByte();this._palette[r].push(s)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ya.UNKNOWN:case Ya.GREYSCALE_ALPHA:case Ya.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=uJ(this),s=this.readUint8();if(s!==I5.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:kEe(i)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),s=this.readByte();this._png.resolution={x:n,y:r,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(n);if(s){if(s.data=Xj({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)r.data=s.data;else{const i=this._apng.frames.at(n-1);this.disposeFrame(s,i,r),this.addFrameDataToCanvas(r,s)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,s){switch(n.disposeOp){case fS.NONE:break;case fS.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const a=(i*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)s.data[a+l]=0}break;case fS.PREVIOUS:s.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const s=1<<this._png.depth,i=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,c=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case k5.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=i(o,a);for(let u=0;u<this._png.channels;u++)n.data[l+u]=r.data[c+u]}break;case k5.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=i(o,a);for(let u=0;u<this._png.channels;u++){const A=r.data[c+this._png.channels-1]/s,d=u%(this._png.channels-1)===0?1:r.data[c+u],h=Math.floor(A*d+(1-A)*n.data[l+u]);n.data[l+u]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==Zj.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===E5.NO_INTERLACE)this._png.data=Xj({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===E5.ADAM7)this._png.data=$Ee({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:fS.NONE,blendOp:k5.SOURCE,data:n}),this._inflator=new Gj,this._writingDataChunks=!1}}function eke(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Jj;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Jj||(Jj={}));function tke(t,e){return new JEe(t,e).decode()}var ln=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function T5(){ln.console&&typeof ln.console.log=="function"&&ln.console.log.apply(ln.console,arguments)}var _r={log:T5,warn:function(t){ln.console&&(typeof ln.console.warn=="function"?ln.console.warn.apply(ln.console,arguments):T5.call(null,arguments))},error:function(t){ln.console&&(typeof ln.console.error=="function"?ln.console.error.apply(ln.console,arguments):T5(t))}};function F5(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){gp(r.response,e,n)},r.onerror=function(){_r.error("could not download file")},r.send()}function eH(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function pS(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var gp=ln.saveAs||((typeof window>"u"?"undefined":mr(window))!=="object"||window!==ln?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=ln.URL||ln.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?eH(s.href)?F5(t,e,n):pS(s,s.target="_blank"):pS(s)):(s.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){pS(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(eH(t))F5(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){pS(r)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:mr(i)!=="object"&&(_r.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return F5(t,e,n);var s=t.type==="application/octet-stream",i=/constructor/i.test(ln.HTMLElement)||ln.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":mr(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(t)}else{var l=ln.URL||ln.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function AJ(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,o=s.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var cB=ln.atob.bind(ln),tH=ln.btoa.bind(ln);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function L5(t,e){var n=t[0],r=t[1],s=t[2],i=t[3];n=Ao(n,r,s,i,e[0],7,-680876936),i=Ao(i,n,r,s,e[1],12,-389564586),s=Ao(s,i,n,r,e[2],17,606105819),r=Ao(r,s,i,n,e[3],22,-1044525330),n=Ao(n,r,s,i,e[4],7,-176418897),i=Ao(i,n,r,s,e[5],12,1200080426),s=Ao(s,i,n,r,e[6],17,-1473231341),r=Ao(r,s,i,n,e[7],22,-45705983),n=Ao(n,r,s,i,e[8],7,1770035416),i=Ao(i,n,r,s,e[9],12,-1958414417),s=Ao(s,i,n,r,e[10],17,-42063),r=Ao(r,s,i,n,e[11],22,-1990404162),n=Ao(n,r,s,i,e[12],7,1804603682),i=Ao(i,n,r,s,e[13],12,-40341101),s=Ao(s,i,n,r,e[14],17,-1502002290),n=ho(n,r=Ao(r,s,i,n,e[15],22,1236535329),s,i,e[1],5,-165796510),i=ho(i,n,r,s,e[6],9,-1069501632),s=ho(s,i,n,r,e[11],14,643717713),r=ho(r,s,i,n,e[0],20,-373897302),n=ho(n,r,s,i,e[5],5,-701558691),i=ho(i,n,r,s,e[10],9,38016083),s=ho(s,i,n,r,e[15],14,-660478335),r=ho(r,s,i,n,e[4],20,-405537848),n=ho(n,r,s,i,e[9],5,568446438),i=ho(i,n,r,s,e[14],9,-1019803690),s=ho(s,i,n,r,e[3],14,-187363961),r=ho(r,s,i,n,e[8],20,1163531501),n=ho(n,r,s,i,e[13],5,-1444681467),i=ho(i,n,r,s,e[2],9,-51403784),s=ho(s,i,n,r,e[7],14,1735328473),n=fo(n,r=ho(r,s,i,n,e[12],20,-1926607734),s,i,e[5],4,-378558),i=fo(i,n,r,s,e[8],11,-2022574463),s=fo(s,i,n,r,e[11],16,1839030562),r=fo(r,s,i,n,e[14],23,-35309556),n=fo(n,r,s,i,e[1],4,-1530992060),i=fo(i,n,r,s,e[4],11,1272893353),s=fo(s,i,n,r,e[7],16,-155497632),r=fo(r,s,i,n,e[10],23,-1094730640),n=fo(n,r,s,i,e[13],4,681279174),i=fo(i,n,r,s,e[0],11,-358537222),s=fo(s,i,n,r,e[3],16,-722521979),r=fo(r,s,i,n,e[6],23,76029189),n=fo(n,r,s,i,e[9],4,-640364487),i=fo(i,n,r,s,e[12],11,-421815835),s=fo(s,i,n,r,e[15],16,530742520),n=po(n,r=fo(r,s,i,n,e[2],23,-995338651),s,i,e[0],6,-198630844),i=po(i,n,r,s,e[7],10,1126891415),s=po(s,i,n,r,e[14],15,-1416354905),r=po(r,s,i,n,e[5],21,-57434055),n=po(n,r,s,i,e[12],6,1700485571),i=po(i,n,r,s,e[3],10,-1894986606),s=po(s,i,n,r,e[10],15,-1051523),r=po(r,s,i,n,e[1],21,-2054922799),n=po(n,r,s,i,e[8],6,1873313359),i=po(i,n,r,s,e[15],10,-30611744),s=po(s,i,n,r,e[6],15,-1560198380),r=po(r,s,i,n,e[13],21,1309151649),n=po(n,r,s,i,e[4],6,-145523070),i=po(i,n,r,s,e[11],10,-1120210379),s=po(s,i,n,r,e[2],15,718787259),r=po(r,s,i,n,e[9],21,-343485551),t[0]=Ph(n,t[0]),t[1]=Ph(r,t[1]),t[2]=Ph(s,t[2]),t[3]=Ph(i,t[3])}function iI(t,e,n,r,s,i){return e=Ph(Ph(e,t),Ph(r,i)),Ph(e<<s|e>>>32-s,n)}function Ao(t,e,n,r,s,i,o){return iI(e&n|~e&r,t,e,s,i,o)}function ho(t,e,n,r,s,i,o){return iI(e&r|n&~r,t,e,s,i,o)}function fo(t,e,n,r,s,i,o){return iI(e^n^r,t,e,s,i,o)}function po(t,e,n,r,s,i,o){return iI(n^(e|~r),t,e,s,i,o)}function dJ(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)L5(r,nke(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(L5(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,L5(r,s),r}function nke(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var nH="0123456789abcdef".split("");function rke(t){for(var e="",n=0;n<4;n++)e+=nH[t>>8*n+4&15]+nH[t>>8*n&15];return e}function ske(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function L3(t){return dJ(t).map(ske).join("")}var ike=function(t){for(var e=0;e<t.length;e++)t[e]=rke(t[e]);return t.join("")}(dJ("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ph(t,e){if(ike){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function D3(t,e){var n,r,s,i;if(t!==n){for(var o=(s=t,i=1+(256/t.length|0),new Array(i+1).join(s)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=t,r=a}else a=r;var A=e.length,d=0,h=0,p="";for(l=0;l<A;l++)h=(h+(u=a[d=(d+1)%256]))%256,a[d]=a[h],a[h]=u,o=a[(a[d]+a[h])%256],p+=String.fromCharCode(e.charCodeAt(l)^o);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var rH={print:4,modify:8,copy:16,"annot-forms":32};function Rg(t,e,n,r){this.v=1,this.r=2;var s=192;t.forEach(function(a){if(rH.perm!==void 0)throw new Error("Invalid permission: "+a);s+=rH[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=L3(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=D3(this.encryptionKey,this.padding)}function Og(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var s=t.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[r]}return e}function sH(t){if(mr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var i=Math.random().toString(35);return e[n][i]=[r,!!s],i},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[n]){var o=e[n][i];try{o[0].apply(t,r)}catch(a){ln.console&&_r.error("jsPDF PubSub Error",a.message,a)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function S_(t){if(!(this instanceof S_))return new S_(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function hJ(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function xp(t,e,n,r,s){if(!(this instanceof xp))return new xp(t,e,n,r,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,hJ.call(this,r,s)}function s0(t,e,n,r,s){if(!(this instanceof s0))return new s0(t,e,n,r,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,hJ.call(this,r,s)}function zt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],o=[],a=1,l=16,c="S",u=null;mr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,s=t.format||s,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var A=t.putOnlyUsedFonts||!1,d={},h={internal:{},__private__:{}};h.__private__.PubSub=sH;var p="1.3",m=h.__private__.getPdfVersion=function(){return p};h.__private__.setPdfVersion=function(E){p=E};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return y};var g=h.__private__.getPageFormat=function(E){return y[E]};s=s||"a4";var v="compat",b="advanced",C=v;function _(){this.saveGraphicsState(),Ae(new Bt(Gt,0,0,-Gt,0,RA()*Gt).toString()+" cm"),this.setFontSize(this.getFontSize()/Gt),c="n",C=b}function I(){this.restoreGraphicsState(),c="S",C=v}var F=h.__private__.combineFontStyleAndFontWeight=function(E,K){if(E=="bold"&&K=="normal"||E=="bold"&&K==400||E=="normal"&&K=="italic"||E=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(E=K==400||K==="normal"?E==="italic"?"italic":"normal":K!=700&&K!=="bold"||E!=="normal"?(K==700?"bold":K)+""+E:"bold"),E};h.advancedAPI=function(E){var K=C===v;return K&&_.call(this),typeof E!="function"||(E(this),K&&I.call(this)),this},h.compatAPI=function(E){var K=C===b;return K&&I.call(this),typeof E!="function"||(E(this),K&&_.call(this)),this},h.isAdvancedAPI=function(){return C===b};var T,D=function(E){if(C!==b)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=h.roundToPrecision=h.__private__.roundToPrecision=function(E,K){var fe=e||K;if(isNaN(E)||isNaN(fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(fe).replace(/0+$/,"")};T=h.hpf=h.__private__.hpf=typeof l=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return H(E,l)}:l==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return H(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return H(E,16)};var R=h.f2=h.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return H(E,2)},U=h.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return H(E,3)},W=h.scale=h.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return C===v?E*Gt:C===b?E:void 0},$=function(E){return W(function(K){return C===v?RA()-K:C===b?K:void 0}(E))};h.__private__.setPrecision=h.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(e=parseInt(E,10))};var Y,J="00000000000000000000000000000000",oe=h.__private__.getFileId=function(){return J},V=h.__private__.setFileId=function(E){return J=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(qr=new Rg(u.userPermissions,u.userPassword,u.ownerPassword,J)),J};h.setFileId=function(E){return V(E),this},h.getFileId=function(){return oe()};var Z=h.__private__.convertDateToPDFDate=function(E){var K=E.getTimezoneOffset(),fe=K<0?"+":"-",be=Math.floor(Math.abs(K/60)),ke=Math.abs(K%60),Qe=[fe,X(be),"'",X(ke),"'"].join("");return["D:",E.getFullYear(),X(E.getMonth()+1),X(E.getDate()),X(E.getHours()),X(E.getMinutes()),X(E.getSeconds()),Qe].join("")},le=h.__private__.convertPDFDateToDate=function(E){var K=parseInt(E.substr(2,4),10),fe=parseInt(E.substr(6,2),10)-1,be=parseInt(E.substr(8,2),10),ke=parseInt(E.substr(10,2),10),Qe=parseInt(E.substr(12,2),10),Xe=parseInt(E.substr(14,2),10);return new Date(K,fe,be,ke,Qe,Xe,0)},ce=h.__private__.setCreationDate=function(E){var K;if(E===void 0&&(E=new Date),E instanceof Date)K=Z(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=E}return Y=K},M=h.__private__.getCreationDate=function(E){var K=Y;return E==="jsDate"&&(K=le(Y)),K};h.setCreationDate=function(E){return ce(E),this},h.getCreationDate=function(E){return M(E)};var G,X=h.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},re=h.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},ue=0,de=[],we=[],Ce=0,Ne=[],Ee=[],Ue=!1,ze=we;h.__private__.setCustomOutputDestination=function(E){Ue=!0,ze=E};var tt=function(E){Ue||(ze=E)};h.__private__.resetCustomOutputDestination=function(){Ue=!1,ze=we};var Ae=h.__private__.out=function(E){return E=E.toString(),Ce+=E.length+1,ze.push(E),ze},Ge=h.__private__.write=function(E){return Ae(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},At=h.__private__.getArrayBuffer=function(E){for(var K=E.length,fe=new ArrayBuffer(K),be=new Uint8Array(fe);K--;)be[K]=E.charCodeAt(K);return fe},rt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return rt};var We=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(E){return We=C===b?E/Gt:E,this};var dt,at=h.__private__.getFontSize=h.getFontSize=function(){return C===v?We:We*Gt},gt=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(E){return gt=E,this},h.__private__.getR2L=h.getR2L=function(){return gt};var mt,cn=h.__private__.setZoomMode=function(E){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))dt=E;else if(isNaN(E)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');dt=E}else dt=parseInt(E,10)};h.__private__.getZoomMode=function(){return dt};var Zt,vt=h.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');mt=E};h.__private__.getPageMode=function(){return mt};var Wt=h.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');Zt=E};h.__private__.getLayoutMode=function(){return Zt},h.__private__.setDisplayMode=h.setDisplayMode=function(E,K,fe){return cn(E),Wt(K),vt(fe),this};var Jt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(E){if(Object.keys(Jt).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Jt[E]},h.__private__.getDocumentProperties=function(){return Jt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(E){for(var K in Jt)Jt.hasOwnProperty(K)&&E[K]&&(Jt[K]=E[K]);return this},h.__private__.setDocumentProperty=function(E,K){if(Object.keys(Jt).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Jt[E]=K};var xt,Gt,St,vr,An,Yt={},sn={},Gn=[],Ot={},rr={},Kt={},nn={},Ar=null,dn=0,$t=[],zn=new sH(h),qt=t.hotfixes||[],on={},On={},Kr=[],Bt=function E(K,fe,be,ke,Qe,Xe){if(!(this instanceof E))return new E(K,fe,be,ke,Qe,Xe);isNaN(K)&&(K=1),isNaN(fe)&&(fe=0),isNaN(be)&&(be=0),isNaN(ke)&&(ke=1),isNaN(Qe)&&(Qe=0),isNaN(Xe)&&(Xe=0),this._matrix=[K,fe,be,ke,Qe,Xe]};Object.defineProperty(Bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Bt.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(E)},Bt.prototype.multiply=function(E){var K=E.sx*this.sx+E.shy*this.shx,fe=E.sx*this.shy+E.shy*this.sy,be=E.shx*this.sx+E.sy*this.shx,ke=E.shx*this.shy+E.sy*this.sy,Qe=E.tx*this.sx+E.ty*this.shx+this.tx,Xe=E.tx*this.shy+E.ty*this.sy+this.ty;return new Bt(K,fe,be,ke,Qe,Xe)},Bt.prototype.decompose=function(){var E=this.sx,K=this.shy,fe=this.shx,be=this.sy,ke=this.tx,Qe=this.ty,Xe=Math.sqrt(E*E+K*K),_t=(E/=Xe)*fe+(K/=Xe)*be;fe-=E*_t,be-=K*_t;var Dt=Math.sqrt(fe*fe+be*be);return _t/=Dt,E*(be/=Dt)<K*(fe/=Dt)&&(E=-E,K=-K,_t=-_t,Xe=-Xe),{scale:new Bt(Xe,0,0,Dt,0,0),translate:new Bt(1,0,0,1,ke,Qe),rotate:new Bt(E,K,-K,E,0,0),skew:new Bt(1,0,_t,1,0,0)}},Bt.prototype.toString=function(E){return this.join(" ")},Bt.prototype.inversed=function(){var E=this.sx,K=this.shy,fe=this.shx,be=this.sy,ke=this.tx,Qe=this.ty,Xe=1/(E*be-K*fe),_t=be*Xe,Dt=-K*Xe,rn=-fe*Xe,hn=E*Xe;return new Bt(_t,Dt,rn,hn,-_t*ke-rn*Qe,-Dt*ke-hn*Qe)},Bt.prototype.applyToPoint=function(E){var K=E.x*this.sx+E.y*this.shx+this.tx,fe=E.x*this.shy+E.y*this.sy+this.ty;return new vc(K,fe)},Bt.prototype.applyToRectangle=function(E){var K=this.applyToPoint(E),fe=this.applyToPoint(new vc(E.x+E.w,E.y+E.h));return new Vd(K.x,K.y,fe.x-K.x,fe.y-K.y)},Bt.prototype.clone=function(){var E=this.sx,K=this.shy,fe=this.shx,be=this.sy,ke=this.tx,Qe=this.ty;return new Bt(E,K,fe,be,ke,Qe)},h.Matrix=Bt;var Hs=h.matrixMult=function(E,K){return K.multiply(E)},ri=new Bt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=ri;var Tr=function(E,K){if(!rr[E]){var fe=(K instanceof xp?"Sh":"P")+(Object.keys(Ot).length+1).toString(10);K.id=fe,rr[E]=fe,Ot[fe]=K,zn.publish("addPattern",K)}};h.ShadingPattern=xp,h.TilingPattern=s0,h.addShadingPattern=function(E,K){return D("addShadingPattern()"),Tr(E,K),this},h.beginTilingPattern=function(E){D("beginTilingPattern()"),Yf(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},h.endTilingPattern=function(E,K){D("endTilingPattern()"),K.stream=Ee[G].join(`
`),Tr(E,K),zn.publish("endTilingPattern",K),Kr.pop().restore()};var ss,Kn=h.__private__.newObject=function(){var E=ht();return zs(E,!0),E},ht=h.__private__.newObjectDeferred=function(){return ue++,de[ue]=function(){return Ce},ue},zs=function(E,K){return K=typeof K=="boolean"&&K,de[E]=Ce,K&&Ae(E+" 0 obj"),E},Su=h.__private__.newAdditionalObject=function(){var E={objId:ht(),content:""};return Ne.push(E),E},dc=ht(),oa=ht(),aa=h.__private__.decodeColorString=function(E){var K=E.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length!==5||K[4]!=="k"&&K[4]!=="K"||(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var fe=parseFloat(K[0]);K=[fe,fe,fe,"r"]}for(var be="#",ke=0;ke<3;ke++)be+=("0"+Math.floor(255*parseFloat(K[ke])).toString(16)).slice(-2);return be},la=h.__private__.encodeColorString=function(E){var K;typeof E=="string"&&(E={ch1:E});var fe=E.ch1,be=E.ch2,ke=E.ch3,Qe=E.ch4,Xe=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof fe=="string"&&fe.charAt(0)!=="#"){var _t=new AJ(fe);if(_t.ok)fe=_t.toHex();else if(!/^\d*\.?\d*$/.test(fe))throw new Error('Invalid color "'+fe+'" passed to jsPDF.encodeColorString.')}if(typeof fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(fe)&&(fe="#"+fe[1]+fe[1]+fe[2]+fe[2]+fe[3]+fe[3]),typeof fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fe)){var Dt=parseInt(fe.substr(1),16);fe=Dt>>16&255,be=Dt>>8&255,ke=255&Dt}if(be===void 0||Qe===void 0&&fe===be&&be===ke)K=typeof fe=="string"?fe+" "+Xe[0]:E.precision===2?R(fe/255)+" "+Xe[0]:U(fe/255)+" "+Xe[0];else if(Qe===void 0||mr(Qe)==="object"){if(Qe&&!isNaN(Qe.a)&&Qe.a===0)return["1.","1.","1.",Xe[1]].join(" ");K=typeof fe=="string"?[fe,be,ke,Xe[1]].join(" "):E.precision===2?[R(fe/255),R(be/255),R(ke/255),Xe[1]].join(" "):[U(fe/255),U(be/255),U(ke/255),Xe[1]].join(" ")}else K=typeof fe=="string"?[fe,be,ke,Qe,Xe[2]].join(" "):E.precision===2?[R(fe),R(be),R(ke),R(Qe),Xe[2]].join(" "):[U(fe),U(be),U(ke),U(Qe),Xe[2]].join(" ");return K},xi=h.__private__.getFilters=function(){return o},Eo=h.__private__.putStream=function(E){var K=(E=E||{}).data||"",fe=E.filters||xi(),be=E.alreadyAppliedFilters||[],ke=E.addLength1||!1,Qe=K.length,Xe=E.objectId,_t=function(Is){return Is};if(u!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(_t=qr.encryptor(Xe,0));var Dt={};fe===!0&&(fe=["FlateEncode"]);var rn=E.additionalKeyValues||[],hn=(Dt=zt.API.processDataByFilters!==void 0?zt.API.processDataByFilters(K,fe):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(be)?be.join(" "):be.toString());if(Dt.data.length!==0&&(rn.push({key:"Length",value:Dt.data.length}),ke===!0&&rn.push({key:"Length1",value:Qe})),hn.length!=0)if(hn.split("/").length-1==1)rn.push({key:"Filter",value:hn});else{rn.push({key:"Filter",value:"["+hn+"]"});for(var $n=0;$n<rn.length;$n+=1)if(rn[$n].key==="DecodeParms"){for(var Mr=[],ps=0;ps<Dt.reverseChain.split("/").length-1;ps+=1)Mr.push("null");Mr.push(rn[$n].value),rn[$n].value="["+Mr.join(" ")+"]"}}Ae("<<");for(var or=0;or<rn.length;or++)Ae("/"+rn[or].key+" "+rn[or].value);Ae(">>"),Dt.data.length!==0&&(Ae("stream"),Ae(_t(Dt.data)),Ae("endstream"))},TA=h.__private__.putPage=function(E){var K=E.number,fe=E.data,be=E.objId,ke=E.contentsObjId;zs(be,!0),Ae("<</Type /Page"),Ae("/Parent "+E.rootDictionaryObjId+" 0 R"),Ae("/Resources "+E.resourceDictionaryObjId+" 0 R"),Ae("/MediaBox ["+parseFloat(T(E.mediaBox.bottomLeftX))+" "+parseFloat(T(E.mediaBox.bottomLeftY))+" "+T(E.mediaBox.topRightX)+" "+T(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&Ae("/CropBox ["+T(E.cropBox.bottomLeftX)+" "+T(E.cropBox.bottomLeftY)+" "+T(E.cropBox.topRightX)+" "+T(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&Ae("/BleedBox ["+T(E.bleedBox.bottomLeftX)+" "+T(E.bleedBox.bottomLeftY)+" "+T(E.bleedBox.topRightX)+" "+T(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&Ae("/TrimBox ["+T(E.trimBox.bottomLeftX)+" "+T(E.trimBox.bottomLeftY)+" "+T(E.trimBox.topRightX)+" "+T(E.trimBox.topRightY)+"]"),E.artBox!==null&&Ae("/ArtBox ["+T(E.artBox.bottomLeftX)+" "+T(E.artBox.bottomLeftY)+" "+T(E.artBox.topRightX)+" "+T(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&Ae("/UserUnit "+E.userUnit),zn.publish("putPage",{objId:be,pageContext:$t[K],pageNumber:K,page:fe}),Ae("/Contents "+ke+" 0 R"),Ae(">>"),Ae("endobj");var Qe=fe.join(`
`);return C===b&&(Qe+=`
Q`),zs(ke,!0),Eo({data:Qe,filters:xi(),objectId:ke}),Ae("endobj"),be},xl=h.__private__.putPages=function(){var E,K,fe=[];for(E=1;E<=dn;E++)$t[E].objId=ht(),$t[E].contentsObjId=ht();for(E=1;E<=dn;E++)fe.push(TA({number:E,data:Ee[E],objId:$t[E].objId,contentsObjId:$t[E].contentsObjId,mediaBox:$t[E].mediaBox,cropBox:$t[E].cropBox,bleedBox:$t[E].bleedBox,trimBox:$t[E].trimBox,artBox:$t[E].artBox,userUnit:$t[E].userUnit,rootDictionaryObjId:dc,resourceDictionaryObjId:oa}));zs(dc,!0),Ae("<</Type /Pages");var be="/Kids [";for(K=0;K<dn;K++)be+=fe[K]+" 0 R ";Ae(be+"]"),Ae("/Count "+dn),Ae(">>"),Ae("endobj"),zn.publish("postPutPages")},FA=function(E){zn.publish("putFont",{font:E,out:Ae,newObject:Kn,putStream:Eo}),E.isAlreadyPutted!==!0&&(E.objectNumber=Kn(),Ae("<<"),Ae("/Type /Font"),Ae("/BaseFont /"+Og(E.postScriptName)),Ae("/Subtype /Type1"),typeof E.encoding=="string"&&Ae("/Encoding /"+E.encoding),Ae("/FirstChar 32"),Ae("/LastChar 255"),Ae(">>"),Ae("endobj"))},Pd=function(E){E.objectNumber=Kn();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[T(E.x),T(E.y),T(E.x+E.width),T(E.y+E.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var fe=E.pages[1].join(`
`);Eo({data:fe,additionalKeyValues:K,objectId:E.objectNumber}),Ae("endobj")},LA=function(E,K){K||(K=21);var fe=Kn(),be=function(Xe,_t){var Dt,rn=[],hn=1/(_t-1);for(Dt=0;Dt<1;Dt+=hn)rn.push(Dt);if(rn.push(1),Xe[0].offset!=0){var $n={offset:0,color:Xe[0].color};Xe.unshift($n)}if(Xe[Xe.length-1].offset!=1){var Mr={offset:1,color:Xe[Xe.length-1].color};Xe.push(Mr)}for(var ps="",or=0,Is=0;Is<rn.length;Is++){for(Dt=rn[Is];Dt>Xe[or+1].offset;)or++;var is=Xe[or].offset,Vs=(Dt-is)/(Xe[or+1].offset-is),da=Xe[or].color,ii=Xe[or+1].color;ps+=re(Math.round((1-Vs)*da[0]+Vs*ii[0]).toString(16))+re(Math.round((1-Vs)*da[1]+Vs*ii[1]).toString(16))+re(Math.round((1-Vs)*da[2]+Vs*ii[2]).toString(16))}return ps.trim()}(E.colors,K),ke=[];ke.push({key:"FunctionType",value:"0"}),ke.push({key:"Domain",value:"[0.0 1.0]"}),ke.push({key:"Size",value:"["+K+"]"}),ke.push({key:"BitsPerSample",value:"8"}),ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Eo({data:be,additionalKeyValues:ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fe}),Ae("endobj"),E.objectNumber=Kn(),Ae("<< /ShadingType "+E.type),Ae("/ColorSpace /DeviceRGB");var Qe="/Coords ["+T(parseFloat(E.coords[0]))+" "+T(parseFloat(E.coords[1]))+" ";E.type===2?Qe+=T(parseFloat(E.coords[2]))+" "+T(parseFloat(E.coords[3])):Qe+=T(parseFloat(E.coords[2]))+" "+T(parseFloat(E.coords[3]))+" "+T(parseFloat(E.coords[4]))+" "+T(parseFloat(E.coords[5])),Ae(Qe+="]"),E.matrix&&Ae("/Matrix ["+E.matrix.toString()+"]"),Ae("/Function "+fe+" 0 R"),Ae("/Extend [true true]"),Ae(">>"),Ae("endobj")},Rd=function(E,K){var fe=ht(),be=Kn();K.push({resourcesOid:fe,objectOid:be}),E.objectNumber=be;var ke=[];ke.push({key:"Type",value:"/Pattern"}),ke.push({key:"PatternType",value:"1"}),ke.push({key:"PaintType",value:"1"}),ke.push({key:"TilingType",value:"1"}),ke.push({key:"BBox",value:"["+E.boundingBox.map(T).join(" ")+"]"}),ke.push({key:"XStep",value:T(E.xStep)}),ke.push({key:"YStep",value:T(E.yStep)}),ke.push({key:"Resources",value:fe+" 0 R"}),E.matrix&&ke.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),Eo({data:E.stream,additionalKeyValues:ke,objectId:E.objectNumber}),Ae("endobj")},Od=function(E){for(var K in E.objectNumber=Kn(),Ae("<<"),E)switch(K){case"opacity":Ae("/ca "+R(E[K]));break;case"stroke-opacity":Ae("/CA "+R(E[K]))}Ae(">>"),Ae("endobj")},Hf=function(E){zs(E.resourcesOid,!0),Ae("<<"),Ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var K in Ae("/Font <<"),Yt)Yt.hasOwnProperty(K)&&(A===!1||A===!0&&d.hasOwnProperty(K))&&Ae("/"+K+" "+Yt[K].objectNumber+" 0 R");Ae(">>")}(),function(){if(Object.keys(Ot).length>0){for(var K in Ae("/Shading <<"),Ot)Ot.hasOwnProperty(K)&&Ot[K]instanceof xp&&Ot[K].objectNumber>=0&&Ae("/"+K+" "+Ot[K].objectNumber+" 0 R");zn.publish("putShadingPatternDict"),Ae(">>")}}(),function(K){if(Object.keys(Ot).length>0){for(var fe in Ae("/Pattern <<"),Ot)Ot.hasOwnProperty(fe)&&Ot[fe]instanceof h.TilingPattern&&Ot[fe].objectNumber>=0&&Ot[fe].objectNumber<K&&Ae("/"+fe+" "+Ot[fe].objectNumber+" 0 R");zn.publish("putTilingPatternDict"),Ae(">>")}}(E.objectOid),function(){if(Object.keys(Kt).length>0){var K;for(K in Ae("/ExtGState <<"),Kt)Kt.hasOwnProperty(K)&&Kt[K].objectNumber>=0&&Ae("/"+K+" "+Kt[K].objectNumber+" 0 R");zn.publish("putGStateDict"),Ae(">>")}}(),function(){for(var K in Ae("/XObject <<"),on)on.hasOwnProperty(K)&&on[K].objectNumber>=0&&Ae("/"+K+" "+on[K].objectNumber+" 0 R");zn.publish("putXobjectDict"),Ae(">>")}(),Ae(">>"),Ae("endobj")},ng=function(E){sn[E.fontName]=sn[E.fontName]||{},sn[E.fontName][E.fontStyle]=E.id},rg=function(E,K,fe,be,ke){var Qe={id:"F"+(Object.keys(Yt).length+1).toString(10),postScriptName:E,fontName:K,fontStyle:fe,encoding:be,isStandardFont:ke||!1,metadata:{}};return zn.publish("addFont",{font:Qe,instance:this}),Yt[Qe.id]=Qe,ng(Qe),Qe.id},ca=h.__private__.pdfEscape=h.pdfEscape=function(E,K){return function(fe,be){var ke,Qe,Xe,_t,Dt,rn,hn,$n,Mr;if(Xe=(be=be||{}).sourceEncoding||"Unicode",Dt=be.outputEncoding,(be.autoencode||Dt)&&Yt[xt].metadata&&Yt[xt].metadata[Xe]&&Yt[xt].metadata[Xe].encoding&&(_t=Yt[xt].metadata[Xe].encoding,!Dt&&Yt[xt].encoding&&(Dt=Yt[xt].encoding),!Dt&&_t.codePages&&(Dt=_t.codePages[0]),typeof Dt=="string"&&(Dt=_t[Dt]),Dt)){for(hn=!1,rn=[],ke=0,Qe=fe.length;ke<Qe;ke++)($n=Dt[fe.charCodeAt(ke)])?rn.push(String.fromCharCode($n)):rn.push(fe[ke]),rn[ke].charCodeAt(0)>>8&&(hn=!0);fe=rn.join("")}for(ke=fe.length;hn===void 0&&ke!==0;)fe.charCodeAt(ke-1)>>8&&(hn=!0),ke--;if(!hn)return fe;for(rn=be.noBOM?[]:[254,255],ke=0,Qe=fe.length;ke<Qe;ke++){if((Mr=($n=fe.charCodeAt(ke))>>8)>>8)throw new Error("Character at position "+ke+" of string '"+fe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");rn.push(Mr),rn.push($n-(Mr<<8))}return String.fromCharCode.apply(void 0,rn)}(E,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zf=h.__private__.beginPage=function(E){Ee[++dn]=[],$t[dn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Vf(dn),tt(Ee[G])},$d=function(E,K){var fe,be,ke;switch(n=K||n,typeof E=="string"&&(fe=g(E.toLowerCase()),Array.isArray(fe)&&(be=fe[0],ke=fe[1])),Array.isArray(E)&&(be=E[0]*Gt,ke=E[1]*Gt),isNaN(be)&&(be=s[0],ke=s[1]),(be>14400||ke>14400)&&(_r.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),be=Math.min(14400,be),ke=Math.min(14400,ke)),s=[be,ke],n.substr(0,1)){case"l":ke>be&&(s=[ke,be]);break;case"p":be>ke&&(s=[ke,be])}zf(s),st(PA),Ae(Eu),Xf!==0&&Ae(Xf+" J"),Hd!==0&&Ae(Hd+" j"),zn.publish("addPage",{pageNumber:dn})},hc=function(E){E>0&&E<=dn&&(Ee.splice(E,1),$t.splice(E,1),dn--,G>dn&&(G=dn),this.setPage(G))},Vf=function(E){E>0&&E<=dn&&(G=E)},Wf=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ee.length-1},Bu=function(E,K,fe){var be,ke=void 0;return fe=fe||{},E=E!==void 0?E:Yt[xt].fontName,K=K!==void 0?K:Yt[xt].fontStyle,be=E.toLowerCase(),sn[be]!==void 0&&sn[be][K]!==void 0?ke=sn[be][K]:sn[E]!==void 0&&sn[E][K]!==void 0?ke=sn[E][K]:fe.disableWarning===!1&&_r.warn("Unable to look up font label for font '"+E+"', '"+K+"'. Refer to getFontList() for available fonts."),ke||fe.noFallback||(ke=sn.times[K])==null&&(ke=sn.times.normal),ke},pn=h.__private__.putInfo=function(){var E=Kn(),K=function(be){return be};for(var fe in u!==null&&(K=qr.encryptor(E,0)),Ae("<<"),Ae("/Producer ("+ca(K("jsPDF "+zt.version))+")"),Jt)Jt.hasOwnProperty(fe)&&Jt[fe]&&Ae("/"+fe.substr(0,1).toUpperCase()+fe.substr(1)+" ("+ca(K(Jt[fe]))+")");Ae("/CreationDate ("+ca(K(Y))+")"),Ae(">>"),Ae("endobj")},sr=h.__private__.putCatalog=function(E){var K=(E=E||{}).rootDictionaryObjId||dc;switch(Kn(),Ae("<<"),Ae("/Type /Catalog"),Ae("/Pages "+K+" 0 R"),dt||(dt="fullwidth"),dt){case"fullwidth":Ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ae("/OpenAction [3 0 R /Fit]");break;case"original":Ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fe=""+dt;fe.substr(fe.length-1)==="%"&&(dt=parseInt(dt)/100),typeof dt=="number"&&Ae("/OpenAction [3 0 R /XYZ null null "+R(dt)+"]")}switch(Zt||(Zt="continuous"),Zt){case"continuous":Ae("/PageLayout /OneColumn");break;case"single":Ae("/PageLayout /SinglePage");break;case"two":case"twoleft":Ae("/PageLayout /TwoColumnLeft");break;case"tworight":Ae("/PageLayout /TwoColumnRight")}mt&&Ae("/PageMode /"+mt),zn.publish("putCatalog"),Ae(">>"),Ae("endobj")},Ud=h.__private__.putTrailer=function(){Ae("trailer"),Ae("<<"),Ae("/Size "+(ue+1)),Ae("/Root "+ue+" 0 R"),Ae("/Info "+(ue-1)+" 0 R"),u!==null&&Ae("/Encrypt "+qr.oid+" 0 R"),Ae("/ID [ <"+J+"> <"+J+"> ]"),Ae(">>")},Cr=h.__private__.putHeader=function(){Ae("%PDF-"+p),Ae("%")},fc=h.__private__.putXRef=function(){var E="0000000000";Ae("xref"),Ae("0 "+(ue+1)),Ae("0000000000 65535 f ");for(var K=1;K<=ue;K++)typeof de[K]=="function"?Ae((E+de[K]()).slice(-10)+" 00000 n "):de[K]!==void 0?Ae((E+de[K]).slice(-10)+" 00000 n "):Ae("0000000000 00000 n ")},ua=h.__private__.buildDocument=function(){var E;ue=0,Ce=0,we=[],de=[],Ne=[],dc=ht(),oa=ht(),tt(we),zn.publish("buildDocument"),Cr(),xl(),function(){zn.publish("putAdditionalObjects");for(var fe=0;fe<Ne.length;fe++){var be=Ne[fe];zs(be.objId,!0),Ae(be.content),Ae("endobj")}zn.publish("postPutAdditionalObjects")}(),E=[],function(){for(var fe in Yt)Yt.hasOwnProperty(fe)&&(A===!1||A===!0&&d.hasOwnProperty(fe))&&FA(Yt[fe])}(),function(){var fe;for(fe in Kt)Kt.hasOwnProperty(fe)&&Od(Kt[fe])}(),function(){for(var fe in on)on.hasOwnProperty(fe)&&Pd(on[fe])}(),function(fe){var be;for(be in Ot)Ot.hasOwnProperty(be)&&(Ot[be]instanceof xp?LA(Ot[be]):Ot[be]instanceof s0&&Rd(Ot[be],fe))}(E),zn.publish("putResources"),E.forEach(Hf),Hf({resourcesOid:oa,objectOid:Number.MAX_SAFE_INTEGER}),zn.publish("postPutResources"),u!==null&&(qr.oid=Kn(),Ae("<<"),Ae("/Filter /Standard"),Ae("/V "+qr.v),Ae("/R "+qr.r),Ae("/U <"+qr.toHexString(qr.U)+">"),Ae("/O <"+qr.toHexString(qr.O)+">"),Ae("/P "+qr.P),Ae(">>"),Ae("endobj")),pn(),sr();var K=Ce;return fc(),Ud(),Ae("startxref"),Ae(""+K),Ae("%%EOF"),tt(Ee[G]),we.join(`
`)},an=h.__private__.getBlob=function(E){return new Blob([At(E)],{type:"application/pdf"})},Fr=h.output=h.__private__.output=(ss=function(E,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",E){case void 0:return ua();case"save":h.save(K.filename);break;case"arraybuffer":return At(ua());case"blob":return an(ua());case"bloburi":case"bloburl":if(ln.URL!==void 0&&typeof ln.URL.createObjectURL=="function")return ln.URL&&ln.URL.createObjectURL(an(ua()))||void 0;_r.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fe="",be=ua();try{fe=tH(be)}catch{fe=tH(unescape(encodeURIComponent(be)))}return"data:application/pdf;filename="+K.filename+";base64,"+fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ln)==="[object Window]"){var ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(ke=K.pdfObjectUrl,Qe="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ke+'"'+Qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",_t=ln.open();return _t!==null&&_t.document.write(Xe),_t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ln)==="[object Window]"){var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',rn=ln.open();if(rn!==null){rn.document.write(Dt);var hn=this;rn.document.documentElement.querySelector("#pdfViewer").onload=function(){rn.document.title=K.filename,rn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(hn.output("bloburl"))}}return rn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ln)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var $n='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',Mr=ln.open();if(Mr!==null&&(Mr.document.write($n),Mr.document.title=K.filename),Mr||typeof safari>"u")return Mr;break;case"datauri":case"dataurl":return ln.document.location.href=this.output("datauristring",K);default:return null}},ss.foo=function(){try{return ss.apply(this,arguments)}catch(fe){var E=fe.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var K="Error in function "+E.split(`
`)[0].split("<")[0]+": "+fe.message;if(!ln.console)throw new Error(K);ln.console.error(K,fe),ln.alert&&alert(K)}},ss.foo.bar=ss,ss.foo),to=function(E){return Array.isArray(qt)===!0&&qt.indexOf(E)>-1};switch(r){case"pt":Gt=1;break;case"mm":Gt=72/25.4;break;case"cm":Gt=72/2.54;break;case"in":Gt=72;break;case"px":Gt=to("px_scaling")==1?.75:96/72;break;case"pc":case"em":Gt=12;break;case"ex":Gt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Gt=r}var qr=null;ce(),V();var fs=h.__private__.getPageInfo=h.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:$t[E].objId,pageNumber:E,pageContext:$t[E]}},sg=h.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in $t)if($t[K].objId===E)break;return fs(K)},Md=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:$t[G].objId,pageNumber:G,pageContext:$t[G]}};h.addPage=function(){return $d.apply(this,arguments),this},h.setPage=function(){return Vf.apply(this,arguments),tt.call(this,Ee[G]),this},h.insertPage=function(E){return this.addPage(),this.movePage(G,E),this},h.movePage=function(E,K){var fe,be;if(E>K){fe=Ee[E],be=$t[E];for(var ke=E;ke>K;ke--)Ee[ke]=Ee[ke-1],$t[ke]=$t[ke-1];Ee[K]=fe,$t[K]=be,this.setPage(K)}else if(E<K){fe=Ee[E],be=$t[E];for(var Qe=E;Qe<K;Qe++)Ee[Qe]=Ee[Qe+1],$t[Qe]=$t[Qe+1];Ee[K]=fe,$t[K]=be,this.setPage(K)}return this},h.deletePage=function(){return hc.apply(this,arguments),this},h.__private__.text=h.text=function(E,K,fe,be,ke){var Qe,Xe,_t,Dt,rn,hn,$n,Mr,ps,or=(be=be||{}).scope||this;if(typeof E=="number"&&typeof K=="number"&&(typeof fe=="string"||Array.isArray(fe))){var Is=fe;fe=K,K=E,E=Is}if(arguments[3]instanceof Bt==0?(_t=arguments[4],Dt=arguments[5],mr($n=arguments[3])==="object"&&$n!==null||(typeof _t=="string"&&(Dt=_t,_t=null),typeof $n=="string"&&(Dt=$n,$n=null),typeof $n=="number"&&(_t=$n,$n=null),be={flags:$n,angle:_t,align:Dt})):(D("The transform parameter of text() with a Matrix value"),ps=ke),isNaN(K)||isNaN(fe)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return or;var is,Vs="",da=typeof be.lineHeightFactor=="number"?be.lineHeightFactor:Iu,ii=or.internal.scaleFactor;function Cc(Zn){return Zn=Zn.split("	").join(Array(be.TabLen||9).join(" ")),ca(Zn,$n)}function Sc(Zn){for(var ar,as=Zn.concat(),gs=[],kc=as.length;kc--;)typeof(ar=as.shift())=="string"?gs.push(ar):Array.isArray(Zn)&&(ar.length===1||ar[1]===void 0&&ar[2]===void 0)?gs.push(ar[0]):gs.push([ar[0],ar[1],ar[2]]);return gs}function oi(Zn,ar){var as;if(typeof Zn=="string")as=ar(Zn)[0];else if(Array.isArray(Zn)){for(var gs,kc,so=Zn.concat(),Tc=[],cg=so.length;cg--;)typeof(gs=so.shift())=="string"?Tc.push(ar(gs)[0]):Array.isArray(gs)&&typeof gs[0]=="string"&&(kc=ar(gs[0],gs[1],gs[2]),Tc.push([kc[0],kc[1],kc[2]]));as=Tc}return as}var Bc=!1,ku=!0;if(typeof E=="string")Bc=!0;else if(Array.isArray(E)){var OA=E.concat();Xe=[];for(var Bl,Es=OA.length;Es--;)(typeof(Bl=OA.shift())!="string"||Array.isArray(Bl)&&typeof Bl[0]!="string")&&(ku=!1);Bc=ku}if(Bc===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var $A=We/or.internal.scaleFactor,UA=$A*(da-1);switch(be.baseline){case"bottom":fe-=UA;break;case"top":fe+=$A-UA;break;case"hanging":fe+=$A-2*UA;break;case"middle":fe+=$A/2-UA}if((hn=be.maxWidth||0)>0&&(typeof E=="string"?E=or.splitTextToSize(E,hn):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(Zn,ar){return Zn.concat(or.splitTextToSize(ar,hn))},[]))),Qe={text:E,x:K,y:fe,options:be,mutex:{pdfEscape:ca,activeFontKey:xt,fonts:Yt,activeFontSize:We}},zn.publish("preProcessText",Qe),E=Qe.text,_t=(be=Qe.options).angle,ps instanceof Bt==0&&_t&&typeof _t=="number"){_t*=Math.PI/180,be.rotationDirection===0&&(_t=-_t),C===b&&(_t=-_t);var Wd=Math.cos(_t),ep=Math.sin(_t);ps=new Bt(Wd,ep,-ep,Wd,0,0)}else _t&&_t instanceof Bt&&(ps=_t);C!==b||ps||(ps=ri),(rn=be.charSpace||Sl)!==void 0&&(Vs+=T(W(rn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mr=be.horizontalScale)!==void 0&&(Vs+=T(100*Mr)+` Tz
`),be.lang;var Sr=-1,no=be.renderingMode!==void 0?be.renderingMode:be.stroke,Gd=or.internal.getCurrentPageInfo().pageContext;switch(no){case 0:case!1:case"fill":Sr=0;break;case 1:case!0:case"stroke":Sr=1;break;case 2:case"fillThenStroke":Sr=2;break;case 3:case"invisible":Sr=3;break;case 4:case"fillAndAddForClipping":Sr=4;break;case 5:case"strokeAndAddPathForClipping":Sr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Sr=6;break;case 7:case"addToPathForClipping":Sr=7}var ha=Gd.usedRenderingMode!==void 0?Gd.usedRenderingMode:-1;Sr!==-1?Vs+=Sr+` Tr
`:ha!==-1&&(Vs+=`0 Tr
`),Sr!==-1&&(Gd.usedRenderingMode=Sr),Dt=be.align||"left";var fa,pa=We*da,tp=or.internal.pageSize.getWidth(),_c=Yt[xt];rn=be.charSpace||Sl,hn=be.maxWidth||0,$n=Object.assign({autoencode:!0,noBOM:!0},be.flags);var Nc=[],_l=function(Zn){return or.getStringUnitWidth(Zn,{font:_c,charSpace:rn,fontSize:We,doKerning:!1})*We/ii};if(Object.prototype.toString.call(E)==="[object Array]"){var To;Xe=Sc(E),Dt!=="left"&&(fa=Xe.map(_l));var ms,Ha=0;if(Dt==="right"){K-=fa[0],E=[],Es=Xe.length;for(var Ic=0;Ic<Es;Ic++)Ic===0?(ms=Ma(K),To=Qa(fe)):(ms=W(Ha-fa[Ic]),To=-pa),E.push([Xe[Ic],ms,To]),Ha=fa[Ic]}else if(Dt==="center"){K-=fa[0]/2,E=[],Es=Xe.length;for(var Nl=0;Nl<Es;Nl++)Nl===0?(ms=Ma(K),To=Qa(fe)):(ms=W((Ha-fa[Nl])/2),To=-pa),E.push([Xe[Nl],ms,To]),Ha=fa[Nl]}else if(Dt==="left"){E=[],Es=Xe.length;for(var np=0;np<Es;np++)E.push(Xe[np])}else if(Dt==="justify"&&_c.encoding==="Identity-H"){E=[],Es=Xe.length,hn=hn!==0?hn:tp;for(var ro=0,os=0;os<Es;os++)if(To=os===0?Qa(fe):-pa,ms=os===0?Ma(K):ro,os<Es-1){var Ec=W((hn-fa[os])/(Xe[os].split(" ").length-1)),Il=Xe[os].split(" ");E.push([Il[0]+" ",ms,To]),ro=0;for(var Ws=1;Ws<Il.length;Ws++){var Tu=(_l(Il[Ws-1]+" "+Il[Ws])-_l(Il[Ws]))*ii+Ec;Ws==Il.length-1?E.push([Il[Ws],Tu,0]):E.push([Il[Ws]+" ",Tu,0]),ro-=Tu}}else E.push([Xe[os],ms,To]);E.push(["",ro,0])}else{if(Dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],Es=Xe.length,hn=hn!==0?hn:tp,os=0;os<Es;os++){To=os===0?Qa(fe):-pa,ms=os===0?Ma(K):0;var Kd=Xe[os].split(" ").length-1,MA=Kd>0?(hn-fa[os])/Kd:0;os<Es-1?Nc.push(T(W(MA))):Nc.push(0),E.push([Xe[os],ms,To])}}}(typeof be.R2L=="boolean"?be.R2L:gt)===!0&&(E=oi(E,function(Zn,ar,as){return[Zn.split("").reverse().join(""),ar,as]})),Qe={text:E,x:K,y:fe,options:be,mutex:{pdfEscape:ca,activeFontKey:xt,fonts:Yt,activeFontSize:We}},zn.publish("postProcessText",Qe),E=Qe.text,is=Qe.mutex.isHex||!1;var Fu=Yt[xt].encoding;Fu!=="WinAnsiEncoding"&&Fu!=="StandardEncoding"||(E=oi(E,function(Zn,ar,as){return[Cc(Zn),ar,as]})),Xe=Sc(E),E=[];for(var El,za,Fo,kl=Array.isArray(Xe[0])?1:0,Tl="",Lu=function(Zn,ar,as){var gs="";return as instanceof Bt?(as=typeof be.angle=="number"?Hs(as,new Bt(1,0,0,1,Zn,ar)):Hs(new Bt(1,0,0,1,Zn,ar),as),C===b&&(as=Hs(new Bt(1,0,0,-1,0,0),as)),gs=as.join(" ")+` Tm
`):gs=T(Zn)+" "+T(ar)+` Td
`,gs},ma=0;ma<Xe.length;ma++){switch(Tl="",kl){case 1:Fo=(is?"<":"(")+Xe[ma][0]+(is?">":")"),El=parseFloat(Xe[ma][1]),za=parseFloat(Xe[ma][2]);break;case 0:Fo=(is?"<":"(")+Xe[ma]+(is?">":")"),El=Ma(K),za=Qa(fe)}Nc!==void 0&&Nc[ma]!==void 0&&(Tl=Nc[ma]+` Tw
`),ma===0?E.push(Tl+Lu(El,za,ps)+Fo):kl===0?E.push(Tl+Fo):kl===1&&E.push(Tl+Lu(El,za,ps)+Fo)}E=kl===0?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var Lo=`BT
/`;return Lo+=xt+" "+We+` Tf
`,Lo+=T(We*da)+` TL
`,Lo+=Ur+`
`,Lo+=Vs,Lo+=E,Ae(Lo+="ET"),d[xt]=!0,or};var pc=h.__private__.clip=h.clip=function(E){return Ae(E==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return pc("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Ae("n"),this};var er=h.__private__.isValidStyle=function(E){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(K=!0),K};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(E){return er(E)&&(c=E),this};var bl=h.__private__.getStyle=h.getStyle=function(E){var K=c;switch(E){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=E}return K},_u=h.close=function(){return Ae("h"),this};h.stroke=function(){return Ae("S"),this},h.fill=function(E){return Cl("f",E),this},h.fillEvenOdd=function(E){return Cl("f*",E),this},h.fillStroke=function(E){return Cl("B",E),this},h.fillStrokeEvenOdd=function(E){return Cl("B*",E),this};var Cl=function(E,K){mr(K)==="object"?Gf(K,E):Ae(E)},mc=function(E){E===null||C===b&&E===void 0||(E=bl(E),Ae(E))};function DA(E,K,fe,be,ke){var Qe=new s0(K||this.boundingBox,fe||this.xStep,be||this.yStep,this.gState,ke||this.matrix);Qe.stream=this.stream;var Xe=E+"$$"+this.cloneIndex+++"$$";return Tr(Xe,Qe),Qe}var Gf=function(E,K){var fe=rr[E.key],be=Ot[fe];if(be instanceof xp)Ae("q"),Ae(Kf(K)),be.gState&&h.setGState(be.gState),Ae(E.matrix.toString()+" cm"),Ae("/"+fe+" sh"),Ae("Q");else if(be instanceof s0){var ke=new Bt(1,0,0,-1,0,RA());E.matrix&&(ke=ke.multiply(E.matrix||ri),fe=DA.call(be,E.key,E.boundingBox,E.xStep,E.yStep,ke).id),Ae("q"),Ae("/Pattern cs"),Ae("/"+fe+" scn"),be.gState&&h.setGState(be.gState),Ae(K),Ae("Q")}},Kf=function(E){switch(E){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Nu=h.moveTo=function(E,K){return Ae(T(W(E))+" "+T($(K))+" m"),this},Qd=h.lineTo=function(E,K){return Ae(T(W(E))+" "+T($(K))+" l"),this},ko=h.curveTo=function(E,K,fe,be,ke,Qe){return Ae([T(W(E)),T($(K)),T(W(fe)),T($(be)),T(W(ke)),T($(Qe)),"c"].join(" ")),this};h.__private__.line=h.line=function(E,K,fe,be,ke){if(isNaN(E)||isNaN(K)||isNaN(fe)||isNaN(be)||!er(ke))throw new Error("Invalid arguments passed to jsPDF.line");return C===v?this.lines([[fe-E,be-K]],E,K,[1,1],ke||"S"):this.lines([[fe-E,be-K]],E,K,[1,1]).stroke()},h.__private__.lines=h.lines=function(E,K,fe,be,ke,Qe){var Xe,_t,Dt,rn,hn,$n,Mr,ps,or,Is,is,Vs;if(typeof E=="number"&&(Vs=fe,fe=K,K=E,E=Vs),be=be||[1,1],Qe=Qe||!1,isNaN(K)||isNaN(fe)||!Array.isArray(E)||!Array.isArray(be)||!er(ke)||typeof Qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Nu(K,fe),Xe=be[0],_t=be[1],rn=E.length,Is=K,is=fe,Dt=0;Dt<rn;Dt++)(hn=E[Dt]).length===2?(Is=hn[0]*Xe+Is,is=hn[1]*_t+is,Qd(Is,is)):($n=hn[0]*Xe+Is,Mr=hn[1]*_t+is,ps=hn[2]*Xe+Is,or=hn[3]*_t+is,Is=hn[4]*Xe+Is,is=hn[5]*_t+is,ko($n,Mr,ps,or,Is,is));return Qe&&_u(),mc(ke),this},h.path=function(E){for(var K=0;K<E.length;K++){var fe=E[K],be=fe.c;switch(fe.op){case"m":Nu(be[0],be[1]);break;case"l":Qd(be[0],be[1]);break;case"c":ko.apply(this,be);break;case"h":_u()}}return this},h.__private__.rect=h.rect=function(E,K,fe,be,ke){if(isNaN(E)||isNaN(K)||isNaN(fe)||isNaN(be)||!er(ke))throw new Error("Invalid arguments passed to jsPDF.rect");return C===v&&(be=-be),Ae([T(W(E)),T($(K)),T(W(fe)),T(W(be)),"re"].join(" ")),mc(ke),this},h.__private__.triangle=h.triangle=function(E,K,fe,be,ke,Qe,Xe){if(isNaN(E)||isNaN(K)||isNaN(fe)||isNaN(be)||isNaN(ke)||isNaN(Qe)||!er(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fe-E,be-K],[ke-fe,Qe-be],[E-ke,K-Qe]],E,K,[1,1],Xe,!0),this},h.__private__.roundedRect=h.roundedRect=function(E,K,fe,be,ke,Qe,Xe){if(isNaN(E)||isNaN(K)||isNaN(fe)||isNaN(be)||isNaN(ke)||isNaN(Qe)||!er(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var _t=4/3*(Math.SQRT2-1);return ke=Math.min(ke,.5*fe),Qe=Math.min(Qe,.5*be),this.lines([[fe-2*ke,0],[ke*_t,0,ke,Qe-Qe*_t,ke,Qe],[0,be-2*Qe],[0,Qe*_t,-ke*_t,Qe,-ke,Qe],[2*ke-fe,0],[-ke*_t,0,-ke,-Qe*_t,-ke,-Qe],[0,2*Qe-be],[0,-Qe*_t,ke*_t,-Qe,ke,-Qe]],E+ke,K,[1,1],Xe,!0),this},h.__private__.ellipse=h.ellipse=function(E,K,fe,be,ke){if(isNaN(E)||isNaN(K)||isNaN(fe)||isNaN(be)||!er(ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qe=4/3*(Math.SQRT2-1)*fe,Xe=4/3*(Math.SQRT2-1)*be;return Nu(E+fe,K),ko(E+fe,K-Xe,E+Qe,K-be,E,K-be),ko(E-Qe,K-be,E-fe,K-Xe,E-fe,K),ko(E-fe,K+Xe,E-Qe,K+be,E,K+be),ko(E+Qe,K+be,E+fe,K+Xe,E+fe,K),mc(ke),this},h.__private__.circle=h.circle=function(E,K,fe,be){if(isNaN(E)||isNaN(K)||isNaN(fe)||!er(be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,K,fe,fe,be)},h.setFont=function(E,K,fe){return fe&&(K=F(K,fe)),xt=Bu(E,K,{disableWarning:!1}),this};var jd=h.__private__.getFont=h.getFont=function(){return Yt[Bu.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var E,K,fe={};for(E in sn)if(sn.hasOwnProperty(E))for(K in fe[E]=[],sn[E])sn[E].hasOwnProperty(K)&&fe[E].push(K);return fe},h.addFont=function(E,K,fe,be,ke){var Qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qe.indexOf(arguments[3])!==-1?ke=arguments[3]:arguments[3]&&Qe.indexOf(arguments[3])==-1&&(fe=F(fe,be)),rg.call(this,E,K,fe,ke=ke||"Identity-H")};var Iu,PA=t.lineWidth||.200025,H1=h.__private__.getLineWidth=h.getLineWidth=function(){return PA},st=h.__private__.setLineWidth=h.setLineWidth=function(E){return PA=E,Ae(T(W(E))+" w"),this};h.__private__.setLineDash=zt.API.setLineDash=zt.API.setLineDashPattern=function(E,K){if(E=E||[],K=K||0,isNaN(K)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(fe){return T(W(fe))}).join(" "),K=T(W(K)),Ae("["+E+"] "+K+" d"),this};var Aa=h.__private__.getLineHeight=h.getLineHeight=function(){return We*Iu};h.__private__.getLineHeight=h.getLineHeight=function(){return We*Iu};var ir=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(Iu=E),this},ig=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Iu};ir(t.lineHeight);var Ma=h.__private__.getHorizontalCoordinate=function(E){return W(E)},Qa=h.__private__.getVerticalCoordinate=function(E){return C===b?E:$t[G].mediaBox.topRightY-$t[G].mediaBox.bottomLeftY-W(E)},qf=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(E){return T(Ma(E))},gc=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(E){return T(Qa(E))},Eu=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return aa(Eu)},h.__private__.setStrokeColor=h.setDrawColor=function(E,K,fe,be){return Eu=la({ch1:E,ch2:K,ch3:fe,ch4:be,pdfColorType:"draw",precision:2}),Ae(Eu),this};var yc=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return aa(yc)},h.__private__.setFillColor=h.setFillColor=function(E,K,fe,be){return yc=la({ch1:E,ch2:K,ch3:fe,ch4:be,pdfColorType:"fill",precision:2}),Ae(yc),this};var Ur=t.textColor||"0 g",wc=h.__private__.getTextColor=h.getTextColor=function(){return aa(Ur)};h.__private__.setTextColor=h.setTextColor=function(E,K,fe,be){return Ur=la({ch1:E,ch2:K,ch3:fe,ch4:be,pdfColorType:"text",precision:3}),this};var Sl=t.charSpace,og=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Sl||0)};h.__private__.setCharSpace=h.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Sl=E,this};var Xf=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(E){var K=h.CapJoinStyles[E];if(K===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xf=K,Ae(K+" J"),this};var Hd=0;h.__private__.setLineJoin=h.setLineJoin=function(E){var K=h.CapJoinStyles[E];if(K===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hd=K,Ae(K+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ae(T(W(E))+" M"),this},h.GState=S_,h.setGState=function(E){(E=typeof E=="string"?Kt[nn[E]]:zd(null,E)).equals(Ar)||(Ae("/"+E.id+" gs"),Ar=E)};var zd=function(E,K){if(!E||!nn[E]){var fe=!1;for(var be in Kt)if(Kt.hasOwnProperty(be)&&Kt[be].equals(K)){fe=!0;break}if(fe)K=Kt[be];else{var ke="GS"+(Object.keys(Kt).length+1).toString(10);Kt[ke]=K,K.id=ke}return E&&(nn[E]=K.id),zn.publish("addGState",K),K}};h.addGState=function(E,K){return zd(E,K),this},h.saveGraphicsState=function(){return Ae("q"),Gn.push({key:xt,size:We,color:Ur}),this},h.restoreGraphicsState=function(){Ae("Q");var E=Gn.pop();return xt=E.key,We=E.size,Ur=E.color,Ar=null,this},h.setCurrentTransformationMatrix=function(E){return Ae(E.toString()+" cm"),this},h.comment=function(E){return Ae("#"+E),this};var vc=function(E,K){var fe=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function(Qe){isNaN(Qe)||(fe=parseFloat(Qe))}});var be=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return be},set:function(Qe){isNaN(Qe)||(be=parseFloat(Qe))}});var ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ke},set:function(Qe){ke=Qe.toString()}}),this},Vd=function(E,K,fe,be){vc.call(this,E,K),this.type="rect";var ke=fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ke},set:function(Xe){isNaN(Xe)||(ke=parseFloat(Xe))}});var Qe=be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qe},set:function(Xe){isNaN(Xe)||(Qe=parseFloat(Xe))}}),this},vn=function(){this.page=dn,this.currentPage=G,this.pages=Ee.slice(0),this.pagesContext=$t.slice(0),this.x=St,this.y=vr,this.matrix=An,this.width=xc(G),this.height=ag(G),this.outputDestination=ze,this.id="",this.objectNumber=-1};vn.prototype.restore=function(){dn=this.page,G=this.currentPage,$t=this.pagesContext,Ee=this.pages,St=this.x,vr=this.y,An=this.matrix,Zf(G,this.width),ja(G,this.height),ze=this.outputDestination};var Yf=function(E,K,fe,be,ke){Kr.push(new vn),dn=G=0,Ee=[],St=E,vr=K,An=ke,zf([fe,be])};for(var si in h.beginFormObject=function(E,K,fe,be,ke){return Yf(E,K,fe,be,ke),this},h.endFormObject=function(E){return function(K){if(On[K])Kr.pop().restore();else{var fe=new vn,be="Xo"+(Object.keys(on).length+1).toString(10);fe.id=be,On[K]=be,on[be]=fe,zn.publish("addFormObject",fe),Kr.pop().restore()}}(E),this},h.doFormObject=function(E,K){var fe=on[On[E]];return Ae("q"),Ae(K.toString()+" cm"),Ae("/"+fe.id+" Do"),Ae("Q"),this},h.getFormObject=function(E){var K=on[On[E]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},h.save=function(E,K){return E=E||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(gp(an(ua()),E),typeof gp.unload=="function"&&ln.setTimeout&&setTimeout(gp.unload,911),this):new Promise(function(fe,be){try{var ke=gp(an(ua()),E);typeof gp.unload=="function"&&ln.setTimeout&&setTimeout(gp.unload,911),fe(ke)}catch(Qe){be(Qe.message)}})},zt.API)zt.API.hasOwnProperty(si)&&(si==="events"&&zt.API.events.length?function(E,K){var fe,be,ke;for(ke=K.length-1;ke!==-1;ke--)fe=K[ke][0],be=K[ke][1],E.subscribe.apply(E,[fe].concat(typeof be=="function"?[be]:be))}(zn,zt.API.events):h[si]=zt.API[si]);function xc(E){return $t[E].mediaBox.topRightX-$t[E].mediaBox.bottomLeftX}function Zf(E,K){$t[E].mediaBox.topRightX=K+$t[E].mediaBox.bottomLeftX}function ag(E){return $t[E].mediaBox.topRightY-$t[E].mediaBox.bottomLeftY}function ja(E,K){$t[E].mediaBox.topRightY=K+$t[E].mediaBox.bottomLeftY}var bc=h.getPageWidth=function(E){return xc(E=E||G)/Gt},Jf=h.setPageWidth=function(E,K){Zf(E,K*Gt)},RA=h.getPageHeight=function(E){return ag(E=E||G)/Gt},lg=h.setPageHeight=function(E,K){ja(E,K*Gt)};return h.internal={pdfEscape:ca,getStyle:bl,getFont:jd,getFontSize:at,getCharSpace:og,getTextColor:wc,getLineHeight:Aa,getLineHeightFactor:ig,getLineWidth:H1,write:Ge,getHorizontalCoordinate:Ma,getVerticalCoordinate:Qa,getCoordinateString:qf,getVerticalCoordinateString:gc,collections:{},newObject:Kn,newAdditionalObject:Su,newObjectDeferred:ht,newObjectDeferredBegin:zs,getFilters:xi,putStream:Eo,events:zn,scaleFactor:Gt,pageSize:{getWidth:function(){return bc(G)},setWidth:function(E){Jf(G,E)},getHeight:function(){return RA(G)},setHeight:function(E){lg(G,E)}},encryptionOptions:u,encryption:qr,getEncryptor:function(E){return u!==null?qr.encryptor(E,0):function(K){return K}},output:Fr,getNumberOfPages:Wf,get pages(){return Ee},out:Ae,f2:R,f3:U,getPageInfo:fs,getPageInfoByObjId:sg,getCurrentPageInfo:Md,getPDFVersion:m,Point:vc,Rectangle:Vd,Matrix:Bt,hasHotfix:to},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return bc(G)},set:function(E){Jf(G,E)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return RA(G)},set:function(E){lg(G,E)},enumerable:!0,configurable:!0}),(function(E){for(var K=0,fe=rt.length;K<fe;K++){var be=rg.call(this,E[K][0],E[K][1],E[K][2],rt[K][3],!0);A===!1&&(d[be]=!0);var ke=E[K][0].split("-");ng({id:be,fontName:ke[0],fontStyle:ke[1]||""})}zn.publish("addFonts",{fonts:Yt,dictionary:sn})}).call(h,rt),xt="F1",$d(s,n),zn.publish("initialized"),h}Rg.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Rg.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Rg.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Rg.prototype.processOwnerPassword=function(t,e){return D3(L3(e).substr(0,5),t)},Rg.prototype.encryptor=function(t,e){var n=L3(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return D3(n,r)}},S_.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||mr(t)!==mr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},zt.API={events:[]},zt.version="4.0.0";var xs=zt.API,sR=1,Um=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kg=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},fn=function(t){return t.toFixed(2)},lh=function(t){return t.toFixed(5)};xs.__acroform__={};var Oa=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},iH=function(t){return t*sR},Uu=function(t){var e=new pJ,n=Tt.internal.getHeight(t)||0,r=Tt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(fn(r)),Number(fn(n))],e},oke=xs.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},ake=xs.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},lke=xs.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Os=xs.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return lke(t,e-1)},$s=xs.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return oke(t,e-1)},Us=xs.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ake(t,e-1)},cke=xs.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=t[0],i=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(s)||0,l.lowerLeft_Y=r(i+a)||0,l.upperRight_X=n(s+o)||0,l.upperRight_Y=r(i)||0,[Number(fn(l.lowerLeft_X)),Number(fn(l.lowerLeft_Y)),Number(fn(l.upperRight_X)),Number(fn(l.upperRight_Y))]},uke=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=P3(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+fn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Uu(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},P3=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(R){return R.split(`
`)}):s.map(function(R){return[R]});var i=n,o=Tt.internal.getHeight(t)||0;o=o<0?-o:o;var a=Tt.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(R,U,W){if(R+1<s.length){var $=U+" "+s[R+1][0];return mS($,t,W).width<=a-4}return!1};i++;e:for(;i>0;){e="",i--;var c,u,A=mS("3",t,i).height,d=t.multiline?o-i:(o-A)/2,h=d+=2,p=0,m=0,y=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+mS(e,t,i=12).width+", FieldWidth:"+a+`
`;break}for(var g="",v=0,b=0;b<s.length;b++)if(s.hasOwnProperty(b)){var C=!1;if(s[b].length!==1&&y!==s[b].length-1){if((A+2)*(v+2)+2>o)continue e;g+=s[b][y],C=!0,m=b,b--}else{g=(g+=s[b][y]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var _=parseInt(b),I=l(_,g,i),F=b>=s.length-1;if(I&&!F){g+=" ",y=0;continue}if(I||F){if(F)m=_;else if(t.multiline&&(A+2)*(v+2)+2>o)continue e}else{if(!t.multiline||(A+2)*(v+2)+2>o)continue e;m=_}}for(var T="",D=p;D<=m;D++){var H=s[D];if(t.multiline){if(D===m){T+=H[y]+" ",y=(y+1)%H.length;continue}if(D===p){T+=H[H.length-1]+" ";continue}}T+=H[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,u=mS(T,t,i).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=fn(c)+" "+fn(h)+` Td
`,e+="("+Um(T)+`) Tj
`,e+=-fn(c)+` 0 Td
`,h=-(i+2),u=0,p=C?m:m+1,v++,g=""}break}return r.text=e,r.fontSize=i,r},mS=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},Ake={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},dke=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},hke=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(yu.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Ake)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");sR=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new mJ,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&dke(i,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,s){var i=!r;for(var o in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=cke(a.Rect,s)),s.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Tt.createDefaultAppearanceStream(a),mr(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=uke(a);l.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var A="";for(var d in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(d)){var h=a.appearanceStreamContent[d];if(A+="/"+d+" ",A+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var p=h[o];typeof p=="function"&&(p=p.call(s,a)),A+="/"+o+" "+p+" ",s.internal.acroformPlugin.xForms.indexOf(p)>=0||s.internal.acroformPlugin.xForms.push(p)}}else typeof(p=h)=="function"&&(p=p.call(s,a)),A+="/"+o+" "+p,s.internal.acroformPlugin.xForms.indexOf(p)>=0||s.internal.acroformPlugin.xForms.push(p);A+=">>"}l.push({key:"AP",value:`<<
`+A+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:a.objId}),s.internal.out("endobj")}i&&function(m,y){for(var g in m)if(m.hasOwnProperty(g)){var v=g,b=m[g];y.internal.newObjectDeferredBegin(b.objId,!0),mr(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete m[v]}}(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},fJ=xs.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),mr(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),s+="("+Um(r(t[i].toString()))+")"):s+=t[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},D5=function(t,e,n){var r=function(s){return s};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Um(r(t))+")"},Ju=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ju.prototype.toString=function(){return this.objId+" 0 R"},Ju.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ju.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],s=this[r];s&&(Array.isArray(s)?t.push({key:r,value:fJ(s,this.objId,this.scope)}):s instanceof Ju?(s.scope=this.scope,t.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:r,value:s}))}return t};var pJ=function(){Ju.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Oa(pJ,Ju);var mJ=function(){Ju.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Um(n(t))+")"}},set:function(n){t=n}})};Oa(mJ,Ju);var yu=function t(){Ju.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Os(e,3)},set:function(g){g?this.F=$s(e,3):this.F=Us(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');n=g}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(g){r=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(g){r[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(g){r[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(g){r[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(g){r[3]=g}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof B_)return;i="FieldObject"+t.FieldNum++}var g=function(v){return v};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+Um(g(i))+")"},set:function(g){i=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(g){i=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(g){a=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/sR:c},set:function(g){c=g}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof B_||this instanceof Yp))return D5(A,this.objId,this.scope)},set:function(g){g=g.toString(),A=g}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Bi==0?D5(d,this.objId,this.scope):d},set:function(g){g=g.toString(),d=this instanceof Bi==0?g.substr(0,1)==="("?kg(g.substr(1,g.length-2)):kg(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bi==1?kg(d.substr(1,d.length-1)):d},set:function(g){g=g.toString(),d=this instanceof Bi==1?"/"+g:g}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Bi==0?D5(h,this.objId,this.scope):h},set:function(g){g=g.toString(),h=this instanceof Bi==0?g.substr(0,1)==="("?kg(g.substr(1,g.length-2)):kg(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bi==1?kg(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof Bi==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(g){p=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,1)},set:function(g){g?this.Ff=$s(this.Ff,1):this.Ff=Us(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,2)},set:function(g){g?this.Ff=$s(this.Ff,2):this.Ff=Us(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,3)},set:function(g){g?this.Ff=$s(this.Ff,3):this.Ff=Us(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');y=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(y){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};Oa(yu,Ju);var w0=function(){yu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return fJ(e,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(i,o,a){a||(a=1);for(var l,c=[];l=o.exec(i);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,18)},set:function(n){n?this.Ff=$s(this.Ff,18):this.Ff=Us(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=$s(this.Ff,19):this.Ff=Us(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,20)},set:function(n){n?(this.Ff=$s(this.Ff,20),e.sort()):this.Ff=Us(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,22)},set:function(n){n?this.Ff=$s(this.Ff,22):this.Ff=Us(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,23)},set:function(n){n?this.Ff=$s(this.Ff,23):this.Ff=Us(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,27)},set:function(n){n?this.Ff=$s(this.Ff,27):this.Ff=Us(this.Ff,27)}}),this.hasAppearanceStream=!1};Oa(w0,yu);var v0=function(){w0.call(this),this.fontName="helvetica",this.combo=!1};Oa(v0,w0);var x0=function(){v0.call(this),this.combo=!0};Oa(x0,v0);var uB=function(){x0.call(this),this.edit=!0};Oa(uB,x0);var Bi=function(){yu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,15)},set:function(n){n?this.Ff=$s(this.Ff,15):this.Ff=Us(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,16)},set:function(n){n?this.Ff=$s(this.Ff,16):this.Ff=Us(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,17)},set:function(n){n?this.Ff=$s(this.Ff,17):this.Ff=Us(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,26)},set:function(n){n?this.Ff=$s(this.Ff,26):this.Ff=Us(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+Um(n(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){mr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Oa(Bi,yu);var AB=function(){Bi.call(this),this.pushButton=!0};Oa(AB,Bi);var b0=function(){Bi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Oa(b0,Bi);var B_=function(){var t,e;yu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(a){return a};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),r)o.push("/"+i+" ("+Um(s(r[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){mr(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Oa(B_,yu),b0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},b0.prototype.createOption=function(t){var e=new B_;return e.Parent=this,e.optionName=t,this.Kids.push(e),fke.call(this.scope,e),e};var dB=function(){Bi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Tt.CheckBox.createAppearanceStream()};Oa(dB,Bi);var Yp=function(){yu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,13)},set:function(e){e?this.Ff=$s(this.Ff,13):this.Ff=Us(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,21)},set:function(e){e?this.Ff=$s(this.Ff,21):this.Ff=Us(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,23)},set:function(e){e?this.Ff=$s(this.Ff,23):this.Ff=Us(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,24)},set:function(e){e?this.Ff=$s(this.Ff,24):this.Ff=Us(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,25)},set:function(e){e?this.Ff=$s(this.Ff,25):this.Ff=Us(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,26)},set:function(e){e?this.Ff=$s(this.Ff,26):this.Ff=Us(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Oa(Yp,yu);var hB=function(){Yp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,14)},set:function(t){t?this.Ff=$s(this.Ff,14):this.Ff=Us(this.Ff,14)}}),this.password=!0};Oa(hB,Yp);var Tt={CheckBox:{createAppearanceStream:function(){return{N:{On:Tt.CheckBox.YesNormal},D:{On:Tt.CheckBox.YesPushDown,Off:Tt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Uu(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=P3(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+fn(Tt.internal.getWidth(t))+" "+fn(Tt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+fn(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Uu(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=[],i=Tt.internal.getHeight(t),o=Tt.internal.getWidth(t),a=P3(t,t.caption);return s.push("1 g"),s.push("0 0 "+fn(o)+" "+fn(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+fn(o-1)+" "+fn(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+fn(a.fontSize)+" Tf "+r),s.push(a.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Uu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+fn(Tt.internal.getWidth(t))+" "+fn(Tt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Tt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Tt.RadioButton.Circle.YesNormal,e.D[t]=Tt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Uu(t);e.scope=t.scope;var n=[],r=Tt.internal.getWidth(t)<=Tt.internal.getHeight(t)?Tt.internal.getWidth(t)/4:Tt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Tt.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+lh(Tt.internal.getWidth(t)/2)+" "+lh(Tt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Uu(t);e.scope=t.scope;var n=[],r=Tt.internal.getWidth(t)<=Tt.internal.getHeight(t)?Tt.internal.getWidth(t)/4:Tt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*Tt.internal.Bezier_C).toFixed(5)),o=Number((r*Tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+lh(Tt.internal.getWidth(t)/2)+" "+lh(Tt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+lh(Tt.internal.getWidth(t)/2)+" "+lh(Tt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Uu(t);e.scope=t.scope;var n=[],r=Tt.internal.getWidth(t)<=Tt.internal.getHeight(t)?Tt.internal.getWidth(t)/4:Tt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*Tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+lh(Tt.internal.getWidth(t)/2)+" "+lh(Tt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Tt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Tt.RadioButton.Cross.YesNormal,e.D[t]=Tt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Uu(t);e.scope=t.scope;var n=[],r=Tt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+fn(Tt.internal.getWidth(t)-2)+" "+fn(Tt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(fn(r.x1.x)+" "+fn(r.x1.y)+" m"),n.push(fn(r.x2.x)+" "+fn(r.x2.y)+" l"),n.push(fn(r.x4.x)+" "+fn(r.x4.y)+" m"),n.push(fn(r.x3.x)+" "+fn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Uu(t);e.scope=t.scope;var n=Tt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+fn(Tt.internal.getWidth(t))+" "+fn(Tt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+fn(Tt.internal.getWidth(t)-2)+" "+fn(Tt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(fn(n.x1.x)+" "+fn(n.x1.y)+" m"),r.push(fn(n.x2.x)+" "+fn(n.x2.y)+" l"),r.push(fn(n.x4.x)+" "+fn(n.x4.y)+" m"),r.push(fn(n.x3.x)+" "+fn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Uu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+fn(Tt.internal.getWidth(t))+" "+fn(Tt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Tt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Tt.internal.getWidth(t),n=Tt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Tt.internal.getWidth=function(t){var e=0;return mr(t)==="object"&&(e=iH(t.Rect[2])),e},Tt.internal.getHeight=function(t){var e=0;return mr(t)==="object"&&(e=iH(t.Rect[3])),e};var fke=xs.addField=function(t){if(hke(this,t),!(t instanceof yu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};xs.AcroFormChoiceField=w0,xs.AcroFormListBox=v0,xs.AcroFormComboBox=x0,xs.AcroFormEditBox=uB,xs.AcroFormButton=Bi,xs.AcroFormPushButton=AB,xs.AcroFormRadioButton=b0,xs.AcroFormCheckBox=dB,xs.AcroFormTextField=Yp,xs.AcroFormPasswordField=hB,xs.AcroFormAppearance=Tt,xs.AcroForm={ChoiceField:w0,ListBox:v0,ComboBox:x0,EditBox:uB,Button:Bi,PushButton:AB,RadioButton:b0,CheckBox:dB,TextField:Yp,PasswordField:hB,Appearance:Tt},zt.AcroForm={ChoiceField:w0,ListBox:v0,ComboBox:x0,EditBox:uB,Button:Bi,PushButton:AB,RadioButton:b0,CheckBox:dB,TextField:Yp,PasswordField:hB,Appearance:Tt};function gJ(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(R,U){var W,$,Y,J,oe,V=n;if((U=U||n)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(I(R))for(oe in r)for(Y=r[oe],W=0;W<Y.length;W+=1){for(J=!0,$=0;$<Y[W].length;$+=1)if(Y[W][$]!==void 0&&Y[W][$]!==R[$]){J=!1;break}if(J===!0){V=oe;break}}else for(oe in r)for(Y=r[oe],W=0;W<Y.length;W+=1){for(J=!0,$=0;$<Y[W].length;$+=1)if(Y[W][$]!==void 0&&Y[W][$]!==R.charCodeAt($)){J=!1;break}if(J===!0){V=oe;break}}return V===n&&U!==n&&(V=U),V},i=function R(U){for(var W=this.internal.write,$=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:U.width}),J.push({key:"Height",value:U.height}),U.colorSpace===g.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===g.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)&&U.transparency.length>0){for(var oe="",V=0,Z=U.transparency.length;V<Z;V++)oe+=U.transparency[V]+" "+U.transparency[V]+" ";J.push({key:"Mask",value:"["+oe+"]"})}U.sMask!==void 0&&J.push({key:"SMask",value:U.objectId+1+" 0 R"});var le=U.filter!==void 0?["/"+U.filter]:void 0;if($({data:U.data,additionalKeyValues:J,alreadyAppliedFilters:le,objectId:U.objectId}),W("endobj"),"sMask"in U&&U.sMask!==void 0){var ce,M=(ce=U.sMaskBitsPerComponent)!==null&&ce!==void 0?ce:U.bitsPerComponent,G={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:U.sMask};"filter"in U&&(G.decodeParameters="/Predictor ".concat(U.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(U.width),G.filter=U.filter),R.call(this,G)}if(U.colorSpace===g.INDEXED){var X=this.internal.newObject();$({data:T(new Uint8Array(U.palette)),objectId:X}),W("endobj")}},o=function(){var R=this.internal.collections[e+"images"];for(var U in R)i.call(this,R[U])},a=function(){var R,U=this.internal.collections[e+"images"],W=this.internal.write;for(var $ in U)W("/I"+(R=U[$]).index,R.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var R=this.internal.collections[e+"images"];return l.call(this),R},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},A=function(R){return typeof t["process"+R.toUpperCase()]=="function"},d=function(R){return mr(R)==="object"&&R.nodeType===1},h=function(R,U){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var W=""+R.getAttribute("src");if(W.indexOf("data:image/")===0)return cB(unescape(W).split("base64,").pop());var $=t.loadFile(W,!0);if($!==void 0)return $}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var Y;switch(U){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return cB(R.toDataURL(Y,1).split("base64,").pop())}},p=function(R){var U=this.internal.collections[e+"images"];if(U){for(var W in U)if(R===U[W].alias)return U[W]}},m=function(R,U,W){return R||U||(R=-96,U=-96),R<0&&(R=-1*W.width*72/R/this.internal.scaleFactor),U<0&&(U=-1*W.height*72/U/this.internal.scaleFactor),R===0&&(R=U*W.width/W.height),U===0&&(U=R*W.height/W.width),[R,U]},y=function(R,U,W,$,Y,J){var oe=m.call(this,W,$,Y),V=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,le=c.call(this);if(W=oe[0],$=oe[1],le[Y.index]=Y,J){J*=Math.PI/180;var ce=Math.cos(J),M=Math.sin(J),G=function(re){return re.toFixed(4)},X=[G(ce),G(M),G(-1*M),G(ce),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,V(R),Z(U+$),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([V(W),"0","0",V($),"0","0","cm"].join(" "))):this.internal.write([V(W),"0","0",V($),V(R),Z(U+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(R){var U,W,$=0;if(typeof R=="string")for(W=R.length,U=0;U<W;U++)$=($<<5)-$+R.charCodeAt(U),$|=0;else if(I(R))for(W=R.byteLength/2,U=0;U<W;U++)$=($<<5)-$+R[U],$|=0;return $},C=t.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var U=!0;return R.length===0&&(U=!1),R.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(U=!1),U},_=t.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var U=R.indexOf(",");return U<0?null:R.substring(0,U).trim().endsWith("base64")?R.substring(U+1):null};t.__addimage__.isArrayBuffer=function(R){return R instanceof ArrayBuffer};var I=t.__addimage__.isArrayBufferView=function(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array},F=t.__addimage__.binaryStringToUint8Array=function(R){for(var U=R.length,W=new Uint8Array(U),$=0;$<U;$++)W[$]=R.charCodeAt($);return W},T=t.__addimage__.arrayBufferToBinaryString=function(R){for(var U="",W=I(R)?R:new Uint8Array(R),$=0;$<W.length;$+=8192)U+=String.fromCharCode.apply(null,W.subarray($,$+8192));return U};t.addImage=function(){var R,U,W,$,Y,J,oe,V,Z;if(typeof arguments[1]=="number"?(U=n,W=arguments[1],$=arguments[2],Y=arguments[3],J=arguments[4],oe=arguments[5],V=arguments[6],Z=arguments[7]):(U=arguments[1],W=arguments[2],$=arguments[3],Y=arguments[4],J=arguments[5],oe=arguments[6],V=arguments[7],Z=arguments[8]),mr(R=arguments[0])==="object"&&!d(R)&&"imageData"in R){var le=R;R=le.imageData,U=le.format||U||n,W=le.x||W||0,$=le.y||$||0,Y=le.w||le.width||Y,J=le.h||le.height||J,oe=le.alias||oe,V=le.compression||V,Z=le.rotation||le.angle||Z}var ce=this.internal.getFilters();if(V===void 0&&ce.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(W)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=D.call(this,R,U,oe,V);return y.call(this,W,$,Y,J,M,Z),this};var D=function(R,U,W,$){var Y,J,oe;if(typeof R=="string"&&s(R)===n){R=unescape(R);var V=H(R,!1);(V!==""||(V=t.loadFile(R,!0))!==void 0)&&(R=V)}if(d(R)&&(R=h(R,U)),U=s(R,U),!A(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((oe=W)==null||oe.length===0)&&(W=function(Z){return typeof Z=="string"||I(Z)?b(Z):I(Z.data)?b(Z.data):null}(R)),(Y=p.call(this,W))||(R instanceof Uint8Array||U==="RGBA"||(J=R,R=F(R)),Y=this["process"+U.toUpperCase()](R,u.call(this),W,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in t.image_compression?Z:v.NONE}($),J)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},H=t.__addimage__.convertBase64ToBinaryString=function(R,U){U=typeof U!="boolean"||U;var W,$="";if(typeof R=="string"){var Y;W=(Y=_(R))!==null&&Y!==void 0?Y:R;try{$=cB(W)}catch(J){if(U)throw C(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};t.getImageProperties=function(R){var U,W,$="";if(d(R)&&(R=h(R)),typeof R=="string"&&s(R)===n&&(($=H(R,!1))===""&&($=t.loadFile(R)||""),R=$),W=s(R),!A(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(R instanceof Uint8Array||(R=F(R)),!(U=this["process"+W.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=W,U}})(zt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};zt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,s,i,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,A=0;A<c.length&&!u;A++)switch((r=c[A]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var d=0;d<c.length;d++){r=c[d];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),v=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+h(g(r.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+h(g(v))+") >>",m.content=i;var b=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+b,r.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(m.objId,"0 R",y.objId,"0 R");break;case"freetext":s="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var C=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+h(p(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var _=this.annotations._nameMap[r.options.name];r.options.pageNumber=_.page,r.options.top=_.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var I=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+I+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,s,i,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+s),h:c(r+i)},options:o,type:"link"})},t.textWithLink=function(n,r,s,i){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){a=i.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(n,r,s,i),s+=.2*c,i.align==="center"&&(r-=l/2),i.align==="right"&&(r-=l),this.link(r,s-c,a,o,i),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(zt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},a=t.__arabicParser__.isArabicEndLetter=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return o(m)&&s.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length==4},A=t.__arabicParser__.resolveLigatures=function(m){var y=0,g=n,v="",b=0;for(y=0;y<m.length;y+=1)g[m.charCodeAt(y)]!==void 0?(b++,typeof(g=g[m.charCodeAt(y)])=="number"&&(v+=String.fromCharCode(g),g=n,b=0),y===m.length-1&&(g=n,v+=m.charAt(y-(b-1)),y-=b-1,b=0)):(g=n,v+=m.charAt(y-b),y-=b,b=0);return v};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&r[m.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(m,y,g){return o(m)?i(m)===!1?-1:!c(m)||!o(y)&&!o(g)||!o(g)&&a(y)||a(m)&&!o(y)||a(m)&&l(y)||a(m)&&a(y)?0:u(m)&&o(y)&&!a(y)&&o(g)&&c(g)?3:a(m)||!o(g)?1:2:-1},h=function(m){var y=0,g=0,v=0,b="",C="",_="",I=(m=m||"").split("\\s+"),F=[];for(y=0;y<I.length;y+=1){for(F.push(""),g=0;g<I[y].length;g+=1)b=I[y][g],C=I[y][g-1],_=I[y][g+1],o(b)?(v=d(b,C,_),F[y]+=v!==-1?String.fromCharCode(e[b.charCodeAt(0)][v]):b):F[y]+=b;F[y]=A(F[y])}return F.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var m,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(y)){var v=0;for(g=[],v=0;v<y.length;v+=1)Array.isArray(y[v])?g.push([h(y[v][0]),y[v][1],y[v][2]]):g.push([h(y[v])]);m=g}else m=h(y);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",p])}(zt.API),zt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(a){s=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(a){i=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(zt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(m){A=m}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(m){p=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),A=c.font||this.getFont(),d=c.scaleFactor||this.internal.scaleFactor,h=0,p=0,m=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=c.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,C){return b.concat(y.splitTextToSize(C,g))},[])):l=Array.isArray(l)?l:[l];for(var v=0;v<l.length;v++)h<(m=this.getStringUnitWidth(l[v],{font:A})*u)&&(h=m);return h!==0&&(p=l.length),{w:h/=d,h:Math.max((p*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,A=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=A.top,h&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,A,d){if(r.call(this),!u)throw new Error("No data for PDF table.");var h,p,m,y,g=[],v=[],b=[],C={},_={},I=[],F=[],T=(d=d||{}).autoSize||!1,D=d.printHeaders!==!1,H=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,R=d.margins||Object.assign({width:this.getPageWidth()},e),U=typeof d.padding=="number"?d.padding:3,W=d.headerBackgroundColor||"#c8c8c8",$=d.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=$,this.setFontSize(H),A==null)v=g=Object.keys(u[0]),b=g.map(function(){return"left"});else if(Array.isArray(A)&&mr(A[0])==="object")for(g=A.map(function(le){return le.name}),v=A.map(function(le){return le.prompt||le.name||""}),b=A.map(function(le){return le.align||"left"}),h=0;h<A.length;h+=1)_[A[h].name]=.7499990551181103*A[h].width;else Array.isArray(A)&&typeof A[0]=="string"&&(v=g=A,b=g.map(function(){return"left"}));if(T||Array.isArray(A)&&typeof A[0]=="string")for(h=0;h<g.length;h+=1){for(C[y=g[h]]=u.map(function(le){return le[y]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(v[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=C[y],this.setFont(void 0,"normal"),m=0;m<p.length;m+=1)I.push(this.getTextDimensions(p[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[y]=Math.max.apply(null,I)+U+U,I=[]}if(D){var Y={};for(h=0;h<g.length;h+=1)Y[g[h]]={},Y[g[h]].text=v[h],Y[g[h]].align=b[h];var J=a.call(this,Y,_);F=g.map(function(le){return new i(l,c,_[le],J,Y[le].text,void 0,Y[le].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var oe=A.reduce(function(le,ce){return le[ce.name]=ce.align,le},{});for(h=0;h<u.length;h+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:h,data:u[h]},this);var V=a.call(this,u[h],_);for(m=0;m<g.length;m+=1){var Z=u[h][g[m]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:h,col:m,data:Z},this),o.call(this,new i(l,c,_[g[m]],V,Z,h+2,oe[g[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(h){var p=l[h];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*A/d+u+u},this).reduce(function(h,p){return Math.max(h,p)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,d.push(u)),u.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(p)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),n=!1}}(zt.API);var yJ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},wJ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],R3=gJ(wJ),vJ=[100,200,300,400,500,600,700,800,900],pke=gJ(vJ);function P5(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return yJ[i=i||"normal"]?i:"normal"}(t.style),r=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(t.weight),s=function(i){return typeof R3[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,r].join(" ")}}}function oH(t,e,n,r){var s;for(s=n;s>=0&&s<e.length;s+=r)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=r)if(t[e[s]])return t[e[s]]}var mke={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},aH={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function lH(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function cH(t){return t.trimLeft()}function gke(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function yke(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var gS,uH,AH,Tg,yS,dH,hH,fH,R5=["times"];function pH(t,e,n,r,s){var i=4,o=gH;switch(s){case zt.API.image_compression.FAST:i=1,o=mH;break;case zt.API.image_compression.MEDIUM:i=6,o=yH;break;case zt.API.image_compression.SLOW:i=9,o=wH}t=function(l,c,u,A){for(var d,h=l.length/c,p=new Uint8Array(l.length+h),m=[wke,mH,gH,yH,wH],y=0;y<h;y+=1){var g=y*c,v=l.subarray(g,g+c);if(A)p.set(A(v,u,d),g+y);else{for(var b=m.length,C=[],_=0;_<b;_+=1)C[_]=m[_](v,u,d);var I=xke(C.concat());p.set(C[I],g+y)}d=v}return p}(t,e,Math.ceil(n*r/8),o);var a=C3(t,{level:i});return zt.API.__addimage__.arrayBufferToBinaryString(a)}function wke(t){var e=Array.apply([],t);return e.unshift(0),e}function mH(t,e){var n=t.length,r=[];r[0]=1;for(var s=0;s<n;s+=1){var i=t[s-e]||0;r[s+1]=t[s]-i+256&255}return r}function gH(t,e,n){var r=t.length,s=[];s[0]=2;for(var i=0;i<r;i+=1){var o=n&&n[i]||0;s[i+1]=t[i]-o+256&255}return s}function yH(t,e,n){var r=t.length,s=[];s[0]=3;for(var i=0;i<r;i+=1){var o=t[i-e]||0,a=n&&n[i]||0;s[i+1]=t[i]+256-(o+a>>>1)&255}return s}function wH(t,e,n){var r=t.length,s=[];s[0]=4;for(var i=0;i<r;i+=1){var o=vke(t[i-e]||0,n&&n[i]||0,n&&n[i-e]||0);s[i+1]=t[i]-o+256&255}return s}function vke(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),s=Math.abs(t-n),i=Math.abs(t+e-n-n);return r<=s&&r<=i?t:s<=i?e:n}function xke(t){var e=t.map(function(n){return n.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function O5(t,e,n){var r=e*n,s=Math.floor(r/8),i=16-(r-8*s+n),o=(1<<n)-1;return xJ(t,s)>>i&o}function vH(t,e,n,r){var s=n*r,i=Math.floor(s/8),o=16-(s-8*i+r),a=(1<<r)-1,l=(e&a)<<o;(function(c,u,A){if(u+1<c.byteLength)c.setUint16(u,A,!1);else{var d=A>>8&255;c.setUint8(u,d)}})(t,i,xJ(t,i)&~(a<<o)&65535|l)}function xJ(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function bke(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,o=1<<1+(7&s);t[e++],t[e++];var a=null,l=null;i&&(a=e,l=o,e+=3*o);var c=!0,u=[],A=0,d=null,h=0,p=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((R=t[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];A=t[e++]|t[e++]<<8,d=t[e++],1&m||(d=null),h=m>>2&7,e++;break;case 254:for(;;){if(!((R=t[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,C=t[e++],_=C>>6&1,I=1<<1+(7&C),F=a,T=l,D=!1;C>>7&&(D=!0,F=e,T=I,e+=3*I);var H=e;for(e++;;){var R;if(!((R=t[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}u.push({x:y,y:g,width:v,height:b,has_local_palette:D,palette_offset:F,palette_size:T,data_offset:H,data_length:e-H,transparent_index:d,interlaced:!!_,delay:A,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(U){if(U<0||U>=u.length)throw new Error("Frame index out of range.");return u[U]},this.decodeAndBlitFrameBGRA=function(U,W){var $=this.frameInfo(U),Y=$.width*$.height,J=new Uint8Array(Y);xH(t,$.data_offset,J,Y);var oe=$.palette_offset,V=$.transparent_index;V===null&&(V=256);var Z=$.width,le=n-Z,ce=Z,M=4*($.y*n+$.x),G=4*(($.y+$.height)*n+$.x),X=M,re=4*le;$.interlaced===!0&&(re+=4*n*7);for(var ue=8,de=0,we=J.length;de<we;++de){var Ce=J[de];if(ce===0&&(ce=Z,(X+=re)>=G&&(re=4*le+4*n*(ue-1),X=M+(Z+le)*(ue<<1),ue>>=1)),Ce===V)X+=4;else{var Ne=t[oe+3*Ce],Ee=t[oe+3*Ce+1],Ue=t[oe+3*Ce+2];W[X++]=Ue,W[X++]=Ee,W[X++]=Ne,W[X++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(U,W){var $=this.frameInfo(U),Y=$.width*$.height,J=new Uint8Array(Y);xH(t,$.data_offset,J,Y);var oe=$.palette_offset,V=$.transparent_index;V===null&&(V=256);var Z=$.width,le=n-Z,ce=Z,M=4*($.y*n+$.x),G=4*(($.y+$.height)*n+$.x),X=M,re=4*le;$.interlaced===!0&&(re+=4*n*7);for(var ue=8,de=0,we=J.length;de<we;++de){var Ce=J[de];if(ce===0&&(ce=Z,(X+=re)>=G&&(re=4*le+4*n*(ue-1),X=M+(Z+le)*(ue<<1),ue>>=1)),Ce===V)X+=4;else{var Ne=t[oe+3*Ce],Ee=t[oe+3*Ce+1],Ue=t[oe+3*Ce+2];W[X++]=Ne,W[X++]=Ee,W[X++]=Ue,W[X++]=255}--ce}}}function xH(t,e,n,r){for(var s=t[e++],i=1<<s,o=i+1,a=o+1,l=s+1,c=(1<<l)-1,u=0,A=0,d=0,h=t[e++],p=new Int32Array(4096),m=null;;){for(;u<16&&h!==0;)A|=t[e++]<<u,u+=8,h===1?h=t[e++]:--h;if(u<l)break;var y=A&c;if(A>>=l,u-=l,y!==i){if(y===o)break;for(var g=y<a?y:m,v=0,b=g;b>i;)b=p[b]>>8,++v;var C=b;if(d+v+(g!==y?1:0)>r)return void _r.log("Warning, gif stream longer than expected.");n[d++]=C;var _=d+=v;for(g!==y&&(n[d++]=C),b=g;v--;)b=p[b],n[--_]=255&b,b>>=8;m!==null&&a<4096&&(p[a++]=m<<8|C,a>=c+1&&l<12&&(++l,c=c<<1|1)),m=y}else a=o+1,c=(1<<(l=s+1))-1,m=null}return d!==r&&_r.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $5(t){var e,n,r,s,i,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),A=new Array(65535),d=new Array(65535),h=new Array(64),p=new Array(64),m=[],y=0,g=7,v=new Array(64),b=new Array(64),C=new Array(64),_=new Array(256),I=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(M,G){for(var X=0,re=0,ue=new Array,de=1;de<=16;de++){for(var we=1;we<=M[de];we++)ue[G[re]]=[],ue[G[re]][0]=X,ue[G[re]][1]=de,re++,X++;X*=2}return ue}function oe(M){for(var G=M[0],X=M[1]-1;X>=0;)G&1<<X&&(y|=1<<g),X--,--g<0&&(y==255?(V(255),V(0)):V(y),g=7,y=0)}function V(M){m.push(M)}function Z(M){V(M>>8&255),V(255&M)}function le(M,G,X,re,ue){for(var de,we=ue[0],Ce=ue[240],Ne=function(We,dt){var at,gt,mt,cn,Zt,vt,Wt,Jt,xt,Gt,St=0;for(xt=0;xt<8;++xt){at=We[St],gt=We[St+1],mt=We[St+2],cn=We[St+3],Zt=We[St+4],vt=We[St+5],Wt=We[St+6];var vr=at+(Jt=We[St+7]),An=at-Jt,Yt=gt+Wt,sn=gt-Wt,Gn=mt+vt,Ot=mt-vt,rr=cn+Zt,Kt=cn-Zt,nn=vr+rr,Ar=vr-rr,dn=Yt+Gn,$t=Yt-Gn;We[St]=nn+dn,We[St+4]=nn-dn;var zn=.707106781*($t+Ar);We[St+2]=Ar+zn,We[St+6]=Ar-zn;var qt=.382683433*((nn=Kt+Ot)-($t=sn+An)),on=.5411961*nn+qt,On=1.306562965*$t+qt,Kr=.707106781*(dn=Ot+sn),Bt=An+Kr,Hs=An-Kr;We[St+5]=Hs+on,We[St+3]=Hs-on,We[St+1]=Bt+On,We[St+7]=Bt-On,St+=8}for(St=0,xt=0;xt<8;++xt){at=We[St],gt=We[St+8],mt=We[St+16],cn=We[St+24],Zt=We[St+32],vt=We[St+40],Wt=We[St+48];var ri=at+(Jt=We[St+56]),Tr=at-Jt,ss=gt+Wt,Kn=gt-Wt,ht=mt+vt,zs=mt-vt,Su=cn+Zt,dc=cn-Zt,oa=ri+Su,aa=ri-Su,la=ss+ht,xi=ss-ht;We[St]=oa+la,We[St+32]=oa-la;var Eo=.707106781*(xi+aa);We[St+16]=aa+Eo,We[St+48]=aa-Eo;var TA=.382683433*((oa=dc+zs)-(xi=Kn+Tr)),xl=.5411961*oa+TA,FA=1.306562965*xi+TA,Pd=.707106781*(la=zs+Kn),LA=Tr+Pd,Rd=Tr-Pd;We[St+40]=Rd+xl,We[St+24]=Rd-xl,We[St+8]=LA+FA,We[St+56]=LA-FA,St++}for(xt=0;xt<64;++xt)Gt=We[xt]*dt[xt],h[xt]=Gt>0?Gt+.5|0:Gt-.5|0;return h}(M,G),Ee=0;Ee<64;++Ee)p[F[Ee]]=Ne[Ee];var Ue=p[0]-X;X=p[0],Ue==0?oe(re[0]):(oe(re[d[de=32767+Ue]]),oe(A[de]));for(var ze=63;ze>0&&p[ze]==0;)ze--;if(ze==0)return oe(we),X;for(var tt,Ae=1;Ae<=ze;){for(var Ge=Ae;p[Ae]==0&&Ae<=ze;)++Ae;var At=Ae-Ge;if(At>=16){tt=At>>4;for(var rt=1;rt<=tt;++rt)oe(Ce);At&=15}de=32767+p[Ae],oe(ue[(At<<4)+d[de]]),oe(A[de]),Ae++}return ze!=63&&oe(we),X}function ce(M){M=Math.min(Math.max(M,1),100),i!=M&&(function(G){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var ue=o((X[re]*G+50)/100);ue=Math.min(Math.max(ue,1),255),a[F[re]]=ue}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var Ce=o((de[we]*G+50)/100);Ce=Math.min(Math.max(Ce,1),255),l[F[we]]=Ce}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,Ue=0;Ue<8;Ue++)for(var ze=0;ze<8;ze++)c[Ee]=1/(a[F[Ee]]*Ne[Ue]*Ne[ze]*8),u[Ee]=1/(l[F[Ee]]*Ne[Ue]*Ne[ze]*8),Ee++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),i=M)}this.encode=function(M,G){G&&ce(G),m=new Array,y=0,g=7,Z(65496),Z(65504),Z(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),Z(1),Z(1),V(0),V(0),function(){Z(65499),Z(132),V(0);for(var gt=0;gt<64;gt++)V(a[gt]);V(1);for(var mt=0;mt<64;mt++)V(l[mt])}(),function(gt,mt){Z(65472),Z(17),V(8),Z(mt),Z(gt),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(M.width,M.height),function(){Z(65476),Z(418),V(0);for(var gt=0;gt<16;gt++)V(T[gt+1]);for(var mt=0;mt<=11;mt++)V(D[mt]);V(16);for(var cn=0;cn<16;cn++)V(H[cn+1]);for(var Zt=0;Zt<=161;Zt++)V(R[Zt]);V(1);for(var vt=0;vt<16;vt++)V(U[vt+1]);for(var Wt=0;Wt<=11;Wt++)V(W[Wt]);V(17);for(var Jt=0;Jt<16;Jt++)V($[Jt+1]);for(var xt=0;xt<=161;xt++)V(Y[xt])}(),Z(65498),Z(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var X=0,re=0,ue=0;y=0,g=7,this.encode.displayName="_encode_";for(var de,we,Ce,Ne,Ee,Ue,ze,tt,Ae,Ge=M.data,At=M.width,rt=M.height,We=4*At,dt=0;dt<rt;){for(de=0;de<We;){for(Ee=We*dt+de,ze=-1,tt=0,Ae=0;Ae<64;Ae++)Ue=Ee+(tt=Ae>>3)*We+(ze=4*(7&Ae)),dt+tt>=rt&&(Ue-=We*(dt+1+tt-rt)),de+ze>=We&&(Ue-=de+ze-We+4),we=Ge[Ue++],Ce=Ge[Ue++],Ne=Ge[Ue++],v[Ae]=(I[we]+I[Ce+256|0]+I[Ne+512|0]>>16)-128,b[Ae]=(I[we+768|0]+I[Ce+1024|0]+I[Ne+1280|0]>>16)-128,C[Ae]=(I[we+1280|0]+I[Ce+1536|0]+I[Ne+1792|0]>>16)-128;X=le(v,c,X,e,r),re=le(b,u,re,n,s),ue=le(C,u,ue,n,s),de+=32}dt+=8}if(g>=0){var at=[];at[1]=g+1,at[0]=(1<<g+1)-1,oe(at)}return Z(65497),new Uint8Array(m)},t=t||50,function(){for(var M=String.fromCharCode,G=0;G<256;G++)_[G]=M(G)}(),e=J(T,D),n=J(U,W),r=J(H,R),s=J($,Y),function(){for(var M=1,G=2,X=1;X<=15;X++){for(var re=M;re<G;re++)d[32767+re]=X,A[32767+re]=[],A[32767+re][1]=X,A[32767+re][0]=re;for(var ue=-(G-1);ue<=-M;ue++)d[32767+ue]=X,A[32767+ue]=[],A[32767+ue][1]=X,A[32767+ue][0]=G-1+ue;M<<=1,G<<=1}}(),function(){for(var M=0;M<256;M++)I[M]=19595*M,I[M+256|0]=38470*M,I[M+512|0]=7471*M+32768,I[M+768|0]=-11059*M,I[M+1024|0]=-21709*M,I[M+1280|0]=32768*M+8421375,I[M+1536|0]=-27439*M,I[M+1792|0]=-5329*M}(),ce(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Oc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function bH(t){function e(D){if(!D)throw Error("assert :P")}function n(D,H,R){for(var U=0;4>U;U++)if(D[H+U]!=R.charCodeAt(U))return!0;return!1}function r(D,H,R,U,W){for(var $=0;$<W;$++)D[H+$]=R[U+$]}function s(D,H,R,U){for(var W=0;W<U;W++)D[H+W]=R}function i(D){return new Int32Array(D)}function o(D,H){for(var R=[],U=0;U<D;U++)R.push(new H);return R}function a(D,H){var R=[];return function U(W,$,Y){for(var J=Y[$],oe=0;oe<J&&(W.push(Y.length>$+1?[]:new H),!(Y.length<$+1));oe++)U(W[oe],$+1,Y)}(R,0,D),R}var l=function(){var D=this;function H(S,N){for(var P=1<<N-1>>>0;S&P;)P>>>=1;return P?(S&P-1)+P:S}function R(S,N,P,j,q){e(!(j%P));do S[N+(j-=P)]=q;while(0<j)}function U(S,N,P,j,q){if(e(2328>=q),512>=q)var te=i(512);else if((te=i(q))==null)return 0;return function(se,ae,he,pe,_e,Re){var me,Ie,Fe=ae,je=1<<he,Pe=i(16),He=i(16);for(e(_e!=0),e(pe!=null),e(se!=null),e(0<he),Ie=0;Ie<_e;++Ie){if(15<pe[Ie])return 0;++Pe[pe[Ie]]}if(Pe[0]==_e)return 0;for(He[1]=0,me=1;15>me;++me){if(Pe[me]>1<<me)return 0;He[me+1]=He[me]+Pe[me]}for(Ie=0;Ie<_e;++Ie)me=pe[Ie],0<pe[Ie]&&(Re[He[me]++]=Ie);if(He[15]==1)return(pe=new W).g=0,pe.value=Re[0],R(se,Fe,1,je,pe),je;var Ve,et=-1,Je=je-1,jt=0,Et=1,xn=1,Ut=1<<he;for(Ie=0,me=1,_e=2;me<=he;++me,_e<<=1){if(Et+=xn<<=1,0>(xn-=Pe[me]))return 0;for(;0<Pe[me];--Pe[me])(pe=new W).g=me,pe.value=Re[Ie++],R(se,Fe+jt,_e,Ut,pe),jt=H(jt,me)}for(me=he+1,_e=2;15>=me;++me,_e<<=1){if(Et+=xn<<=1,0>(xn-=Pe[me]))return 0;for(;0<Pe[me];--Pe[me]){if(pe=new W,(jt&Je)!=et){for(Fe+=Ut,Ve=1<<(et=me)-he;15>et&&!(0>=(Ve-=Pe[et]));)++et,Ve<<=1;je+=Ut=1<<(Ve=et-he),se[ae+(et=jt&Je)].g=Ve+he,se[ae+et].value=Fe-ae-et}pe.g=me-he,pe.value=Re[Ie++],R(se,Fe+(jt>>he),_e,Ut,pe),jt=H(jt,me)}}return Et!=2*He[15]-1?0:je}(S,N,P,j,q,te)}function W(){this.value=this.g=0}function $(){this.value=this.g=0}function Y(){this.G=o(5,W),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(_l,$)}function J(S,N,P,j){e(S!=null),e(N!=null),e(2147483648>j),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=N,S.pa=P,S.Jd=N,S.Yc=P+j,S.Zc=4<=j?P+j-4+1:P,we(S)}function oe(S,N){for(var P=0;0<N--;)P|=Ne(S,128)<<N;return P}function V(S,N){var P=oe(S,N);return Ce(S)?-P:P}function Z(S,N,P,j){var q,te=0;for(e(S!=null),e(N!=null),e(4294967288>j),S.Sb=j,S.Ra=0,S.u=0,S.h=0,4<j&&(j=4),q=0;q<j;++q)te+=N[P+q]<<8*q;S.Ra=te,S.bb=j,S.oa=N,S.pa=P}function le(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<Ha-8>>>0,++S.bb,S.u-=8;re(S)&&(S.h=1,S.u=0)}function ce(S,N){if(e(0<=N),!S.h&&N<=ms){var P=X(S)&To[N];return S.u+=N,le(S),P}return S.h=1,S.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(S){return S.Ra>>>(S.u&Ha-1)>>>0}function re(S){return e(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>Ha}function ue(S,N){S.u=N,S.h=re(S)}function de(S){S.u>=Ic&&(e(S.u>=Ic),le(S))}function we(S){e(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(e(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function Ce(S){return oe(S,1)}function Ne(S,N){var P=S.Ca;0>S.b&&we(S);var j=S.b,q=P*N>>>8,te=(S.I>>>j>q)+0;for(te?(P-=q,S.I-=q+1<<j>>>0):P=q+1,j=P,q=0;256<=j;)q+=8,j>>=8;return j=7^q+Nl[j],S.b-=j,S.Ca=(P<<j)-1,te}function Ee(S,N,P){S[N+0]=P>>24&255,S[N+1]=P>>16&255,S[N+2]=P>>8&255,S[N+3]=255&P}function Ue(S,N){return S[N+0]|S[N+1]<<8}function ze(S,N){return Ue(S,N)|S[N+2]<<16}function tt(S,N){return Ue(S,N)|Ue(S,N+2)<<16}function Ae(S,N){var P=1<<N;return e(S!=null),e(0<N),S.X=i(P),S.X==null?0:(S.Mb=32-N,S.Xa=N,1)}function Ge(S,N){e(S!=null),e(N!=null),e(S.Xa==N.Xa),r(N.X,0,S.X,0,1<<N.Xa)}function At(){this.X=[],this.Xa=this.Mb=0}function rt(S,N,P,j){e(P!=null),e(j!=null);var q=P[0],te=j[0];return q==0&&(q=(S*te+N/2)/N),te==0&&(te=(N*q+S/2)/S),0>=q||0>=te?0:(P[0]=q,j[0]=te,1)}function We(S,N){return S+(1<<N)-1>>>N}function dt(S,N){return((4278255360&S)+(4278255360&N)>>>0&4278255360)+((16711935&S)+(16711935&N)>>>0&16711935)>>>0}function at(S,N){D[N]=function(P,j,q,te,se,ae,he){var pe;for(pe=0;pe<se;++pe){var _e=D[S](ae[he+pe-1],q,te+pe);ae[he+pe]=dt(P[j+pe],_e)}}}function gt(){this.ud=this.hd=this.jd=0}function mt(S,N){return((4278124286&(S^N))>>>1)+(S&N)>>>0}function cn(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function Zt(S,N){return cn(S+(S-N+.5>>1))}function vt(S,N,P){return Math.abs(N-P)-Math.abs(S-P)}function Wt(S,N,P,j,q,te,se){for(j=te[se-1],P=0;P<q;++P)te[se+P]=j=dt(S[N+P],j)}function Jt(S,N,P,j,q){var te;for(te=0;te<P;++te){var se=S[N+te],ae=se>>8&255,he=16711935&(he=(he=16711935&se)+((ae<<16)+ae));j[q+te]=(4278255360&se)+he>>>0}}function xt(S,N){N.jd=255&S,N.hd=S>>8&255,N.ud=S>>16&255}function Gt(S,N,P,j,q,te){var se;for(se=0;se<j;++se){var ae=N[P+se],he=ae>>>8,pe=ae,_e=255&(_e=(_e=ae>>>16)+((S.jd<<24>>24)*(he<<24>>24)>>>5));pe=255&(pe=(pe+=(S.hd<<24>>24)*(he<<24>>24)>>>5)+((S.ud<<24>>24)*(_e<<24>>24)>>>5)),q[te+se]=(4278255360&ae)+(_e<<16)+pe}}function St(S,N,P,j,q){D[N]=function(te,se,ae,he,pe,_e,Re,me,Ie){for(he=Re;he<me;++he)for(Re=0;Re<Ie;++Re)pe[_e++]=q(ae[j(te[se++])])},D[S]=function(te,se,ae,he,pe,_e,Re){var me=8>>te.b,Ie=te.Ea,Fe=te.K[0],je=te.w;if(8>me)for(te=(1<<te.b)-1,je=(1<<me)-1;se<ae;++se){var Pe,He=0;for(Pe=0;Pe<Ie;++Pe)Pe&te||(He=j(he[pe++])),_e[Re++]=q(Fe[He&je]),He>>=me}else D["VP8LMapColor"+P](he,pe,Fe,je,_e,Re,se,ae,Ie)}}function vr(S,N,P,j,q){for(P=N+P;N<P;){var te=S[N++];j[q++]=te>>16&255,j[q++]=te>>8&255,j[q++]=255&te}}function An(S,N,P,j,q){for(P=N+P;N<P;){var te=S[N++];j[q++]=te>>16&255,j[q++]=te>>8&255,j[q++]=255&te,j[q++]=te>>24&255}}function Yt(S,N,P,j,q){for(P=N+P;N<P;){var te=(se=S[N++])>>16&240|se>>12&15,se=240&se|se>>28&15;j[q++]=te,j[q++]=se}}function sn(S,N,P,j,q){for(P=N+P;N<P;){var te=(se=S[N++])>>16&248|se>>13&7,se=se>>5&224|se>>3&31;j[q++]=te,j[q++]=se}}function Gn(S,N,P,j,q){for(P=N+P;N<P;){var te=S[N++];j[q++]=255&te,j[q++]=te>>8&255,j[q++]=te>>16&255}}function Ot(S,N,P,j,q,te){if(te==0)for(P=N+P;N<P;)Ee(j,((te=S[N++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),q+=32;else r(j,q,S,N,P)}function rr(S,N){D[N][0]=D[S+"0"],D[N][1]=D[S+"1"],D[N][2]=D[S+"2"],D[N][3]=D[S+"3"],D[N][4]=D[S+"4"],D[N][5]=D[S+"5"],D[N][6]=D[S+"6"],D[N][7]=D[S+"7"],D[N][8]=D[S+"8"],D[N][9]=D[S+"9"],D[N][10]=D[S+"10"],D[N][11]=D[S+"11"],D[N][12]=D[S+"12"],D[N][13]=D[S+"13"],D[N][14]=D[S+"0"],D[N][15]=D[S+"0"]}function Kt(S){return S==dg||S==hg||S==fg||S==f}function nn(){this.eb=[],this.size=this.A=this.fb=0}function Ar(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function dn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new nn,this.f.kb=new Ar,this.sd=null}function $t(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function zn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qt(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function on(S,N){var P=S.T,j=N.ba.f.RGBA,q=j.eb,te=j.fb+S.ka*j.A,se=$i[N.ba.S],ae=S.y,he=S.O,pe=S.f,_e=S.N,Re=S.ea,me=S.W,Ie=N.cc,Fe=N.dc,je=N.Mc,Pe=N.Nc,He=S.ka,Ve=S.ka+S.T,et=S.U,Je=et+1>>1;for(He==0?se(ae,he,null,null,pe,_e,Re,me,pe,_e,Re,me,q,te,null,null,et):(se(N.ec,N.fc,ae,he,Ie,Fe,je,Pe,pe,_e,Re,me,q,te-j.A,q,te,et),++P);He+2<Ve;He+=2)Ie=pe,Fe=_e,je=Re,Pe=me,_e+=S.Rc,me+=S.Rc,te+=2*j.A,se(ae,(he+=2*S.fa)-S.fa,ae,he,Ie,Fe,je,Pe,pe,_e,Re,me,q,te-j.A,q,te,et);return he+=S.fa,S.j+Ve<S.o?(r(N.ec,N.fc,ae,he,et),r(N.cc,N.dc,pe,_e,Je),r(N.Mc,N.Nc,Re,me,Je),P--):1&Ve||se(ae,he,null,null,pe,_e,Re,me,pe,_e,Re,me,q,te+j.A,null,null,et),P}function On(S,N,P){var j=S.F,q=[S.J];if(j!=null){var te=S.U,se=N.ba.S,ae=se==op||se==fg;N=N.ba.f.RGBA;var he=[0],pe=S.ka;he[0]=S.T,S.Kb&&(pe==0?--he[0]:(--pe,q[0]-=S.width),S.j+S.ka+S.T==S.o&&(he[0]=S.o-S.j-pe));var _e=N.eb;pe=N.fb+pe*N.A,S=W1(j,q[0],S.width,te,he,_e,pe+(ae?0:3),N.A),e(P==he),S&&Kt(se)&&Fl(_e,pe,ae,te,he,N.A)}return 0}function Kr(S){var N=S.ma,P=N.ba.S,j=11>P,q=P==sp||P==ip||P==op||P==Ag||P==12||Kt(P);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!tp(N.Oa,S,q?11:12))return 0;if(q&&Kt(P)&&Sc(),S.da)alert("todo:use_scaling");else{if(j){if(N.Ib=qt,S.Kb){if(P=S.U+1>>1,N.memory=i(S.U+2*P),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+S.U,N.Mc=N.cc,N.Nc=N.dc+P,N.Ib=on,Sc()}}else alert("todo:EmitYUV");q&&(N.Jb=On,j&&ii())}if(j&&!sU){for(S=0;256>S;++S)Loe[S]=89858*(S-128)+eC>>J2,Roe[S]=-22014*(S-128)+eC,Poe[S]=-45773*(S-128),Doe[S]=113618*(S-128)+eC>>J2;for(S=Z1;S<_k;++S)N=76283*(S-16)+eC>>J2,Ooe[S-Z1]=pn(N,255),$oe[S-Z1]=pn(N+8>>4,15);sU=1}return 1}function Bt(S){var N=S.ma,P=S.U,j=S.T;return e(!(1&S.ka)),0>=P||0>=j?0:(P=N.Ib(S,N),N.Jb!=null&&N.Jb(S,N,P),N.Dc+=P,1)}function Hs(S){S.ma.memory=null}function ri(S,N,P,j){return ce(S,8)!=47?0:(N[0]=ce(S,14)+1,P[0]=ce(S,14)+1,j[0]=ce(S,1),ce(S,3)!=0?0:!S.h)}function Tr(S,N){if(4>S)return S+1;var P=S-2>>1;return(2+(1&S)<<P)+ce(N,P)+1}function ss(S,N){return 120<N?N-120:1<=(P=((P=ve[N-1])>>4)*S+(8-(15&P)))?P:1;var P}function Kn(S,N,P){var j=X(P),q=S[N+=255&j].g-8;return 0<q&&(ue(P,P.u+8),j=X(P),N+=S[N].value,N+=j&(1<<q)-1),ue(P,P.u+S[N].g),S[N].value}function ht(S,N,P){return P.g+=S.g,P.value+=S.value<<N>>>0,e(8>=P.g),S.g}function zs(S,N,P){var j=S.xc;return e((N=j==0?0:S.vc[S.md*(P>>j)+(N>>j)])<S.Wb),S.Ya[N]}function Su(S,N,P,j){var q=S.ab,te=S.c*N,se=S.C;N=se+N;var ae=P,he=j;for(j=S.Ta,P=S.Ua;0<q--;){var pe=S.gc[q],_e=se,Re=N,me=ae,Ie=he,Fe=(he=j,ae=P,pe.Ea);switch(e(_e<Re),e(Re<=pe.nc),pe.hc){case 2:os(me,Ie,(Re-_e)*Fe,he,ae);break;case 0:var je=_e,Pe=Re,He=he,Ve=ae,et=(Ut=pe).Ea;je==0&&(np(me,Ie,null,null,1,He,Ve),Wt(me,Ie+1,0,0,et-1,He,Ve+1),Ie+=et,Ve+=et,++je);for(var Je=1<<Ut.b,jt=Je-1,Et=We(et,Ut.b),xn=Ut.K,Ut=Ut.w+(je>>Ut.b)*Et;je<Pe;){var Qn=xn,ai=Ut,bn=1;for(ro(me,Ie,He,Ve-et,1,He,Ve);bn<et;){var Mt=(bn&~jt)+Je;Mt>et&&(Mt=et),(0,Kd[Qn[ai++]>>8&15])(me,Ie+ +bn,He,Ve+bn-et,Mt-bn,He,Ve+bn),bn=Mt}Ie+=et,Ve+=et,++je&jt||(Ut+=Et)}Re!=pe.nc&&r(he,ae-Fe,he,ae+(Re-_e-1)*Fe,Fe);break;case 1:for(Fe=me,Pe=Ie,et=(me=pe.Ea)-(Ve=me&~(He=(Ie=1<<pe.b)-1)),je=We(me,pe.b),Je=pe.K,pe=pe.w+(_e>>pe.b)*je;_e<Re;){for(jt=Je,Et=pe,xn=new gt,Ut=Pe+Ve,Qn=Pe+me;Pe<Ut;)xt(jt[Et++],xn),MA(xn,Fe,Pe,Ie,he,ae),Pe+=Ie,ae+=Ie;Pe<Qn&&(xt(jt[Et++],xn),MA(xn,Fe,Pe,et,he,ae),Pe+=et,ae+=et),++_e&He||(pe+=je)}break;case 3:if(me==he&&Ie==ae&&0<pe.b){for(Pe=he,me=Fe=ae+(Re-_e)*Fe-(Ve=(Re-_e)*We(pe.Ea,pe.b)),Ie=he,He=ae,je=[],Ve=(et=Ve)-1;0<=Ve;--Ve)je[Ve]=Ie[He+Ve];for(Ve=et-1;0<=Ve;--Ve)Pe[me+Ve]=je[Ve];Ec(pe,_e,Re,he,Fe,he,ae)}else Ec(pe,_e,Re,me,Ie,he,ae)}ae=j,he=P}he!=P&&r(j,P,ae,he,te)}function dc(S,N){var P=S.V,j=S.Ba+S.c*S.C,q=N-S.C;if(e(N<=S.l.o),e(16>=q),0<q){var te=S.l,se=S.Ta,ae=S.Ua,he=te.width;if(Su(S,q,P,j),q=ae=[ae],e((P=S.C)<(j=N)),e(te.v<te.va),j>te.o&&(j=te.o),P<te.j){var pe=te.j-P;P=te.j,q[0]+=pe*he}if(P>=j?P=0:(q[0]+=4*te.v,te.ka=P-te.j,te.U=te.va-te.v,te.T=j-P,P=1),P){if(ae=ae[0],11>(P=S.ca).S){var _e=P.f.RGBA,Re=(j=P.S,q=te.U,te=te.T,pe=_e.eb,_e.A),me=te;for(_e=_e.fb+S.Ma*_e.A;0<me--;){var Ie=se,Fe=ae,je=q,Pe=pe,He=_e;switch(j){case ug:Fu(Ie,Fe,je,Pe,He);break;case sp:El(Ie,Fe,je,Pe,He);break;case dg:El(Ie,Fe,je,Pe,He),Fl(Pe,He,0,je,1,0);break;case q1:kl(Ie,Fe,je,Pe,He);break;case ip:Ot(Ie,Fe,je,Pe,He,1);break;case hg:Ot(Ie,Fe,je,Pe,He,1),Fl(Pe,He,0,je,1,0);break;case op:Ot(Ie,Fe,je,Pe,He,0);break;case fg:Ot(Ie,Fe,je,Pe,He,0),Fl(Pe,He,1,je,1,0);break;case Ag:za(Ie,Fe,je,Pe,He);break;case f:za(Ie,Fe,je,Pe,He),V1(Pe,He,je,1,0);break;case X2:Fo(Ie,Fe,je,Pe,He);break;default:e(0)}ae+=he,_e+=Re}S.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");e(S.Ma<=P.height)}}S.C=N,e(S.C<=S.i)}function oa(S){var N;if(0<S.ua)return 0;for(N=0;N<S.Wb;++N){var P=S.Ya[N].G,j=S.Ya[N].H;if(0<P[1][j[1]+0].g||0<P[2][j[2]+0].g||0<P[3][j[3]+0].g)return 0}return 1}function aa(S,N,P,j,q,te){if(S.Z!=0){var se=S.qd,ae=S.rd;for(e(dr[S.Z]!=null);N<P;++N)dr[S.Z](se,ae,j,q,j,q,te),se=j,ae=q,q+=te;S.qd=se,S.rd=ae}}function la(S,N){var P=S.l.ma,j=P.Z==0||P.Z==1?S.l.j:S.C;if(j=S.C<j?j:S.C,e(N<=S.l.o),N>j){var q=S.l.width,te=P.ca,se=P.tb+q*j,ae=S.V,he=S.Ba+S.c*j,pe=S.gc;e(S.ab==1),e(pe[0].hc==3),Ws(pe[0],j,N,ae,he,te,se),aa(P,j,N,te,se,q)}S.C=S.Ma=N}function xi(S,N,P,j,q,te,se){var ae=S.$/j,he=S.$%j,pe=S.m,_e=S.s,Re=P+S.$,me=Re;q=P+j*q;var Ie=P+j*te,Fe=280+_e.ua,je=S.Pb?ae:16777216,Pe=0<_e.ua?_e.Wa:null,He=_e.wc,Ve=Re<Ie?zs(_e,he,ae):null;e(S.C<te),e(Ie<=q);var et=!1;e:for(;;){for(;et||Re<Ie;){var Je=0;if(ae>=je){var jt=Re-P;e((je=S).Pb),je.wd=je.m,je.xd=jt,0<je.s.ua&&Ge(je.s.Wa,je.s.vb),je=ae+$e}if(he&He||(Ve=zs(_e,he,ae)),e(Ve!=null),Ve.Qb&&(N[Re]=Ve.qb,et=!0),!et)if(de(pe),Ve.jc){Je=pe,jt=N;var Et=Re,xn=Ve.pd[X(Je)&_l-1];e(Ve.jc),256>xn.g?(ue(Je,Je.u+xn.g),jt[Et]=xn.value,Je=0):(ue(Je,Je.u+xn.g-256),e(256<=xn.value),Je=xn.value),Je==0&&(et=!0)}else Je=Kn(Ve.G[0],Ve.H[0],pe);if(pe.h)break;if(et||256>Je){if(!et)if(Ve.nd)N[Re]=(Ve.qb|Je<<8)>>>0;else{if(de(pe),et=Kn(Ve.G[1],Ve.H[1],pe),de(pe),jt=Kn(Ve.G[2],Ve.H[2],pe),Et=Kn(Ve.G[3],Ve.H[3],pe),pe.h)break;N[Re]=(Et<<24|et<<16|Je<<8|jt)>>>0}if(et=!1,++Re,++he>=j&&(he=0,++ae,se!=null&&ae<=te&&!(ae%16)&&se(S,ae),Pe!=null))for(;me<Re;)Je=N[me++],Pe.X[(506832829*Je&4294967295)>>>Pe.Mb]=Je}else if(280>Je){if(Je=Tr(Je-256,pe),jt=Kn(Ve.G[4],Ve.H[4],pe),de(pe),jt=ss(j,jt=Tr(jt,pe)),pe.h)break;if(Re-P<jt||q-Re<Je)break e;for(Et=0;Et<Je;++Et)N[Re+Et]=N[Re+Et-jt];for(Re+=Je,he+=Je;he>=j;)he-=j,++ae,se!=null&&ae<=te&&!(ae%16)&&se(S,ae);if(e(Re<=q),he&He&&(Ve=zs(_e,he,ae)),Pe!=null)for(;me<Re;)Je=N[me++],Pe.X[(506832829*Je&4294967295)>>>Pe.Mb]=Je}else{if(!(Je<Fe))break e;for(et=Je-280,e(Pe!=null);me<Re;)Je=N[me++],Pe.X[(506832829*Je&4294967295)>>>Pe.Mb]=Je;Je=Re,e(!(et>>>(jt=Pe).Xa)),N[Je]=jt.X[et],et=!0}et||e(pe.h==re(pe))}if(S.Pb&&pe.h&&Re<q)e(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&Ge(S.s.vb,S.s.Wa);else{if(pe.h)break e;se!=null&&se(S,ae>te?te:ae),S.a=0,S.$=Re-P}return 1}return S.a=3,0}function Eo(S){e(S!=null),S.vc=null,S.yc=null,S.Ya=null;var N=S.Wa;N!=null&&(N.X=null),S.vb=null,e(S!=null)}function TA(){var S=new rn;return S==null?null:(S.a=0,S.xb=X1,rr("Predictor","VP8LPredictors"),rr("Predictor","VP8LPredictors_C"),rr("PredictorAdd","VP8LPredictorsAdd"),rr("PredictorAdd","VP8LPredictorsAdd_C"),os=Jt,MA=Gt,Fu=vr,El=An,za=Yt,Fo=sn,kl=Gn,D.VP8LMapColor32b=Il,D.VP8LMapColor8b=Tu,S)}function xl(S,N,P,j,q){var te=1,se=[S],ae=[N],he=j.m,pe=j.s,_e=null,Re=0;e:for(;;){if(P)for(;te&&ce(he,1);){var me=se,Ie=ae,Fe=j,je=1,Pe=Fe.m,He=Fe.gc[Fe.ab],Ve=ce(Pe,2);if(Fe.Oc&1<<Ve)te=0;else{switch(Fe.Oc|=1<<Ve,He.hc=Ve,He.Ea=me[0],He.nc=Ie[0],He.K=[null],++Fe.ab,e(4>=Fe.ab),Ve){case 0:case 1:He.b=ce(Pe,3)+2,je=xl(We(He.Ea,He.b),We(He.nc,He.b),0,Fe,He.K),He.K=He.K[0];break;case 3:var et,Je=ce(Pe,8)+1,jt=16<Je?0:4<Je?1:2<Je?2:3;if(me[0]=We(He.Ea,jt),He.b=jt,et=je=xl(Je,1,0,Fe,He.K)){var Et,xn=Je,Ut=He,Qn=1<<(8>>Ut.b),ai=i(Qn);if(ai==null)et=0;else{var bn=Ut.K[0],Mt=Ut.w;for(ai[0]=Ut.K[0][0],Et=1;Et<1*xn;++Et)ai[Et]=dt(bn[Mt+Et],ai[Et-1]);for(;Et<4*Qn;++Et)ai[Et]=0;Ut.K[0]=null,Ut.K[0]=ai,et=1}}je=et;break;case 2:break;default:e(0)}te=je}}if(se=se[0],ae=ae[0],te&&ce(he,1)&&!(te=1<=(Re=ce(he,4))&&11>=Re)){j.a=3;break e}var ut;if(ut=te)t:{var Ts,mn,Vn,Qr=j,Ui=se,Po=ae,ys=Re,ao=P,Ro=Qr.m,li=Qr.s,qn=[null],hr=1,ws=0,fr=De[ys];n:for(;;){if(ao&&ce(Ro,1)){var Mi=ce(Ro,3)+2,Fc=We(Ui,Mi),Fs=We(Po,Mi),ya=Fc*Fs;if(!xl(Fc,Fs,0,Qr,qn))break n;for(qn=qn[0],li.xc=Mi,Ts=0;Ts<ya;++Ts){var Br=qn[Ts]>>8&65535;qn[Ts]=Br,Br>=hr&&(hr=Br+1)}}if(Ro.h)break n;for(mn=0;5>mn;++mn){var ci=k[mn];!mn&&0<ys&&(ci+=1<<ys),ws<ci&&(ws=ci)}var Wa=o(hr*fr,W),Oo=hr,Ga=o(Oo,Y);if(Ga==null)var Ka=null;else e(65536>=Oo),Ka=Ga;var wa=i(ws);if(Ka==null||wa==null||Wa==null){Qr.a=1;break n}var qa=Wa;for(Ts=Vn=0;Ts<hr;++Ts){var Lr=Ka[Ts],Xa=Lr.G,Lc=Lr.H,ap=0,QA=1,Qi=0;for(mn=0;5>mn;++mn){ci=k[mn],Xa[mn]=qa,Lc[mn]=Vn,!mn&&0<ys&&(ci+=1<<ys);s:{var nC,Nk=ci,rC=Qr,J1=wa,Qoe=qa,joe=Vn,Ik=0,Jd=rC.m,Hoe=ce(Jd,1);if(s(J1,0,0,Nk),Hoe){var zoe=ce(Jd,1)+1,Voe=ce(Jd,1),aU=ce(Jd,Voe==0?1:8);J1[aU]=1,zoe==2&&(J1[aU=ce(Jd,8)]=1);var sC=1}else{var lU=i(19),cU=ce(Jd,4)+4;if(19<cU){rC.a=3;var iC=0;break s}for(nC=0;nC<cU;++nC)lU[ne[nC]]=ce(Jd,3);var Ek=void 0,ew=void 0,uU=rC,Woe=lU,oC=Nk,AU=J1,kk=0,eh=uU.m,dU=8,hU=o(128,W);r:for(;U(hU,0,7,Woe,19);){if(ce(eh,1)){var Goe=2+2*ce(eh,3);if((Ek=2+ce(eh,Goe))>oC)break r}else Ek=oC;for(ew=0;ew<oC&&Ek--;){de(eh);var fU=hU[0+(127&X(eh))];ue(eh,eh.u+fU.g);var mg=fU.value;if(16>mg)AU[ew++]=mg,mg!=0&&(dU=mg);else{var Koe=mg==16,pU=mg-16,qoe=B[pU],mU=ce(eh,w[pU])+qoe;if(ew+mU>oC)break r;for(var Xoe=Koe?dU:0;0<mU--;)AU[ew++]=Xoe}}kk=1;break r}kk||(uU.a=3),sC=kk}(sC=sC&&!Jd.h)&&(Ik=U(Qoe,joe,8,J1,Nk)),sC&&Ik!=0?iC=Ik:(rC.a=3,iC=0)}if(iC==0)break n;if(QA&&z[mn]==1&&(QA=qa[Vn].g==0),ap+=qa[Vn].g,Vn+=iC,3>=mn){var tw,Tk=wa[0];for(tw=1;tw<ci;++tw)wa[tw]>Tk&&(Tk=wa[tw]);Qi+=Tk}}if(Lr.nd=QA,Lr.Qb=0,QA&&(Lr.qb=(Xa[3][Lc[3]+0].value<<24|Xa[1][Lc[1]+0].value<<16|Xa[2][Lc[2]+0].value)>>>0,ap==0&&256>Xa[0][Lc[0]+0].value&&(Lr.Qb=1,Lr.qb+=Xa[0][Lc[0]+0].value<<8)),Lr.jc=!Lr.Qb&&6>Qi,Lr.jc){var aC,jA=Lr;for(aC=0;aC<_l;++aC){var th=aC,nh=jA.pd[th],lC=jA.G[0][jA.H[0]+th];256<=lC.value?(nh.g=lC.g+256,nh.value=lC.value):(nh.g=0,nh.value=0,th>>=ht(lC,8,nh),th>>=ht(jA.G[1][jA.H[1]+th],16,nh),th>>=ht(jA.G[2][jA.H[2]+th],0,nh),ht(jA.G[3][jA.H[3]+th],24,nh))}}}li.vc=qn,li.Wb=hr,li.Ya=Ka,li.yc=Wa,ut=1;break t}ut=0}if(!(te=ut)){j.a=3;break e}if(0<Re){if(pe.ua=1<<Re,!Ae(pe.Wa,Re)){j.a=1,te=0;break e}}else pe.ua=0;var Fk=j,gU=se,Yoe=ae,Lk=Fk.s,Dk=Lk.xc;if(Fk.c=gU,Fk.i=Yoe,Lk.md=We(gU,Dk),Lk.wc=Dk==0?-1:(1<<Dk)-1,P){j.xb=Ck;break e}if((_e=i(se*ae))==null){j.a=1,te=0;break e}te=(te=xi(j,_e,0,se,ae,ae,null))&&!he.h;break e}return te?(q!=null?q[0]=_e:(e(_e==null),e(P)),j.$=0,P||Eo(pe)):Eo(pe),te}function FA(S,N){var P=S.c*S.i,j=P+N+16*N;return e(S.c<=N),S.V=i(j),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+P+N,1)}function Pd(S,N){var P=S.C,j=N-P,q=S.V,te=S.Ba+S.c*P;for(e(N<=S.l.o);0<j;){var se=16<j?16:j,ae=S.l.ma,he=S.l.width,pe=he*se,_e=ae.ca,Re=ae.tb+he*P,me=S.Ta,Ie=S.Ua;Su(S,se,q,te),K2(me,Ie,_e,Re,pe),aa(ae,P,P+se,_e,Re,he),j-=se,q+=se*S.c,P+=se}e(P==N),S.C=S.Ma=N}function LA(){this.ub=this.yd=this.td=this.Rb=0}function Rd(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Od(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Hf(){this.Yb=function(){var S=[];return function N(P,j,q){for(var te=q[j],se=0;se<te&&(P.push(q.length>j+1?[]:0),!(q.length<j+1));se++)N(P[se],j+1,q)}(S,0,[3,11]),S}()}function ng(){this.jb=i(3),this.Wc=a([4,8],Hf),this.Xc=a([4,17],Hf)}function rg(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function ca(){this.ld=this.La=this.dd=this.tc=0}function zf(){this.Na=this.la=0}function $d(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function hc(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vf(){this.uc=this.M=this.Nb=0,this.wa=Array(new ca),this.Y=0,this.ya=Array(new hc),this.aa=0,this.l=new sr}function Wf(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Bu(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new LA,this.Kc=new Rd,this.ed=new rg,this.Qa=new Od,this.Ic=this.$c=this.Aa=0,this.D=new Vf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,M),this.ia=0,this.pb=o(4,$d),this.Pa=new ng,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wf),this.Hd=0,this.rb=Array(new zf),this.sb=0,this.wa=Array(new ca),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new hc),this.L=this.aa=0,this.gd=a([4,2],ca),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function pn(S,N){return 0>S?0:S>N?N:S}function sr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ud(){var S=new Bu;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,Vt||(Vt=an)),S}function Cr(S,N,P){return S.a==0&&(S.a=N,S.sc=P,S.cb=0),0}function fc(S,N,P){return 3<=P&&S[N+0]==157&&S[N+1]==1&&S[N+2]==42}function ua(S,N){if(S==null)return 0;if(S.a=0,S.sc="OK",N==null)return Cr(S,2,"null VP8Io passed to VP8GetHeaders()");var P=N.data,j=N.w,q=N.ha;if(4>q)return Cr(S,7,"Truncated header.");var te=P[j+0]|P[j+1]<<8|P[j+2]<<16,se=S.Od;if(se.Rb=!(1&te),se.td=te>>1&7,se.yd=te>>4&1,se.ub=te>>5,3<se.td)return Cr(S,3,"Incorrect keyframe parameters.");if(!se.yd)return Cr(S,4,"Frame not displayable.");j+=3,q-=3;var ae=S.Kc;if(se.Rb){if(7>q)return Cr(S,7,"cannot parse picture header");if(!fc(P,j,q))return Cr(S,3,"Bad code word");ae.c=16383&(P[j+4]<<8|P[j+3]),ae.Td=P[j+4]>>6,ae.i=16383&(P[j+6]<<8|P[j+5]),ae.Ud=P[j+6]>>6,j+=7,q-=7,S.za=ae.c+15>>4,S.Ub=ae.i+15>>4,N.width=ae.c,N.height=ae.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,s((te=S.Pa).jb,0,255,te.jb.length),e((te=S.Qa)!=null),te.Cb=0,te.Bb=0,te.Fb=1,s(te.Zb,0,0,te.Zb.length),s(te.Lb,0,0,te.Lb)}if(se.ub>q)return Cr(S,7,"bad partition length");J(te=S.m,P,j,se.ub),j+=se.ub,q-=se.ub,se.Rb&&(ae.Ld=Ce(te),ae.Kd=Ce(te)),ae=S.Qa;var he,pe=S.Pa;if(e(te!=null),e(ae!=null),ae.Cb=Ce(te),ae.Cb){if(ae.Bb=Ce(te),Ce(te)){for(ae.Fb=Ce(te),he=0;4>he;++he)ae.Zb[he]=Ce(te)?V(te,7):0;for(he=0;4>he;++he)ae.Lb[he]=Ce(te)?V(te,6):0}if(ae.Bb)for(he=0;3>he;++he)pe.jb[he]=Ce(te)?oe(te,8):255}else ae.Bb=0;if(te.Ka)return Cr(S,3,"cannot parse segment header");if((ae=S.ed).zd=Ce(te),ae.Tb=oe(te,6),ae.wb=oe(te,3),ae.Pc=Ce(te),ae.Pc&&Ce(te)){for(pe=0;4>pe;++pe)Ce(te)&&(ae.vd[pe]=V(te,6));for(pe=0;4>pe;++pe)Ce(te)&&(ae.od[pe]=V(te,6))}if(S.L=ae.Tb==0?0:ae.zd?1:2,te.Ka)return Cr(S,3,"cannot parse filter header");var _e=q;if(q=he=j,j=he+_e,ae=_e,S.Xb=(1<<oe(S.m,2))-1,_e<3*(pe=S.Xb))P=7;else{for(he+=3*pe,ae-=3*pe,_e=0;_e<pe;++_e){var Re=P[q+0]|P[q+1]<<8|P[q+2]<<16;Re>ae&&(Re=ae),J(S.Jc[+_e],P,he,Re),he+=Re,ae-=Re,q+=3}J(S.Jc[+pe],P,he,ae),P=he<j?0:5}if(P!=0)return Cr(S,P,"cannot parse partitions");for(P=oe(he=S.m,7),q=Ce(he)?V(he,4):0,j=Ce(he)?V(he,4):0,ae=Ce(he)?V(he,4):0,pe=Ce(he)?V(he,4):0,he=Ce(he)?V(he,4):0,_e=S.Qa,Re=0;4>Re;++Re){if(_e.Cb){var me=_e.Zb[Re];_e.Fb||(me+=P)}else{if(0<Re){S.pb[Re]=S.pb[0];continue}me=P}var Ie=S.pb[Re];Ie.Sc[0]=Ye[pn(me+q,127)],Ie.Sc[1]=ft[pn(me+0,127)],Ie.Eb[0]=2*Ye[pn(me+j,127)],Ie.Eb[1]=101581*ft[pn(me+ae,127)]>>16,8>Ie.Eb[1]&&(Ie.Eb[1]=8),Ie.Qc[0]=Ye[pn(me+pe,117)],Ie.Qc[1]=ft[pn(me+he,127)],Ie.lc=me+he}if(!se.Rb)return Cr(S,4,"Not a key frame.");for(Ce(te),se=S.Pa,P=0;4>P;++P){for(q=0;8>q;++q)for(j=0;3>j;++j)for(ae=0;11>ae;++ae)pe=Ne(te,Zd[P][q][j][ae])?oe(te,8):ga[P][q][j][ae],se.Wc[P][q].Yb[j][ae]=pe;for(q=0;17>q;++q)se.Xc[P][q]=se.Wc[P][bk[q]]}return S.kc=Ce(te),S.kc&&(S.Bd=oe(te,8)),S.cb=1}function an(S,N,P,j,q,te,se){var ae=N[q].Yb[P];for(P=0;16>q;++q){if(!Ne(S,ae[P+0]))return q;for(;!Ne(S,ae[P+1]);)if(ae=N[++q].Yb[0],P=0,q==16)return 16;var he=N[q+1].Yb;if(Ne(S,ae[P+2])){var pe=S,_e=0;if(Ne(pe,(me=ae)[(Re=P)+3]))if(Ne(pe,me[Re+6])){for(ae=0,Re=2*(_e=Ne(pe,me[Re+8]))+(me=Ne(pe,me[Re+9+_e])),_e=0,me=In[Re];me[ae];++ae)_e+=_e+Ne(pe,me[ae]);_e+=3+(8<<Re)}else Ne(pe,me[Re+7])?(_e=7+2*Ne(pe,165),_e+=Ne(pe,145)):_e=5+Ne(pe,159);else _e=Ne(pe,me[Re+4])?3+Ne(pe,me[Re+5]):2;ae=he[2]}else _e=1,ae=he[1];he=se+Oi[q],0>(pe=S).b&&we(pe);var Re,me=pe.b,Ie=(Re=pe.Ca>>1)-(pe.I>>me)>>31;--pe.b,pe.Ca+=Ie,pe.Ca|=1,pe.I-=(Re+1&Ie)<<me,te[he]=((_e^Ie)-Ie)*j[(0<q)+0]}return 16}function Fr(S){var N=S.rb[S.sb-1];N.la=0,N.Na=0,s(S.zc,0,0,S.zc.length),S.ja=0}function to(S,N,P,j,q){q=S[N+P+32*j]+(q>>3),S[N+P+32*j]=-256&q?0>q?0:255:q}function qr(S,N,P,j,q,te){to(S,N,0,P,j+q),to(S,N,1,P,j+te),to(S,N,2,P,j-te),to(S,N,3,P,j-q)}function fs(S){return(20091*S>>16)+S}function sg(S,N,P,j){var q,te=0,se=i(16);for(q=0;4>q;++q){var ae=S[N+0]+S[N+8],he=S[N+0]-S[N+8],pe=(35468*S[N+4]>>16)-fs(S[N+12]),_e=fs(S[N+4])+(35468*S[N+12]>>16);se[te+0]=ae+_e,se[te+1]=he+pe,se[te+2]=he-pe,se[te+3]=ae-_e,te+=4,N++}for(q=te=0;4>q;++q)ae=(S=se[te+0]+4)+se[te+8],he=S-se[te+8],pe=(35468*se[te+4]>>16)-fs(se[te+12]),to(P,j,0,0,ae+(_e=fs(se[te+4])+(35468*se[te+12]>>16))),to(P,j,1,0,he+pe),to(P,j,2,0,he-pe),to(P,j,3,0,ae-_e),te++,j+=32}function Md(S,N,P,j){var q=S[N+0]+4,te=35468*S[N+4]>>16,se=fs(S[N+4]),ae=35468*S[N+1]>>16;qr(P,j,0,q+se,S=fs(S[N+1]),ae),qr(P,j,1,q+te,S,ae),qr(P,j,2,q-te,S,ae),qr(P,j,3,q-se,S,ae)}function pc(S,N,P,j,q){sg(S,N,P,j),q&&sg(S,N+16,P,j+4)}function er(S,N,P,j){Lu(S,N+0,P,j,1),Lu(S,N+32,P,j+128,1)}function bl(S,N,P,j){var q;for(S=S[N+0]+4,q=0;4>q;++q)for(N=0;4>N;++N)to(P,j,N,q,S)}function _u(S,N,P,j){S[N+0]&&Zn(S,N+0,P,j),S[N+16]&&Zn(S,N+16,P,j+4),S[N+32]&&Zn(S,N+32,P,j+128),S[N+48]&&Zn(S,N+48,P,j+128+4)}function Cl(S,N,P,j){var q,te=i(16);for(q=0;4>q;++q){var se=S[N+0+q]+S[N+12+q],ae=S[N+4+q]+S[N+8+q],he=S[N+4+q]-S[N+8+q],pe=S[N+0+q]-S[N+12+q];te[0+q]=se+ae,te[8+q]=se-ae,te[4+q]=pe+he,te[12+q]=pe-he}for(q=0;4>q;++q)se=(S=te[0+4*q]+3)+te[3+4*q],ae=te[1+4*q]+te[2+4*q],he=te[1+4*q]-te[2+4*q],pe=S-te[3+4*q],P[j+0]=se+ae>>3,P[j+16]=pe+he>>3,P[j+32]=se-ae>>3,P[j+48]=pe-he>>3,j+=64}function mc(S,N,P){var j,q=N-32,te=io,se=255-S[q-1];for(j=0;j<P;++j){var ae,he=te,pe=se+S[N-1];for(ae=0;ae<P;++ae)S[N+ae]=he[pe+S[q+ae]];N+=32}}function DA(S,N){mc(S,N,4)}function Gf(S,N){mc(S,N,8)}function Kf(S,N){mc(S,N,16)}function Nu(S,N){var P;for(P=0;16>P;++P)r(S,N+32*P,S,N-32,16)}function Qd(S,N){var P;for(P=16;0<P;--P)s(S,N,S[N-1],16),N+=32}function ko(S,N,P){var j;for(j=0;16>j;++j)s(N,P+32*j,S,16)}function jd(S,N){var P,j=16;for(P=0;16>P;++P)j+=S[N-1+32*P]+S[N+P-32];ko(j>>5,S,N)}function Iu(S,N){var P,j=8;for(P=0;16>P;++P)j+=S[N-1+32*P];ko(j>>4,S,N)}function PA(S,N){var P,j=8;for(P=0;16>P;++P)j+=S[N+P-32];ko(j>>4,S,N)}function H1(S,N){ko(128,S,N)}function st(S,N,P){return S+2*N+P+2>>2}function Aa(S,N){var P,j=N-32;for(j=new Uint8Array([st(S[j-1],S[j+0],S[j+1]),st(S[j+0],S[j+1],S[j+2]),st(S[j+1],S[j+2],S[j+3]),st(S[j+2],S[j+3],S[j+4])]),P=0;4>P;++P)r(S,N+32*P,j,0,j.length)}function ir(S,N){var P=S[N-1],j=S[N-1+32],q=S[N-1+64],te=S[N-1+96];Ee(S,N+0,16843009*st(S[N-1-32],P,j)),Ee(S,N+32,16843009*st(P,j,q)),Ee(S,N+64,16843009*st(j,q,te)),Ee(S,N+96,16843009*st(q,te,te))}function ig(S,N){var P,j=4;for(P=0;4>P;++P)j+=S[N+P-32]+S[N-1+32*P];for(j>>=3,P=0;4>P;++P)s(S,N+32*P,j,4)}function Ma(S,N){var P=S[N-1+0],j=S[N-1+32],q=S[N-1+64],te=S[N-1-32],se=S[N+0-32],ae=S[N+1-32],he=S[N+2-32],pe=S[N+3-32];S[N+0+96]=st(j,q,S[N-1+96]),S[N+1+96]=S[N+0+64]=st(P,j,q),S[N+2+96]=S[N+1+64]=S[N+0+32]=st(te,P,j),S[N+3+96]=S[N+2+64]=S[N+1+32]=S[N+0+0]=st(se,te,P),S[N+3+64]=S[N+2+32]=S[N+1+0]=st(ae,se,te),S[N+3+32]=S[N+2+0]=st(he,ae,se),S[N+3+0]=st(pe,he,ae)}function Qa(S,N){var P=S[N+1-32],j=S[N+2-32],q=S[N+3-32],te=S[N+4-32],se=S[N+5-32],ae=S[N+6-32],he=S[N+7-32];S[N+0+0]=st(S[N+0-32],P,j),S[N+1+0]=S[N+0+32]=st(P,j,q),S[N+2+0]=S[N+1+32]=S[N+0+64]=st(j,q,te),S[N+3+0]=S[N+2+32]=S[N+1+64]=S[N+0+96]=st(q,te,se),S[N+3+32]=S[N+2+64]=S[N+1+96]=st(te,se,ae),S[N+3+64]=S[N+2+96]=st(se,ae,he),S[N+3+96]=st(ae,he,he)}function qf(S,N){var P=S[N-1+0],j=S[N-1+32],q=S[N-1+64],te=S[N-1-32],se=S[N+0-32],ae=S[N+1-32],he=S[N+2-32],pe=S[N+3-32];S[N+0+0]=S[N+1+64]=te+se+1>>1,S[N+1+0]=S[N+2+64]=se+ae+1>>1,S[N+2+0]=S[N+3+64]=ae+he+1>>1,S[N+3+0]=he+pe+1>>1,S[N+0+96]=st(q,j,P),S[N+0+64]=st(j,P,te),S[N+0+32]=S[N+1+96]=st(P,te,se),S[N+1+32]=S[N+2+96]=st(te,se,ae),S[N+2+32]=S[N+3+96]=st(se,ae,he),S[N+3+32]=st(ae,he,pe)}function gc(S,N){var P=S[N+0-32],j=S[N+1-32],q=S[N+2-32],te=S[N+3-32],se=S[N+4-32],ae=S[N+5-32],he=S[N+6-32],pe=S[N+7-32];S[N+0+0]=P+j+1>>1,S[N+1+0]=S[N+0+64]=j+q+1>>1,S[N+2+0]=S[N+1+64]=q+te+1>>1,S[N+3+0]=S[N+2+64]=te+se+1>>1,S[N+0+32]=st(P,j,q),S[N+1+32]=S[N+0+96]=st(j,q,te),S[N+2+32]=S[N+1+96]=st(q,te,se),S[N+3+32]=S[N+2+96]=st(te,se,ae),S[N+3+64]=st(se,ae,he),S[N+3+96]=st(ae,he,pe)}function Eu(S,N){var P=S[N-1+0],j=S[N-1+32],q=S[N-1+64],te=S[N-1+96];S[N+0+0]=P+j+1>>1,S[N+2+0]=S[N+0+32]=j+q+1>>1,S[N+2+32]=S[N+0+64]=q+te+1>>1,S[N+1+0]=st(P,j,q),S[N+3+0]=S[N+1+32]=st(j,q,te),S[N+3+32]=S[N+1+64]=st(q,te,te),S[N+3+64]=S[N+2+64]=S[N+0+96]=S[N+1+96]=S[N+2+96]=S[N+3+96]=te}function yc(S,N){var P=S[N-1+0],j=S[N-1+32],q=S[N-1+64],te=S[N-1+96],se=S[N-1-32],ae=S[N+0-32],he=S[N+1-32],pe=S[N+2-32];S[N+0+0]=S[N+2+32]=P+se+1>>1,S[N+0+32]=S[N+2+64]=j+P+1>>1,S[N+0+64]=S[N+2+96]=q+j+1>>1,S[N+0+96]=te+q+1>>1,S[N+3+0]=st(ae,he,pe),S[N+2+0]=st(se,ae,he),S[N+1+0]=S[N+3+32]=st(P,se,ae),S[N+1+32]=S[N+3+64]=st(j,P,se),S[N+1+64]=S[N+3+96]=st(q,j,P),S[N+1+96]=st(te,q,j)}function Ur(S,N){var P;for(P=0;8>P;++P)r(S,N+32*P,S,N-32,8)}function wc(S,N){var P;for(P=0;8>P;++P)s(S,N,S[N-1],8),N+=32}function Sl(S,N,P){var j;for(j=0;8>j;++j)s(N,P+32*j,S,8)}function og(S,N){var P,j=8;for(P=0;8>P;++P)j+=S[N+P-32]+S[N-1+32*P];Sl(j>>4,S,N)}function Xf(S,N){var P,j=4;for(P=0;8>P;++P)j+=S[N+P-32];Sl(j>>3,S,N)}function Hd(S,N){var P,j=4;for(P=0;8>P;++P)j+=S[N-1+32*P];Sl(j>>3,S,N)}function zd(S,N){Sl(128,S,N)}function vc(S,N,P){var j=S[N-P],q=S[N+0],te=3*(q-j)+Yd[1020+S[N-2*P]-S[N+P]],se=Du[112+(te+4>>3)];S[N-P]=io[255+j+Du[112+(te+3>>3)]],S[N+0]=io[255+q-se]}function Vd(S,N,P,j){var q=S[N+0],te=S[N+P];return Do[255+S[N-2*P]-S[N-P]]>j||Do[255+te-q]>j}function vn(S,N,P,j){return 4*Do[255+S[N-P]-S[N+0]]+Do[255+S[N-2*P]-S[N+P]]<=j}function Yf(S,N,P,j,q){var te=S[N-3*P],se=S[N-2*P],ae=S[N-P],he=S[N+0],pe=S[N+P],_e=S[N+2*P],Re=S[N+3*P];return 4*Do[255+ae-he]+Do[255+se-pe]>j?0:Do[255+S[N-4*P]-te]<=q&&Do[255+te-se]<=q&&Do[255+se-ae]<=q&&Do[255+Re-_e]<=q&&Do[255+_e-pe]<=q&&Do[255+pe-he]<=q}function si(S,N,P,j){var q=2*j+1;for(j=0;16>j;++j)vn(S,N+j,P,q)&&vc(S,N+j,P)}function xc(S,N,P,j){var q=2*j+1;for(j=0;16>j;++j)vn(S,N+j*P,1,q)&&vc(S,N+j*P,1)}function Zf(S,N,P,j){var q;for(q=3;0<q;--q)si(S,N+=4*P,P,j)}function ag(S,N,P,j){var q;for(q=3;0<q;--q)xc(S,N+=4,P,j)}function ja(S,N,P,j,q,te,se,ae){for(te=2*te+1;0<q--;){if(Yf(S,N,P,te,se))if(Vd(S,N,P,ae))vc(S,N,P);else{var he=S,pe=N,_e=P,Re=he[pe-2*_e],me=he[pe-_e],Ie=he[pe+0],Fe=he[pe+_e],je=he[pe+2*_e],Pe=27*(Ve=Yd[1020+3*(Ie-me)+Yd[1020+Re-Fe]])+63>>7,He=18*Ve+63>>7,Ve=9*Ve+63>>7;he[pe-3*_e]=io[255+he[pe-3*_e]+Ve],he[pe-2*_e]=io[255+Re+He],he[pe-_e]=io[255+me+Pe],he[pe+0]=io[255+Ie-Pe],he[pe+_e]=io[255+Fe-He],he[pe+2*_e]=io[255+je-Ve]}N+=j}}function bc(S,N,P,j,q,te,se,ae){for(te=2*te+1;0<q--;){if(Yf(S,N,P,te,se))if(Vd(S,N,P,ae))vc(S,N,P);else{var he=S,pe=N,_e=P,Re=he[pe-_e],me=he[pe+0],Ie=he[pe+_e],Fe=Du[112+(4+(je=3*(me-Re))>>3)],je=Du[112+(je+3>>3)],Pe=Fe+1>>1;he[pe-2*_e]=io[255+he[pe-2*_e]+Pe],he[pe-_e]=io[255+Re+je],he[pe+0]=io[255+me-Fe],he[pe+_e]=io[255+Ie-Pe]}N+=j}}function Jf(S,N,P,j,q,te){ja(S,N,P,1,16,j,q,te)}function RA(S,N,P,j,q,te){ja(S,N,1,P,16,j,q,te)}function lg(S,N,P,j,q,te){var se;for(se=3;0<se;--se)bc(S,N+=4*P,P,1,16,j,q,te)}function E(S,N,P,j,q,te){var se;for(se=3;0<se;--se)bc(S,N+=4,1,P,16,j,q,te)}function K(S,N,P,j,q,te,se,ae){ja(S,N,q,1,8,te,se,ae),ja(P,j,q,1,8,te,se,ae)}function fe(S,N,P,j,q,te,se,ae){ja(S,N,1,q,8,te,se,ae),ja(P,j,1,q,8,te,se,ae)}function be(S,N,P,j,q,te,se,ae){bc(S,N+4*q,q,1,8,te,se,ae),bc(P,j+4*q,q,1,8,te,se,ae)}function ke(S,N,P,j,q,te,se,ae){bc(S,N+4,1,q,8,te,se,ae),bc(P,j+4,1,q,8,te,se,ae)}function Qe(){this.ba=new dn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new zn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function _t(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Dt(){this.ua=0,this.Wa=new At,this.vb=new At,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new W}function rn(){this.xb=this.a=0,this.l=new sr,this.ca=new dn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Dt,this.ab=0,this.gc=o(4,_t),this.Oc=0}function hn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new sr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function $n(S,N,P,j,q,te,se){for(S=S==null?0:S[N+0],N=0;N<se;++N)q[te+N]=S+P[j+N]&255,S=q[te+N]}function Mr(S,N,P,j,q,te,se){var ae;if(S==null)$n(null,null,P,j,q,te,se);else for(ae=0;ae<se;++ae)q[te+ae]=S[N+ae]+P[j+ae]&255}function ps(S,N,P,j,q,te,se){if(S==null)$n(null,null,P,j,q,te,se);else{var ae,he=S[N+0],pe=he,_e=he;for(ae=0;ae<se;++ae)pe=_e+(he=S[N+ae])-pe,_e=P[j+ae]+(-256&pe?0>pe?0:255:pe)&255,pe=he,q[te+ae]=_e}}function or(S,N,P,j){var q=N.width,te=N.o;if(e(S!=null&&N!=null),0>P||0>=j||P+j>te)return null;if(!S.Cc){if(S.ga==null){var se;if(S.ga=new hn,(se=S.ga==null)||(se=N.width*N.o,e(S.Gb.length==0),S.Gb=i(se),S.Uc=0,S.Gb==null?se=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,se=1),se=!se),!se){se=S.ga;var ae=S.Fa,he=S.P,pe=S.qc,_e=S.mb,Re=S.nb,me=he+1,Ie=pe-1,Fe=se.l;if(e(ae!=null&&_e!=null&&N!=null),dr[0]=null,dr[1]=$n,dr[2]=Mr,dr[3]=ps,se.ca=_e,se.tb=Re,se.c=N.width,se.i=N.height,e(0<se.c&&0<se.i),1>=pe)N=0;else if(se.$a=3&ae[he+0],se.Z=ae[he+0]>>2&3,se.Lc=ae[he+0]>>4&3,he=ae[he+0]>>6&3,0>se.$a||1<se.$a||4<=se.Z||1<se.Lc||he)N=0;else if(Fe.put=Bt,Fe.ac=Kr,Fe.bc=Hs,Fe.ma=se,Fe.width=N.width,Fe.height=N.height,Fe.Da=N.Da,Fe.v=N.v,Fe.va=N.va,Fe.j=N.j,Fe.o=N.o,se.$a)e:{e(se.$a==1),N=TA();t:for(;;){if(N==null){N=0;break e}if(e(se!=null),se.mc=N,N.c=se.c,N.i=se.i,N.l=se.l,N.l.ma=se,N.l.width=se.c,N.l.height=se.i,N.a=0,Z(N.m,ae,me,Ie),!xl(se.c,se.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&oa(N.s)?(se.ic=1,ae=N.c*N.i,N.Ta=null,N.Ua=0,N.V=i(ae),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(se.ic=0,N=FA(N,se.c)),!N))break t;N=1;break e}se.mc=null,N=0}else N=Ie>=se.c*se.i;se=!N}if(se)return null;S.ga.Lc!=1?S.Ga=0:j=te-P}e(S.ga!=null),e(P+j<=te);e:{if(N=(ae=S.ga).c,te=ae.l.o,ae.$a==0){if(me=S.rc,Ie=S.Vc,Fe=S.Fa,he=S.P+1+P*N,pe=S.mb,_e=S.nb+P*N,e(he<=S.P+S.qc),ae.Z!=0)for(e(dr[ae.Z]!=null),se=0;se<j;++se)dr[ae.Z](me,Ie,Fe,he,pe,_e,N),me=pe,Ie=_e,_e+=N,he+=N;else for(se=0;se<j;++se)r(pe,_e,Fe,he,N),me=pe,Ie=_e,_e+=N,he+=N;S.rc=me,S.Vc=Ie}else{if(e(ae.mc!=null),N=P+j,e((se=ae.mc)!=null),e(N<=se.i),se.C>=N)N=1;else if(ae.ic||ii(),ae.ic){ae=se.V,me=se.Ba,Ie=se.c;var je=se.i,Pe=(Fe=1,he=se.$/Ie,pe=se.$%Ie,_e=se.m,Re=se.s,se.$),He=Ie*je,Ve=Ie*N,et=Re.wc,Je=Pe<Ve?zs(Re,pe,he):null;e(Pe<=He),e(N<=je),e(oa(Re));t:for(;;){for(;!_e.h&&Pe<Ve;){if(pe&et||(Je=zs(Re,pe,he)),e(Je!=null),de(_e),256>(je=Kn(Je.G[0],Je.H[0],_e)))ae[me+Pe]=je,++Pe,++pe>=Ie&&(pe=0,++he<=N&&!(he%16)&&la(se,he));else{if(!(280>je)){Fe=0;break t}je=Tr(je-256,_e);var jt,Et=Kn(Je.G[4],Je.H[4],_e);if(de(_e),!(Pe>=(Et=ss(Ie,Et=Tr(Et,_e)))&&He-Pe>=je)){Fe=0;break t}for(jt=0;jt<je;++jt)ae[me+Pe+jt]=ae[me+Pe+jt-Et];for(Pe+=je,pe+=je;pe>=Ie;)pe-=Ie,++he<=N&&!(he%16)&&la(se,he);Pe<Ve&&pe&et&&(Je=zs(Re,pe,he))}e(_e.h==re(_e))}la(se,he>N?N:he);break t}!Fe||_e.h&&Pe<He?(Fe=0,se.a=_e.h?5:3):se.$=Pe,N=Fe}else N=xi(se,se.V,se.Ba,se.c,se.i,N,Pd);if(!N){j=0;break e}}P+j>=te&&(S.Cc=1),j=1}if(!j)return null;if(S.Cc&&((j=S.ga)!=null&&(j.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+P*q}function Is(S,N,P,j,q,te){for(;0<q--;){var se,ae=S,he=N+(P?1:0),pe=S,_e=N+(P?0:3);for(se=0;se<j;++se){var Re=pe[_e+4*se];Re!=255&&(Re*=32897,ae[he+4*se+0]=ae[he+4*se+0]*Re>>23,ae[he+4*se+1]=ae[he+4*se+1]*Re>>23,ae[he+4*se+2]=ae[he+4*se+2]*Re>>23)}N+=te}}function is(S,N,P,j,q){for(;0<j--;){var te;for(te=0;te<P;++te){var se=S[N+2*te+0],ae=15&(pe=S[N+2*te+1]),he=4369*ae,pe=(240&pe|pe>>4)*he>>16;S[N+2*te+0]=(240&se|se>>4)*he>>16&240|(15&se|se<<4)*he>>16>>4&15,S[N+2*te+1]=240&pe|ae}N+=q}}function Vs(S,N,P,j,q,te,se,ae){var he,pe,_e=255;for(pe=0;pe<q;++pe){for(he=0;he<j;++he){var Re=S[N+he];te[se+4*he]=Re,_e&=Re}N+=P,se+=ae}return _e!=255}function da(S,N,P,j,q){var te;for(te=0;te<q;++te)P[j+te]=S[N+te]>>8}function ii(){Fl=Is,V1=is,W1=Vs,K2=da}function Cc(S,N,P){D[S]=function(j,q,te,se,ae,he,pe,_e,Re,me,Ie,Fe,je,Pe,He,Ve,et){var Je,jt=et-1>>1,Et=ae[he+0]|pe[_e+0]<<16,xn=Re[me+0]|Ie[Fe+0]<<16;e(j!=null);var Ut=3*Et+xn+131074>>2;for(N(j[q+0],255&Ut,Ut>>16,je,Pe),te!=null&&(Ut=3*xn+Et+131074>>2,N(te[se+0],255&Ut,Ut>>16,He,Ve)),Je=1;Je<=jt;++Je){var Qn=ae[he+Je]|pe[_e+Je]<<16,ai=Re[me+Je]|Ie[Fe+Je]<<16,bn=Et+Qn+xn+ai+524296,Mt=bn+2*(Qn+xn)>>3;Ut=Mt+Et>>1,Et=(bn=bn+2*(Et+ai)>>3)+Qn>>1,N(j[q+2*Je-1],255&Ut,Ut>>16,je,Pe+(2*Je-1)*P),N(j[q+2*Je-0],255&Et,Et>>16,je,Pe+(2*Je-0)*P),te!=null&&(Ut=bn+xn>>1,Et=Mt+ai>>1,N(te[se+2*Je-1],255&Ut,Ut>>16,He,Ve+(2*Je-1)*P),N(te[se+2*Je+0],255&Et,Et>>16,He,Ve+(2*Je+0)*P)),Et=Qn,xn=ai}1&et||(Ut=3*Et+xn+131074>>2,N(j[q+et-1],255&Ut,Ut>>16,je,Pe+(et-1)*P),te!=null&&(Ut=3*xn+Et+131074>>2,N(te[se+et-1],255&Ut,Ut>>16,He,Ve+(et-1)*P)))}}function Sc(){$i[ug]=Sk,$i[sp]=Y2,$i[q1]=Bk,$i[ip]=pg,$i[op]=Y1,$i[Ag]=Z2,$i[X2]=Toe,$i[dg]=Y2,$i[hg]=pg,$i[fg]=Y1,$i[f]=Z2}function oi(S){return S&~Foe?0>S?0:255:S>>rU}function Bc(S,N){return oi((19077*S>>8)+(26149*N>>8)-14234)}function ku(S,N,P){return oi((19077*S>>8)-(6419*N>>8)-(13320*P>>8)+8708)}function OA(S,N){return oi((19077*S>>8)+(33050*N>>8)-17685)}function Bl(S,N,P,j,q){j[q+0]=Bc(S,P),j[q+1]=ku(S,N,P),j[q+2]=OA(S,N)}function Es(S,N,P,j,q){j[q+0]=OA(S,N),j[q+1]=ku(S,N,P),j[q+2]=Bc(S,P)}function $A(S,N,P,j,q){var te=ku(S,N,P);N=te<<3&224|OA(S,N)>>3,j[q+0]=248&Bc(S,P)|te>>5,j[q+1]=N}function UA(S,N,P,j,q){var te=240&OA(S,N)|15;j[q+0]=240&Bc(S,P)|ku(S,N,P)>>4,j[q+1]=te}function Wd(S,N,P,j,q){j[q+0]=255,Bl(S,N,P,j,q+1)}function ep(S,N,P,j,q){Es(S,N,P,j,q),j[q+3]=255}function Sr(S,N,P,j,q){Bl(S,N,P,j,q),j[q+3]=255}function no(S,N,P){D[S]=function(j,q,te,se,ae,he,pe,_e,Re){for(var me=_e+(-2&Re)*P;_e!=me;)N(j[q+0],te[se+0],ae[he+0],pe,_e),N(j[q+1],te[se+0],ae[he+0],pe,_e+P),q+=2,++se,++he,_e+=2*P;1&Re&&N(j[q+0],te[se+0],ae[he+0],pe,_e)}}function Gd(S,N,P){return P==0?S==0?N==0?6:5:N==0?4:0:P}function ha(S,N,P,j,q){switch(S>>>30){case 3:Lu(N,P,j,q,0);break;case 2:ma(N,P,j,q);break;case 1:Zn(N,P,j,q)}}function fa(S,N){var P,j,q=N.M,te=N.Nb,se=S.oc,ae=S.pc+40,he=S.oc,pe=S.pc+584,_e=S.oc,Re=S.pc+600;for(P=0;16>P;++P)se[ae+32*P-1]=129;for(P=0;8>P;++P)he[pe+32*P-1]=129,_e[Re+32*P-1]=129;for(0<q?se[ae-1-32]=he[pe-1-32]=_e[Re-1-32]=129:(s(se,ae-32-1,127,21),s(he,pe-32-1,127,9),s(_e,Re-32-1,127,9)),j=0;j<S.za;++j){var me=N.ya[N.aa+j];if(0<j){for(P=-1;16>P;++P)r(se,ae+32*P-4,se,ae+32*P+12,4);for(P=-1;8>P;++P)r(he,pe+32*P-4,he,pe+32*P+4,4),r(_e,Re+32*P-4,_e,Re+32*P+4,4)}var Ie=S.Gd,Fe=S.Hd+j,je=me.ad,Pe=me.Hc;if(0<q&&(r(se,ae-32,Ie[Fe].y,0,16),r(he,pe-32,Ie[Fe].f,0,8),r(_e,Re-32,Ie[Fe].ea,0,8)),me.Za){var He=se,Ve=ae-32+16;for(0<q&&(j>=S.za-1?s(He,Ve,Ie[Fe].y[15],4):r(He,Ve,Ie[Fe+1].y,0,4)),P=0;4>P;P++)He[Ve+128+P]=He[Ve+256+P]=He[Ve+384+P]=He[Ve+0+P];for(P=0;16>P;++P,Pe<<=2)He=se,Ve=ae+iU[P],Va[me.Ob[P]](He,Ve),ha(Pe,je,16*+P,He,Ve)}else if(He=Gd(j,q,me.Ob[0]),Pu[He](se,ae),Pe!=0)for(P=0;16>P;++P,Pe<<=2)ha(Pe,je,16*+P,se,ae+iU[P]);for(P=me.Gc,He=Gd(j,q,me.Dd),Dl[He](he,pe),Dl[He](_e,Re),Pe=je,He=he,Ve=pe,255&(me=0|P)&&(170&me?Lo(Pe,256,He,Ve):ar(Pe,256,He,Ve)),me=_e,Pe=Re,255&(P>>=8)&&(170&P?Lo(je,320,me,Pe):ar(je,320,me,Pe)),q<S.Ub-1&&(r(Ie[Fe].y,0,se,ae+480,16),r(Ie[Fe].f,0,he,pe+224,8),r(Ie[Fe].ea,0,_e,Re+224,8)),P=8*te*S.B,Ie=S.sa,Fe=S.ta+16*j+16*te*S.R,je=S.qa,me=S.ra+8*j+P,Pe=S.Ha,He=S.Ia+8*j+P,P=0;16>P;++P)r(Ie,Fe+P*S.R,se,ae+32*P,16);for(P=0;8>P;++P)r(je,me+P*S.B,he,pe+32*P,8),r(Pe,He+P*S.B,_e,Re+32*P,8)}}function pa(S,N,P,j,q,te,se,ae,he){var pe=[0],_e=[0],Re=0,me=he!=null?he.kd:0,Ie=he??new Xe;if(S==null||12>P)return 7;Ie.data=S,Ie.w=N,Ie.ha=P,N=[N],P=[P],Ie.gb=[Ie.gb];e:{var Fe=N,je=P,Pe=Ie.gb;if(e(S!=null),e(je!=null),e(Pe!=null),Pe[0]=0,12<=je[0]&&!n(S,Fe[0],"RIFF")){if(n(S,Fe[0]+8,"WEBP")){Pe=3;break e}var He=tt(S,Fe[0]+4);if(12>He||4294967286<He){Pe=3;break e}if(me&&He>je[0]-8){Pe=7;break e}Pe[0]=He,Fe[0]+=12,je[0]-=12}Pe=0}if(Pe!=0)return Pe;for(He=0<Ie.gb[0],P=P[0];;){e:{var Ve=S;je=N,Pe=P;var et=pe,Je=_e,jt=Fe=[0];if((Ut=Re=[Re])[0]=0,8>Pe[0])Pe=7;else{if(!n(Ve,je[0],"VP8X")){if(tt(Ve,je[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var Et=tt(Ve,je[0]+8),xn=1+ze(Ve,je[0]+12);if(2147483648<=xn*(Ve=1+ze(Ve,je[0]+15))){Pe=3;break e}jt!=null&&(jt[0]=Et),et!=null&&(et[0]=xn),Je!=null&&(Je[0]=Ve),je[0]+=18,Pe[0]-=18,Ut[0]=1}Pe=0}}if(Re=Re[0],Fe=Fe[0],Pe!=0)return Pe;if(je=!!(2&Fe),!He&&Re)return 3;if(te!=null&&(te[0]=!!(16&Fe)),se!=null&&(se[0]=je),ae!=null&&(ae[0]=0),se=pe[0],Fe=_e[0],Re&&je&&he==null){Pe=0;break}if(4>P){Pe=7;break}if(He&&Re||!He&&!Re&&!n(S,N[0],"ALPH")){P=[P],Ie.na=[Ie.na],Ie.P=[Ie.P],Ie.Sa=[Ie.Sa];e:{Et=S,Pe=N,He=P;var Ut=Ie.gb;et=Ie.na,Je=Ie.P,jt=Ie.Sa,xn=22,e(Et!=null),e(He!=null),Ve=Pe[0];var Qn=He[0];for(e(et!=null),e(jt!=null),et[0]=null,Je[0]=null,jt[0]=0;;){if(Pe[0]=Ve,He[0]=Qn,8>Qn){Pe=7;break e}var ai=tt(Et,Ve+4);if(4294967286<ai){Pe=3;break e}var bn=8+ai+1&-2;if(xn+=bn,0<Ut&&xn>Ut){Pe=3;break e}if(!n(Et,Ve,"VP8 ")||!n(Et,Ve,"VP8L")){Pe=0;break e}if(Qn[0]<bn){Pe=7;break e}n(Et,Ve,"ALPH")||(et[0]=Et,Je[0]=Ve+8,jt[0]=ai),Ve+=bn,Qn-=bn}}if(P=P[0],Ie.na=Ie.na[0],Ie.P=Ie.P[0],Ie.Sa=Ie.Sa[0],Pe!=0)break}P=[P],Ie.Ja=[Ie.Ja],Ie.xa=[Ie.xa];e:if(Ut=S,Pe=N,He=P,et=Ie.gb[0],Je=Ie.Ja,jt=Ie.xa,Et=Pe[0],Ve=!n(Ut,Et,"VP8 "),xn=!n(Ut,Et,"VP8L"),e(Ut!=null),e(He!=null),e(Je!=null),e(jt!=null),8>He[0])Pe=7;else{if(Ve||xn){if(Ut=tt(Ut,Et+4),12<=et&&Ut>et-12){Pe=3;break e}if(me&&Ut>He[0]-8){Pe=7;break e}Je[0]=Ut,Pe[0]+=8,He[0]-=8,jt[0]=xn}else jt[0]=5<=He[0]&&Ut[Et+0]==47&&!(Ut[Et+4]>>5),Je[0]=He[0];Pe=0}if(P=P[0],Ie.Ja=Ie.Ja[0],Ie.xa=Ie.xa[0],N=N[0],Pe!=0)break;if(4294967286<Ie.Ja)return 3;if(ae==null||je||(ae[0]=Ie.xa?2:1),se=[se],Fe=[Fe],Ie.xa){if(5>P){Pe=7;break}ae=se,me=Fe,je=te,S==null||5>P?S=0:5<=P&&S[N+0]==47&&!(S[N+4]>>5)?(He=[0],Ut=[0],et=[0],Z(Je=new G,S,N,P),ri(Je,He,Ut,et)?(ae!=null&&(ae[0]=He[0]),me!=null&&(me[0]=Ut[0]),je!=null&&(je[0]=et[0]),S=1):S=0):S=0}else{if(10>P){Pe=7;break}ae=Fe,S==null||10>P||!fc(S,N+3,P-3)?S=0:(me=S[N+0]|S[N+1]<<8|S[N+2]<<16,je=16383&(S[N+7]<<8|S[N+6]),S=16383&(S[N+9]<<8|S[N+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=Ie.Ja||!je||!S?S=0:(se&&(se[0]=je),ae&&(ae[0]=S),S=1))}if(!S||(se=se[0],Fe=Fe[0],Re&&(pe[0]!=se||_e[0]!=Fe)))return 3;he!=null&&(he[0]=Ie,he.offset=N-he.w,e(4294967286>N-he.w),e(he.offset==he.ha-P));break}return Pe==0||Pe==7&&Re&&he==null?(te!=null&&(te[0]|=Ie.na!=null&&0<Ie.na.length),j!=null&&(j[0]=se),q!=null&&(q[0]=Fe),0):Pe}function tp(S,N,P){var j=N.width,q=N.height,te=0,se=0,ae=j,he=q;if(N.Da=S!=null&&0<S.Da,N.Da&&(ae=S.cd,he=S.bd,te=S.v,se=S.j,11>P||(te&=-2,se&=-2),0>te||0>se||0>=ae||0>=he||te+ae>j||se+he>q))return 0;if(N.v=te,N.j=se,N.va=te+ae,N.o=se+he,N.U=ae,N.T=he,N.da=S!=null&&0<S.da,N.da){if(!rt(ae,he,P=[S.ib],te=[S.hb]))return 0;N.ib=P[0],N.hb=te[0]}return N.ob=S!=null&&S.ob,N.Kb=S==null||!S.Sd,N.da&&(N.ob=N.ib<3*j/4&&N.hb<3*q/4,N.Kb=0),1}function _c(S){if(S==null)return 2;if(11>S.S){var N=S.f.RGBA;N.fb+=(S.height-1)*N.A,N.A=-N.A}else N=S.f.kb,S=S.height,N.O+=(S-1)*N.fa,N.fa=-N.fa,N.N+=(S-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(S-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(S-1)*N.lb,N.lb=-N.lb);return 0}function Nc(S,N,P,j){if(j==null||0>=S||0>=N)return 2;if(P!=null){if(P.Da){var q=P.cd,te=P.bd,se=-2&P.v,ae=-2&P.j;if(0>se||0>ae||0>=q||0>=te||se+q>S||ae+te>N)return 2;S=q,N=te}if(P.da){if(!rt(S,N,q=[P.ib],te=[P.hb]))return 2;S=q[0],N=te[0]}}j.width=S,j.height=N;e:{var he=j.width,pe=j.height;if(S=j.S,0>=he||0>=pe||!(S>=ug&&13>S))S=2;else{if(0>=j.Rd&&j.sd==null){se=te=q=N=0;var _e=(ae=he*oU[S])*pe;if(11>S||(te=(pe+1)/2*(N=(he+1)/2),S==12&&(se=(q=he)*pe)),(pe=i(_e+2*te+se))==null){S=1;break e}j.sd=pe,11>S?((he=j.f.RGBA).eb=pe,he.fb=0,he.A=ae,he.size=_e):((he=j.f.kb).y=pe,he.O=0,he.fa=ae,he.Fd=_e,he.f=pe,he.N=0+_e,he.Ab=N,he.Cd=te,he.ea=pe,he.W=0+_e+te,he.Db=N,he.Ed=te,S==12&&(he.F=pe,he.J=0+_e+2*te),he.Tc=se,he.lb=q)}if(N=1,q=j.S,te=j.width,se=j.height,q>=ug&&13>q)if(11>q)S=j.f.RGBA,N&=(ae=Math.abs(S.A))*(se-1)+te<=S.size,N&=ae>=te*oU[q],N&=S.eb!=null;else{S=j.f.kb,ae=(te+1)/2,_e=(se+1)/2,he=Math.abs(S.fa),pe=Math.abs(S.Ab);var Re=Math.abs(S.Db),me=Math.abs(S.lb),Ie=me*(se-1)+te;N&=he*(se-1)+te<=S.Fd,N&=pe*(_e-1)+ae<=S.Cd,N=(N&=Re*(_e-1)+ae<=S.Ed)&he>=te&pe>=ae&Re>=ae,N&=S.y!=null,N&=S.f!=null,N&=S.ea!=null,q==12&&(N&=me>=te,N&=Ie<=S.Tc,N&=S.F!=null)}else N=0;S=N?0:2}}return S!=0||P!=null&&P.fd&&(S=_c(j)),S}var _l=64,To=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ms=24,Ha=32,Ic=8,Nl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];at("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(S){return S},D.Predictor2=function(S,N,P){return N[P+0]},D.Predictor3=function(S,N,P){return N[P+1]},D.Predictor4=function(S,N,P){return N[P-1]},D.Predictor5=function(S,N,P){return mt(mt(S,N[P+1]),N[P+0])},D.Predictor6=function(S,N,P){return mt(S,N[P-1])},D.Predictor7=function(S,N,P){return mt(S,N[P+0])},D.Predictor8=function(S,N,P){return mt(N[P-1],N[P+0])},D.Predictor9=function(S,N,P){return mt(N[P+0],N[P+1])},D.Predictor10=function(S,N,P){return mt(mt(S,N[P-1]),mt(N[P+0],N[P+1]))},D.Predictor11=function(S,N,P){var j=N[P+0];return 0>=vt(j>>24&255,S>>24&255,(N=N[P-1])>>24&255)+vt(j>>16&255,S>>16&255,N>>16&255)+vt(j>>8&255,S>>8&255,N>>8&255)+vt(255&j,255&S,255&N)?j:S},D.Predictor12=function(S,N,P){var j=N[P+0];return(cn((S>>24&255)+(j>>24&255)-((N=N[P-1])>>24&255))<<24|cn((S>>16&255)+(j>>16&255)-(N>>16&255))<<16|cn((S>>8&255)+(j>>8&255)-(N>>8&255))<<8|cn((255&S)+(255&j)-(255&N)))>>>0},D.Predictor13=function(S,N,P){var j=N[P-1];return(Zt((S=mt(S,N[P+0]))>>24&255,j>>24&255)<<24|Zt(S>>16&255,j>>16&255)<<16|Zt(S>>8&255,j>>8&255)<<8|Zt(255&S,255&j))>>>0};var np=D.PredictorAdd0;D.PredictorAdd1=Wt,at("Predictor2","PredictorAdd2"),at("Predictor3","PredictorAdd3"),at("Predictor4","PredictorAdd4"),at("Predictor5","PredictorAdd5"),at("Predictor6","PredictorAdd6"),at("Predictor7","PredictorAdd7"),at("Predictor8","PredictorAdd8"),at("Predictor9","PredictorAdd9"),at("Predictor10","PredictorAdd10"),at("Predictor11","PredictorAdd11"),at("Predictor12","PredictorAdd12"),at("Predictor13","PredictorAdd13");var ro=D.PredictorAdd2;St("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),St("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var os,Ec=D.ColorIndexInverseTransform,Il=D.MapARGB,Ws=D.VP8LColorIndexInverseTransformAlpha,Tu=D.MapAlpha,Kd=D.VP8LPredictorsAdd=[];Kd.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var MA,Fu,El,za,Fo,kl,Tl,Lu,ma,Lo,Zn,ar,as,gs,kc,so,Tc,cg,rp,V2,z1,W2,qd,G2,Fl,V1,W1,K2,Ll=i(511),G1=i(2041),K1=i(225),Xd=i(767),q2=0,Yd=G1,Du=K1,io=Xd,Do=Ll,ug=0,sp=1,q1=2,ip=3,op=4,Ag=5,X2=6,dg=7,hg=8,fg=9,f=10,w=[2,3,7],B=[3,3,11],k=[280,256,256,256,40],z=[0,1,1,1,0],ne=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ve=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],De=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$e=8,Ye=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ft=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vt=null,In=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Oi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ks=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ga=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],oo=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Zd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],bk=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Pu=[],Va=[],Dl=[],Ck=1,X1=2,dr=[],$i=[];Cc("UpsampleRgbLinePair",Bl,3),Cc("UpsampleBgrLinePair",Es,3),Cc("UpsampleRgbaLinePair",Sr,4),Cc("UpsampleBgraLinePair",ep,4),Cc("UpsampleArgbLinePair",Wd,4),Cc("UpsampleRgba4444LinePair",UA,2),Cc("UpsampleRgb565LinePair",$A,2);var Sk=D.UpsampleRgbLinePair,Bk=D.UpsampleBgrLinePair,Y2=D.UpsampleRgbaLinePair,pg=D.UpsampleBgraLinePair,Y1=D.UpsampleArgbLinePair,Z2=D.UpsampleRgba4444LinePair,Toe=D.UpsampleRgb565LinePair,J2=16,eC=1<<J2-1,Z1=-227,_k=482,rU=6,Foe=(256<<rU)-1,sU=0,Loe=i(256),Doe=i(256),Poe=i(256),Roe=i(256),Ooe=i(_k-Z1),$oe=i(_k-Z1);no("YuvToRgbRow",Bl,3),no("YuvToBgrRow",Es,3),no("YuvToRgbaRow",Sr,4),no("YuvToBgraRow",ep,4),no("YuvToArgbRow",Wd,4),no("YuvToRgba4444Row",UA,2),no("YuvToRgb565Row",$A,2);var iU=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],tC=[0,2,8],Uoe=[8,7,6,4,4,2,2,2,1,1,1,1],Moe=1;this.WebPDecodeRGBA=function(S,N,P,j,q){var te=sp,se=new Qe,ae=new dn;se.ba=ae,ae.S=te,ae.width=[ae.width],ae.height=[ae.height];var he=ae.width,pe=ae.height,_e=new $t;if(_e==null||S==null)var Re=2;else e(_e!=null),Re=pa(S,N,P,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(Re!=0?he=0:(he!=null&&(he[0]=_e.width[0]),pe!=null&&(pe[0]=_e.height[0]),he=1),he){ae.width=ae.width[0],ae.height=ae.height[0],j!=null&&(j[0]=ae.width),q!=null&&(q[0]=ae.height);e:{if(j=new sr,(q=new Xe).data=S,q.w=N,q.ha=P,q.kd=1,N=[0],e(q!=null),((S=pa(q.data,q.w,q.ha,null,null,null,N,null,q))==0||S==7)&&N[0]&&(S=4),(N=S)==0){if(e(se!=null),j.data=q.data,j.w=q.w+q.offset,j.ha=q.ha-q.offset,j.put=Bt,j.ac=Kr,j.bc=Hs,j.ma=se,q.xa){if((S=TA())==null){se=1;break e}if(function(me,Ie){var Fe=[0],je=[0],Pe=[0];t:for(;;){if(me==null)return 0;if(Ie==null)return me.a=2,0;if(me.l=Ie,me.a=0,Z(me.m,Ie.data,Ie.w,Ie.ha),!ri(me.m,Fe,je,Pe)){me.a=3;break t}if(me.xb=X1,Ie.width=Fe[0],Ie.height=je[0],!xl(Fe[0],je[0],1,me,null))break t;return 1}return e(me.a!=0),0}(S,j)){if(j=(N=Nc(j.width,j.height,se.Oa,se.ba))==0){t:{j=S;n:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((P=j.l)!=null),e((q=P.ma)!=null),j.xb!=0){if(j.ca=q.ba,j.tb=q.tb,e(j.ca!=null),!tp(q.Oa,P,ip)){j.a=2;break n}if(!FA(j,P.width)||P.da)break n;if((P.da||Kt(j.ca.S))&&ii(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&ii()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!Ae(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!xi(j,j.V,j.Ba,j.c,j.i,P.o,dc))break n;q.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(N=S.a)}else N=S.a}else{if((S=new Ud)==null){se=1;break e}if(S.Fa=q.na,S.P=q.P,S.qc=q.Sa,ua(S,j)){if((N=Nc(j.width,j.height,se.Oa,se.ba))==0){if(S.Aa=0,P=se.Oa,e((q=S)!=null),P!=null){if(0<(he=0>(he=P.Md)?0:100<he?255:255*he/100)){for(pe=_e=0;4>pe;++pe)12>(Re=q.pb[pe]).lc&&(Re.ia=he*Uoe[0>Re.lc?0:Re.lc]>>3),_e|=Re.ia;_e&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=P.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}(function(me,Ie){if(me==null)return 0;if(Ie==null)return Cr(me,2,"NULL VP8Io parameter in VP8Decode().");if(!me.cb&&!ua(me,Ie))return 0;if(e(me.cb),Ie.ac==null||Ie.ac(Ie)){Ie.ob&&(me.L=0);var Fe=tC[me.L];if(me.L==2?(me.yb=0,me.zb=0):(me.yb=Ie.v-Fe>>4,me.zb=Ie.j-Fe>>4,0>me.yb&&(me.yb=0),0>me.zb&&(me.zb=0)),me.Va=Ie.o+15+Fe>>4,me.Hb=Ie.va+15+Fe>>4,me.Hb>me.za&&(me.Hb=me.za),me.Va>me.Ub&&(me.Va=me.Ub),0<me.L){var je=me.ed;for(Fe=0;4>Fe;++Fe){var Pe;if(me.Qa.Cb){var He=me.Qa.Lb[Fe];me.Qa.Fb||(He+=je.Tb)}else He=je.Tb;for(Pe=0;1>=Pe;++Pe){var Ve=me.gd[Fe][Pe],et=He;if(je.Pc&&(et+=je.vd[0],Pe&&(et+=je.od[0])),0<(et=0>et?0:63<et?63:et)){var Je=et;0<je.wb&&(Je=4<je.wb?Je>>2:Je>>1)>9-je.wb&&(Je=9-je.wb),1>Je&&(Je=1),Ve.dd=Je,Ve.tc=2*et+Je,Ve.ld=40<=et?2:15<=et?1:0}else Ve.tc=0;Ve.La=Pe}}}Fe=0}else Cr(me,6,"Frame setup failed"),Fe=me.a;if(Fe=Fe==0){if(Fe){me.$c=0,0<me.Aa||(me.Ic=Moe);t:{Fe=me.Ic,je=4*(Je=me.za);var jt=32*Je,Et=Je+1,xn=0<me.L?Je*(0<me.Aa?2:1):0,Ut=(me.Aa==2?2:1)*Je;if((Ve=je+832+(Pe=3*(16*Fe+tC[me.L])/2*jt)+(He=me.Fa!=null&&0<me.Fa.length?me.Kc.c*me.Kc.i:0))!=Ve)Fe=0;else{if(Ve>me.Vb){if(me.Vb=0,me.Ec=i(Ve),me.Fc=0,me.Ec==null){Fe=Cr(me,1,"no memory during frame initialization.");break t}me.Vb=Ve}Ve=me.Ec,et=me.Fc,me.Ac=Ve,me.Bc=et,et+=je,me.Gd=o(jt,Wf),me.Hd=0,me.rb=o(Et+1,zf),me.sb=1,me.wa=xn?o(xn,ca):null,me.Y=0,me.D.Nb=0,me.D.wa=me.wa,me.D.Y=me.Y,0<me.Aa&&(me.D.Y+=Je),e(!0),me.oc=Ve,me.pc=et,et+=832,me.ya=o(Ut,hc),me.aa=0,me.D.ya=me.ya,me.D.aa=me.aa,me.Aa==2&&(me.D.aa+=Je),me.R=16*Je,me.B=8*Je,Je=(jt=tC[me.L])*me.R,jt=jt/2*me.B,me.sa=Ve,me.ta=et+Je,me.qa=me.sa,me.ra=me.ta+16*Fe*me.R+jt,me.Ha=me.qa,me.Ia=me.ra+8*Fe*me.B+jt,me.$c=0,et+=Pe,me.mb=He?Ve:null,me.nb=He?et:null,e(et+He<=me.Fc+me.Vb),Fr(me),s(me.Ac,me.Bc,0,je),Fe=1}}if(Fe){if(Ie.ka=0,Ie.y=me.sa,Ie.O=me.ta,Ie.f=me.qa,Ie.N=me.ra,Ie.ea=me.Ha,Ie.Vd=me.Ia,Ie.fa=me.R,Ie.Rc=me.B,Ie.F=null,Ie.J=0,!q2){for(Fe=-255;255>=Fe;++Fe)Ll[255+Fe]=0>Fe?-Fe:Fe;for(Fe=-1020;1020>=Fe;++Fe)G1[1020+Fe]=-128>Fe?-128:127<Fe?127:Fe;for(Fe=-112;112>=Fe;++Fe)K1[112+Fe]=-16>Fe?-16:15<Fe?15:Fe;for(Fe=-255;510>=Fe;++Fe)Xd[255+Fe]=0>Fe?0:255<Fe?255:Fe;q2=1}Tl=Cl,Lu=pc,Lo=er,Zn=bl,ar=_u,ma=Md,as=Jf,gs=RA,kc=K,so=fe,Tc=lg,cg=E,rp=be,V2=ke,z1=si,W2=xc,qd=Zf,G2=ag,Va[0]=ig,Va[1]=DA,Va[2]=Aa,Va[3]=ir,Va[4]=Ma,Va[5]=qf,Va[6]=Qa,Va[7]=gc,Va[8]=yc,Va[9]=Eu,Pu[0]=jd,Pu[1]=Kf,Pu[2]=Nu,Pu[3]=Qd,Pu[4]=Iu,Pu[5]=PA,Pu[6]=H1,Dl[0]=og,Dl[1]=Gf,Dl[2]=Ur,Dl[3]=wc,Dl[4]=Hd,Dl[5]=Xf,Dl[6]=zd,Fe=1}else Fe=0}Fe&&(Fe=function(Qn,ai){for(Qn.M=0;Qn.M<Qn.Va;++Qn.M){var bn,Mt=Qn.Jc[Qn.M&Qn.Xb],ut=Qn.m,Ts=Qn;for(bn=0;bn<Ts.za;++bn){var mn=ut,Vn=Ts,Qr=Vn.Ac,Ui=Vn.Bc+4*bn,Po=Vn.zc,ys=Vn.ya[Vn.aa+bn];if(Vn.Qa.Bb?ys.$b=Ne(mn,Vn.Pa.jb[0])?2+Ne(mn,Vn.Pa.jb[2]):Ne(mn,Vn.Pa.jb[1]):ys.$b=0,Vn.kc&&(ys.Ad=Ne(mn,Vn.Bd)),ys.Za=!Ne(mn,145)+0,ys.Za){var ao=ys.Ob,Ro=0;for(Vn=0;4>Vn;++Vn){var li,qn=Po[0+Vn];for(li=0;4>li;++li){qn=oo[Qr[Ui+li]][qn];for(var hr=ks[Ne(mn,qn[0])];0<hr;)hr=ks[2*hr+Ne(mn,qn[hr])];qn=-hr,Qr[Ui+li]=qn}r(ao,Ro,Qr,Ui,4),Ro+=4,Po[0+Vn]=qn}}else qn=Ne(mn,156)?Ne(mn,128)?1:3:Ne(mn,163)?2:0,ys.Ob[0]=qn,s(Qr,Ui,qn,4),s(Po,0,qn,4);ys.Dd=Ne(mn,142)?Ne(mn,114)?Ne(mn,183)?1:3:2:0}if(Ts.m.Ka)return Cr(Qn,7,"Premature end-of-partition0 encountered.");for(;Qn.ja<Qn.za;++Qn.ja){if(Ts=Mt,mn=(ut=Qn).rb[ut.sb-1],Qr=ut.rb[ut.sb+ut.ja],bn=ut.ya[ut.aa+ut.ja],Ui=ut.kc?bn.Ad:0)mn.la=Qr.la=0,bn.Za||(mn.Na=Qr.Na=0),bn.Hc=0,bn.Gc=0,bn.ia=0;else{var ws,fr;if(mn=Qr,Qr=Ts,Ui=ut.Pa.Xc,Po=ut.ya[ut.aa+ut.ja],ys=ut.pb[Po.$b],Vn=Po.ad,ao=0,Ro=ut.rb[ut.sb-1],qn=li=0,s(Vn,ao,0,384),Po.Za)var Mi=0,Fc=Ui[3];else{hr=i(16);var Fs=mn.Na+Ro.Na;if(Fs=Vt(Qr,Ui[1],Fs,ys.Eb,0,hr,0),mn.Na=Ro.Na=(0<Fs)+0,1<Fs)Tl(hr,0,Vn,ao);else{var ya=hr[0]+3>>3;for(hr=0;256>hr;hr+=16)Vn[ao+hr]=ya}Mi=1,Fc=Ui[0]}var Br=15&mn.la,ci=15&Ro.la;for(hr=0;4>hr;++hr){var Wa=1&ci;for(ya=fr=0;4>ya;++ya)Br=Br>>1|(Wa=(Fs=Vt(Qr,Fc,Fs=Wa+(1&Br),ys.Sc,Mi,Vn,ao))>Mi)<<7,fr=fr<<2|(3<Fs?3:1<Fs?2:Vn[ao+0]!=0),ao+=16;Br>>=4,ci=ci>>1|Wa<<7,li=(li<<8|fr)>>>0}for(Fc=Br,Mi=ci>>4,ws=0;4>ws;ws+=2){for(fr=0,Br=mn.la>>4+ws,ci=Ro.la>>4+ws,hr=0;2>hr;++hr){for(Wa=1&ci,ya=0;2>ya;++ya)Fs=Wa+(1&Br),Br=Br>>1|(Wa=0<(Fs=Vt(Qr,Ui[2],Fs,ys.Qc,0,Vn,ao)))<<3,fr=fr<<2|(3<Fs?3:1<Fs?2:Vn[ao+0]!=0),ao+=16;Br>>=2,ci=ci>>1|Wa<<5}qn|=fr<<4*ws,Fc|=Br<<4<<ws,Mi|=(240&ci)<<ws}mn.la=Fc,Ro.la=Mi,Po.Hc=li,Po.Gc=qn,Po.ia=43690&qn?0:ys.ia,Ui=!(li|qn)}if(0<ut.L&&(ut.wa[ut.Y+ut.ja]=ut.gd[bn.$b][bn.Za],ut.wa[ut.Y+ut.ja].La|=!Ui),Ts.Ka)return Cr(Qn,7,"Premature end-of-file encountered.")}if(Fr(Qn),ut=ai,Ts=1,bn=(Mt=Qn).D,mn=0<Mt.L&&Mt.M>=Mt.zb&&Mt.M<=Mt.Va,Mt.Aa==0)t:{if(bn.M=Mt.M,bn.uc=mn,fa(Mt,bn),Ts=1,bn=(fr=Mt.D).Nb,mn=(qn=tC[Mt.L])*Mt.R,Qr=qn/2*Mt.B,hr=16*bn*Mt.R,ya=8*bn*Mt.B,Ui=Mt.sa,Po=Mt.ta-mn+hr,ys=Mt.qa,Vn=Mt.ra-Qr+ya,ao=Mt.Ha,Ro=Mt.Ia-Qr+ya,ci=(Br=fr.M)==0,li=Br>=Mt.Va-1,Mt.Aa==2&&fa(Mt,fr),fr.uc)for(Wa=(Fs=Mt).D.M,e(Fs.D.uc),fr=Fs.yb;fr<Fs.Hb;++fr){Mi=fr,Fc=Wa;var Oo=(Ga=(Qi=Fs).D).Nb;ws=Qi.R;var Ga=Ga.wa[Ga.Y+Mi],Ka=Qi.sa,wa=Qi.ta+16*Oo*ws+16*Mi,qa=Ga.dd,Lr=Ga.tc;if(Lr!=0)if(e(3<=Lr),Qi.L==1)0<Mi&&W2(Ka,wa,ws,Lr+4),Ga.La&&G2(Ka,wa,ws,Lr),0<Fc&&z1(Ka,wa,ws,Lr+4),Ga.La&&qd(Ka,wa,ws,Lr);else{var Xa=Qi.B,Lc=Qi.qa,ap=Qi.ra+8*Oo*Xa+8*Mi,QA=Qi.Ha,Qi=Qi.Ia+8*Oo*Xa+8*Mi;Oo=Ga.ld,0<Mi&&(gs(Ka,wa,ws,Lr+4,qa,Oo),so(Lc,ap,QA,Qi,Xa,Lr+4,qa,Oo)),Ga.La&&(cg(Ka,wa,ws,Lr,qa,Oo),V2(Lc,ap,QA,Qi,Xa,Lr,qa,Oo)),0<Fc&&(as(Ka,wa,ws,Lr+4,qa,Oo),kc(Lc,ap,QA,Qi,Xa,Lr+4,qa,Oo)),Ga.La&&(Tc(Ka,wa,ws,Lr,qa,Oo),rp(Lc,ap,QA,Qi,Xa,Lr,qa,Oo))}}if(Mt.ia&&alert("todo:DitherRow"),ut.put!=null){if(fr=16*Br,Br=16*(Br+1),ci?(ut.y=Mt.sa,ut.O=Mt.ta+hr,ut.f=Mt.qa,ut.N=Mt.ra+ya,ut.ea=Mt.Ha,ut.W=Mt.Ia+ya):(fr-=qn,ut.y=Ui,ut.O=Po,ut.f=ys,ut.N=Vn,ut.ea=ao,ut.W=Ro),li||(Br-=qn),Br>ut.o&&(Br=ut.o),ut.F=null,ut.J=null,Mt.Fa!=null&&0<Mt.Fa.length&&fr<Br&&(ut.J=or(Mt,ut,fr,Br-fr),ut.F=Mt.mb,ut.F==null&&ut.F.length==0)){Ts=Cr(Mt,3,"Could not decode alpha data.");break t}fr<ut.j&&(qn=ut.j-fr,fr=ut.j,e(!(1&qn)),ut.O+=Mt.R*qn,ut.N+=Mt.B*(qn>>1),ut.W+=Mt.B*(qn>>1),ut.F!=null&&(ut.J+=ut.width*qn)),fr<Br&&(ut.O+=ut.v,ut.N+=ut.v>>1,ut.W+=ut.v>>1,ut.F!=null&&(ut.J+=ut.v),ut.ka=fr-ut.j,ut.U=ut.va-ut.v,ut.T=Br-fr,Ts=ut.put(ut))}bn+1!=Mt.Ic||li||(r(Mt.sa,Mt.ta-mn,Ui,Po+16*Mt.R,mn),r(Mt.qa,Mt.ra-Qr,ys,Vn+8*Mt.B,Qr),r(Mt.Ha,Mt.Ia-Qr,ao,Ro+8*Mt.B,Qr))}if(!Ts)return Cr(Qn,6,"Output aborted.")}return 1}(me,Ie)),Ie.bc!=null&&Ie.bc(Ie),Fe&=1}return Fe?(me.cb=0,Fe):0})(S,j)||(N=S.a)}}else N=S.a}N==0&&se.Oa!=null&&se.Oa.fd&&(N=_c(se.ba))}se=N}te=se!=0?null:11>te?ae.f.RGBA.eb:ae.f.kb.y}else te=null;return te};var oU=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(D,H){for(var R="",U=0;U<4;U++)R+=String.fromCharCode(D[H++]);return R}function u(D,H){return D[H+0]|D[H+1]<<8}function A(D,H){return(D[H+0]|D[H+1]<<8|D[H+2]<<16)>>>0}function d(D,H){return(D[H+0]|D[H+1]<<8|D[H+2]<<16|D[H+3]<<24)>>>0}new l;var h=[0],p=[0],m=[],y=new l,g=t,v=function(D,H){var R={},U=0,W=!1,$=0,Y=0;if(R.frames=[],!function(M,G){for(var X=0;X<4;X++)if(M[G+X]!="RIFF".charCodeAt(X))return!0;return!1}(D,H)){for(d(D,H+=4),H+=8;H<D.length;){var J=c(D,H),oe=d(D,H+=4);H+=4;var V=oe+(1&oe);switch(J){case"VP8 ":case"VP8L":R.frames[U]===void 0&&(R.frames[U]={}),(ce=R.frames[U]).src_off=W?Y:H-8,ce.src_size=$+oe+8,U++,W&&(W=!1,$=0,Y=0);break;case"VP8X":(ce=R.header={}).feature_flags=D[H];var Z=H+4;ce.canvas_width=1+A(D,Z),Z+=3,ce.canvas_height=1+A(D,Z),Z+=3;break;case"ALPH":W=!0,$=V+8,Y=H-8;break;case"ANIM":(ce=R.header).bgcolor=d(D,H),Z=H+4,ce.loop_count=u(D,Z),Z+=2;break;case"ANMF":var le,ce;(ce=R.frames[U]={}).offset_x=2*A(D,H),H+=3,ce.offset_y=2*A(D,H),H+=3,ce.width=1+A(D,H),H+=3,ce.height=1+A(D,H),H+=3,ce.duration=A(D,H),H+=3,le=D[H++],ce.dispose=1&le,ce.blend=le>>1&1}J!="ANMF"&&(H+=V)}return R}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var b=v.header?v.header:null,C=v.frames?v.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],p=[b.canvas_width];for(var _=0;_<C.length&&C[_].blend!=0;_++);}var I=C[0],F=y.WebPDecodeRGBA(g,I.src_off,I.src_size,p,h);I.rgba=F,I.imgwidth=p[0],I.imgheight=h[0];for(var T=0;T<p[0]*h[0]*4;T++)m[T]=F[T];return this.width=p,this.height=h,this.data=m,this}(function(t){var e,n,r,s,i,o,a,l,c,u=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new A(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var A=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=M;Object.defineProperty(this,"pdf",{get:function(){return G}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Ae){X=!!Ae}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(Ae){re=!!Ae}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(Ae){isNaN(Ae)||(ue=Ae)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(Ae){isNaN(Ae)||(de=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Ae){var Ge;typeof Ae=="number"?Ge=[Ae,Ae,Ae,Ae]:((Ge=new Array(4))[0]=Ae[0],Ge[1]=Ae.length>=2?Ae[1]:Ge[0],Ge[2]=Ae.length>=3?Ae[2]:Ge[0],Ge[3]=Ae.length>=4?Ae[3]:Ge[1]),c.margin=Ge}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(Ae){we=Ae}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(Ae){Ce=Ae}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(Ae){Ne=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Ae){Ae instanceof u&&(c=Ae)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Ae){c.path=Ae}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(Ae){Ee=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var Ge;Ge=d(Ae),this.ctx.fillStyle=Ge.style,this.ctx.isFillTransparent=Ge.a===0,this.ctx.fillOpacity=Ge.a,this.pdf.setFillColor(Ge.r,Ge.g,Ge.b,{a:Ge.a}),this.pdf.setTextColor(Ge.r,Ge.g,Ge.b,{a:Ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var Ge=d(Ae);this.ctx.strokeStyle=Ge.style,this.ctx.isStrokeTransparent=Ge.a===0,this.ctx.strokeOpacity=Ge.a,Ge.a===0?this.pdf.setDrawColor(255,255,255):(Ge.a,this.pdf.setDrawColor(Ge.r,Ge.g,Ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var Ue=null,ze=null,tt=null;Object.defineProperty(this,"fontFaces",{get:function(){return tt},set:function(Ae){Ue=null,ze=null,tt=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var Ge;if(this.ctx.font=Ae,(Ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Ae))!==null){var At=Ge[1];Ge[2];var rt=Ge[3],We=Ge[4];Ge[5];var dt=Ge[6],at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(We)[2];We=Math.floor(at==="px"?parseFloat(We)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(We)*this.pdf.getFontSize():parseFloat(We)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(We);var gt=function(St){var vr,An,Yt=[],sn=St.trim();if(sn==="")return R5;if(sn in aH)return[aH[sn]];for(;sn!=="";){switch(An=null,vr=(sn=cH(sn)).charAt(0)){case'"':case"'":An=gke(sn.substring(1),vr);break;default:An=yke(sn)}if(An===null||(Yt.push(An[0]),(sn=cH(An[1]))!==""&&sn.charAt(0)!==","))return R5;sn=sn.replace(/^,/,"")}return Yt}(dt);if(this.fontFaces){var mt=function(St,vr){var An=St.getFontList(),Yt=JSON.stringify(An);if(Ue===null||ze!==Yt){var sn=function(Gn){var Ot=[];return Object.keys(Gn).forEach(function(rr){Gn[rr].forEach(function(Kt){var nn=null;switch(Kt){case"bold":nn={family:rr,weight:"bold"};break;case"italic":nn={family:rr,style:"italic"};break;case"bolditalic":nn={family:rr,weight:"bold",style:"italic"};break;case"":case"normal":nn={family:rr}}nn!==null&&(nn.ref={name:rr,style:Kt},Ot.push(nn))})}),Ot}(An);Ue=function(Gn){for(var Ot={},rr=0;rr<Gn.length;++rr){var Kt=P5(Gn[rr]),nn=Kt.family,Ar=Kt.stretch,dn=Kt.style,$t=Kt.weight;Ot[nn]=Ot[nn]||{},Ot[nn][Ar]=Ot[nn][Ar]||{},Ot[nn][Ar][dn]=Ot[nn][Ar][dn]||{},Ot[nn][Ar][dn][$t]=Kt}return Ot}(sn.concat(vr)),ze=Yt}return Ue}(this.pdf,this.fontFaces),cn=gt.map(function(St){return{family:St,stretch:"normal",weight:rt,style:At}}),Zt=function(St,vr,An){for(var Yt=(An=An||{}).defaultFontFamily||"times",sn=Object.assign({},mke,An.genericFontFamilies||{}),Gn=null,Ot=null,rr=0;rr<vr.length;++rr)if(sn[(Gn=P5(vr[rr])).family]&&(Gn.family=sn[Gn.family]),St.hasOwnProperty(Gn.family)){Ot=St[Gn.family];break}if(!(Ot=Ot||St[Yt]))throw new Error("Could not find a font-family for the rule '"+lH(Gn)+"' and default family '"+Yt+"'.");if(Ot=function(Kt,nn){if(nn[Kt])return nn[Kt];var Ar=R3[Kt],dn=Ar<=R3.normal?-1:1,$t=oH(nn,wJ,Ar,dn);if(!$t)throw new Error("Could not find a matching font-stretch value for "+Kt);return $t}(Gn.stretch,Ot),Ot=function(Kt,nn){if(nn[Kt])return nn[Kt];for(var Ar=yJ[Kt],dn=0;dn<Ar.length;++dn)if(nn[Ar[dn]])return nn[Ar[dn]];throw new Error("Could not find a matching font-style for "+Kt)}(Gn.style,Ot),!(Ot=function(Kt,nn){if(nn[Kt])return nn[Kt];if(Kt===400&&nn[500])return nn[500];if(Kt===500&&nn[400])return nn[400];var Ar=pke[Kt],dn=oH(nn,vJ,Ar,Kt<400?-1:1);if(!dn)throw new Error("Could not find a matching font-weight for value "+Kt);return dn}(Gn.weight,Ot)))throw new Error("Failed to resolve a font for the rule '"+lH(Gn)+"'.");return Ot}(mt,cn);this.pdf.setFont(Zt.ref.name,Zt.ref.style)}else{var vt="";(rt==="bold"||parseInt(rt,10)>=700||At==="bold")&&(vt="bold"),At==="italic"&&(vt+="italic"),vt.length===0&&(vt="normal");for(var Wt="",Jt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xt=0;xt<gt.length;xt++){if(this.pdf.internal.getFont(gt[xt],vt,{noFallback:!0,disableWarning:!0})!==void 0){Wt=gt[xt];break}if(vt==="bolditalic"&&this.pdf.internal.getFont(gt[xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Wt=gt[xt],vt="bold";else if(this.pdf.internal.getFont(gt[xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Wt=gt[xt],vt="normal";break}}if(Wt===""){for(var Gt=0;Gt<gt.length;Gt++)if(Jt[gt[Gt]]){Wt=Jt[gt[Gt]];break}}Wt=Wt===""?"Times":Wt,this.pdf.setFont(Wt,vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};A.prototype.setLineDash=function(M){this.lineDash=M},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){C.call(this,"fill",!1)},A.prototype.stroke=function(){C.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(M,G){if(isNaN(M)||isNaN(G))throw _r.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new o(M,G));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(M,G)},A.prototype.closePath=function(){var M=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&mr(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){M=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},A.prototype.lineTo=function(M,G){if(isNaN(M)||isNaN(G))throw _r.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new o(M,G));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},A.prototype.quadraticCurveTo=function(M,G,X,re){if(isNaN(X)||isNaN(re)||isNaN(M)||isNaN(G))throw _r.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new o(X,re)),de=this.ctx.transform.applyToPoint(new o(M,G));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},A.prototype.bezierCurveTo=function(M,G,X,re,ue,de){if(isNaN(ue)||isNaN(de)||isNaN(M)||isNaN(G)||isNaN(X)||isNaN(re))throw _r.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new o(ue,de)),Ce=this.ctx.transform.applyToPoint(new o(M,G)),Ne=this.ctx.transform.applyToPoint(new o(X,re));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:Ne.x,y2:Ne.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},A.prototype.arc=function(M,G,X,re,ue,de){if(isNaN(M)||isNaN(G)||isNaN(X)||isNaN(re)||isNaN(ue))throw _r.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new o(M,G));M=we.x,G=we.y;var Ce=this.ctx.transform.applyToPoint(new o(0,X)),Ne=this.ctx.transform.applyToPoint(new o(0,0));X=Math.sqrt(Math.pow(Ce.x-Ne.x,2)+Math.pow(Ce.y-Ne.y,2))}Math.abs(ue-re)>=2*Math.PI&&(re=0,ue=2*Math.PI),this.path.push({type:"arc",x:M,y:G,radius:X,startAngle:re,endAngle:ue,counterclockwise:de})},A.prototype.arcTo=function(M,G,X,re,ue){throw new Error("arcTo not implemented.")},A.prototype.rect=function(M,G,X,re){if(isNaN(M)||isNaN(G)||isNaN(X)||isNaN(re))throw _r.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,G),this.lineTo(M+X,G),this.lineTo(M+X,G+re),this.lineTo(M,G+re),this.lineTo(M,G),this.lineTo(M+X,G),this.lineTo(M,G)},A.prototype.fillRect=function(M,G,X,re){if(isNaN(M)||isNaN(G)||isNaN(X)||isNaN(re))throw _r.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,G,X,re),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},A.prototype.strokeRect=function(M,G,X,re){if(isNaN(M)||isNaN(G)||isNaN(X)||isNaN(re))throw _r.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(M,G,X,re),this.stroke())},A.prototype.clearRect=function(M,G,X,re){if(isNaN(M)||isNaN(G)||isNaN(X)||isNaN(re))throw _r.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,G,X,re))},A.prototype.save=function(M){M=typeof M!="boolean"||M;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},A.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(G),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(M){var G,X,re,ue;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))G=0,X=0,re=0,ue=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(de!==null)G=parseInt(de[1]),X=parseInt(de[2]),re=parseInt(de[3]),ue=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)G=parseInt(de[1]),X=parseInt(de[2]),re=parseInt(de[3]),ue=parseFloat(de[4]);else{if(ue=1,typeof M=="string"&&M.charAt(0)!=="#"){var we=new AJ(M);M=we.ok?we.toHex():"#000000"}M.length===4?(G=M.substring(1,2),G+=G,X=M.substring(2,3),X+=X,re=M.substring(3,4),re+=re):(G=M.substring(1,3),X=M.substring(3,5),re=M.substring(5,7)),G=parseInt(G,16),X=parseInt(X,16),re=parseInt(re,16)}}return{r:G,g:X,b:re,a:ue,style:M}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(M,G,X,re){if(isNaN(G)||isNaN(X)||typeof M!="string")throw _r.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!h.call(this)){var ue=V(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;U.call(this,{text:M,x:G,y:X,scale:de,angle:ue,align:this.textAlign,maxWidth:re})}},A.prototype.strokeText=function(M,G,X,re){if(isNaN(G)||isNaN(X)||typeof M!="string")throw _r.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){re=isNaN(re)?void 0:re;var ue=V(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;U.call(this,{text:M,x:G,y:X,scale:de,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:re})}},A.prototype.measureText=function(M){if(typeof M!="string")throw _r.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,X=this.pdf.internal.scaleFactor,re=G.internal.getFontSize(),ue=G.getStringUnitWidth(M)*re/G.internal.scaleFactor;return new function(de){var we=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this}({width:ue*=Math.round(96*X/72*1e4)/1e4})},A.prototype.scale=function(M,G){if(isNaN(M)||isNaN(G))throw _r.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(M,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},A.prototype.rotate=function(M){if(isNaN(M))throw _r.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},A.prototype.translate=function(M,G){if(isNaN(M)||isNaN(G))throw _r.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,M,G);this.ctx.transform=this.ctx.transform.multiply(X)},A.prototype.transform=function(M,G,X,re,ue,de){if(isNaN(M)||isNaN(G)||isNaN(X)||isNaN(re)||isNaN(ue)||isNaN(de))throw _r.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new l(M,G,X,re,ue,de);this.ctx.transform=this.ctx.transform.multiply(we)},A.prototype.setTransform=function(M,G,X,re,ue,de){M=isNaN(M)?1:M,G=isNaN(G)?0:G,X=isNaN(X)?0:X,re=isNaN(re)?1:re,ue=isNaN(ue)?0:ue,de=isNaN(de)?0:de,this.ctx.transform=new l(M,G,X,re,ue,de)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(M,G,X,re,ue,de,we,Ce,Ne){var Ee=this.pdf.getImageProperties(M),Ue=1,ze=1,tt=1,Ae=1;re!==void 0&&Ce!==void 0&&(tt=Ce/re,Ae=Ne/ue,Ue=Ee.width/re*Ce/re,ze=Ee.height/ue*Ne/ue),de===void 0&&(de=G,we=X,G=0,X=0),re!==void 0&&Ce===void 0&&(Ce=re,Ne=ue),re===void 0&&Ce===void 0&&(Ce=Ee.width,Ne=Ee.height);var Ge=this.ctx.transform.decompose(),At=V(Ge.rotate.shx),rt=new l,We=(rt=(rt=(rt=rt.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale)).applyToRectangle(new a(de-G*tt,we-X*Ae,re*Ue,ue*ze));if(this.autoPaging){for(var dt,at=y.call(this,We),gt=[],mt=0;mt<at.length;mt+=1)gt.indexOf(at[mt])===-1&&gt.push(at[mt]);b(gt);for(var cn=gt[0],Zt=gt[gt.length-1],vt=cn;vt<Zt+1;vt++){this.pdf.setPage(vt);var Wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Jt=vt===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=vt===1?0:xt+(vt-2)*Gt;if(this.ctx.clip_path.length!==0){var vr=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(dt,this.posX+this.margin[3],-St+Jt+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=vr}var An=JSON.parse(JSON.stringify(We));An=v([An],this.posX+this.margin[3],-St+Jt+this.ctx.prevPageLastElemOffset)[0];var Yt=(vt>cn||vt<Zt)&&m.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wt,Gt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",An.x,An.y,An.w,An.h,null,null,At),Yt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(M,"JPEG",We.x,We.y,We.w,We.h,null,null,At)};var y=function(M,G,X){var re=[];G=G||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":re.push(Math.floor((M.y+ue)/X)+1);break;case"arc":re.push(Math.floor((M.y+ue-M.radius)/X)+1),re.push(Math.floor((M.y+ue+M.radius)/X)+1);break;case"qct":var de=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);re.push(Math.floor((de.y+ue)/X)+1),re.push(Math.floor((de.y+de.h+ue)/X)+1);break;case"bct":var we=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);re.push(Math.floor((we.y+ue)/X)+1),re.push(Math.floor((we.y+we.h+ue)/X)+1);break;case"rect":re.push(Math.floor((M.y+ue)/X)+1),re.push(Math.floor((M.y+M.h+ue)/X)+1)}for(var Ce=0;Ce<re.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<re[Ce];)g.call(this);return re},g=function(){var M=this.fillStyle,G=this.strokeStyle,X=this.font,re=this.lineCap,ue=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=G,this.font=X,this.lineCap=re,this.lineWidth=ue,this.lineJoin=de},v=function(M,G,X){for(var re=0;re<M.length;re++)switch(M[re].type){case"bct":M[re].x2+=G,M[re].y2+=X;case"qct":M[re].x1+=G,M[re].y1+=X;default:M[re].x+=G,M[re].y+=X}return M},b=function(M){return M.sort(function(G,X){return G-X})},C=function(M,G){var X=this.fillStyle,re=this.strokeStyle,ue=this.lineCap,de=this.lineWidth,we=Math.abs(de*this.ctx.transform.scaleX),Ce=this.lineJoin;if(this.autoPaging){for(var Ne,Ee,Ue=JSON.parse(JSON.stringify(this.path)),ze=JSON.parse(JSON.stringify(this.path)),tt=[],Ae=0;Ae<ze.length;Ae++)if(ze[Ae].x!==void 0)for(var Ge=y.call(this,ze[Ae]),At=0;At<Ge.length;At+=1)tt.indexOf(Ge[At])===-1&&tt.push(Ge[At]);for(var rt=0;rt<tt.length;rt++)for(;this.pdf.internal.getNumberOfPages()<tt[rt];)g.call(this);b(tt);for(var We=tt[0],dt=tt[tt.length-1],at=We;at<dt+1;at++){this.pdf.setPage(at),this.fillStyle=X,this.strokeStyle=re,this.lineCap=ue,this.lineWidth=we,this.lineJoin=Ce;var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=at===1?this.posY+this.margin[0]:this.margin[0],cn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=at===1?0:cn+(at-2)*Zt;if(this.ctx.clip_path.length!==0){var Wt=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Ne,this.posX+this.margin[3],-vt+mt+this.ctx.prevPageLastElemOffset),_.call(this,M,!0),this.path=Wt}if(Ee=JSON.parse(JSON.stringify(Ue)),this.path=v(Ee,this.posX+this.margin[3],-vt+mt+this.ctx.prevPageLastElemOffset),G===!1||at===0){var Jt=(at>We||at<dt)&&m.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,Zt,null).clip().discardPath()),_.call(this,M,G),Jt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}this.path=Ue}else this.lineWidth=we,_.call(this,M,G),this.lineWidth=de},_=function(M,G){if((M!=="stroke"||G||!p.call(this))&&(M==="stroke"||G||!h.call(this))){for(var X,re,ue=[],de=this.path,we=0;we<de.length;we++){var Ce=de[we];switch(Ce.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:Ce,deltas:[],abs:[]});break;case"lt":var Ne=ue.length;if(de[we-1]&&!isNaN(de[we-1].x)&&(X=[Ce.x-de[we-1].x,Ce.y-de[we-1].y],Ne>0)){for(;Ne>=0;Ne--)if(ue[Ne-1].close!==!0&&ue[Ne-1].begin!==!0){ue[Ne-1].deltas.push(X),ue[Ne-1].abs.push(Ce);break}}break;case"bct":X=[Ce.x1-de[we-1].x,Ce.y1-de[we-1].y,Ce.x2-de[we-1].x,Ce.y2-de[we-1].y,Ce.x-de[we-1].x,Ce.y-de[we-1].y],ue[ue.length-1].deltas.push(X);break;case"qct":var Ee=de[we-1].x+2/3*(Ce.x1-de[we-1].x),Ue=de[we-1].y+2/3*(Ce.y1-de[we-1].y),ze=Ce.x+2/3*(Ce.x1-Ce.x),tt=Ce.y+2/3*(Ce.y1-Ce.y),Ae=Ce.x,Ge=Ce.y;X=[Ee-de[we-1].x,Ue-de[we-1].y,ze-de[we-1].x,tt-de[we-1].y,Ae-de[we-1].x,Ge-de[we-1].y],ue[ue.length-1].deltas.push(X);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(Ce)}}re=G?null:M==="stroke"?"stroke":"fill";for(var At=!1,rt=0;rt<ue.length;rt++)if(ue[rt].arc)for(var We=ue[rt].abs,dt=0;dt<We.length;dt++){var at=We[dt];at.type==="arc"?T.call(this,at.x,at.y,at.radius,at.startAngle,at.endAngle,at.counterclockwise,void 0,G,!At):W.call(this,at.x,at.y),At=!0}else if(ue[rt].close===!0)this.pdf.internal.out("h"),At=!1;else if(ue[rt].begin!==!0){var gt=ue[rt].start.x,mt=ue[rt].start.y;$.call(this,ue[rt].deltas,gt,mt),At=!0}re&&D.call(this,re),G&&H.call(this)}},I=function(M){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-X;case"top":return M+G-X;case"hanging":return M+G-2*X;case"middle":return M+G/2-X;default:return M}},F=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(G,X){this.colorStops.push([G,X])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(M,G,X,re,ue,de,we,Ce,Ne){for(var Ee=J.call(this,X,re,ue,de),Ue=0;Ue<Ee.length;Ue++){var ze=Ee[Ue];Ue===0&&(Ne?R.call(this,ze.x1+M,ze.y1+G):W.call(this,ze.x1+M,ze.y1+G)),Y.call(this,M,G,ze.x2,ze.y2,ze.x3,ze.y3,ze.x4,ze.y4)}Ce?H.call(this):D.call(this,we)},D=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(M,G){this.pdf.internal.out(n(M)+" "+r(G)+" m")},U=function(M){var G;switch(M.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var X,re,ue,de=this.pdf.getTextDimensions(M.text),we=I.call(this,M.y),Ce=F.call(this,we)-de.h,Ne=this.ctx.transform.applyToPoint(new o(M.x,we));if(this.autoPaging){var Ee=this.ctx.transform.decompose(),Ue=new l;Ue=(Ue=(Ue=Ue.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var ze=this.ctx.transform.applyToRectangle(new a(M.x,we,de.w,de.h)),tt=Ue.applyToRectangle(new a(M.x,Ce,de.w,de.h)),Ae=y.call(this,tt),Ge=[],At=0;At<Ae.length;At+=1)Ge.indexOf(Ae[At])===-1&&Ge.push(Ae[At]);b(Ge);for(var rt=Ge[0],We=Ge[Ge.length-1],dt=rt;dt<We+1;dt++){this.pdf.setPage(dt);var at=dt===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[2],cn=mt-this.margin[0],Zt=this.pdf.internal.pageSize.width-this.margin[1],vt=Zt-this.margin[3],Wt=dt===1?0:gt+(dt-2)*cn;if(this.ctx.clip_path.length!==0){var Jt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(X,this.posX+this.margin[3],-1*Wt+at),_.call(this,"fill",!0),this.path=Jt}var xt=v([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-Wt+at+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*M.scale),ue=this.lineWidth,this.lineWidth=ue*M.scale);var Gt=this.autoPaging!=="text";if(Gt||xt.y+xt.h<=mt){if(Gt||xt.y>=at&&xt.x<=Zt){var St=Gt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Zt-xt.x)[0],vr=v([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-Wt+at+this.ctx.prevPageLastElemOffset)[0],An=Gt&&(dt>rt||dt<We)&&m.call(this);An&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,cn,null).clip().discardPath()),this.pdf.text(St,vr.x,vr.y,{angle:M.angle,align:G,renderingMode:M.renderingMode}),An&&this.pdf.restoreGraphicsState()}}else xt.y<mt&&(this.ctx.prevPageLastElemOffset+=mt-xt.y);M.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ue)}}else M.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*M.scale),ue=this.lineWidth,this.lineWidth=ue*M.scale),this.pdf.text(M.text,Ne.x+this.posX,Ne.y+this.posY,{angle:M.angle,align:G,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ue)},W=function(M,G,X,re){X=X||0,re=re||0,this.pdf.internal.out(n(M+X)+" "+r(G+re)+" l")},$=function(M,G,X){return this.pdf.lines(M,G,X,null,null)},Y=function(M,G,X,re,ue,de,we,Ce){this.pdf.internal.out([e(s(X+M)),e(i(re+G)),e(s(ue+M)),e(i(de+G)),e(s(we+M)),e(i(Ce+G)),"c"].join(" "))},J=function(M,G,X,re){for(var ue=2*Math.PI,de=Math.PI/2;G>X;)G-=ue;var we=Math.abs(X-G);we<ue&&re&&(we=ue-we);for(var Ce=[],Ne=re?-1:1,Ee=G;we>1e-5;){var Ue=Ee+Ne*Math.min(we,de);Ce.push(oe.call(this,M,Ee,Ue)),we-=Math.abs(Ue-Ee),Ee=Ue}return Ce},oe=function(M,G,X){var re=(X-G)/2,ue=M*Math.cos(re),de=M*Math.sin(re),we=ue,Ce=-de,Ne=we*we+Ce*Ce,Ee=Ne+we*ue+Ce*de,Ue=4/3*(Math.sqrt(2*Ne*Ee)-Ee)/(we*de-Ce*ue),ze=we-Ue*Ce,tt=Ce+Ue*we,Ae=ze,Ge=-tt,At=re+G,rt=Math.cos(At),We=Math.sin(At);return{x1:M*Math.cos(G),y1:M*Math.sin(G),x2:ze*rt-tt*We,y2:ze*We+tt*rt,x3:Ae*rt-Ge*We,y3:Ae*We+Ge*rt,x4:M*Math.cos(X),y4:M*Math.sin(X)}},V=function(M){return 180*M/Math.PI},Z=function(M,G,X,re,ue,de){var we=M+.5*(X-M),Ce=G+.5*(re-G),Ne=ue+.5*(X-ue),Ee=de+.5*(re-de),Ue=Math.min(M,ue,we,Ne),ze=Math.max(M,ue,we,Ne),tt=Math.min(G,de,Ce,Ee),Ae=Math.max(G,de,Ce,Ee);return new a(Ue,tt,ze-Ue,Ae-tt)},le=function(M,G,X,re,ue,de,we,Ce){var Ne,Ee,Ue,ze,tt,Ae,Ge,At,rt,We,dt,at,gt,mt,cn=X-M,Zt=re-G,vt=ue-X,Wt=de-re,Jt=we-ue,xt=Ce-de;for(Ee=0;Ee<41;Ee++)rt=(Ge=(Ue=M+(Ne=Ee/40)*cn)+Ne*((tt=X+Ne*vt)-Ue))+Ne*(tt+Ne*(ue+Ne*Jt-tt)-Ge),We=(At=(ze=G+Ne*Zt)+Ne*((Ae=re+Ne*Wt)-ze))+Ne*(Ae+Ne*(de+Ne*xt-Ae)-At),Ee==0?(dt=rt,at=We,gt=rt,mt=We):(dt=Math.min(dt,rt),at=Math.min(at,We),gt=Math.max(gt,rt),mt=Math.max(mt,We));return new a(Math.round(dt),Math.round(at),Math.round(gt-dt),Math.round(mt-at))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,G,X=(M=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:G}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(zt.API),function(t){var e=function(o){var a,l,c,u,A,d,h,p,m,y;for(l=[],c=0,u=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;u>c;c+=4)(A=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(d=(A=((A=((A=((A=(A-(y=A%85))/85)-(m=A%85))/85)-(p=A%85))/85)-(h=A%85))/85)%85,l.push(d+33,h+33,p+33,m+33,y+33)):l.push(122);return function(g,v){for(var b=v;b>0;b--)g.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,c,u,A,d=String,h="length",p=255,m="charCodeAt",y="slice",g="replace";for(o[y](-2),o=o[y](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],u=0,A=(o+=a="uuuuu"[y](o[h]%5||5))[h];A>u;u+=5)l=52200625*(o[m](u)-33)+614125*(o[m](u+1)-33)+7225*(o[m](u+2)-33)+85*(o[m](u+3)-33)+(o[m](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(v,b){for(var C=b;C>0;C--)v.pop()}(c,a[h]),d.fromCharCode.apply(d,c)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},i=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=C3(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(o,a){var l=0,c=o||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=s(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(zt.API),function(t){t.loadFile=function(e,n,r){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var A=new XMLHttpRequest,d=0,h=function(p){var m=p.length,y=[],g=String.fromCharCode;for(d=0;d<m;d+=1)y.push(g(255&p.charCodeAt(d)));return y.join("")};if(A.open("GET",l,!c),A.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(A.onload=function(){A.status===200?u(h(this.responseText)):u(void 0)}),A.send(null),c&&A.status===200)return h(A.responseText)}(s,i,o)}catch{}return a}(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(zt.API),function(t){function e(){return(ln.html2canvas?Promise.resolve(ln.html2canvas):A5(()=>Promise.resolve().then(()=>D_e),void 0)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(ln.DOMPurify?Promise.resolve(ln.DOMPurify):A5(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=mr(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),A=l.firstChild;A;A=A.nextSibling)c!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||u.appendChild(a(A,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(c){return this.set({src:s("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],m=p.src.find(function(y){return y.format==="truetype"});m&&c.addFont(m.url,p.ref.name,p.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,c.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||zt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,A){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return c.updateProgress(null,u),d}).then(u,A).then(function(d){return c.updateProgress(1),d})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),d=c.call(A,a,l);return o.convert(d,u.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,zt.getPageSize=function(a,l,c){if(mr(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var A,d=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+l}var p,m=0,y=0;if(h.hasOwnProperty(d))m=h[d][1]/A,y=h[d][0]/A;else try{m=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",y>m&&(p=y,y=m,m=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",m>y&&(p=y,y=m,m=p)}return{width:y,height:m,unit:l,k:A,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(P5):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(zt.API),zt.API.addJS=function(t){return AH=t,this.internal.events.subscribe("postPutResources",function(){gS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(gS+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),uH=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+AH+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){gS!==void 0&&uH!==void 0&&this.internal.out("/Names <</JavaScript "+gS+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var A=n.internal.newObject();u.push(A);var d=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<u.length;i++)n.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,i){var o={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var o=r.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])}(zt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,s,i,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(A){for(var d,h=256*A.charCodeAt(4)+A.charCodeAt(5),p=A.length,m={width:0,height:0,numcomponents:1},y=4;y<p;y+=2){if(y+=h,e.indexOf(A.charCodeAt(y+1))!==-1){d=256*A.charCodeAt(y+5)+A.charCodeAt(y+6),m={width:256*A.charCodeAt(y+7)+A.charCodeAt(y+8),height:d,numcomponents:A.charCodeAt(y+9)};break}h=256*A.charCodeAt(y+2)+A.charCodeAt(y+3)}return m}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:s}}return u}}(zt.API),zt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,i=tke(t,{checkCrc:!0}),o=i.width,a=i.height,l=i.channels,c=i.palette,u=i.depth;s=c&&l===1?function(T){for(var D=T.width,H=T.height,R=T.data,U=T.palette,W=T.depth,$=!1,Y=[],J=[],oe=void 0,V=!1,Z=0,le=0;le<U.length;le++){var ce=ij(U[le],4),M=ce[0],G=ce[1],X=ce[2],re=ce[3];Y.push(M,G,X),re!=null&&(re===0?(Z++,J.length<1&&J.push(le)):re<255&&(V=!0))}if(V||Z>1){$=!0,J=void 0;var ue=D*H;oe=new Uint8Array(ue);for(var de=new DataView(R.buffer),we=0;we<ue;we++){var Ce=O5(de,we,W),Ne=ij(U[Ce],4)[3];oe[we]=Ne}}else Z===0&&(J=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:R,alphaBytes:oe,needSMask:$,palette:Y,mask:J}}(i):l===2||l===4?function(T){for(var D=T.data,H=T.width,R=T.height,U=T.channels,W=T.depth,$=U===2?"DeviceGray":"DeviceRGB",Y=U-1,J=H*R,oe=Y,V=J*oe,Z=1*J,le=Math.ceil(V*W/8),ce=Math.ceil(Z*W/8),M=new Uint8Array(le),G=new Uint8Array(ce),X=new DataView(D.buffer),re=new DataView(M.buffer),ue=new DataView(G.buffer),de=!1,we=0;we<J;we++){for(var Ce=we*U,Ne=0;Ne<oe;Ne++)vH(re,O5(X,Ce+Ne,W),we*oe+Ne,W);var Ee=O5(X,Ce+oe,W);Ee<(1<<W)-1&&(de=!0),vH(ue,Ee,1*we,W)}return{colorSpace:$,colorsPerPixel:Y,sMaskBitsPerComponent:de?W:void 0,colorBytes:M,alphaBytes:G,needSMask:de}}(i):function(T){var D=T.data,H=T.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?function(R){for(var U=R.length,W=new Uint8Array(2*U),$=new DataView(W.buffer,W.byteOffset,W.byteLength),Y=0;Y<U;Y++)$.setUint16(2*Y,R[Y],!1);return W}(D):D,needSMask:!1}}(i);var A,d,h,p=s,m=p.colorSpace,y=p.colorsPerPixel,g=p.sMaskBitsPerComponent,v=p.colorBytes,b=p.alphaBytes,C=p.needSMask,_=p.palette,I=p.mask,F=null;return r!==zt.API.image_compression.NONE&&typeof C3=="function"?(F=function(T){var D;switch(T){case zt.API.image_compression.FAST:D=11;break;case zt.API.image_compression.MEDIUM:D=13;break;case zt.API.image_compression.SLOW:D=14;break;default:D=12}return D}(r),A=this.decode.FLATE_DECODE,d="/Predictor ".concat(F," /Colors ").concat(y," /BitsPerComponent ").concat(u," /Columns ").concat(o),t=pH(v,Math.ceil(o*y*u/8),y,u,r),C&&(h=pH(b,Math.ceil(o*g/8),1,g,r))):(A=void 0,d=void 0,t=v,C&&(h=b)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:t,index:e,filter:A,decodeParameters:d,transparency:I,palette:_,sMask:h,predictor:F,width:o,height:a,bitsPerComponent:u,sMaskBitsPerComponent:g,colorSpace:m}}},function(t){t.processGIF89A=function(e,n,r,s){var i=new bke(e),o=i.width,a=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new $5(100).encode(c,100);return t.processJPEG.call(this,u,n,r,s)},t.processGIF87A=t.processGIF89A}(zt.API),Oc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Oc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){_r.log("bit decode error:"+n)}},Oc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*s*4,a=0;a<8&&8*s+a<this.width;a++){var l=this.palette[i>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Oc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*s*4,a=i>>4,l=15&i,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Oc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Oc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,a=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,u=r*this.width*4+4*s;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=t}},Oc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,u=s*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},Oc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Oc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=r,this.data[a+3]=o}},Oc.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,s){var i=new Oc(e,!1),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},c=new $5(100).encode(l,100);return t.processJPEG.call(this,c,n,r,s)}}(zt.API),bH.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,s){var i=new bH(e),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},c=new $5(100).encode(l,100);return t.processJPEG.call(this,c,n,r,s)}}(zt.API),zt.API.processRGBA=function(t,e,n){for(var r=t.data,s=r.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),a=0,l=0,c=0;c<s;c+=4){var u=r[c],A=r[c+1],d=r[c+2],h=r[c+3];i[a++]=u,i[a++]=A,i[a++]=d,o[l++]=h}var p=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},zt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Tg=zt.API,yS=Tg.getCharWidthsArray=function(t,e){var n,r,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:s.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,u=c.fof?c.fof:1,A=e.doKerning!==!1,d=0,h=t.length,p=0,m=a[0]||l,y=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?y.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+o*(1e3/i)||0)/1e3):(d=A&&mr(c[r])==="object"&&!isNaN(parseInt(c[r][p],10))?c[r][p]/u:0,y.push((a[r]||m)/l+d)),p=r;return y},dH=Tg.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Tg.processArabic&&(t=Tg.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,s)/n:yS.apply(this,arguments).reduce(function(i,o){return i+o},0)},hH=function(t,e,n,r){for(var s=[],i=0,o=t.length,a=0;i!==o&&a+e[i]<n;)a+=e[i],i++;s.push(t.slice(0,i));var l=i;for(a=0;i!==o;)a+e[i]>r&&(s.push(t.slice(l,i)),a=0,l=i),a+=e[i],i++;return l!==i&&s.push(t.slice(l,i)),s},fH=function(t,e,n){n||(n={});var r,s,i,o,a,l,c,u=[],A=[u],d=n.textIndent||0,h=0,p=0,m=t.split(" "),y=yS.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?m[0].length+2:n.lineIndent||0){var g=Array(l).join(" "),v=[];m.map(function(C){(C=C.split(/\s*\n/)).length>1?v=v.concat(C.map(function(_,I){return(I&&_.length?`
`:"")+_})):v.push(C[0])}),m=v,l=dH.apply(this,[g,n])}for(i=0,o=m.length;i<o;i++){var b=0;if(r=m[i],l&&r[0]==`
`&&(r=r.substr(1),b=1),d+h+(p=(s=yS.apply(this,[r,n])).reduce(function(C,_){return C+_},0))>e||b){if(p>e){for(a=hH.apply(this,[r,s,e-(d+h),e]),u.push(a.shift()),u=[a.pop()];a.length;)A.push([a.shift()]);p=s.slice(r.length-(u[0]?u[0].length:0)).reduce(function(C,_){return C+_},0)}else u=[r];A.push(u),d=p+l,h=y}else u.push(r),d+=h+p,h=y}return c=l?function(C,_){return(_?g:"")+C.join(" ")}:function(C){return C.join(" ")},A.map(c)},Tg.splitTextToSize=function(t,e,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var A=this.internal.getFont(u.fontName,u.fontStyle),d="Unicode";return A.metadata[d]?{widths:A.metadata[d].widths||{0:1},kerning:A.metadata[d].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(fH.apply(this,[r[a],o,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},s={},i=0;i<16;i++)r[n[i]]=e[i],s[e[i]]=n[i];var o=function(d){return"0x"+parseInt(d,10).toString(16)},a=t.__fontmetrics__.compress=function(d){var h,p,m,y,g=["{"];for(var v in d){if(h=d[v],isNaN(parseInt(v,10))?p="'"+v+"'":(v=parseInt(v,10),p=(p=o(v).slice(2)).slice(0,-1)+s[p.slice(-1)]),typeof h=="number")h<0?(m=o(h).slice(3),y="-"):(m=o(h).slice(2),y=""),m=y+m.slice(0,-1)+s[m.slice(-1)];else{if(mr(h)!=="object")throw new Error("Don't know what to do with value type "+mr(h)+".");m=a(h)}g.push(p+m)}return g.push("}"),g.join("")},l=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,m,y,g={},v=1,b=g,C=[],_="",I="",F=d.length-1,T=1;T<F;T+=1)(y=d[T])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(y):y=="{"?(C.push([b,m]),b={},m=void 0):y=="}"?((p=C.pop())[0][p[1]]=b,m=void 0,b=p[0]):y=="-"?v=-1:m===void 0?r.hasOwnProperty(y)?(_+=r[y],m=parseInt(_,16)*v,v=1,_=""):_+=y:r.hasOwnProperty(y)?(I+=r[y],b[m]=parseInt(I,16)*v,v=1,m=void 0,I=""):I+=y;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},A={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var h=d.font,p=A.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var m=u.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(zt.API),function(t){var e=function(n){for(var r=n.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=n.charCodeAt(i);return s};t.API.events.push(["addFont",function(n){var r=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(cB(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,r)}}])}(zt),zt.API.addSvgAsImage=function(t,e,n,r,s,i,o,a){if(isNaN(e)||isNaN(n))throw _r.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw _r.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=s;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(ln.canvg?Promise.resolve(ln.canvg):A5(()=>import("./index.es-ucYpMc1C.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(u)}).then(function(){A.addImage(l.toDataURL("image/jpeg",1),e,n,r,s,o,a)})},zt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,n);return this},zt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,A=0;function d(p,m){var y,g=!1;for(y=0;y<p.length;y+=1)p[y]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=a.length;for(A=0;A<h;A+=1)n[a[A]].value=n[a[A]].defaultValue,n[a[A]].explicitSet=!1}if(mr(t)==="object"){for(s in t)if(i=t[s],d(a,s)&&i!==void 0){if(n[s].type==="boolean"&&typeof i=="boolean")n[s].value=i;else if(n[s].type==="name"&&d(n[s].valueSet,i))n[s].value=i;else if(n[s].type==="integer"&&Number.isInteger(i))n[s].value=i;else if(n[s].type==="array"){for(c=0;c<i.length;c+=1)if(r=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(r=!1);r===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}n[s].value="["+l.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,m=[];for(p in n)n[p].explicitSet===!0&&(n[p].type==="name"?m.push("/"+p+" /"+n[p].value):m.push("/"+p+" "+n[p].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+o.length+a.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(zt.API),function(t){var e=t.API,n=e.pdfEscape16=function(i,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],A=0,d=i.length;A<d;++A){if(a=o.metadata.characterToGlyph(i.charCodeAt(A)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=i.charCodeAt(A),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(i){var o,a,l,c,u,A,d;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],A=0,d=(a=Object.keys(i).sort(function(h,p){return h-p})).length;A<d;A++)o=a[A],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(c=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var A=a.metadata.Unicode.widths,d=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),h="",p=0;p<d.length;p++)h+=String.fromCharCode(d[p]);var m=c();u({data:h,addLength1:!0,objectId:m}),l("endobj");var y=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var g=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Og(a.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var v=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Og(a.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+t.API.PDFObject.convert(A)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+Og(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+v+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var A=a.metadata.rawData,d="",h=0;h<A.length;h++)d+=String.fromCharCode(A[h]);var p=c();u({data:d,addLength1:!0,objectId:p}),l("endobj");var m=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var y=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Og(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var g=0;g<a.metadata.hmtx.widths.length;g++)a.metadata.hmtx.widths[g]=parseInt(a.metadata.hmtx.widths[g]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Og(a.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,a=i.text||"",l=i.x,c=i.y,u=i.options||{},A=i.mutex||{},d=A.pdfEscape,h=A.activeFontKey,p=A.fonts,m=h,y="",g=0,v="",b=p[m].encoding;if(p[m].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:A};for(v=a,m=h,Array.isArray(a)&&(v=a[0]),g=0;g<v.length;g+=1)p[m].metadata.hasOwnProperty("cmap")&&(o=p[m].metadata.cmap.unicode.codeMap[v[g].charCodeAt(0)]),o||v[g].charCodeAt(0)<256&&p[m].metadata.hasOwnProperty("Unicode")?y+=v[g]:y+="";var C="";return parseInt(m.slice(1))<14||b==="WinAnsiEncoding"?C=d(y,m).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(C=n(y,p[m])),A.isHex=!0,{text:C,x:l,y:c,options:u,mutex:A}};e.events.push(["postProcessText",function(i){var o=i.text||"",a=[],l={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([s(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(s(Object.assign({},l,{text:o[c]})).text);i.text=a}else i.text=s(Object.assign({},l,{text:o})).text}])}(zt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(zt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var s,i,o,a,l,c,u,A=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,b=0;this.__bidiEngine__={};var C=function(R){var U=R.charCodeAt(),W=U>>8,$=m[W];return $!==void 0?A[256*$+(255&U)]:W===252||W===253?"AL":g.test(W)?"L":W===8?"R":"N"},_=function(R){for(var U,W=0;W<R.length;W++){if((U=C(R.charAt(W)))==="L")return!1;if(U==="R")return!0}return!1},I=function(R,U,W,$){var Y,J,oe,V,Z=U[$];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"N":case"AN":break;case"EN":v&&(Z="AN");break;case"AL":v=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":$<1||$+1>=U.length||(Y=W[$-1])!=="EN"&&Y!=="AN"||(J=U[$+1])!=="EN"&&J!=="AN"?Z="N":v&&(J="AN"),Z=J===Y?J:"N";break;case"ES":Z=(Y=$>0?W[$-1]:"B")==="EN"&&$+1<U.length&&U[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&W[$-1]==="EN"){Z="EN";break}if(v){Z="N";break}for(oe=$+1,V=U.length;oe<V&&U[oe]==="ET";)oe++;Z=oe<V&&U[oe]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(V=U.length,oe=$+1;oe<V&&U[oe]==="NSM";)oe++;if(oe<V){var le=R[$],ce=le>=1425&&le<=2303||le===64286;if(Y=U[oe],ce&&(Y==="R"||Y==="AL")){Z="R";break}}}Z=$<1||(Y=U[$-1])==="B"?"N":W[$-1];break;case"B":v=!1,s=!0,Z=b;break;case"S":i=!0,Z="N"}return Z},F=function(R,U,W){var $=R.split("");return W&&T($,W,{hiLevel:b}),$.reverse(),U&&U.reverse(),$.join("")},T=function(R,U,W){var $,Y,J,oe,V,Z=-1,le=R.length,ce=0,M=[],G=b?h:d,X=[];for(v=!1,s=!1,i=!1,Y=0;Y<le;Y++)X[Y]=C(R[Y]);for(J=0;J<le;J++){if(V=ce,M[J]=I(R,X,M,J),$=240&(ce=G[V][p[M[J]]]),ce&=15,U[J]=oe=G[ce][5],$>0)if($===16){for(Y=Z;Y<J;Y++)U[Y]=1;Z=-1}else Z=-1;if(G[ce][6])Z===-1&&(Z=J);else if(Z>-1){for(Y=Z;Y<J;Y++)U[Y]=oe;Z=-1}X[J]==="B"&&(U[J]=0),W.hiLevel|=oe}i&&function(re,ue,de){for(var we=0;we<de;we++)if(re[we]==="S"){ue[we]=b;for(var Ce=we-1;Ce>=0&&re[Ce]==="WS";Ce--)ue[Ce]=b}}(X,U,le)},D=function(R,U,W,$,Y){if(!(Y.hiLevel<R)){if(R===1&&b===1&&!s)return U.reverse(),void(W&&W.reverse());for(var J,oe,V,Z,le=U.length,ce=0;ce<le;){if($[ce]>=R){for(V=ce+1;V<le&&$[V]>=R;)V++;for(Z=ce,oe=V-1;Z<oe;Z++,oe--)J=U[Z],U[Z]=U[oe],U[oe]=J,W&&(J=W[Z],W[Z]=W[oe],W[oe]=J);ce=V}ce++}}},H=function(R,U,W){var $=R.split(""),Y={hiLevel:b};return W||(W=[]),T($,W,Y),function(J,oe,V){if(V.hiLevel!==0&&u)for(var Z,le=0;le<J.length;le++)oe[le]===1&&(Z=y.indexOf(J[le]))>=0&&(J[le]=y[Z+1])}($,W,Y),D(2,$,U,W,Y),D(1,$,U,W,Y),$.join("")};return this.__bidiEngine__.doBidiReorder=function(R,U,W){if(function(Y,J){if(J)for(var oe=0;oe<Y.length;oe++)J[oe]=oe;a===void 0&&(a=_(Y)),c===void 0&&(c=_(Y))}(R,U),o||!l||c)if(o&&l&&a^c)b=a?1:0,R=F(R,U,W);else if(!o&&l&&c)b=a?1:0,R=H(R,U,W),R=F(R,U);else if(!o||a||l||c){if(o&&!l&&a^c)R=F(R,U),a?(b=0,R=H(R,U,W)):(b=1,R=H(R,U,W),R=F(R,U));else if(o&&a&&!l&&c)b=1,R=H(R,U,W),R=F(R,U);else if(!o&&!l&&a^c){var $=u;a?(b=1,R=H(R,U,W),b=0,u=!1,R=H(R,U,W),u=$):(b=0,R=H(R,U,W),R=F(R,U),b=1,u=!1,R=H(R,U,W),u=$,R=F(R,U))}}else b=0,R=H(R,U,W);else b=a?1:0,R=H(R,U,W);return R},this.__bidiEngine__.setOptions=function(R){R&&(o=R.isInputVisual,l=R.isOutputVisual,a=R.isInputRtl,c=R.isOutputRtl,u=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var a=0;for(o=[],a=0;a<s.length;a+=1)Object.prototype.toString.call(s[a])==="[object Array]"?o.push([n.doBidiReorder(s[a][0]),s[a][1],s[a][2]]):o.push([n.doBidiReorder(s[a])]);r.text=o}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(zt),zt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new uf(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Oke(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Cke(this.contents),this.head=new Bke(this),this.name=new kke(this),this.cmap=new bJ(this),this.toUnicode={},this.hhea=new _ke(this),this.maxp=new Tke(this),this.hmtx=new Fke(this),this.post=new Ike(this),this.os2=new Nke(this),this.loca=new Rke(this),this.glyf=new Lke(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var s,i,o,a;for(o=0,i=0,a=(e=""+e).length;0<=a?i<a:i>a;i=0<=a?++i:--i)s=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var wu,uf=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,s;for(s=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,s,i,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*s+16777216*i+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,s,i;for(i=[],r=0,s=e.length;r<s;r++)n=e[r],i.push(this.writeByte(n));return i},t}(),Cke=function(){var t;function e(n){var r,s,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,s,i,o,a,l,c,u,A,d,h,p,m;for(m in h=Object.keys(n).length,l=Math.log(2),A=16*Math.floor(Math.log(h)/l),o=Math.floor(A/l),u=16*h-A,(s=new uf).writeInt(this.scalarType),s.writeShort(h),s.writeShort(A),s.writeShort(o),s.writeShort(u),i=16*h,c=s.pos+i,a=null,p=[],n)for(d=n[m],s.writeString(m),s.writeInt(t(d)),s.writeInt(c),s.writeInt(d.length),p=p.concat(d),m==="head"&&(a=c),c+=d.length;c%4;)p.push(0),c++;return s.write(p),r=2981146554-t(s.data),s.pos=a+8,s.writeUInt32(r),s.data},t=function(n){var r,s,i,o;for(n=CJ.call(n);n.length%4;)n.push(0);for(i=new uf(n),s=0,r=0,o=n.length;r<o;r=r+=4)s+=i.readUInt32();return 4294967295&s},e}(),Ske={}.hasOwnProperty,IA=function(t,e){for(var n in e)Ske.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};wu=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Bke=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return IA(t,wu),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new uf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),CH=function(){function t(e,n){var r,s,i,o,a,l,c,u,A,d,h,p,m,y,g,v,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),d=h/2,e.pos+=6,i=function(){var C,_;for(_=[],l=C=0;0<=d?C<d:C>d;l=0<=d?++C:--C)_.push(e.readUInt16());return _}(),e.pos+=2,m=function(){var C,_;for(_=[],l=C=0;0<=d?C<d:C>d;l=0<=d?++C:--C)_.push(e.readUInt16());return _}(),c=function(){var C,_;for(_=[],l=C=0;0<=d?C<d:C>d;l=0<=d?++C:--C)_.push(e.readUInt16());return _}(),u=function(){var C,_;for(_=[],l=C=0;0<=d?C<d:C>d;l=0<=d?++C:--C)_.push(e.readUInt16());return _}(),s=(this.length-e.pos+this.offset)/2,a=function(){var C,_;for(_=[],l=C=0;0<=s?C<s:C>s;l=0<=s?++C:--C)_.push(e.readUInt16());return _}(),l=g=0,b=i.length;g<b;l=++g)for(y=i[l],r=v=p=m[l];p<=y?v<=y:v>=y;r=p<=y?++v:--v)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-p)-(d-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=A}return t.encode=function(e,n){var r,s,i,o,a,l,c,u,A,d,h,p,m,y,g,v,b,C,_,I,F,T,D,H,R,U,W,$,Y,J,oe,V,Z,le,ce,M,G,X,re,ue,de,we,Ce,Ne,Ee,Ue;switch($=new uf,o=Object.keys(e).sort(function(ze,tt){return ze-tt}),n){case"macroman":for(m=0,y=function(){var ze=[];for(p=0;p<256;++p)ze.push(0);return ze}(),v={0:0},i={},Y=0,Z=o.length;Y<Z;Y++)v[Ce=e[s=o[Y]]]==null&&(v[Ce]=++m),i[s]={old:e[s],new:v[e[s]]},y[s]=v[e[s]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(y),{charMap:i,subtable:$.data,maxGlyphID:m+1};case"unicode":for(U=[],A=[],b=0,v={},r={},g=c=null,J=0,le=o.length;J<le;J++)v[_=e[s=o[J]]]==null&&(v[_]=++b),r[s]={old:_,new:v[_]},a=v[_]-s,g!=null&&a===c||(g&&A.push(g),U.push(s),c=a),g=s;for(g&&A.push(g),A.push(65535),U.push(65535),H=2*(D=U.length),T=2*Math.pow(Math.log(D)/Math.LN2,2),d=Math.log(T/2)/Math.LN2,F=2*D-T,l=[],I=[],h=[],p=oe=0,ce=U.length;oe<ce;p=++oe){if(R=U[p],u=A[p],R===65535){l.push(0),I.push(0);break}if(R-(W=r[R].new)>=32768)for(l.push(0),I.push(2*(h.length+D-p)),s=V=R;R<=u?V<=u:V>=u;s=R<=u?++V:--V)h.push(r[s].new);else l.push(W-R),I.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*D+2*h.length),$.writeUInt16(0),$.writeUInt16(H),$.writeUInt16(T),$.writeUInt16(d),$.writeUInt16(F),de=0,M=A.length;de<M;de++)s=A[de],$.writeUInt16(s);for($.writeUInt16(0),we=0,G=U.length;we<G;we++)s=U[we],$.writeUInt16(s);for(Ne=0,X=l.length;Ne<X;Ne++)a=l[Ne],$.writeUInt16(a);for(Ee=0,re=I.length;Ee<re;Ee++)C=I[Ee],$.writeUInt16(C);for(Ue=0,ue=h.length;Ue<ue;Ue++)m=h[Ue],$.writeUInt16(m);return{charMap:r,subtable:$.data,maxGlyphID:b+1}}},t}(),bJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return IA(t,wu),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)n=new CH(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,s;return n==null&&(n="macroman"),r=CH.encode(e,n),(s=new uf).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t}(),_ke=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return IA(t,wu),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Nke=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return IA(t,wu),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Ike=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return IA(t,wu),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],i=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;i=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),Eke=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},kke=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return IA(t,wu),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,s,i,o,a,l,c,u,A,d;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},i=u=0,A=r.length;u<A;i=++u)s=r[i],e.pos=s.offset,c=e.readString(s.length),o=new Eke(c,s),l[d=s.nameID]==null&&(l[d]=[]),l[s.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),Tke=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return IA(t,wu),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Fke=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return IA(t,wu),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,s,i,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=s?c<s:c>s;n=0<=s?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,A,d;for(d=[],c=0,u=(A=this.metrics).length;c<u;c++)i=A[c],d.push(i.advance);return d}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),CJ=[].slice,Lke=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return IA(t,wu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,s,i,o,a,l,c,u,A;return e in this.cache?this.cache[e]:(i=this.file.loca,n=this.file.contents,r=i.indexOf(e),(s=i.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new uf(n.read(s))).readShort(),c=a.readShort(),A=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[e]=o===-1?new Pke(a,c,A,l,u):new Dke(a,o,c,A,l,u),this.cache[e]))},t.prototype.encode=function(e,n,r){var s,i,o,a,l;for(o=[],i=[],a=0,l=n.length;a<l;a++)s=e[n[a]],i.push(o.length),s&&(o=o.concat(s.encode(r)));return i.push(o.length),{table:o,offsets:i}},t}(),Dke=function(){function t(e,n,r,s,i,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Pke=function(){function t(e,n,r,s,i){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new uf(CJ.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),Rke=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return IA(t,wu),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<r.length;++o)if(r[o]=s,i<n.length&&n[i]==o){++i,r[o]=s;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(s+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},t}(),Oke=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,s,i;for(n in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[n],e[n]=s[r];return e},t.prototype.glyphsFor=function(e){var n,r,s,i,o,a,l;for(s={},o=0,a=e.length;o<a;o++)s[i=e[o]]=this.font.glyf.glyphFor(i);for(i in n=[],s)(r=s[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in l=this.glyphsFor(n))r=l[i],s[i]=r;return s},t.prototype.encode=function(e,n){var r,s,i,o,a,l,c,u,A,d,h,p,m,y,g;for(s in r=bJ.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},g=r.charMap)h[(l=g[s]).old]=l.new;for(p in d=r.maxGlyphID,o)p in h||(h[p]=d++);return u=function(v){var b,C;for(b in C={},v)C[v[b]]=b;return C}(h),A=Object.keys(u).sort(function(v,b){return v-b}),m=function(){var v,b,C;for(C=[],v=0,b=A.length;v<b;v++)a=A[v],C.push(u[a]);return C}(),i=this.font.glyf.encode(o,m,h),c=this.font.loca.encode(i.offsets,m),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t}();zt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,s,i,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in i=["<<"],n)o=n[s],i.push("/"+s+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+n},e}();const $ke=()=>{const{id:t}=eP(),e=sa(),{bookings:n}=TN(),[r,s]=O.useState(null),i=O.useRef(null);O.useEffect(()=>{if(t){const a=n.find(l=>l.id===t);a?s(a):(Ln.error("Booking not found"),e("/dashboard"))}},[t,n,e]);const o=async()=>{if(i.current)try{const a=await fZ(i.current,{logging:!1,useCORS:!0,background:"#ffffff"}),l=a.toDataURL("image/png"),c=new zt({orientation:"portrait",unit:"mm",format:"a4"}),u=210,A=a.height*u/a.width;c.addImage(l,"PNG",0,0,u,A),c.save(`PlayPal-Invoice-${(r==null?void 0:r.id)||"download"}.pdf`),Ln.success("Invoice downloaded successfully")}catch(a){console.error("Error generating PDF:",a),Ln.error("Failed to generate PDF")}};return r?x.jsx("div",{className:"min-h-screen bg-secondary/30 py-12 px-4 sm:px-6 lg:px-8 flex flex-col items-center justify-center",children:x.jsxs(Ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-2xl",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx(Ft.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:20,delay:.2},className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:x.jsx(Iue,{className:"w-8 h-8 text-white"})}),x.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Booking Confirmed!"}),x.jsxs("p",{className:"text-muted-foreground mt-2",children:["Your booking at ",r.venueName," has been successfully confirmed."]})]}),x.jsxs(nY,{className:"shadow-lg border-border/50 overflow-hidden",ref:i,children:[x.jsx("div",{className:"bg-primary/5 p-6 border-b border-border/50",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-primary",children:"PlayPal"}),x.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Sports Booking Platform"})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"INVOICE"}),x.jsxs("p",{className:"text-lg font-bold font-mono",children:["#",r.id.slice(-6).toUpperCase()]}),x.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:JQ(new Date(r.createdAt),"PPP")})]})]})}),x.jsxs(rY,{className:"p-6 md:p-8 space-y-8",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Customer Details"}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("p",{className:"font-medium text-lg",children:r.userName}),x.jsx("p",{className:"text-muted-foreground text-sm",children:r.userPhone}),x.jsx("div",{className:"mt-2 text-xs px-2 py-1 bg-primary/10 text-primary rounded inline-block",children:"Verified Customer"})]})]}),x.jsxs("div",{className:"md:text-right",children:[x.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Booking Details"}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("p",{className:"font-semibold",children:r.venueName}),x.jsx("p",{className:"text-sm",children:r.sport}),x.jsxs("p",{className:"text-sm",children:[JQ(new Date(r.date),"PPP"),"  ",r.timeSlot]}),x.jsx("div",{className:"mt-2 text-xs px-2 py-1 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded inline-block",children:r.status})]})]})]}),x.jsx(X4,{}),x.jsxs("div",{children:[x.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-4",children:"Payment Summary"}),x.jsxs("div",{className:"bg-secondary/20 rounded-lg p-4 space-y-3",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-muted-foreground",children:"Court Fee (1 Hour)"}),x.jsxs("span",{children:["",r.totalAmount]})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-muted-foreground",children:"Service Fee"}),x.jsx("span",{children:"0.00"})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-muted-foreground",children:"Tax"}),x.jsx("span",{children:"0.00"})]}),x.jsx(X4,{className:"my-2"}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-semibold",children:"Total Amount"}),x.jsxs("span",{className:"text-xl font-bold text-primary",children:["",r.totalAmount]})]})]})]}),x.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:[x.jsx("p",{children:"Thank you for booking with PlayPal. Please show this invoice at the venue."}),x.jsx("p",{className:"mt-1",children:"For support, contact help@playpal.com"})]})]}),x.jsxs(sY,{className:"bg-secondary/10 p-6 flex flex-col sm:flex-row gap-3 justify-between border-t border-border/50",children:[x.jsxs(Pt,{variant:"outline",className:"w-full sm:w-auto",onClick:()=>e("/"),children:[x.jsx(Due,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),x.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[x.jsxs(Pt,{className:"flex-1 sm:flex-none bg-orange-600 hover:bg-orange-700 text-white",onClick:()=>{Ln.success("Starting match..."),e(`/match/${r.id}`)},children:[x.jsx(lv,{className:"w-4 h-4 mr-2 fill-white"}),"Start Match"]}),x.jsxs(Pt,{className:"flex-1 sm:flex-none",onClick:o,children:[x.jsx(Eue,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]})]})]})]})}):x.jsx("div",{className:"flex items-center justify-center min-h-screen",children:x.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})})},Uke=()=>{const t=zx();return O.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),x.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),x.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})};var SJ={exports:{}};(function(t,e){(function(r,s){t.exports=s(O)})(SA,function(n){return function(r){var s={};function i(o){if(s[o])return s[o].exports;var a=s[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=s,i.d=function(o,a,l){i.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,a){if(a&1&&(o=i(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var c in o)i.d(l,c,(function(u){return o[u]}).bind(null,c));return l},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,s,i){i.r(s);var o=i("react"),a=function(){var d=function(h,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var g in y)y.hasOwnProperty(g)&&(m[g]=y[g])},d(h,p)};return function(h,p){d(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),l=function(){return l=Object.assign||function(d){for(var h,p=1,m=arguments.length;p<m;p++){h=arguments[p];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(d[y]=h[y])}return d},l.apply(this,arguments)},c=function(d,h){var p={};for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&h.indexOf(m)<0&&(p[m]=d[m]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,m=Object.getOwnPropertySymbols(d);y<m.length;y++)h.indexOf(m[y])<0&&Object.prototype.propertyIsEnumerable.call(d,m[y])&&(p[m[y]]=d[m[y]]);return p};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(h){var p=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return p?new Promise(function(m,y){p.call(navigator,h,m,y)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function u(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var A=function(d){a(h,d);function h(p){var m=d.call(this,p)||this;return m.canvas=null,m.ctx=null,m.requestUserMediaId=0,m.unmounted=!1,m.state={hasUserMedia:!1},m}return h.prototype.componentDidMount=function(){var p=this,m=p.state,y=p.props;if(this.unmounted=!1,!u()){y.onUserMediaError("getUserMedia not supported");return}m.hasUserMedia||this.requestUserMedia(),y.children&&typeof y.children!="function"&&console.warn("children must be a function")},h.prototype.componentDidUpdate=function(p){var m=this.props;if(!u()){m.onUserMediaError("getUserMedia not supported");return}var y=JSON.stringify(p.audioConstraints)!==JSON.stringify(m.audioConstraints),g=JSON.stringify(p.videoConstraints)!==JSON.stringify(m.videoConstraints),v=p.minScreenshotWidth!==m.minScreenshotWidth,b=p.minScreenshotHeight!==m.minScreenshotHeight;(g||v||b)&&(this.canvas=null,this.ctx=null),(y||g)&&(this.stopAndCleanup(),this.requestUserMedia())},h.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},h.stopMediaStream=function(p){p&&(p.getVideoTracks&&p.getAudioTracks?(p.getVideoTracks().map(function(m){p.removeTrack(m),m.stop()}),p.getAudioTracks().map(function(m){p.removeTrack(m),m.stop()})):p.stop())},h.prototype.stopAndCleanup=function(){var p=this.state;p.hasUserMedia&&(h.stopMediaStream(this.stream),p.src&&window.URL.revokeObjectURL(p.src))},h.prototype.getScreenshot=function(p){var m=this,y=m.state,g=m.props;if(!y.hasUserMedia)return null;var v=this.getCanvas(p);return v&&v.toDataURL(g.screenshotFormat,g.screenshotQuality)},h.prototype.getCanvas=function(p){var m=this,y=m.state,g=m.props;if(!this.video||!y.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var v=this.video.videoWidth,b=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var C=v/b;v=g.minScreenshotWidth||this.video.clientWidth,b=v/C,g.minScreenshotHeight&&b<g.minScreenshotHeight&&(b=g.minScreenshotHeight,v=b*C)}this.canvas=document.createElement("canvas"),this.canvas.width=(p==null?void 0:p.width)||v,this.canvas.height=(p==null?void 0:p.height)||b,this.ctx=this.canvas.getContext("2d")}var _=this,I=_.ctx,F=_.canvas;return I&&F&&(F.width=(p==null?void 0:p.width)||F.width,F.height=(p==null?void 0:p.height)||F.height,g.mirrored&&(I.translate(F.width,0),I.scale(-1,1)),I.imageSmoothingEnabled=g.imageSmoothing,I.drawImage(this.video,0,0,(p==null?void 0:p.width)||F.width,(p==null?void 0:p.height)||F.height),g.mirrored&&(I.scale(-1,1),I.translate(-F.width,0))),F},h.prototype.requestUserMedia=function(){var p=this,m=this.props,y=function(b,C){var _={video:typeof C<"u"?C:!0};m.audio&&(_.audio=typeof b<"u"?b:!0),p.requestUserMediaId++;var I=p.requestUserMediaId;navigator.mediaDevices.getUserMedia(_).then(function(F){p.unmounted||I!==p.requestUserMediaId?h.stopMediaStream(F):p.handleUserMedia(null,F)}).catch(function(F){p.handleUserMedia(F)})};if("mediaDevices"in navigator)y(m.audioConstraints,m.videoConstraints);else{var g=function(b){return{optional:[{sourceId:b}]}},v=function(b){var C=b.deviceId;return typeof C=="string"?C:Array.isArray(C)&&C.length>0?C[0]:typeof C=="object"&&C.ideal?C.ideal:null};MediaStreamTrack.getSources(function(b){var C=null,_=null;b.forEach(function(T){T.kind==="audio"?C=T.id:T.kind==="video"&&(_=T.id)});var I=v(m.audioConstraints);I&&(C=I);var F=v(m.videoConstraints);F&&(_=F),y(g(C),g(_))})}},h.prototype.handleUserMedia=function(p,m){var y=this.props;if(p||!m){this.setState({hasUserMedia:!1}),y.onUserMediaError(p);return}this.stream=m;try{this.video&&(this.video.srcObject=m),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(m)})}y.onUserMedia(m)},h.prototype.render=function(){var p=this,m=this,y=m.state,g=m.props,v=g.audio;g.forceScreenshotSourceSize;var b=g.disablePictureInPicture;g.onUserMedia,g.onUserMediaError,g.screenshotFormat,g.screenshotQuality,g.minScreenshotWidth,g.minScreenshotHeight,g.audioConstraints,g.videoConstraints,g.imageSmoothing;var C=g.mirrored,_=g.style,I=_===void 0?{}:_,F=g.children,T=c(g,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),D=C?l(l({},I),{transform:(I.transform||"")+" scaleX(-1)"}):I,H={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,disablePictureInPicture:b,src:y.src,muted:!v,playsInline:!0,ref:function(R){p.video=R},style:D},T)),F&&F(H))},h.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},h}(o.Component);s.default=A},react:function(r,s){r.exports=n}}).default})})(SJ);var Mke=SJ.exports;const Qke=Lx(Mke);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jke=1e-7,Hke=1e-4;class iR{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class oI{refCount(e){return va("refCount")}incRef(e){return va("incRef")}timerAvailable(){return!0}time(e){return va("time")}read(e){return va("read")}readSync(e){return va("readSync")}readToGPU(e,n){return va("readToGPU")}numDataIds(){return va("numDataIds")}disposeData(e,n){return va("disposeData")}write(e,n,r){return va("write")}move(e,n,r,s,i){return va("move")}createTensorFromGPUData(e,n,r){return va("createTensorFromGPUData")}memory(){return va("memory")}floatPrecision(){return va("floatPrecision")}epsilon(){return this.floatPrecision()===32?jke:Hke}dispose(){return va("dispose")}}function va(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oR(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,sd(t,e,n)}function zke(t,e){if(t.length!==e.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${t.length}Second array length was ${e.length}`);let n=t.length,r=0;for(;n>0;)r=Math.random()*n|0,n--,sd(t,n,r),sd(e,n,r)}function Af(t,e,n){return Math.max(t,Math.min(e,n))}function aI(t){return t%2===0?t:t+1}function sd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function BJ(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function Vke(t,e){const n=Math.random();return e*n+(1-n)*t}function Wke(t,e){let n=0;for(let r=0;r<t.length;r++){const s=Number(t[r])-Number(e[r]);n+=s*s}return n}function ee(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function Fi(t,e,n=""){ee(Tn(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function Mm(t){ee(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function Oe(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function Gke(t){return t.length===0}function _J(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==null&&e[n]!==null&&t[n]!==e[n])return!1;return!0}function Tn(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function gm(t){return t%1===0}function Kke(t){if(Math.tanh!=null)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;{const e=Math.exp(2*t);return(e-1)/(e+1)}}function __(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function qke(t){const e=new Uint32Array(t);for(let n=0;n<t;++n)e[n]=n;return oR(e),e}function Zp(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function O3(t,e=s=>0,n,r){return new Promise((s,i)=>{let o=0;const a=()=>{if(t()){s();return}o++;const l=e(o);if(n!=null&&o>=n){i();return}r!=null?r(a,l):setTimeout(a,l)};a()})}function aR(t,e){let n=1,r=-1;for(let i=0;i<t.length;++i)if(t[i]>=0)n*=t[i];else if(t[i]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${i}`);r=i}else if(t[i]<0)throw Error(`Shapes can not be < 0. Found ${t[i]} at dim ${i}`);if(r===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const s=t.slice();return s[r]=e/n,s}function Nn(t,e){const n=e.length;return t=t==null?e.map((r,s)=>s):[].concat(t),ee(t.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),ee(t.every(r=>gm(r)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(r=>r<0?n+r:r)}function _d(t,e){const n=[],r=[],s=e!=null&&Array.isArray(e)&&e.length===0,i=e==null||s?null:Nn(e,t).sort();let o=0;for(let a=0;a<t.length;++a){if(i!=null){if(i[o]===a&&t[a]!==1)throw new Error(`Can't squeeze axis ${a} since its dim '${t[a]}' is not 1`);(i[o]==null||i[o]>a)&&t[a]===1&&(n.push(t[a]),r.push(a)),i[o]<=a&&o++}t[a]!==1&&(n.push(t[a]),r.push(a))}return{newShape:n,keptDims:r}}function gi(t,e){return As(t,e)}function As(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function NJ(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}function IJ(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function lR(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function Ax(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function EJ(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function eA(t){return typeof t=="string"||t instanceof String}function kJ(t){return typeof t=="boolean"}function N_(t){return typeof t=="number"}function Qm(t){return Array.isArray(t)?Qm(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":N_(t)?"float32":eA(t)?"string":kJ(t)?"bool":"float32"}function df(t){return!!(t&&t.constructor&&t.call&&t.apply)}function I_(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function Qt(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function TJ(t,e,n,r=!1){const s=new Array;if(e.length===1){const i=e[0]*(r?2:1);for(let o=0;o<i;o++)s[o]=n[t+o]}else{const i=e[0],o=e.slice(1),a=o.reduce((l,c)=>l*c)*(r?2:1);for(let l=0;l<i;l++)s[l]=TJ(t+l*a,o,n,r)}return s}function hl(t,e,n=!1){if(t.length===0)return e[0];const r=t.reduce((s,i)=>s*i)*(n?2:1);if(r===0)return[];if(r!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return TJ(0,t,e,n)}function FJ(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error(`Unknown dtype ${e}`)}function lI(t,e){const n=Ti(t,e);for(let r=0;r<n.length;r++)n[r]=1;return n}function Ti(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function cR(t,e){const n=t.reduce((r,s)=>r*s,1);if(e==null||e==="float32")return hl(t,new Float32Array(n));if(e==="int32")return hl(t,new Int32Array(n));if(e==="bool")return hl(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function $a(t){t.forEach(e=>{ee(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function ru(t,e,n){if(e===0)return 0;if(e===1)return t[0];let r=t[t.length-1];for(let s=0;s<t.length-1;++s)r+=n[s]*t[s];return r}function jm(t,e,n){if(e===0)return[];if(e===1)return[t];const r=new Array(e);for(let s=0;s<r.length-1;++s)r[s]=Math.floor(t/n[s]),t-=r[s]*n[s];return r[r.length-1]=t,r}function hf(t){return t&&t.then&&typeof t.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SH="tfjsflags";class LJ{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Xke,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(Le().getBool("IS_TEST")||Le().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},this.urlFlags[e]!=null){const s=this.urlFlags[e];Le().getBool("IS_TEST")||Le().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${s}.`),this.set(e,s)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(hf(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);SH in e&&e[SH].split(",").forEach(r=>{const[s,i]=r.split(":");this.urlFlags[s]=Zke(s,i)})}}function Xke(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(Yke(e,r[0],r[1]),r.join("="))),e}function Yke(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function Zke(t,e){const n=e.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:e}function Le(){return uR}let uR=null;function Jke(t){uR=t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let U5;function DJ(){if(U5==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");U5=t}return U5}function eTe(){const t=DJ();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function AR(t,e){const n=eTe();if(n.has(t))return n.get(t);{const r=e();return n.set(t,r),n.get(t)}}const ib="Abs",Fy="Acos",Ly="Acosh",Hm="Add",ob="AddN",cI="All",uI="Any",ab="ArgMax",lb="ArgMin",Dy="Asin",Py="Asinh",Ry="Atan",Oy="Atanh",$y="Atan2",cb="AvgPool",AI="AvgPoolGrad",ub="AvgPool3D",dI="AvgPool3DGrad",Ab="BatchMatMul",db="BatchToSpaceND",hI="Bincount",hb="BitwiseAnd",PJ="BroadcastTo",fI="BroadcastArgs",Uy="Cast",My="Ceil",Qy="ClipByValue",pI="Complex",fb="ComplexAbs",pb="Concat",mb="Conv2D",mI="Conv2DBackpropFilter",gb="Conv2DBackpropInput",yb="Conv3D",gI="Conv3DBackpropFilterV2",yI="Conv3DBackpropInputV2",jy="Cos",Hy="Cosh",wI="Cumprod",wb="Cumsum",vI="CropAndResize",xI="DenseBincount",bI="DepthToSpace",vb="DepthwiseConv2dNative",CI="DepthwiseConv2dNativeBackpropFilter",SI="DepthwiseConv2dNativeBackpropInput",BI="Diag",xb="Dilation2D",E_="Dilation2DBackpropInput",k_="Dilation2DBackpropFilter",_I="Draw",zy="RealDiv",NI="Einsum",Vy="Elu",II="EluGrad",Wy="Erf",bb="Equal",Gy="Exp",Cb="ExpandDims",Ky="Expm1",EI="FFT",kI="Fill",TI="FlipLeftRight",qy="Floor",Xy="FloorDiv",Sb="FusedBatchNorm",Bb="GatherV2",FI="GatherNd",_b="Greater",Yy="GreaterEqual",Zy="Identity",LI="IFFT",DI="Imag",Jy="IsFinite",e1="IsInf",t1="IsNan",Nb="LeakyRelu",Ib="Less",Eb="LessEqual",PI="LinSpace",n1="Log",r1="Log1p",kb="LogicalAnd",Tb="LogicalNot",Fb="LogicalOr",tTe="LogicalXor",RJ="LogSoftmax",nTe="LowerBound",Lb="LRN",RI="LRNGrad",rTe="MatrixBandPart",Db="Max",s1="Maximum",Pb="MaxPool",OI="MaxPoolGrad",Rb="MaxPool3D",$I="MaxPool3DGrad",UI="MaxPoolWithArgmax",Ob="Mean",$b="Min",i1="Minimum",Ub="MirrorPad",o1="Mod",MI="Multinomial",a1="Multiply",Mb="Neg",Qb="NotEqual",QI="NonMaxSuppressionV3",jI="NonMaxSuppressionV4",HI="NonMaxSuppressionV5",jb="OnesLike",Hb="OneHot",zb="Pack",Vb="PadV2",sTe="Pool",l1="Pow",Wb="Prelu",Gb="Prod",zI="RaggedGather",VI="RaggedRange",WI="RaggedTensorToTensor",GI="Range",KI="Real",c1="Reciprocal",u1="Relu",Kb="Reshape",qb="ResizeNearestNeighbor",qI="ResizeNearestNeighborGrad",Xb="ResizeBilinear",XI="ResizeBilinearGrad",A1="Relu6",Yb="Reverse",d1="Round",h1="Rsqrt",YI="ScatterNd",ZI="TensorScatterUpdate",JI="SearchSorted",Zb="Select",f1="Selu",Jb="Slice",p1="Sin",m1="Sinh",g1="Sign",y1="Sigmoid",w1="Softplus",v1="Sqrt",e2="Sum",t2="SpaceToBatchND",n2="SplitV",r2="Softmax",eE="SparseFillEmptyRows",tE="SparseReshape",nE="SparseSegmentMean",rE="SparseSegmentSum",sE="SparseToDense",x1="SquaredDifference",iE="Square",s2="StaticRegexReplace",oE="StridedSlice",aE="StringNGrams",lE="StringSplit",cE="StringToHashBucketFast",b1="Sub",C1="Tan",S1="Tanh",B1="Tile",uE="TopK",AE="Transform",Jp="Transpose",dE="Unique",i2="Unpack",o2="UnsortedSegmentSum",iTe="UpperBound",a2="ZerosLike",_1="Step",T_="FromPixels",hE="RotateWithOffset",dx="_FusedMatMul",hx="FusedConv2D",fx="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sl(...t){Le().getBool("IS_TEST")||Le().getBool("PROD")||console.warn(...t)}function oTe(...t){Le().getBool("IS_TEST")||Le().getBool("PROD")||console.log(...t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ey=AR("kernelRegistry",()=>new Map),px=AR("gradRegistry",()=>new Map);function mx(t,e){const n=dR(t,e);return ey.get(n)}function $3(t){return px.get(t)}function F_(t){const e=ey.entries(),n=[];for(;;){const{done:r,value:s}=e.next();if(r)break;const[i,o]=s,[a]=i.split("_");a===t&&n.push(o)}return n}function fE(t){const{kernelName:e,backendName:n}=t,r=dR(e,n);ey.has(r)&&sl(`The kernel '${e}' for backend '${n}' is already registered`),ey.set(r,t)}function OJ(t){const{kernelName:e}=t;px.has(e)&&Le().getBool("DEBUG")&&sl(`Overriding the gradient for '${e}'`),px.set(e,t)}function aTe(t,e){const n=dR(t,e);if(!ey.has(n))throw new Error(`The kernel '${t}' for backend '${e}' is not registered`);ey.delete(n)}function lTe(t){if(!px.has(t))throw new Error(`The gradient '${t}' for backend is not registered`);px.delete(t)}function cTe(t,e){F_(t).forEach(r=>{const s=Object.assign({},r,{backendName:e});fE(s)})}function dR(t,e){return`${e}_${t}`}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $J(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}var UJ=Rr,Xl=null;try{Xl=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Rr(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}Rr.prototype.__isLong__;Object.defineProperty(Rr.prototype,"__isLong__",{value:!0});function Ua(t){return(t&&t.__isLong__)===!0}Rr.isLong=Ua;var BH={},_H={};function zm(t,e){var n,r,s;return e?(t>>>=0,(s=0<=t&&t<256)&&(r=_H[t],r)?r:(n=Or(t,(t|0)<0?-1:0,!0),s&&(_H[t]=n),n)):(t|=0,(s=-128<=t&&t<128)&&(r=BH[t],r)?r:(n=Or(t,t<0?-1:0,!1),s&&(BH[t]=n),n))}Rr.fromInt=zm;function Yl(t,e){if(isNaN(t))return e?Op:Zl;if(e){if(t<0)return Op;if(t>=MJ)return HJ}else{if(t<=-IH)return Ea;if(t+1>=IH)return jJ}return t<0?Yl(-t,e).neg():Or(t%ty|0,t/ty|0,e)}Rr.fromNumber=Yl;function Or(t,e,n){return new Rr(t,e,n)}Rr.fromBits=Or;var L_=Math.pow;function hR(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return Zl;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return hR(t.substring(1),e,n).neg();for(var s=Yl(L_(n,8)),i=Zl,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),l=parseInt(t.substring(o,o+a),n);if(a<8){var c=Yl(L_(n,a));i=i.mul(c).add(Yl(l))}else i=i.mul(s),i=i.add(Yl(l))}return i.unsigned=e,i}Rr.fromString=hR;function vu(t,e){return typeof t=="number"?Yl(t,e):typeof t=="string"?hR(t,e):Or(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Rr.fromValue=vu;var NH=65536,uTe=1<<24,ty=NH*NH,MJ=ty*ty,IH=MJ/2,EH=zm(uTe),Zl=zm(0);Rr.ZERO=Zl;var Op=zm(0,!0);Rr.UZERO=Op;var i0=zm(1);Rr.ONE=i0;var QJ=zm(1,!0);Rr.UONE=QJ;var U3=zm(-1);Rr.NEG_ONE=U3;var jJ=Or(-1,2147483647,!1);Rr.MAX_VALUE=jJ;var HJ=Or(-1,-1,!0);Rr.MAX_UNSIGNED_VALUE=HJ;var Ea=Or(0,-2147483648,!1);Rr.MIN_VALUE=Ea;var ct=Rr.prototype;ct.toInt=function(){return this.unsigned?this.low>>>0:this.low};ct.toNumber=function(){return this.unsigned?(this.high>>>0)*ty+(this.low>>>0):this.high*ty+(this.low>>>0)};ct.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Ea)){var n=Yl(e),r=this.div(n),s=r.mul(n).sub(this);return r.toString(e)+s.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var i=Yl(L_(e,6),this.unsigned),o=this,a="";;){var l=o.div(i),c=o.sub(l.mul(i)).toInt()>>>0,u=c.toString(e);if(o=l,o.isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}};ct.getHighBits=function(){return this.high};ct.getHighBitsUnsigned=function(){return this.high>>>0};ct.getLowBits=function(){return this.low};ct.getLowBitsUnsigned=function(){return this.low>>>0};ct.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ea)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1};ct.isZero=function(){return this.high===0&&this.low===0};ct.eqz=ct.isZero;ct.isNegative=function(){return!this.unsigned&&this.high<0};ct.isPositive=function(){return this.unsigned||this.high>=0};ct.isOdd=function(){return(this.low&1)===1};ct.isEven=function(){return(this.low&1)===0};ct.equals=function(e){return Ua(e)||(e=vu(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};ct.eq=ct.equals;ct.notEquals=function(e){return!this.eq(e)};ct.neq=ct.notEquals;ct.ne=ct.notEquals;ct.lessThan=function(e){return this.comp(e)<0};ct.lt=ct.lessThan;ct.lessThanOrEqual=function(e){return this.comp(e)<=0};ct.lte=ct.lessThanOrEqual;ct.le=ct.lessThanOrEqual;ct.greaterThan=function(e){return this.comp(e)>0};ct.gt=ct.greaterThan;ct.greaterThanOrEqual=function(e){return this.comp(e)>=0};ct.gte=ct.greaterThanOrEqual;ct.ge=ct.greaterThanOrEqual;ct.compare=function(e){if(Ua(e)||(e=vu(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};ct.comp=ct.compare;ct.negate=function(){return!this.unsigned&&this.eq(Ea)?Ea:this.not().add(i0)};ct.neg=ct.negate;ct.add=function(e){Ua(e)||(e=vu(e));var n=this.high>>>16,r=this.high&65535,s=this.low>>>16,i=this.low&65535,o=e.high>>>16,a=e.high&65535,l=e.low>>>16,c=e.low&65535,u=0,A=0,d=0,h=0;return h+=i+c,d+=h>>>16,h&=65535,d+=s+l,A+=d>>>16,d&=65535,A+=r+a,u+=A>>>16,A&=65535,u+=n+o,u&=65535,Or(d<<16|h,u<<16|A,this.unsigned)};ct.subtract=function(e){return Ua(e)||(e=vu(e)),this.add(e.neg())};ct.sub=ct.subtract;ct.multiply=function(e){if(this.isZero())return Zl;if(Ua(e)||(e=vu(e)),Xl){var n=Xl.mul(this.low,this.high,e.low,e.high);return Or(n,Xl.get_high(),this.unsigned)}if(e.isZero())return Zl;if(this.eq(Ea))return e.isOdd()?Ea:Zl;if(e.eq(Ea))return this.isOdd()?Ea:Zl;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(EH)&&e.lt(EH))return Yl(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,s=this.high&65535,i=this.low>>>16,o=this.low&65535,a=e.high>>>16,l=e.high&65535,c=e.low>>>16,u=e.low&65535,A=0,d=0,h=0,p=0;return p+=o*u,h+=p>>>16,p&=65535,h+=i*u,d+=h>>>16,h&=65535,h+=o*c,d+=h>>>16,h&=65535,d+=s*u,A+=d>>>16,d&=65535,d+=i*c,A+=d>>>16,d&=65535,d+=o*l,A+=d>>>16,d&=65535,A+=r*u+s*c+i*l+o*a,A&=65535,Or(h<<16|p,A<<16|d,this.unsigned)};ct.mul=ct.multiply;ct.divide=function(e){if(Ua(e)||(e=vu(e)),e.isZero())throw Error("division by zero");if(Xl){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?Xl.div_u:Xl.div_s)(this.low,this.high,e.low,e.high);return Or(n,Xl.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Op:Zl;var r,s,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Op;if(e.gt(this.shru(1)))return QJ;i=Op}else{if(this.eq(Ea)){if(e.eq(i0)||e.eq(U3))return Ea;if(e.eq(Ea))return i0;var o=this.shr(1);return r=o.div(e).shl(1),r.eq(Zl)?e.isNegative()?i0:U3:(s=this.sub(e.mul(r)),i=r.add(s.div(e)),i)}else if(e.eq(Ea))return this.unsigned?Op:Zl;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=Zl}for(s=this;s.gte(e);){r=Math.max(1,Math.floor(s.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),l=a<=48?1:L_(2,a-48),c=Yl(r),u=c.mul(e);u.isNegative()||u.gt(s);)r-=l,c=Yl(r,this.unsigned),u=c.mul(e);c.isZero()&&(c=i0),i=i.add(c),s=s.sub(u)}return i};ct.div=ct.divide;ct.modulo=function(e){if(Ua(e)||(e=vu(e)),Xl){var n=(this.unsigned?Xl.rem_u:Xl.rem_s)(this.low,this.high,e.low,e.high);return Or(n,Xl.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};ct.mod=ct.modulo;ct.rem=ct.modulo;ct.not=function(){return Or(~this.low,~this.high,this.unsigned)};ct.and=function(e){return Ua(e)||(e=vu(e)),Or(this.low&e.low,this.high&e.high,this.unsigned)};ct.or=function(e){return Ua(e)||(e=vu(e)),Or(this.low|e.low,this.high|e.high,this.unsigned)};ct.xor=function(e){return Ua(e)||(e=vu(e)),Or(this.low^e.low,this.high^e.high,this.unsigned)};ct.shiftLeft=function(e){return Ua(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Or(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Or(0,this.low<<e-32,this.unsigned)};ct.shl=ct.shiftLeft;ct.shiftRight=function(e){return Ua(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Or(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Or(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};ct.shr=ct.shiftRight;ct.shiftRightUnsigned=function(e){if(Ua(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var r=this.low;return Or(r>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?Or(n,0,this.unsigned):Or(n>>>e-32,0,this.unsigned)};ct.shru=ct.shiftRightUnsigned;ct.shr_u=ct.shiftRightUnsigned;ct.toSigned=function(){return this.unsigned?Or(this.low,this.high,!1):this};ct.toUnsigned=function(){return this.unsigned?this:Or(this.low,this.high,!0)};ct.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};ct.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};ct.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};Rr.fromBytes=function(e,n,r){return r?Rr.fromBytesLE(e,n):Rr.fromBytesBE(e,n)};Rr.fromBytesLE=function(e,n){return new Rr(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};Rr.fromBytesBE=function(e,n){return new Rr(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const zJ=Lx(UJ),ATe=yV({__proto__:null,default:zJ},[UJ]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bp=zJ||ATe;function l2(t){return bp.fromString(t,!0,16)}const VJ=l2("c3a5c85c97cb3127"),yp=l2("b492b66fbe98f273"),bo=l2("9ae16a3b2f90404f");function M3(t){return t.xor(t.shru(47))}function WJ(t,e,n){const r=t.slice(e,e+n);return bp.fromBytes(Array.from(r),!0,!0)}function Nr(t,e){return WJ(t,e,8)}function kH(t,e){return WJ(t,e,4)}function hi(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function ef(t,e,n=l2("9ddfea08eb382d69")){let r=t.xor(e).mul(n);r=r.xor(r.shru(47));let s=e.xor(r).mul(n);return s=s.xor(s.shru(47)),s=s.mul(n),s}function dTe(t,e,n,r,s,i){s=s.add(t),i=hi(i.add(s).add(r),21);const o=s;return s=s.add(e),s=s.add(n),i=i.add(hi(s,44)),[s.add(r),i.add(o)]}function wS(t,e,n,r){return dTe(Nr(t,e),Nr(t,e+8),Nr(t,e+16),Nr(t,e+24),n,r)}function hTe(t,e=t.length){if(e>=8){const n=bo.add(e*2),r=Nr(t,0).add(bo),s=Nr(t,e-8),i=hi(s,37).mul(n).add(r),o=hi(r,25).add(s).mul(n);return ef(i,o,n)}if(e>=4){const n=bo.add(e*2),r=kH(t,0);return ef(r.shl(3).add(e),kH(t,e-4),n)}if(e>0){const n=t[0],r=t[e>>1],s=t[e-1],i=n+(r<<8),o=e+(s<<2);return M3(bo.mul(i).xor(VJ.mul(o))).mul(bo)}return bo}function fTe(t,e=t.length){const n=bo.add(e*2),r=Nr(t,0).mul(yp),s=Nr(t,8),i=Nr(t,e-8).mul(n),o=Nr(t,e-16).mul(bo);return ef(hi(r.add(s),43).add(hi(i,30)).add(o),r.add(hi(s.add(bo),18)).add(i),n)}function pTe(t,e=t.length){const n=bo.add(e*2),r=Nr(t,0).mul(bo),s=Nr(t,8),i=Nr(t,e-8).mul(n),o=Nr(t,e-16).mul(bo),a=hi(r.add(s),43).add(hi(i,30)).add(o),l=ef(a,r.add(hi(s.add(bo),18)).add(i),n),c=Nr(t,16).mul(n),u=Nr(t,24),A=a.add(Nr(t,e-32)).mul(n),d=l.add(Nr(t,e-24)).mul(n);return ef(hi(c.add(u),43).add(hi(A,30)).add(d),c.add(hi(u.add(r),18)).add(A),n)}function GJ(t,e=t.length){const n=bp.fromNumber(81,!0);if(e<=32)return e<=16?hTe(t,e):fTe(t,e);if(e<=64)return pTe(t,e);let r=n,s=n.mul(yp).add(113),i=M3(s.mul(bo).add(113)).mul(bo),o=[bp.UZERO,bp.UZERO],a=[bp.UZERO,bp.UZERO];r=r.mul(bo).add(Nr(t,0));let l=0;const c=(e-1>>6)*64,u=c+(e-1&63)-63;do r=hi(r.add(s).add(o[0]).add(Nr(t,l+8)),37).mul(yp),s=hi(s.add(o[1]).add(Nr(t,l+48)),42).mul(yp),r=r.xor(a[1]),s=s.add(o[0]).add(Nr(t,l+40)),i=hi(i.add(a[0]),33).mul(yp),o=wS(t,l,o[1].mul(yp),r.add(a[0])),a=wS(t,l+32,i.add(a[1]),s.add(Nr(t,l+16))),[i,r]=[r,i],l+=64;while(l!==c);const A=yp.add(i.and(255).shl(1));return l=u,a[0]=a[0].add(e-1&63),o[0]=o[0].add(a[0]),a[0]=a[0].add(o[0]),r=hi(r.add(s).add(o[0]).add(Nr(t,l+8)),37).mul(A),s=hi(s.add(o[1]).add(Nr(t,l+48)),42).mul(A),r=r.xor(a[1].mul(9)),s=s.add(o[0].mul(9).add(Nr(t,l+40))),i=hi(i.add(a[0]),33).mul(A),o=wS(t,l,o[1].mul(A),r.add(a[0])),a=wS(t,l+32,i.add(a[1]),s.add(Nr(t,l+16))),[i,r]=[r,i],ef(ef(o[0],a[0],A).add(M3(s).mul(VJ)).add(i),ef(o[1],a[1],A).add(r),A)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nd(t,e){return e==="string"?uA(t):Ff([t],e)}function mTe(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function Ff(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=yA(t)),Le().getBool("DEBUG")&&NJ(t,e),mTe(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let r=0;r<n.length;++r)Math.round(t[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${e}`)}function wo(){return Le().platform.now()}function gTe(t,e){return Le().platform.fetch(t,e)}function uA(t,e="utf-8"){return e=e||"utf-8",Le().platform.encode(t,e)}function vd(t,e="utf-8"){return e=e||"utf-8",Le().platform.decode(t,e)}function fi(t){return Le().platform.isTypedArray!=null?Le().platform.isTypedArray(t):$J(t)}function yA(t,e=[],n=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||hf(t)||t==null||fi(t)&&n)e.push(t);else if(Array.isArray(t)||fi(t))for(let r=0;r<t.length;++r)yA(t[r],e,n);else{let r=-1;for(const s of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(s)&&(r=Math.max(r,Number(s)));for(let s=0;s<=r;s++)yA(t[s],e,n)}return e}const yTe=Object.freeze(Object.defineProperty({__proto__:null,arraysEqual:Tn,arraysEqualWithNull:_J,assert:ee,assertNonNegativeIntegerDimensions:$a,assertNonNull:Mm,assertShapesMatch:Fi,bytesFromStringArray:EJ,bytesPerElement:Ax,checkConversionForErrors:NJ,clamp:Af,computeStrides:Qt,convertBackendValuesAndArrayBuffer:FJ,createScalarValue:Nd,createShuffledIndices:qke,decodeString:vd,distSquared:Wke,encodeString:uA,fetch:gTe,fingerPrint64:GJ,flatten:yA,getArrayFromDType:As,getTypedArrayFromDType:gi,hasEncodingLoss:lR,hexToLong:l2,indexToLoc:jm,inferDtype:Qm,inferFromImplicitShape:aR,isBoolean:kJ,isFunction:df,isInt:gm,isNumber:N_,isPromise:hf,isScalarShape:Gke,isString:eA,isTypedArray:fi,isValidDtype:IJ,locToIndex:ru,makeOnesTypedArray:lI,makeZerosNestedTypedArray:cR,makeZerosTypedArray:Ti,nearestDivisor:I_,nearestLargerEven:aI,now:wo,parseAxisParam:Nn,randUniform:Vke,repeatedTry:O3,rightPad:Zp,shuffle:oR,shuffleCombo:zke,sizeFromShape:Oe,sizeToSquarishShape:__,squeezeShape:_d,sum:BJ,swap:sd,tanh:Kke,toNestedArray:hl,toTypedArray:Ff},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wTe{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new xTe)}profileKernel(e,n,r){let s;const i=()=>{s=r()};let o;const a=wo();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(i);else{i();for(const c of s)c.dataSync();o=Promise.resolve({kernelMs:wo()-a})}if(Le().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let c=0;c<s.length;c++){const u=s[c];u.data().then(A=>{vTe(A,u.dtype,e)})}return{kernelName:e,outputs:s,inputs:n,timeMs:o.then(c=>c.kernelMs),extraInfo:o.then(c=>c.getExtraProfileInfo!=null?c.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:r,timeMs:s,inputs:i,extraInfo:o}=e;r.forEach(a=>{Promise.all([a.data(),s,o]).then(l=>{this.logger.logKernelProfile(n,a,l[0],l[1],i,l[2])})})}}function vTe(t,e,n){if(e!=="float32")return!1;for(let r=0;r<t.length;r++){const s=t[r];if(isNaN(s)||!isFinite(s))return console.warn(`Found ${s} in the result of '${n}'`),!0}return!1}class xTe{logKernelProfile(e,n,r,s,i,o){const a=typeof s=="number"?Zp(`${s}ms`,9):s.error,l=Zp(e,25),c=n.rank,u=n.size,A=Zp(n.shape.toString(),14);let d="";for(const h in i){const p=i[h];if(p!=null){const m=p.shape||n.shape,y=m.length;d+=`${h}: ${y}D ${y>0?m:""} `}}console.log(`%c${l}	%c${a}	%c${c}D ${A}	%c${u}	%c${d}	%c${o}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bTe(t,e,n){const r={},s={};for(let l=0;l<e.length;l++)r[e[l].id]=!0;for(let l=0;l<t.length;l++){const c=t[l],u=c.inputs;for(const A in u){const d=u[A];let h=!1;for(let p=0;p<e.length;p++)if(r[d.id]){c.outputs.forEach(m=>r[m.id]=!0),h=!0,s[c.id]=!0;break}if(h)break}}const i={};i[n.id]=!0;const o={};for(let l=t.length-1;l>=0;l--){const c=t[l],u=c.inputs;for(let A=0;A<c.outputs.length;A++)if(i[c.outputs[A].id]){for(const d in u)i[u[d].id]=!0,o[c.id]=!0;break}}const a=[];for(let l=0;l<t.length;l++){const c=t[l];if(s[c.id]&&o[c.id]){const u={};for(const d in c.inputs){const h=c.inputs[d];r[h.id]&&(u[d]=h)}const A=Object.assign({},c);A.inputs=u,A.outputs=c.outputs,a.push(A)}}return a}function CTe(t,e,n,r){for(let s=e.length-1;s>=0;s--){const i=e[s],o=[];if(i.outputs.forEach(l=>{const c=t[l.id];c!=null?o.push(c):o.push(null)}),i.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);const a=i.gradient(o);for(const l in i.inputs){if(!(l in a))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(a)}.`);const c=n(()=>a[l]());if(c.dtype!=="float32")throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${c.dtype}'`);const u=i.inputs[l];if(!Tn(c.shape,u.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${l}' has shape '${c.shape}', which does not match the shape of the input '${u.shape}'`);if(t[u.id]==null)t[u.id]=c;else{const A=t[u.id];t[u.id]=r(A,c),A.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TH=20,Cw=3,M5=7;function STe(t,e,n,r){const s=Qt(e),i=BTe(t,e,n,s),o=e.length,a=fB(t,e,n,s,i),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${o}`),l.push(`  shape: [${e}]`),l.push("  values:")),l.push(a.map(c=>"    "+c).join(`
`)),l.join(`
`)}function BTe(t,e,n,r){const s=Oe(e),i=r[r.length-1],o=new Array(i).fill(0),a=e.length,l=n==="complex64"?Gw(t):t;if(a>1)for(let c=0;c<s/i;c++){const u=c*i;for(let A=0;A<i;A++)o[A]=Math.max(o[A],Ww(l[u+A],0,n).length)}return o}function Ww(t,e,n){let r;return Array.isArray(t)?r=`${parseFloat(t[0].toFixed(M5))} + ${parseFloat(t[1].toFixed(M5))}j`:eA(t)?r=`'${t}'`:n==="bool"?r=KJ(t):r=parseFloat(t.toFixed(M5)).toString(),Zp(r,e)}function KJ(t){return t===0?"false":"true"}function fB(t,e,n,r,s,i=!0){const o=n==="complex64"?2:1,a=e[0],l=e.length;if(l===0){if(n==="complex64"){const m=Gw(t);return[Ww(m[0],0,n)]}return n==="bool"?[KJ(t[0])]:[t[0].toString()]}if(l===1){if(a>TH){const y=Cw*o;let g=Array.from(t.slice(0,y)),v=Array.from(t.slice((a-Cw)*o,a*o));return n==="complex64"&&(g=Gw(g),v=Gw(v)),["["+g.map((b,C)=>Ww(b,s[C],n)).join(", ")+", ..., "+v.map((b,C)=>Ww(b,s[a-Cw+C],n)).join(", ")+"]"]}return["["+(n==="complex64"?Gw(t):Array.from(t)).map((y,g)=>Ww(y,s[g],n)).join(", ")+"]"]}const c=e.slice(1),u=r.slice(1),A=r[0]*o,d=[];if(a>TH){for(let m=0;m<Cw;m++){const y=m*A,g=y+A;d.push(...fB(t.slice(y,g),c,n,u,s,!1))}d.push("...");for(let m=a-Cw;m<a;m++){const y=m*A,g=y+A;d.push(...fB(t.slice(y,g),c,n,u,s,m===a-1))}}else for(let m=0;m<a;m++){const y=m*A,g=y+A;d.push(...fB(t.slice(y,g),c,n,u,s,m===a-1))}const h=l===2?",":"";d[0]="["+(a>0?d[0]+h:"");for(let m=1;m<d.length-1;m++)d[m]=" "+d[m]+h;let p=`,
`;for(let m=2;m<l;m++)p+=`
`;return d[d.length-1]=" "+d[d.length-1]+"]"+(i?"":p),d}function Gw(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Qs{constructor(e,n,r){if(this.dtype=n,this.shape=e.slice(),this.size=Oe(e),r!=null){const s=r.length;ee(s===this.size,()=>`Length of values '${s}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||As(n,this.size),this.strides=Qt(e)}set(e,...n){n.length===0&&(n=[0]),ee(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const s of e){if(s<0||s>=this.shape[n]){const i=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(i)}n++}let r=e[e.length-1];for(let s=0;s<e.length-1;++s)r+=this.strides[s]*e[s];return this.values[r]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return Xc().makeTensor(this.values,this.shape,this.dtype)}}let Xc=null,$g=null;function _Te(t){Xc=t}function NTe(t){$g=t}class nr{constructor(e,n,r,s){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=Oe(e),this.strides=Qt(e),this.dataId=r,this.id=s,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return $g.buffer(this.shape,this.dtype,e)}bufferSync(){return $g.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return hl(this.shape,e,this.dtype==="complex64")}arraySync(){return hl(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Xc().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(r=>vd(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Xc().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Xc().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>vd(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Xc().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Xc().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return $g.print(this,e)}clone(){return this.throwIfDisposed(),$g.clone(this)}toString(e=!1){const n=this.dataSync();return STe(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),$g.cast(this,e)}variable(e=!0,n,r){return this.throwIfDisposed(),Xc().makeVariable(this,e,n,r)}}Object.defineProperty(nr,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function Me(){return AR("Tensor",()=>nr)}Me();class gx extends nr{constructor(e,n,r,s){super(e.shape,e.dtype,e.dataId,s),this.trainable=n,this.name=r}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!Tn(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Xc().disposeTensor(this),this.dataId=e.dataId,Xc().incRef(this,null)}dispose(){Xc().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(gx,Symbol.hasInstance,{value:t=>t instanceof nr&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Q3;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(Q3||(Q3={}));var j3;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(j3||(j3={}));var H3;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(H3||(H3={}));var z3;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(z3||(z3={}));var V3;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(V3||(V3={}));const ITe={float32:z3,int32:j3,bool:H3,complex64:V3};function Xo(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return ITe[t][e]}function pE(t){return Xo(t,"int32")}function qJ(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}function XJ(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ns(t,e){if(t.dtype===e.dtype)return[t,e];const n=Xo(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function YJ(t,e){ee(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function ETe(t,e){return e.some(n=>n.id===t.id)}function fR(t){const e=[];return ZJ(t,e,new Set),e}function ZJ(t,e,n){if(t==null)return;if(t instanceof nr){e.push(t);return}if(!kTe(t))return;const r=t;for(const s in r){const i=r[s];n.has(i)||(n.add(i),ZJ(i,e,n))}}function kTe(t){return Array.isArray(t)||typeof t=="object"}const TTe=Object.freeze(Object.defineProperty({__proto__:null,assertTypesMatch:YJ,getTensorsInContainer:fR,isTensorInList:ETe,makeTypesMatch:ns},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q5(t){return t.kernelName!=null}class FH{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class ny{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new FH}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,r=1){return e in this.registryFactory?(sl(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:r},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(e);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new wTe(this.backendInstance),!0}setupRegisteredKernels(){F_(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){F_(e).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof oI)&&typeof r.then=="function"){const s=++this.pendingBackendInitId,i=r.then(o=>s<this.pendingBackendInitId?!1:(this.registry[e]=o,this.pendingBackendInit=null,!0)).catch(o=>(s<this.pendingBackendInitId||(this.pendingBackendInit=null,sl(`Initialization of backend ${e} failed`),sl(o.stack||o.message)),!1));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}else return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(r){return sl(`Initialization of backend ${e} failed`),sl(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n],{success:s,asyncInit:i}=this.initializeBackend(r);if(i||s)return{name:r,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const r=this.state.tensorInfo.get(n),s=r.backend,i=this.readSync(n),o=s.refCount(n);s.disposeData(n,!0),r.backend=e,e.move(n,i,r.shape,r.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let r=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}let s;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(s),()=>(s=n(),s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),s))}scopedRun(e,n,r){e();try{const s=r();return n(),s}catch(s){throw n(),s}}nextTensorId(){return ny.nextTensorId++}nextVariableId(){return ny.nextVariableId++}clone(e){const n=ge.runKernel(Zy,{x:e}),r={x:e},s=o=>({x:()=>{const a="float32",l={x:o},c={dtype:a};return ge.runKernel(Uy,l,c)}}),i=[];return this.addTapeNode(this.state.activeScope.name,r,[n],s,i,{}),n}runKernel(e,n,r){if(this.backendName==null&&this.backend,!(mx(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,r){const s=this.backend.numDataIds();let i=0;r.forEach(l=>{i+=l.dtype==="complex64"?3:1});const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=s-n-i-o;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${e}'`)}runKernelFunc(e){let n,r=[];const s=this.isTapeOn(),i=this.state.numBytes,o=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let a;this.backendName==null&&this.backend;let l;const c=Q5(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(Q5(e)){const{kernelName:p,inputs:m,attrs:y}=e;this.backendName==null&&this.backend;const g=mx(p,this.backendName);ee(g!=null,()=>`Cannot find registered kernel '${p}' for backend '${this.backendName}'`),a=()=>{const v=this.backend.numDataIds();l=g.kernelFunc({inputs:m,attrs:y,backend:this.backend});const b=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(p,v,b);const C=b.map(_=>_.rank!=null?_:this.makeTensorFromTensorInfo(_));if(s){const _=this.getTensorsForGradient(p,m,C);r=this.saveTensorsForBackwardMode(_)}return C}}else{const{forwardFunc:p}=e,m=y=>{s&&(r=y.map(g=>this.keep(this.clone(g))))};a=()=>{const y=this.backend.numDataIds();l=this.tidy(()=>p(this.backend,m));const g=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(c,y,g),g}}const{inputs:u,attrs:A}=e,d=Q5(e)?null:e.backwardsFunc;let h;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=a():(h=this.profiler.profileKernel(c,u,()=>a()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),n=h.outputs)}),s&&this.addTapeNode(c,u,n,d,r,A),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map(p=>u[p]!=null?u[p].shape:null),outputShapes:n.map(p=>p.shape),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,n,r){const s=$3(e);if(s!=null){const i=s.inputsToSave||[],o=s.outputsToSave||[];let a;s.saveAllInputs?(ee(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),a=Object.keys(n).map(c=>n[c])):a=i.map(c=>n[c]);const l=r.filter((c,u)=>o[u]);return a.concat(l)}return[]}makeTensor(e,n,r,s){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",s=s||this.backend;let i=e;r==="string"&&eA(e[0])&&(i=e.map(l=>uA(l)));const o=s.write(i,n,r),a=new nr(n,r,o,this.nextTensorId());if(this.trackTensor(a,s),r==="string"){const l=this.state.tensorInfo.get(o),c=EJ(i);this.state.numBytes+=c-l.bytes,l.bytes=c}return a}makeTensorFromDataId(e,n,r,s){r=r||"float32";const i={dataId:e,shape:n,dtype:r};return this.makeTensorFromTensorInfo(i,s)}makeTensorFromTensorInfo(e,n){const{dataId:r,shape:s,dtype:i}=e,o=new nr(s,i,r,this.nextTensorId());return this.trackTensor(o,n),o}makeVariable(e,n=!0,r,s){r=r||this.nextVariableId().toString(),s!=null&&s!==e.dtype&&(e=e.cast(s));const i=new gx(e,n,r,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let r=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(r=e.size*Ax(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof gx||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const r=e.size*Ax(e.dtype);this.state.numBytes-=r}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(s=>s.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const s of this.state.activeProfile.kernels)s.kernelTimeMs=await s.kernelTimeMs,s.extraInfo=await s.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,r,s,i,o){const a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:i},l=$3(e);l!=null&&(s=l.gradFunc),s!=null&&(a.gradient=c=>(c=c.map((u,A)=>{if(u==null){const d=r[A],h=Ti(d.size,d.dtype);return this.makeTensor(h,d.shape,d.dtype)}return u}),s(c.length>1?c:c[0],i,o))),this.state.activeTape.push(a)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=fR(e),r=new Set(n.map(i=>i.id));for(let i=0;i<this.state.activeScope.track.length;i++){const o=this.state.activeScope.track[i];!o.kept&&!r.has(o.id)&&o.dispose()}const s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(i=>{!i.kept&&i.scopeId===s.id&&this.track(i)})}gradients(e,n,r,s=!1){if(ee(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const i=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));ee(i instanceof nr,()=>"The result y returned by f() must be a tensor.");const o=bTe(this.state.activeTape,n,i);if(!s&&o.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const a={};a[i.id]=r??FTe(i.shape),CTe(a,o,c=>this.tidy(c),LTe);const l=n.map(c=>a[c.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(c=>{for(const u of c.saved)u.dispose()}),this.state.activeTape=null),{value:i,grads:l}})}customGrad(e){return ee(df(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{ee(n.every(a=>a instanceof nr),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const s={};n.forEach((a,l)=>{s[l]=a});const i=(a,l)=>(r=e(...n,l),ee(r.value instanceof nr,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),ee(df(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),o=(a,l)=>{const c=r.gradFunc(a,l),u=Array.isArray(c)?c:[c];ee(u.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),ee(u.every(d=>d instanceof nr),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const A={};return u.forEach((d,h)=>{A[h]=()=>d}),A};return this.runKernelFunc({forwardFunc:i,backwardsFunc:o,inputs:s})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=wo(),r=await this.backend.time(e);return r.wallMs=wo()-n,r}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new FH;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}ny.nextTensorId=0;ny.nextVariableId=0;function FTe(t){const e=lI(Oe(t),"float32");return ge.makeTensor(e,t,"float32")}function JJ(){const t=DJ();if(t._tfengine==null){const e=new LJ(t);t._tfengine=new ny(e)}return Jke(t._tfengine.ENV),_Te(()=>t._tfengine),t._tfengine}const ge=JJ();function LTe(t,e){const n={a:t,b:e};return ge.runKernel(Hm,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DTe(){return typeof navigator<"u"&&navigator!=null}let W3;function PTe(t){W3=t}function pR(t){if(W3!==void 0)return W3;if(t||DTe()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function mR(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}const RTe=Object.freeze(Object.defineProperty({__proto__:null,isBrowser:mR,isMobile:pR,mockIsMobile:PTe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yo=Le();Yo.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Yo.registerFlag("IS_BROWSER",()=>mR());Yo.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Yo.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Yo.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));Yo.registerFlag("PROD",()=>!1);Yo.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Yo.getBool("DEBUG"));Yo.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Yo.registerFlag("IS_TEST",()=>!1);Yo.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Yo.getBool("DEBUG"));Yo.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Yo.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Yo.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wA(t,e){let n=t;if(fi(t))return e==="string"?[]:[t.length];if(qJ(t)){const s=t.channels||"RGBA";return[t.height,t.width*s.length]}else if(XJ(t))return[t.buffer.size/(e==null?4:Ax(e))];if(!Array.isArray(t))return[];const r=[];for(;Array.isArray(n)||fi(n)&&e!=="string";)r.push(n.length),n=n[0];return Array.isArray(t)&&Le().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&eee(t,r,[]),r}function eee(t,e,n){if(n=n||[],!Array.isArray(t)&&!fi(t)){ee(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}ee(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),ee(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const r=e.slice(1);for(let s=0;s<t.length;++s)eee(t[s],r,n.concat(s))}function LH(t,e,n,r){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${t} tensor, but got ${e} tensor`)}}function ie(t,e,n,r="numeric"){if(t instanceof Me())return LH(r,t.dtype,e,n),t;let s=Qm(t);if(s!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(s=r),LH(r,s,e,n),t==null||!fi(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const l=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${l}'`)}const i=wA(t,s);!fi(t)&&!Array.isArray(t)&&(t=[t]);const a=s!=="string"?Ff(t,s):yA(t,[],!0);return ge.makeTensor(a,i,s)}function yx(t,e,n,r="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((i,o)=>ie(i,`${e}[${o}]`,n,r))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gR="__op";function ye(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+gR;const s=(...i)=>{ge.startScope(n);try{const o=r(...i);return hf(o)&&console.error("Cannot return a Promise inside of tidy."),ge.endScope(o),o}catch(o){throw ge.endScope(null),o}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OTe(t,e){const n=ie(t,"real","complex"),r=ie(e,"imag","complex");Fi(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const s={real:n,imag:r};return ge.runKernel(pI,s)}const xd=ye({complex_:OTe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lf(t,e,n,r){if(r==null)r=Qm(t);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(XJ(t)||qJ(t)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return ge.backend.createTensorFromGPUData(t,e||n,r)}if(!fi(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){$a(e);const s=Oe(e),i=Oe(n);ee(s===i,()=>`Based on the provided shape, [${e}], the tensor should have ${s} values but has ${i}`);for(let o=0;o<n.length;++o){const a=n[o],l=o===n.length-1?a!==Oe(e.slice(o)):!0;ee(n[o]===e[o]||!l,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!fi(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=r!=="string"?Ff(t,r):yA(t,[],!0),ge.makeTensor(t,e,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rc(t,e,n){const r=wA(t,n);return Lf(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ym={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class xu{static join(e){return new xu(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(r=>fi(r)?r.buffer:r),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let n=0;for(let r=0;r<e.length;r++){const s=e[r];r!==e.length-1&&s.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const i=n+s.byteLength;this.shards.push({buffer:s,start:n,end:i}),n=i}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,n=isNaN(Number(n))?0:n,e=Math.max(0,e),n=Math.min(this.byteLength,n),n<=e)return new ArrayBuffer(0);const r=this.findShardForByte(e);if(r===-1)throw new Error(`Could not find start shard for byte ${e}`);const s=n-e,i=new ArrayBuffer(s),o=new Uint8Array(i);let a=0;for(let l=r;l<this.shards.length;l++){const c=this.shards[l],A=e+a-c.start,d=a,p=Math.min(n,c.end)-c.start,m=new Uint8Array(c.buffer,A,p-A);if(o.set(m,d),a+=m.length,n<c.end)break}return i}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function n(s){return e<s.start?-1:e>=s.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const r=$Te(this.shards,n);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}function $Te(t,e){let n=0,r=t.length;for(;n<=r;){const s=Math.floor((r-n)/2)+n,i=e(t[s]);if(i===0)return s;i<0?r=s:n=s+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UTe(){Le().set("PROD",!0)}function MTe(){Le().set("DEBUG",!0)}function QTe(){Le().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function jTe(t){Le().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function HTe(){ge.disposeVariables()}function Vc(){return ge}function G3(){return ge.memory()}function zTe(t){return ge.profile(t)}function Te(t,e){return ge.tidy(t,e)}function Bn(t){fR(t).forEach(n=>n.dispose())}function Xs(t){return ge.keep(t)}function VTe(t){return ge.time(t)}function WTe(t){return ge.setBackend(t)}function tee(){return ge.ready()}function nee(){return ge.backendName}function GTe(t){ge.removeBackend(t)}function KTe(t){return ge.findBackend(t)}function qTe(t){return ge.findBackendFactory(t)}function yR(t,e,n=1){return ge.registerBackend(t,e,n)}function wR(){return ge.backend}function XTe(t,e){Le().setPlatform(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ff=4;async function K3(t,e){const n=[],r=[],s=Array.isArray(t)?t.map(o=>o.name):Object.keys(t);for(let o=0;o<s.length;++o){const a=s[o],l=Array.isArray(t)?t[o].tensor:t[a];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${a}': ${l.dtype}`);const c={name:a,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const u=new Promise(async A=>{const d=await l.bytes(),h=d.reduce((y,g)=>y+g.length,0)+ff*d.length,p=new Uint8Array(h);let m=0;for(let y=0;y<d.length;y++){const g=d[y],v=new Uint8Array(new Uint32Array([g.length]).buffer);p.set(v,m),m+=ff,p.set(g,m),m+=g.length}A(p)});r.push(u)}else r.push(l.data());e!=null&&(c.group=e),n.push(c)}const i=await Promise.all(r);return{data:JTe(i),specs:n}}function ree(t,e){const n=new xu(t),r={};let s=0;for(const i of e){const o=YTe(i,(a,l)=>n.slice(s+a,s+l));r[i.name]=see(i,n.slice(s,s+o)),s+=o}return r}function YTe(t,e){const n=Oe(t.shape);let r;if("quantization"in t){const s=t.quantization;r=ym[s.dtype]}else if(t.dtype==="string"){let s=0;for(let i=0;i<n;i++)s+=ff+new Uint32Array(e(s,s+ff))[0];return s}else r=ym[t.dtype];return n*r}async function ZTe(t,e){const n=Oe(t.shape);let r;if("quantization"in t){const s=t.quantization;r=ym[s.dtype]}else if(t.dtype==="string"){let s=0;for(let i=0;i<n;i++)s+=ff+new Uint32Array(await e(s,s+ff))[0];return s}else r=ym[t.dtype];return n*r}function see(t,e){const n=t.name,r=t.dtype,s=t.shape,i=Oe(s);let o,a=0;if("quantization"in t){const l=t.quantization;if(l.dtype==="uint8"||l.dtype==="uint16"){if(!("min"in l&&"scale"in l))throw new Error(`Weight ${t.name} with quantization ${l.dtype} doesn't have corresponding metadata min and scale.`)}else if(l.dtype==="float16"){if(r!=="float32")throw new Error(`Weight ${t.name} is quantized with ${l.dtype} which only supports weights of type float32 not ${r}.`)}else throw new Error(`Weight ${t.name} has unknown quantization dtype ${l.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const c=ym[l.dtype],u=l.dtype==="uint8"?new Uint8Array(e):new Uint16Array(e);if(r==="float32")if(l.dtype==="uint8"||l.dtype==="uint16"){o=new Float32Array(u.length);for(let A=0;A<u.length;A++){const d=u[A];o[A]=d*l.scale+l.min}}else if(l.dtype==="float16")o=i5e()(u);else throw new Error(`Unsupported quantization type ${l.dtype} for weight type float32.`);else if(r==="int32"){if(l.dtype!=="uint8"&&l.dtype!=="uint16")throw new Error(`Unsupported quantization type ${l.dtype} for weight type int32.`);o=new Int32Array(u.length);for(let A=0;A<u.length;A++){const d=u[A];o[A]=Math.round(d*l.scale+l.min)}}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);a+=i*c}else if(r==="string"){const l=Oe(t.shape);o=[];for(let c=0;c<l;c++){const u=new Uint32Array(e.slice(a,a+ff))[0];a+=ff;const A=new Uint8Array(e.slice(a,a+u));o.push(A),a+=u}}else{const l=ym[r];if(r==="float32")o=new Float32Array(e);else if(r==="int32")o=new Int32Array(e);else if(r==="bool")o=new Uint8Array(e);else if(r==="complex64"){o=new Float32Array(e);const c=new Float32Array(o.length/2),u=new Float32Array(o.length/2);for(let p=0;p<c.length;p++)c[p]=o[p*2],u[p]=o[p*2+1];const A=rc(c,s,"float32"),d=rc(u,s,"float32"),h=xd(A,d);return A.dispose(),d.dispose(),h}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);a+=i*l}return rc(o,s,r)}async function DH(t,e,n){let r=new Uint8Array(e);for(;r.byteLength<n;){const{done:s,value:i}=await t.read();if(s&&i==null){const a=n-r.byteLength;throw new Error(`Reader is done but ${a} bytes are still expected`)}const o=new Uint8Array(r.length+i.byteLength);o.set(r,0),o.set(new Uint8Array(i),r.length),r=o}return r.buffer}async function iee(t,e){const n={},r=t.getReader();let s=new ArrayBuffer(0);for(const i of e){const o=await ZTe(i,async(c,u)=>(s=await DH(r,s,u),s.slice(c,u)));s=await DH(r,s,o);const a=s.slice(0,o);s=s.slice(o);const l=see(i,a);if(n[i.name]=l,nee()==="webgpu"){const c=wR();"uploadToGPU"in c&&Oe(l.shape)>=Le().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&c.uploadToGPU(l.dataId)}}return n}function JTe(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(i=>{if(e+=i.byteLength,n.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${i.constructor.name}`)});const r=new Uint8Array(e);let s=0;return n.forEach(i=>{r.set(new Uint8Array(i.buffer),s),s+=i.byteLength}),r.buffer}const vR=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function PH(t){return vR?Buffer.byteLength(t,"utf8"):new Blob([t]).size}function e5e(t){if(vR)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let r=0,s=e.length;r<s;r++)n+=String.fromCharCode(e[r]);return btoa(n)}function t5e(t){if(vR){const r=Buffer.from(t,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;++r)n.set([e.charCodeAt(r)],r);return n.buffer}function oee(t){return xu.join(t)}function RH(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}function aee(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function xR(t,e,n){const r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=e,r.weightData=n}return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(r.initializerSignature=t.initializerSignature),r}async function bR(t,e){let n,r;return t.weightsManifest!=null&&([n,r]=await e(t.weightsManifest)),xR(t,n,r)}function c2(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:PH(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:PH(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:new xu(t.weightData).byteLength}}function D_(t){const e=[];for(const n of t)e.push(...n.weights);return e}function n5e(){const t=n=>{let r=n<<13,s=0;for(;!(r&8388608);)s-=8388608,r<<=1;return r&=-8388609,s+=947912704,r|s},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function r5e(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function s5e(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function i5e(){const t=n5e(),e=r5e(),n=s5e();return r=>{const s=new ArrayBuffer(4*r.length),i=new Uint32Array(s);for(let o=0;o<r.length;o++){const a=r[o],l=t[n[a>>10]+(a&1023)]+e[a>>10];i[o]=l}return new Float32Array(s)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Zr{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return Zr.instance==null&&(Zr.instance=new Zr),Zr.instance}static registerSaveRouter(e){Zr.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Zr.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Zr.getHandlers(e,"save")}static getLoadHandlers(e,n){return Zr.getHandlers(e,"load",n)}static getHandlers(e,n,r){const s=[];return(n==="load"?Zr.getInstance().loadRouters:Zr.getInstance().saveRouters).forEach(o=>{const a=o(e,r);a!==null&&s.push(a)}),s}}const o5e=t=>Zr.registerSaveRouter(t),a5e=t=>Zr.registerLoadRouter(t),lee=t=>Zr.getSaveHandlers(t),l5e=(t,e)=>Zr.getLoadHandlers(t,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q3="tensorflowjs",X3=1,$p="models_store",Rh="model_info_store";function cee(){if(!Le().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function Y3(t){const e=t.result;e.createObjectStore($p,{keyPath:"modelPath"}),e.createObjectStore(Rh,{keyPath:"modelPath"})}class wm{constructor(e){if(this.indexedDB=cee(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((r,s)=>{const i=this.indexedDB.open(q3,X3);i.onupgradeneeded=()=>Y3(i),i.onsuccess=()=>{const o=i.result;if(n==null){const a=o.transaction($p,"readonly"),c=a.objectStore($p).get(this.modelPath);c.onsuccess=()=>{if(c.result==null)return o.close(),s(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(c.result.modelArtifacts)},c.onerror=u=>(o.close(),s(c.error)),a.oncomplete=()=>o.close()}else{n.weightData=xu.join(n.weightData);const a=c2(n),l=o.transaction(Rh,"readwrite");let c=l.objectStore(Rh),u;try{u=c.put({modelPath:this.modelPath,modelArtifactsInfo:a})}catch(d){return s(d)}let A;u.onsuccess=()=>{A=o.transaction($p,"readwrite");const d=A.objectStore($p);let h;try{h=d.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:a})}catch(p){return s(p)}h.onsuccess=()=>r({modelArtifactsInfo:a}),h.onerror=p=>{c=l.objectStore(Rh);const m=c.delete(this.modelPath);m.onsuccess=()=>(o.close(),s(h.error)),m.onerror=y=>(o.close(),s(h.error))}},u.onerror=d=>(o.close(),s(u.error)),l.oncomplete=()=>{A==null?o.close():A.oncomplete=()=>o.close()}}},i.onerror=o=>s(i.error)})}}wm.URL_SCHEME="indexeddb://";const uee=t=>Le().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(wm.URL_SCHEME)?c5e(t.slice(wm.URL_SCHEME.length)):null;Zr.registerSaveRouter(uee);Zr.registerLoadRouter(uee);function c5e(t){return new wm(t)}function u5e(t){return t.startsWith(wm.URL_SCHEME)?t.slice(wm.URL_SCHEME.length):t}class A5e{constructor(){this.indexedDB=cee()}async listModels(){return new Promise((e,n)=>{const r=this.indexedDB.open(q3,X3);r.onupgradeneeded=()=>Y3(r),r.onsuccess=()=>{const s=r.result,i=s.transaction(Rh,"readonly"),a=i.objectStore(Rh).getAll();a.onsuccess=()=>{const l={};for(const c of a.result)l[c.modelPath]=c.modelArtifactsInfo;e(l)},a.onerror=l=>(s.close(),n(a.error)),i.oncomplete=()=>s.close()},r.onerror=s=>n(r.error)})}async removeModel(e){return e=u5e(e),new Promise((n,r)=>{const s=this.indexedDB.open(q3,X3);s.onupgradeneeded=()=>Y3(s),s.onsuccess=()=>{const i=s.result,o=i.transaction(Rh,"readwrite"),a=o.objectStore(Rh),l=a.get(e);let c;l.onsuccess=()=>{if(l.result==null)return i.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const u=a.delete(e),A=()=>{c=i.transaction($p,"readwrite");const h=c.objectStore($p).delete(e);h.onsuccess=()=>n(l.result.modelArtifactsInfo),h.onerror=p=>r(l.error)};u.onsuccess=A,u.onerror=d=>(A(),i.close(),r(l.error))}},l.onerror=u=>(i.close(),r(l.error)),o.oncomplete=()=>{c==null?i.close():c.oncomplete=()=>i.close()}},s.onerror=i=>r(s.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const id="/",Ug="tensorflowjs_models",Aee="info",d5e="model_topology",h5e="weight_specs",f5e="weight_data",p5e="model_metadata";function dee(t){return{info:[Ug,t,Aee].join(id),topology:[Ug,t,d5e].join(id),weightSpecs:[Ug,t,h5e].join(id),weightData:[Ug,t,f5e].join(id),modelMetadata:[Ug,t,p5e].join(id)}}function hee(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function m5e(t){const e=t.split(id);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(id)}function g5e(t){return t.startsWith(vm.URL_SCHEME)?t.slice(vm.URL_SCHEME.length):t}class vm{constructor(e){if(!Le().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=dee(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),s=c2(e),i=xu.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,e5e(i));const o={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(o)),{modelArtifactsInfo:s}}catch{throw hee(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${s.modelTopologyBytes}, weightSpecsBytes=${s.weightSpecsBytes}, weightDataBytes=${s.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const s=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(s==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=s;const i=this.LS.getItem(this.keys.modelMetadata);if(i!=null){const a=JSON.parse(i);n.format=a.format,n.generatedBy=a.generatedBy,n.convertedBy=a.convertedBy,a.signature!=null&&(n.signature=a.signature),a.userDefinedMetadata!=null&&(n.userDefinedMetadata=a.userDefinedMetadata),a.modelInitializer!=null&&(n.modelInitializer=a.modelInitializer),a.initializerSignature!=null&&(n.initializerSignature=a.initializerSignature),a.trainingConfig!=null&&(n.trainingConfig=a.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(o==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=t5e(o),n}}vm.URL_SCHEME="localstorage://";const fee=t=>Le().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(vm.URL_SCHEME)?y5e(t.slice(vm.URL_SCHEME.length)):null;Zr.registerSaveRouter(fee);Zr.registerLoadRouter(fee);function y5e(t){return new vm(t)}class w5e{constructor(){ee(Le().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),ee(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=Ug+id,r=id+Aee;for(let s=0;s<this.LS.length;++s){const i=this.LS.key(s);if(i.startsWith(n)&&i.endsWith(r)){const o=m5e(i);e[o]=JSON.parse(this.LS.getItem(i))}}return e}async removeModel(e){e=g5e(e);const n=dee(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return hee(n),r}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C0="://";class vo{constructor(){this.managers={}}static getInstance(){return vo.instance==null&&(vo.instance=new vo),vo.instance}static registerManager(e,n){ee(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(C0)&&(e=e.slice(0,e.indexOf(C0))),ee(e.length>0,()=>"scheme must not be an empty string.");const r=vo.getInstance();ee(r.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),r.managers[e]=n}static getManager(e){const n=vo.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(vo.getInstance().managers)}}function pB(t){if(t.indexOf(C0)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${vo.getSchemes().join(",")}`);return{scheme:t.split(C0)[0],path:t.split(C0)[1]}}async function pee(t,e,n=!1){ee(t!==e,()=>`Old path and new path are the same: '${t}'`);const r=Zr.getLoadHandlers(t);ee(r.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),ee(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${t}.`);const s=r[0],i=Zr.getSaveHandlers(e);ee(i.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),ee(i.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${e}.`);const o=i[0],a=pB(t).scheme,l=pB(t).path,c=a===pB(t).scheme,u=await s.load();n&&c&&await vo.getManager(a).removeModel(l);const A=await o.save(u);return n&&!c&&await vo.getManager(a).removeModel(l),A.modelArtifactsInfo}async function v5e(){const t=vo.getSchemes(),e={};for(const n of t){const r=await vo.getManager(n).listModels();for(const s in r){const i=n+C0+s;e[i]=r[s]}}return e}async function x5e(t){const e=pB(t);return vo.getManager(e.scheme).removeModel(e.path)}async function b5e(t,e){return pee(t,e,!1)}async function C5e(t,e){return pee(t,e,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class S5e{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window>"u"||!Le().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const s=this.functionRefs[r.data.index];s(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return $J(e)}}if(Le().get("IS_BROWSER")){Le().setPlatform("browser",new S5e);try{vo.registerManager(vm.URL_SCHEME,new w5e)}catch{}try{vo.registerManager(wm.URL_SCHEME,new A5e)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B5e={importFetch:()=>require("node-fetch")};let j5;class _5e{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return Le().global.fetch!=null?Le().global.fetch(e,n):(j5==null&&(j5=B5e.importFetch()),j5(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}Le().get("IS_NODE")&&!Le().get("IS_BROWSER")&&Le().setPlatform("node",new _5e);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yn(t,e="float32",n){return e=e||"float32",$a(t),new Qs(t,e,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N5e(t,e){const n=ie(t,"x","cast");if(!IJ(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},s={dtype:e};return ge.runKernel(Uy,r,s)}const ot=ye({cast_:N5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I5e(t){const n={x:ie(t,"x","clone","string_or_numeric")};return ge.runKernel(Zy,n)}const AA=ye({clone_:I5e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CR(t,e=!1){console.log(t.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */JJ();const E5e={buffer:yn,cast:ot,clone:AA,print:CR};NTe(E5e);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k5e(t,e){let n=ie(t,"a","add"),r=ie(e,"b","add");[n,r]=ns(n,r);const s={a:n,b:r};return ge.runKernel(Hm,s)}const qe=ye({add_:k5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T5e(t,e){let n=ie(t,"a","floorDiv"),r=ie(e,"b","floorDiv");[n,r]=ns(n,r);const s={a:n,b:r};return ge.runKernel(Xy,s)}const mE=ye({floorDiv_:T5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F5e(t,e){let n=ie(t,"a","div"),r=ie(e,"b","div");if([n,r]=ns(n,r),n.dtype==="int32"&&r.dtype==="int32")return mE(n,r);const s={a:n,b:r},i={};return ge.runKernel(zy,s,i)}const Rt=ye({div_:F5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L5e(t,e){let n=ie(t,"a","mul"),r=ie(e,"b","mul");[n,r]=ns(n,r);const s={a:n,b:r};return ge.runKernel(a1,s)}const xe=ye({mul_:L5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D5e(t){const e=ie(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return ge.runKernel(fb,n)}else{const n={x:e};return ge.runKernel(ib,n)}}const Ps=ye({abs_:D5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P5e(t){const n={x:ie(t,"x","acos")};return ge.runKernel(Fy,n)}const SR=ye({acos_:P5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R5e(t){const n={x:ie(t,"x","acosh")};return ge.runKernel(Ly,n)}const BR=ye({acosh_:R5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O5e(t){ee(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),ee(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((s,i)=>ie(s,`tensors${i}`,"addN")),n=e[0];e.forEach(s=>{if(s.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(s=>{if(!Tn(s.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=e;return ge.runKernel(ob,r)}const mee=ye({addN_:O5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $5e(t,e=null,n=!1){const s={x:ie(t,"x","all","bool")},i={axis:e,keepDims:n};return ge.runKernel(cI,s,i)}const gE=ye({all_:$5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U5e(t,e=null,n=!1){const s={x:ie(t,"x","any","bool")},i={axis:e,keepDims:n};return ge.runKernel(uI,s,i)}const wx=ye({any_:U5e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M5e(t,e=0){const r={x:ie(t,"x","argMax")},s={axis:e};return ge.runKernel(ab,r,s)}const xm=ye({argMax_:M5e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q5e(t,e=0){const r={x:ie(t,"x","argMin")},s={axis:e};return ge.runKernel(lb,r,s)}const _R=ye({argMin_:Q5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j5e(t){const n={x:ie(t,"x","asin")};return ge.runKernel(Dy,n)}const NR=ye({asin_:j5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H5e(t){const n={x:ie(t,"x","asinh")};return ge.runKernel(Py,n)}const IR=ye({asinh_:H5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z5e(t){const n={x:ie(t,"x","atan")};return ge.runKernel(Ry,n)}const ER=ye({atan_:z5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V5e(t,e){let n=ie(t,"a","atan2"),r=ie(e,"b","atan2");[n,r]=ns(n,r);const s={a:n,b:r};return ge.runKernel($y,s)}const kR=ye({atan2_:V5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W5e(t){const n={x:ie(t,"x","atanh")};return ge.runKernel(Oy,n)}const TR=ye({atanh_:W5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u2(t,e,n,r,s="NHWC",i){const o=t[3],a=[...e,o],l=Ed(s);return wi(t,a,n,i,r,null,null,l)}function cc(t,e,n,r,s,i,o="channelsLast"){const[a,l]=vx(e);let c;if(o==="channelsLast")c=[a,l,t[3],t[3]];else if(o==="channelsFirst")c=[a,l,t[1],t[1]];else throw new Error(`Unknown dataFormat ${o}`);return wi(t,c,n,r,s,i,!1,o)}function Id(t,e,n,r,s,i,o="NDHWC"){const[a,l,c]=Z3(e);let u,A;if(o==="NDHWC")A="channelsLast",u=[a,l,c,t[4],t[4]];else if(o==="NCDHW")A="channelsFirst",u=[a,l,c,t[1],t[1]];else throw new Error(`Unknown dataFormat ${o}`);return Df(t,u,n,r,s,!1,A,i)}function wi(t,e,n,r,s,i,o=!1,a="channelsLast"){let[l,c,u,A]=[-1,-1,-1,-1];if(a==="channelsLast")[l,c,u,A]=t;else if(a==="channelsFirst")[l,A,c,u]=t;else throw new Error(`Unknown dataFormat ${a}`);const[d,h,,p]=e,[m,y]=vx(n),[g,v]=vx(r),b=S0(d,g),C=S0(h,v),{padInfo:_,outHeight:I,outWidth:F}=q5e(s,c,u,m,y,b,C,i,a),T=o?p*A:p;let D;return a==="channelsFirst"?D=[l,T,I,F]:a==="channelsLast"&&(D=[l,I,F,T]),{batchSize:l,dataFormat:a,inHeight:c,inWidth:u,inChannels:A,outHeight:I,outWidth:F,outChannels:T,padInfo:_,strideHeight:m,strideWidth:y,filterHeight:d,filterWidth:h,effectiveFilterHeight:b,effectiveFilterWidth:C,dilationHeight:g,dilationWidth:v,inShape:t,outShape:D,filterShape:e}}function Df(t,e,n,r,s,i=!1,o="channelsLast",a){let[l,c,u,A,d]=[-1,-1,-1,-1,-1];if(o==="channelsLast")[l,c,u,A,d]=t;else if(o==="channelsFirst")[l,d,c,u,A]=t;else throw new Error(`Unknown dataFormat ${o}`);const[h,p,m,,y]=e,[g,v,b]=Z3(n),[C,_,I]=Z3(r),F=S0(h,C),T=S0(p,_),D=S0(m,I),{padInfo:H,outDepth:R,outHeight:U,outWidth:W}=X5e(s,c,u,A,g,v,b,F,T,D,a),$=i?y*d:y;let Y;return o==="channelsFirst"?Y=[l,$,R,U,W]:o==="channelsLast"&&(Y=[l,R,U,W,$]),{batchSize:l,dataFormat:o,inDepth:c,inHeight:u,inWidth:A,inChannels:d,outDepth:R,outHeight:U,outWidth:W,outChannels:$,padInfo:H,strideDepth:g,strideHeight:v,strideWidth:b,filterDepth:h,filterHeight:p,filterWidth:m,effectiveFilterDepth:F,effectiveFilterHeight:T,effectiveFilterWidth:D,dilationDepth:C,dilationHeight:_,dilationWidth:I,inShape:t,outShape:Y,filterShape:e}}function G5e(t,e,n,r,s){r==null&&(r=FR(t,e,n));const i=t[0],o=t[1],a=xx((i-e+2*r)/n+1,s),l=xx((o-e+2*r)/n+1,s);return[a,l]}function K5e(t,e,n,r,s,i){s==null&&(s=FR(t,e[0],r[0]));const o=[0,0,0,n];for(let a=0;a<3;a++)t[a]+2*s>=e[a]&&(o[a]=xx((t[a]-e[a]+2*s)/r[a]+1,i));return o}function FR(t,e,n,r=1){const s=S0(e,r);return Math.floor((t[0]*(n-1)-n+s)/2)}function vx(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function Z3(t){return typeof t=="number"?[t,t,t]:t}function S0(t,e){return e<=1?t:t+(t-1)*(e-1)}function q5e(t,e,n,r,s,i,o,a,l){let c,u,A;if(typeof t=="number"){c={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const h=G5e([e,n],i,r,t,a);u=h[0],A=h[1]}else if(t==="same"){u=Math.ceil(e/r),A=Math.ceil(n/s);const d=Math.max(0,(u-1)*r+i-e),h=Math.max(0,(A-1)*s+o-n),p=Math.floor(d/2),m=d-p,y=Math.floor(h/2),g=h-y;c={top:p,bottom:m,left:y,right:g,type:"SAME"}}else if(t==="valid")c={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((e-i+1)/r),A=Math.ceil((n-o+1)/s);else if(typeof t=="object"){const d=l==="channelsLast"?t[1][0]:t[2][0],h=l==="channelsLast"?t[1][1]:t[2][1],p=l==="channelsLast"?t[2][0]:t[3][0],m=l==="channelsLast"?t[2][1]:t[3][1];c={top:d,bottom:h,left:p,right:m,type:d===0&&h===0&&p===0&&m===0?"VALID":"EXPLICIT"},u=xx((e-i+d+h)/r+1,a),A=xx((n-o+p+m)/s+1,a)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:c,outHeight:u,outWidth:A}}function X5e(t,e,n,r,s,i,o,a,l,c,u){let A,d,h,p;if(t==="valid"&&(t=0),typeof t=="number"){A={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const y=K5e([e,n,r,1],[a,l,c],1,[s,i,o],t,u);d=y[0],h=y[1],p=y[2]}else if(t==="same"){d=Math.ceil(e/s),h=Math.ceil(n/i),p=Math.ceil(r/o);const m=(d-1)*s+a-e,y=(h-1)*i+l-n,g=(p-1)*o+c-r,v=Math.floor(m/2),b=m-v,C=Math.floor(y/2),_=y-C,I=Math.floor(g/2),F=g-I;A={top:C,bottom:_,left:I,right:F,front:v,back:b,type:"SAME"}}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:A,outDepth:d,outHeight:h,outWidth:p}}function xx(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function pf(t){const[e,n,r]=vx(t);return e===1&&n===1&&r===1}function Li(t,e){return pf(t)||pf(e)}function bm(t){return vx(t).every(e=>e>0)}function Ed(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function No(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")ee(gm(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(r=>{r.forEach(s=>{ee(gm(s),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${s}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y5e(t,e){const r={x:ie(t,"x","reshape","string_or_numeric")},s={shape:e};return ge.runKernel(Kb,r,s)}const Se=ye({reshape_:Y5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z5e(t,e,n,r,s){const i=ie(t,"x","avgPool","float32"),o=1;ee(Li(n,o),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);let a=i,l=!1;i.rank===3&&(l=!0,a=Se(i,[1,i.shape[0],i.shape[1],i.shape[2]])),ee(a.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${a.rank}.`),No("avgPool",r,s);const c={x:a},u={filterSize:e,strides:n,pad:r,dimRoundingMode:s};let A=ge.runKernel(cb,c,u);return A=ot(A,i.dtype),l?Se(A,[A.shape[1],A.shape[2],A.shape[3]]):A}const A2=ye({avgPool_:Z5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J5e(t,e,n,r,s,i="NDHWC"){const o=ie(t,"x","avgPool3d","float32");let a=o,l=!1;o.rank===4&&(l=!0,a=Se(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ee(a.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${a.rank}.`),ee(i==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),ee(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),No("avgPool3d",r,s);const c={x:a},u={filterSize:e,strides:n,pad:r,dimRoundingMode:s,dataFormat:i};let A=ge.runKernel(ub,c,u);return A=ot(A,a.dtype),l?Se(A,[A.shape[1],A.shape[2],A.shape[3],A.shape[4]]):A}const LR=ye({avgPool3d_:J5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eFe(t,e=0){ee(t.length>=1,()=>"Pass at least one tensor to concat");const n=yx(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(i=>{if(i.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${i.dtype}. `)}),n.length===1)return AA(n[0]);const r=n,s={axis:e};return ge.runKernel(pb,r,s)}const Cs=ye({concat_:eFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tFe(t,e,n=!1,r=!1){let s=ie(t,"a","matMul"),i=ie(e,"b","matMul");[s,i]=ns(s,i);const o={a:s,b:i},a={transposeA:n,transposeB:r};return ge.runKernel(Ab,o,a)}const Sn=ye({matMul_:tFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nFe(t){const n={x:ie(t,"x","sigmoid","float32")};return ge.runKernel(y1,n)}const su=ye({sigmoid_:nFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rFe(t,e,n){const r=ie(t,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const s={x:r},i={begin:e,size:n};return ge.runKernel(Jb,s,i)}const Dn=ye({slice_:rFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sFe(t){const n={x:ie(t,"x","tanh","float32")};return ge.runKernel(S1,n)}const mf=ye({tanh_:sFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iFe(t,e,n,r,s,i){const o=ie(t,"forgetBias","basicLSTMCell"),a=ie(e,"lstmKernel","basicLSTMCell"),l=ie(n,"lstmBias","basicLSTMCell"),c=ie(r,"data","basicLSTMCell"),u=ie(s,"c","basicLSTMCell"),A=ie(i,"h","basicLSTMCell"),d=Cs([c,A],1),h=Sn(d,a),p=qe(h,l),m=p.shape[0],y=p.shape[1]/4,g=[m,y],v=Dn(p,[0,0],g),b=Dn(p,[0,y],g),C=Dn(p,[0,y*2],g),_=Dn(p,[0,y*3],g),I=qe(xe(su(v),mf(b)),xe(u,su(qe(o,C)))),F=xe(mf(I),su(_));return[I,F]}const gee=ye({basicLSTMCell_:iFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oFe(t,e,n){const r=ie(t,"x","batchToSpaceND"),s=e.reduce((a,l)=>a*l);ee(r.rank>=1+e.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${e.length}`),ee(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),ee(r.shape[0]%s===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${s}`);const i={x:r},o={blockShape:e,crops:n};return ge.runKernel(db,i,o)}const d2=ye({batchToSpaceND_:oFe});function aFe(t){let e;return t.rank===0||t.rank===1?e=Se(t,[1,1,1,t.size]):t.rank===2?e=Se(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=Se(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lFe(t,e,n,r,s,i){i==null&&(i=.001);const o=ie(t,"x","batchNorm"),a=ie(e,"mean","batchNorm"),l=ie(n,"variance","batchNorm");let c;s!=null&&(c=ie(s,"scale","batchNorm"));let u;r!=null&&(u=ie(r,"offset","batchNorm")),ee(a.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),ee(u==null||a.rank===u.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),ee(c==null||a.rank===c.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const d={x:aFe(o),scale:c,offset:u,mean:a,variance:l},h={varianceEpsilon:i},p=ge.runKernel(Sb,d,h);return Se(p,o.shape)}const N1=ye({batchNorm_:lFe});function cFe(t,e,n,r,s,i){const o=ie(t,"x","batchNorm"),a=ie(e,"mean","batchNorm"),l=ie(n,"variance","batchNorm");let c;s!=null&&(c=ie(s,"scale","batchNorm"));let u;return r!=null&&(u=ie(r,"offset","batchNorm")),ee(o.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${o.rank}.`),ee(a.rank===2||a.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${a.rank}.`),ee(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),c!=null&&ee(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${c.rank}.`),u!=null&&ee(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${u.rank}.`),N1(o,a,l,u,c,i)}const DR=ye({batchNorm2d_:cFe});function uFe(t,e,n,r,s,i){const o=ie(t,"x","batchNorm"),a=ie(e,"mean","batchNorm"),l=ie(n,"variance","batchNorm");let c;s!=null&&(c=ie(s,"scale","batchNorm"));let u;return r!=null&&(u=ie(r,"offset","batchNorm")),ee(o.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${o.rank}.`),ee(a.rank===3||a.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${a.rank}.`),ee(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),c!=null&&ee(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${c.rank}.`),u!=null&&ee(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${u.rank}.`),N1(o,a,l,u,c,i)}const PR=ye({batchNorm3d_:uFe});function AFe(t,e,n,r,s,i){const o=ie(t,"x","batchNorm"),a=ie(e,"mean","batchNorm"),l=ie(n,"variance","batchNorm");let c;s!=null&&(c=ie(s,"scale","batchNorm"));let u;return r!=null&&(u=ie(r,"offset","batchNorm")),ee(o.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${o.rank}.`),ee(a.rank===4||a.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${a.rank}.`),ee(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),c!=null&&ee(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${c.rank}.`),u!=null&&ee(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${u.rank}.`),N1(o,a,l,u,c,i)}const RR=ye({batchNorm4d_:AFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dFe(t,e,n){const r=ie(t,"x","bincount"),s=ie(e,"weights","bincount");ee(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),ee(n>=0,()=>`size must be non-negative, but got ${n}.`),ee(s.size===r.size||s.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${s.shape}.`);const i={x:r,weights:s},o={size:n};return ge.runKernel(hI,i,o)}const OR=ye({bincount_:dFe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hFe(t,e){const n=ie(t,"x","bitwiseAnd"),r=ie(e,"y","bitwiseAnd");if(!Tn(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if(n.dtype!=="int32"||r.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const s={a:n,b:r};return ge.runKernel(hb,s)}const yee=ye({bitwiseAnd_:hFe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fFe(t,e){const n=ie(t,"s0","broadcastArgs","int32"),r=ie(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const s={s0:n,s1:r};return ge.runKernel(fI,s)}const wee=ye({broadcastArgs_:fFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pFe(t,e){let n=ie(t,"broadcastTo","x");const r=n.shape;if($a(e),e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const c=n.shape.slice();for(;c.length<e.length;)c.unshift(1);n=Se(n,c)}const s=n.shape,i=Array.from(e);for(let c=e.length-1;c>=0;c--)if(s[c]===e[c])i[c]=1;else if(n.shape[c]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${e}].`);if(i.map((c,u)=>c>1?u:-1).filter(c=>c>=0).length===0)return AA(n);const a={x:n},l={reps:i};return ge.runKernel(B1,a,l)}const em=ye({broadcastTo_:pFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mFe(t){const n={x:ie(t,"x","ceil","float32")};return ge.runKernel(My,n)}const $R=ye({ceil_:mFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vm(t,e,n){$a(t),n=n||Qm(e);const r={shape:t,value:e,dtype:n};return ge.runKernel(kI,{},r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gFe(t,e,n){const r=ie(t,"x","clipByValue");if(ee(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return Vm(r.shape,e,r.dtype);const s={x:r},i={clipValueMin:e,clipValueMax:n};return ge.runKernel(Qy,s,i)}const Zo=ye({clipByValue_:gFe});function yFe(t){return Cs(t,0)}const UR=ye({concat1d_:yFe});function wFe(t,e){return Cs(t,e)}const MR=ye({concat2d_:wFe});function vFe(t,e){return Cs(t,e)}const QR=ye({concat3d_:vFe});function xFe(t,e){return Cs(t,e)}const jR=ye({concat4d_:xFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bFe(t,e,n,r,s="NHWC",i=[1,1],o){const a=ie(t,"x","conv2d","float32"),l=ie(e,"filter","conv2d","float32");let c=a,u=!1;a.rank===3&&(u=!0,c=Se(a,[1,a.shape[0],a.shape[1],a.shape[2]])),ee(c.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${c.rank}.`),ee(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),No("conv2d",r,o);const A=s==="NHWC"?c.shape[3]:c.shape[1];ee(A===l.shape[2],()=>`Error in conv2d: depth of input (${A}) must match input depth for filter ${l.shape[2]}.`),ee(Li(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),ee(bm(i),()=>"Error in conv2D: Dilated rates should be larger than 0."),ee(bm(n),()=>"Error in conv2D: Strides should be larger than 0.");const d={x:c,filter:l},h={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:o},p=ge.runKernel(mb,d,h);return u?Se(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const bd=ye({conv2d_:bFe});function CFe(t,e,n,r,s="NWC",i=1,o){const a=ie(t,"x","conv1d"),l=ie(e,"filter","conv1d");let c=a,u=!1;a.rank===2&&(u=!0,c=Se(a,[1,a.shape[0],a.shape[1]])),ee(c.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${c.rank}.`),ee(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),No("conv1d",r,o),ee(c.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${c.shape[2]}) must match input depth for filter ${l.shape[1]}.`),ee(Li(n,i),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${i}'`),ee(bm(i),()=>"Error in conv1D: Dilated rates should be larger than 0."),ee(bm(n),()=>"Error in conv1D: Stride should be larger than 0."),ee(s==="NWC",()=>`Error in conv1d: got dataFormat of ${s} but only NWC is currently supported.`);const A=Se(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=Se(c,[c.shape[0],1,c.shape[1],c.shape[2]]),y=bd(d,A,[1,n],r,"NHWC",[1,i],o);return u?Se(y,[y.shape[2],y.shape[3]]):Se(y,[y.shape[0],y.shape[2],y.shape[3]])}const yE=ye({conv1d_:CFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SFe(t,e,n,r,s,i="NHWC",o){ee(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let a=t,l=e,c=!1;e.rank===3&&(c=!0,l=Se(e,[1,e.shape[0],e.shape[1],e.shape[2]]),a=[1,t[0],t[1],t[2]]),ee(a.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${a.length}.`),ee(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),ee(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const u=i==="NHWC"?a[3]:a[1],A=i==="NHWC"?l.shape[3]:l.shape[1];ee(u===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${u}) must match input depth for filter ${n.shape[2]}.`),ee(A===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${A}) must match output depth for filter ${n.shape[3]}.`),No("conv2dDerInput",s,o);const d={dy:l,filter:n},h={strides:r,pad:s,dataFormat:i,dimRoundingMode:o,inputShape:a},p=ge.runKernel(gb,d,h);return c?Se(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const HR=ye({conv2DBackpropInput_:SFe});function BFe(t,e,n,r,s,i){const o=ie(t,"x","conv2dTranspose"),a=ie(e,"filter","conv2dTranspose");return HR(n,o,a,r,s,"NHWC",i)}const wE=ye({conv2dTranspose_:BFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Fe(t,e,n,r,s="NDHWC",i=[1,1,1]){const o=ie(t,"x","conv3d"),a=ie(e,"filter","conv3d");let l=o,c=!1;o.rank===4&&(c=!0,l=Se(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ee(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),ee(a.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${a.rank}.`),ee(l.shape[4]===a.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${a.shape[3]}.`),ee(Li(n,i),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),ee(s==="NDHWC",()=>`Error in conv3d: got dataFormat of ${s} but only NDHWC is currently supported.`),ee(bm(i),()=>"Error in conv3D: Dilated rates should be larger than 0."),ee(bm(n),()=>"Error in conv3D: Strides should be larger than 0.");const u={x:l,filter:a},A={strides:n,pad:r,dataFormat:s,dilations:i},d=ge.runKernel(yb,u,A);return c?Se(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const zR=ye({conv3d_:_Fe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NFe(t,e,n,r,s){ee(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let i=t,o=e,a=!1;e.rank===4&&(a=!0,o=Se(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),i=[1,t[0],t[1],t[2],t[3]]);const l=i[4],c=o.shape[4];ee(i.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`),ee(o.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${o.rank}`),ee(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),ee(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),ee(c===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${c}) must match output depth for filter ${n.shape[4]}.`);const u={dy:o,filter:n},A={pad:s,strides:r,inputShape:i},d=ge.runKernel(yI,u,A);return a?Se(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const vee=ye({conv3DBackpropInput_:NFe});function IFe(t,e,n,r,s){const i=ie(t,"x","conv3dTranspose"),o=ie(e,"filter","conv3dTranspose");return vee(n,i,o,r,s)}const VR=ye({conv3dTranspose_:IFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EFe(t){const n={x:ie(t,"x","cos","float32")};return ge.runKernel(jy,n)}const h2=ye({cos_:EFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kFe(t){const n={x:ie(t,"x","cosh","float32")};return ge.runKernel(Hy,n)}const vE=ye({cosh_:kFe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TFe(t,e=0,n=!1,r=!1){const i={x:ie(t,"x","cumprod")},o={axis:e,exclusive:n,reverse:r};return ge.runKernel(wI,i,o)}const bx=ye({cumprod_:TFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FFe(t,e=0,n=!1,r=!1){const i={x:ie(t,"x","cumsum")},o={axis:e,exclusive:n,reverse:r};return ge.runKernel(wb,i,o)}const xE=ye({cumsum_:FFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LFe(t,e,n,r=!1){const s=ie(t,"x","denseBincount"),i=ie(e,"weights","denseBincount");ee(s.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${s.dtype}`),ee(s.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${s.rank}.`),ee(n>=0,()=>`size must be non-negative, but got ${n}.`),ee(i.size===s.size||i.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${s.shape}, weights shape: ${i.shape}.`);const o={x:s,weights:i},a={size:n,binaryOutput:r};return ge.runKernel(xI,o,a)}const P_=ye({denseBincount_:LFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DFe(t,e,n="NHWC"){const r=ie(t,"x","depthToSpace","float32"),s=n==="NHWC"?r.shape[1]:r.shape[2],i=n==="NHWC"?r.shape[2]:r.shape[3],o=n==="NHWC"?r.shape[3]:r.shape[1];ee(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),ee(s*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${s} and ${e}  for depthToSpace with input shape
    ${r.shape}`),ee(i*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${i} and ${e} for depthToSpace with input shape
        ${r.shape}`),ee(o%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${o} for depthToSpace with input shape ${r.shape}`);const a={x:r},l={blockSize:e,dataFormat:n};return ge.runKernel(bI,a,l)}const WR=ye({depthToSpace_:DFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PFe(t,e,n,r,s="NHWC",i=[1,1],o){const a=ie(t,"x","depthwiseConv2d","float32"),l=ie(e,"filter","depthwiseConv2d","float32");let c=a,u=!1;a.rank===3&&(u=!0,c=Se(a,[1,a.shape[0],a.shape[1],a.shape[2]])),ee(c.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${c.rank}.`),ee(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const A=s==="NHWC"?c.shape[3]:c.shape[1];ee(A===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${A}) must match the inChannels dimension in filter ${l.shape[2]}.`),No("depthwiseConv2d",r,o);const d={x:c,filter:l},h={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:o},p=ge.runKernel(vb,d,h);return u?Se(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const I1=ye({depthwiseConv2d_:PFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RFe(t){const n={x:ie(t,"x","diag")};return ge.runKernel(BI,n)}const xee=ye({diag_:RFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OFe(t,e,n,r,s=[1,1],i="NHWC"){const o=ie(t,"x","dilation2d"),a=ie(e,"filter","dilation2d");ee(o.rank===3||o.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${o.rank}.`),ee(a.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${a.rank}.`),ee(i==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${i}`);let l=o,c=!1;o.rank===3&&(l=Se(o,[1,o.shape[0],o.shape[1],o.shape[2]]),c=!0),ee(l.shape[3]===a.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${a.shape[2]}`);const u={x:l,filter:a},A={strides:n,pad:r,dilations:s},d=ge.runKernel(xb,u,A);return c?Se(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const GR=ye({dilation2d_:OFe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cm(t,e){const n=t.length,r=[];for(let s=0;s<n;s++){const i=n-1-s,o=t[i]||1;(e[e.length-1-s]||1)>1&&o===1&&r.unshift(i)}return r}function js(t,e){const n=[];for(let r=0;r<e.length;r++){const s=t[t.length-r-1],i=e.length-r-1,o=e[i];(s==null||s===1&&o>1)&&n.unshift(i)}return n}function un(t,e){const n=Math.max(t.length,e.length),r=new Array(n);for(let s=0;s<n;s++){let i=t[t.length-s-1];i==null&&(i=1);let o=e[e.length-s-1];if(o==null&&(o=1),i===1)r[n-s-1]=o;else if(o===1)r[n-s-1]=i;else if(i!==o){const a=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(a)}else r[n-s-1]=i}return r}const $Fe=Object.freeze(Object.defineProperty({__proto__:null,assertAndGetBroadcastShape:un,getBroadcastDims:Cm,getReductionAxes:js},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UFe(t,e){let n=ie(t,"a","equal","string_or_numeric"),r=ie(e,"b","equal","string_or_numeric");[n,r]=ns(n,r),un(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(bb,s)}const lc=ye({equal_:UFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MFe(t,e,n){const r=ie(e,"a","where"),s=ie(n,"b","where"),i=ie(t,"condition","where","bool"),o=un(un(i.shape,r.shape),s.shape),a=em(i,o),l=em(r,o),c=em(s,o),u={condition:a,t:l,e:c};return ge.runKernel(Zb,u)}const ki=ye({where_:MFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QFe(t){const n={x:ie(t,"x","zerosLike")};return ge.runKernel(a2,n)}const Pn=ye({zerosLike_:QFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jFe(t,e){let n=ie(t,"a","div"),r=ie(e,"b","div");[n,r]=ns(n,r);const s=Rt(n,r),i=Pn(s),o=lc(r,i);return ki(o,i,s)}const KR=ye({divNoNan_:jFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HFe(t,e){const n=ie(t,"t1","dot"),r=ie(e,"t2","dot");ee((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const s=n.rank===1?n.size:n.shape[1],i=r.rank===1?r.size:r.shape[0];if(ee(s===i,()=>`Error in dot: inner dimensions of inputs must match, but got ${s} and ${i}.`),n.rank===1&&r.rank===1){const o=Se(n,[1,-1]),a=Se(r,[-1,1]),l=Sn(o,a);return Se(l,[])}else if(n.rank===1&&r.rank===2){const o=Se(n,[1,-1]),a=Se(r,[r.shape[0],r.shape[1]]),l=Sn(o,a);return Se(l,[l.size])}else if(n.rank===2&&r.rank===1){const o=Se(r,[-1,1]),a=Sn(n,o);return Se(a,[a.size])}else{const o=Se(r,[r.shape[0],r.shape[1]]);return Sn(n,o)}}const qR=ye({dot_:HFe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zFe(t,...e){const n=e.map((s,i)=>ie(s,`tensors${i}`,"einsum")),r={equation:t};return ge.runKernel(NI,n,r)}const Cp=ye({einsum_:zFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VFe(t){const n={x:ie(t,"x","elu","float32")};return ge.runKernel(Vy,n)}const E1=ye({elu_:VFe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WFe(t,e){const n=ie(t,"x","ensureShape","string_or_numeric");if(!_J(n.shape,e))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${e}`);return t}const bee=ye({ensureShape_:WFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GFe(t){let e=ie(t,"x","erf");ee(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=ot(e,"float32"));const n={x:e};return ge.runKernel(Wy,n)}const bE=ye({erf_:GFe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XR(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function Cee(t,e,n){const r=t.length+e.length,s=[];let i=0,o=0;for(let a=0;a<r;a++)n.indexOf(a)===-1?s.push(t[i++]):s.push(e[o++]);return s}function vi(t,e){const n=[],r=t.length;for(let i=0;i<r;i++)e.indexOf(i)===-1&&n.push(t[i]);const s=e.map(i=>t[i]);return[n,s]}function Ss(t,e){const n=e.map(r=>1);return Cee(t,n,e)}function Di(t,e,n){ee(XR(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function rs(t,e){if(XR(t,e))return null;const n=[];for(let r=0;r<e;++r)t.indexOf(r)===-1&&n.push(r);return t.forEach(r=>n.push(r)),n}function Pf(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function Bs(t,e){const n=[];for(let r=e-t;r<e;++r)n.push(r);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KFe(t,e=null,n=!1){const s={x:ie(t,"x","max")},i={reductionIndices:e,keepDims:n};return ge.runKernel(Db,s,i)}const fl=ye({max_:KFe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qFe(t,e=null,n=!1){const s={x:ie(t,"x","min")},i={axis:e,keepDims:n};return ge.runKernel($b,s,i)}const ry=ye({min_:qFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XFe(t,e){let n=ie(t,"base","pow"),r=ie(e,"exp","pow");[n,r]=ns(n,r);const s={a:n,b:r};return ge.runKernel(l1,s)}const vA=ye({pow_:XFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ht(t,e){if((fi(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&fi(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Lf(t,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YFe(t){const n={x:ie(t,"x","sqrt","float32")};return ge.runKernel(v1,n)}const yi=ye({sqrt_:YFe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZFe(t){const e=ie(t,"x","square"),n={};return ge.runKernel("Square",{x:e},n)}const gr=ye({square_:ZFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JFe(t,e=null,n=!1){let r=ie(t,"x","sum");r.dtype==="bool"&&(r=ot(r,"int32"));const s={x:r},i={axis:e,keepDims:n};return ge.runKernel(e2,s,i)}const It=ye({sum_:JFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e4e(t,e="euclidean",n=null,r=!1){t=ie(t,"x","norm");const s=See(t,e,n);let i=s.shape;if(r){const o=Nn(n,t.shape);i=Ss(s.shape,o)}return Se(s,i)}function See(t,e,n=null){if(t.rank===0)return Ps(t);if(t.rank!==1&&n===null)return See(Se(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return It(Ps(t),n);if(e===1/0)return fl(Ps(t),n);if(e===-1/0)return ry(Ps(t),n);if(e==="euclidean"||e===2)return yi(It(vA(Ps(t),Ht(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return fl(It(Ps(t),n[0]),n[1]-1);if(e===1/0)return fl(It(Ps(t),n[1]),n[0]);if(e===-1/0)return ry(It(Ps(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return yi(It(gr(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const k1=ye({norm_:e4e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t4e(t,e=null,n=!1){return k1(t,"euclidean",e,n)}const YR=ye({euclideanNorm_:t4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n4e(t){const n={x:ie(t,"x","exp")};return ge.runKernel(Gy,n)}const Jo=ye({exp_:n4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r4e(t,e=0){const n=ie(t,"x","expandDims","string_or_numeric");ee(e<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},s={dim:e};return ge.runKernel(Cb,r,s)}const Gi=ye({expandDims_:r4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s4e(t){const n={x:ie(t,"x","expm1")};return ge.runKernel(Ky,n)}const ZR=ye({expm1_:s4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i4e(t,e){const n=ie(t,"x","tile","string_or_numeric");ee(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const r={x:n},s={reps:e};return ge.runKernel(B1,r,s)}const cl=ye({tile_:i4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o4e(t,e,n,r="float32"){e==null&&(e=t);const s=yn([t,e],r),i=t<=e?t:e;for(let a=0;a<i;++a)s.set(1,a,a);const o=Se(s.toTensor(),[t,e]);if(n==null)return o;if(n.length===1)return cl(Gi(o,0),[n[0],1,1]);if(n.length===2)return cl(Gi(Gi(o,0),0),[n[0],n[1],1,1]);if(n.length===3)return cl(Gi(Gi(Gi(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const CE=ye({eye_:o4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a4e(t){const n={x:ie(t,"x","floor","float32")};return ge.runKernel(qy,n)}const T1=ye({floor_:a4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l4e(t,e,n=0,r=0){const s=ie(t,"x","gather"),i=ie(e,"indices","gather","int32"),o={x:s,indices:i},a={axis:n,batchDims:r};return ge.runKernel(Bb,o,a)}const F1=ye({gather_:l4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c4e(t,e){let n=ie(t,"a","greater","string_or_numeric"),r=ie(e,"b","greater","string_or_numeric");[n,r]=ns(n,r),un(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(_b,s)}const ia=ye({greater_:c4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u4e(t,e){let n=ie(t,"a","greaterEqual","string_or_numeric"),r=ie(e,"b","greaterEqual","string_or_numeric");[n,r]=ns(n,r),un(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(Yy,s)}const kd=ye({greaterEqual_:u4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A4e(t){const n={input:ie(t,"input","imag")};return ge.runKernel(DI,n)}const f2=ye({imag_:A4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d4e(t){const n={x:ie(t,"x","isFinite")};return ge.runKernel(Jy,n)}const JR=ye({isFinite_:d4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h4e(t){const n={x:ie(t,"x","isInf")};return ge.runKernel(e1,n)}const eO=ye({isInf_:h4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f4e(t){const n={x:ie(t,"x","isNaN")};return ge.runKernel(t1,n)}const tO=ye({isNaN_:f4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p4e(t,e=.2){const r={x:ie(t,"x","leakyRelu")},s={alpha:e};return ge.runKernel(Nb,r,s)}const p2=ye({leakyRelu_:p4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m4e(t,e){let n=ie(t,"a","less","string_or_numeric"),r=ie(e,"b","less","string_or_numeric");[n,r]=ns(n,r),un(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(Ib,s)}const sy=ye({less_:m4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g4e(t,e){let n=ie(t,"a","lessEqual","string_or_numeric"),r=ie(e,"b","lessEqual","string_or_numeric");[n,r]=ns(n,r),un(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(Eb,s)}const Rf=ye({lessEqual_:g4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bee(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:t,stop:e,num:n};return ge.runKernel(PI,{},r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y4e(t,e=5,n=1,r=1,s=.5){const i=ie(t,"x","localResponseNormalization");ee(i.rank===4||i.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${i.rank}.`),ee(gm(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let o=i,a=!1;i.rank===3&&(a=!0,o=Se(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const l={x:o},c={depthRadius:e,bias:n,alpha:r,beta:s},u=ge.runKernel(Lb,l,c);return a?Se(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const nO=ye({localResponseNormalization_:y4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w4e(t){const n={x:ie(t,"x","log","float32")};return ge.runKernel(n1,n)}const La=ye({log_:w4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v4e(t){const n={x:ie(t,"x","log1p")};return ge.runKernel(r1,n)}const m2=ye({log1p_:v4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x4e(t){return ee(df(t),()=>"The f passed in grad(f) must be a function"),(e,n)=>{const r=ie(e,"x","tf.grad","string_or_numeric"),s=n!=null?ie(n,"dy","tf.grad"):null;return ge.tidy(()=>{const{value:i,grads:o}=ge.gradients(()=>t(r),[r],s);return s!=null&&Fi(i.shape,s.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),SE(o),o[0]})}}function b4e(t){return ee(df(t),()=>"The f passed in grads(f) must be a function"),(e,n)=>{ee(Array.isArray(e),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");const r=yx(e,"args","tf.grads","string_or_numeric"),s=n!=null?ie(n,"dy","tf.grads"):null;return ge.tidy(()=>{const{value:i,grads:o}=ge.gradients(()=>t(...r),r,s);return s!=null&&Fi(i.shape,s.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),SE(o),o})}}function C4e(t){return ee(df(t),()=>"The f passed in valueAndGrad(f) must be a function"),(e,n)=>{ee(e instanceof nr,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),ee(n==null||n instanceof nr,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");const{grads:r,value:s}=ge.gradients(()=>t(e),[e],n);return SE(r),{grad:r[0],value:s}}}function S4e(t){return ee(df(t),()=>"The f passed in valueAndGrads(f) must be a function"),(e,n)=>{ee(Array.isArray(e)&&e.every(s=>s instanceof nr),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),ee(n==null||n instanceof nr,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");const r=ge.gradients(()=>t(...e),e,n);return n!=null&&Fi(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),SE(r.grads),r}}function _ee(t,e){ee(df(t),()=>"The f passed in variableGrads(f) must be a function"),ee(e==null||Array.isArray(e)&&e.every(c=>c instanceof gx),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const c in ge.registeredVariables)e.push(ge.registeredVariables[c])}const r=n?e.filter(c=>!c.trainable):null,s=e.length;e=e.filter(c=>c.trainable),ee(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${s} variables is trainable.`);const i=!0,{value:o,grads:a}=ge.gradients(t,e,null,i);ee(a.some(c=>c!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),ee(o.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${o.rank} tensor`);const l={};return e.forEach((c,u)=>{a[u]!=null&&(l[c.name]=a[u])}),r!=null&&r.forEach(c=>l[c.name]=null),{value:o,grads:l}}function xA(t){return ge.customGrad(t)}function SE(t){if(t.filter(n=>n==null).length>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B4e(t){const n={x:ie(t,"x","neg")};return ge.runKernel(Mb,n)}const Er=ye({neg_:B4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _4e(t){const n={x:ie(t,"x","softplus")};return ge.runKernel(w1,n)}const Wm=ye({softplus_:_4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N4e(t){const e=ie(t,"x","logSigmoid");return xA(r=>({value:Er(Wm(Er(r))),gradFunc:o=>xe(o,su(Er(r)))}))(e)}const rO=ye({logSigmoid_:N4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I4e(t,e){let n=ie(t,"a","sub"),r=ie(e,"b","sub");[n,r]=ns(n,r);const s={a:n,b:r};return ge.runKernel(b1,s)}const wt=ye({sub_:I4e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E4e(t,e=-1){const n=ie(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return xA((s,i)=>{const a=fl(s,e,!0),l=wt(s,a),c=wt(ot(l,"float32"),La(It(Jo(l),e,!0)));return i([c]),{value:c,gradFunc:(A,d)=>{const[h]=d,p=!0,m=Jo(h);return wt(A,xe(It(A,e,p),m))}}})(n)}const BE=ye({logSoftmax_:E4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k4e(t,e=null,n=!1){const r=ie(t,"x","logSumExp"),s=Nn(e,r.shape),i=fl(r,s,!0),o=wt(r,i),a=Jo(o),l=It(a,s),c=La(l),u=qe(Se(i,c.shape),c);if(n){const A=Ss(u.shape,s);return Se(u,A)}return u}const g2=ye({logSumExp_:k4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T4e(t,e){const n=ie(t,"a","logicalAnd","bool"),r=ie(e,"b","logicalAnd","bool");un(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(kb,s)}const Au=ye({logicalAnd_:T4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F4e(t){const n={x:ie(t,"x","logicalNot","bool")};return ge.runKernel(Tb,n)}const y2=ye({logicalNot_:F4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L4e(t,e){const n=ie(t,"a","logicalOr","bool"),r=ie(e,"b","logicalOr","bool");un(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(Fb,s)}const _E=ye({logicalOr_:L4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D4e(t,e){const n=ie(t,"a","logicalXor","bool"),r=ie(e,"b","logicalXor","bool");return un(n.shape,r.shape),Au(_E(t,e),y2(Au(t,e)))}const sO=ye({logicalXor_:D4e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vS=2147483648;function P4e(t,e,n="left"){const r=ie(t,"sortedSequence","searchSorted"),s=ie(e,"values","searchSorted"),i=r.shape[r.shape.length-1],o=s.shape[s.shape.length-1],a=Se(r,[-1,i]),l=Se(s,[-1,o]);if(a.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(a.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Oe(l.shape)>=vS)throw new Error(`values tensor size must less than ${vS}`);if(a.shape[1]>=vS)throw new Error(`trailing dim_size must less than ${vS} for int32 output type, was ${a.shape[1]}`);const c={sortedSequence:a,values:l},u={side:n};return ge.runKernel(JI,c,u)}const NE=ye({searchSorted_:P4e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nee(t,e){return NE(t,e,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R4e(t,e,n,r,s){const i=ie(t,"x","maxPool"),o=1;let a=i,l=!1;i.rank===3&&(l=!0,a=Se(i,[1,i.shape[0],i.shape[1],i.shape[2]])),ee(a.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${a.rank}.`),ee(Li(n,o),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),No("maxPool",r,s);const c={x:a},u={filterSize:e,strides:n,pad:r,dimRoundingMode:s},A=ge.runKernel(Pb,c,u);return l?Se(A,[A.shape[1],A.shape[2],A.shape[3]]):A}const w2=ye({maxPool_:R4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O4e(t,e=[1,1,1],n,r,s,i="NDHWC"){const o=ie(t,"x","maxPool3d");let a=o,l=!1;o.rank===4&&(l=!0,a=Se(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ee(a.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${a.rank}.`),ee(i==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),No("maxPool3d",r,s);const c={x:a},u={filterSize:e,strides:n,pad:r,dimRoundingMode:s,dataFormat:i},A=ge.runKernel(Rb,c,u);return l?Se(A,[A.shape[1],A.shape[2],A.shape[3],A.shape[4]]):A}const iO=ye({maxPool3d_:O4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $4e(t,e,n,r,s=!1){const o={x:ie(t,"x","maxPoolWithArgmax")},a={filterSize:e,strides:n,pad:r,includeBatchInIndex:s},l=ge.runKernel(UI,o,a);return{result:l[0],indexes:l[1]}}const Iee=ye({maxPoolWithArgmax_:$4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U4e(t,e){let n=ie(t,"a","maximum"),r=ie(e,"b","maximum");[n,r]=ns(n,r),n.dtype==="bool"&&(n=ot(n,"int32"),r=ot(r,"int32")),un(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(s1,s)}const EA=ye({maximum_:U4e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M4e(t,e=null,n=!1){const s={x:ie(t,"x","mean")},i={axis:e,keepDims:n};return ge.runKernel(Ob,s,i)}const es=ye({mean_:M4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ms(t,e="float32"){if($a(t),e==="complex64"){const r=Ms(t,"float32"),s=Ms(t,"float32");return xd(r,s)}const n=Ti(Oe(t),e);return ge.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Go(t,e="float32"){if($a(t),e==="complex64"){const r=Go(t,"float32"),s=Ms(t,"float32");return xd(r,s)}const n=lI(Oe(t),e);return ge.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eee(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(t===void 0)return[];let r=ie(t,"x","meshgrid",t instanceof nr?t.dtype:"float32");if(e===void 0)return[r];let s=ie(e,"y","meshgrid",e instanceof nr?e.dtype:"float32");const i=Oe(r.shape),o=Oe(s.shape);return n==="xy"?(r=Se(r,[1,-1]),s=Se(s,[-1,1]),[Sn(Go([o,1],r.dtype),r),Sn(s,Go([1,i],s.dtype))]):(r=Se(r,[-1,1]),s=Se(s,[1,-1]),[Sn(r,Go([1,o],r.dtype)),Sn(Go([i,1],s.dtype),s)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q4e(t,e){let n=ie(t,"a","minimum"),r=ie(e,"b","minimum");[n,r]=ns(n,r),n.dtype==="bool"&&(n=ot(n,"int32"),r=ot(r,"int32")),un(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(i1,s)}const gf=ye({minimum_:Q4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j4e(t,e,n){ee(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=ie(t,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");ee(e.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${e.length}.`);const s=n==="reflect"?1:0;for(let a=0;a<r.rank;a++)ee(e[a].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),ee(e[a][0]>=0&&e[a][0]<=r.shape[a]-s&&e[a][1]>=0&&e[a][1]<=r.shape[a]-s,()=>`Padding in dimension ${a} cannot be greater than or equal to ${r.shape[a]-s} or less than 0 for input of shape ${r.shape}`);const i={paddings:e,mode:n},o={x:r};return ge.runKernel(Ub,o,i)}const oO=ye({mirrorPad_:j4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H4e(t,e){let n=ie(t,"a","mod"),r=ie(e,"b","mod");[n,r]=ns(n,r);const s={a:n,b:r};return ge.runKernel(o1,s)}const aO=ye({mod_:H4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z4e(t,e=null,n=!1){t=ie(t,"x","moments");const r=Nn(e,t.shape),s=es(t,r,n);let i=s.shape;n||(i=Ss(s.shape,r));const o=gr(wt(ot(t,"float32"),Se(s,i))),a=es(o,r,n);return{mean:s,variance:a}}const v2=ye({moments_:z4e});function V4e(t,e,n,r){const s=ie(e,"data","multiRNNCell"),i=yx(n,"c","multiRNNCell"),o=yx(r,"h","multiRNNCell");let a=s;const l=[];for(let A=0;A<t.length;A++){const d=t[A](a,i[A],o[A]);l.push(d[0]),l.push(d[1]),a=d[1]}const c=[],u=[];for(let A=0;A<l.length;A+=2)c.push(l[A]),u.push(l[A+1]);return[c,u]}const kee=ye({multiRNNCell_:V4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W4e(t,e,n,r=!1){const s=ie(t,"logits","multinomial"),i=s.size,o=s.rank;if(i<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${i}.`);if(o>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${o}`);n=n||Math.random();const l={logits:o===1?Se(s,[1,-1]):s},c={numSamples:e,seed:n,normalized:r},u=ge.runKernel(MI,l,c);return o===1?Se(u,[u.size]):u}const Tee=ye({multinomial_:W4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G4e(t,e){let n=ie(t,"a","notEqual","string_or_numeric"),r=ie(e,"b","notEqual","string_or_numeric");[n,r]=ns(n,r),un(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(Qb,s)}const Sm=ye({notEqual_:G4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K4e(t,e,n=1,r=0,s="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const o={indices:ie(t,"indices","oneHot","int32")},a={dtype:s,depth:e,onValue:n,offValue:r};return ge.runKernel(Hb,o,a)}const iy=ye({oneHot_:K4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q4e(t){const n={x:ie(t,"x","onesLike")};return ge.runKernel(jb,n)}const Da=ye({onesLike_:q4e});function X4e(t,e){const n=ie(t,"v1","outerProduct"),r=ie(e,"v2","outerProduct");ee(n.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);const s=Se(n,[-1,1]),i=Se(r,[1,-1]);return Sn(s,i)}const Fee=ye({outerProduct_:X4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y4e(t,e,n=0){const r=ie(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const s={paddings:e,constantValue:n},i={x:r};return ge.runKernel(Vb,i,s)}const Td=ye({pad_:Y4e});function Z4e(t,e,n=0){return ee(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),Td(t,[e],n)}const Lee=ye({pad1d_:Z4e});function J4e(t,e,n=0){return ee(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Td(t,e,n)}const Dee=ye({pad2d_:J4e});function e3e(t,e,n=0){return ee(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Td(t,e,n)}const Pee=ye({pad3d_:e3e});function t3e(t,e,n=0){return ee(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Td(t,e,n)}const Ree=ye({pad4d_:t3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n3e(t,e,n){const r=ie(t,"x","spaceToBatchND");ee(r.rank>=1+e.length,()=>`input rank ${r.rank} should be > than [blockShape] ${e.length}`),ee(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),ee(r.shape.reduce((o,a,l)=>l>0&&l<=e.length?o&&(a+n[l-1][0]+n[l-1][1])%e[l-1]===0:o,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const s={x:r},i={blockShape:e,paddings:n};return ge.runKernel(t2,s,i)}const x2=ye({spaceToBatchND_:n3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r3e(t,e,n,r,s,i,o){s==null&&(s=[1,1]),i==null&&(i=1),r===0&&(r="valid");const a=ie(t,"x","maxPool");let l=a,c=!1;a.rank===3&&(c=!0,l=Se(a,[1,a.shape[0],a.shape[1],a.shape[2]])),ee(Li(i,s),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${i} and dilations '${s}'`);const u=cc(l.shape,e,i,s,r),A=[u.dilationHeight,u.dilationWidth];let d;r==="same"?d=i3e([u.filterHeight,u.filterWidth],A):d=[[0,0],[0,0]];const h=A[0]===1&&A[1]===1,[p,m]=s3e([u.inHeight,u.inWidth],A,d),y=h?r:"valid",g=h?l:x2(l,A,p),b=(n==="avg"?()=>A2(g,e,i,y,o):()=>w2(g,e,i,y,o))(),C=h?b:d2(b,A,m);return c?Se(C,[C.shape[1],C.shape[2],C.shape[3]]):C}function s3e(t,e,n){const r=n.map(u=>u[0]),s=n.map(u=>u[1]),i=t.concat(r,s),o=e.map((u,A)=>(u-i[A]%u)%u),a=s.map((u,A)=>u+o[A]),l=e.map((u,A)=>[r[A],a[A]]),c=e.map((u,A)=>[0,o[A]]);return[l,c]}function i3e(t,e){const r=t.map((o,a)=>o+(o-1)*(e[a]-1)).map(o=>o-1),s=r.map(o=>Math.floor(o/2)),i=r.map((o,a)=>o-s[a]);return r.map((o,a)=>[s[a],i[a]])}const lO=ye({pool_:r3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o3e(t,e){const n=ie(t,"x","prelu"),r=ie(e,"alpha","prelu"),s={x:n,alpha:r};return ge.runKernel(Wb,s)}const b2=ye({prelu_:o3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a3e(t,e=null,n=!1){let r=ie(t,"x","prod");r.dtype==="bool"&&(r=ot(r,"int32"));const s={x:r},i={axis:e,keepDims:n};return ge.runKernel(Gb,s,i)}const cO=ye({prod_:a3e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l3e(t,e,n,r){const s=t.map((u,A)=>ie(u,`tensors${A}`,"raggedGather","int32")),i=ie(e,"paramsDenseValues","raggedGather"),o=ie(n,"indices","raggedGather","int32"),a={paramsNestedSplits:s,paramsDenseValues:i,indices:o},l={outputRaggedRank:r},c=ge.runKernel(zI,a,l);return{outputNestedSplits:c.slice(0,c.length-1),outputDenseValues:c[c.length-1]}}const Oee=ye({raggedGather_:l3e});/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c3e(t,e,n){const r=ie(t,"starts","raggedRange"),s=ie(e,"limits","raggedRange",r.dtype),i=ie(n,"deltas","raggedRange",r.dtype),o={starts:r,limits:s,deltas:i},a=ge.runKernel(VI,o);return{rtNestedSplits:a[0],rtDenseValues:a[1]}}const $ee=ye({raggedRange_:c3e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u3e(t,e,n,r,s){const i=ie(t,"shape","raggedTensorToTensor","int32"),o=ie(e,"values","raggedTensorToTensor"),a=ie(n,"defaultValue","raggedTensorToTensor",o.dtype),l=r.map((A,d)=>ie(A,`tensors${d}`,"raggedTensorToTensor","int32")),c={shape:i,values:o,defaultValue:a,rowPartitionTensors:l},u={rowPartitionTypes:s};return ge.runKernel(WI,c,u)}const Uee=ye({raggedTensorToTensor_:u3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A3e(t,e,n){$a(t);const r=Oe(t);let s=null;if(n==null||n==="float32")s=new Float32Array(r);else if(n==="int32")s=new Int32Array(r);else if(n==="bool")s=new Uint8Array(r);else throw new Error(`Unknown data type ${n}`);for(let i=0;i<r;i++)s[i]=e();return ge.makeTensor(s,t,n)}const Mee=ye({rand_:A3e});var uO={exports:{}};uO.exports;(function(t){(function(e,n,r){function s(l){var c=this,u=a();c.next=function(){var A=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=A-(c.c=A|0)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(l),c.s0<0&&(c.s0+=1),c.s1-=u(l),c.s1<0&&(c.s1+=1),c.s2-=u(l),c.s2<0&&(c.s2+=1),u=null}function i(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function o(l,c){var u=new s(l),A=c&&c.state,d=u.next;return d.int32=function(){return u.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,A&&(typeof A=="object"&&i(A,u),d.state=function(){return i(u,{})}),d}function a(){var l=4022871197,c=function(u){u=String(u);for(var A=0;A<u.length;A++){l+=u.charCodeAt(A);var d=.02519603282416938*l;l=d>>>0,d-=l,d*=l,l=d>>>0,d-=l,l+=d*4294967296}return(l>>>0)*23283064365386963e-26};return c}n&&n.exports?n.exports=o:this.alea=o})(SA,t)})(uO);var d3e=uO.exports,AO={exports:{}};AO.exports;(function(t){(function(e,n,r){function s(a){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var A=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^A^A>>>8},a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,l.next()}function i(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function o(a,l){var c=new s(a),u=l&&l.state,A=function(){return(c.next()>>>0)/4294967296};return A.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},A.int32=c.next,A.quick=A,u&&(typeof u=="object"&&i(u,c),A.state=function(){return i(c,{})}),A}n&&n.exports?n.exports=o:this.xor128=o})(SA,t)})(AO);var h3e=AO.exports,dO={exports:{}};dO.exports;(function(t){(function(e,n,r){function s(a){var l=this,c="";l.next=function(){var A=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(A^A<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,u==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function o(a,l){var c=new s(a),u=l&&l.state,A=function(){return(c.next()>>>0)/4294967296};return A.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},A.int32=c.next,A.quick=A,u&&(typeof u=="object"&&i(u,c),A.state=function(){return i(c,{})}),A}n&&n.exports?n.exports=o:this.xorwow=o})(SA,t)})(dO);var f3e=dO.exports,hO={exports:{}};hO.exports;(function(t){(function(e,n,r){function s(a){var l=this;l.next=function(){var u=l.x,A=l.i,d,h;return d=u[A],d^=d>>>7,h=d^d<<24,d=u[A+1&7],h^=d^d>>>10,d=u[A+3&7],h^=d^d>>>3,d=u[A+4&7],h^=d^d<<7,d=u[A+7&7],d=d^d<<13,h^=d^d<<9,u[A]=h,l.i=A+1&7,h};function c(u,A){var d,h=[];if(A===(A|0))h[0]=A;else for(A=""+A,d=0;d<A.length;++d)h[d&7]=h[d&7]<<15^A.charCodeAt(d)+h[d+1&7]<<13;for(;h.length<8;)h.push(0);for(d=0;d<8&&h[d]===0;++d);for(d==8?h[7]=-1:h[d],u.x=h,u.i=0,d=256;d>0;--d)u.next()}c(l,a)}function i(a,l){return l.x=a.x.slice(),l.i=a.i,l}function o(a,l){a==null&&(a=+new Date);var c=new s(a),u=l&&l.state,A=function(){return(c.next()>>>0)/4294967296};return A.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},A.int32=c.next,A.quick=A,u&&(u.x&&i(u,c),A.state=function(){return i(c,{})}),A}n&&n.exports?n.exports=o:this.xorshift7=o})(SA,t)})(hO);var p3e=hO.exports,fO={exports:{}};fO.exports;(function(t){(function(e,n,r){function s(a){var l=this;l.next=function(){var u=l.w,A=l.X,d=l.i,h,p;return l.w=u=u+1640531527|0,p=A[d+34&127],h=A[d=d+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,p=A[d]=p^h,l.i=d,p+(u^u>>>16)|0};function c(u,A){var d,h,p,m,y,g=[],v=128;for(A===(A|0)?(h=A,A=null):(A=A+"\0",h=0,v=Math.max(v,A.length)),p=0,m=-32;m<v;++m)A&&(h^=A.charCodeAt((m+32)%A.length)),m===0&&(y=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,m>=0&&(y=y+1640531527|0,d=g[m&127]^=h+y,p=d==0?p+1:0);for(p>=128&&(g[(A&&A.length||0)&127]=-1),p=127,m=4*128;m>0;--m)h=g[p+34&127],d=g[p=p+1&127],h^=h<<13,d^=d<<17,h^=h>>>15,d^=d>>>12,g[p]=h^d;u.w=y,u.X=g,u.i=p}c(l,a)}function i(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function o(a,l){a==null&&(a=+new Date);var c=new s(a),u=l&&l.state,A=function(){return(c.next()>>>0)/4294967296};return A.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},A.int32=c.next,A.quick=A,u&&(u.X&&i(u,c),A.state=function(){return i(c,{})}),A}n&&n.exports?n.exports=o:this.xor4096=o})(SA,t)})(fO);var m3e=fO.exports,pO={exports:{}};pO.exports;(function(t){(function(e,n,r){function s(a){var l=this,c="";l.next=function(){var A=l.b,d=l.c,h=l.d,p=l.a;return A=A<<25^A>>>7^d,d=d-h|0,h=h<<24^h>>>8^p,p=p-A|0,l.b=A=A<<20^A>>>12^d,l.c=d=d-h|0,l.d=h<<16^d>>>16^p,l.a=p-A|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):c+=a;for(var u=0;u<c.length+20;u++)l.b^=c.charCodeAt(u)|0,l.next()}function i(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function o(a,l){var c=new s(a),u=l&&l.state,A=function(){return(c.next()>>>0)/4294967296};return A.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},A.int32=c.next,A.quick=A,u&&(typeof u=="object"&&i(u,c),A.state=function(){return i(c,{})}),A}n&&n.exports?n.exports=o:this.tychei=o})(SA,t)})(pO);var g3e=pO.exports,Qee={exports:{}};const y3e={},w3e=Object.freeze(Object.defineProperty({__proto__:null,default:y3e},Symbol.toStringTag,{value:"Module"})),v3e=DL(w3e);(function(t){(function(e,n,r){var s=256,i=6,o=52,a="random",l=r.pow(s,i),c=r.pow(2,o),u=c*2,A=s-1,d;function h(C,_,I){var F=[];_=_==!0?{entropy:!0}:_||{};var T=g(y(_.entropy?[C,b(n)]:C??v(),3),F),D=new p(F),H=function(){for(var R=D.g(i),U=l,W=0;R<c;)R=(R+W)*s,U*=s,W=D.g(1);for(;R>=u;)R/=2,U/=2,W>>>=1;return(R+W)/U};return H.int32=function(){return D.g(4)|0},H.quick=function(){return D.g(4)/4294967296},H.double=H,g(b(D.S),n),(_.pass||I||function(R,U,W,$){return $&&($.S&&m($,D),R.state=function(){return m(D,{})}),W?(r[a]=R,U):R})(H,T,"global"in _?_.global:this==r,_.state)}function p(C){var _,I=C.length,F=this,T=0,D=F.i=F.j=0,H=F.S=[];for(I||(C=[I++]);T<s;)H[T]=T++;for(T=0;T<s;T++)H[T]=H[D=A&D+C[T%I]+(_=H[T])],H[D]=_;(F.g=function(R){for(var U,W=0,$=F.i,Y=F.j,J=F.S;R--;)U=J[$=A&$+1],W=W*s+J[A&(J[$]=J[Y=A&Y+U])+(J[Y]=U)];return F.i=$,F.j=Y,W})(s)}function m(C,_){return _.i=C.i,_.j=C.j,_.S=C.S.slice(),_}function y(C,_){var I=[],F=typeof C,T;if(_&&F=="object")for(T in C)try{I.push(y(C[T],_-1))}catch{}return I.length?I:F=="string"?C:C+"\0"}function g(C,_){for(var I=C+"",F,T=0;T<I.length;)_[A&T]=A&(F^=_[A&T]*19)+I.charCodeAt(T++);return b(_)}function v(){try{var C;return d&&(C=d.randomBytes)?C=C(s):(C=new Uint8Array(s),(e.crypto||e.msCrypto).getRandomValues(C)),b(C)}catch{var _=e.navigator,I=_&&_.plugins;return[+new Date,e,I,e.screen,b(n)]}}function b(C){return String.fromCharCode.apply(0,C)}if(g(r.random(),n),t.exports){t.exports=h;try{d=v3e}catch{}}else r["seed"+a]=h})(typeof self<"u"?self:SA,[],Math)})(Qee);var x3e=Qee.exports,b3e=d3e,C3e=h3e,S3e=f3e,B3e=p3e,_3e=m3e,N3e=g3e,Gm=x3e;Gm.alea=b3e;Gm.xor128=C3e;Gm.xorwow=S3e;Gm.xorshift7=B3e;Gm.xor4096=_3e;Gm.tychei=N3e;var IE=Gm;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I3e=.001,jee=.1;function E3e(t,e,n){return n==null&&(n=mO()),J3(t,e,(r,s)=>gO(r,s,n))}function mO(){return ge.backend.floatPrecision()===32?I3e:jee}function J3(t,e,n){let r=!0;if((fi(t)||fi(e))&&(r=!1),fi(t)&&fi(e)&&(r=!0),r){const o=t.constructor.name,a=e.constructor.name;if(o!==a)throw new Error(`Arrays are of different type. Actual: ${o}. Expected: ${a}`)}if(Array.isArray(t)&&Array.isArray(e)){const o=wA(t),a=wA(e);if(!Tn(o,a))throw new Error(`Arrays have different shapes. Actual: [${o}]. Expected: [${a}]`)}const s=fi(t)?t:yA(t),i=fi(e)?e:yA(e);if(s.length!==i.length)throw new Error(`Arrays have different lengths actual: ${s.length} vs expected: ${i.length}.
Actual:   ${s}.
Expected: ${i}.`);for(let o=0;o<i.length;++o){const a=s[o],l=i[o];if(!n(a,l))throw new Error(`Arrays differ: actual[${o}] = ${a}, expected[${o}] = ${l}.
Actual:   ${s}.
Expected: ${i}.`)}typeof expect<"u"&&expect().nothing()}function k3e(t,e){t().then(()=>e.fail(),()=>e()),typeof expect<"u"&&expect().nothing()}function T3e(t,e){const n=typeof e=="string"||typeof e=="number"||typeof e=="boolean"?[e]:e;return eA(t)||eA(t[0])||eA(e)||eA(e[0])?J3(t,n,(r,s)=>r==s):J3(t,e,(r,s)=>gO(r,s,0))}function F3e(t,e,n){if(n==null&&(n=mO()),!gO(t,e,n))throw new Error(`Numbers differ: actual === ${t}, expected === ${e}`);typeof expect<"u"&&expect().nothing()}function gO(t,e,n){return!isFinite(t)&&!isFinite(e)?!0:!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}function L3e(t,e,n){for(let r=0;r<t.length;r++)if(t[r]<e||t[r]>n)throw new Error(`Value out of range:${t[r]} low: ${e}, high: ${n}`)}function D3e(t,e){const n=new Float32Array(t),r=new Float32Array(e);if(n.length!==r.length)throw new Error(`Expected ArrayBuffer to be of length ${r.length}, but it was ${n.length}`);for(let s=0;s<r.length;s++)if(n[s]!==r[s])throw new Error(`Expected ArrayBuffer value at ${s} to be ${r[s]} but got ${n[s]} instead`)}function Hee(t){for(let e=0;e<t.length;e++){const n=t[e];Array.isArray(n)?Hee(n):t[e]=uA(n)}return t}function P3e(t){const e=document.createElement("video");return"playsInline"in e&&(e.playsInline=!0),e.muted=!0,e.loop=!0,e.style.position="fixed",e.style.left="0px",e.style.top="0px",e.preload="auto",e.appendChild(t),new Promise(n=>{e.addEventListener("loadeddata",r=>n(e)),e.load()})}async function R3e(t){await t.play(),"requestVideoFrameCallback"in t&&await new Promise(e=>{t.requestVideoFrameCallback(e)})}const O3e=Object.freeze(Object.defineProperty({__proto__:null,TEST_EPSILON_FLOAT16:jee,createVideoElement:P3e,encodeStrings:Hee,expectArrayBuffersEqual:D3e,expectArraysClose:E3e,expectArraysEqual:T3e,expectNumbersClose:F3e,expectPromiseToFail:k3e,expectValuesInRange:L3e,play:R3e,testEpsilon:mO},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yO{constructor(e,n,r,s,i){this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=s,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const o=i||Math.random();this.random=IE.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const s=this.nextVal;return this.nextVal=NaN,s}let e,n,r=!1;for(;!r;){let s,i,o;do s=2*this.random()-1,i=2*this.random()-1,o=s*s+i*i;while(o>=1||o===0);const a=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*s*a,n=this.mean+this.stdDev*i*a,(!this.truncated||this.isValidTruncated(e))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class $3e{constructor(e,n,r,s){this.alpha=e,this.beta=1/n,this.dtype=r;const i=s||Math.random();this.randu=IE.alea(i.toString()),this.randn=new yO(0,1,r,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,r,s,i,o;for(;;){do s=this.randn.nextValue(),o=1+this.c*s;while(o<=0);if(o*=o*o,e=s*s,n=1-.331*e*e,r=.5*e+this.d*(1-o+Math.log(o)),i=this.randu(),i<n||Math.log(i)<r)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class U3e{constructor(e=0,n=1,r,s){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=r,s==null&&(s=Math.random()),typeof s=="number"&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=IE.alea(s)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M3e(t,e,n=1,r="float32",s){if($a(t),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);const i=new $3e(e,n,r,s),o=yn(t,r);for(let a=0;a<o.values.length;a++)o.values[a]=i.nextValue();return o.toTensor()}const zee=ye({randomGamma_:M3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q3e(t,e=0,n=1,r,s){if($a(t),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const i=new yO(e,n,r,!1,s),o=yn(t,r);for(let a=0;a<o.values.length;a++)o.values[a]=i.nextValue();return o.toTensor()}const EE=ye({randomNormal_:Q3e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j3e(t,e,n){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return EE(t,0,1,e,n)}const Vee=ye({randomStandardNormal_:j3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H3e(t,e=0,n=1,r="float32",s){$a(t);const i=yn(t,r),o=new U3e(e,n,null,s);for(let a=0;a<i.values.length;a++)i.values[a]=o.nextValue();return i.toTensor()}const Of=ye({randomUniform_:H3e});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z3e(t,e,n,r){return Of(t,e,n,"int32",r)}const Wee=ye({randomUniformInt_:z3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bm(t,e,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const s={start:t,stop:e,step:n,dtype:r};return ge.runKernel(GI,{},s)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V3e(t){const n={input:ie(t,"input","real")};return ge.runKernel(KI,n)}const oy=ye({real_:V3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W3e(t){const n={x:ie(t,"x","reciprocal")};return ge.runKernel(c1,n)}const wO=ye({reciprocal_:W3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G3e(t){const n={x:ie(t,"x","relu")};return ge.runKernel(u1,n)}const bu=ye({relu_:G3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K3e(t){const n={x:ie(t,"x","relu6")};return ge.runKernel(A1,n)}const kE=ye({relu6_:K3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q3e(t,e){const r={x:ie(t,"x","reverse")},s={dims:e};return ge.runKernel(Yb,r,s)}const ml=ye({reverse_:q3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X3e(t){const e=ie(t,"x","reverse");return ee(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),ml(e,0)}const Gee=ye({reverse1d_:X3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y3e(t,e){const n=ie(t,"x","reverse");return ee(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),ml(n,e)}const Kee=ye({reverse2d_:Y3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z3e(t,e){const n=ie(t,"x","reverse");return ee(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),ml(n,e)}const qee=ye({reverse3d_:Z3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J3e(t,e){const n=ie(t,"x","reverse");return ee(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),ml(n,e)}const Xee=ye({reverse4d_:J3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eLe(t){const n={x:ie(t,"x","round")};return ge.runKernel(d1,n)}const TE=ye({round_:eLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tLe(t){const n={x:ie(t,"x","rsqrt","float32")};return ge.runKernel(h1,n)}const FE=ye({rsqrt_:tLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nLe(t){const n={x:ie(t,"x","selu")};return ge.runKernel(f1,n)}const LE=ye({selu_:nLe});function rLe(t,e,n,r,s,i=[1,1],o="NHWC"){const a=ie(t,"x","separableConv2d"),l=ie(e,"depthwiseFilter","separableConv2d"),c=ie(n,"pointwiseFilter","separableConv2d");let u=a,A=!1;if(a.rank===3&&(A=!0,u=Se(a,[1,a.shape[0],a.shape[1],a.shape[2]])),o==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");ee(u.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${u.rank}.`),ee(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),ee(c.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),ee(c.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${c.shape[0]}.`),ee(c.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${c.shape[1]}.`);const d=l.shape[2],h=l.shape[3];ee(c.shape[2]===d*h,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*h}, but got ${c.shape[2]}.`);const p=I1(u,l,r,s,o,i),y=bd(p,c,1,"valid",o);return A?Se(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const DE=ye({separableConv2d_:rLe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function sLe(t,e){const n=ie(t,"x","setdiff1d"),r=ie(e,"y","setdiff1d");ee(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),ee(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),ee(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);const s=await n.data(),i=await r.data(),o=new Set(i);let a=0;for(let u=0;u<s.length;u++)o.has(s[u])||a++;const l=new Qs([a],n.dtype),c=new Qs([a],"int32");for(let u=0,A=0;u<s.length;u++)o.has(s[u])||(l.values[A]=s[u],c.values[A]=u,A++);return[l.toTensor(),c.toTensor()]}const Yee=sLe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iLe(t){const n={x:ie(t,"x","sign")};return ge.runKernel(g1,n)}const vO=ye({sign_:iLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oLe(t){const n={x:ie(t,"x","sin","float32")};return ge.runKernel(p1,n)}const PE=ye({sin_:oLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aLe(t){const n={x:ie(t,"x","sinh")};return ge.runKernel(m1,n)}const RE=ye({sinh_:aLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lLe(t,e,n){const r=ie(t,"x","slice1d");return ee(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),Dn(r,[e],[n])}const C2=ye({slice1d_:lLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cLe(t,e,n){const r=ie(t,"x","slice2d");return ee(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),Dn(r,e,n)}const OE=ye({slice2d_:cLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uLe(t,e,n){const r=ie(t,"x","slice3d");return ee(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),Dn(r,e,n)}const S2=ye({slice3d_:uLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ALe(t,e,n){const r=ie(t,"x","slice4d");return ee(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),Dn(r,e,n)}const ay=ye({slice4d_:ALe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dLe(t,e=-1){const n=ie(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const r={logits:n},s={dim:e};return ge.runKernel(r2,r,s)}const B2=ye({softmax_:dLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hLe(t){ee(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return ge.runKernel(EI,e)}const _2=ye({fft_:hLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fLe(t){ee(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return ge.runKernel(LI,e)}const ly=ye({ifft_:fLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pLe(t){const e=t.shape[t.shape.length-1],n=t.size/e;let r;if(e<=2){const s=Se(t,[n,e]);r=ly(s)}else{const s=[n,2*(e-1)],i=Se(oy(t),[n,e]),o=Se(f2(t),[n,e]),a=ml(Dn(i,[0,1],[n,e-2]),1),l=xe(ml(Dn(o,[0,1],[n,e-2]),1),Ht(-1)),c=Cs([i,a],1),u=Cs([o,l],1),A=Se(xd(c,u),[s[0],s[1]]);r=ly(A)}if(r=oy(r),t.rank===3&&t.shape[0]!==0){const s=r,i=t.shape[0];r=Se(r,[i,r.shape[0]/i,r.shape[1]]),s.dispose()}return r}const $E=ye({irfft_:pLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mLe(t,e,n=0){const s={x:ie(t,"x","split")},i={numOrSizeSplits:e,axis:n};return ge.runKernel(n2,s,i)}const qo=ye({split_:mLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gLe(t,e){ee(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1];const r=t.size/n;let s;if(e!=null&&e<n){const p=t.shape.map(y=>0),m=t.shape.map(y=>y);m[t.shape.length-1]=e,s=Dn(t,p,m),n=e}else if(e!=null&&e>n){const p=t.shape.map(m=>m);p[t.shape.length-1]=e-n,s=Cs([t,Ms(p)],t.shape.length-1),n=e}else s=t;const i=Pn(s),o=Se(xd(s,i),[r,n]),a=_2(o),l=Math.floor(n/2)+1,c=oy(a),u=f2(a),A=qo(c,[l,n-l],c.shape.length-1),d=qo(u,[l,n-l],u.shape.length-1),h=s.shape.slice();return h[s.shape.length-1]=l,Se(xd(A[0],d[0]),h)}const N2=ye({rfft_:gLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yLe(t,e){let n=ie(t,"a","squaredDifference"),r=ie(e,"b","squaredDifference");[n,r]=ns(n,r),un(n.shape,r.shape);const s={a:n,b:r},i={};return ge.runKernel(x1,s,i)}const UE=ye({squaredDifference_:yLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wLe(t,e){const n=ie(t,"x","squeeze","string_or_numeric");return Se(n,_d(n.shape,e).newShape)}const $f=ye({squeeze_:wLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vLe(t,e=0){const n=yx(t,"tensors","stack","string_or_numeric");ee(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&ee(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,s={axis:e};return ge.runKernel(zb,r,s)}const ea=ye({stack_:vLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xLe(t,e=0){const r={x:ie(t,"x","step")},s={alpha:e};return ge.runKernel(_1,r,s)}const Km=ye({step_:xLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bLe(t,e,n,r,s=0,i=0,o=0,a=0,l=0){const u={x:ie(t,"x","stridedSlice","string_or_numeric")},A={begin:e,end:n,strides:r,beginMask:s,endMask:i,ellipsisMask:o,newAxisMask:a,shrinkAxisMask:l};return ge.runKernel(oE,u,A)}const xO=ye({stridedSlice_:bLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CLe(t){const n={x:ie(t,"x","tan","float32")};return ge.runKernel(C1,n)}const bO=ye({tan_:CLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qi(t,e){Mm(t);const n=wA(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Lf(t,null,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B0(t,e,n){if(Mm(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=wA(t,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Lf(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CO(t,e,n){if(Mm(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=wA(t,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Lf(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zee(t,e,n){if(Mm(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const r=wA(t,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Lf(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jee(t,e,n){if(Mm(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const r=wA(t,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Lf(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ete(t,e,n){if(Mm(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const r=wA(t,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||r,Lf(t,e,r,n)}function SO(t,e,n){const r=e.rank>1?e.shape[e.rank-1]:1,s=e.rank>1?e.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${r}, and batchDim: ${s}.`;if(n.rank<s)throw new Error(i+` update.rank < ${s}. `);if(t.length<r+(n.rank-s))throw new Error(i+` Output shape length < ${r+(n.rank-s)}`);if(n.rank!==s+t.length-r)throw new Error(i+` update.rank != ${s+t.length-r}`);for(let o=0;o<s;++o)if(n.shape[o]!==e.shape[o])throw new Error(i+` updates.shape[${o}] (${n.shape[o]}) != indices.shape[${o}] (${e.shape[o]}).`);for(let o=0;o<n.rank-s;++o)if(n.shape[o+s]!==t[o+r])throw new Error(i+` updates.shape[${o+s}] (${n.shape[o+s]}) != shape[${o+s}] (${t[o+s]})`)}function ME(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}SO(n,e,t)}function Uf(t,e,n){const r=e.shape.length,s=r>1?e.shape[r-1]:1,i=n.length;let o=1;for(let A=s;A<i;++A)o*=n[A];const a=s<1?1:s,l=Oe(e.shape)/a,c=[...Qt(n.slice(0,s)),1],u=Oe(n);return{sliceRank:s,numUpdates:l,sliceSize:o,strides:c,outputSize:u}}const SLe=Object.freeze(Object.defineProperty({__proto__:null,calculateShapes:Uf,validateInput:ME,validateUpdateShape:SO},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BLe(t,e,n){const r=ie(t,"tensor","tensorScatterupdate"),s=ie(e,"indices","tensorScatterupdate","int32"),i=ie(n,"updates","tensorScatterupdate");if(ME(i,s,r.shape),r.dtype!==i.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${i.dtype}.`);const o={tensor:r,indices:s,updates:i},a={};return ge.runKernel(ZI,o,a)}const tte=ye({tensorScatterUpdate_:BLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Le(t,e=1,n=!0){const r=ie(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const s=r.shape[r.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>s)throw new Error(`'k' passed to topk() must be <= the last dimension (${s}) but got ${e}`);const i={x:r},o={k:e,sorted:n},[a,l]=ge.runKernel(uE,i,o);return{values:a,indices:l}}const BO=ye({topk_:_Le});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NLe(t,e=0,n=1,r,s){if($a(t),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const i=new yO(e,n,r,!0,s),o=yn(t,r);for(let a=0;a<o.values.length;a++)o.values[a]=i.nextValue();return o.toTensor()}const QE=ye({truncatedNormal_:NLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ILe(t,e=0){const n=ie(t,"x","unique","string_or_numeric");ee(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},s={axis:e},[i,o]=ge.runKernel(dE,r,s);return{values:i,indices:o}}const _O=ye({unique_:ILe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ELe(t,e,n){const r=ie(t,"x","unsortedSegmentSum"),s=ie(e,"segmentIds","unsortedSegmentSum","int32");ee(gm(n),()=>"numSegments must be of dtype int");const i={x:r,segmentIds:s},o={numSegments:n};return ge.runKernel(o2,i,o)}const jE=ye({unsortedSegmentSum_:ELe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kLe(t,e=0){const n=ie(t,"x","unstack","string_or_numeric");ee(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},s={axis:e};return ge.runKernel(i2,r,s)}const gl=ye({unstack_:kLe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nte(t,e){return NE(t,e,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NO(t,e=!0,n,r){return ge.makeVariable(t,e,n,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HE(t,e){const n=[];for(let i=0;i<e.length;i++)e[i]&&n.push(i);const r=yn(t,"int32"),s=yn([n.length,t.length],"int32");for(let i=0;i<n.length;i++){const o=r.indexToLoc(n[i]),a=i*t.length;s.values.set(o,a)}return s.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function TLe(t){const e=ie(t,"condition","whereAsync","bool"),n=await e.data(),r=HE(e.shape,n);return t!==e&&e.dispose(),r}const IO=TLe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function FLe(t,e,n){const r=ie(t,"tensor","boolMask"),s=ie(e,"mask","boolMask","bool"),i=n??0,o=s.rank,a=r.shape;ee(o>0,()=>"mask cannot be scalar"),Fi(a.slice(i,i+o),s.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=i;m<i+o;m++)l*=a[m];const c=a.slice(0,i).concat([l],a.slice(i+o)),u=Se(r,c),A=Se(s,[-1]),d=await IO(A),h=$f(d,[1]),p=F1(u,h,i);return t!==r&&r.dispose(),e!==s&&s.dispose(),h.dispose(),u.dispose(),A.dispose(),d.dispose(),p}const rte=FLe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LLe(t,e,n){const r=ie(t,"x","transpose");if(e==null&&(e=r.shape.map((o,a)=>a).reverse()),ee(r.rank===e.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${e}.`),e.forEach(o=>{ee(o>=0&&o<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${e}`)}),r.rank<=1)return r.clone();const s={x:r},i={perm:e};return r.dtype==="complex64"?Te(()=>{let o=oy(r),a=f2(r);return o=ge.runKernel(Jp,{x:o},i),a=ge.runKernel(Jp,{x:a},i),n&&(a=Er(a)),xd(o,a)}):ge.runKernel(Jp,s,i)}const Fn=ye({transpose_:LLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DLe(t,e,n,r,s=!0){const i=ie(t,"v","movingAverage"),o=ie(e,"x","movingAverage"),a=ie(n,"decay","movingAverage");YJ(i,o),ee(Tn(i.shape,o.shape),()=>"Shape mismatch in v and x");const l=Ht(1),c=wt(l,a);let u=xe(wt(o,i),c);if(s){ee(r!=null,()=>"When using zeroDebias: true, step is required.");const A=ie(r,"step","movingAverage");u=Rt(u,wt(l,vA(a,A)))}return qe(i,u)}const ste=ye({movingAverage_:DLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PLe(t,e,n){$a(n);const r=ie(t,"indices","scatterND","int32"),s=ie(e,"updates","scatterND");ME(s,r,n);const i={indices:r,updates:s},o={shape:n};return ge.runKernel(YI,i,o)}const ite=ye({scatterND_:PLe});function RLe(t,e,n,r){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const s=t.rank>0?t.shape[0]:1,i=t.rank>1?t.shape[1]:1;if(n.length!==i)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${i}.`);const o=e.size;if(!(e.rank===0||e.rank===1&&o===s))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${s}]`);if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OLe(t,e,n,r=0){$a(n);const s=ie(t,"sparseIndices","sparseToDense","int32"),i=ie(e,"sparseValues","sparseToDense","string_or_numeric"),o=ie(r,"defaultValue","sparseToDense",i.dtype);RLe(s,i,n,o);const a={sparseIndices:s,sparseValues:i,defaultValue:o},l={outputShape:n};return ge.runKernel(sE,a,l)}const ote=ye({sparseToDense_:OLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Le(t,e){const n=ie(e,"indices","gatherND","int32"),s={params:ie(t,"x","gatherND","string_or_numeric"),indices:n};return ge.runKernel(FI,s)}const ate=ye({gatherND_:$Le});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ULe(t,e){if(e==null)return t.shape.slice();if(Tn(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let r=0;r<t.shape.length;r++)e[r]==null&&t.shape[r]!=null?n.push(t.shape[r]):n.push(e[r]);return n}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MLe(t,e,n,r){const s=ie(t,"x","dropout");if(ee(s.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${s.dtype} tensor instead.`),ee(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof nr?s.clone():s;const i=ULe(s,n),o=1-e,a=Rt(T1(qe(Of(i,0,1,"float32",r),o)),o);return xe(s,a)}const EO=ye({dropout_:MLe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kO(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function zE(t,e,n){const r=1-t%2,s=new Float32Array(t);for(let i=0;i<t;++i){const o=2*Math.PI*i/(t+r-1);s[i]=e-n*Math.cos(o)}return qi(s,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function QLe(t,e,n=1){const r=ie(t,"predictions","inTopK"),s=ie(e,"targets","inTopK");ee(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),ee(r.rank-1===s.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${s.rank}`),Fi(r.shape.slice(0,r.shape.length-1),s.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const i=r.shape[r.shape.length-1];ee(n>0&&n<=i,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${i}), but got ${n}`);const o=await r.data(),a=await s.data(),[l,c]=[o.length/i,i],u=gi("bool",l);for(let A=0;A<l;A++){const d=A*c,h=o.subarray(d,d+c),p=[];for(let m=0;m<h.length;m++)p.push({value:h[m],index:m});p.sort((m,y)=>y.value-m.value),u[A]=0;for(let m=0;m<n;m++)if(p[m].index===a[A]){u[A]=1;break}}return t!==r&&r.dispose(),e!==s&&s.dispose(),rc(u,s.shape,"bool")}const lte=QLe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jLe(t,e,n,r,s,i="NHWC",o){let a=t;t.rank===3&&(a=Se(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=Se(e,[1,e.shape[0],e.shape[1],e.shape[2]])),ee(a.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${a.shape}.`),ee(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),ee(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const c=i==="NHWC"?a.shape[3]:a.shape[1],u=i==="NHWC"?l.shape[3]:l.shape[1];ee(c===n[2],()=>`Error in conv2dDerFilter: depth of input ${c}) must match input depth in filter (${n[2]}.`),ee(u===n[3],()=>`Error in conv2dDerFilter: depth of dy (${u}) must match output depth for filter (${n[3]}).`),No("conv2dDerFilter",s,o);const A={x:a,dy:l},d={strides:r,pad:s,dataFormat:i,dimRoundingMode:o,filterShape:n};return ge.runKernel(mI,A,d)}const TO=ye({conv2DBackpropFilter_:jLe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VE(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return xe(t,Km(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function WE(t,e){let n=e;const r=js(t.shape,e.shape);return r.length>0&&(n=It(n,r)),Se(n,t.shape)}function GE(t,e,n,r){if(e==="linear")return t;if(e==="relu")return bu(t);if(e==="elu")return E1(t);if(e==="relu6")return kE(t);if(e==="prelu")return b2(t,n);if(e==="leakyrelu")return p2(t,r);if(e==="sigmoid")return su(t);throw new Error(`Unknown fused activation ${e}.`)}const KE=(t,e)=>!(t>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HLe({x:t,filter:e,strides:n,pad:r,dataFormat:s="NHWC",dilations:i=[1,1],dimRoundingMode:o,bias:a,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(l=l||"linear",KE(ge.state.gradientDepth,l)===!1){ee(s==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${s} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let I=bd(t,e,n,r,s,i,o);return a!=null&&(I=qe(I,a)),GE(I,l,c,u)}const A=ie(t,"x","conv2d","float32"),d=ie(e,"filter","conv2d","float32");let h=A,p=!1;A.rank===3&&(p=!0,h=Se(A,[1,A.shape[0],A.shape[1],A.shape[2]])),ee(h.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${h.rank}.`),ee(d.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`),No("fused conv2d",r,o);const m=s==="NHWC"?h.shape[3]:h.shape[1];ee(d.shape[2]===m,()=>`Error in conv2d: depth of input (${m}) must match input depth for filter ${d.shape[2]}.`),ee(Li(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);const y=wi(h.shape,d.shape,n,i,r,o);let g;a!=null&&(g=ie(a,"bias","fused conv2d"),[g]=ns(g,A),s==="NHWC"?un(y.outShape,g.shape):(ee(g.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${g.shape.length}.`),ee(g.shape.length===0||g.shape[0]===y.outChannels||g.shape[0]===1,()=>`Error in fused conv2d: bias shape (${g.shape}) is not compatible with the number of output channels (${y.outChannels})`)));let v;if(c!=null){const I=c.shape;if(ee(I.length<=1||I.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${I.length}.`),I.length===1)ee(I[0]===1||I[0]===y.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${I}) is not compatible with the number of output channels (${y.outChannels}).`);else if(I.length===3)try{un(I,y.outShape)}catch{const T=`Error in fused conv2d: PReLU activation weights (${I}) is not compatible with the output shape of the conv2d (${y.outShape}).`;throw Error(T)}v=ie(c,"prelu weights","fused conv2d")}const b=(I,F)=>{ee(s==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${s} but only NHWC is currently supported.`);const[T,D,H,R]=F,U=VE(I,H,l);ee(pf(i),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`);const W=HR(D.shape,U,T,n,r),$=TO(D,U,T.shape,n,r),Y=[W,$];if(R!=null){const J=WE(R,U);Y.push(J)}return Y},C={x:h,filter:d,bias:g,preluActivationWeights:v},_={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:o,activation:l,leakyreluAlpha:u};return a==null?xA((F,T,D)=>{let H=ge.runKernel(hx,C,_);return D([T,F,H]),p&&(H=Se(H,[H.shape[1],H.shape[2],H.shape[3]])),{value:H,gradFunc:b}})(h,d):xA((F,T,D,H)=>{let R=ge.runKernel(hx,C,_);return H([T,F,R,D]),p&&(R=Se(R,[R.shape[1],R.shape[2],R.shape[3]])),{value:R,gradFunc:b}})(h,d,g)}const cte=ye({fusedConv2d_:HLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zLe(t,e,n,r,s,i=[1,1],o){let a=t;t.rank===3&&(a=Se(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=Se(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const c={x:a,dy:l},u={strides:r,pad:s,dimRoundingMode:o,dilations:i,filterShape:n};return ge.runKernel(CI,c,u)}const ute=ye({depthwiseConv2dNativeBackpropFilter_:zLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VLe(t,e,n,r,s,i=[1,1],o){let a=e,l=!1;e.rank===3&&(l=!0,a=Se(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const c={dy:a,filter:n},u={strides:r,pad:s,dimRoundingMode:o,dilations:i,inputShape:t},A=ge.runKernel(SI,c,u);return l?Se(A,[A.shape[1],A.shape[2],A.shape[3]]):A}const Ate=ye({depthwiseConv2dNativeBackpropInput_:VLe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WLe({x:t,filter:e,strides:n,pad:r,dataFormat:s="NHWC",dilations:i=[1,1],dimRoundingMode:o,bias:a,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(KE(ge.state.gradientDepth,l)===!1){let _=I1(t,e,n,r,s,i,o);return a!=null&&(_=qe(_,a)),GE(_,l,c,u)}const A=ie(t,"x","depthwiseConv2d","float32"),d=ie(e,"filter","depthwiseConv2d","float32");let h=A,p=!1;A.rank===3&&(p=!0,h=Se(A,[1,A.shape[0],A.shape[1],A.shape[2]])),ee(h.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${h.rank}.`),ee(d.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${d.rank}.`),ee(h.shape[3]===d.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${h.shape[3]}) must match the inChannels dimension in filter ${d.shape[2]}.`),i==null&&(i=[1,1]),ee(Li(n,i),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),No("fused depthwiseConv2d",r,o);const m=wi(h.shape,d.shape,n,i,r,o,!0);let y;a!=null&&(y=ie(a,"bias","fused conv2d"),[y]=ns(y,A),un(m.outShape,y.shape));let g;c!=null&&(g=ie(c,"prelu weights","fused depthwiseConv2d"));const v=(_,I)=>{ee(pf(i),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${i}'`);const[F,T,D,H]=I,R=VE(_,D,l),U=Ate(T.shape,R,F,n,r,i,o),W=ute(T,R,F.shape,n,r,i,o);if(H!=null){const $=WE(y,R);return[U,W,$]}return[U,W]},b={x:h,filter:d,bias:y,preluActivationWeights:g},C={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:o,activation:l,leakyreluAlpha:u};return a==null?xA((I,F,T)=>{let D=ge.runKernel(fx,b,C);return T([F,I,D]),p&&(D=Se(D,[D.shape[1],D.shape[2],D.shape[3]])),{value:D,gradFunc:v}})(h,d):xA((I,F,T,D)=>{let H=ge.runKernel(fx,b,C);return D([F,I,H,T]),p&&(H=Se(H,[H.shape[1],H.shape[2],H.shape[3]])),{value:H,gradFunc:v}})(h,d,y)}const GLe=ye({fusedDepthwiseConv2d_:WLe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KLe({a:t,b:e,transposeA:n=!1,transposeB:r=!1,bias:s,activation:i="linear",preluActivationWeights:o,leakyreluAlpha:a=.2}){if(KE(ge.state.gradientDepth,i)===!1){let R=Sn(t,e,n,r);return s!=null&&(R=qe(R,s)),GE(R,i,o,a)}let l=ie(t,"a","fused matMul"),c=ie(e,"b","fused matMul");[l,c]=ns(l,c);const u=n?l.shape[l.rank-2]:l.shape[l.rank-1],A=r?c.shape[c.rank-1]:c.shape[c.rank-2],d=n?l.shape[l.rank-1]:l.shape[l.rank-2],h=r?c.shape[c.rank-2]:c.shape[c.rank-1],p=l.shape.slice(0,-2),m=c.shape.slice(0,-2),y=Oe(p),g=Oe(m);ee(u===A,()=>`Error in fused matMul: inner shapes (${u}) and (${A}) of Tensors with shapes ${l.shape} and ${c.shape} and transposeA=${n} and transposeB=${r} must match.`);const b=un(l.shape.slice(0,-2),c.shape.slice(0,-2)).concat([d,h]),C=n?Se(l,[y,u,d]):Se(l,[y,d,u]),_=r?Se(c,[g,h,A]):Se(c,[g,A,h]);let I;s!=null&&(I=ie(s,"bias","fused matMul"),[I]=ns(I,l),un(b,I.shape));let F;o!=null&&(F=ie(o,"prelu weights","fused matMul"));const T=(R,U)=>{const[W,$,Y,J]=U,oe=VE(Se(R,Y.shape),Y,i);let V,Z;if(!n&&!r?(V=Sn(oe,$,!1,!0),Z=Sn(W,oe,!0,!1)):!n&&r?(V=Sn(oe,$,!1,!1),Z=Sn(oe,W,!0,!1)):n&&!r?(V=Sn($,oe,!1,!0),Z=Sn(W,oe,!1,!1)):(V=Sn($,oe,!0,!0),Z=Sn(oe,W,!0,!0)),s!=null){const le=WE(J,oe);return[V,Z,le]}else return[V,Z]},D={a:C,b:_,bias:I,preluActivationWeights:F},H={transposeA:n,transposeB:r,activation:i,leakyreluAlpha:a};return s==null?xA((U,W,$)=>{const Y=ge.runKernel(dx,D,H);return $([U,W,Y]),{value:Se(Y,b),gradFunc:T}})(C,_):xA((U,W,$,Y)=>{const J=ge.runKernel(dx,D,H);return Y([U,W,J,$]),{value:Se(J,b),gradFunc:T}})(C,_,I)}const eL=ye({fusedMatMul_:KLe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dte=Object.freeze(Object.defineProperty({__proto__:null,conv2d:cte,depthwiseConv2d:GLe,matMul:eL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qLe(t){return zE(t,.54,.46)}const XLe=ye({hammingWindow_:qLe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YLe(t){return zE(t,.5,.5)}const hte=ye({hannWindow_:YLe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZLe(t,e,n,r=!1,s=0){let i=0;const o=[];for(;i+e<=t.size;)o.push(Dn(t,i,e)),i+=n;if(r)for(;i<t.size;){const a=i+e-t.size,l=Cs([Dn(t,i,e-a),Vm([a],s)]);o.push(l),i+=n}return o.length===0?B0([],[0,e]):Se(Cs(o),[o.length,e])}const fte=ye({frame_:ZLe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JLe(t,e,n,r,s=hte){r==null&&(r=kO(e));const i=fte(t,e,n),o=xe(i,s(e));return N2(o,r)}const eDe=ye({stft_:JLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tDe(t,e,n,r,s="bilinear",i=0){const o=ie(t,"image","cropAndResize"),a=ie(e,"boxes","cropAndResize","float32"),l=ie(n,"boxInd","cropAndResize","int32"),c=a.shape[0];ee(o.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${o.rank}.`),ee(a.rank===2&&a.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${c},4] but had shape ${a.shape}.`),ee(l.rank===1&&l.shape[0]===c,()=>`Error in cropAndResize: boxInd must be have size [${c}] but had shape ${a.shape}.`),ee(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),ee(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),ee(s==="bilinear"||s==="nearest",()=>`method must be bilinear or nearest, but was ${s}`);const u={image:o,boxes:a,boxInd:l},A={method:s,extrapolationValue:i,cropSize:r};return ge.runKernel(vI,u,A)}const nDe=ye({cropAndResize_:tDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rDe(t){const e=ie(t,"image","flipLeftRight","float32");ee(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return ge.runKernel(TI,n,{})}const sDe=ye({flipLeftRight_:rDe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iDe(t){const e=ie(t,"image","grayscaleToRGB"),n=e.rank-1,r=e.shape[n];ee(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),ee(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const s=new Array(e.rank);return s.fill(1,0,n),s[n]=3,cl(e,s)}const oDe=ye({grayscaleToRGB_:iDe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aDe(t){const e=ie(t,"image","RGBToGrayscale"),n=e.rank-1,r=e.shape[n];ee(e.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${e.rank}.`),ee(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const s=e.dtype,i=ot(e,"float32"),o=qi([.2989,.587,.114]);let a;switch(e.rank){case 2:a=Cp("ij,j->i",i,o);break;case 3:a=Cp("ijk,k->ij",i,o);break;case 4:a=Cp("ijkl,l->ijk",i,o);break;case 5:a=Cp("ijklm,m->ijkl",i,o);break;case 6:a=Cp("ijklmn,n->ijklm",i,o);break;default:throw new Error("Not a valid tensor rank.")}return a=Gi(a,-1),ot(a,s)}const lDe=ye({rgbToGrayscale_:aDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cDe(t,e,n=0,r=.5){const s=ie(t,"image","rotateWithOffset","float32");ee(s.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${s.rank}.`);const i={image:s},o={radians:e,fillValue:n,center:r};return ge.runKernel(hE,i,o)}const uDe=ye({rotateWithOffset_:cDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L1(t,e,n,r,s,i){r==null&&(r=.5),s==null&&(s=Number.NEGATIVE_INFINITY),i==null&&(i=0);const o=t.shape[0];return n=Math.min(n,o),ee(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),ee(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),ee(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),ee(e.rank===1,()=>"scores must be a 1D tensor"),ee(e.shape[0]===o,()=>`scores has incompatible shape with boxes. Expected ${o}, but was ${e.shape[0]}`),ee(0<=i&&i<=1,()=>`softNmsSigma must be in [0, 1], but was '${i}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:i}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ADe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY){const i=ie(t,"boxes","nonMaxSuppression","float32"),o=ie(e,"scores","nonMaxSuppression","float32"),a=L1(i,o,n,r,s);n=a.maxOutputSize,r=a.iouThreshold,s=a.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:s};return ge.runKernel(QI,{boxes:i,scores:o},l)}const dDe=ye({nonMaxSuppression_:ADe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hDe(t,e,n){const r=fDe(t,e,n),s=r<0?-(r+1):r;t.splice(s,0,e)}function fDe(t,e,n){return mDe(t,e,n||pDe)}function pDe(t,e){return t>e?1:t<e?-1:0}function mDe(t,e,n){let r=0,s=t.length,i=0,o=!1;for(;r<s;){i=r+(s-r>>>1);const a=n(e,t[i]);a>0?r=i+1:(s=i,o=!a)}return o?r:-r-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qE(t,e,n,r,s){return FO(t,e,n,r,s,0)}function XE(t,e,n,r,s,i){return FO(t,e,n,r,s,0,!1,i,!0)}function YE(t,e,n,r,s,i){return FO(t,e,n,r,s,i,!0)}function FO(t,e,n,r,s,i,o=!1,a=!1,l=!1){const c=[];for(let y=0;y<e.length;y++)e[y]>s&&c.push({score:e[y],boxIndex:y,suppressBeginIndex:0});c.sort(OH);const u=i>0?-.5/i:0,A=[],d=[];for(;A.length<n&&c.length>0;){const y=c.pop(),{score:g,boxIndex:v,suppressBeginIndex:b}=y;if(g<s)break;let C=!1;for(let _=A.length-1;_>=b;--_){const I=gDe(t,v,A[_]);if(I>=r){C=!0;break}if(y.score=y.score*yDe(r,u,I),y.score<=s)break}y.suppressBeginIndex=A.length,C||(y.score===g?(A.push(v),d.push(y.score)):y.score>s&&hDe(c,y,OH))}const h=A.length,p=n-h;a&&p>0&&(A.push(...new Array(p).fill(0)),d.push(...new Array(p).fill(0)));const m={selectedIndices:A};return o&&(m.selectedScores=d),l&&(m.validOutputs=h),m}function gDe(t,e,n){const r=t.subarray(e*4,e*4+4),s=t.subarray(n*4,n*4+4),i=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),a=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),c=Math.min(s[0],s[2]),u=Math.min(s[1],s[3]),A=Math.max(s[0],s[2]),d=Math.max(s[1],s[3]),h=(a-i)*(l-o),p=(A-c)*(d-u);if(h<=0||p<=0)return 0;const m=Math.max(i,c),y=Math.max(o,u),g=Math.min(a,A),v=Math.min(l,d),b=Math.max(g-m,0)*Math.max(v-y,0);return b/(h+p-b)}function yDe(t,e,n){const r=Math.exp(e*n*n);return n<=t?r:0}function OH(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function wDe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY){const i=ie(t,"boxes","nonMaxSuppressionAsync"),o=ie(e,"scores","nonMaxSuppressionAsync"),a=L1(i,o,n,r,s);n=a.maxOutputSize,r=a.iouThreshold,s=a.scoreThreshold;const l=await Promise.all([i.data(),o.data()]),c=l[0],u=l[1],{selectedIndices:A}=qE(c,u,n,r,s);return i!==t&&i.dispose(),o!==e&&o.dispose(),qi(A,"int32")}const vDe=wDe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xDe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=0){const o=ie(t,"boxes","nonMaxSuppression"),a=ie(e,"scores","nonMaxSuppression"),l=L1(o,a,n,r,s,i);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,i=l.softNmsSigma;const c={boxes:o,scores:a},u={maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:i},A=ge.runKernel(HI,c,u);return{selectedIndices:A[0],selectedScores:A[1]}}const bDe=ye({nonMaxSuppressionWithScore_:xDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function CDe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=0){const o=ie(t,"boxes","nonMaxSuppressionAsync"),a=ie(e,"scores","nonMaxSuppressionAsync"),l=L1(o,a,n,r,s,i);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,i=l.softNmsSigma;const c=await Promise.all([o.data(),a.data()]),u=c[0],A=c[1],{selectedIndices:d,selectedScores:h}=YE(u,A,n,r,s,i);return o!==t&&o.dispose(),a!==e&&a.dispose(),{selectedIndices:qi(d,"int32"),selectedScores:qi(h)}}const SDe=CDe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BDe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=!1){const o=ie(t,"boxes","nonMaxSuppression"),a=ie(e,"scores","nonMaxSuppression"),l=L1(o,a,n,r,s,null),c=l.maxOutputSize,u=l.iouThreshold,A=l.scoreThreshold,d={boxes:o,scores:a},h={maxOutputSize:c,iouThreshold:u,scoreThreshold:A,padToMaxOutputSize:i},p=ge.runKernel(jI,d,h);return{selectedIndices:p[0],validOutputs:p[1]}}const _De=ye({nonMaxSuppressionPadded_:BDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function NDe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=!1){const o=ie(t,"boxes","nonMaxSuppressionAsync"),a=ie(e,"scores","nonMaxSuppressionAsync"),l=L1(o,a,n,r,s,null),c=l.maxOutputSize,u=l.iouThreshold,A=l.scoreThreshold,[d,h]=await Promise.all([o.data(),a.data()]),{selectedIndices:p,validOutputs:m}=XE(d,h,c,u,A,i);return o!==t&&o.dispose(),a!==e&&a.dispose(),{selectedIndices:qi(p,"int32"),validOutputs:Ht(m,"int32")}}const IDe=NDe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EDe(t,e,n=!1,r=!1){const s=ie(t,"images","resizeBilinear");ee(s.rank===3||s.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${s.rank}.`),ee(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),ee(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let i=s,o=!1;s.rank===3&&(o=!0,i=Se(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const a={images:i},l={alignCorners:n,halfPixelCenters:r,size:e},c=ge.runKernel(Xb,a,l);return o?Se(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const pte=ye({resizeBilinear_:EDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kDe(t,e,n=!1,r=!1){const s=ie(t,"images","resizeNearestNeighbor");ee(s.rank===3||s.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${s.rank}.`),ee(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),ee(s.dtype==="float32"||s.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),ee(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let i=s,o=!1;s.rank===3&&(o=!0,i=Se(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const a={images:i},l={alignCorners:n,halfPixelCenters:r,size:e},c=ge.runKernel(qb,a,l);return o?Se(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const mte=ye({resizeNearestNeighbor_:kDe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TDe(t,e="binary",n=!1,r=.5){const s=ie(t,"image","threshold"),i=.2989,o=.587,a=.114,l=s.shape[0]*s.shape[1];let c=xe(qi([r]),255),u,A,d,h;if(ee(s.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${s.rank}.`),ee(s.shape[2]===3||s.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${s.shape[2]}.`),ee(s.dtype==="int32"||s.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${s.dtype}.`),ee(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),s.shape[2]===3){[u,A,d]=qo(s,[1,1,1],-1);const y=xe(u,i),g=xe(A,o),v=xe(d,a);h=qe(qe(y,g),v)}else h=t;if(e==="otsu"){const y=OR(ot(TE(h),"int32"),rc([]),256);c=FDe(y,l)}const p=n?Rf(h,c):ia(h,c);return ot(xe(p,255),"int32")}function FDe(t,e){let n=qi([-1]),r=qi([0]),s=qi([0]),i,o,a,l,c,u;for(let A=0;A<t.size-1;A++){i=Dn(t,0,A+1),o=Dn(t,A+1),c=Rt(It(i),e),u=Rt(It(o),e);const d=It(xe(i,Bm(0,i.size)));a=Rt(d,It(i));const h=Vm(o.shape,i.size),p=qe(Bm(0,o.size),h),m=xe(o,p);l=Rt(It(m),It(o));const y=wt(a,l),g=wt(a,l),v=xe(c,u);s=xe(xe(v,y),g);const b=ia(s,r);r=ki(b,s,r),n=ki(b,qi([A]),n)}return n}const LDe=ye({threshold_:TDe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DDe(t,e,n="nearest",r="constant",s=0,i){const o=ie(t,"image","transform","float32"),a=ie(e,"transforms","transform","float32");ee(o.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${o.rank}.`),ee(a.rank===2&&(a.shape[0]===o.shape[0]||a.shape[0]===1)&&a.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),ee(i==null||i.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`);const l={image:o,transforms:a},c={interpolation:n,fillMode:r,fillValue:s,outputShape:i};return ge.runKernel(AE,l,c)}const PDe=ye({transform_:DDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RDe(t,e,n){const r=ie(t,"a","bandPart");ee(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const s=r.shape,[i,o]=r.shape.slice(-2);let a,l;typeof e=="number"?(ee(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),ee(e<=i,()=>`bandPart(): numLower (${e}) must not be greater than the number of rows (${i}).`),a=ie(e<0?i:e,"numLower","bandPart")):(ee(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),a=ki(sy(e,0),i,gf(e,i))),typeof n=="number"?(ee(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),ee(n<=o,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${o}).`),l=ie(n<0?o:n,"numUpper","bandPart")):(ee(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),l=ki(sy(n,0),o,gf(n,o)));const c=Se(Bm(0,i,1,"int32"),[-1,1]),u=Bm(0,o,1,"int32"),A=wt(c,u),d=Au(Rf(A,a),kd(A,Er(l))),h=Ms([i,o],r.dtype);return Se(ea(gl(Se(r,[-1,i,o])).map(p=>ki(d,p,h))),s)}const ODe=ye({bandPart_:RDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $De(t){let e;if(Array.isArray(t)){e=!1,ee(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const s=t[0].shape[0];for(let i=1;i<t.length;++i)ee(t[i].shape[0]===s,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[i].shape[0]} vs. ${s})`)}else e=!0,t=qo(t,t.shape[0],0).map(s=>$f(s,[0]));ee(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const n=[],r=t;for(let s=0;s<t.length;++s)n.push(ge.tidy(()=>{let i=r[s];if(s>0)for(let o=0;o<s;++o){const a=xe(It(xe(n[o],i)),n[o]);i=wt(i,a)}return Rt(i,k1(i,"euclidean"))}));return e?ea(n,0):n}const UDe=ye({gramSchmidt_:$De});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MDe(t,e=!1){if(ee(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return $H(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((l,c)=>l*c),r=gl(Se(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),s=[],i=[];r.forEach(l=>{const[c,u]=$H(l,e);s.push(c),i.push(u)});const o=Se(ea(s,0),t.shape),a=Se(ea(i,0),t.shape);return[o,a]}}function $H(t,e=!1){return ge.tidy(()=>{ee(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const n=t.shape[0],r=t.shape[1];let s=CE(n),i=AA(t);const o=B0([[1]],[1,1]);let a=AA(o);const l=n>=r?r:n;for(let c=0;c<l;++c){const u=i,A=a,d=s;[a,i,s]=ge.tidy(()=>{const h=Dn(i,[c,c],[n-c,1]),p=k1(h),m=Dn(i,[c,c],[1,1]),y=ki(ia(m,0),B0([[-1]]),B0([[1]])),g=wt(m,xe(y,p)),v=Rt(h,g);v.shape[0]===1?a=AA(o):a=Cs([o,Dn(v,[1,0],[v.shape[0]-1,v.shape[1]])],0);const b=Er(Rt(Sn(y,g),p)),C=Dn(i,[c,0],[n-c,r]),_=xe(b,a),I=Fn(a);if(c===0)i=wt(C,Sn(_,Sn(I,C)));else{const D=wt(C,Sn(_,Sn(I,C)));i=Cs([Dn(i,[0,0],[c,r]),D],0)}const F=Fn(_),T=Dn(s,[0,c],[n,s.shape[1]-c]);if(c===0)s=wt(T,Sn(Sn(T,a),F));else{const D=wt(T,Sn(Sn(T,a),F));s=Cs([Dn(s,[0,0],[n,c]),D],1)}return[a,i,s]}),Bn([u,A,d])}return!e&&n>r&&(s=Dn(s,[0,0],[n,r]),i=Dn(i,[0,0],[r,r])),[s,i]})}const QDe=ye({qr_:MDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Co;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Co||(Co={}));function jDe(t,e,n=Co.SUM_BY_NONZERO_WEIGHTS){const r=ie(t,"losses","computeWeightedLoss");let s=null;e!=null&&(s=ie(e,"weights","computeWeightedLoss"));const i=s==null?r:xe(r,s);if(n===Co.NONE)return i;if(n===Co.SUM)return It(i);if(n===Co.MEAN){if(s==null)return es(i);{const o=r.size/s.size,a=Rt(It(i),It(s));return o>1?Rt(a,Ht(o)):a}}if(n===Co.SUM_BY_NONZERO_WEIGHTS){if(s==null)return Rt(It(i),Ht(r.size));{const o=xe(s,Go(r.shape)),a=ot(It(Sm(o,Ht(0))),"float32");return Rt(It(i),a)}}throw Error(`Unknown reduction: ${n}`)}const Fd=ye({computeWeightedLoss_:jDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HDe(t,e,n,r=Co.SUM_BY_NONZERO_WEIGHTS){const s=ie(t,"labels","absoluteDifference"),i=ie(e,"predictions","absoluteDifference");let o=null;n!=null&&(o=ie(n,"weights","absoluteDifference")),Fi(s.shape,i.shape,"Error in absoluteDifference: ");const a=Ps(wt(s,i));return Fd(a,o,r)}const zDe=ye({absoluteDifference_:HDe});function VDe(t,e,n,r,s=Co.SUM_BY_NONZERO_WEIGHTS){const i=ie(t,"labels","cosineDistance"),o=ie(e,"predictions","cosineDistance");let a=null;r!=null&&(a=ie(r,"weights","cosineDistance")),Fi(i.shape,o.shape,"Error in cosineDistance: ");const l=Ht(1),c=wt(l,It(xe(i,o),n,!0));return Fd(c,a,s)}const WDe=ye({cosineDistance_:VDe});function GDe(t,e,n,r=Co.SUM_BY_NONZERO_WEIGHTS){let s=ie(t,"labels","hingeLoss");const i=ie(e,"predictions","hingeLoss");let o=null;n!=null&&(o=ie(n,"weights","hingeLoss")),Fi(s.shape,i.shape,"Error in hingeLoss: ");const a=Ht(1);s=wt(xe(Ht(2),s),a);const l=bu(wt(a,xe(s,i)));return Fd(l,o,r)}const KDe=ye({hingeLoss_:GDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qDe(t,e,n,r=1,s=Co.SUM_BY_NONZERO_WEIGHTS){const i=ie(t,"labels","huberLoss"),o=ie(e,"predictions","huberLoss");let a=null;n!=null&&(a=ie(n,"weights","huberLoss")),Fi(i.shape,o.shape,"Error in huberLoss: ");const l=Ht(r),c=Ps(wt(o,i)),u=gf(c,l),A=wt(c,u),d=qe(xe(Ht(.5),gr(u)),xe(l,A));return Fd(d,a,s)}const XDe=ye({huberLoss_:qDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YDe(t,e,n,r=1e-7,s=Co.SUM_BY_NONZERO_WEIGHTS){const i=ie(t,"labels","logLoss"),o=ie(e,"predictions","logLoss");let a=null;n!=null&&(a=ie(n,"weights","logLoss")),Fi(i.shape,o.shape,"Error in logLoss: ");const l=Ht(1),c=Ht(r),u=Er(xe(i,La(qe(o,c)))),A=xe(wt(l,i),La(qe(wt(l,o),c))),d=wt(u,A);return Fd(d,a,s)}const ZDe=ye({logLoss_:YDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JDe(t,e,n,r=Co.SUM_BY_NONZERO_WEIGHTS){const s=ie(t,"labels","meanSquaredError"),i=ie(e,"predictions","meanSquaredError");let o=null;n!=null&&(o=ie(n,"weights","meanSquaredError")),Fi(s.shape,i.shape,"Error in meanSquaredError: ");const a=UE(s,i);return Fd(a,o,r)}const ePe=ye({meanSquaredError_:JDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tPe(t,e){const n=ie(t,"labels","sigmoidCrossEntropyWithLogits"),r=ie(e,"logits","sigmoidCrossEntropyWithLogits");Fi(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const s=bu(r),i=xe(r,n),o=m2(Jo(Er(Ps(r))));return qe(wt(s,i),o)}function nPe(t,e,n,r=0,s=Co.SUM_BY_NONZERO_WEIGHTS){let i=ie(t,"multiClassLabels","sigmoidCrossEntropy");const o=ie(e,"logits","sigmoidCrossEntropy");let a=null;if(n!=null&&(a=ie(n,"weights","sigmoidCrossEntropy")),Fi(i.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){const c=Ht(r),u=Ht(1),A=Ht(.5);i=qe(xe(i,wt(u,c)),xe(A,c))}const l=tPe(i,o);return Fd(l,a,s)}const rPe=ye({sigmoidCrossEntropy_:nPe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sPe(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return xA((s,i,o)=>{const l=g2(i,[n],!0),c=wt(ot(i,"float32"),l);o([s,c]);const u=Er(xe(c,s));return{value:It(u,[n]),gradFunc:(h,p)=>{const[m,y]=p,g=Ss(h.shape,[n]);return[xe(Se(h,g),wt(ot(m,"float32"),Jo(y))),xe(Se(h,g),wt(Jo(y),ot(m,"float32")))]}}})(t,e)}function iPe(t,e,n,r=0,s=Co.SUM_BY_NONZERO_WEIGHTS){let i=ie(t,"onehotLabels","softmaxCrossEntropy");const o=ie(e,"logits","softmaxCrossEntropy");let a=null;if(n!=null&&(a=ie(n,"weights","softmaxCrossEntropy")),Fi(i.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){const c=Ht(r),u=Ht(1),A=Ht(i.shape[1]);i=qe(xe(i,wt(u,c)),Rt(c,A))}const l=sPe(i,o);return Fd(l,a,s)}const oPe=ye({softmaxCrossEntropy_:iPe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aPe(t,e,n,r){const s=ie(t,"indices","sparseFillEmptyRows","int32"),i=ie(e,"values","sparseFillEmptyRows"),o=ie(n,"denseShape","sparseFillEmptyRows","int32"),a=ie(r,"defaultValue","sparseFillEmptyRows",i.dtype);if(s.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${s.shape}`);if(i.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${i.shape}`);if(o.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${o.shape}`);if(a.rank!==0)throw new Error(`Default value should be a scalar but received shape ${a.shape}`);const l={indices:s,values:i,denseShape:o,defaultValue:a},c=ge.runKernel(eE,l);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}const lPe=ye({sparseFillEmptyRows_:aPe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cPe(t,e,n){const r=ie(t,"inputIndices","sparseReshape","int32"),s=ie(e,"inputShape","sparseReshape","int32"),i=ie(n,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(s.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${s.shape}`);if(i.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${i.shape}`);const o={inputIndices:r,inputShape:s,newShape:i},a=ge.runKernel(tE,o);return{outputIndices:a[0],outputShape:a[1]}}const uPe=ye({sparseReshape_:cPe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function APe(t,e,n){const r=ie(t,"data","sparseSegmentMean"),s=ie(e,"indices","sparseSegmentMean","int32"),i=ie(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${s.shape}`);if(i.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${i.shape}`);const o={data:r,indices:s,segmentIds:i};return ge.runKernel(nE,o)}const dPe=ye({sparseSegmentMean_:APe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hPe(t,e,n){const r=ie(t,"data","sparseSegmentSum"),s=ie(e,"indices","sparseSegmentSum","int32"),i=ie(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${s.shape}`);if(i.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${i.shape}`);const o={data:r,indices:s,segmentIds:i};return ge.runKernel(rE,o)}const fPe=ye({sparseSegmentSum_:hPe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pPe(t,e,n,r,s,i,o,a){const l=ie(t,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error(`Data must be a vector, saw: ${l.shape}`);const c=ie(e,"dataSplits","stringNGrams");if(c.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const u={separator:n,nGramWidths:r,leftPad:s,rightPad:i,padWidth:o,preserveShortSequences:a},A={data:l,dataSplits:c},d=ge.runKernel(aE,A,u);return{nGrams:d[0],nGramsSplits:d[1]}}const mPe=ye({stringNGrams_:pPe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gPe(t,e,n=!0){const r=ie(t,"input","stringSplit","string"),s=ie(e,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(s.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${s.shape}`);const i={skipEmpty:n},o={input:r,delimiter:s},a=ge.runKernel(lE,o,i);return{indices:a[0],values:a[1],shape:a[2]}}const yPe=ye({stringSplit_:gPe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wPe(t,e){const n=ie(t,"input","stringToHashBucketFast","string"),r={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const s={input:n};return ge.runKernel(cE,s,r)}const vPe=ye({stringToHashBucketFast_:wPe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xPe(t,e,n,r=!0){const s=ie(t,"input","staticRegexReplace","string"),i={pattern:e,rewrite:n,replaceGlobal:r};return ge.runKernel(s2,{x:s},i)}const bPe=ye({staticRegexReplace_:xPe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gte={fft:_2,ifft:ly,rfft:N2,irfft:$E},yte={hammingWindow:XLe,hannWindow:hte,frame:fte,stft:eDe},eu={flipLeftRight:sDe,grayscaleToRGB:oDe,resizeNearestNeighbor:mte,resizeBilinear:pte,rgbToGrayscale:lDe,rotateWithOffset:uDe,cropAndResize:nDe,nonMaxSuppression:dDe,nonMaxSuppressionAsync:vDe,nonMaxSuppressionWithScore:bDe,nonMaxSuppressionWithScoreAsync:SDe,nonMaxSuppressionPadded:_De,nonMaxSuppressionPaddedAsync:IDe,threshold:LDe,transform:PDe},LO={bandPart:ODe,gramSchmidt:UDe,qr:QDe},wte={absoluteDifference:zDe,computeWeightedLoss:Fd,cosineDistance:WDe,hingeLoss:KDe,huberLoss:XDe,logLoss:ZDe,meanSquaredError:ePe,sigmoidCrossEntropy:rPe,softmaxCrossEntropy:oPe},vte={sparseFillEmptyRows:lPe,sparseReshape:uPe,sparseSegmentMean:dPe,sparseSegmentSum:fPe},xte={stringNGrams:mPe,stringSplit:yPe,stringToHashBucketFast:vPe,staticRegexReplace:bPe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CPe=new Map,tL=new Map;class qm{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class il{constructor(){this.classNameMap={}}static getMap(){return il.instance==null&&(il.instance=new il),il.instance}static register(e){il.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function Ze(t,e,n){ee(t.className!=null,()=>"Class being registered does not have the static className property defined."),ee(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),ee(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof n>"u"&&(n=t.className);const r=n,s=e+">"+r;return il.register(t),CPe.set(s,t),tL.set(t,s),t}function SPe(t){return tL.has(t)?tL.get(t):t.className}const BPe=Object.freeze(Object.defineProperty({__proto__:null,Serializable:qm,SerializationMap:il,getRegisteredName:SPe,registerClass:Ze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ld extends qm{minimize(e,n=!1,r){const{value:s,grads:i}=this.computeGradients(e,r);if(r!=null){const o=r.map(a=>({name:a.name,tensor:i[a.name]}));this.applyGradients(o)}else this.applyGradients(i);return Bn(i),n?s:(s.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return _ee(e,n)}dispose(){this.iterations_!=null&&Bn(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Ht(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(Ld,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class DO extends Ld{static get className(){return"Adadelta"}constructor(e,n,r=null){super(),this.learningRate=e,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=ge.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=ge.registeredVariables[r],o=!1;this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accum_grad`,variable:Te(()=>Pn(i).variable(o))}),this.accumulatedUpdates[s]==null&&(this.accumulatedUpdates[s]={originalName:`${r}/accum_var`,variable:Te(()=>Pn(i).variable(o))});const a=Array.isArray(e)?e[s].tensor:e[r];if(a==null)return;const l=this.accumulatedGrads[s].variable,c=this.accumulatedUpdates[s].variable;Te(()=>{const u=qe(xe(l,this.rho),xe(gr(a),1-this.rho)),A=xe(Rt(yi(qe(c,this.epsilon)),yi(qe(l,this.epsilon))),a),d=qe(xe(c,this.rho),xe(gr(A),1-this.rho));l.assign(u),c.assign(d);const h=qe(xe(A,-this.learningRate),i);i.assign(h)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(Bn(this.accumulatedGrads.map(e=>e.variable)),Bn(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,r=!1;this.accumulatedGrads=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedUpdates=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class PO extends Ld{static get className(){return"Adagrad"}constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=ge.registeredVariables[r];this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accumulator`,variable:Te(()=>Vm(i.shape,this.initialAccumulatorValue).variable(!1))});const o=Array.isArray(e)?e[s].tensor:e[r];if(o==null)return;const a=this.accumulatedGrads[s].variable;Te(()=>{const l=qe(a,gr(o));a.assign(l);const c=qe(xe(Rt(o,yi(qe(l,ge.backend.epsilon()))),-this.learningRate),i);i.assign(c)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&Bn(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class RO extends Ld{static get className(){return"Adam"}constructor(e,n,r,s=null){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=s,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Te(()=>{this.accBeta1=Ht(n).variable(),this.accBeta2=Ht(r).variable()}),s==null&&(this.epsilon=ge.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);Te(()=>{const r=wt(1,this.accBeta1),s=wt(1,this.accBeta2);n.forEach((i,o)=>{const a=ge.registeredVariables[i],l=!1;this.accumulatedFirstMoment[o]==null&&(this.accumulatedFirstMoment[o]={originalName:`${i}/m`,variable:Te(()=>Pn(a).variable(l))}),this.accumulatedSecondMoment[o]==null&&(this.accumulatedSecondMoment[o]={originalName:`${i}/v`,variable:Te(()=>Pn(a).variable(l))});const c=Array.isArray(e)?e[o].tensor:e[i];if(c==null)return;const u=this.accumulatedFirstMoment[o].variable,A=this.accumulatedSecondMoment[o].variable,d=qe(xe(u,this.beta1),xe(c,1-this.beta1)),h=qe(xe(A,this.beta2),xe(gr(c),1-this.beta2)),p=Rt(d,r),m=Rt(h,s);u.assign(d),A.assign(h);const y=qe(xe(Rt(p,qe(yi(m),this.epsilon)),-this.learningRate),a);a.assign(y)}),this.accBeta1.assign(xe(this.accBeta1,this.beta1)),this.accBeta2.assign(xe(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Bn(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&Bn(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),Te(()=>{this.accBeta1.assign(vA(this.beta1,this.iterations_+1)),this.accBeta2.assign(vA(this.beta2,this.iterations_+1))});const n=e.length/2,r=!1;this.accumulatedFirstMoment=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OO extends Ld{static get className(){return"Adamax"}constructor(e,n,r,s=null,i=0){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=s,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Te(()=>{this.iteration=Ht(0).variable(),this.accBeta1=Ht(n).variable()}),s==null&&(this.epsilon=ge.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);Te(()=>{const r=wt(1,this.accBeta1),s=Rt(-this.learningRate,qe(xe(this.iteration,this.decay),1));n.forEach((i,o)=>{const a=ge.registeredVariables[i],l=!1;this.accumulatedFirstMoment[o]==null&&(this.accumulatedFirstMoment[o]={originalName:`${i}/m`,variable:Pn(a).variable(l)}),this.accumulatedWeightedInfNorm[o]==null&&(this.accumulatedWeightedInfNorm[o]={originalName:`${i}/v`,variable:Pn(a).variable(l)});const c=Array.isArray(e)?e[o].tensor:e[i];if(c==null)return;const u=this.accumulatedFirstMoment[o].variable,A=this.accumulatedWeightedInfNorm[o].variable,d=qe(xe(u,this.beta1),xe(c,1-this.beta1)),h=xe(A,this.beta2),p=Ps(c),m=EA(h,p);u.assign(d),A.assign(m);const y=qe(xe(Rt(s,r),Rt(d,qe(m,this.epsilon))),a);a.assign(y)}),this.iteration.assign(qe(this.iteration,1)),this.accBeta1.assign(xe(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Bn(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&Bn(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ZE extends Ld{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=Array.isArray(e)?e[s].tensor:e[r];if(i==null)return;const o=ge.registeredVariables[r];Te(()=>{const a=qe(xe(this.c,i),o);o.assign(a)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=Xs(Ht(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $O extends ZE{static get className(){return"Momentum"}constructor(e,n,r=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=Ht(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=ge.registeredVariables[r];this.accumulations[s]==null&&(this.accumulations[s]={originalName:`${r}/momentum`,variable:Te(()=>Pn(i).variable(!1))});const o=this.accumulations[s].variable,a=Array.isArray(e)?e[s].tensor:e[r];a!=null&&Te(()=>{let l;const c=qe(xe(this.m,o),a);this.useNesterov?l=qe(xe(this.c,qe(a,xe(c,this.m))),i):l=qe(xe(this.c,c),i),o.assign(c),i.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&Bn(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class UO extends Ld{static get className(){return"RMSProp"}constructor(e,n=.9,r=0,s=null,i=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=r,this.epsilon=s,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,s==null&&(this.epsilon=ge.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=ge.registeredVariables[r],o=!1;this.accumulatedMeanSquares[s]==null&&(this.accumulatedMeanSquares[s]={originalName:`${r}/rms`,variable:Te(()=>Pn(i).variable(o))}),this.accumulatedMoments[s]==null&&(this.accumulatedMoments[s]={originalName:`${r}/momentum`,variable:Te(()=>Pn(i).variable(o))}),this.accumulatedMeanGrads[s]==null&&this.centered&&(this.accumulatedMeanGrads[s]={originalName:`${r}/mg`,variable:Te(()=>Pn(i).variable(o))});const a=Array.isArray(e)?e[s].tensor:e[r];if(a==null)return;const l=this.accumulatedMeanSquares[s].variable,c=this.accumulatedMoments[s].variable;Te(()=>{const u=qe(xe(l,this.decay),xe(gr(a),1-this.decay));if(this.centered){const A=this.accumulatedMeanGrads[s].variable,d=qe(xe(A,this.decay),xe(a,1-this.decay)),h=Rt(xe(a,this.learningRate),yi(wt(u,qe(gr(d),this.epsilon)))),p=qe(xe(c,this.momentum),h);l.assign(u),A.assign(d),c.assign(p);const m=wt(i,p);i.assign(m)}else{const A=qe(xe(l,this.decay),xe(gr(a),1-this.decay)),d=qe(xe(c,this.momentum),Rt(xe(a,this.learningRate),yi(qe(A,this.epsilon))));l.assign(A),c.assign(d);const h=wt(i,d);i.assign(h)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&Bn(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&Bn(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&Bn(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,r=!1;this.accumulatedMeanSquares=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedMoments=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Pe=[DO,PO,RO,OO,$O,UO,ZE];function NPe(){for(const t of _Pe)Ze(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IPe="model",EPe=".json",kPe=".weights.bin";function UH(t){return new Promise(e=>setTimeout(e)).then(t)}class _m{constructor(e){if(!Le().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(_m.URL_SCHEME)&&(e=e.slice(_m.URL_SCHEME.length)),(e==null||e.length===0)&&(e=IPe),this.modelJsonFileName=e+EPe,this.weightDataFileName=e+kPe}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=xu.join(e.weightData),r=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const s=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],i=aee(e,s),o=window.URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"})),a=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=o,await UH(()=>a.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const l=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;l.download=this.weightDataFileName,l.href=r,await UH(()=>l.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:c2(e)}}}}_m.URL_SCHEME="downloads://";class TPe{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const r=new FileReader;r.onload=s=>{const i=JSON.parse(s.target.result),o=i.modelTopology;if(o==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(i.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:o});return}const l=bR(i,c=>this.loadWeights(c));e(l)},r.onerror=s=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)})}loadWeights(e){const n=[],r=[];for(const o of e)n.push(...o.weights),r.push(...o.paths);const s=this.checkManifestAndWeightFiles(e),i=r.map(o=>this.loadWeightsFile(o,s[o]));return Promise.all(i).then(o=>[n,o])}loadWeightsFile(e,n){return new Promise((r,s)=>{const i=new FileReader;i.onload=o=>{const a=o.target.result;r(a)},i.onerror=o=>s(`Failed to weights data from file of path '${e}'.`),i.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],r=this.weightsFiles.map(i=>RH(i.name)),s={};for(const i of e)i.paths.forEach(o=>{const a=RH(o);if(n.indexOf(a)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${a}'`);if(n.push(a),r.indexOf(a)===-1)throw new Error(`Weight file with basename '${a}' is not provided.`);s[o]=this.weightsFiles[r.indexOf(a)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return s}}const FPe=t=>Le().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(_m.URL_SCHEME)?LPe(t.slice(_m.URL_SCHEME.length)):null;Zr.registerSaveRouter(FPe);function LPe(t="model"){return new _m(t)}function DPe(t){return new TPe(t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MH(t,e,n,r){o(t),n=n??0,r=r??1,a(n,r);let s=0;const i=l=>(l.then(c=>{const u=n+ ++s/t.length*(r-n);return e(u),c}),l);function o(l){ee(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function a(l,c){ee(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),ee(c>=0&&c<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${c}`),ee(c>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${c}`)}return Promise.all(t.map(i))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function bte(t,e){e==null&&(e={});const n=e.fetchFunc==null?Le().platform.fetch:e.fetchFunc,r=t.map(A=>n(A,e.requestInit,{isBinary:!0})),a=(e.onProgress==null?await Promise.all(r):await MH(r,e.onProgress,0,.5)).map(A=>A.arrayBuffer());return e.onProgress==null?await Promise.all(a):await MH(a,e.onProgress,.5,1)}function PPe(t,e){var n;const r=e.fetchFunc==null?Le().platform.fetch:e.fetchFunc;let s=0,i;return(n=e.onProgress)===null||n===void 0||n.call(e,0),new ReadableStream({pull:async o=>{for(var a;s<t.length;){i||(i=(await r(t[s],e.requestInit,{isBinary:!0})).body.getReader());const{done:l,value:c}=await i.read();if(l){s++,i=void 0,(a=e.onProgress)===null||a===void 0||a.call(e,s/t.length);continue}o.enqueue(c);return}o.close()}})}async function RPe(t,e="",n,r){return Cte(o=>bte(o,{requestInit:r}))(t,e,n)}function Cte(t){return async(e,n="",r)=>{const s=e.map(()=>!1),i={},o=r!=null?r.map(()=>!1):[],a=[];if(e.forEach((h,p)=>{let m=0;h.weights.forEach(y=>{const g="quantization"in y?y.quantization.dtype:y.dtype,v=ym[g]*Oe(y.shape),b=()=>{s[p]=!0,i[p]==null&&(i[p]=[]),i[p].push({manifestEntry:y,groupOffset:m,sizeBytes:v})};r!=null?r.forEach((C,_)=>{C===y.name&&(b(),o[_]=!0)}):b(),a.push(y.name),m+=v})}),!o.every(h=>h)){const h=r.filter((p,m)=>!o[m]);throw new Error(`Could not find weights in manifest with names: ${h.join(", ")}. 
Manifest JSON has weights with names: ${a.join(", ")}.`)}const l=s.reduce((h,p,m)=>(p&&h.push(m),h),[]),c=[];l.forEach(h=>{e[h].paths.forEach(p=>{const m=n+(n.endsWith("/")?"":"/")+p;c.push(m)})});const u=await t(c),A={};let d=0;return l.forEach(h=>{const p=e[h].paths.length,m=new xu(u.slice(d,d+p));i[h].forEach(g=>{const v=m.slice(g.groupOffset,g.groupOffset+g.sizeBytes),b=ree(v,[g.manifestEntry]);for(const C in b)A[C]=b[C]}),d+=p}),A}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OPe="application/octet-stream",$Pe="application/json";class MO{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(ee(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=Le().platform.fetch,ee(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&ee(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{},this.loadOptions=n}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],s=aee(e,r);if(n.body.append("model.json",new Blob([JSON.stringify(s)],{type:$Pe}),"model.json"),e.weightData!=null){const o=xu.join(e.weightData);n.body.append("model.weights.bin",new Blob([o],{type:OPe}),"model.weights.bin")}const i=await this.fetch(this.path,n);if(i.ok)return{modelArtifactsInfo:c2(e),responses:[i]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${i.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let o=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?o+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":o+=" Please make sure the server is serving valid JSON for this request.",new Error(o)}const r=n.modelTopology,s=n.weightsManifest;if(r==null&&s==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return n}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const e=await this.loadModelJSON();return bR(e,n=>this.loadWeights(n))}async loadStream(){const e=await this.loadModelJSON(),n=await this.getWeightUrls(e.weightsManifest),r=D_(e.weightsManifest),s=()=>PPe(n,this.loadOptions);return Object.assign(Object.assign({},e),{weightSpecs:r,getWeightStream:s})}async getWeightUrls(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,s]=UPe(n),i=this.weightPathPrefix||r,o=[],a=[];for(const l of e)for(const c of l.paths)this.weightUrlConverter!=null?a.push(this.weightUrlConverter(c)):o.push(i+c+s);return this.weightUrlConverter&&o.push(...await Promise.all(a)),o}async loadWeights(e){const n=await this.getWeightUrls(e),r=D_(e),s=await bte(n,this.loadOptions);return[r,s]}}MO.URL_SCHEME_REGEX=/^https?:\/\//;function UPe(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),r=t.substring(0,e),s=n>e?t.substring(n):"";return[r+"/",s]}function nL(t){return t.match(MO.URL_SCHEME_REGEX)!=null}const Ste=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(r=>nL(r)):n=nL(t),n)return QO(t,e)}return null};Zr.registerSaveRouter(Ste);Zr.registerLoadRouter(Ste);function QO(t,e){return new MO(t,e)}function MPe(t,e){return QO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class H5{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class Bte{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class QPe{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function jPe(t,e,n,r){const s=arguments;return new QPe(R_(...s))}function R_(t,e,n,r){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new H5(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new H5({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new H5({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))}function HPe(t){return new Bte(t)}function zPe(t){return new Bte(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jO=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:xu,browserFiles:DPe,browserHTTPRequest:MPe,concatenateArrayBuffers:oee,copyModel:b5e,decodeWeights:ree,decodeWeightsStream:iee,encodeWeights:K3,fromMemory:jPe,fromMemorySync:R_,getLoadHandlers:l5e,getModelArtifactsForJSON:bR,getModelArtifactsForJSONSync:xR,getModelArtifactsInfoForJSON:c2,getSaveHandlers:lee,getWeightSpecs:D_,http:QO,isHTTPScheme:nL,listModels:v5e,loadWeights:RPe,moveModel:C5e,registerLoadRouter:a5e,registerSaveRouter:o5e,removeModel:x5e,weightsLoaderFactory:Cte,withSaveHandler:HPe,withSaveHandlerSync:zPe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VPe(t,e,n){const r=ie(t,"labels","confusionMatrix"),s=ie(e,"predictions","confusionMatrix");ee(n==null||n>0&&Number.isInteger(n),()=>`If provided, numClasses must be a positive integer, but got ${n}`),ee(r.rank===1,()=>`Expected the rank of labels to be 1, but got ${r.rank}`),ee(s.rank===1,()=>`Expected the rank of predictions to be 1, but got ${s.rank}`),ee(r.shape[0]===s.shape[0],()=>`Mismatch in the number of examples: ${r.shape[0]} vs. ${s.shape[0]}. Labels and predictions should have the same number of elements.`),ee(n>0&&Number.isInteger(n),()=>`numClasses is required to be a positive integer, but got ${n}`);const i=iy(ot(r,"int32"),n),o=iy(ot(s,"int32"),n),a=Fn(i),l=Sn(a,o);return ot(l,"int32")}const WPe=ye({confusionMatrix_:VPe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GPe=Object.freeze(Object.defineProperty({__proto__:null,confusionMatrix:WPe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let up,QH=!1;function _te(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,s=!1,i=!1,o=!1,a=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)s=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)i=!0;else if(t.getContext!=null)o=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)a=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(mx(T_,ge.backendName)!=null){const p={pixels:t},m={numChannels:e};return ge.runKernel(T_,p,m)}const[c,u]=s?[t.videoWidth,t.videoHeight]:[t.width,t.height];let A;if(o)A=t.getContext("2d").getImageData(0,0,c,u).data;else if(r||n)A=t.data;else if(i||s||a){if(up==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")up=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else up=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});up.canvas.width=c,up.canvas.height=u,up.drawImage(t,0,0,c,u),A=up.getImageData(0,0,c,u).data}let d;if(e===4)d=new Int32Array(A);else{const p=c*u;d=new Int32Array(p*e);for(let m=0;m<p;m++)for(let y=0;y<e;++y)d[m*e+y]=A[m*4+y]}return CO(d,[u,c,e],"int32")}function KPe(t){return t!=null&&t.data instanceof Uint8Array}function qPe(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}function XPe(t){return t!=null&&t.width!==0&&t.height!==0}function YPe(t){return qPe()&&!(t instanceof ImageBitmap)&&XPe(t)&&!KPe(t)}async function ZPe(t,e=3){let n=null;if(Le().getBool("WRAP_TO_IMAGEBITMAP")&&YPe(t)){let r;try{r=await createImageBitmap(t,{premultiplyAlpha:"none"})}catch{r=null}r!=null&&r.width===t.width&&r.height===t.height?n=r:n=t}else n=t;return _te(n,e)}function Nte(t){if(t.rank!==2&&t.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${t.rank}.`);const e=t.rank===2?1:t.shape[2];if(e>4||e===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${e}`);if(t.dtype!=="float32"&&t.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${t.dtype}. Please use float32 or int32 tensors.`)}function JPe(t){const e=(t==null?void 0:t.alpha)||1;if(e>1||e<0)throw new Error(`Alpha value ${e} is suppoed to be in range [0 - 1].`)}async function eRe(t,e){let n=ie(t,"img","toPixels");if(!(t instanceof nr)){const c=n;n=ot(c,"int32"),c.dispose()}Nte(n);const[r,s]=n.shape.slice(0,2),i=n.rank===2?1:n.shape[2],o=await n.data(),a=n.dtype==="float32"?255:1,l=new Uint8ClampedArray(s*r*4);for(let c=0;c<r*s;++c){const u=[0,0,0,255];for(let d=0;d<i;d++){const h=o[c*i+d];if(n.dtype==="float32"){if(h<0||h>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${h}.`)}else if(n.dtype==="int32"&&(h<0||h>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${h}.`);i===1?(u[0]=h*a,u[1]=h*a,u[2]=h*a):u[d]=h*a}const A=c*4;l[A+0]=Math.round(u[0]),l[A+1]=Math.round(u[1]),l[A+2]=Math.round(u[2]),l[A+3]=Math.round(u[3])}if(e!=null){QH||mx(_I,ge.backendName)!=null&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),QH=!0),e.width=s,e.height=r;const c=e.getContext("2d"),u=new ImageData(l,s,r);c.putImageData(u,0,0)}return n!==t&&n.dispose(),l}function tRe(t,e,n){let r=ie(t,"img","draw");if(!(t instanceof nr)){const o=r;r=ot(o,"int32"),o.dispose()}Nte(r),JPe(n==null?void 0:n.imageOptions);const s={image:r},i={canvas:e,options:n};ge.runKernel(_I,s,i)}const nRe=ye({fromPixels_:_te}),rRe=Object.freeze(Object.defineProperty({__proto__:null,draw:tRe,fromPixels:nRe,fromPixelsAsync:ZPe,toPixels:eRe},Symbol.toStringTag,{value:"Module"}));function JE(t,e){const n=t.shape.length,r=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[r-1]} vs. ${n}`);if(Oe(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const s=e.shape,i=s[s.length-1];let o=1;for(let A=0;A<s.length-1;++A)o*=s[A];const a=t.shape,l=s.slice();l.pop();let c=1;for(let A=i;A<n;++A)c*=a[A],l.push(a[A]);const u=[...Qt(t.shape).map(A=>A/c),1].slice(0,i);return[l,o,c,u]}const sRe=Object.freeze(Object.defineProperty({__proto__:null,prepareAndValidate:JE},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rL=-2,iRe=-1;function HO(t,e,n){const r=t.shape.length;ee(r===e.length,()=>`Error in slice${r}D: Length of begin ${e} must match the rank of the array (${r}).`),ee(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let s=0;s<r;++s)ee(e[s]+n[s]<=t.shape[s],()=>`Error in slice${r}D: begin[${s}] + size[${s}] (${e[s]+n[s]}) would overflow input.shape[${s}] (${t.shape[s]})`)}function oRe(t){const e=[];let n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function zO(t,e,n){const r=[];for(let s=0;s<t.length;s++)r[s]=Math.ceil((e[s]-t[s])/n[s]);return r}function Ite(t,e,n,r){const s=[...t];for(let i=s.length;i<r.length;i++)s.push(1);for(let i=0;i<n;i++)i===0?s[e]=1:(s.splice(e,0,1),s.pop());return s}function Ete(t,e,n){return n<=t?n:n-(e-1)}function kte(t,e){const n=[];for(let r=0;r<t;r++)n.push(e+r);return n}function aRe(t,e,n,r,s,i,o,a,l){const c=t.length;let u=new Array(c),A=new Array(c),d=new Array(c);if(e.length&&n>0){const h=e[0],p=n+1;u=Tte(o,h,p,r,t),A=Fte(a,h,p,s,t),d=Ite(i,h,p,t)}else for(let h=0;h<c;h++)u[h]=Dte(o,r,i,t,h,l),A[h]=Pte(a,s,i,t,h,l),d[h]=Lte(i,h,l);return{begin:u,end:A,strides:d}}function Tte(t,e,n,r,s){const i=[...s],o=kte(n,e);for(let a=0;a<i.length;a++)if(o.indexOf(a)>-1)i[a]=0;else{const l=Ete(e,n,a);let c=r[l];t&1<<l&&(c=0),i[a]=c}return i}function Fte(t,e,n,r,s){const i=[...s],o=kte(n,e);for(let a=0;a<i.length;a++)if(o.indexOf(a)>-1)i[a]=Number.MAX_SAFE_INTEGER;else{const l=Ete(e,n,a);let c=r[l];t&1<<l&&(c=Number.MAX_SAFE_INTEGER),i[a]=c}for(let a=0;a<i.length;a++){const l=s[a];i[a]<0&&(i[a]+=l),i[a]=Af(0,i[a],s[a])}return i}function Lte(t,e,n){let r=t[e];return(n&1<<e||r==null)&&(r=1),r}function Dte(t,e,n,r,s,i){let o=e[s];const a=n[s]||1;(t&1<<s||i&1<<s||o==null)&&(a>0?o=Number.MIN_SAFE_INTEGER:o=Number.MAX_SAFE_INTEGER);const l=r[s];return o<0&&(o+=l),o=Af(0,o,l-1),o}function Pte(t,e,n,r,s,i){let o=e[s];const a=n[s]||1;(t&1<<s||i&1<<s||o==null)&&(a>0?o=Number.MAX_SAFE_INTEGER:o=Number.MIN_SAFE_INTEGER);const l=r[s];return o<0&&(o+=l),a>0?o=Af(0,o,l):o=Af(-1,o,l-1),o}function VO(t,e,n){let r=n.length;for(let s=0;s<n.length;s++)if(n[s]>1){r=s;break}for(let s=r+1;s<n.length;s++)if(e[s]>0||n[s]!==t[s])return!1;return!0}function WO(t,e){let n=t.length>0?t[t.length-1]:1;for(let r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function ek(t,e,n){let r;const s=t.shape.length;typeof e=="number"?r=[e,...new Array(s-1).fill(0)]:e.length<s?r=e.concat(new Array(s-e.length).fill(0)):r=e.slice(),r.forEach(o=>{ee(o!==-1,()=>"slice() does not support negative begin indexing.")});let i;return n==null?i=new Array(s).fill(-1):typeof n=="number"?i=[n,...new Array(s-1).fill(-1)]:n.length<s?i=n.concat(new Array(s-n.length).fill(-1)):i=n,i=i.map((o,a)=>o>=0?o:(ee(o===-1,()=>`Negative size values should be exactly -1 but got ${o} for the slice() size at index ${a}.`),t.shape[a]-r[a])),[r,i]}function GO(t,e,n,r,s,i,o,a,l){let c;if(r==null?(c=new Array(e.length),c.fill(1)):c=r,o!=null&&o&o-1)throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const A={dims:c.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:c.slice(),beginMask:s,endMask:i,ellipsisMask:o,newAxisMask:a,shrinkAxisMask:l};for(let b=0;b<A.dims;b++)u&&1<<b&a&&A.numAddAxisAfterEllipsis++,1<<b&o&&(u=!0);u||(A.ellipsisMask|=1<<A.dims,A.dims++);const d={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};lRe(A,d);let h=!0,p=!0,m=!0;const y=[],g=[];for(let b=0;b<t.length;++b){if(d.strides[b]===0)throw Error(`strides[${b}] must be non-zero`);const C=!!(d.shrinkAxisMask&1<<b),_=t[b];if(_===-1){y.push(C?1:-1);continue}const I=[d.beginMask&1<<b,d.endMask&1<<b],F=[d.strides[b]>0?0:-1,d.strides[b]>0?_:_-1];if(C&&d.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&d.strides[b]===1;const T=!!(d.beginMask&1<<b&&d.endMask&1<<b);if(d.beginValid&&d.endValid){if(C){const U=d.begin[b]<0?_+d.begin[b]:d.begin[b];if(d.begin[b]=U,d.end[b]=d.begin[b]+1,U<0||U>=_)throw Error(`slice index ${d.begin[b]} of dimension ${b} out of bounds.`)}else d.begin[b]=jH(d.begin[b],0,d.strides[b],_,I,F),d.end[b]=jH(d.end[b],1,d.strides[b],_,I,F);const R=d.strides[b]===1&&d.begin[b]===0&&d.end[b]===_;h=h&&R,p=p&&(b===0&&d.strides[b]===1||R)}else h=h&&d.strides[b]===1&&T,p=p&&(b===0&&d.strides[b]===1||T);let D,H=!1;if(d.beginValid&&d.endValid?(D=d.end[b]-d.begin[b],H=!0):C?(D=1,H=!0):T&&_>=0&&(d.strides[b]<0?D=-_:D=_,H=!0),H){let R;D===0||D<0!=d.strides[b]<0?R=0:R=Math.trunc(D/d.strides[b])+(D%d.strides[b]!==0?1:0),y.push(R)}else y.push(-1)}for(let b=0;b<d.finalShapeGatherIndices.length;++b){const C=d.finalShapeGatherIndices[b];C>=0?g.push(y[C]):C===rL&&g.push(1)}return{finalShapeSparse:g.filter((b,C)=>d.finalShapeGatherIndices[C]!==rL),finalShape:g,isIdentity:h,sliceDim0:p,isSimpleSlice:m,begin:d.begin,end:d.end,strides:d.strides}}function lRe(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let r=0;r<t.dims;r++)if(1<<r&t.ellipsisMask){const s=Math.min(e.dims-(t.dims-r)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<s;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&t.newAxisMask)e.finalShapeGatherIndices.push(rL),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[r]),t.end!=null&&(e.end[n]=t.end[r]),e.strides[n]=t.strides[r],t.beginMask&1<<r&&(e.beginMask|=1<<n),t.endMask&1<<r&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<r?(e.finalShapeGatherIndices.push(iRe),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(r)),e.inputShapeGatherIndicesSparse[n]=r,n++}}function jH(t,e,n,r,s,i){if(s[e])return n>0?i[e]:i[e+1&1];{const o=t<0?r+t:t;return o<i[0]?i[0]:o>i[1]?i[1]:o}}const Rte=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:HO,computeFlatOffset:WO,computeOutShape:zO,getNormalizedAxes:aRe,isSliceContinous:VO,maskToAxes:oRe,parseSliceParams:ek,sliceInfo:GO,startForAxis:Dte,startIndicesWithElidedDims:Tte,stopForAxis:Pte,stopIndicesWithElidedDims:Fte,stridesForAxis:Lte,stridesWithElidedDims:Ite},Symbol.toStringTag,{value:"Module"}));/** @license See the LICENSE file. */const cRe="4.22.0";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ote{static sgd(e){return new ZE(e)}static momentum(e,n,r=!1){return new $O(e,n,r)}static rmsprop(e,n=.9,r=0,s=null,i=!1){return new UO(e,n,r,s,i)}static adam(e=.001,n=.9,r=.999,s=null){return new RO(e,n,r,s)}static adadelta(e=.001,n=.95,r=null){return new DO(e,n,r)}static adamax(e=.002,n=.9,r=.999,s=null,i=0){return new OO(e,n,r,s,i)}static adagrad(e,n=.1){return new PO(e,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wp=Ote;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uRe=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t();function KO(){return new Promise(t=>uRe(()=>t()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qO(t,e){const n=t[0].length;t.forEach((s,i)=>{ee(s.length===n,()=>`Error in concat${n}D: rank of tensors[${i}] must be the same as the rank of the rest (${n})`)}),ee(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=t[0];t.forEach((s,i)=>{for(let o=0;o<n;o++)ee(o===e||s[o]===r[o],()=>`Error in concat${n}D: Shape of tensors[${i}] (${s}) does not match the shape of the rest (${r}) along the non-concatenated axis ${i}.`)})}function dA(t,e){const n=t[0].slice();for(let r=1;r<t.length;r++)n[e]+=t[r][e];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Yc;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(Yc||(Yc={}));function $te(t,e,n){let r=new Array;if(n==null&&e==null)return r;if(e==null)for(;r.length<t+n.length;)r.push(-1);else r=e.slice();if(n==null)return r;if(t+n.length!==r.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${r.length}`);for(let s=1;s<n.length;++s){const i=n[s],o=r[r.length-n.length+s],a=r[o];if(i>=0)if(a>=0){if(a!==i)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${s+t}] = ${i} but shape[${s+t}] = ${a}`)}else r[o]=i}return r}function Ute(t){const e={FIRST_DIM_SIZE:Yc.FIRST_DIM_SIZE,VALUE_ROWIDS:Yc.VALUE_ROWIDS,ROW_LENGTHS:Yc.ROW_LENGTHS,ROW_SPLITS:Yc.ROW_SPLITS,ROW_LIMITS:Yc.ROW_LIMITS,ROW_STARTS:Yc.ROW_STARTS},n=[];for(const r of t)if(r in e)n.push(e[r]);else break;return n}function Mte(t){return t.length===0?0:t[0]===Yc.FIRST_DIM_SIZE?t.length-1:t.length}function Qte(t,e){if(t==null||e==null)return;const n=t.length,r=e.length;if(n>=r)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let s=0;s<Math.min(n,r-1);++s){const i=t[s],o=e[s+1];if(i>=0&&o>=0&&i!==1&&i!==o)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${s-t.length}] = ${i} but ragged tensor input.flatValues.shape[${s-t.length}] = ${o}`)}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XO=30;function tk(t){return t<=XO?t:I_(t,Math.floor(Math.sqrt(t)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YO(t,e,n){const r=n*(typeof t=="number"?t:t[0]),s=e*(typeof t=="number"?t:t[1]);return[r,s]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I2(t,e,n,r=!0){let s=[];if(r)s=s.concat(e.slice(0)),s.push(t[0]/n),s=s.concat(t.slice(1));else{s=s.concat(t[0]);const i=e.length;for(let o=0;o<i;++o)s=s.concat([t[o+1]/e[o],e[o]]);s=s.concat(t.slice(i+1))}return s}function E2(t,e,n=!0){const r=[];if(n){r.push(e);for(let s=e+1;s<t;++s)s<=2*e?(r.push(s),r.push(s-(e+1))):r.push(s)}else{const s=[],i=[];for(let o=1;o<t;++o)o>=e*2+1||o%2===1?i.push(o):s.push(o);r.push(...s),r.push(0),r.push(...i)}return r}function k2(t,e,n,r=!0){const s=[];r?s.push(t[0]/n):s.push(t[0]*n);for(let i=1;i<t.length;++i)i<=e.length?r?s.push(e[i-1]*t[i]):s.push(t[i]/e[i-1]):s.push(t[i]);return s}function ZO(t,e){const n=[0];for(let r=0;r<e;++r)n.push(t[r][0]);return n}function JO(t,e,n){const r=t.slice(0,1);for(let s=0;s<n;++s)r.push(t[s+1]-e[s][0]-e[s][1]);return r}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nk=1.7580993408473768,rk=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e$=.3275911,t$=.254829592,n$=-.284496736,r$=1.421413741,s$=-1.453152027,i$=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cd(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(t.length*2);for(let r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function jte(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}function Hte(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let s=0;s<t.length;s+=4)n[Math.floor(s/4)]=t[s],r[Math.floor(s/4)]=t[s+1];return{real:n,imag:r}}function zte(t){const e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let s=2;s<t.length;s+=4)n[Math.floor(s/4)]=t[s],r[Math.floor(s/4)]=t[s+1];return{real:n,imag:r}}function o$(t,e){const n=t[e*2],r=t[e*2+1];return{real:n,imag:r}}function Vte(t,e,n,r){t[r*2]=e,t[r*2+1]=n}function Wte(t,e){const n=new Float32Array(t/2),r=new Float32Array(t/2);for(let s=0;s<Math.ceil(t/2);s++){const i=(e?2:-2)*Math.PI*(s/t);n[s]=Math.cos(i),r[s]=Math.sin(i)}return{real:n,imag:r}}function Gte(t,e,n){const r=(n?2:-2)*Math.PI*(t/e),s=Math.cos(r),i=Math.sin(r);return{real:s,imag:i}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z5="->",ARe=/->/g,HH=",",zH="...";function a$(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(ARe,"").length)/z5.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${z5}").`);const[r,s]=t.split(z5);ee(r.indexOf(zH)===-1,()=>`The ellipsis notation ("${zH}") is not supported yet.`);const i=r.split(HH),o=i.length;if(e!==o)throw new Error(`Expected ${o} input tensors, received ${e}`);if(o>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const a=[];for(let d=0;d<s.length;++d){const h=s[d];if(!i.some(p=>p.indexOf(h)!==-1))throw new Error(`Output subscripts contain the label ${h} not present in the input subscripts.`);a.indexOf(h)===-1&&a.push(h)}for(let d=0;d<r.length;++d){const h=r[d];a.indexOf(h)===-1&&h!==HH&&a.push(h)}const l=new Array(i.length);for(let d=0;d<o;++d){if(new Set(i[d].split("")).size!==i[d].length)throw new Error(`Found duplicate axes in input component ${i[d]}. Support for duplicate axes in input is not implemented yet.`);l[d]=[];for(let h=0;h<i[d].length;++h)l[d].push(a.indexOf(i[d][h]))}const c=a.length,u=s.length,A=[];for(let d=u;d<c;++d)A.push(d);return{allDims:a,summedDims:A,idDims:l}}function l$(t,e){let n=new Array(t);n.fill(-1);for(let s=0;s<e.length;++s)n[e[s]]=s;const r=[];for(let s=0;s<t;++s)n[s]===-1&&r.push(s);return n=n.filter(s=>s!==-1),{permutationIndices:n,expandDims:r}}function c$(t,e,n){const r=new Array(t);for(let s=0;s<n.length;++s){const i=n[s].shape;for(let o=0;o<e[s].length;++o)r[e[s][o]]===void 0?r[e[s][o]]=i[o]:ee(r[e[s][o]]===i[o],()=>`Expected dimension ${r[e[s][o]]} at axis ${o} of input shaped ${JSON.stringify(i)}, but got dimension ${i[o]}`)}}function u$(t,e){const n=t,r=[];let s=0;t.length===0&&n.push(-1),s=t.length+1;for(let o=0;o<s;++o)r.push([]);const i=[];for(let o=0;o<n.length;++o){const a=n[o],l=dRe(e,a);for(const c of l)i.indexOf(c)===-1&&(r[o].push(c),i.push(c))}return{path:n,steps:r}}function A$(t){return t.every((e,n)=>e===n)}function dRe(t,e){const n=[];for(let r=0;r<t.length;++r)(t[r].length===0||t[r].indexOf(e)!==-1||e===-1)&&n.push(r);return n}function d$(t,e,n=0){let r=[];if(typeof e=="number")ee(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),r=new Array(e).fill(t.shape[n]/e);else{const s=e.reduce((o,a)=>(a===-1&&(o+=1),o),0);ee(s<=1,()=>"There should be only one negative value in split array.");const i=e.indexOf(-1);if(i!==-1){const o=e.reduce((a,l)=>l>0?a+l:a);e[i]=t.shape[n]-o}ee(t.shape[n]===e.reduce((o,a)=>o+a),()=>"The sum of sizes must match the size of the axis dimension."),r=e}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kte(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function qte(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function Xte(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yte(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function Zte(t,e){return`size ${t} must be non-negative, not ${e}`}function Jte(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function ene(t,e){const n=Oe(t),r=Oe(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${t} outputShape= ${e}`}function tne(t,e){const n=Oe(t),r=Oe(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${t} outputShape=${e}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sL(){return"segment ids must be >= 0"}function nne(){return"segment ids are not increasing"}function rne(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function sne(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ine(t,e){let n=!1,r;for(t<=XO?(r=t,n=!0):r=I_(t,Math.floor(Math.sqrt(t)));!n;)r>e||r===t?n=!0:r=I_(t,r+1);return r}function one(t,e,n){const r=[],s=t.length;for(let i=0;i<s;i++)i!==e?r.push(t[i]):r.push(n);return r}function h$(t,e,n,r){const s=e.shape.length,i=t.shape.length;if(r!==0&&(r<-s||r>s))throw new Error(`Expect batchDims in the range of [-${s}, ${s}], but got ${r}`);if(r<0&&(r+=s),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${i}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let A=0;A<r;++A)if(t.shape[A]!==e.shape[A])throw new Error(`x.shape[${A}]: ${t.shape[A]} should be equal to indices.shape[${A}]: ${e.shape[A]}.`);const o=t.shape[n],a=[];let l=1,c=1,u=1;for(let A=0;A<r;++A)a.push(t.shape[A]),l*=t.shape[A];for(let A=r;A<n;A++)a.push(t.shape[A]),c*=t.shape[A];for(let A=r;A<s;A++)a.push(e.shape[A]);for(let A=n+1;A<i;A++)a.push(t.shape[A]),u*=t.shape[A];return{batchSize:l,sliceSize:u,outerSize:c,dimSize:o,outputShape:a}}const hRe=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:h$,computeOutShape:one,segOpComputeOptimalWindowSize:ine},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sd(t){try{return t.map(e=>vd(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function ane(t){return t.map(e=>uA(e))}const lne=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:t$,ERF_A2:n$,ERF_A3:r$,ERF_A4:s$,ERF_A5:i$,ERF_P:e$,PARALLELIZE_THRESHOLD:XO,get RowPartitionType(){return Yc},SELU_SCALE:rk,SELU_SCALEALPHA:nk,applyActivation:GE,assertAndGetBroadcastShape:un,assertAxesAreInnerMostDims:Di,assertParamsConsistent:qO,assignToTypedArray:Vte,axesAreInnerMostDims:XR,calculateShapes:Uf,checkEinsumDimSizes:c$,checkPadOnDimRoundingMode:No,combineLocations:Cee,combineRaggedTensorToTensorShapes:$te,complexWithEvenIndex:Hte,complexWithOddIndex:zte,computeConv2DInfo:wi,computeConv3DInfo:Df,computeDefaultPad:FR,computeDilation2DInfo:u2,computeOptimalWindowSize:tk,computeOutAndReduceShapes:vi,computeOutShape:dA,computePool2DInfo:cc,computePool3DInfo:Id,convertConv2DDataFormat:Ed,decodeEinsumEquation:a$,eitherStridesOrDilationsAreOne:Li,expandShapeToKeepDim:Ss,exponent:Gte,exponents:Wte,fromStringArrayToUint8:ane,fromUint8ToStringArray:Sd,getAxesPermutation:rs,getBroadcastDims:Cm,getComplexWithIndex:o$,getEinsumComputePath:u$,getEinsumPermutation:l$,getFusedBiasGradient:WE,getFusedDyActivation:VE,getImageCenter:YO,getInnerMostAxes:Bs,getPermuted:E2,getRaggedRank:Mte,getReductionAxes:js,getReshaped:I2,getReshapedPermuted:k2,getRowPartitionTypesHelper:Ute,getSliceBeginCoords:ZO,getSliceSize:JO,getSparseFillEmptyRowsIndicesDenseShapeMismatch:Kte,getSparseFillEmptyRowsNegativeIndexErrorMessage:qte,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:Xte,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:Jte,getSparseReshapeInputOutputMismatchErrorMessage:tne,getSparseReshapeInputOutputMultipleErrorMessage:ene,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:Yte,getSparseReshapeNegativeOutputDimErrorMessage:Zte,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:sne,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:sL,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:nne,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:rne,getUndoAxesPermutation:Pf,isIdentityPermutation:A$,log:oTe,mergeRealAndImagArrays:Cd,prepareAndValidate:JE,prepareSplitSize:d$,segment_util:hRe,shouldFuse:KE,slice_util:Rte,splitRealAndImagArrays:jte,stridesOrDilationsArePositive:bm,tupleValuesAreOne:pf,upcastType:Xo,validateDefaultValueShape:Qte,validateInput:ME,validateUpdateShape:SO,warn:sl},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fRe=Object.freeze(Object.defineProperty({__proto__:null,nonMaxSuppressionV3Impl:qE,nonMaxSuppressionV4Impl:XE,nonMaxSuppressionV5Impl:YE,whereImpl:HE},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */NPe();const pRe=Object.freeze(Object.defineProperty({__proto__:null,Abs:ib,Acos:Fy,Acosh:Ly,AdadeltaOptimizer:DO,AdagradOptimizer:PO,AdamOptimizer:RO,AdamaxOptimizer:OO,Add:Hm,AddN:ob,All:cI,Any:uI,ArgMax:ab,ArgMin:lb,Asin:Dy,Asinh:Py,Atan:Ry,Atan2:$y,Atanh:Oy,AvgPool:cb,AvgPool3D:ub,AvgPool3DGrad:dI,AvgPoolGrad:AI,BatchMatMul:Ab,BatchToSpaceND:db,Bincount:hI,BitwiseAnd:hb,BroadcastArgs:fI,BroadcastTo:PJ,Cast:Uy,Ceil:My,ClipByValue:Qy,Complex:pI,ComplexAbs:fb,Concat:pb,Conv2D:mb,Conv2DBackpropFilter:mI,Conv2DBackpropInput:gb,Conv3D:yb,Conv3DBackpropFilterV2:gI,Conv3DBackpropInputV2:yI,Cos:jy,Cosh:Hy,CropAndResize:vI,Cumprod:wI,Cumsum:wb,DataStorage:iR,DenseBincount:xI,DepthToSpace:bI,DepthwiseConv2dNative:vb,DepthwiseConv2dNativeBackpropFilter:CI,DepthwiseConv2dNativeBackpropInput:SI,Diag:BI,Dilation2D:xb,Dilation2DBackpropFilter:k_,Dilation2DBackpropInput:E_,Draw:_I,get ENV(){return uR},Einsum:NI,Elu:Vy,EluGrad:II,Environment:LJ,Equal:bb,Erf:Wy,Exp:Gy,ExpandDims:Cb,Expm1:Ky,FFT:EI,Fill:kI,FlipLeftRight:TI,Floor:qy,FloorDiv:Xy,FromPixels:T_,FusedBatchNorm:Sb,FusedConv2D:hx,FusedDepthwiseConv2D:fx,GatherNd:FI,GatherV2:Bb,Greater:_b,GreaterEqual:Yy,IFFT:LI,Identity:Zy,Imag:DI,IsFinite:Jy,IsInf:e1,IsNan:t1,KernelBackend:oI,LRN:Lb,LRNGrad:RI,LeakyRelu:Nb,Less:Ib,LessEqual:Eb,LinSpace:PI,Log:n1,Log1p:r1,LogSoftmax:RJ,LogicalAnd:kb,LogicalNot:Tb,LogicalOr:Fb,LogicalXor:tTe,LowerBound:nTe,MatrixBandPart:rTe,Max:Db,MaxPool:Pb,MaxPool3D:Rb,MaxPool3DGrad:$I,MaxPoolGrad:OI,MaxPoolWithArgmax:UI,Maximum:s1,Mean:Ob,Min:$b,Minimum:i1,MirrorPad:Ub,Mod:o1,MomentumOptimizer:$O,Multinomial:MI,Multiply:a1,Neg:Mb,NonMaxSuppressionV3:QI,NonMaxSuppressionV4:jI,NonMaxSuppressionV5:HI,NotEqual:Qb,OP_SCOPE_SUFFIX:gR,OneHot:Hb,OnesLike:jb,Optimizer:Ld,OptimizerConstructors:Ote,Pack:zb,PadV2:Vb,Pool:sTe,Pow:l1,Prelu:Wb,Prod:Gb,RMSPropOptimizer:UO,RaggedGather:zI,RaggedRange:VI,RaggedTensorToTensor:WI,Range:GI,get Rank(){return Q3},Real:KI,RealDiv:zy,Reciprocal:c1,get Reduction(){return Co},Relu:u1,Relu6:A1,Reshape:Kb,ResizeBilinear:Xb,ResizeBilinearGrad:XI,ResizeNearestNeighbor:qb,ResizeNearestNeighborGrad:qI,Reverse:Yb,RotateWithOffset:hE,Round:d1,Rsqrt:h1,SGDOptimizer:ZE,ScatterNd:YI,SearchSorted:JI,Select:Zb,Selu:f1,Sigmoid:y1,Sign:g1,Sin:p1,Sinh:m1,Slice:Jb,Softmax:r2,Softplus:w1,SpaceToBatchND:t2,SparseFillEmptyRows:eE,SparseReshape:tE,SparseSegmentMean:nE,SparseSegmentSum:rE,SparseToDense:sE,SplitV:n2,Sqrt:v1,Square:iE,SquaredDifference:x1,StaticRegexReplace:s2,Step:_1,StridedSlice:oE,StringNGrams:aE,StringSplit:lE,StringToHashBucketFast:cE,Sub:b1,Sum:e2,Tan:C1,Tanh:S1,Tensor:nr,TensorBuffer:Qs,TensorScatterUpdate:ZI,Tile:B1,TopK:uE,Transform:AE,Transpose:Jp,Unique:dE,Unpack:i2,UnsortedSegmentSum:o2,UpperBound:iTe,Variable:gx,ZerosLike:a2,_FusedMatMul:dx,abs:Ps,acos:SR,acosh:BR,add:qe,addN:mee,all:gE,any:wx,argMax:xm,argMin:_R,asin:NR,asinh:IR,atan:ER,atan2:kR,atanh:TR,avgPool:A2,avgPool3d:LR,backend:wR,backend_util:lne,basicLSTMCell:gee,batchNorm:N1,batchNorm2d:DR,batchNorm3d:PR,batchNorm4d:RR,batchToSpaceND:d2,bincount:OR,bitwiseAnd:yee,booleanMaskAsync:rte,broadcastArgs:wee,broadcastTo:em,broadcast_util:$Fe,browser:rRe,buffer:yn,cast:ot,ceil:$R,clipByValue:Zo,clone:AA,complex:xd,concat:Cs,concat1d:UR,concat2d:MR,concat3d:QR,concat4d:jR,conv1d:yE,conv2d:bd,conv2dTranspose:wE,conv3d:zR,conv3dTranspose:VR,copyRegisteredKernels:cTe,cos:h2,cosh:vE,cosineWindow:zE,cumprod:bx,cumsum:xE,customGrad:xA,denseBincount:P_,deprecationWarn:jTe,depthToSpace:WR,depthwiseConv2d:I1,device_util:RTe,diag:xee,dilation2d:GR,disableDeprecationWarnings:QTe,dispose:Bn,disposeVariables:HTe,div:Rt,divNoNan:KR,dot:qR,dropout:EO,einsum:Cp,elu:E1,enableDebugMode:MTe,enableProdMode:UTe,enclosingPowerOfTwo:kO,engine:Vc,ensureShape:bee,env:Le,equal:lc,erf:bE,euclideanNorm:YR,exp:Jo,expandDims:Gi,expm1:ZR,eye:CE,fft:_2,fill:Vm,findBackend:KTe,findBackendFactory:qTe,floor:T1,floorDiv:mE,fused:dte,gather:F1,gatherND:ate,gather_util:sRe,getBackend:nee,getGradient:$3,getKernel:mx,getKernelsForBackend:F_,grad:x4e,grads:b4e,greater:ia,greaterEqual:kd,ifft:ly,imag:f2,image:eu,inTopKAsync:lte,io:jO,irfft:$E,isFinite:JR,isInf:eO,isNaN:tO,keep:Xs,kernel_impls:fRe,leakyRelu:p2,less:sy,lessEqual:Rf,linalg:LO,linspace:Bee,localResponseNormalization:nO,log:La,log1p:m2,logSigmoid:rO,logSoftmax:BE,logSumExp:g2,logicalAnd:Au,logicalNot:y2,logicalOr:_E,logicalXor:sO,losses:wte,lowerBound:Nee,matMul:Sn,math:GPe,max:fl,maxPool:w2,maxPool3d:iO,maxPoolWithArgmax:Iee,maximum:EA,mean:es,memory:G3,meshgrid:Eee,min:ry,minimum:gf,mirrorPad:oO,mod:aO,moments:v2,movingAverage:ste,mul:xe,multiRNNCell:kee,multinomial:Tee,neg:Er,nextFrame:KO,norm:k1,notEqual:Sm,oneHot:iy,ones:Go,onesLike:Da,op:ye,outerProduct:Fee,pad:Td,pad1d:Lee,pad2d:Dee,pad3d:Pee,pad4d:Ree,pool:lO,pow:vA,prelu:b2,print:CR,prod:cO,profile:zTe,raggedGather:Oee,raggedRange:$ee,raggedTensorToTensor:Uee,rand:Mee,randomGamma:zee,randomNormal:EE,randomStandardNormal:Vee,randomUniform:Of,randomUniformInt:Wee,range:Bm,ready:tee,real:oy,reciprocal:wO,registerBackend:yR,registerGradient:OJ,registerKernel:fE,relu:bu,relu6:kE,removeBackend:GTe,reshape:Se,reverse:ml,reverse1d:Gee,reverse2d:Kee,reverse3d:qee,reverse4d:Xee,rfft:N2,round:TE,rsqrt:FE,scalar:Ht,scatterND:ite,scatter_util:SLe,searchSorted:NE,selu:LE,separableConv2d:DE,serialization:BPe,setBackend:WTe,setPlatform:XTe,setdiff1dAsync:Yee,sigmoid:su,sign:vO,signal:yte,sin:PE,sinh:RE,slice:Dn,slice1d:C2,slice2d:OE,slice3d:S2,slice4d:ay,slice_util:Rte,softmax:B2,softplus:Wm,spaceToBatchND:x2,sparse:vte,sparseToDense:ote,spectral:gte,split:qo,sqrt:yi,square:gr,squaredDifference:UE,squeeze:$f,stack:ea,step:Km,stridedSlice:xO,string:xte,sub:wt,sum:It,sumOutType:pE,tan:bO,tanh:mf,tensor:rc,tensor1d:qi,tensor2d:B0,tensor3d:CO,tensor4d:Zee,tensor5d:Jee,tensor6d:ete,tensorScatterUpdate:tte,tensor_util:TTe,test_util:O3e,tidy:Te,tile:cl,time:VTe,topk:BO,train:wp,transpose:Fn,truncatedNormal:QE,unique:_O,unregisterGradient:lTe,unregisterKernel:aTe,unsortedSegmentSum:jE,unstack:gl,upcastType:Xo,upperBound:nte,util:yTe,valueAndGrad:C4e,valueAndGrads:S4e,variable:NO,variableGrads:_ee,version_core:cRe,where:ki,whereAsync:IO,zeros:Ms,zerosLike:Pn},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cne={kernelName:ib,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(t,Km(ot(n,"float32"),-1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mRe={kernelName:Fy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=gr(ot(n,"float32")),s=yi(wt(Ht(1),r));return Er(Rt(t,s))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gRe={kernelName:Ly,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=yi(wt(gr(ot(n,"float32")),1));return Rt(t,r)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yRe={kernelName:Hm,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=un(n.shape,r.shape);return{a:()=>{let a=t;const l=js(n.shape,s);return l.length>0&&(a=It(a,l)),Se(a,n.shape)},b:()=>{let a=t;const l=js(r.shape,s);return l.length>0&&(a=It(a,l)),Se(a,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wRe={kernelName:ob,saveAllInputs:!0,gradFunc:(t,e)=>{const n={};return e.forEach((r,s)=>{n[s]=()=>t.clone()}),n}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vRe={kernelName:ab,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Pn(n)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xRe={kernelName:lb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Pn(n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bRe={kernelName:Dy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Rt(t,yi(wt(Ht(1),gr(ot(n,"float32")))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CRe={kernelName:Py,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=yi(qe(Ht(1),gr(ot(n,"float32"))));return Rt(t,r)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SRe={kernelName:$y,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=un(n.shape,r.shape);return{a:()=>{const a=qe(gr(n),gr(r));let l=xe(t,Rt(r,a));const c=js(n.shape,s);return c.length>0&&(l=It(l,c)),Se(l,n.shape)},b:()=>{const a=qe(gr(n),gr(r));let l=Er(xe(t,Rt(n,a)));const c=js(r.shape,s);return c.length>0&&(l=It(l,c)),Se(l,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BRe={kernelName:Ry,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Rt(t,qe(gr(ot(n,"float32")),1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Re={kernelName:Oy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Rt(t,wt(Ht(1),gr(ot(n,"float32"))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NRe(t,e,n,r,s,i){const o=ie(t,"dy","avgPool3dGrad"),a=ie(e,"input","avgPool3dGrad");let l=o,c=a,u=!1;a.rank===4&&(u=!0,l=Se(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),c=Se(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),ee(l.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`),ee(c.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${c.rank}.`),No("avgPool3dGrad",s,i);const A={dy:l,input:c},d={filterSize:n,strides:r,pad:s,dimRoundingMode:i},h=ge.runKernel(dI,A,d);return u?Se(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const IRe=ye({avgPool3dGrad_:NRe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ERe={kernelName:ub,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{filterSize:s,strides:i,pad:o,dimRoundingMode:a}=n;return{x:()=>IRe(t,r,s,i,o,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kRe(t,e,n,r,s){const i=ie(t,"dy","avgPoolGrad"),o=ie(e,"input","avgPoolGrad");ee(o.rank===i.rank,()=>`Rank of input (${o.rank}) does not match rank of dy (${i.rank})`);let a=o,l=i,c=!1;o.rank===3&&(c=!0,a=Se(o,[1,o.shape[0],o.shape[1],o.shape[2]]),l=Se(i,[1,i.shape[0],i.shape[1],i.shape[2]])),ee(l.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`),ee(a.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${a.rank}.`);const u={dy:l,input:a},A={filterSize:n,strides:r,pad:s},d=ge.runKernel(AI,u,A);return c?Se(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const TRe=ye({avgPoolGrad_:kRe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FRe={kernelName:cb,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{filterSize:s,strides:i,pad:o}=n;return{x:()=>TRe(t,r,s,i,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LRe={kernelName:Ab,inputsToSave:["a","b"],gradFunc:(t,e,n)=>{const[r,s]=e,{transposeA:i,transposeB:o}=n;return!i&&!o?{a:()=>Sn(t,s,!1,!0),b:()=>Sn(r,t,!0,!1)}:!i&&o?{a:()=>Sn(t,s,!1,!1),b:()=>Sn(t,r,!0,!1)}:i&&!o?{a:()=>Sn(s,t,!1,!0),b:()=>Sn(r,t,!1,!1)}:{a:()=>Sn(s,t,!0,!0),b:()=>Sn(t,r,!0,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DRe={kernelName:db,gradFunc:(t,e,n)=>{const{blockShape:r,crops:s}=n;return{x:()=>x2(t,r,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PRe={kernelName:PJ,gradFunc:(t,e,n)=>{const r=n,s=r.inputShape,i=r.shape,o=Array.from(i);for(let l=s.length-1;l>=0;l--)if(s[l]===i[l])o[l]=1;else if(s[l]!==1)throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${i}].`);const a=[];for(let l=0;l<o.length;l++)o[l]>1&&a.push(l);return{x:()=>It(t,a,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RRe={kernelName:Uy,gradFunc:t=>({x:()=>t.clone()})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ORe={kernelName:My,gradFunc:t=>({x:()=>Pn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Re={kernelName:Qy,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{clipValueMin:s,clipValueMax:i}=n;return{x:()=>ki(Au(kd(r,s),Rf(r,i)),t,Pn(t))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const URe={kernelName:fb,inputsToSave:["x"],gradFunc:cne.gradFunc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MRe={kernelName:pb,saveAllInputs:!0,gradFunc:(t,e,n)=>{const r=e.map(l=>l.shape),{axis:s}=n,i=Nn(s,e[0].shape)[0],o=r.map(l=>l[i]);return qo(t,o,i).map(l=>()=>l)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QRe={kernelName:mb,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[r,s]=e,{dilations:i,strides:o,pad:a,dataFormat:l}=n;return ee(pf(i),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`),{x:()=>HR(r.shape,t,s,o,a,l),filter:()=>TO(r,t,s.shape,o,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jRe={kernelName:gb,inputsToSave:["dy","filter"],gradFunc:(t,e,n)=>{const[r,s]=e,{strides:i,pad:o,dataFormat:a,dimRoundingMode:l}=n;return{dy:()=>bd(t,s,i,o,a,1,l),filter:()=>TO(t,r,s.shape,i,o,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HRe(t,e,n,r,s){let i=t;t.rank===4&&(i=Se(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let o=e;o.rank===4&&(o=Se(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),ee(i.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${i.shape}.`),ee(o.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${o.shape}.`),ee(n.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`),ee(i.shape[4]===n[3],()=>`Error in conv3dDerFilter: depth of input ${i.shape[4]}) must match input depth in filter (${n[3]}.`),ee(o.shape[4]===n[4],()=>`Error in conv3dDerFilter: depth of dy (${o.shape[4]}) must match output depth for filter (${n[4]}).`);const a={x:i,dy:o},l={strides:r,pad:s,filterShape:n};return ge.runKernel(gI,a,l)}const zRe=ye({conv3DBackpropFilter_:HRe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VRe={kernelName:yb,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:r,strides:s,pad:i}=n;ee(pf(r),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`);const[o,a]=e;return{x:()=>vee(o.shape,t,a,s,i),filter:()=>zRe(o,t,a.shape,s,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WRe={kernelName:jy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(Er(PE(ot(n,"float32"))),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GRe={kernelName:Hy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(RE(ot(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KRe={kernelName:wb,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:s,exclusive:i,reverse:o}=n;return{x:()=>{const a=rs([s],r.rank);let l=xE(t,s,i,!o);return a!=null&&(l=Fn(l,a)),l}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qRe={kernelName:vb,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:r,strides:s,pad:i,dimRoundingMode:o}=n,a=r??[1,1];ee(pf(a),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${a}'`);const[l,c]=e;return ee(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`),ee(c.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${c.rank}.`),ee(l.shape[3]===c.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${c.shape[2]}.`),ee(Li(s,a),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${s} and dilations '${a}'.`),No("depthwiseConv2d",i,o),{x:()=>Ate(l.shape,t,c,s,i,a,o),filter:()=>ute(l,t,c.shape,s,i,a,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XRe={kernelName:xb,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[r,s]=e,i={x:r,filter:s,dy:t},o={x:r,filter:s,dy:t};return{x:()=>ge.runKernel(E_,i,n),filter:()=>ge.runKernel(k_,o,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YRe={kernelName:Vy,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e,r={dy:t,y:n};return{x:()=>ge.runKernel(II,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZRe={kernelName:Wy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,r=xe(Jo(Er(gr(n))),2/Math.sqrt(Math.PI));return{x:()=>xe(t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JRe={kernelName:Gy,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(t,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eOe={kernelName:Cb,inputsToSave:["input"],gradFunc:(t,e)=>{const[n]=e;return{input:()=>Se(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tOe={kernelName:Ky,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(t,Jo(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nOe={kernelName:qy,gradFunc:t=>({x:()=>Pn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rOe={kernelName:Xy,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=un(n.shape,r.shape);return{a:()=>{const a=Rt(t,ot(r,"float32")),l=js(n.shape,s);return l.length>0?Se(It(a,l),n.shape):a},b:()=>{let a=xe(t,ot(n,"float32"));const l=js(r.shape,s);l.length>0&&(a=Se(It(a,l),r.shape));const c=gr(r);return Er(Rt(a,ot(c,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sOe={kernelName:Sb,inputsToSave:["x","mean","variance","scale"],gradFunc:(t,e,n)=>{const{varianceEpsilon:r}=n,[s,i,o,a]=e,l=a??Ht(1),c=js(i.shape,s.shape),u=[];if(i.rank===1){for(let C=0;C<s.shape.length-1;++C)u.push(s.shape[C]);u.push(1)}const A=wt(s,i),d=xe(t,l),h=FE(qe(o,Ht(r))),p=xe(xe(xe(h,h),h),Ht(-.5));return{x:()=>i.rank===1?Se(xe(xe(t,cl(Se(h,[1,1,1,i.shape[0]]),u)),l),s.shape):Se(xe(xe(t,h),l),s.shape),mean:()=>{let C=xe(xe(h,Ht(-1)),d);return i.rank===1&&(C=It(C,c)),Se(C,i.shape)},variance:()=>{let C=xe(xe(p,A),d);return i.rank===1&&(C=It(C,c)),Se(C,i.shape)},scale:()=>{const C=xe(A,h);let _=xe(t,C);return i.rank===1&&(_=It(_,c)),Se(_,i.shape)},offset:()=>{let C=t;return i.rank===1&&(C=It(C,c)),Se(C,i.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iOe={kernelName:Bb,inputsToSave:["x","indices"],gradFunc:(t,e,n)=>{const[r,s]=e,{axis:i,batchDims:o}=n,a=Nn(i,r.shape)[0],l=(c,u,A)=>()=>{const d=c.shape,h=u.size,p=d.slice(0,a),m=p.length,y=d.slice(i,d.length).slice(1),g=y.length,v=VH(0,m),b=VH(m+1,m+1+g),C=WH([p,[h],y]),_=Se(A,C),I=Se(u,[h]),F=WH([[m],v,b]),T=Fn(_,F);let D=jE(T,I,c.shape[a]);const H=Pf(F);return D=Fn(D,H),D};if(o===1){const c=r.shape[0],u=r.split(c,0);return{x:()=>ea(u.map((h,p)=>l(h,s.slice(p,1),t.slice(p,1))())).reshape(r.shape),indices:()=>s}}else return{x:l(r,s,t),indices:()=>s}}};function VH(t,e){const n=[];for(let r=t;r<e;++r)n.push(r);return n}function WH(t){const e=[];for(let n=0;n<t.length;++n)for(let r=0;r<t[n].length;++r)e.push(t[n][r]);return e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oOe={kernelName:Yy,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>Pn(n),b:()=>Pn(r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aOe={kernelName:Zy,gradFunc:t=>({x:()=>ot(t,"float32")})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lOe={kernelName:Jy,gradFunc:t=>({x:()=>Pn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cOe={kernelName:e1,gradFunc:t=>({x:()=>Pn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uOe={kernelName:t1,gradFunc:t=>({x:()=>Pn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AOe={kernelName:Nb,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{alpha:s}=n,i=ia(r,0);return{x:()=>ki(i,t,xe(t,s))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dOe={kernelName:r1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Rt(t,qe(n,1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hOe={kernelName:n1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Rt(t,ot(n,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fOe={kernelName:RJ,inputsToSave:[],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r]=e,{axis:s}=n;return{logits:()=>{const o=Jo(r);return wt(t,xe(It(t,s,!0),o))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pOe(t,e,n,r=5,s=1,i=1,o=.5){const a={x:t,y:e,dy:n},l={depthRadius:r,bias:s,alpha:i,beta:o};return ge.runKernel(RI,a,l)}const mOe=ye({localResponseNormalizationBackprop_:pOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gOe={kernelName:Lb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,s]=e,{depthRadius:i,bias:o,alpha:a,beta:l}=n;return{x:()=>mOe(r,s,t,i,o,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function une(t,e,n,r){return e.rank<n.rank&&(e=Se(e,Ss(e.shape,r))),t.rank<n.rank&&(t=Se(t,Ss(t.shape,r))),{x:()=>xe(t,ot(lc(n,e),t.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GH={kernelName:Db,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const r=n,{reductionIndices:s}=r,i=e[0],o=e[1],a=Nn(s,i.shape),l=une(t,o,i,a);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yOe={kernelName:s1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>xe(t,ot(kd(n,r),"float32")),b:()=>xe(t,ot(sy(n,r),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wOe(t,e,n,r,s,i,o){const a=ie(t,"dy","maxPool3dGrad"),l=ie(e,"input","maxPool3dGrad"),c=ie(n,"output","maxPool3dGrad");let u=a,A=l,d=c,h=!1;l.rank===4&&(h=!0,u=Se(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]]),A=Se(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),d=Se(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),ee(u.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${u.rank}.`),ee(A.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${A.rank}.`),ee(d.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${d.rank}.`),No("maxPool3dGrad",i,o);const p={dy:u,input:A,output:d},m={filterSize:r,strides:s,pad:i,dimRoundingMode:o},y=ge.runKernel($I,p,m);return h?Se(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}const vOe=ye({maxPool3dGrad_:wOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xOe={kernelName:Rb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,s]=e,{filterSize:i,strides:o,pad:a,dimRoundingMode:l}=n;return{x:()=>vOe(t,r,s,i,o,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bOe(t,e,n,r,s,i,o){const a=ie(t,"dy","maxPoolGrad"),l=ie(e,"input","maxPoolGrad"),c=ie(n,"output","maxPoolGrad");ee(l.rank===a.rank,()=>`Rank of input (${l.rank}) does not match rank of dy (${a.rank})`),ee(a.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${a.rank}.`),ee(l.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`),No("maxPoolGrad",i,o);const u={dy:a,input:l,output:c},A={filterSize:r,strides:s,pad:i,dimRoundingMode:o};return ge.runKernel(OI,u,A)}const COe=ye({maxPoolGrad_:bOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SOe={kernelName:Pb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,s]=e,{filterSize:i,strides:o,pad:a}=n;return{x:()=>COe(t,r,s,i,o,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BOe={kernelName:Ob,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:s}=n,i=Nn(s,r.shape),a=vi(r.shape,i)[1],l=Oe(a);return{x:()=>{const u=r.shape.slice();i.forEach(h=>{u[h]=1});const A=Se(t,u);return Rt(xe(A,Go(r.shape,"float32")),l)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Oe={kernelName:$b,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const r=n,{axis:s}=r,[i,o]=e,a=Nn(s,i.shape),l=une(t,o,i,a);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NOe={kernelName:i1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>xe(t,ot(Rf(n,r),"float32")),b:()=>xe(t,ot(ia(n,r),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IOe={kernelName:Ub,inputsToSave:["x"],gradFunc:(t,e,n)=>{const r=e[0],{paddings:s}=n,i=s.map(o=>o[0]);return{x:()=>Dn(t,i,r.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EOe={kernelName:o1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=un(n.shape,r.shape);return{a:()=>{const a=js(n.shape,s);return a.length>0?Se(It(t,a),n.shape):t},b:()=>{const a=xe(t,Er(T1(Rt(n,r)))),l=js(r.shape,s);return l.length>0?Se(It(a,l),r.shape):a}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kOe={kernelName:a1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=un(n.shape,r.shape);return{a:()=>{const a=xe(t,ot(r,"float32")),l=js(n.shape,s);return l.length>0?Se(It(a,l),n.shape):a},b:()=>{const a=xe(t,ot(n,"float32")),l=js(r.shape,s);return l.length>0?Se(It(a,l),r.shape):a}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TOe={kernelName:Mb,gradFunc:t=>({x:()=>Er(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FOe={kernelName:Hb,inputsToSave:["indices"],gradFunc:(t,e)=>{const n=e[0];return{indices:()=>Ms(n.shape,"float32")}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LOe={kernelName:jb,gradFunc:t=>({x:()=>Pn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DOe={kernelName:zb,saveAllInputs:!0,gradFunc:(t,e,n)=>{const{axis:r}=n;return gl(t,r).map(i=>()=>i)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KH={kernelName:Vb,inputsToSave:["x"],gradFunc:(t,e,n)=>{const r=e[0],{paddings:s}=n,i=s.map(o=>o[0]);return{x:()=>Dn(t,i,r.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const POe={kernelName:l1,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(t,e)=>{const[n,r,s]=e,i=n,o=r,a=un(i.shape,o.shape);return{a:()=>{const u=ot(o,"float32");let A=xe(t,xe(u,vA(i,wt(u,Ht(1)))));const d=js(i.shape,a);return d.length>0&&(A=It(A,d)),Se(A,i.shape)},b:()=>{const u=ia(i,0),A=ki(u,La(i),Pn(i));let d=xe(t,xe(s,A));const h=js(o.shape,a);return h.length>0&&(d=It(d,h)),Se(d,o.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ROe={kernelName:Wb,inputsToSave:["x","alpha"],gradFunc:(t,e)=>{const[n,r]=e,s=ia(n,0);return{x:()=>ki(s,t,xe(t,r)),alpha:()=>{let i=ki(s,Pn(t),xe(t,n));const o=js(r.shape,t.shape);return o.length>0&&(i=It(i,o)),Se(i,r.shape)}}}};/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OOe(t,e,n){const r=t.shape.slice();r[n]=1;const s=Se(e,r),i=bx(t,n,!0,!1),o=bx(t,n,!0,!0),a=xe(i,o);return xe(s,a)}function $Oe(t,e,n){const r=t.shape.length,s=r-n.length,i=rs(n,r);let o=t;i!=null&&(o=Fn(t,i));const a=o.shape.slice(),c=a.splice(r-n.length,n.length).reduce((d,h)=>d*h,1);a.push(c);const u=o.reshape(a);let A=OOe(u,e,s);if(A=A.reshape(o.shape),i!=null){const d=Pf(i);A=Fn(A,d)}return A}const UOe={kernelName:Gb,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:s}=n;let i=[];return s==null?i=r.shape.map((o,a)=>a):typeof s=="number"?i=[s]:i=s,{x:()=>$Oe(r,t,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MOe={kernelName:zy,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=un(n.shape,r.shape);return{a:()=>{const a=Rt(t,ot(r,"float32")),l=js(n.shape,s);return l.length>0?Se(It(a,l),n.shape):a},b:()=>{let a=xe(t,ot(n,"float32"));const l=js(r.shape,s);l.length>0&&(a=Se(It(a,l),r.shape));const c=gr(r);return Er(Rt(a,ot(c,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QOe={kernelName:c1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Rt(t,Er(gr(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jOe={kernelName:A1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,r=xe(Rf(n,6),Km(n));return{x:()=>xe(t,ot(r,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HOe={kernelName:u1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(t,ot(Km(n),"float32"))}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zOe={kernelName:Kb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Se(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VOe={kernelName:Xb,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[r]=e,s={dy:t,images:r};return{images:()=>ge.runKernel(XI,s,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WOe={kernelName:qb,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[r]=e,s={dy:t,images:r};return{images:()=>ge.runKernel(qI,s,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GOe={kernelName:Yb,gradFunc:(t,e,n)=>{const{dims:r}=n,s=Nn(r,t.shape);return{x:()=>ml(t,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KOe={kernelName:d1,gradFunc:t=>({x:()=>Pn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qOe={kernelName:h1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Er(Rt(t,xe(vA(n,1.5),2)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XOe={kernelName:Zb,inputsToSave:["condition"],gradFunc:(t,e)=>{const[n]=e;return{condition:()=>ot(Pn(n),"float32"),t:()=>xe(t,ot(n,t.dtype)),e:()=>xe(t,ot(y2(n),t.dtype))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YOe={kernelName:f1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=ia(n,Ht(0)),s=Ht(nk),i=Ht(rk),o=xe(t,i),a=xe(xe(t,s),Jo(ot(n,"float32")));return ki(r,o,a)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZOe={kernelName:y1,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(t,xe(n,wt(Ht(1),n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JOe={kernelName:g1,gradFunc:t=>({x:()=>Pn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e$e={kernelName:p1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(h2(ot(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t$e={kernelName:m1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(vE(ot(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n$e={kernelName:Jb,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{begin:s,size:i}=n,o=r.shape,[a,l]=ek(r,s,i),c=[];for(let u=0;u<t.rank;u++)c.push([a[u],o[u]-a[u]-l[u]]);return{x:()=>Td(t,c)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r$e={kernelName:r2,outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r]=e,{dim:s}=n,i=!0,o=xe(t,r);return{logits:()=>wt(o,xe(It(o,[s],i),r))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s$e={kernelName:w1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(t,su(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qH={kernelName:t2,gradFunc:(t,e,n)=>{const{blockShape:r,paddings:s}=n;return{x:()=>d2(t,r,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XH={kernelName:n2,gradFunc:(t,e,n)=>{const{axis:r}=n;return{x:()=>Cs(t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i$e={kernelName:v1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Rt(t,xe(yi(ot(n,"float32")),2))}}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o$e={kernelName:iE,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(t,xe(ot(n,"float32"),2))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a$e={kernelName:x1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=Ht(2);return{a:()=>xe(t,xe(s,wt(n,r))),b:()=>xe(t,xe(s,wt(r,n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l$e={kernelName:_1,gradFunc:t=>({x:()=>Pn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c$e={kernelName:b1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=un(n.shape,r.shape);return{a:()=>{let a=t;const l=js(n.shape,s);return l.length>0&&(a=It(a,l)),Se(a,n.shape)},b:()=>{let a=t;const l=js(r.shape,s);return l.length>0&&(a=It(a,l)),Se(Er(a),r.shape)}}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u$e={kernelName:e2,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,s=r.shape.slice(),{axis:i}=n;Nn(i,r.shape).forEach(c=>{s[c]=1});const a=Se(t,s),l=xe(a,Go(r.shape,"float32"));return{x:()=>l}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A$e={kernelName:C1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Rt(t,gr(h2(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d$e={kernelName:S1,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(wt(Ht(1),gr(n)),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h$e={kernelName:B1,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{reps:s}=n;return{x:()=>{let o=Pn(r);if(r.rank===1)for(let a=0;a<s[0];++a)o=qe(o,Dn(t,[a*r.shape[0]],[r.shape[0]]));else if(r.rank===2)for(let a=0;a<s[0];++a)for(let l=0;l<s[1];++l)o=qe(o,Dn(t,[a*r.shape[0],l*r.shape[1]],[r.shape[0],r.shape[1]]));else if(r.rank===3)for(let a=0;a<s[0];++a)for(let l=0;l<s[1];++l)for(let c=0;c<s[2];++c)o=qe(o,Dn(t,[a*r.shape[0],l*r.shape[1],c*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else if(r.rank===4)for(let a=0;a<s[0];++a)for(let l=0;l<s[1];++l)for(let c=0;c<s[2];++c)for(let u=0;u<s[3];++u)o=qe(o,Dn(t,[a*r.shape[0],l*r.shape[1],c*r.shape[2],u*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);return o}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f$e={kernelName:Jp,gradFunc:(t,e,n)=>{const r=n,{perm:s}=r,i=Pf(s);return{x:()=>Fn(t,i)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p$e={kernelName:i2,gradFunc:(t,e,n)=>{const r=n,{axis:s}=r;return{value:()=>ea(t,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m$e={kernelName:o2,inputsToSave:["segmentIds"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>g$e(t,n)}}};function g$e(t,e){const n=EA(e,Pn(e)),r=F1(t,n);let s=kd(e,Ht(0,"int32"));const i=r.rank-s.rank;for(let a=0;a<i;++a)s=Gi(s,a+1);s=Au(s,Go(r.shape,"bool"));const o=Pn(r);return ki(s,r,o)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y$e={kernelName:a2,gradFunc:t=>({x:()=>Pn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w$e=[cne,mRe,gRe,yRe,wRe,vRe,xRe,bRe,CRe,SRe,BRe,_Re,ERe,FRe,LRe,DRe,PRe,RRe,ORe,$Re,URe,MRe,jRe,QRe,VRe,WRe,GRe,KRe,qRe,XRe,MOe,YRe,ZRe,JRe,eOe,tOe,rOe,nOe,sOe,iOe,oOe,aOe,lOe,cOe,uOe,AOe,dOe,hOe,fOe,gOe,GH,GH,yOe,xOe,SOe,BOe,_Oe,NOe,IOe,EOe,kOe,TOe,FOe,LOe,DOe,KH,KH,POe,ROe,UOe,QOe,jOe,HOe,zOe,VOe,WOe,GOe,KOe,qOe,XOe,YOe,ZOe,JOe,e$e,t$e,n$e,r$e,s$e,qH,qH,XH,XH,i$e,a$e,o$e,l$e,c$e,u$e,A$e,d$e,h$e,f$e,p$e,m$e,y$e];for(const t of w$e)OJ(t);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.abs=function(){return this.throwIfDisposed(),Ps(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.acos=function(){return this.throwIfDisposed(),SR(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.acosh=function(){return this.throwIfDisposed(),BR(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.add=function(t){return this.throwIfDisposed(),qe(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.all=function(t,e){return this.throwIfDisposed(),gE(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.any=function(t,e){return this.throwIfDisposed(),wx(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.argMax=function(t){return this.throwIfDisposed(),xm(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.argMin=function(t){return this.throwIfDisposed(),_R(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.asScalar=function(){return this.throwIfDisposed(),ee(this.size===1,()=>"The array must have only 1 element."),Se(this,[])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.asType=function(t){return this.throwIfDisposed(),ot(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.as1D=function(){return this.throwIfDisposed(),Se(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.as2D=function(t,e){return this.throwIfDisposed(),Se(this,[t,e])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.as3D=function(t,e,n){return this.throwIfDisposed(),Se(this,[t,e,n])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.as4D=function(t,e,n,r){return this.throwIfDisposed(),Se(this,[t,e,n,r])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.as5D=function(t,e,n,r,s){return this.throwIfDisposed(),Se(this,[t,e,n,r,s])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.asin=function(){return this.throwIfDisposed(),NR(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.asinh=function(){return this.throwIfDisposed(),IR(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.atan=function(){return this.throwIfDisposed(),ER(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.atan2=function(t){return this.throwIfDisposed(),kR(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.atanh=function(){return this.throwIfDisposed(),TR(this)};Me().prototype.avgPool=function(t,e,n,r){return this.throwIfDisposed(),A2(this,t,e,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),d2(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.batchNorm=function(t,e,n,r,s){return this.throwIfDisposed(),N1(this,t,e,n,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.broadcastTo=function(t){return this.throwIfDisposed(),em(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.cast=function(t){return this.throwIfDisposed(),ot(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.ceil=function(){return this.throwIfDisposed(),$R(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.clipByValue=function(t,e){return this.throwIfDisposed(),Zo(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.concat=function(t,e){return this.throwIfDisposed(),t instanceof nr&&(t=[t]),Cs([this,...t],e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.conv1d=function(t,e,n,r,s,i){return this.throwIfDisposed(),yE(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.conv2dTranspose=function(t,e,n,r,s){return this.throwIfDisposed(),wE(this,t,e,n,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.conv2d=function(t,e,n,r,s,i){return this.throwIfDisposed(),bd(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.cos=function(){return this.throwIfDisposed(),h2(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.cosh=function(){return this.throwIfDisposed(),vE(this)};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.cumprod=function(t,e,n){return this.throwIfDisposed(),bx(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.cumsum=function(t,e,n){return this.throwIfDisposed(),xE(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),WR(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.depthwiseConv2d=function(t,e,n,r,s,i){return this.throwIfDisposed(),I1(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.dilation2d=function(t,e,n,r,s){return this.throwIfDisposed(),GR(this,t,e,n,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.divNoNan=function(t){return this.throwIfDisposed(),KR(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.div=function(t){return this.throwIfDisposed(),Rt(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.dot=function(t){return this.throwIfDisposed(),qR(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.elu=function(){return this.throwIfDisposed(),E1(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.equal=function(t){return this.throwIfDisposed(),lc(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.erf=function(){return this.throwIfDisposed(),bE(this)};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.euclideanNorm=function(t,e){return this.throwIfDisposed(),YR(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.exp=function(){return this.throwIfDisposed(),Jo(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.expandDims=function(t){return this.throwIfDisposed(),Gi(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.expm1=function(){return this.throwIfDisposed(),ZR(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.fft=function(){return this.throwIfDisposed(),_2(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.flatten=function(){return this.throwIfDisposed(),Se(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.floor=function(){return this.throwIfDisposed(),T1(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.floorDiv=function(t){return this.throwIfDisposed(),mE(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.gather=function(t,e,n){return this.throwIfDisposed(),F1(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.greaterEqual=function(t){return this.throwIfDisposed(),kd(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.greater=function(t){return this.throwIfDisposed(),ia(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.ifft=function(){return this.throwIfDisposed(),ly(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.irfft=function(){return this.throwIfDisposed(),$E(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.isFinite=function(){return this.throwIfDisposed(),JR(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.isInf=function(){return this.throwIfDisposed(),eO(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.isNaN=function(){return this.throwIfDisposed(),tO(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.leakyRelu=function(t){return this.throwIfDisposed(),p2(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.lessEqual=function(t){return this.throwIfDisposed(),Rf(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.less=function(t){return this.throwIfDisposed(),sy(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.localResponseNormalization=function(t,e,n,r){return this.throwIfDisposed(),nO(this,t,e,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.logSigmoid=function(){return this.throwIfDisposed(),rO(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.logSoftmax=function(t){return this.throwIfDisposed(),BE(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.logSumExp=function(t,e){return this.throwIfDisposed(),g2(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.log=function(){return this.throwIfDisposed(),La(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.log1p=function(){return this.throwIfDisposed(),m2(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.logicalAnd=function(t){return this.throwIfDisposed(),Au(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.logicalNot=function(){return this.throwIfDisposed(),y2(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.logicalOr=function(t){return this.throwIfDisposed(),_E(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.logicalXor=function(t){return this.throwIfDisposed(),sO(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.matMul=function(t,e,n){return this.throwIfDisposed(),Sn(this,t,e,n)};Me().prototype.maxPool=function(t,e,n,r){return this.throwIfDisposed(),w2(this,t,e,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.max=function(t,e){return this.throwIfDisposed(),fl(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.maximum=function(t){return this.throwIfDisposed(),EA(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.mean=function(t,e){return this.throwIfDisposed(),es(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.min=function(t,e){return this.throwIfDisposed(),ry(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.minimum=function(t){return this.throwIfDisposed(),gf(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.mirrorPad=function(t,e){return this.throwIfDisposed(),oO(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.mod=function(t){return this.throwIfDisposed(),aO(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.mul=function(t){return this.throwIfDisposed(),xe(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.neg=function(){return this.throwIfDisposed(),Er(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.norm=function(t,e,n){return this.throwIfDisposed(),k1(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.notEqual=function(t){return this.throwIfDisposed(),Sm(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.oneHot=function(t,e=1,n=0){return this.throwIfDisposed(),iy(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.onesLike=function(){return this.throwIfDisposed(),Da(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.pad=function(t,e){return this.throwIfDisposed(),Td(this,t,e)};Me().prototype.pool=function(t,e,n,r,s,i){return this.throwIfDisposed(),lO(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.pow=function(t){return this.throwIfDisposed(),vA(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.prelu=function(t){return this.throwIfDisposed(),b2(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.prod=function(t,e){return this.throwIfDisposed(),cO(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.reciprocal=function(){return this.throwIfDisposed(),wO(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.relu=function(){return this.throwIfDisposed(),bu(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.relu6=function(){return this.throwIfDisposed(),kE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.reshapeAs=function(t){return this.throwIfDisposed(),Se(this,t.shape)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.reshape=function(t){return this.throwIfDisposed(),Se(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.resizeBilinear=function(t,e,n){return this.throwIfDisposed(),pte(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.resizeNearestNeighbor=function(t,e,n){return this.throwIfDisposed(),mte(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.reverse=function(t){return this.throwIfDisposed(),ml(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.rfft=function(){return this.throwIfDisposed(),N2(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.round=function(){return this.throwIfDisposed(),TE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.rsqrt=function(){return this.throwIfDisposed(),FE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.selu=function(){return this.throwIfDisposed(),LE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.separableConv2d=function(t,e,n,r,s,i){return this.throwIfDisposed(),DE(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.sigmoid=function(){return this.throwIfDisposed(),su(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.sign=function(){return this.throwIfDisposed(),vO(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.sin=function(){return this.throwIfDisposed(),PE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.sinh=function(){return this.throwIfDisposed(),RE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.slice=function(t,e){return this.throwIfDisposed(),Dn(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.softmax=function(t){return this.throwIfDisposed(),B2(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.softplus=function(){return this.throwIfDisposed(),Wm(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),x2(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.split=function(t,e){return this.throwIfDisposed(),qo(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.sqrt=function(){return this.throwIfDisposed(),yi(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.square=function(){return this.throwIfDisposed(),gr(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.squaredDifference=function(t){return this.throwIfDisposed(),UE(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.squeeze=function(t){return this.throwIfDisposed(),$f(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.stack=function(t,e){this.throwIfDisposed();const n=t instanceof nr?[this,t]:[this,...t];return ea(n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.step=function(t){return this.throwIfDisposed(),Km(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.stridedSlice=function(t,e,n,r,s,i,o,a){return this.throwIfDisposed(),xO(this,t,e,n,r,s,i,o,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.sub=function(t){return this.throwIfDisposed(),wt(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.sum=function(t,e){return this.throwIfDisposed(),It(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.tan=function(){return this.throwIfDisposed(),bO(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.tanh=function(){return this.throwIfDisposed(),mf(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.tile=function(t){return this.throwIfDisposed(),cl(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.toBool=function(){return this.throwIfDisposed(),ot(this,"bool")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.toFloat=function(){return this.throwIfDisposed(),ot(this,"float32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.toInt=function(){return this.throwIfDisposed(),ot(this,"int32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.topk=function(t,e){return this.throwIfDisposed(),BO(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.transpose=function(t){return this.throwIfDisposed(),Fn(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.unique=function(t){return this.throwIfDisposed(),_O(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),jE(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.unstack=function(t){return this.throwIfDisposed(),gl(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.where=function(t,e){return this.throwIfDisposed(),ki(t,this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Me().prototype.zerosLike=function(){return this.throwIfDisposed(),Pn(this)};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class zu extends Error{constructor(e){super(e),Object.setPrototypeOf(this,zu.prototype)}}class Jl extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Jl.prototype)}}class Be extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Be.prototype)}}class wn extends Error{constructor(e){super(e),Object.setPrototypeOf(this,wn.prototype)}}class f$ extends Error{constructor(e){super(e),Object.setPrototypeOf(this,f$.prototype)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Ane{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let n;return this.cache.has(e)&&(n=this.cache.get(e),this.cache.delete(e),this.cache.set(e,n)),n}put(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let n=0;n<this.maxEntries-e;n++){const r=this.cache.keys().next().value;this.cache.delete(r)}this.maxEntries=e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Nm(t,e){if(Array.isArray(t)){let n=[];for(let r=0;r<e;r++)n=n.concat(t);return n}else{const n=new Array(e);return n.fill(t),n}}function Vu(t,e){if(!t)throw new f$(e)}function YH(t,e){let n=0;for(const r of t)r===e&&n++;return n}function Ho(t){return t.length===1?t[0]:t}function cr(t){return Array.isArray(t)?t:[t]}function ed(t){const n=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return n[0]!=="_"?n:"private"+n}function Sp(t){return t.length<=1||t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,(e,n)=>n.toUpperCase())}let Pl={};function p$(t){if(t==null)return null;const e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function iL(t){if(!(t==null||typeof t!="object"))if(Array.isArray(t))t.forEach(e=>iL(e));else{const e=Object.keys(t);for(const n of e){const r=t[n];r!=null&&typeof r=="object"&&(!Array.isArray(r)&&r.type==="ndarray"&&typeof r.value=="number"?t[n]=r.value:iL(r))}}}function T2(t,e={},n={},r="object",s=!1){if(typeof t=="string"){const i=t;let o;if(i in n)o=n[i];else if(i in Pl)o=Pl[i];else if(o=e[i],o==null)throw new Be(`Unknown ${r}: ${t}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return o}else{const i=t;if(i.className==null||i.config==null)throw new Be(`${r}: Improper config format: ${JSON.stringify(i)}.
'className' and 'config' must set.`);const o=i.className;let a,l;if(o in n?[a,l]=n[o]:o in Pl?[a,l]=Pl.className:o in e&&([a,l]=e[o]),a==null)throw new Be(`Unknown ${r}: ${o}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(l!=null){const c={};for(const h of Object.keys(Pl))c[h]=Pl[h];for(const h of Object.keys(n))c[h]=n[h];const u=i.config;u.customObjects=c;const A=Object.assign({},Pl);for(const h of Object.keys(n))Pl[h]=n[h];iL(i.config);const d=l(a,i.config,n,s);return Pl=Object.assign({},A),d}else{const c=Object.assign({},Pl);for(const A of Object.keys(n))Pl[A]=n[A];const u=new a(i.config);return Pl=Object.assign({},c),u}}}function v$e(t,e){return t<e?-1:t>e?1:0}function xS(t,e){return-1*v$e(t,e)}function tf(t){if(t==null)return t;const e=[];for(const n of t)e.indexOf(n)===-1&&e.push(n);return e}function x$e(t){if(t==null)throw new Be(`Invalid value in obj: ${JSON.stringify(t)}`);for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}function Xm(t,e,n){if(n!=null&&t.indexOf(n)<0)throw new Be(`${n} is not a valid ${e}.  Valid values are ${t} or null/undefined.`)}function m$(t,e,n=0,r=1/0){return Vu(n>=0),Vu(r>=n),Array.isArray(t)&&t.length>=n&&t.length<=r&&t.every(s=>typeof s===e)}function mi(t,e){Array.isArray(t)?(ee(t.length>0,()=>`${e} is unexpectedly an empty array.`),t.forEach((n,r)=>mi(n,`element ${r+1} of ${e}`))):ee(Number.isInteger(t)&&t>0,()=>`Expected ${e} to be a positive integer, but got ${dne(t)}.`)}function dne(t){return t===null?"null":Array.isArray(t)?"["+t.map(e=>dne(e)).join(",")+"]":typeof t=="string"?`"${t}"`:`${t}`}function b$e(t,e,n){let r=n!=null?n():wo(),s;return(...o)=>{const a=n!=null?n():wo();return a-r<e||(r=a,s=t(...o)),s}}function hne(t){return t==="relu"?"relu":t==="linear"?"linear":t==="elu"?"elu":null}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let C$e=0;function fne(){return C$e++}const bS={};function sk(t=""){return t in bS||(bS[t]=0),bS[t]+=1,t+bS[t].toString()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const S$e=["channelsFirst","channelsLast"],B$e=["nearest","bilinear"],_$e=["valid","same","causal"],N$e=["max","avg"],I$e=["sum","mul","concat","ave"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Fg=new Map;function _s(t){Xm(S$e,"DataFormat",t)}function E$e(t){Xm(B$e,"InterpolationFormat",t)}function vl(t){Xm(_$e,"PaddingMode",t)}function pne(t){Xm(N$e,"PoolMode",t)}const Sv=[],ZH="/";function tm(t,e){Sv.push(t);try{const n=e();return Sv.pop(),n}catch(n){throw Sv.pop(),n}}function k$e(){return Sv.length===0?"":Sv.join(ZH)+ZH}function mne(t){if(!yne(t))throw new Error("Not a valid tensor name: '"+t+"'");return k$e()+t}function gne(t){if(!yne(t))throw new Error("Not a valid tensor name: '"+t+"'");Fg.has(t)||Fg.set(t,0);const e=Fg.get(t);if(Fg.set(t,Fg.get(t)+1),e>0){const n=`${t}_${e}`;return Fg.set(n,1),n}else return t}const T$e=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function yne(t){return!!t.match(T$e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function F$e(t){return t===parseInt(t.toString(),10)}function nf(t,e,n){e==null&&(e=0),n==null&&(n=t.length);let r=1;for(let s=e;s<n;++s)r*=t[s];return r}function cy(t){if(t.length===0)return Number.NaN;let e=Number.POSITIVE_INFINITY;for(let n=0;n<t.length;n++){const r=t[n];r<e&&(e=r)}return e}function yf(t){if(t.length===0)return Number.NaN;let e=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;n++){const r=t[n];r>e&&(e=r)}return e}function du(t,e){if(e<t)throw new Be(`end (${e}) < begin (${t}) is forbidden.`);const n=[];for(let r=t;r<e;++r)n.push(r);return n}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let V5;function Ys(){return V5==null&&(V5=wR().epsilon()),V5}function hu(){return"channelsLast"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function hA(t,e){return ot(t,e)}function F2(t,e=-1){const n=t.shape.slice();return e<0&&(e=n.length+e+1),n.splice(e,0,1),Se(t,n)}function L$e(t,e){return Te(()=>{if(t.shape.length!==2)throw new Be(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);const n=F2(t,1);return oL(n,[1,e,1])})}function D$e(t){const e=[nf(t.shape)];return Se(t,e)}function P$e(t){if(t.rank<=1)throw new Be(`batchFlatten requires a minimum rank of 2. Got rank: ${t.rank}.`);const e=[t.shape[0],nf(t.shape,1)];return Se(t,e)}function nm(t,e,n){return Te(()=>{switch(t.rank){case 1:return C2(t,e,n);case 2:return OE(t,[e,0],[n,t.shape[1]]);case 3:return S2(t,[e,0,0],[n,t.shape[1],t.shape[2]]);case 4:return ay(t,[e,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3]]);case 5:return Dn(t,[e,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4]]);case 6:return Dn(t,[e,0,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4],t.shape[5]]);default:throw new Be(`sliceAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}})}function W5(t,e,n){return Te(()=>{switch(t.rank){case 1:return C2(t,e,n);case 2:return OE(t,[0,e],[t.shape[0],n]);case 3:return S2(t,[0,0,e],[t.shape[0],t.shape[1],n]);case 4:return ay(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],n]);default:throw new Be(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function CS(t,e,n,r){return Te(()=>{switch(t.rank){case 1:return C2(t,e,n);case 2:switch(r){case 1:return nm(t,e,n);case 2:return W5(t,e,n);default:throw new Be(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return nm(t,e,n);case 2:return S2(t,[0,e,0],[t.shape[0],n,t.shape[2]]);case 3:return W5(t,e,n);default:throw new Be(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return nm(t,e,n);case 2:return ay(t,[0,e,0,0],[t.shape[0],n,t.shape[2],t.shape[3]]);case 3:return ay(t,[0,0,e,0],[t.shape[0],t.shape[1],n,t.shape[3]]);case 4:return W5(t,e,n);default:throw new Be(`The axis is not within the rank of the tensor ${r}`)}default:throw new Be(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function g$(t,e=-1){let n;return e<0&&(n=t[0].rank,n!==0?e=n:e=0),e===t[0].rank&&(e=-1),Cs(t,e)}function JH(t,e){switch(t.rank){case 1:return UR([t,e]);case 2:return MR([t,e],0);case 3:return QR([t,e],0);case 4:return jR([t,e],0);default:throw new Be(`concatAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}}function oL(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new Be(`The length of input n (${e.length}) does not match the number of dimensions in input x (${t.rank})`);return cl(t,e)}function ik(t,e=0,n=1,r,s){return EE(t,e,n,r,s)}function fA(t,e,n,r){if(t.rank<2||e.rank<2)throw new wn(`dot requires both inputs to be rank >= 2 but got x shape = ${t.shape} and y shape = ${e.shape}`);if(e.rank>=3){const s=t.shape.slice(-1)[0],i=e.shape.slice(-2)[0];if(s!==i)throw new wn(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${t.shape} and  y shape = ${e.shape}`)}if(t.rank===2&&e.rank===2)return eL({a:t,b:e,transposeA:!1,transposeB:!1,bias:r?aL(t.rank,r,hu()):null,activation:n});{const s=t.shape.slice(),i=s.pop();t=Se(t,[-1,i]);const o=e.shape.slice(),a=o.pop(),l=o.pop(),c=[...o,a],u=Array.from({length:e.rank},(p,m)=>m===0?e.rank-2:m<=e.rank-2?m-1:m);e=Se(Fn(e,u),[l,-1]);const A=[...s,...c];return Se(eL({a:t,b:e,transposeA:!1,transposeB:!1,bias:r?aL(t.rank,r,hu()):null,activation:n}),A)}}function wne(t,e,n){return Te(()=>(Array.isArray(e)?e=qi(e,"int32"):e=ot(e,"int32"),F1(t,e,n)))}function L2(t){return xe(t,t)}function aL(t,e,n){const r=e.shape;if(e.rank!==1&&e.rank!==t)throw new Be(`Unexpected bias dimensions: ${e.rank}; expected it to be 1 or ${t}`);if(t===5){if(n==="channelsFirst")return r.length===1?Se(e,[1,r[0],1,1,1]):Se(e,[1,r[3],r[0],r[1],r[2]]);if(n==="channelsLast")return r.length===1?Se(e,[1,1,1,1,r[0]]):Se(e,[1].concat(r))}else if(t===4){if(n==="channelsFirst")return r.length===1?Se(e,[1,r[0],1,1]):Se(e,[1,r[2],r[0],r[1]]);if(n==="channelsLast")return r.length===1?Se(e,[1,1,1,r[0]]):Se(e,[1].concat(r))}else if(t===3){if(n==="channelsFirst")return r.length===1?Se(e,[1,r[0],1]):Se(e,[1,r[1],r[0]]);if(n==="channelsLast")return r.length===1?Se(e,[1,1,r[0]]):Se(e,[1].concat(r))}else if(t<3)return e;throw new Be(`Unsupported input rank by biasAdd: ${e.rank}`)}function Cu(t,e,n){return Te(()=>(n==null&&(n=hu()),_s(n),qe(t,aL(t.rank,e,n))))}function R$e(t,e=1){if(e!==1)throw new wn(`Support for alpha values other than 1 (${e}) is not implemented yet.`);return E1(t)}function O$e(t){return Te(()=>Rt(t,qe(Ps(t),1)))}function vne(t,e,n,r){return Te(()=>EO(t,e,n,r))}function $$e(t){return Te(()=>{const e=qe(.5,xe(.2,t));return Zo(e,0,1)})}function D2(t,e,n=!1){return n?t():e()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const U$e=["fanIn","fanOut","fanAvg"],M$e=["normal","uniform","truncatedNormal"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Q$e(t){Xm(U$e,"FanMode",t)}function j$e(t){Xm(M$e,"Distribution",t)}class uc extends qm{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class xne extends uc{apply(e,n){return Ms(e,n)}}xne.className="Zeros";Ze(xne);class y$ extends uc{apply(e,n){return Go(e,n)}}y$.className="Ones";Ze(y$);class bne extends uc{constructor(e){if(super(),typeof e!="object")throw new Be(`Expected argument of type ConstantConfig but got ${e}`);if(e.value===void 0)throw new Be(`config must have value set but got ${e}`);this.value=e.value}apply(e,n){return Te(()=>xe(Ht(this.value),Go(e,n)))}getConfig(){return{value:this.value}}}bne.className="Constant";Ze(bne);class Cne extends uc{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,n){return Of(e,this.minval,this.maxval,n,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}Cne.className="RandomUniform";Ze(Cne);class Sne extends uc{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new wn(`randomNormal does not support dType ${n}.`);return ik(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}Sne.className="RandomNormal";Ze(Sne);class Bne extends uc{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new wn(`truncatedNormal does not support dType ${n}.`);return QE(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}Bne.className="TruncatedNormal";Ze(Bne);class _ne extends uc{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,n){return Te(()=>{if(e.length!==2||e[0]!==e[1])throw new Be("Identity matrix initializer can only be used for 2D square matrices.");return xe(this.gain,CE(e[0]))})}getConfig(){return{gain:this.gain}}}_ne.className="Identity";Ze(_ne);function H$e(t,e="channelsLast"){let n,r;if(_s(e),t.length===2)n=t[0],r=t[1];else if([3,4,5].indexOf(t.length)!==-1){if(e==="channelsFirst"){const s=nf(t,2);n=t[1]*s,r=t[0]*s}else if(e==="channelsLast"){const s=nf(t,0,t.length-2);n=t[t.length-2]*s,r=t[t.length-1]*s}}else{const s=nf(t);n=Math.sqrt(s),r=Math.sqrt(s)}return[n,r]}class Pa extends uc{constructor(e){if(super(),e.scale<0)throw new Be(`scale must be a positive float. Got: ${e.scale}`);this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,Q$e(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,j$e(this.distribution),this.seed=e.seed}apply(e,n){const r=H$e(e),s=r[0],i=r[1];let o=this.scale;if(this.mode==="fanIn"?o/=Math.max(1,s):this.mode==="fanOut"?o/=Math.max(1,i):o/=Math.max(1,(s+i)/2),this.distribution==="normal"){const a=Math.sqrt(o);if(n=n||"float32",n!=="float32"&&n!=="int32")throw new wn(`${this.getClassName()} does not support dType ${n}.`);return QE(e,0,a,n,this.seed)}else{const a=Math.sqrt(3*o);return Of(e,-a,a,n,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}Pa.className="VarianceScaling";Ze(Pa);class w$ extends Pa{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Pa.className}}w$.className="GlorotUniform";Ze(w$);class v$ extends Pa{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Pa.className}}v$.className="GlorotNormal";Ze(v$);class x$ extends Pa{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Pa.className}}x$.className="HeNormal";Ze(x$);class b$ extends Pa{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Pa.className}}b$.className="HeUniform";Ze(b$);class C$ extends Pa{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Pa.className}}C$.className="LeCunNormal";Ze(C$);class S$ extends Pa{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Pa.className}}S$.className="LeCunUniform";Ze(S$);class Nne extends uc{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,n){return Te(()=>{if(e.length<2)throw new wn("Shape must be at least 2D.");if(n!=="int32"&&n!=="float32"&&n!==void 0)throw new TypeError(`Unsupported data type ${n}.`);n=n;const r=Oe(e.slice(0,-1)),s=e[e.length-1],i=r*s;i>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${i}) elements: Slowness may result.`);const o=[Math.max(s,r),Math.min(s,r)],a=ik(o,0,1,n,this.seed),l=LO.qr(a,!1);let c=l[0];const A=l[1].flatten().stridedSlice([0],[Math.min(s,r)*Math.min(s,r)],[Math.min(s,r)+1]);return c=xe(c,A.sign()),r<s&&(c=c.transpose()),xe(Ht(this.gain),c.reshape(e))})}getConfig(){return{gain:this.gain,seed:this.seed}}}Nne.className="Orthogonal";Ze(Nne);const ez={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function tz(t,e={}){return T2(t,il.getMap().classNameMap,e,"initializer")}function ts(t){return p$(t)}function Wr(t){if(typeof t=="string"){const e=t in ez?ez[t]:t;if(e==="GlorotNormal")return new v$;if(e==="GlorotUniform")return new w$;if(e==="HeNormal")return new x$;if(e==="HeUniform")return new b$;if(e==="LeCunNormal")return new C$;if(e==="LeCunUniform")return new S$;{const n={};return n.className=e,n.config={},tz(n)}}else return t instanceof uc?t:tz(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function lL(t){return Array.isArray(t)&&Array.isArray(t[0])}function O_(t){return t.length===0?[]:Array.isArray(t[0])?t:[t]}function tn(t){let e;if(Array.isArray(t)){if(t.length!==1)throw new Be(`Expected Tensor length to be 1; got ${t.length}`);e=t[0]}else e=t;return e}function Wn(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(t.length===1)return t=t,t[0];throw new Be(`Expected exactly 1 Shape; got ${t.length}`)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function $_(t){let e=0;for(const n of t)n.shape.length===0?e+=1:e+=n.shape.reduce((r,s)=>r*s);return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const nz="Variable";class z$e{constructor(e,n="float32",r=nz,s=!0,i=null){this.dtype=n??"float32",this.shape=e.shape,this.id=fne(),r=r??nz,this.originalName=mne(r),this.name=gne(this.originalName),this.trainable_=s,this.constraint=i,this.val=NO(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),V$e(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function V$e(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function cL(t){return t.map(e=>e.read())}function B$(t){t.forEach(e=>{e[0].write(e[1])})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Zs{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class bA{constructor(e,n,r,s,i,o,a){this.dtype=e,this.shape=n,this.sourceLayer=r,this.inputs=s,this.callArgs=i,this.outputTensorIndex=a,this.id=fne(),o!=null&&(this.originalName=mne(o),this.name=gne(this.originalName)),this.rank=n.length}}let W$e=0,ok=class{constructor(e,n){this.callArgs=n,this.id=W$e++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const r of e.inboundLayers)r!=null&&r.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const n of this.inboundLayers)n!=null?e.push(n.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}},G$e=0;class kn extends qm{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=G$e++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=e.name;if(!n){const r=this.getClassName();n=ed(r)+"_"+sk(r)}if(this.name=n,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let r;if(e.batchInputShape!=null)r=e.batchInputShape;else if(e.inputShape!=null){let i=null;e.batchSize!=null&&(i=e.batchSize),r=[i].concat(e.inputShape)}this.batchInputShape=r;let s=e.dtype;s==null&&(s=e.inputDType),s==null&&(s="float32"),this.dtype=s}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,n){return e.name+"_ib-"+n.toString()}getNodeAtIndex(e,n){if(this.inboundNodes.length===0)throw new Jl(`The layer has never been called and thus has no defined ${n}.`);if(this.inboundNodes.length<=e)throw new Be(`Asked to get ${n} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return Ho(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return Ho(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new zu(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new zu(`Layer ${this.name} is not connected, no input to return.`);return Ho(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new zu(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new zu(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return Ho(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(n=>n.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const n=cr(e);if(this.inputSpec==null||this.inputSpec.length===0)return;const r=cr(this.inputSpec);if(n.length!==r.length)throw new Be(`Layer ${this.name} expects ${r.length} inputs, but it received ${n.length} input tensors. Input received: ${e}`);for(let s=0;s<n.length;s++){const i=n[s],o=r[s];if(o==null)continue;const a=i.rank;if(o.ndim!=null&&a!==o.ndim)throw new Be(`Input ${s} is incompatible with layer ${this.name}: expected ndim=${o.ndim}, found ndim=${a}`);if(o.maxNDim!=null&&a>o.maxNDim)throw new Be(`Input ${s} is incompatible with layer ${this.name}: expected max_ndim=${o.maxNDim}, found ndim=${a}`);if(o.minNDim!=null&&a<o.minNDim)throw new Be(`Input ${s} is incompatible with layer ${this.name}: expected min_ndim=${o.minNDim}, found ndim=${a}.`);if(o.dtype!=null&&i.dtype!==o.dtype)throw new Be(`Input ${s} is incompatible with layer ${this.name} : expected dtype=${o.dtype}, found dtype=${i.dtype}.`);if(o.axes){const l=i.shape;for(const c in o.axes){const u=Number(c),A=o.axes[c],d=u>=0?l[u]:l[l.length+u];if(A!=null&&[A,null].indexOf(d)===-1)throw new Be(`Input ${s} is incompatible with layer ${this.name}: expected axis ${u} of input shape to have value ${A} but got shape ${l}.`)}}if(o.shape!=null)for(let l=0;l<o.shape.length;++l){const c=o.shape[l],u=i.shape[l];if(c!=null&&u!=null&&c!==u)throw new Be(`Input ${s} is incompatible with layer ${this.name}: expected shape=${o.shape}, found shape=${i.shape}.`)}}}call(e,n){return e}invokeCallHook(e,n){this._callHook!=null&&this._callHook(e,n)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,n){n=n||{},this.assertNotDisposed();const r=cr(e),s=X$e(e),i=Y$e(e);if(s===i)throw new Be("Arguments to apply() must be all SymbolicTensors or all Tensors");return tm(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);const o=[];for(const a of cr(e))o.push(a.shape);this.build(Ho(o)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&i&&(this._refCount=1)}if(this.assertInputCompatibility(e),i){let o=this.call(e,n);this.supportsMasking&&this.setMaskMetadata(e,o);const a=cr(o),l=[];for(let c of a)r.indexOf(c)!==-1&&(c=c.clone()),l.push(c);if(o=Ho(l),this.activityRegularizer!=null)throw new wn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return o}else{const o=K$e(e),a=this.computeOutputShape(o);let l;const c=q$e(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?o[0]:o),a!=null&&a.length>0&&Array.isArray(a[0])?l=a.map((u,A)=>new bA(c,u,this,cr(e),n,this.name,A)):l=new bA(c,a,this,cr(e),n,this.name),this.addInboundNode(e,l,null,null,o,a,n),this._refCount++,this.activityRegularizer!=null)throw new wn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return l}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let n=!1;this.batchInputShape.forEach((r,s)=>{r!=null&&e[s]!=null&&e[s]!==r&&(n=!0)}),n&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new zu(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const n of this.inboundNodes){const r=JSON.stringify(n.outputShapes);e.indexOf(r)===-1&&e.push(r)}if(e.length===1){const n=this.inboundNodes[0].outputShapes;return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n}else throw new zu(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new Jl(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return $_(this.weights)}build(e){this.built=!0}getWeights(e=!1){return cL(e?this.trainableWeights:this.weights)}setWeights(e){Te(()=>{const n=this.weights;if(n.length!==e.length)throw new Be(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${n.length} weights. Provided weights: ${e}...`);if(n.length===0)return;const r=[],s=cL(n);for(let i=0;i<s.length;++i){const o=s[i],a=n[i],l=e[i];if(!Tn(o.shape,l.shape))throw new Be(`Layer weight shape ${o.shape} not compatible with provided weight shape ${l.shape}`);r.push([a,l])}B$(r)})}addWeight(e,n,r,s,i,o,a,l){if(this._addedWeightNames.indexOf(e)!==-1)throw new Be(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),r==null&&(r="float32"),this.fastWeightInitDuringBuild&&(s=l!=null?l():Wr("zeros"));const c=s.apply(n,r),u=new z$e(c,r,e,o,a);return c.dispose(),i!=null&&this.addLoss(()=>i.apply(u.read())),o==null&&(o=!0),o?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=cr(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,n){if(!this.supportsMasking){if(n!=null)if(Array.isArray(n))n.forEach(r=>{if(r!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return n}setMaskMetadata(e,n,r){if(!this.supportsMasking)return;const s=this.computeMask(e,r),i=cr(n),o=cr(s);if(i.length!==o.length)throw new Error(`${this.name} outputs ${i.length} tensors but ${i.length} masks for those tensors`);for(let a=0;a<i.length;a++)i[a].kerasMask=o[a]}addInboundNode(e,n,r,s,i,o,a=null){const l=cr(e);n=cr(n),r=cr(r),s=cr(s),i=O_(i),o=O_(o);const c=[],u=[],A=[];for(const d of l)c.push(d.sourceLayer),u.push(d.nodeIndex),A.push(d.tensorIndex);new ok({outboundLayer:this,inboundLayers:c,nodeIndices:u,tensorIndices:A,inputTensors:l,outputTensors:n,inputMasks:r,outputMasks:s,inputShapes:i,outputShapes:o},a);for(let d=0;d<n.length;d++)n[d].sourceLayer=this,n[d].nodeIndex=this.inboundNodes.length-1,n[d].tensorIndex=d}getConfig(){const e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function K$e(t){t=cr(t);const e=[];for(const n of t)e.push(n.shape);return Ho(e)}function q$e(t){return"float32"}function Ine(t,e,n){if((e==null||n!=null&&n>0)&&(e=t.sourceLayer,n=t.nodeIndex),e.inboundNodes.length===0)return[t];{const r=e.inboundNodes[n];if(r.inboundLayers.length===0)return r.inputTensors;{const s=[];for(let i=0;i<r.inboundLayers.length;i++){const o=r.inputTensors[i],a=r.inboundLayers[i],l=r.nodeIndices[i],c=Ine(o,a,l);for(const u of c)s.indexOf(u)===-1&&s.push(u)}return s}}}function X$e(t){let e=!0;for(const n of cr(t))if(!(n instanceof bA)){e=!1;break}return e}function Y$e(t){let e=!0;for(const n of cr(t))if(n instanceof bA){e=!1;break}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class P2 extends kn{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:sk("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new Be("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=e.batchInputShape;if(n==null){if(e.inputShape==null)throw new Be("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new Be("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const r=e.dtype||"float32";this.batchInputShape=n,this.dtype=r,this.inputSpec=[{shape:n}];const s=new bA(this.dtype,this.batchInputShape,this,[],{},this.name);s.nodeIndex=0,s.tensorIndex=0,new ok({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[s],outputTensors:[s],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(e,n){throw new Be(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}P2.className="InputLayer";Ze(P2);function Z$e(t){if(t.batchShape==null&&t.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(t.batchShape!=null&&t.shape!=null)throw new Be("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let e=t.batchShape;t.shape!=null&&e==null&&(e=[null].concat(t.shape));let n=t.dtype;return n==null&&(n="float32"),new P2({batchInputShape:e,name:t.name,dtype:n,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function J$e(t,e){if(t.dtype==null||t.dtype===e.dtype)return e;try{return ot(e,t.dtype)}catch{throw new Be(`The dtype of the feed (${e.dtype}) can not be cast to the dtype of the key '${t.name}' (${t.dtype}).`)}}class Oh{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof Oh)for(const n in e.id2Value)this.id2Value[n]=e.id2Value[n],n in e.id2Mask&&(this.id2Mask[n]=e.id2Mask[n]);else{if(e==null)return;for(const n of e)this.add(n.key,n.value)}}add(e,n,r){if(this.id2Value[e.id]==null)this.id2Value[e.id]=J$e(e,n),this.name2Id[e.name]=e.id,r!=null&&(this.id2Mask[e.id]=r);else throw new Be(`Duplicate key: name=${e.name}, id=${e.id}`);return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return this.id2Value[e.id]!=null}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof bA){if(this.id2Value[e.id]==null)throw new Be(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}else{const n=this.name2Id[e];if(n==null)throw new Be(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[n]}}getMask(e){if(e instanceof bA){if(this.id2Value[e.id]==null)throw new Be(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}else{const n=this.name2Id[e];if(n==null)throw new Be(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&Bn(this.id2Mask)}}const U_=new Ane,M_=new Ane;function eUe(t){U_!=null&&U_.setMaxEntries(t),M_!=null&&M_.setMaxEntries(t)}function Kw(t,e,n,r){const s=n==null?!1:n.training,i=Array.isArray(t),o=i?t:[t],a=o.map(p=>p.name),l=[],c=e.names();for(const p of a)c.indexOf(p)!==-1?l.push(e.getValue(p)):l.push(null);const u=a.join(",")+"|"+e.names().sort().join(",");let A=U_.get(u),d;if(A==null){const p=tUe(o,e);A=p.sorted,d=p.recipientCounts,U_.put(u,A),M_.put(u,d)}d={},s||Object.assign(d,M_.get(u));const h=new Oh(e);for(let p=0;p<A.length;++p){const m=A[p],y=m.sourceLayer;if(y instanceof P2)continue;const g=[],v=[],b=[];let C=!1;for(const D of m.inputs){const H=h.getValue(D),R=h.getMask(D);g.push(H),v.push(R),R!=null&&(C=!0),s||(d[D.name]--,d[D.name]===0&&!e.hasKey(D)&&a.indexOf(D.name)===-1&&!H.isDisposed&&D.sourceLayer.stateful!==!0&&b.push(H))}C&&(n=n||{},n.mask=v[0]);const _=cr(y.apply(g,n));let I=null;y.supportsMasking&&(I=y.computeMask(g,v));const F=rUe(m),T=Array.isArray(F)?F:[F];for(let D=0;D<T.length;++D){h.hasKey(T[D])||h.add(T[D],_[D],Array.isArray(I)?I[0]:I);const H=a.indexOf(T[D].name);H!==-1&&(l[H]=_[D])}s||Bn(b)}return h.disposeMasks(),i?l:l[0]}function tUe(t,e){ee(t!=null&&t.length>0,()=>"Expected at least one fetch, got none");let n=[],r={};if(t.length===1){const s=rz(t[0],e);n=s.sorted,r=s.recipientMap}else{const s=new Set;for(const i of t){const{sorted:o,recipientMap:a}=rz(i,e);for(const l of o)s.has(l.name)||(n.push(l),s.add(l.name));for(const l in a)r[l]==null&&(r[l]=new Set),a[l].forEach(c=>r[l].add(c))}}return{sorted:n,recipientCounts:nUe(r)}}function nUe(t){const e={};for(const n in t)e[n]=t[n].size;return e}function rz(t,e){const n=new Set,r=[],s={};for(const a of e.names())n.add(a);const i=[],o=[];for(i.push(t);i.length>0;){const a=i[i.length-1];if(n.has(a.name)){i.pop();continue}const l=o[o.length-1]===i.length-1;if(a.inputs.length===0||l)i.pop(),r.push(a),n.add(a.name),l&&o.pop();else{o.push(i.length-1);for(const c of a.inputs)s[c.name]==null&&(s[c.name]=new Set),s[c.name].add(a.name),!n.has(c.name)&&i.push(c)}}return{sorted:r,recipientMap:s}}function rUe(t){let e;if(t.sourceLayer.inboundNodes.length===1)e=t.sourceLayer.output;else{let n=null;for(let r=0;r<t.sourceLayer.inboundNodes.length;++r)for(const s of t.sourceLayer.inboundNodes[r].outputTensors)if(s.id===t.id){n=r;break}e=t.sourceLayer.getOutputAt(n)}return e}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sUe=Le();sUe.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,eUe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function _$(t,e){return Te(()=>yi(It(xe(t,t),e,!0)))}class R2 extends qm{getConfig(){return{}}}class Ene extends R2{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Te(()=>{const n=_$(e,this.axis),r=Zo(n,0,this.maxValue);return xe(e,Rt(r,qe(Ys(),n)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}Ene.className="MaxNorm";Ze(Ene);class kne extends R2{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Te(()=>Rt(e,qe(Ys(),_$(e,this.axis))))}getConfig(){return{axis:this.axis}}}kne.className="UnitNorm";Ze(kne);class Tne extends R2{apply(e){return bu(e)}}Tne.className="NonNeg";Ze(Tne);class Fne extends R2{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Te(()=>{const n=_$(e,this.axis),r=qe(xe(this.rate,Zo(n,this.minValue,this.maxValue)),xe(1-this.rate,n));return xe(e,Rt(r,qe(Ys(),n)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}Fne.className="MinMaxNorm";Ze(Fne);const sz={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function ei(t){return p$(t)}function iz(t,e={}){return T2(t,il.getMap().classNameMap,e,"constraint")}function ti(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in sz?sz[t]:t,config:{}};return iz(n)}else return t instanceof R2?t:iz(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function Ap(t){if(t==null)return;const e=[],n=[],r=[];for(const s in t){const i=t[s];if(typeof i!="number"){const o=i;e.push(o.data()),n.push(s),r.push(o)}}if(e.length>0){const s=await Promise.all(e);for(let i=0;i<s.length;++i)t[n[i]]=s[i][0];Bn(r)}}function Lne(t){if(t!=null)for(const e in t){const n=t[e];typeof n!="number"&&n.dispose()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var oz;(function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"})(oz||(oz={}));const iUe=125;class Cx{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,n){}async onEpochEnd(e,n){}async onBatchBegin(e,n){}async onBatchEnd(e,n){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class oUe{constructor(e,n=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=n}append(e){this.callbacks.push(e)}setParams(e){for(const n of this.callbacks)n.setParams(e)}setModel(e){for(const n of this.callbacks)n.setModel(e)}async onEpochBegin(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochBegin(e,n)}async onEpochEnd(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochEnd(e,n)}async onBatchBegin(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchBegin(e,n)}async onBatchEnd(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchEnd(e,n)}async onTrainBegin(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainBegin(e)}async onTrainEnd(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainEnd(e)}}class aUe extends Cx{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,n){n==null&&(n={});const r=n.size==null?0:n.size;this.seen+=r;for(const s in n){const i=n[s];if(typeof i=="number")this.totals.hasOwnProperty(s)||(this.totals[s]=0),this.totals[s]=this.totals[s]+i*r;else{let o;s in this.totals?o=this.totals[s]:this.totals[s]=0;const a=Te(()=>qe(this.totals[s],xe(i,r)));this.totals[s]=a,o!=null&&o.dispose()}}}async onEpochEnd(e,n){if(n!=null)for(const r of this.params.metrics)this.totals[r]!=null&&(typeof this.totals[r]=="number"?n[r]=this.totals[r]/this.seen:Te(()=>{const s=xe(Rt(1,this.seen),this.totals[r]);n[r]=s,this.totals[r].dispose(),Xs(n[r])}))}}class lUe extends Cx{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,n){n==null&&(n={}),this.epoch.push(e);for(const r in n)this.history[r]==null&&(this.history[r]=[]),this.history[r].push(n[r])}async syncData(){const e=[],n=[],r=[];for(const i in this.history){const o=this.history[i];for(let a=0;a<o.length;++a)if(typeof o[a]!="number"){const l=o[a];e.push(l.data()),n.push(i),r.push(a)}}const s=await Promise.all(e);for(let i=0;i<s.length;++i)this.history[n[i]][r[i]].dispose(),this.history[n[i]][r[i]]=s[i][0]}}class cUe extends Cx{constructor(e,n){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||KO,this.yieldEvery=n||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=iUe),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");N_(this.yieldEvery)&&(this.maybeWait=b$e(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,n,r){const s=[];this.yield!=null&&(await Ap(r),s.push(this.yield(e,n,r))),s.push(this.nextFrameFunc()),await Promise.all(s)}async onEpochBegin(e,n){this.currentEpoch=e,this.epochBegin!=null&&(await Ap(n),await this.epochBegin(e,n))}async onEpochEnd(e,n){const r=[];this.epochEnd!=null&&(await Ap(n),r.push(this.epochEnd(e,n))),this.yieldEvery==="epoch"&&r.push(this.nextFrameFunc()),await Promise.all(r)}async onBatchBegin(e,n){this.batchBegin!=null&&(await Ap(n),await this.batchBegin(e,n))}async onBatchEnd(e,n){const r=[];this.batchEnd!=null&&(await Ap(n),r.push(this.batchEnd(e,n))),this.yieldEvery==="batch"?r.push(this.nextFrameFunc()):N_(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,e,n)),await Promise.all(r)}async onTrainBegin(e){this.trainBegin!=null&&(await Ap(e),await this.trainBegin(e))}async onTrainEnd(e){this.trainEnd!=null&&(await Ap(e),await this.trainEnd(e))}}function Dne(t,e){return t==null&&(t={}),t instanceof Cx?[t]:Array.isArray(t)&&t[0]instanceof Cx?t:cr(t).map(r=>new cUe(r,e))}class Ul{constructor(){}static registerCallbackConstructor(e,n){ee(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),Ul.checkForDuplicate(n),Ul.constructors[e]==null&&(Ul.constructors[e]=[]),Ul.constructors[e].push(n)}static checkForDuplicate(e){for(const n in Ul.constructors)Ul.constructors[+n].forEach(s=>{if(s===e)throw new Be("Duplicate callback constructor.")})}static clear(){Ul.constructors={}}static createCallbacks(e){const n=[];for(const r in Ul.constructors){const s=+r;e>=s&&n.push(...Ul.constructors[s])}return n.map(r=>new r)}}Ul.constructors={};function Pne(t,e,n,r,s,i,o,a,l){const c=new lUe,u=[new aUe,...Ul.createCallbacks(e)];t!=null&&u.push(...t),u.push(c);const A=new oUe(u);return A.setParams({epochs:n,initialEpoch:r,samples:s,steps:i,batchSize:o,verbose:e,doValidation:a,metrics:l}),{callbackList:A,history:c}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function ud(t,e={},n=!1){return T2(t,il.getMap().classNameMap,e,"layer",n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Q_(t,e){return Te(()=>{t.dtype!=="float32"&&(t=ot(t,"float32"));const n=It(L2(t),e,!0),r=Vm(n.shape,Ys()),s=yi(EA(n,r));return Rt(t,s)})}function ak(t,e){return Te(()=>es(L2(wt(e,t)),-1))}function N$(t,e){return Te(()=>es(Ps(wt(e,t)),-1))}function I$(t,e){return Te(()=>{const n=wt(t,e),r=Zo(Ps(t),Ys(),Number.MAX_VALUE),s=Ps(Rt(n,r));return xe(100,es(s,-1))})}function uUe(t,e){return Te(()=>{const n=Zo(e,Ys(),Number.MAX_VALUE),r=La(qe(1,n)),s=Zo(t,Ys(),Number.MAX_VALUE),i=La(qe(1,s));return es(L2(wt(r,i)),-1)})}function AUe(t,e){return Te(()=>{const n=EA(0,wt(1,xe(t,e)));return es(L2(n),-1)})}function dUe(t,e){return Te(()=>{const n=EA(0,wt(1,xe(t,e)));return es(n,-1)})}function hUe(t,e){return Te(()=>{const n=It(xe(t,e),-1),r=fl(xe(wt(1,t),e),-1);return EA(0,qe(1,wt(r,n)))})}function fUe(t,e){return Te(()=>{const n=Math.log(2),r=wt(e,t),s=wt(qe(r,Wm(xe(-2,r))),n);return es(s,-1)})}function Sx(t,e,n=!1){return Te(()=>{if(n)e=B2(e);else{const r=It(e,e.shape.length-1,!0);e=Rt(e,r)}return e=Zo(e,Ys(),1-Ys()),Er(It(xe(ot(t,"float32"),La(e)),e.shape.length-1))})}function j_(t,e,n=!1){return Te(()=>{const r=ot(T1(D$e(t)),"int32");e=Zo(e,Ys(),1-Ys());const s=e.shape,i=Se(iy(r,s[s.length-1]),s);return Sx(i,e,n)})}function pUe(t,e){if(!Tn(t.shape,e.shape))throw new Be(`logits and labels must have the same shape, but got shapes ${JSON.stringify(t.shape)} and ${JSON.stringify(e.shape)}`);return Te(()=>{const n=bu(e),r=Er(Ps(e));return qe(wt(n,xe(e,t)),m2(Jo(r)))})}function lk(t,e){return Te(()=>{let n;return n=Zo(e,Ys(),1-Ys()),n=La(Rt(n,wt(1,n))),es(pUe(t,n),-1)})}function mUe(t,e){return Te(()=>{const n=Zo(t,Ys(),1),r=Zo(e,Ys(),1);return It(xe(t,La(Rt(n,r))),-1)})}function gUe(t,e){return Te(()=>{const n=La(qe(Ys(),e));return es(wt(e,xe(t,n)),-1)})}function Rne(t,e){return Te(()=>{const n=Q_(t,-1),r=Q_(e,-1),s=xe(n,r);return Er(It(s,-1))})}const H_={meanSquaredError:ak,meanAbsoluteError:N$,meanAbsolutePercentageError:I$,meanSquaredLogarithmicError:uUe,squaredHinge:AUe,hinge:dUe,categoricalHinge:hUe,logcosh:fUe,categoricalCrossentropy:Sx,sparseCategoricalCrossentropy:j_,binaryCrossentropy:lk,kullbackLeiblerDivergence:mUe,poisson:gUe,cosineProximity:Rne};function G5(t){if(typeof t=="string"){if(t in H_)return H_[t];let e=`Unknown loss ${t}`;throw t.toLowerCase().includes("softmaxcrossentropy")&&(e=`Unknown loss ${t}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new Be(e)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function One(t,e){return Te(()=>{const n=xe(.5,Da(e)),r=hA(ia(e,n),t.dtype);return es(lc(t,r),-1)})}function $ne(t,e){return Te(()=>hA(lc(xm(t,-1),xm(e,-1)),"float32"))}function yUe(t,e){return Te(()=>ot(It(Au(lc(t,1),lc(e,1))),"float32"))}function wUe(t,e){return Te(()=>ot(It(Au(lc(t,0),lc(e,1))),"float32"))}function vUe(t,e){return Te(()=>{const n=yUe(t,e),r=wUe(t,e),s=qe(n,r);return ot(ki(ia(s,0),Rt(n,s),0),"float32")})}function xUe(t,e){return lk(t,e)}function bUe(t,e){return t.rank===e.rank&&(t=$f(t,[t.rank-1])),e=xm(e,-1),e.dtype!==t.dtype&&(e=ot(e,t.dtype)),ot(lc(t,e),"float32")}const CUe=ak,SUe=ak,BUe=N$,_Ue=N$,NUe=I$,IUe=I$,Une=Sx,EUe=Rne,Mne=j_,z_={binaryAccuracy:One,categoricalAccuracy:$ne,precision:vUe,categoricalCrossentropy:Une,sparseCategoricalCrossentropy:Mne,mse:CUe,MSE:SUe,mae:BUe,MAE:_Ue,mape:NUe,MAPE:IUe,cosine:EUe};function kUe(t){if(typeof t=="string"&&t in z_)return z_[t];if(typeof t!="string"&&t!=null)return t;throw new Be(`Unknown metric ${t}`)}function SS(t){if(Vu(t!==null,`Unknown LossOrMetricFn ${t}`),typeof t=="string")return t;{let e;for(const n of Object.keys(H_))if(H_[n]===t){e=n;break}if(e!==void 0)return e;for(const n of Object.keys(z_))if(z_[n]===t){e=n;break}return e!==void 0?e:t.name}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function TUe(t){const e={Adagrad:()=>wp.adagrad(.01),Adadelta:()=>wp.adadelta(1,.95,Ys()),Adam:()=>wp.adam(.001,.9,.999,Ys()),Adamax:()=>wp.adamax(.002,.9,.999,Ys(),0),RMSProp:()=>wp.rmsprop(.001,.9,0,Ys()),SGD:()=>wp.sgd(.01)};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new Be(`Unknown Optimizer ${t}`)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const az=1*1024*1024;function lz(t,e,n=!1){if(t==null||typeof t!="object"||Object.getPrototypeOf(t)!==Object.prototype||!uL(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const r=JSON.stringify(t);r.length>az&&console.warn(`User-defined metadata of model "${e}" is too large in size (length=${r.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${az}.`)}}function uL(t){if(t===null)return!0;if(typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);for(const n of e)if(typeof n!="string"||!uL(t[n]))return!1;return!0}else if(Array.isArray(t)){for(const e of t)if(!uL(e))return!1;return!0}else return!1;else{const e=typeof t;return e==="string"||e==="number"||e==="boolean"}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function FUe(t,e,n,r=console.log){const s=DUe(t),i=["Layer (type)","Input Shape","Output shape","Param #"];s?(e=e||90,n=n||[.32,.61,.89,1]):(e=e||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(u=>Math.floor(e*u)));let o;if(!s){i.push("Receives inputs"),o=[];for(const u in t.nodesByDepth)o.push(...t.nodesByDepth[u])}r("_".repeat(e)),V_(i,n,r),r("=".repeat(e));const a=t.layers;for(let u=0;u<a.length;++u)s?PUe(a[u],n,r):RUe(a[u],n,o,r),r((u===a.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();const l=LUe(t),c=$_(t.nonTrainableWeights);r(`Total params: ${l+c}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${c}`),r("_".repeat(e))}function LUe(t){let e;return t.collectedTrainableWeights!=null?e=$_(t.collectedTrainableWeights):e=$_(t.trainableWeights),e}function DUe(t){let e=!0;const n=[],r=[];for(const s in t.nodesByDepth)n.push(t.nodesByDepth[s]);for(const s of n){if(s.length>1||s.length===1&&s[0].inboundLayers.length>1){e=!1;break}r.push(...s)}if(e)for(const s of t.layers){let i=!1;for(const o of s.inboundNodes)if(r.indexOf(o)!==-1)if(i){e=!1;break}else i=!0;if(!e)break}return e}function V_(t,e,n=console.log){let r="";for(let s=0;s<t.length;++s)s>0&&(r=r.slice(0,r.length-1)+" "),r+=t[s],r=r.slice(0,e[s]),r+=" ".repeat(e[s]-r.length);n(r)}function PUe(t,e,n){let r,s;try{s=t.inboundNodes.map(l=>JSON.stringify(l.inputShapes)).join(",")}catch{s="multiple"}try{r=JSON.stringify(t.outputShape)}catch{r="multiple"}const i=t.name,o=t.getClassName(),a=[`${i} (${o})`,s,r,t.countParams().toString()];V_(a,e,n)}function RUe(t,e,n,r){let s,i;try{i=t.inboundNodes.map(A=>JSON.stringify(A.inputShapes)).join(",")}catch{i="multiple"}try{s=JSON.stringify(t.outputShape)}catch{s="multiple"}const o=[];for(const A of t.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(A)===-1))for(let d=0;d<A.inboundLayers.length;++d){const h=A.inboundLayers[d].name,p=A.nodeIndices[d],m=A.tensorIndices[d];o.push(`${h}[${p}][${m}]`)}const a=t.name,l=t.getClassName(),c=o.length===0?"":o[0],u=[`${a} (${l})`,i,s,t.countParams().toString(),c];V_(u,e,r);for(let A=1;A<o.length;++A)V_(["","","","",o[A]],e,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Qne(t,e,n){return(t==="inboundNodes"||t==="outputLayers"||t==="inputLayers")&&e===0&&typeof n=="string"}function AL(t,e){if(t===null)return null;if(typeof t=="string")return Sp(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],r=t.length;for(let s=0;s<r;++s){const i=t[s];Qne(e,s,i)?n.push(i):n.push(AL(i,e))}return n}else{const n={};for(const r of Object.keys(t)){const s=t[r];if(r==="name"&&typeof s=="string")n[r]=s;else{const i=Sp(r);n[i]=AL(s,i)}}return n}}function dL(t,e){if(t==null)return null;if(typeof t=="string")return ed(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],r=t.length;for(let s=0;s<r;++s){const i=t[s];Qne(e,s,i)?n.push(i):n.push(dL(i,e))}return n}else{const n={};for(const r of Object.keys(t)){const s=t[r],i=ed(r);(r==="name"||r==="className")&&typeof s=="string"?n[i]=s:n[i]=dL(s,r)}return n}}/** @license See the LICENSE file. */const jne="4.22.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const OUe=t=>{const e=Object.keys(t);if(e.length===0)return!1;const n=e[0].split("/");return!isNaN(parseInt(n[n.length-1],10))};class jc extends kn{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,this.name==null){const v=this.getClassName().toLowerCase();this.name=sk(v)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],tf(this.inputs).length!==this.inputs.length)throw new Be(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(v=>v.name)}`);tf(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(v=>v.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const v of this.outputs){const b=v.sourceLayer,C=v.nodeIndex,_=v.tensorIndex;this.outputLayers.push(b),this.outputLayersNodeIndices.push(C),this.outputLayersTensorIndices.push(_)}for(const v of this.inputs){const b=v.sourceLayer,C=v.nodeIndex,_=v.tensorIndex;Vu(C===0,"input layer has >1 nodes"),Vu(_===0,"input layer has >1 tensors"),this.inputLayers.push(b),this.inputLayersNodeIndices.push(C),this.inputLayersTensorIndices.push(_)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let v=0;v<this.inputLayers.length;v++){const b=this.inputLayers[v];if(!(b instanceof P2))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${v} (0-based) originates from layer type ${b.getClassName()}.`);this.inputNames.push(b.name),this.feedInputShapes.push(b.batchInputShape),this.feedInputNames.push(b.name)}for(const v of this.outputLayers)this.outputNames.push(v.name);this.internalInputShapes=this.inputs.map(v=>v.shape),this.internalOutputShapes=this.outputs.map(v=>v.shape);const n={},r={},s={},i={},o={},a=[],l=(v,b,C,_,I,F)=>{(_==null||I==null||F==null)&&(_=v.sourceLayer,I=v.nodeIndex,F=v.tensorIndex);const T=_.inboundNodes[I];if(C.indexOf(T)!==-1)throw new Jl(`The tensor ${v.name} at layer "${_.name}" is part of a cycle.`);if(b.indexOf(T)!==-1)return;this.containerNodes.add(jc.nodeKey(_,I)),_.id in o||(o[_.id]=Object.keys(o).length),C.indexOf(T)===-1&&C.push(T);const D=T.inboundLayers.length;for(let H=0;H<D;H++){const R=T.inputTensors[H],U=T.inboundLayers[H],W=T.nodeIndices[H],$=T.tensorIndices[H];l(R,b,C,U,W,$)}for(b.push(T);C.indexOf(T)>=0;)C.splice(C.indexOf(T),1);a.push(T)},c=[],u=[];for(const v of this.outputs)l(v,c,u);const A=a.slice().reverse();for(const v of A){r[v.id]=v,v.id in n||(n[v.id]=0);let b=n[v.id];const C=s[v.outboundLayer.id]==null?0:s[v.outboundLayer.id];b=Math.max(b,C),s[v.outboundLayer.id]=b,i[v.outboundLayer.id]=v.outboundLayer,n[v.id]=b;for(let _=0;_<v.inboundLayers.length;_++){const I=v.inboundLayers[_],F=v.nodeIndices[_],T=I.inboundNodes[F],D=n[T.id]==null?0:n[T.id];n[T.id]=Math.max(b+1,D),r[T.id]=T}}const d={};for(const v in n){const b=n[v];b in d||(d[b]=[]),d[b].push(r[v])}const h={};for(const v in s){const b=s[v];b in h||(h[b]=[]),h[b].push(i[v])}let p=Object.keys(h).map(v=>parseInt(v,10)).sort(xS);this.layers=[];for(const v of p){const b=h[v];b.sort((C,_)=>{const I=o[C.id],F=o[_.id];return I<F?-1:I>F?1:0});for(const C of b)C instanceof jc&&this.internalContainerRefs.push(C),this.layers.push(C)}this.layersByDepth=h,p=Object.keys(d).map(v=>parseInt(v,10)).sort(xS);const m=this.inputs.slice(),y=[];for(const v of p)for(const b of d[v]){const C=b.outboundLayer;if(C!=null){for(const _ of b.inputTensors)if(m.indexOf(_)===-1)throw new Jl(`Graph disconnected: cannot obtain value for tensor ${_} at layer "${C.name}". The following previous layers were accessed without issue: ${y}`);for(const _ of b.outputTensors)m.push(_);y.push(C.name)}}this.nodesByDepth=d;const g=this.layers.map(v=>v.name);for(const v of g){const b=g.filter(C=>C===v).length;if(b!==1)throw new Jl(`The name "${v}" is used ${b} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new ok({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(v=>null),outputMasks:this.outputs.map(v=>null),inputShapes:this.inputs.map(v=>v.shape),outputShapes:this.outputs.map(v=>v.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const n of this.layers)e.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)e.numDisposedVariables+=n.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(n=>{n._trainableWeights.forEach(r=>r.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new Be("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const n of this.layers)e=e.concat(n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.layers)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.layers)n.push(...r.trainableWeights);return n.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,n=!0){const r={};let s=0;const i=OUe(e);i&&this.parseWeights(e);for(const a of this.layers)for(const[l,c]of a.weights.entries()){const u=i?`${c.name.split("/").slice(0,-1).join("/")+"/"}${l}`:c.originalName;if(r[u]!=null)throw new Be(`Duplicate weight name: ${u}`);r[u]=c,s++}const o=[];for(const a in e){let l=a;if(r[a]==null){const c=a.split("/");l=c.slice(0,-2).concat([c[c.length-1]]).join("/")}if(r[l]!=null)o.push([r[l],e[a]]);else if(n)throw new Be(`Provided weight data has no target variable: ${a}`);delete r[l]}if(n){const a=[];for(const l in r)a.push(l);if(a.length>0)throw new Be(`${a.length} of ${s} weights are not set: ${a}`)}B$(o)}parseWeights(e){for(const n in Object.keys(e)){const r=n.split("/"),s=["vars","layer_checkpoint_dependencies"],i=r.map(o=>o.startsWith("_")?o.slice(1):o).filter(o=>!s.includes(o)).join("/");i!==n&&(e[i]=e[n],delete e[n])}}updatedConfig(){const e=this.getConfig(),n={};return n.className=this.getClassName(),n.config=e,n.kerasVersion=`tfjs-layers ${jne}`,n.backend="TensorFlow.js",n}toJSON(e,n=!0){const r=dL(this.updatedConfig());return n?JSON.stringify(r):r}call(e,n){return Te(()=>{e=cr(e);const r=new Oh;for(let s=0;s<this.inputs.length;++s)r.add(this.inputs[s],e[s]);return Kw(this.outputs,r,n)})}computeMask(e,n){return Te(()=>{e=cr(e);let r;return n==null?r=Nm(null,e.length):r=cr(n),this.runInternalGraph(e,r)[1]})}computeOutputShape(e){const n=O_(e);if(n.length!==this.inputLayers.length)throw new Be(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const r={};for(let a=0;a<n.length;a++){const l=this.inputLayers[a],c=n[a],u=l.name+"_0_0";r[u]=c}const s=Object.keys(this.nodesByDepth).map(a=>parseInt(a,10)).sort(xS);if(s.length>1)for(const a of s){const l=this.nodesByDepth[a];for(const c of l){const u=c.outboundLayer;if(this.inputLayers.map(m=>m.id).indexOf(u.id)!==-1)continue;const A=[];for(let m=0;m<c.inboundLayers.length;m++){const y=c.inboundLayers[m],g=c.nodeIndices[m],v=c.tensorIndices[m],b=`${y.name}_${g}_${v}`,C=r[b];A.push(C)}const d=u.computeOutputShape(Ho(A)),h=O_(d),p=u.inboundNodes.indexOf(c);for(let m=0;m<h.length;m++){const y=`${u.name}_${p}_${m}`;r[y]=h[m]}}}const i=[],o=[];for(let a=0;a<this.outputLayers.length;a++){const l=this.outputLayers[a],c=this.outputLayersNodeIndices[a],u=this.outputLayersTensorIndices[a],A=`${l.name}_${c}_${u}`;o.push(A)}for(let a=0;a<o.length;a++){const l=o[a];Vu(l in r),i.push(r[l])}return Ho(i)}runInternalGraph(e,n){n==null&&(n=Nm(null,e.length));const r={};for(let l=0;l<this.inputs.length;++l){const c=this.inputs[l],u=e[l],A=n[l];r[c.id]=[u,A]}const s=Object.keys(this.nodesByDepth).map(l=>parseInt(l,10)).sort(xS);for(const l of s){const c=this.nodesByDepth[l];for(const u of c){const A=u.outboundLayer,d=u.inputTensors,h=u.outputTensors,p=new Array;for(const m of d)m.id in r&&p.push(r[m.id]);if(p.length===d.length){let m={},y,g,v,b;if(u.callArgs!=null&&(m=u.callArgs),p.length===1){const[C,_]=p[0];m.mask==null&&(m.mask=_),v=cr(A.call(C,m)),b=cr(A.computeMask(C,_)),y=[C],g=[_]}else y=p.map(C=>C[0]),g=p.map(C=>C[1]),m.mask==null&&(m.mask=g),v=cr(A.call(y,m)),b=cr(A.computeMask(y,g));if(A.activityRegularizer)throw new wn("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let C=0;C<h.length;++C){const _=h[C],I=v[C],F=b[C];r[_.id]=[I,F]}}}}const i=[],o=[],a=[];for(const l of this.outputs){Vu(l.id in r,`Could not compute output ${l.name} : ${l.id}`);const[c,u]=r[l.id];a.push(c.shape),i.push(c),o.push(u)}return[i,o,a]}buildNodeConversionMap(e){const n={};let r;for(const s of this.layers){r=s instanceof jc?1:0;for(let i=0;i<s.inboundNodes.length;i++){const o=jc.nodeKey(s,i);this.containerNodes.has(o)&&(n[o]=r,r+=1)}}return n}getLayer(e,n){if(n!=null)return this.findLayer(n);if(e==null)throw new Be("Provide either a layer name or layer index");if(typeof e=="number")return this.findLayer(e);for(const r of this.layers)if(r.name===e)return r;throw new Be(`No such layer: ${e}`)}findLayer(e){if(this.layers.length<=e)throw new Be(`Was asked to retrieve layer at index ${e}, but model only has ${this.layers.length} layer(s).`);return this.layers[e]}calculateLosses(){return Te(()=>{const e=[];for(const n of this.layers)for(let r=0;r<n.inboundNodes.length;++r){const s=jc.nodeKey(n,r);this.containerNodes.has(s)&&e.push(...n.calculateLosses())}return e})}getConfig(){const e={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[];for(const o of this.layers){const a=o.getClassName(),l=o.getConfig(),c=[];for(let A=0;A<o.inboundNodes.length;A++){const d=o.inboundNodes[A],h=jc.nodeKey(o,A);let p={};if(this.containerNodes.has(h)){if(d.callArgs)try{JSON.stringify(d.callArgs),p=d.callArgs}catch{console.warn(`Layer ${o.name} was passed non-serializable keyword arguments: ${d.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),p={}}if(d.inboundLayers.length>0){const m=[];for(let y=0;y<d.inboundLayers.length;y++){const g=d.inboundLayers[y],v=d.nodeIndices[y],b=d.tensorIndices[y],C=jc.nodeKey(g,v);let _=n[C];_==null&&(_=0),m.push([g.name,_,b,p])}c.push(m)}}}const u={};u.name=o.name,u.className=a,u.config=l,u.inboundNodes=c,r.push(u)}e.layers=r;const s=[];for(let o=0;o<this.inputLayers.length;o++){const a=this.inputLayers[o],l=this.inputLayersNodeIndices[o],c=jc.nodeKey(a,l);if(!this.containerNodes.has(c))continue;let u=n[c];u==null&&(u=0);const A=this.inputLayersTensorIndices[o];s.push([a.name,u,A])}e.inputLayers=s;const i=[];for(let o=0;o<this.outputLayers.length;o++){const a=this.outputLayers[o],l=this.outputLayersNodeIndices[o],c=jc.nodeKey(a,l);if(!this.containerNodes.has(c))continue;let u=n[c];u==null&&(u=0);const A=this.outputLayersTensorIndices[o];i.push([a.name,u,A])}return e.outputLayers=i,e}static fromConfig(e,n,r={},s=!1){const i={},o={};function a(y,g){y.name in o?o[y.name].push(g):o[y.name]=[g]}function l(y,g){const v=[];let b;for(const C of g){const _=C[0],I=C[1],F=C[2];if(b=C[3]==null?{}:C[3],!(_ in i)){a(y,g);return}const T=i[_];if(T.inboundNodes.length<=I){a(y,g);return}const D=T.inboundNodes[I];v.push(D.outputTensors[F])}v.length>0&&y.apply(Ho(v),b)}function c(y){const g=y.name,v=ud(y,n.customObjects!=null?n.customObjects:{});v.setFastWeightInitDuringBuild(s),i[g]=v,y.inboundNodes.forEach(C=>{if(!(C instanceof Array))throw new Be(`Corrupted configuration, expected array for nodeData: ${C}`);a(v,C)})}const u=n.name,A=n.layers;for(const y of A)c(y);for(;!x$e(o);)for(const y of A){const g=i[y.name];if(g.name in o){const v=o[g.name];delete o[g.name];for(const b of v)l(g,b)}}const d=[],h=[],p=n.inputLayers;for(const y of p){const g=y[0],v=y[1],b=y[2];Vu(g in i);const _=i[g].inboundNodes[v].outputTensors;d.push(_[b])}const m=n.outputLayers;for(const y of m){const g=y[0],v=y[1],b=y[2];Vu(g in i);const _=i[g].inboundNodes[v].outputTensors;h.push(_[b])}return new e({inputs:d,outputs:h,name:u})}get stateful(){if(this._stateful)throw new Be("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){Te(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function $Ue(t,e,n){const r=e.length;if(t==null||Array.isArray(t)&&t.length===0)return e.map(s=>null);if(r===1)return Array.isArray(t)&&t.length===1?t:typeof t=="object"&&e[0]in t?[t[e[0]]]:[t];if(Array.isArray(t)){if(t.length!==r)throw new Error(`Provided ${n} is an array of ${t.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return t}else if(typeof t=="object"&&Object.keys(t).length>0&&typeof t[Object.keys(t)[0]]=="object"){const s=[];return e.forEach(i=>{i in t?s.push(t[i]):s.push(null)}),s}else throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${e} keys. Provided ${n} not understood: ${JSON.stringify(t)}`)}function Hne(t,e){return $Ue(t,e,"classWeight")}async function zne(t,e,n,r){if(n!=null){const s=Te(()=>{if(t.shape.length===1)return AA(t);if(t.shape.length===2){if(t.shape[1]>1)return xm(t,1);if(t.shape[1]===1)return Se(t,[t.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${t.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${t.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),i=Array.from(await s.data());Bn(s);const o=[];return i.forEach(a=>{if(n[a]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${a} exists in the data but not in classWeight`);o.push(n[a])}),qi(o,"float32")}else return null}function UUe(t,e){return xe(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const MUe=32;function Vne(t,e){let n,r;const s=e;n=s.xs,r=s.ys,ee(n!=null&&r!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${e}`);const i=cz("input",t.inputNames,n),o=cz("output",t.outputNames,r),a=i[0].shape[0];ee(i.length===t.inputs.length,()=>`LayersModel has ${t.inputs.length} inputs, but the dataset provides ${i.length} inputs.  (Expected input keys: ${JSON.stringify(t.inputNames)})`),ee(o.length===t.outputs.length,()=>`LayersModel has ${t.outputs.length} outputs, but the dataset provides ${o.length} outputs.  (Expected output keys: ${JSON.stringify(t.outputNames)})`);for(let l=0;l<i.length;l++)ee(i[l].shape[0]===a,()=>`Batch size mismatch: input ${t.inputNames[l]} has ${i[l].shape[0]}; expected  ${a} based on input ${t.inputNames[0]}.`);for(let l=0;l<o.length;l++)ee(o[l].shape[0]===a,()=>`Batch size mismatch: output ${t.outputNames[l]} has ${o[l].shape[0]}; expected  ${a} based on input ${t.inputNames[0]}.`);return{xs:i,ys:o}}function cz(t,e,n){if(n instanceof nr)return[n];if(Array.isArray(n))return ee(n.length===e.length,()=>`Received an array of ${n.length} Tensors, but expected ${e.length} to match the ${t} keys ${e}.`),n;{const r=[];for(const s of e){if(n[s]==null)throw new Be(`The feature data generated by the dataset lacks the required ${t} key '${s}'.`);r.push(n[s])}return r}}function QUe(t){if(t.length===3)throw new wn("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}async function jUe(t,e,n){const r=n.batchesPerEpoch!=null;if(ee(t.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),ee(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),ee(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`),ee(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`),ee(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;try{const s=n.validationData!=null;let i,o;if(s)if(uz(n.validationData))ee(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`);else{const y=QUe(n.validationData);i=y.xs,o=y.ys}const a=t.makeTrainFunction(),l=t.getDedupedMetricsNames();let c;s?c=l.slice().concat(l.map(y=>"val_"+y)):c=l.slice();const u=Dne(n.callbacks,n.yieldEvery),A=n.verbose==null?1:n.verbose,{callbackList:d,history:h}=Pne(u,A,n.epochs,null,null,HUe(e,n),null,s,c);d.setModel(t),t.history=h,await d.onTrainBegin(),t.stopTraining_=!1;let p=n.initialEpoch==null?0:n.initialEpoch,m=await e.iterator();for(;p<n.epochs;){const y={};await d.onEpochBegin(p);let g=0,v=0;for(r||(m=await e.iterator());!r||g<n.batchesPerEpoch;){const b=await m.next();if(r&&b.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${g} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${n.batchesPerEpoch*n.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(b.value!=null){const{xs:C,ys:_}=Vne(t,b.value),I={};I.batch=v,I.size=C[0].shape[0],await d.onBatchBegin(v,I);const F=[];if(n.classWeight!=null){const H=Hne(n.classWeight,t.outputNames);for(let R=0;R<H.length;++R)F.push(await zne(_[R],null,H[R]))}const T=C.concat(_).concat(F),D=a(T);Bn(T);for(let H=0;H<l.length;++H){const R=l[H],U=D[H];I[R]=U,Xs(U)}await d.onBatchEnd(v,I),Lne(I),v++,g++}if(r?g>=n.batchesPerEpoch:b.done){if(s){let C;uz(n.validationData)?C=cr(await t.evaluateDataset(n.validationData,{batches:n.validationBatches})):C=cr(t.evaluate(i,o,{batchSize:n.validationBatchSize==null?MUe:n.validationBatchSize,verbose:0}));for(let _=0;_<t.metricsNames.length;++_)y[`val_${t.metricsNames[_]}`]=C[_]}break}if(t.stopTraining_)break}if(await d.onEpochEnd(p,y),p++,t.stopTraining_)break}return await d.onTrainEnd(),await t.history.syncData(),t.history}finally{t.isTraining=!1}}function HUe(t,e){let n=null;return e.batchesPerEpoch!=null?n=e.batchesPerEpoch:Number.isFinite(t.size)&&(n=t.size),n}function uz(t){return typeof t.iterator=="function"}function zUe(t){return typeof t.next=="function"}async function VUe(t,e,n){n=n||{};const r=n.batches!=null,s=t.testFunction;let i=[];if(n.verbose>0)throw new wn("Verbose mode is not implemented yet.");ee(!r||n.batches>0&&Number.isInteger(n.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`);const o=zUe(e)?e:await e.iterator();let a=0,l=0;for(;!r||l<n.batches;){const c=await o.next();if(i=Te(()=>{if(c.value){const{xs:u,ys:A}=Vne(t,c.value),d=u.concat(A),h=Te(()=>s(d));if(Bn(d),l===0)for(let m=0;m<h.length;++m)i.push(Ht(0));const p=d[0].shape[0];for(let m=0;m<h.length;++m){const y=h[m],g=i[m];i[m]=Te(()=>qe(i[m],xe(p,y))),l>0&&Bn(g)}Bn(h),a+=p,++l}return i}),c.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let c=0;c<i.length;++c){const u=i[c];i[c]=Rt(i[c],a),Bn(u)}return Ho(i)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function K5(t){ee(t>0&&Number.isInteger(t),()=>`batchSize is required to be a positive integer, but got ${t}`)}function Sw(t,e,n){return t==null?[null]:Array.isArray(t)?t.map(r=>nm(r,e,n-e)):nm(t,e,n-e)}function hL(t,e){return Te(()=>t==null?null:Array.isArray(t)?t.map(n=>hL(n,e)):wne(t,e.dtype==="int32"?e:ot(e,"int32")))}function q5(t,e){const n=[];let r=0,s=null;for(;r<t;)s=r+e,s>=t&&(s=t),n.push([r,s]),r=s;return n}function Wne(t){const e=[];t instanceof nr&&(t=[t]);for(let n=0;n<t.length;++n){const r=t[n];if(r.rank===1)e.push(F2(r,1));else{if(r.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(r)}}return e}function $c(t,e){if(t==null)return;const n=[];if(e instanceof nr)n.push(e.id);else if(Array.isArray(e))e.forEach(s=>n.push(s.id));else if(e!=null)for(const s in e){const i=e[s];n.push(i.id)}const r=[];if(t instanceof nr)n.indexOf(t.id)===-1&&r.push(t);else if(Array.isArray(t))t.forEach(s=>{n.indexOf(s.id)===-1&&r.push(s)});else if(t!=null)for(const s in t){const i=t[s];n.indexOf(i.id)===-1&&r.push(i)}r.forEach(s=>{s.isDisposed||s.dispose()})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function WUe(t){return t instanceof nr}function fL(t){return Array.isArray(t)}function Az(t){return!WUe(t)&&!fL(t)}function dz(t,e,n,r=!0,s=""){if(e==null||e.length===0){if(t!=null){let o=!1;if(fL(t)&&t.length>0)o=!0;else if(Az(t)){for(const a in t)if(t.hasOwnProperty(a)){o=!0;break}}else o=!0;if(o)throw new Be(`Error when checking model ${s} expected no data, but got ${t}`)}return[]}if(t==null)return e.map(o=>null);let i;if(Az(t)){t=t,i=[];for(const o of e){if(t[o]==null)throw new Be(`No data provided for "${o}". Need data for each key in: ${e}`);i.push(t[o])}}else if(fL(t)){if(t=t,t.length!==e.length)throw new Be(`Error when checking model ${s}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${e.length} Tensor(s), but instead got the following list of Tensor(s): ${t}`);i=t}else{if(t=t,e.length>1)throw new Be(`The model ${s} expects ${e.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${t.shape}`);i=[t]}if(i=Wne(i),n!=null)for(let o=0;o<e.length;++o){if(n[o]==null)continue;const a=i[o];if(a.shape.length!==n[o].length)throw new Be(`Error when checking ${s}: expected ${e[o]} to have ${n[o].length} dimension(s). but got array with shape ${a.shape}`);for(let l=0;l<n[o].length;++l){if(l===0&&!r)continue;const c=a.shape[l],u=n[o][l];if(u!=null&&u>=0&&c!==u)throw new Be(`${s} expected a batch of elements where each example has shape [${n[o].slice(1,n[o].length)}] (i.e.,tensor shape [*,${n[o].slice(1,n[o].length)}]) but the ${s} received an input with ${a.shape[0]} examples, each with shape [${a.shape.slice(1,a.shape.length)}] (tensor shape [${a.shape}])`)}}return i}function GUe(t,e,n){const r=tf(t.map(i=>i.shape[0]));r.sort();const s=tf(e.map(i=>i.shape[0]));if(s.sort(),r.length>1)throw new Be(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(i=>i.shape))}`);if(s.length>1)throw new Be(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(i=>i.shape))}`);if(r.length>0&&s.length>0&&!Tn(r,s))throw new Be(`Input Tensors should have the same number of samples as target Tensors. Found ${r[0]} input sample(s) and ${s[0]} target sample(s).`)}function KUe(t,e,n){const r=[ak,lk,Sx];for(let s=0;s<t.length;++s){const i=t[s],o=e[s],a=n[s];if(o!=null){if(o===Sx&&i.shape[i.shape.length-1]===1)throw new Be(`You are passing a target array of shape ${i.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(r.indexOf(o)!==-1){const l=i.shape.slice(1),c=a.slice(1);for(let u=0;u<l.length;++u){const A=l[u],d=c[u];if(d!=null&&A!==d)throw new Be(`A target Tensor with shape ${i.shape} was passed for an output of shape ${a}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function hz(t,e,n,r=!0,s=""){let i;if(Array.isArray(t)){if(t.length!==e.length)throw new Be(`Error when checking model ${s}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${e.length} Tensor(s), but instead got ${t.length} Tensors(s).`);i=t}else{if(e.length>1)throw new Be(`The model expects ${e.length} ${s} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(t.shape)}.`);i=[t]}if(n!=null)for(let o=0;o<e.length;++o){if(n[o]==null)continue;const a=i[o];if(a.shape.length!==n[o].length)throw new Be(`Error when checking ${s}: expected ${e[o]} to have ${n[o].length} dimension(s), but got array with shape ${JSON.stringify(a.shape)}`);for(let l=0;l<n[o].length;++l){if(l===0&&!r)continue;const c=a.shape[l],u=n[o][l];if(u!=null&&u!==c)throw new Be(`Error when checking ${s}: expected ${e[o]} to have shape ${JSON.stringify(n[o])} but got array with shape ${JSON.stringify(a.shape)}.`)}}}function qUe(t,e){if(t==null||Array.isArray(t)&&t.length===0)return e.map(r=>[]);let n;if(typeof t=="string"||typeof t=="function")n=[t];else if(Array.isArray(t)||typeof t=="object")n=t;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${t}`);if(Array.isArray(n))return e.map(r=>n);{const r=[];for(const s of e){let i=n.hasOwnProperty(s)?n[s]:[];Array.isArray(i)||(i=[i]),r.push(i)}return r}}const XUe="layers-model";class _0 extends jc{constructor(e){super(e),this.isTraining=!1}summary(e,n,r=console.log){if(!this.built)throw new Be("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");FUe(this,e,n,r)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=TUe(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Ld))throw new Be("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let n=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(const o in e.loss)if(this.outputNames.indexOf(o)===-1)throw new Be(`Unknown entry in loss dictionary: "${o}". Only expected the following keys: ${this.outputNames}`);for(const o of this.outputNames)e.loss[o]==null&&console.warn(`Output "${o}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${o} during training`),n.push(G5(e.loss[o]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new Be(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);n=e.loss.map(a=>G5(a))}else{const o=G5(e.loss);this.outputs.forEach(a=>{n.push(o)})}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let o=0;o<this.outputs.length;++o){const a=this.internalOutputShapes[o],l=this.outputNames[o];this.feedOutputNames.push(l),this.feedOutputShapes.push(a),this.feedLossFns.push(this.lossFunctions[o])}const r=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],tm("loss",()=>{for(let o=0;o<this.outputs.length;++o){if(r.indexOf(o)!==-1)continue;const a=this.lossFunctions[o];this.outputs.length>1&&(this.metricsTensors.push([a,o]),this.metricsNames.push(this.outputNames[o]+"_loss"))}});const s=qUe(e.metrics,this.outputNames),i=(o,a,l)=>{this.outputNames.length>1&&(a=this.outputNames[o]+"_"+a),this.metricsNames.push(a),this.metricsTensors.push([l,o])};tm("metric",()=>{for(let o=0;o<this.outputs.length;++o){if(r.indexOf(o)!==-1)continue;const a=s[o];(c=>{const u="";let A,d,h;for(const p of c){if(typeof p=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(p)!==-1){const y=this.internalOutputShapes[o];y[y.length-1]===1||this.lossFunctions[o]===lk?["accuracy","acc"].indexOf(p)!==-1?d=One:["crossentropy","ce"].indexOf(p)!==-1&&(d=xUe):this.lossFunctions[o]===j_?["accuracy","acc"].indexOf(p)!==-1?d=bUe:["crossentropy","ce"].indexOf(p)!==-1&&(d=Mne):["accuracy","acc"].indexOf(p)!==-1?d=$ne:["crossentropy","ce"].indexOf(p)!==-1&&(d=Une);let g;["accuracy","acc"].indexOf(p)!==-1?g="acc":["crossentropy","ce"].indexOf(p)!==-1&&(g="ce"),h=d,A=u+g}else h=kUe(p),A=u+SS(p);let m;tm(A,()=>{m=h}),i(o,A,m)}})(a)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,n,r={}){const s=r.batchSize==null?32:r.batchSize;K5(s);const o=this.standardizeUserDataXY(e,n,!0,s);try{const a=o[0].concat(o[1]);this.makeTestFunction();const l=this.testFunction,c=this.testLoop(l,a,s,r.verbose,r.steps);return Ho(c)}finally{$c(o[0],e),$c(o[1],n)}}async evaluateDataset(e,n){return this.makeTestFunction(),VUe(this,e,n)}checkNumSamples(e,n,r,s="steps"){let i;if(r!=null){if(i=null,n!=null)throw new Be(`If ${s} is set, batchSize must be null or undefined.Got batchSize = ${n}`)}else if(e!=null)Array.isArray(e)?i=e[0].shape[0]:i=e.shape[0];else throw new Be(`Either the input data should have a defined shape, or ${s} shoud be specified.`);return i}execute(e,n){if(Array.isArray(n)&&n.length===0)throw new Be("`outputs` is an empty Array, which is not allowed.");const r=Array.isArray(n),s=r?n:[n],i=this.retrieveSymbolicTensors(s),o=new Oh;if(e instanceof nr&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new Be(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let l=0;l<this.inputs.length;++l)o.add(this.inputs[l],e[l])}else for(const l of this.inputs){const c=e[l.name];if(c==null)throw new Be(`No value is provided for the model's input ${l.name}`);o.add(l,c)}const a=Kw(i,o);return r?a:a[0]}retrieveSymbolicTensors(e){const n=Nm(null,e.length);let r=e.length;for(const s of this.layers){const i=Array.isArray(s.output)?s.output:[s.output],o=i.map(a=>a.name);for(let a=0;a<e.length;++a){const l=o.indexOf(e[a]);if(l!==-1&&(n[a]=i[l],r--),r===0)break}if(r===0)break}if(r>0){const s=[];throw n.forEach((i,o)=>{i==null&&s.push(e[o])}),new Be(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(s)}`)}return n}predictLoop(e,n=32,r=!1){return Te(()=>{const s=this.checkNumSamples(e);if(r)throw new wn("Verbose predictLoop() is not implemented yet.");const i=q5(s,n),o=this.outputs.map(a=>[]);for(let a=0;a<i.length;++a)Te(()=>{const c=i[a][0],u=i[a][1],A=Sw(e,c,u),d=[];if(Array.isArray(A))for(let p=0;p<A.length;++p)d.push({key:this.inputs[p],value:A[p]});else d.push({key:this.inputs[0],value:A});const h=new Oh(d);return Kw(this.outputs,h)}).forEach((c,u)=>o[u].push(c));return Ho(o.map(a=>Cs(a,0)))})}predict(e,n={}){const r=Wne(e);hz(r,this.inputNames,this.feedInputShapes,!1);try{const s=n.batchSize==null?32:n.batchSize;return K5(s),this.predictLoop(r,s)}finally{$c(r,e)}}predictOnBatch(e){hz(e,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,n)}standardizeUserDataXY(e,n,r=!0,s){if(this.optimizer_==null)throw new Jl("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const i=[];for(let o=0;o<this.feedOutputShapes.length;++o){const a=this.feedOutputShapes[o];this.feedLossFns[o]===j_?i.push(a.slice(0,a.length-1).concat([1])):i.push(a)}if(e=dz(e,this.feedInputNames,this.feedInputShapes,!1,"input"),n=dz(n,this.feedOutputNames,i,!1,"target"),GUe(e,n),KUe(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&s!=null&&s>0&&e[0].shape[0]%s!==0)throw new Be(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${s}. Found: ${e[0].shape[0]} sample(s).`);return[e,n]}async standardizeUserData(e,n,r,s,i=!0,o){const[a,l]=this.standardizeUserDataXY(e,n,i,o);if(r!=null)throw new Error("sample weight is not supported yet.");let c=null;if(s!=null){const u=Hne(s,this.outputNames);c=[];for(let A=0;A<u.length;++A)c.push(await zne(l[A],null,u[A]))}return[a,l,c]}testLoop(e,n,r,s=0,i){return Te(()=>{const o=this.checkNumSamples(n,r,i,"steps"),a=[];if(s>0)throw new wn("Verbose mode is not implemented yet.");if(i!=null)throw new wn("steps mode in testLoop() is not implemented yet");{const l=q5(o,r),c=qi(du(0,o));for(let u=0;u<l.length;++u){const A=l[u][0],d=l[u][1],h=nm(c,A,d-A),p=hL(n,h),m=e(p);if(u===0)for(let y=0;y<m.length;++y)a.push(Ht(0));for(let y=0;y<m.length;++y){const g=m[y];a[y]=qe(a[y],xe(d-A,g))}}for(let u=0;u<a.length;++u)a[u]=Rt(a[u],o)}return a})}getDedupedMetricsNames(){const e=this.metricsNames,n=[];for(let r=0;r<e.length;++r){const s=e[r];let i=s;if(YH(e,s)>1){const o=YH(e.slice(0,r),s);i+=`_${o}`}n.push(i)}return n}makeTrainFunction(){return e=>{const n=[],r=e.slice(0,this.inputs.length),s=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),o=[],a=()=>{const A=[];for(let m=0;m<this.inputs.length;++m)A.push({key:this.inputs[m],value:r[m]});const d=new Oh(A),h=Kw(this.outputs,d,{training:!0});let p;for(let m=0;m<this.lossFunctions.length;++m){const y=this.lossFunctions[m];let g=y(s[m],h[m]);i[m]!=null&&(g=UUe(g,i[m]));const v=es(g);n.push(v),m===0?p=g:p=qe(p,g)}for(let m=0;m<this.metricsTensors.length;++m){let y;if(this.outputs.length>1&&m<this.outputs.length)y=n[m];else{const g=this.metricsTensors[m][0],v=this.metricsTensors[m][1];y=es(g(s[v],h[v]))}Xs(y),o.push(y)}return p=es(p),this.calculateLosses().forEach(m=>{p=qe(p,m)}),p},l=this.collectedTrainableWeights.map(A=>A.read());return[this.optimizer_.minimize(a,!0,l)].concat(o)}}makeTestFunction(){this.testFunction=e=>Te(()=>{const n=[];let r;const s=e.slice(0,this.inputs.length),i=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=[];for(let c=0;c<this.inputs.length;++c)o.push({key:this.inputs[c],value:s[c]});const a=new Oh(o),l=Kw(this.outputs,a);for(let c=0;c<this.lossFunctions.length;++c){const u=this.lossFunctions[c],A=es(u(i[c],l[c]));c===0?r=A:r=qe(r,A),n.push(r)}for(let c=0;c<this.metricsTensors.length;++c){const u=this.metricsTensors[c][0],A=this.metricsTensors[c][1],d=es(u(i[A],l[A]));n.push(d)}return n})}async fit(e,n,r={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let s,i,o,a,l,c,u,A,d;try{const h=r.batchSize==null?32:r.batchSize;K5(h);const m=await this.standardizeUserData(e,n,r.sampleWeight,r.classWeight,!1,h);s=m[0],i=m[1],d=m[2];let y=!1,g;if(r.validationData!=null&&r.validationData.length>0){if(y=!0,r.validationData.length===2)l=r.validationData[0],c=r.validationData[1];else throw r.validationData.length===3?new wn("validationData including sample weights is not supported yet."):new Be(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${r.validationData} is invalid.`);const H=await this.standardizeUserData(l,c,null,null,!0,h);u=H[0],A=H[1],g=u.concat(A)}else if(r.validationSplit!=null&&r.validationSplit>0&&r.validationSplit<1){y=!0;const D=Math.floor(s[0].shape[0]*(1-r.validationSplit)),H=s[0].shape[0];u=Sw(s,D,H),o=s,s=Sw(s,0,D),A=Sw(i,D,H),a=i,i=Sw(i,0,D),g=u.concat(A)}else r.validationSteps!=null&&(y=!0);const v=s.concat(i).concat(d);this.checkTrainableWeightsConsistency();const b=this.makeTrainFunction(),C=this.getDedupedMetricsNames();let _,I;y?(this.makeTestFunction(),_=this.testFunction,I=C.slice().concat(C.map(D=>"val_"+D))):(_=null,g=[],I=C.slice());const F=Dne(r.callbacks,r.yieldEvery);return await this.fitLoop(b,v,C,h,r.epochs,r.verbose,F,_,g,r.shuffle,I,r.initialEpoch,null,null)}finally{this.isTraining=!1,$c(s,e),$c(i,n),$c(o,e),$c(a,n),$c(u,l),$c(A,c),d!=null&&Bn(d)}}async fitLoop(e,n,r,s,i,o,a,l,c,u,A,d,h,p){s==null&&(s=32),i==null&&(i=1),u==null&&(u=!0),d==null&&(d=0);let m=!1;if(l!=null&&c!=null&&(m=!0),p!=null&&(m=!0,h==null))throw new Be("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const y=this.checkNumSamples(n,s,h,"steps_per_epoch");let g;y!=null&&(g=du(0,y)),o==null&&(o=1);const{callbackList:v,history:b}=Pne(a,o,i,d,y,h,s,m,A);v.setModel(this),this.history=b,await v.onTrainBegin(),this.stopTraining_=!1;for(let C=d;C<i;++C){await v.onEpochBegin(C);const _={};if(h!=null)throw new wn("stepsPerEpoch mode is not implemented yet.");{if(u==="batch")throw new wn("batch shuffling is not implemneted yet");u&&oR(g);const I=qi(g),F=q5(y,s);for(let T=0;T<F.length;++T){const D={};if(await v.onBatchBegin(T,D),Te(()=>{const H=F[T][0],R=F[T][1],U=nm(I,H,R-H);D.batch=T,D.size=R-H;const W=hL(n,U),$=e(W);for(let Y=0;Y<r.length;++Y){const J=r[Y],oe=$[Y];D[J]=oe,Xs(oe)}if(T===F.length-1&&m){const Y=this.testLoop(l,c,s);for(let J=0;J<r.length;++J){const oe=r[J],V=Y[J];Xs(V),_["val_"+oe]=V}}}),await v.onBatchEnd(T,D),Lne(D),this.stopTraining_)break}I.dispose()}if(await v.onEpochEnd(C,_),this.stopTraining_)break}return await v.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,n){return jUe(this,e,n)}async trainOnBatch(e,n){const r=await this.standardizeUserData(e,n),s=r[0],i=r[1],a=this.makeTrainFunction()(s.concat(i)),l=[];for(const c of a){const u=await c.data();l.push(u[0])}return Bn(a),$c(r[0],e),$c(r[1],n),Ho(l)}getNamedWeights(e){const n=[],r=e!=null&&e.trainableOnly,s=r?this.trainableWeights:this.weights,i=this.getWeights(r);for(let o=0;o<s.length;++o)r&&!s[o].trainable||n.push({name:s[o].originalName,tensor:i[o]});return n}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const n=G3().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=n-G3().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=ed(this.loss);else if(Array.isArray(this.loss)){for(const n of this.loss)if(typeof n!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(n=>ed(n))}else{const n=Object.keys(this.loss);e={};const r=this.loss;for(const s of n)if(typeof r[s]=="string")e[s]=ed(r[s]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[ed(SS(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>ed(SS(e)));{const e={};for(const n in this.metrics)e[n]=ed(SS(this.metrics[n]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const n=AL(e.optimizer_config),r=ud(n);let s;if(typeof e.loss=="string")s=Sp(e.loss);else if(Array.isArray(e.loss))s=e.loss.map(o=>Sp(o));else if(e.loss!=null){s={};for(const o in e.loss)s[o]=Sp(e.loss[o])}let i;if(Array.isArray(e.metrics))i=e.metrics.map(o=>Sp(o));else if(e.metrics!=null){i={};for(const o in e.metrics)i[o]=Sp(e.metrics[o])}this.compile({loss:s,metrics:i,optimizer:r})}async save(e,n){if(typeof e=="string"){const c=lee(e);if(c.length===0)throw new Be(`Cannot find any save handlers for URL '${e}'`);if(c.length>1)throw new Be(`Found more than one (${c.length}) save handlers for URL '${e}'`);e=c[0]}if(e.save==null)throw new Be("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const r=await K3(this.getNamedWeights(n)),a={modelTopology:this.toJSON(null,!1),format:XUe,generatedBy:`TensorFlow.js tfjs-layers v${jne}`,convertedBy:null};if((n==null?!1:n.includeOptimizer)&&this.optimizer!=null){a.trainingConfig=this.getTrainingConfig();const c="optimizer",{data:u,specs:A}=await K3(await this.optimizer.getWeights(),c);r.specs.push(...A),r.data=oee([r.data,u])}return this.userDefinedMetadata!=null&&(lz(this.userDefinedMetadata,this.name,!0),a.userDefinedMetadata=this.userDefinedMetadata),a.weightData=r.data,a.weightSpecs=r.specs,e.save(a)}setUserDefinedMetadata(e){lz(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}_0.className="Model";Ze(_0);class Gne extends _0{}Gne.className="Functional";Ze(Gne);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Bx extends _0{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=e.name!=null?e.name:sk("sequential_"),e.layers!=null)for(const n of e.layers)this.add(n)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(r=>r<0))throw new Be(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const n=e instanceof Bx||e instanceof _0;let r;if(n){if(r=e,r.outputs.length!==1)throw new Be("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(r.inputs.length!==1)throw new Be("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(e.inboundNodes.length===0){if(e.batchInputShape==null)throw new Be("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const s=Z$e({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(s)}if(n)this.outputs=r.outputs,this.inputs=r.inputs;else{if(e.inboundNodes.length!==1)throw new Be(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(e.inboundNodes[0].outputTensors.length!==1)throw new Be("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=Ine(this.outputs[0])}this.inboundNodes=[],new ok({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:Nm(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(s=>s.shape),outputShapes:this.outputs[0].shape})}else{const s=e.apply(this.outputs[0]);if(Array.isArray(s))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[s],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,n){return this.model==null&&this.build(),this.model.call(e,n)}build(e){if(Wn(e),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new _0({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,n,r=console.log){this.built||this.build(),super.summary(e,n,r)}setWeights(e){this.model==null&&this.build(),this.model.setWeights(e)}evaluate(e,n,r={}){if(!this.built)throw new Jl("The model needs to be compiled before being used.");return this.model.evaluate(e,n,r)}async evaluateDataset(e,n){if(!this.built)throw new Jl("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,n)}predict(e,n={}){return this.model==null&&this.build(),this.model.predict(e,n)}predictOnBatch(e){return this.model==null&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,n,r={}){if(!this.built)throw new Jl("The model needs to be compiled before being used.");return this.model.fit(e,n,r)}async fitDataset(e,n){if(!this.built)throw new Jl("The model needs to be compiled before being used.");return this.model.fitDataset(e,n)}async trainOnBatch(e,n){return this.model.trainOnBatch(e,n)}static fromConfig(e,n,r={},s=!1){let i,o={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new Be("Legacy serialization format not supported yet.");i=n}else ee(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),i=n.layers,delete n.layers,o=n;const a=new e(o);if(!(a instanceof Bx))throw new wn(`Sequential.fromConfig called on non-Sequential input: ${a}`);for(const l of i){const u=ud(l,void 0,s);s&&u.setFastWeightInitDuringBuild(!0),a.add(u)}return a}set stopTraining(e){if(this.model==null)throw new Be("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(this.model==null)throw new Be("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const n of this.layers){const r={};r.className=n.getClassName(),r.config=n.getConfig(),e.push(r)}return{name:this.name,layers:e}}}Bx.className="Sequential";Ze(Bx);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let Ji=class extends qm{getConfig(){return{}}};class Kne extends Ji{apply(e,n=1){return R$e(e,n)}}Kne.className="elu";Ze(Kne);class qne extends Ji{apply(e){return LE(e)}}qne.className="selu";Ze(qne);class Xne extends Ji{apply(e){return bu(e)}}Xne.className="relu";Ze(Xne);class Yne extends Ji{apply(e){return Te(()=>gf(6,bu(e)))}}Yne.className="relu6";Ze(Yne);class Zne extends Ji{apply(e){return e}}Zne.className="linear";Ze(Zne);class Jne extends Ji{apply(e){return su(e)}}Jne.className="sigmoid";Ze(Jne);class ere extends Ji{apply(e){return $$e(e)}}ere.className="hardSigmoid";Ze(ere);class tre extends Ji{apply(e){return Wm(e)}}tre.className="softplus";Ze(tre);class nre extends Ji{apply(e){return O$e(e)}}nre.className="softsign";Ze(nre);class rre extends Ji{apply(e){return mf(e)}}rre.className="tanh";Ze(rre);let E$=class extends Ji{apply(e,n=-1){return B2(e,n)}};E$.className="softmax";Ze(E$);class sre extends Ji{apply(e,n=-1){return BE(e,n)}}sre.className="logSoftmax";Ze(sre);class ire extends Ji{apply(e){return Te(()=>Te(()=>{const n=Math.sqrt(2),r=xe(.5,qe(1,bE(Rt(e,n))));return xe(e,r)}))}}ire.className="gelu";Ze(ire);class ore extends Ji{apply(e){return Te(()=>xe(.5,xe(e,qe(1,mf(xe(yi(Rt(2,Math.PI)),qe(e,xe(.044715,vA(e,3)))))))))}}ore.className="gelu_new";Ze(ore);class are extends Ji{apply(e){return Te(()=>xe(e,mf(Wm(e))))}}are.className="mish";Ze(are);class lre extends Ji{apply(e,n=1){return Te(()=>xe(su(xe(e,n)),e))}}lre.className="swish";Ze(lre);function wf(t){return t.getClassName()}function X5(t,e={}){return T2(t,il.getMap().classNameMap,e,"activation")}function vf(t){if(t==null){const e={};return e.className="linear",e.config={},X5(e)}if(typeof t=="string"){const e={};return e.className=t,e.config={},X5(e)}else return t instanceof Ji?t:X5(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function YUe(t){if(t!=null&&typeof t!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${t}`)}class cre extends qm{}class ure extends cre{constructor(e){super(),YUe(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return Te(()=>{let n=Ms([1]);return this.hasL1&&(n=qe(n,It(xe(this.l1,Ps(e))))),this.hasL2&&(n=qe(n,It(xe(this.l2,L2(e))))),Se(n,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,n){return new e({l1:n.l1,l2:n.l2})}}ure.className="L1L2";Ze(ure);const fz={l1l2:"L1L2"};function br(t){return p$(t)}function pz(t,e={}){return T2(t,il.getMap().classNameMap,e,"regularizer")}function Gr(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in fz?fz[t]:t,config:{}};return pz(n)}else return t instanceof cre?t:pz(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Are extends kn{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,n){e=tn(e);let r=bu(e);return this.maxValue!=null&&(r=Zo(r,0,this.maxValue)),r}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},n=super.getConfig();return Object.assign(e,n),e}}Are.className="ReLU";Ze(Are);class dre extends kn{constructor(e){super(e??{}),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const r=tn(e);return p2(r,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}dre.className="LeakyReLU";Ze(dre);class hre extends kn{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=Wr(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=Gr(e.alphaRegularizer),this.alphaConstraint=ti(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new Be(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`)}build(e){e=Wn(e);const n=e.slice(1);if(this.sharedAxes!=null)for(const s of this.sharedAxes)n[s-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const r={};if(this.sharedAxes!=null)for(let s=1;s<e.length;++s)r[s]=e[s];this.inputSpec=[new Zs({ndim:e.length,axes:r})],this.built=!0}call(e,n){return e=tn(e),b2(e,this.alpha.read())}getConfig(){const e={alphaInitializer:ts(this.alphaInitializer),alphaRegularizer:br(this.alphaRegularizer),alphaConstraint:ei(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(e,n),e}}hre.className="PReLU";Ze(hre);let fre=class extends kn{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new wn(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const r=tn(e);return E1(r)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}};fre.className="ELU";Ze(fre);class pre extends kn{constructor(e){super(e??{}),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,n){const r=tn(e);return xe(r,ot(ia(r,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},n=super.getConfig();return Object.assign(e,n),e}}pre.className="ThresholdedReLU";Ze(pre);class mre extends kn{constructor(e){super(e??{}),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new E$().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,n){return Te(()=>{let r=tn(e);const s=n.mask;if(s!=null){const i=xe(wt(Go(r.shape),ot(s,r.dtype)),Ht(-1e9));r=qe(r,i)}return this.axis instanceof Array?this.axis.length>1?Jo(wt(r,g2(r,this.axis,!0))):this.softmax(r,this.axis[0]):this.softmax(r,this.axis)})}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}mre.className="Softmax";Ze(mre);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function N0(t,e,n){if(typeof t=="number")return Nm(t,e);if(t.length!==e)throw new Be(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${t.length} elements.`);for(let r=0;r<e;++r){const s=t[r];if(!F$e(s))throw new Be(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${JSON.stringify(t)} including a non-integer number ${s}`)}return t}function iu(t,e,n,r,s=1){if(t==null)return t;const i=e+(e-1)*(s-1);let o;return n==="same"?o=t:o=t-i+1,Math.floor((o+r-1)/r)}function Wu(t,e,n,r){if(t==null)return null;if(r==="valid")t=t*e+yf([n-e,0]);else if(r==="same")t=t*e;else throw new Be(`Unsupport padding mode: ${r}.`);return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function k$(t,e){return Te(()=>(_s(e),e==="channelsFirst"?Fn(t,[0,2,3,1]):t))}function gre(t,e){return Te(()=>(_s(e),e==="channelsFirst"?Fn(t,[0,2,3,4,1]):t))}function ZUe(t,e,n,r=1,s="valid",i,o=1){return Te(()=>{if(i==null&&(i=hu()),_s(i),t.shape.length!==3)throw new Be(`The input of a conv1dWithBias operation should be 3, but is ${t.shape.length} instead.`);if(e.shape.length!==3)throw new Be(`The kernel for a conv1dWithBias operation should be 3, but is ${e.shape.length} instead`);if(n!=null&&n.shape.length!==1)throw new Be(`The bias for a conv1dWithBias operation should be 1, but is ${n.shape.length} instead`);if(i==="channelsFirst"&&(t=Fn(t,[0,2,1])),s==="causal")throw new wn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let a=yE(t,e,r,s==="same"?"same":"valid","NWC",o);return n!=null&&(a=Cu(a,n)),a})}function mz(t,e,n,r=[1,1],s="valid",i,o,a=null){return Te(()=>{if(i==null&&(i=hu()),_s(i),t.rank!==3&&t.rank!==4)throw new Be(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${t.rank}.`);if(e.rank!==3&&e.rank!==4)throw new Be(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${t.rank}.`);let l=k$(t,i);if(s==="causal")throw new wn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=cte({x:l,filter:e,strides:r,pad:s==="same"?"same":"valid",dilations:o,dataFormat:"NHWC",bias:n,activation:a}),i==="channelsFirst"&&(l=Fn(l,[0,3,1,2])),l})}function JUe(t,e,n,r=[1,1,1],s="valid",i,o){return Te(()=>{if(i==null&&(i=hu()),_s(i),t.rank!==4&&t.rank!==5)throw new Be(`conv3dWithBias expects input to be of rank 4 or 5, but received ${t.rank}.`);if(e.rank!==4&&e.rank!==5)throw new Be(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${t.rank}.`);let a=gre(t,i);if(s==="causal")throw new wn("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return a=zR(a,e,r,s==="same"?"same":"valid","NDHWC",o),n!=null&&(a=Cu(a,n)),i==="channelsFirst"&&(a=Fn(a,[0,4,1,2,3])),a})}class ck extends kn{constructor(e,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",ck.verifyArgs(n),this.rank=e,mi(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new wn(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=N0(n.kernelSize,e,"kernelSize"),this.strides=N0(n.strides==null?1:n.strides,e,"strides"),this.padding=n.padding==null?"valid":n.padding,vl(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,_s(this.dataFormat),this.activation=vf(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=Wr(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=ti(n.biasConstraint),this.biasRegularizer=Gr(n.biasRegularizer),this.activityRegularizer=Gr(n.activityRegularizer),this.dilationRate=N0(n.dilationRate==null?1:n.dilationRate,e,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new Be(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new Be(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new Be(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(e){if(Vu("kernelSize"in e,"required key 'kernelSize' not in config"),typeof e.kernelSize!="number"&&!m$(e.kernelSize,"number",1,3))throw new Be(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:wf(this.activation),useBias:this.useBias,biasInitializer:ts(this.biasInitializer),biasRegularizer:br(this.biasRegularizer),activityRegularizer:br(this.activityRegularizer),biasConstraint:ei(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}class D1 extends ck{constructor(e,n){super(e,n),this.kernel=null,D1.verifyArgs(n),this.filters=n.filters,mi(this.filters,"filters"),this.kernelInitializer=Wr(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=ti(n.kernelConstraint),this.kernelRegularizer=Gr(n.kernelRegularizer)}build(e){e=Wn(e);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new Be(`The channel dimension of the input should be defined. Found ${e[n]}`);const r=e[n],s=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",s,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:r}}],this.built=!0}call(e,n){return Te(()=>{e=tn(e);let r;const s=this.bias==null?null:this.bias.read(),i=hne(this.activation.getClassName());if(i!=null&&this.rank===2)r=mz(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate,i);else{if(this.rank===1)r=ZUe(e,this.kernel.read(),s,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)r=mz(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)r=JUe(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new wn("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(r=this.activation.apply(r))}return r})}computeOutputShape(e){e=Wn(e);const n=[],r=this.dataFormat==="channelsLast"?e.slice(1,e.length-1):e.slice(2);for(let i=0;i<r.length;++i){const o=iu(r[i],this.kernelSize[i],this.padding,this.strides[i],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[i]);n.push(o)}let s=[e[0]];return this.dataFormat==="channelsLast"?(s=s.concat(n),s.push(this.filters)):(s.push(this.filters),s=s.concat(n)),s}getConfig(){const e={filters:this.filters,kernelInitializer:ts(this.kernelInitializer),kernelRegularizer:br(this.kernelRegularizer),kernelConstraint:ei(this.kernelConstraint)},n=super.getConfig();return Object.assign(e,n),e}static verifyArgs(e){if(!("filters"in e)||typeof e.filters!="number"||e.filters<1)throw new Be(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class O2 extends D1{constructor(e){super(2,e),O2.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!m$(e.kernelSize,"number",1,2))throw new Be(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}O2.className="Conv2D";Ze(O2);class $2 extends D1{constructor(e){super(3,e),$2.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!(Array.isArray(e.kernelSize)&&(e.kernelSize.length===1||e.kernelSize.length===3)))throw new Be(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}$2.className="Conv3D";Ze($2);class yre extends O2{constructor(e){if(super(e),this.inputSpec=[new Zs({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new Be(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=Wn(e),e.length!==4)throw new Be("Input should have rank 4; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new Be("The channel dimension of the inputs should be defined. Found `None`.");const r=e[n],s=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Zs({ndim:4,axes:{[n]:r}})],this.built=!0}call(e,n){return Te(()=>{let r=tn(e);if(r.shape.length!==4)throw new Be(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const s=r.shape,i=s[0];let o,a;this.dataFormat==="channelsFirst"?(o=2,a=3):(o=1,a=2);const l=s[o],c=s[a],u=this.kernelSize[0],A=this.kernelSize[1],d=this.strides[0],h=this.strides[1],p=Wu(l,d,u,this.padding),m=Wu(c,h,A,this.padding),y=[i,p,m,this.filters];this.dataFormat!=="channelsLast"&&(r=Fn(r,[0,2,3,1]));let g=wE(r,this.kernel.read(),y,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(g=Fn(g,[0,3,1,2])),this.bias!=null&&(g=Cu(g,this.bias.read(),this.dataFormat)),this.activation!=null&&(g=this.activation.apply(g)),g})}computeOutputShape(e){e=Wn(e);const n=e.slice();let r,s,i;this.dataFormat==="channelsFirst"?(r=1,s=2,i=3):(r=3,s=1,i=2);const o=this.kernelSize[0],a=this.kernelSize[1],l=this.strides[0],c=this.strides[1];return n[r]=this.filters,n[s]=Wu(n[s],l,o,this.padding),n[i]=Wu(n[i],c,a,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}yre.className="Conv2DTranspose";Ze(yre);class wre extends $2{constructor(e){if(super(e),this.inputSpec=[new Zs({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new Be(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=Wn(e),e.length!==5)throw new Be("Input should have rank 5; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new Be("The channel dimension of the inputs should be defined. Found `None`.");const r=e[n],s=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Zs({ndim:5,axes:{[n]:r}})],this.built=!0}call(e,n){return Te(()=>{let r=tn(e);if(r.shape.length!==5)throw new Be(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const s=r.shape,i=s[0];let o,a,l;this.dataFormat==="channelsFirst"?(l=2,o=3,a=4):(l=1,o=2,a=3);const c=s[l],u=s[o],A=s[a],d=this.kernelSize[0],h=this.kernelSize[1],p=this.kernelSize[2],m=this.strides[0],y=this.strides[1],g=this.strides[2],v=Wu(c,m,d,this.padding),b=Wu(u,y,h,this.padding),C=Wu(A,g,p,this.padding),_=[i,v,b,C,this.filters];this.dataFormat!=="channelsLast"&&(r=Fn(r,[0,2,3,4,1]));let I=VR(r,this.kernel.read(),_,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(I=Fn(I,[0,4,1,2,3])),this.bias!==null&&(I=Cu(I,this.bias.read(),this.dataFormat)),this.activation!==null&&(I=this.activation.apply(I)),I})}computeOutputShape(e){e=Wn(e);const n=e.slice();let r,s,i,o;this.dataFormat==="channelsFirst"?(r=1,s=2,i=3,o=4):(r=4,s=1,i=2,o=3);const a=this.kernelSize[0],l=this.kernelSize[1],c=this.kernelSize[2],u=this.strides[0],A=this.strides[1],d=this.strides[2];return n[r]=this.filters,n[s]=Wu(n[s],u,a,this.padding),n[i]=Wu(n[i],A,l,this.padding),n[o]=Wu(n[o],d,c,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}wre.className="Conv3DTranspose";Ze(wre);class vre extends D1{constructor(e,n){if(super(e,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,n.filters==null)throw new Be("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(n.kernelInitializer!=null||n.kernelRegularizer!=null||n.kernelConstraint!=null)throw new Be("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(n.padding!=null&&n.padding!=="same"&&n.padding!=="valid")throw new Be(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(n.padding)}`);this.depthMultiplier=n.depthMultiplier==null?1:n.depthMultiplier,this.depthwiseInitializer=Wr(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=Gr(n.depthwiseRegularizer),this.depthwiseConstraint=ti(n.depthwiseConstraint),this.pointwiseInitializer=Wr(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=Gr(n.pointwiseRegularizer),this.pointwiseConstraint=ti(n.pointwiseConstraint)}build(e){if(e=Wn(e),e.length<this.rank+2)throw new Be(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null||e[n]<0)throw new Be(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[n])}`);const r=e[n],s=this.kernelSize.concat([r,this.depthMultiplier]),i=[];for(let a=0;a<this.rank;++a)i.push(1);i.push(r*this.depthMultiplier,this.filters);const o=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",s,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,o,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,o,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,o,this.biasConstraint):this.bias=null,this.inputSpec=[new Zs({ndim:this.rank+2,axes:{[n]:r}})],this.built=!0}call(e,n){return Te(()=>{e=tn(e);let r;if(this.rank===1)throw new wn("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=Fn(e,[0,2,3,1])),r=DE(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(r=Cu(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),this.dataFormat==="channelsFirst"&&(r=Fn(r,[0,3,1,2])),r})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=ts(this.depthwiseInitializer),e.pointwiseInitializer=ts(this.pointwiseInitializer),e.depthwiseRegularizer=br(this.depthwiseRegularizer),e.pointwiseRegularizer=br(this.pointwiseRegularizer),e.depthwiseConstraint=ei(this.depthwiseConstraint),e.pointwiseConstraint=ei(this.pointwiseConstraint),e}}vre.className="SeparableConv";class xre extends vre{constructor(e){super(2,e)}}xre.className="SeparableConv2D";Ze(xre);class uk extends D1{constructor(e){super(1,e),uk.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!m$(e.kernelSize,"number",1,1))throw new Be(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}uk.className="Conv1D";Ze(uk);class bre extends kn{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,n){return Te(()=>{if(e=tn(e),this.dataFormat==="channelsLast"){const r=CS(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return CS(r,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const r=CS(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return CS(r,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}bre.className="Cropping2D";Ze(bre);class Cre extends kn{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,_s(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,E$e(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){const n=e[2]==null?null:this.size[0]*e[2],r=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],n,r]}else{const n=e[1]==null?null:this.size[0]*e[1],r=e[2]==null?null:this.size[1]*e[2];return[e[0],n,r,e[3]]}}call(e,n){return Te(()=>{let r=tn(e);const s=r.shape;if(this.dataFormat==="channelsFirst"){r=Fn(r,[0,2,3,1]);const i=this.size[0]*s[2],o=this.size[1]*s[3],a=this.interpolation==="nearest"?eu.resizeNearestNeighbor(r,[i,o]):eu.resizeBilinear(r,[i,o]);return Fn(a,[0,3,1,2])}else{const i=this.size[0]*s[1],o=this.size[1]*s[2];return this.interpolation==="nearest"?eu.resizeNearestNeighbor(r,[i,o]):eu.resizeBilinear(r,[i,o])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}}Cre.className="UpSampling2D";Ze(Cre);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function eMe(t,e,n=[1,1],r="valid",s,i){return Te(()=>{s==null&&(s=hu()),_s(s);let o=k$(t,s);if(t.rank!==4)throw new Be(`Input for depthwiseConv2d is required to be 4-D, but is instead ${t.rank}-D`);if(e.rank!==4)throw new Be(`depthwiseKernel is required to be 4-D, but is instead ${e.rank}-D`);return o=I1(o,e,n,r==="same"?"same":"valid","NHWC",i),s==="channelsFirst"&&(o=Fn(o,[0,3,1,2])),o})}class Sre extends ck{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=Wr(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=ti(e.depthwiseConstraint),this.depthwiseRegularizer=Gr(e.depthwiseRegularizer)}build(e){if(e=Wn(e),e.length<4)throw new Be(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const n=this.dataFormat==="channelsFirst"?1:3;if(e[n]==null||e[n]<0)throw new Be(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[n]}).`);const r=e[n],s=[this.kernelSize[0],this.kernelSize[1],r,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",s,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[r*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Te(()=>{e=tn(e);let r=eMe(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(r=Cu(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),r})}computeOutputShape(e){e=Wn(e);const n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2],s=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=iu(n,this.kernelSize[0],this.padding,this.strides[0]),o=iu(r,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],s,i,o]:[e[0],i,o,s]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=ts(this.depthwiseInitializer),e.depthwiseRegularizer=br(this.depthwiseRegularizer),e.depthwiseConstraint=ei(this.depthwiseRegularizer),e}}Sre.className="DepthwiseConv2D";Ze(Sre);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Bre(t,e,n,r){if(Array.isArray(t)){if(e!=null||n!=null)throw new Be("When inputs is an array, neither initialState or constants should be provided");r!=null&&(n=t.slice(t.length-r,t.length),t=t.slice(0,t.length-r)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function s(i){return i==null||Array.isArray(i)?i:[i]}return e=s(e),n=s(n),{inputs:t,initialState:e,constants:n}}function _re(t,e,n,r=!1,s,i,o=!1,a=!1){return Te(()=>{const l=e.shape.length;if(l<3)throw new Be(`Input should be at least 3D, but is ${l}D.`);const c=[1,0].concat(du(2,l));e=Fn(e,c),o&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),s!=null&&(s=ot(ot(s,"bool"),"float32"),s.rank===l-1&&(s=Gi(s,-1)),s=Fn(s,c)),r&&(e=ml(e,0),s!=null&&(s=ml(s,0)));const u=[];let A,d=n;const h=e.shape[0],p=gl(e);let m;s!=null&&(m=gl(s));for(let g=0;g<h;++g){const v=p[g],b=Te(()=>t(v,d));if(s==null)A=b[0],d=b[1];else{const C=Te(()=>{const _=m[g],I=wt(Da(_),_),F=qe(xe(b[0],_),xe(d[0],I)),T=d.map((D,H)=>qe(xe(b[1][H],_),xe(D,I)));return{output:F,newStates:T}});A=C.output,d=C.newStates}a&&u.push(A)}let y;return a&&(y=ea(u,1)),[A,y,d]})}class Mf extends kn{constructor(e){super(e);let n;if(e.cell==null)throw new Be("cell property is missing for the constructor of RNN.");if(Array.isArray(e.cell)?n=new L$({cells:e.cell}):n=e.cell,n.stateSize==null)throw new Be("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=e.returnSequences==null?!1:e.returnSequences,this.returnState=e.returnState==null?!1:e.returnState,this.goBackwards=e.goBackwards==null?!1:e.goBackwards,this._stateful=e.stateful==null?!1:e.stateful,this.unroll=e.unroll==null?!1:e.unroll,this.supportsMasking=!0,this.inputSpec=[new Zs({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return du(0,e).map(n=>null)}else return this.states_}setStates(e){this.states_=e}computeOutputShape(e){lL(e)&&(e=e[0]),e=e;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const r=n[0];let s;if(this.returnSequences?s=[e[0],e[1],r]:s=[e[0],r],this.returnState){const i=[];for(const o of n)i.push([e[0],o]);return[s].concat(i)}else return s}computeMask(e,n){return Te(()=>{Array.isArray(n)&&(n=n[0]);const r=this.returnSequences?n:null;if(this.returnState){const s=this.states.map(i=>null);return[r].concat(s)}else return r})}get states(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let r=0;r<e;++r)n.push(null);return n}else return this.states_}set states(e){this.states_=e}build(e){if(this.numConstants!=null)throw new wn("Constants support is not implemented in RNN yet.");lL(e)&&(e=e[0]),e=e;const n=this.stateful?e[0]:null,r=e.slice(2);this.inputSpec[0]=new Zs({shape:[n,null,...r]});const s=[e[0]].concat(e.slice(2));this.cell.build(s);let i;if(Array.isArray(this.cell.stateSize)?i=this.cell.stateSize:i=[this.cell.stateSize],this.stateSpec!=null){if(!Tn(this.stateSpec.map(o=>o.shape[o.shape.length-1]),i))throw new Be(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=i.map(o=>new Zs({shape:[null,o]}));this.stateful&&this.resetStates()}resetStates(e,n=!1){Te(()=>{if(!this.stateful)throw new zu("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape[0];if(r==null)throw new Be("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>Ms([r,s])):this.states_=[Ms([r,this.cell.stateSize])];else if(e==null)Bn(this.states_),this.keptStates!=null&&(Bn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>Ms([r,s])):this.states_[0]=Ms([r,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Be(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n===!0?this.keptStates.push(this.states_.slice()):Bn(this.states_);for(let s=0;s<this.states_.length;++s){const i=e[s],o=Array.isArray(this.cell.stateSize)?this.cell.stateSize[s]:this.cell.stateSize,a=[r,o];if(!Tn(i.shape,a))throw new Be(`State ${s} is incompatible with layer ${this.name}: expected shape=${a}, received shape=${i.shape}`);this.states_[s]=i}}this.states_=this.states_.map(s=>Xs(s.clone()))})}apply(e,n){let r=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const i=Bre(e,r,s,this.numConstants);e=i.inputs,r=i.initialState,s=i.constants;let o=[],a=[];if(r!=null){n.initialState=r,o=o.concat(r),this.stateSpec=[];for(const c of r)this.stateSpec.push(new Zs({shape:c.shape}));a=a.concat(this.stateSpec)}if(s!=null&&(n.constants=s,o=o.concat(s),this.numConstants=s.length),o[0]instanceof bA){const c=[e].concat(o),u=this.inputSpec.concat(a),A=this.inputSpec;this.inputSpec=u;const d=super.apply(c,n);return this.inputSpec=A,d}else return super.apply(e,n)}call(e,n){return Te(()=>{const r=n==null?null:n.mask,s=n==null?null:n.training;let i=n==null?null:n.initialState;e=tn(e),i==null&&(this.stateful?i=this.states_:i=this.getInitialState(e));const o=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(i.length!==o)throw new Be(`RNN Layer has ${o} state(s) but was passed ${i.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const a={training:s},c=_re((p,m)=>{const y=this.cell.call([p].concat(m),a);return[y[0],y.slice(1)]},e,i,this.goBackwards,r,null,this.unroll,this.returnSequences),u=c[0],A=c[1],d=c[2];this.stateful&&this.resetStates(d,s);const h=this.returnSequences?A:u;return this.returnState?[h].concat(d):h})}getInitialState(e){return Te(()=>{let n=Ms(e.shape);return n=It(n,[1,2]),n=F2(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(r=>r>1?oL(n,[1,r]):n):this.cell.stateSize>1?[oL(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);const r=this.cell.getConfig();return this.getClassName()===Mf.className&&(n.cell={className:this.cell.getClassName(),config:r}),Object.assign(Object.assign(Object.assign({},r),e),n)}static fromConfig(e,n,r={}){const s=n.cell,i=ud(s,r);return new e(Object.assign(n,{cell:i}))}}Mf.className="RNN";Ze(Mf);class Ak extends kn{}class T$ extends Ak{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,mi(this.units,"units"),this.activation=vf(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Wr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Wr(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Wr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Gr(e.kernelRegularizer),this.recurrentRegularizer=Gr(e.recurrentRegularizer),this.biasRegularizer=Gr(e.biasRegularizer),this.kernelConstraint=ti(e.kernelConstraint),this.recurrentConstraint=ti(e.recurrentConstraint),this.biasConstraint=ti(e.biasConstraint),this.dropout=cy([1,yf([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=cy([1,yf([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Wn(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Te(()=>{if(e=e,e.length!==2)throw new Be(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let r=e[1];e=e[0];const s=n.training==null?!1:n.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=xf({ones:()=>Da(e),rate:this.dropout,training:s,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=xf({ones:()=>Da(r),rate:this.recurrentDropout,training:s,dropoutFunc:this.dropoutFunc}));let i;const o=this.dropoutMask,a=this.recurrentDropoutMask;o!=null?i=fA(xe(e,o),this.kernel.read()):i=fA(e,this.kernel.read()),this.bias!=null&&(i=Cu(i,this.bias.read())),a!=null&&(r=xe(r,a));let l=qe(i,fA(r,this.recurrentKernel.read()));return this.activation!=null&&(l=this.activation.apply(l)),[l,l]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:wf(this.activation),useBias:this.useBias,kernelInitializer:ts(this.kernelInitializer),recurrentInitializer:ts(this.recurrentInitializer),biasInitializer:ts(this.biasInitializer),kernelRegularizer:br(this.kernelRegularizer),recurrentRegularizer:br(this.recurrentRegularizer),biasRegularizer:br(this.biasRegularizer),activityRegularizer:br(this.activityRegularizer),kernelConstraint:ei(this.kernelConstraint),recurrentConstraint:ei(this.recurrentConstraint),biasConstraint:ei(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),n)}}T$.className="SimpleRNNCell";Ze(T$);class Nre extends Mf{constructor(e){e.cell=new T$(e),super(e)}call(e,n){return Te(()=>{this.cell.dropoutMask!=null&&(Bn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Bn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}static fromConfig(e,n){return new e(n)}}Nre.className="SimpleRNN";Ze(Nre);class F$ extends Ak{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new Be("GRUCell does not support reset_after parameter set to true.");this.units=e.units,mi(this.units,"units"),this.activation=vf(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=vf(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Wr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Wr(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Wr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Gr(e.kernelRegularizer),this.recurrentRegularizer=Gr(e.recurrentRegularizer),this.biasRegularizer=Gr(e.biasRegularizer),this.kernelConstraint=ti(e.kernelConstraint),this.recurrentConstraint=ti(e.recurrentConstraint),this.biasConstraint=ti(e.biasConstraint),this.dropout=cy([1,yf([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=cy([1,yf([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Wn(e);const n=e[e.length-1];this.kernel=this.addWeight("kernel",[n,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Te(()=>{if(e=e,e.length!==2)throw new Be(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const r=n.training==null?!1:n.training;let s=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=xf({ones:()=>Da(e),rate:this.dropout,training:r,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=xf({ones:()=>Da(s),rate:this.recurrentDropout,training:r,count:3,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,o=this.recurrentDropoutMask;let a,l,c;0<this.dropout&&this.dropout<1&&(e=xe(e,i[0]));let u=fA(e,this.kernel.read());this.useBias&&(u=Cu(u,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(s=xe(s,o[0]));const A=this.recurrentKernel.read(),[d,h]=qo(A,[2*this.units,this.units],A.rank-1),p=fA(s,d),[m,y,g]=qo(u,3,u.rank-1),[v,b]=qo(p,2,p.rank-1);a=this.recurrentActivation.apply(qe(m,v)),l=this.recurrentActivation.apply(qe(y,b));const C=fA(xe(l,s),h);c=this.activation.apply(qe(g,C));const _=qe(xe(a,s),xe(qe(1,Er(a)),c));return[_,_]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:wf(this.activation),recurrentActivation:wf(this.recurrentActivation),useBias:this.useBias,kernelInitializer:ts(this.kernelInitializer),recurrentInitializer:ts(this.recurrentInitializer),biasInitializer:ts(this.biasInitializer),kernelRegularizer:br(this.kernelRegularizer),recurrentRegularizer:br(this.recurrentRegularizer),biasRegularizer:br(this.biasRegularizer),activityRegularizer:br(this.activityRegularizer),kernelConstraint:ei(this.kernelConstraint),recurrentConstraint:ei(this.recurrentConstraint),biasConstraint:ei(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),n)}}F$.className="GRUCell";Ze(F$);class Ire extends Mf{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new F$(e),super(e)}call(e,n){return Te(()=>{this.cell.dropoutMask!=null&&(Bn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Bn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}Ire.className="GRU";Ze(Ire);class dk extends Ak{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,mi(this.units,"units"),this.activation=vf(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=vf(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Wr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Wr(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Wr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=Gr(e.kernelRegularizer),this.recurrentRegularizer=Gr(e.recurrentRegularizer),this.biasRegularizer=Gr(e.biasRegularizer),this.kernelConstraint=ti(e.kernelConstraint),this.recurrentConstraint=ti(e.recurrentConstraint),this.biasConstraint=ti(e.biasConstraint),this.dropout=cy([1,yf([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=cy([1,yf([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var n;e=Wn(e);const r=e[e.length-1];this.kernel=this.addWeight("kernel",[r,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let s;if(this.useBias){if(this.unitForgetBias){const i=this.biasInitializer,o=this.units;s=new(n=class extends uc{apply(l,c){const u=i.apply([o]),A=new y$().apply([o]),d=i.apply([o*2]);return JH(JH(u,A),d)}},n.className="CustomInit",n)}else s=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,s,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,n){return Te(()=>{const r=n.training==null?!1:n.training;if(e=e,e.length!==3)throw new Be(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let s=e[1];const i=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=xf({ones:()=>Da(e),rate:this.dropout,training:r,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=xf({ones:()=>Da(s),rate:this.recurrentDropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,a=this.recurrentDropoutMask;let l,c,u,A;0<this.dropout&&this.dropout<1&&(e=xe(e,o[0]));let d=fA(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(s=xe(s,a[0])),d=qe(d,fA(s,this.recurrentKernel.read())),this.useBias&&(d=Cu(d,this.bias.read()));const[h,p,m,y]=qo(d,4,d.rank-1);l=this.recurrentActivation.apply(h),c=this.recurrentActivation.apply(p),u=qe(xe(c,i),xe(l,this.activation.apply(m))),A=this.recurrentActivation.apply(y);const g=xe(A,this.activation.apply(u));return[g,g,u]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:wf(this.activation),recurrentActivation:wf(this.recurrentActivation),useBias:this.useBias,kernelInitializer:ts(this.kernelInitializer),recurrentInitializer:ts(this.recurrentInitializer),biasInitializer:ts(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:br(this.kernelRegularizer),recurrentRegularizer:br(this.recurrentRegularizer),biasRegularizer:br(this.biasRegularizer),activityRegularizer:br(this.activityRegularizer),kernelConstraint:ei(this.kernelConstraint),recurrentConstraint:ei(this.recurrentConstraint),biasConstraint:ei(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),n)}}dk.className="LSTMCell";Ze(dk);class Ere extends Mf{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new dk(e),super(e)}call(e,n){return Te(()=>{this.cell.dropoutMask!=null&&(Bn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Bn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}Ere.className="LSTM";Ze(Ere);class L$ extends Ak{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?e.push(...n.stateSize):e.push(n.stateSize);return e}call(e,n){return Te(()=>{e=e;let r=e.slice(1);const s=[];for(const a of this.cells.slice().reverse())Array.isArray(a.stateSize)?s.push(r.splice(0,a.stateSize.length)):s.push(r.splice(0,1));s.reverse();const i=[];let o;for(let a=0;a<this.cells.length;++a){const l=this.cells[a];r=s[a],a===0?o=[e[0]].concat(r):o=[o[0]].concat(r),o=l.call(o,n),i.push(o.slice(1))}r=[];for(const a of i.slice().reverse())r.push(...a);return[o[0]].concat(r)})}build(e){lL(e)&&(e=e[0]),e=e;let n;this.cells.forEach((r,s)=>{tm(`RNNCell_${s}`,()=>{r.build(e),Array.isArray(r.stateSize)?n=r.stateSize[0]:n=r.stateSize,e=[e[0],n]})}),this.built=!0}getConfig(){const e=super.getConfig(),n=i=>({className:i.getClassName(),config:i.getConfig()}),s={cells:this.cells.map(n)};return Object.assign(Object.assign({},e),s)}static fromConfig(e,n,r={}){const s=[];for(const i of n.cells)s.push(ud(i,r));return new e({cells:s})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const n of this.cells)e.push(...n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.cells)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.cells)n.push(...r.trainableWeights);return n.concat(e)}return e}getWeights(){const e=[];for(const n of this.cells)e.push(...n.weights);return cL(e)}setWeights(e){const n=[];for(const r of this.cells){const s=r.weights.length,i=e.splice(s);for(let o=0;o<r.weights.length;++o)n.push([r.weights[o],i[o]])}B$(n)}}L$.className="StackedRNNCells";Ze(L$);function xf(t){const{ones:e,rate:n,training:r=!1,count:s=1,dropoutFunc:i}=t,o=()=>i!=null?i(e(),n):vne(e(),n),a=()=>D2(o,e,r);return!s||s<=1?Xs(a().clone()):Array(s).fill(void 0).map(a).map(c=>Xs(c.clone()))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var tMe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class kre extends Mf{constructor(e){if(e.unroll)throw new wn("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new wn("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new Zs({ndim:5})]}call(e,n){return Te(()=>{if(this.cell.dropoutMask!=null&&(Bn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Bn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new Be("ConvRNN2D cell does not support constants");const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}computeOutputShape(e){let n=this.computeSingleOutputShape(e);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([e[0],...n.slice(-3)])]),n}getInitialState(e){return Te(()=>{const{stateSize:n}=this.cell,r=e.shape,s=this.computeSingleOutputShape(r),i=[s[0],...s.slice(2)],o=Ms(i);return Array.isArray(n)?Array(n.length).fill(o):[o]})}resetStates(e,n=!1){Te(()=>{if(!this.stateful)throw new zu("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape,s=this.computeSingleOutputShape(r),i=[s[0],...s.slice(2)];if(r[0]==null)throw new Be("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>Ms(i)):this.states_=[Ms(i)];else if(e==null)Bn(this.states_),this.keptStates!=null&&(Bn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>Ms(i)):this.states_[0]=Ms(i);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Be(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n?this.keptStates.push(this.states_.slice()):Bn(this.states_);for(let a=0;a<this.states_.length;++a){const l=e[a],c=i;if(!Tn(l.shape,c))throw new Be(`State ${a} is incompatible with layer ${this.name}: expected shape=${c}, received shape=${l.shape}`);this.states_[a]=l}}this.states_=this.states_.map(a=>Xs(a.clone()))})}computeSingleOutputShape(e){const{dataFormat:n,filters:r,kernelSize:s,padding:i,strides:o,dilationRate:a}=this.cell,l=n==="channelsFirst",c=e[l?3:2],u=e[l?4:3],A=iu(c,s[0],i,o[0],a[0]),d=iu(u,s[1],i,o[1],a[1]);return[...e.slice(0,2),...l?[r,A,d]:[A,d,r]]}}kre.className="ConvRNN2D";class D$ extends dk{constructor(e){const{filters:n,kernelSize:r,strides:s,padding:i,dataFormat:o,dilationRate:a}=e;super(Object.assign(Object.assign({},e),{units:n})),this.filters=n,mi(this.filters,"filters"),this.kernelSize=N0(r,2,"kernelSize"),this.kernelSize.forEach(l=>mi(l,"kernelSize")),this.strides=N0(s||1,2,"strides"),this.strides.forEach(l=>mi(l,"strides")),this.padding=i||"valid",vl(this.padding),this.dataFormat=o||"channelsLast",_s(this.dataFormat),this.dilationRate=N0(a||1,2,"dilationRate"),this.dilationRate.forEach(l=>mi(l,"dilationRate"))}build(e){var n;e=Wn(e);const r=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[r]==null)throw new Be(`The channel dimension of the input should be defined. Found ${e[r]}`);const s=e[r],i=4,o=this.kernelSize.concat([s,this.filters*i]);this.kernel=this.addWeight("kernel",o,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const a=this.kernelSize.concat([this.filters,this.filters*i]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",a,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let l;if(this.unitForgetBias){const c=this.biasInitializer,u=this.filters;l=new(n=class extends uc{apply(d,h){const p=c.apply([u]),m=Go([u]),y=c.apply([u*2]);return g$([p,m,y])}},n.className="CustomInit",n)}else l=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*i],null,l,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,n){return Te(()=>{if(e.length!==3)throw new Be(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const r=n.training||!1,s=e[0],i=e[1],o=e[2],a=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=xf({ones:()=>Da(s),rate:this.dropout,training:r,count:a,dropoutFunc:this.dropoutFunc}));const l=this.dropoutMask,c=(le,ce,M)=>!ce||!ce[M]?le:xe(ce[M],le);let u=c(s,l,0),A=c(s,l,1),d=c(s,l,2),h=c(s,l,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=xf({ones:()=>Da(i),rate:this.recurrentDropout,training:r,count:a,dropoutFunc:this.dropoutFunc}));const p=this.recurrentDropoutMask;let m=c(i,p,0),y=c(i,p,1),g=c(i,p,2),v=c(i,p,3);const b=3,[C,_,I,F]=qo(this.kernel.read(),a,b),[T,D,H,R]=this.useBias?qo(this.bias.read(),a):[null,null,null,null];u=this.inputConv(u,C,T,this.padding),A=this.inputConv(A,_,D,this.padding),d=this.inputConv(d,I,H,this.padding),h=this.inputConv(h,F,R,this.padding);const[U,W,$,Y]=qo(this.recurrentKernel.read(),a,b);m=this.recurrentConv(m,U),y=this.recurrentConv(y,W),g=this.recurrentConv(g,$),v=this.recurrentConv(v,Y);const J=this.recurrentActivation.apply(qe(u,m)),oe=this.recurrentActivation.apply(qe(A,y)),V=qe(xe(oe,o),xe(J,this.activation.apply(qe(d,g)))),Z=xe(this.recurrentActivation.apply(qe(h,v)),this.activation.apply(V));return[Z,Z,V]})}getConfig(){const e=super.getConfig(),n=tMe(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),r)}inputConv(e,n,r,s){const i=bd(e,n,this.strides,s||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return r?Cu(i,r,this.dataFormat):i}recurrentConv(e,n){return bd(e,n,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}D$.className="ConvLSTM2DCell";Ze(D$);class Tre extends kre{constructor(e){const n=new D$(e);super(Object.assign(Object.assign({},e),{cell:n}))}static fromConfig(e,n){return new e(n)}}Tre.className="ConvLSTM2D";Ze(Tre);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class P$ extends kn{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;const n=e.shape,r=[];for(let s=0;s<this.noiseShape.length;++s)r.push(this.noiseShape[s]==null?n[s]:this.noiseShape[s]);return r}call(e,n){return Te(()=>{this.invokeCallHook(e,n);const r=tn(e);if(0<this.rate&&this.rate<1){const s=n.training==null?!1:n.training,i=this.getNoiseShape(r);return D2(()=>vne(r,this.rate,i,this.seed),()=>r,s)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(e,n),e}dispose(){return super.dispose()}}P$.className="Dropout";Ze(P$);class Fre extends P${constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const n=e.shape;return[n[0],1,n[2]]}}Fre.className="SpatialDropout1D";Ze(Fre);class Lre extends kn{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let n=null;e.batchSize!=null&&(n=e.batchSize),this.batchInputShape=[n,e.inputDim]}this.units=e.units,mi(this.units,"units"),this.activation=vf(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=Wr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=Wr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=ti(e.kernelConstraint),this.biasConstraint=ti(e.biasConstraint),this.kernelRegularizer=Gr(e.kernelRegularizer),this.biasRegularizer=Gr(e.biasRegularizer),this.activityRegularizer=Gr(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=Wn(e);const n=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(e){e=Wn(e);const n=e.slice();return n[n.length-1]=this.units,n}call(e,n){return Te(()=>{this.invokeCallHook(e,n);const r=tn(e),s=hne(this.activation.getClassName());let i;return s!=null?i=fA(r,this.kernel.read(),s,this.bias?this.bias.read():null):(i=fA(r,this.kernel.read()),this.bias!=null&&(i=Cu(i,this.bias.read())),this.activation!=null&&(i=this.activation.apply(i))),i})}getConfig(){const e={units:this.units,activation:wf(this.activation),useBias:this.useBias,kernelInitializer:ts(this.kernelInitializer),biasInitializer:ts(this.biasInitializer),kernelRegularizer:br(this.kernelRegularizer),biasRegularizer:br(this.biasRegularizer),activityRegularizer:br(this.activityRegularizer),kernelConstraint:ei(this.kernelConstraint),biasConstraint:ei(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}Lre.className="Dense";Ze(Lre);class Dre extends kn{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=Wn(e);for(const n of e.slice(1))if(n==null)throw new Be(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],nf(e,1)]}call(e,n){return Te(()=>{this.invokeCallHook(e,n);let r=tn(e);if(this.dataFormat==="channelsFirst"&&r.rank>1){const s=[0];for(let i=2;i<r.rank;++i)s.push(i);s.push(1),r=Fn(r,s)}return P$e(r)})}getConfig(){const e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(e,n),e}}Dre.className="Flatten";Ze(Dre);class Pre extends kn{constructor(e){super(e),this.supportsMasking=!0,this.activation=vf(e.activation)}call(e,n){return Te(()=>{this.invokeCallHook(e,n);const r=tn(e);return this.activation.apply(r)})}getConfig(){const e={activation:wf(this.activation)},n=super.getConfig();return Object.assign(e,n),e}}Pre.className="Activation";Ze(Pre);class Rre extends kn{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,n){return Te(()=>(e=tn(e),L$e(e,this.n)))}getConfig(){const e={n:this.n},n=super.getConfig();return Object.assign(e,n),e}}Rre.className="RepeatVector";Ze(Rre);class Ore extends kn{constructor(e){super(e),this.targetShape=e.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,n){const r="Total size of new array must be unchanged.",s=n.slice();let i=1,o=null;for(let l=0;l<s.length;++l){const c=s[l];if(this.isUnknown(c))if(o===null)o=l;else throw new Be("Can only specifiy one unknown dimension.");else i*=c}const a=nf(e);if(o!==null){if(i===0||a%i!==0)throw new Be(r);s[o]=a/i}else if(a!==i)throw new Be(r);return s}computeOutputShape(e){let n=!1;for(let r=0;r<e.length;++r)if(this.isUnknown(e[r])){n=!0;break}return n?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,n){return Te(()=>{this.invokeCallHook(e,n);const r=tn(e),s=r.shape,i=s.slice(0,1).concat(this.fixUnknownDimension(s.slice(1),this.targetShape));return Se(r,i)})}getConfig(){const e={targetShape:this.targetShape},n=super.getConfig();return Object.assign(e,n),e}}Ore.className="Reshape";Ze(Ore);class $re extends kn{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const n=du(1,e.dims.length+1);if(!Tn(e.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new Zs({ndim:this.dims.length+1})]}computeOutputShape(e){e=Wn(e);const n=e.slice();return this.dims.forEach((r,s)=>{n[s+1]=e[r]}),n}call(e,n){return Fn(tn(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},n=super.getConfig();return Object.assign(e,n),e}}$re.className="Permute";Ze($re);class Ure extends kn{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,e),n}computeMask(e,n){const r=tn(e);return wx(Sm(r,this.maskValue),-1)}call(e,n){return Te(()=>{this.invokeCallHook(e,n);const r=tn(e),o=wx(Sm(r,this.maskValue),-1,!0);return xe(r,ot(o,r.dtype))})}}Ure.className="Masking";Ze(Ure);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Mre extends kn{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let n=null;e.batchSize!=null&&(n=e.batchSize),e.inputLength==null?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(cr(e.inputLength))}this.inputDim=e.inputDim,mi(this.inputDim,"inputDim"),this.outputDim=e.outputDim,mi(this.outputDim,"outputDim"),this.embeddingsInitializer=Wr(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=Gr(e.embeddingsRegularizer),this.activityRegularizer=Gr(e.activityRegularizer),this.embeddingsConstraint=ti(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,n){return Te(()=>this.maskZero?(e=tn(e),Sm(e,Pn(e))):null)}computeOutputShape(e){if(e=Wn(e),this.inputLength==null)return[...e,this.outputDim];const n=cr(this.inputLength);if(n.length!==e.length-1)throw new Be(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let r=0;for(let s=0;s<n.length;++s){const i=n[s],o=e[s+1];if(i!=null&&o!=null&&i!==o)throw new Be(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);i==null&&(n[r]=o),r++}}return[e[0],...n,this.outputDim]}call(e,n){return Te(()=>{this.invokeCallHook(e,n);let r=tn(e);r.dtype!=="int32"&&(r=hA(r,"int32"));const s=wne(this.embeddings.read(),Se(r,[r.size]));return Se(s,Wn(this.computeOutputShape(r.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:ts(this.embeddingsInitializer),embeddingsRegularizer:br(this.embeddingsRegularizer),activityRegularizer:br(this.activityRegularizer),embeddingsConstraint:ei(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(e,n),e}}Mre.className="Embedding";Ze(Mre);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Ym extends kn{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new wn}computeElementwiseOpOutputShape(e,n){if(e==null||n==null)return null;if(e.length<n.length)return this.computeElementwiseOpOutputShape(n,e);if(n.length===0)return e;const r=e.slice(0,e.length-n.length);for(let s=0;s<n.length;++s){const i=e[e.length-n.length+s],o=n[s];if(i==null||o==null||i<0||o<0)r.push(null);else if(i===1)r.push(o);else if(o===1)r.push(i);else{if(i!==o)throw new Be("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(n));r.push(i)}}return r}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Wn(e)]),e=e,e.length<2)throw new Be(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let n=[];for(const i of e)i!=null&&i[0]!==null&&n.push(i[0]);if(n=tf(n),n.length>1)throw new Be(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let r=e[0]==null?null:e[0].slice(1);for(let i=1;i<e.length;++i){const o=e[i]==null?null:e[i].slice(1);r=this.computeElementwiseOpOutputShape(r,o)}const s=e.map(i=>i.length);e.indexOf(null)===-1&&tf(s).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,n){return Te(()=>{if(e=e,this.reshapeRequired){const r=[],s=e.map(i=>i.rank);if(s.indexOf(null)===-1){const i=yf(s);for(let o of e){const a=o.rank;for(let l=0;l<i-a;++l)o=F2(o,1);r.push(o)}return this.mergeFunction(r)}else{let i=!1;for(const l of e){const c=l.rank;if(c==null){const u=l.shape,A=u[0],d=u.slice(1).concat([A]);let h=Se(l,[A].concat(nf(u.slice(1))));h=Fn(h,[1,0]),h=Se(h,d),r.push(h),i=!0}else if(c>1){const u=du(1,c).concat([0]);r.push(Fn(l,u)),i=!0}else r.push(l)}let o=this.mergeFunction(r);const a=o.rank;if(i){if(a==null){const l=o.shape,c=l.length,u=l[c-1],A=[u].concat(l.slice(0,l.length-1));o=Se(Fn(Se(o,[-1,u]),[1,0]),A)}else if(a>1){const l=[a-1].concat(du(0,a-1));o=Fn(o,l)}}return o}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let n;e[0]==null?n=null:n=e[0].slice(1);for(let s=1;s<e.length;++s){const i=e[s]==null?null:e[s].slice(1);n=this.computeElementwiseOpOutputShape(n,i)}let r=[];for(const s of e)s!=null&&s[0]!==null&&r.push(s[0]);return r=tf(r),r.length===1?n=r.concat(n):n=[null].concat(n),n}computeMask(e,n){return Te(()=>{if(n==null)return null;if(!Array.isArray(n))throw new Be("`mask` should be an Array");if(!Array.isArray(e))throw new Be("`inputs` should be an Array");if(n.length!==e.length)throw new Be(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${n.length})`);if(n.every(s=>s==null))return null;n=n.map(s=>s==null?s:Gi(s,0));let r=n[0];for(let s=1;s<n.length-1;++s)r=Au(r,n[s]);return r})}}class Qre extends Ym{constructor(e){super(e)}mergeFunction(e){return Te(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=qe(n,e[r]);return n})}}Qre.className="Add";Ze(Qre);class jre extends Ym{constructor(e){super(e)}mergeFunction(e){return Te(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=xe(n,e[r]);return n})}}jre.className="Multiply";Ze(jre);class Hre extends Ym{constructor(e){super(e)}mergeFunction(e){return Te(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=qe(n,e[r]);return xe(1/e.length,n)})}}Hre.className="Average";Ze(Hre);class zre extends Ym{constructor(e){super(e)}mergeFunction(e){return Te(()=>{let n=e[0];for(let r=1;r<e.length;++r)n=EA(n,e[r]);return n})}}zre.className="Maximum";Ze(zre);class Vre extends Ym{constructor(e){super(e)}mergeFunction(e){return Te(()=>{let n=e[0];for(let r=1;r<e.length;++r)n=gf(n,e[r]);return n})}}Vre.className="Minimum";Ze(Vre);class Wre extends Ym{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new Be("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let n=!0;for(const s of e)if(s!=null){n=!1;break}if(n)return;const r=[];for(let s=0;s<e.length;++s){const i=e[s].slice();i.splice(this.axis,1);let o=!1;for(const a of r)if(Tn(a,i)){o=!0;break}o||r.push(i)}if(r.length>1)throw new Be("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return Te(()=>g$(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new Be("A `Concatenate` layer should be called on a list of inputs.");const n=e,r=n[0].slice(),s=this.axis<0?r.length+this.axis:this.axis;for(const i of n.slice(1)){if(r[s]==null||i[s]==null){r[s]=null;break}r[s]+=i[s]}return r}computeMask(e,n){if(n==null)return null;if(!Array.isArray(n))throw new Be("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new Be("`inputs` should be an array for Concatenate");if(n.length!==e.length)throw new Be(`Mismatch in the length of mask (${n.length}) and the legnth of inputs (${e.length})`);return Te(()=>{let r=!0;if(n.forEach(o=>{if(o!=null){r=!1;return}}),r)return null;const s=[];for(let o=0;o<e.length;++o)n[o]==null?s.push(ot(Da(e[o]),"bool")):n[o].rank<e[o].rank?s.push(Gi(n[o],-1)):s.push(n[o]);const i=Cs(s,this.axis);return gE(i,-1,!1)})}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}Wre.className="Concatenate";Ze(Wre);function Bw(t,e){for(;t<0;)t+=e;return t}function nMe(t,e,n){if(t.shape.length>3||e.shape.length>3)throw new wn("batchDot is not implemented for tensors of 4D or higher rank yet");if(ee(t.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${t.shape.length}`),ee(t.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${e.shape.length}`),typeof n=="number"&&(n=[n,n]),t.dtype==="complex64"||e.dtype==="complex64")throw new wn("batchDot is not implemented for complex64-type Tensors yet.");const r=t.shape.length,s=e.shape.length;n==null&&(n=[r-1,s-2]);const i=n;return Te(()=>{let o;if(r>s){o=r-s;const l=[];for(let c=0;c<o;++c)l.push(1);e=Se(e,e.shape.concat(l))}else if(s>r){o=s-r;const l=[];for(let c=0;c<o;++c)l.push(1);t=Se(t,t.shape.concat(l))}else o=0;let a;if(t.shape.length===2&&e.shape.length===2)i[0]===i[1]?a=It(xe(t,e),i[0]):a=It(xe(Fn(t,[1,0]),e),i[1]);else{const l=i[0]!==t.shape.length-1,c=i[1]===e.shape.length-1;a=Sn(t,e,l,c)}if(o>0){let l;r>s?l=r+s-3:l=r-1;const c=[];for(let u=l;u<l+o;++u)c.push(u);a=$f(a,c)}return a.shape.length===1&&(a=Gi(a,1)),a})}class Gre extends Ym{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){ee(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0],r=e[1];if(n.length>3||r.length>3)throw new wn("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,r);if(n[s[0]]!==r[s[1]])throw new Be(`Dimension incompatibility: ${n[s[0]]} !== ${r[s[1]]}`)}mergeFunction(e){if(e.length!==2)throw new Be(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let n=e[0],r=e[1],s;return Array.isArray(this.axes)?s=this.axes.map((i,o)=>Bw(i,e[o].shape.length)):s=[Bw(this.axes,n.shape.length),Bw(this.axes,r.shape.length)],this.normalize&&(n=Q_(n,s[0]),r=Q_(r,s[1])),nMe(n,r,s)}interpretAxes(e,n){let r;return Array.isArray(this.axes)?r=this.axes:r=[Bw(this.axes,e.length),Bw(this.axes,n.length)],r}computeOutputShape(e){ee(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0].slice(),r=e[1].slice();if(n.length>3||r.length>3)throw new wn("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,r);n.splice(s[0],1),r.splice(s[1],1),r.splice(0,1);const i=n.concat(r);return i.length===1&&i.push(1),i}computeMask(e,n){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(e,n),e}}Gre.className="Dot";Ze(Gre);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Kre extends kn{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,e),n}call(e,n){return Te(()=>{this.invokeCallHook(e,n);const r=tn(e);return D2(()=>qe(ik(r.shape,0,this.stddev),r),()=>r,n.training||!1)})}}Kre.className="GaussianNoise";Ze(Kre);class qre extends kn{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return Te(()=>{this.invokeCallHook(e,n);const r=tn(e);return this.rate>0&&this.rate<1?D2(()=>{const i=Math.sqrt(this.rate/(1-this.rate));return xe(r,ik(r.shape,1,i))},()=>r,n.training||!1):r})}}qre.className="GaussianDropout";Ze(qre);class Xre extends kn{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||tn(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return Te(()=>{if(this.rate<1&&this.rate>0){const r=this._getNoiseShape(e);return D2(()=>{const i=tn(e),l=-1.6732632423543772*1.0507009873554805;let c=kd(Of(r),this.rate);c=hA(c,"float32");const u=((1-this.rate)*(1+this.rate*l**2))**-.5,A=-u*l*this.rate,d=qe(xe(i,c),xe(qe(c,-1),l));return qe(xe(d,u),A)},()=>tn(e),n.training||!1)}return e})}}Xre.className="AlphaDropout";Ze(Xre);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function _x(t,e,n,r,s,i=.001){let o;if(t.rank===2)o=DR(t,e,n,r,s,i);else if(t.rank===3)o=PR(t,e,n,r,s,i);else if(t.rank===4)o=RR(t,e,n,r,s,i);else throw new wn(`batchNormalization is not implemented for array of rank ${t.rank} yet`);return o}function rMe(t,e,n,r,s=.001){return Te(()=>{const i=v2(t,r),o=i.mean,a=i.variance;return[_x(t,o,a,n,e,s),o,a]})}function sMe(t,e,n,r,s=.001){return Te(()=>{const i=v2(t,r),o=i.mean,a=i.variance,l=[];for(const p of du(0,t.rank))r.indexOf(p)!==-1?l.push(1):l.push(t.shape[p]);const c=Se(o,l),u=Se(a,l),A=e==null?null:Se(e,l),d=n==null?null:Se(n,l);return[_x(t,c,u,d,A,s),o,a]})}function iMe(t,e,n,r,s=.001){return Tn(r.slice().sort(),du(0,t.rank-1))?rMe(t,e,n,r,s):sMe(t,e,n,r,s)}class Yre extends kn{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=Wr(e.betaInitializer||"zeros"),this.gammaInitializer=Wr(e.gammaInitializer||"ones"),this.movingMeanInitializer=Wr(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=Wr(e.movingVarianceInitializer||"ones"),this.betaConstraint=ti(e.betaConstraint),this.gammaConstraint=ti(e.gammaConstraint),this.betaRegularizer=Gr(e.betaRegularizer),this.gammaRegularizer=Gr(e.gammaRegularizer)}build(e){e=Wn(e);const n=this.axis>=0?this.axis:this.axis+e.length,r=e[n];if(r==null)throw new Be(`Axis ${n} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new Zs({ndim:e.length,axes:{[n]:r}})];const s=[r];this.scale&&(this.gamma=this.addWeight("gamma",s,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",s,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",s,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",s,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,n){return Te(()=>{const r=n.training==null?!1:n.training,s=tn(e),i=s.shape,o=i.length,a=du(0,o),l=this.axis>=0?this.axis:this.axis+o;a.splice(l,1);const c=Nm(1,o);c[l]=i[l];const u=a.slice();u.sort();const A=!Tn(u,du(0,o).slice(0,o-1)),d=()=>{if(A){const v=Se(this.movingMean.read(),c),b=Se(this.movingVariance.read(),c),C=this.center?Se(this.beta.read(),c):null,_=this.scale?Se(this.gamma.read(),c):null;return _x(s,v,b,C,_,this.epsilon)}else return _x(s,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!r)return d();const[h,p,m]=iMe(s,this.gamma.read(),this.beta.read(),a,this.epsilon),y=(v,b,C)=>{Te(()=>{const _=1-C,I=v.read(),F=xe(wt(I,b),_);v.write(wt(I,F))})};return(()=>{y(this.movingMean,p,this.momentum),y(this.movingVariance,m,this.momentum)})(),h})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:ts(this.betaInitializer),gammaInitializer:ts(this.gammaInitializer),movingMeanInitializer:ts(this.movingMeanInitializer),movingVarianceInitializer:ts(this.movingVarianceInitializer),betaRegularizer:br(this.betaRegularizer),gammaRegularizer:br(this.gammaRegularizer),betaConstraint:ei(this.betaConstraint),gammaConstraint:ei(this.gammaConstraint)},n=super.getConfig();return Object.assign(e,n),e}}Yre.className="BatchNormalization";Ze(Yre);class Zre extends kn{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(const n of this.axis)if(!Number.isInteger(n))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=Wr(e.betaInitializer||"zeros"),this.gammaInitializer=Wr(e.gammaInitializer||"ones"),this.betaRegularizer=Gr(e.betaRegularizer),this.gammaRegularizer=Gr(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=Wn(e);const n=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let i=0;i<this.axis.length;++i)this.axis[i]<0&&(this.axis[i]+=n);for(const i of this.axis)if(i<0||i>=n)throw new Error(`Invalid axis: ${i}`);if(this.axis.length!==tf(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const r=this.axis.map(i=>e[i]),s=!0;this.scale?this.gamma=this.addWeight("gamma",r,"float32",this.gammaInitializer,this.gammaRegularizer,s):this.gamma=null,this.center?this.beta=this.addWeight("beta",r,"float32",this.betaInitializer,this.betaRegularizer,s):this.beta=null,this.built=!0}call(e,n){const r=tn(e),s=r.shape,i=s.length;return Te(()=>{let{mean:a,variance:l}=v2(r,this.axis,!0);const c=Nm(1,i);for(const m of this.axis)c[m]=s[m];const u=m=>m!=null&&m.shape.length!==i?Se(m,c):m;let A=this.scale?u(this.gamma.read()):null,d=this.center?u(this.beta.read()):null;const h=[],p=[];for(let m=0;m<i;++m)this.axis.indexOf(m)!==-1?(h.push(s[m]),p.push(1)):(h.push(1),p.push(s[m]));return a=cl(a,h),l=cl(l,h),A!=null&&(A=cl(A,p)),d!=null&&(d=cl(d,p)),_x(r,a,l,d,A,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:ts(this.betaInitializer),gammaInitializer:ts(this.gammaInitializer),betaRegularizer:br(this.betaRegularizer),gammaRegularizer:br(this.gammaRegularizer)},n=super.getConfig();return Object.assign(e,n),e}}Zre.className="LayerNormalization";Ze(Zre);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function oMe(t,e,n){return Te(()=>{if(t.rank!==4)throw new Be(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(e==null&&(e=[[1,1],[1,1]]),e.length!==2||e[0].length!==2||e[1].length!==2)throw new Be("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=hu()),n!=="channelsLast"&&n!=="channelsFirst")throw new Be(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let r;return n==="channelsFirst"?r=[[0,0],[0,0],e[0],e[1]]:r=[[0,0],e[0],e[1],[0,0]],Td(t,r)})}class Jre extends kn{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?hu():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new Be(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let n,r;if(typeof e.padding[0]=="number")n=[e.padding[0],e.padding[0]],r=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new Be(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(n=e.padding[0],e.padding[1].length!==2)throw new Be(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);r=e.padding[1]}this.padding=[n,r]}this.inputSpec=[new Zs({ndim:4})]}computeOutputShape(e){e=Wn(e);let n,r;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?n=e[2]+this.padding[0][0]+this.padding[0][1]:n=null,e[3]!=null&&e[3]>=0?r=e[3]+this.padding[1][0]+this.padding[1][1]:r=null,[e[0],e[1],n,r]):(e[1]!=null&&e[1]>=0?n=e[1]+this.padding[0][0]+this.padding[0][1]:n=null,e[2]!=null&&e[2]>=0?r=e[2]+this.padding[1][0]+this.padding[1][1]:r=null,[e[0],n,r,e[3]])}call(e,n){return Te(()=>oMe(tn(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}Jre.className="ZeroPadding2D";Ze(Jre);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function hk(t,e,n,r,s,i){return Te(()=>{_s(s),pne(i),vl(r),n==null&&(n=[1,1]),r==null&&(r="valid"),s==null&&(s=hu()),i==null&&(i="max"),t=k$(t,s);let o;const a=r==="same"?"same":"valid";return i==="max"?o=w2(t,e,n,a):o=A2(t,e,n,a),s==="channelsFirst"&&(o=Fn(o,[0,3,1,2])),o})}function ese(t,e,n,r,s,i){return Te(()=>{_s(s),pne(i),vl(r),n==null&&(n=[1,1,1]),r==null&&(r="valid"),s==null&&(s=hu()),i==null&&(i="max"),t=gre(t,s);let o;const a=r==="same"?"same":"valid";return i==="max"?o=iO(t,e,n,a):o=LR(t,e,n,a),s==="channelsFirst"&&(o=Fn(o,[0,4,1,2,3])),o})}class tse extends kn{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new Be(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);if(mi(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new Be(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);mi(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,vl(this.padding),this.inputSpec=[new Zs({ndim:3})]}computeOutputShape(e){e=Wn(e);const n=iu(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],n,e[2]]}call(e,n){return Te(()=>{this.invokeCallHook(e,n),e=F2(tn(e),2);const r=this.poolingFunction(tn(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return $f(r,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(e,n),e}}class nse extends tse{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return _s(i),vl(s),hk(e,n,r,s,i,"max")}}nse.className="MaxPooling1D";Ze(nse);class rse extends tse{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return _s(i),vl(s),hk(e,n,r,s,i,"avg")}}rse.className="AveragePooling1D";Ze(rse);class sse extends kn{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new Be(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];mi(this.poolSize,"poolSize"),mi(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,_s(this.dataFormat),vl(this.padding),this.inputSpec=[new Zs({ndim:4})]}computeOutputShape(e){e=Wn(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2];return n=iu(n,this.poolSize[0],this.padding,this.strides[0]),r=iu(r,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,r]:[e[0],n,r,e[3]]}call(e,n){return Te(()=>(this.invokeCallHook(e,n),this.poolingFunction(tn(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class ise extends sse{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return _s(i),vl(s),hk(e,n,r,s,i,"max")}}ise.className="MaxPooling2D";Ze(ise);class ose extends sse{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return _s(i),vl(s),hk(e,n,r,s,i,"avg")}}ose.className="AveragePooling2D";Ze(ose);class ase extends kn{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new Be(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];mi(this.poolSize,"poolSize"),mi(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,_s(this.dataFormat),vl(this.padding),this.inputSpec=[new Zs({ndim:5})]}computeOutputShape(e){e=Wn(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2],s=this.dataFormat==="channelsFirst"?e[4]:e[3];return n=iu(n,this.poolSize[0],this.padding,this.strides[0]),r=iu(r,this.poolSize[1],this.padding,this.strides[1]),s=iu(s,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,r,s]:[e[0],n,r,s,e[4]]}call(e,n){return Te(()=>(this.invokeCallHook(e,n),this.poolingFunction(tn(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class lse extends ase{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return _s(i),vl(s),ese(e,n,r,s,i,"max")}}lse.className="MaxPooling3D";Ze(lse);class cse extends ase{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return _s(i),vl(s),ese(e,n,r,s,i,"avg")}}cse.className="AveragePooling3D";Ze(cse);class use extends kn{constructor(e){super(e),this.inputSpec=[new Zs({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,n){throw new wn}}class Ase extends use{constructor(e){super(e||{})}call(e,n){return Te(()=>{const r=tn(e);return es(r,1)})}}Ase.className="GlobalAveragePooling1D";Ze(Ase);class dse extends use{constructor(e){super(e||{})}call(e,n){return Te(()=>{const r=tn(e);return fl(r,1)})}}dse.className="GlobalMaxPooling1D";Ze(dse);class hse extends kn{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,_s(this.dataFormat),this.inputSpec=[new Zs({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,n){throw new wn}getConfig(){const e={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class fse extends hse{call(e,n){return Te(()=>{const r=tn(e);return this.dataFormat==="channelsLast"?es(r,[1,2]):es(r,[2,3])})}}fse.className="GlobalAveragePooling2D";Ze(fse);class pse extends hse{call(e,n){return Te(()=>{const r=tn(e);return this.dataFormat==="channelsLast"?fl(r,[1,2]):fl(r,[2,3])})}}pse.className="GlobalMaxPooling2D";Ze(pse);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class mse extends kn{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(e,n),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,n,r={}){const s=n.layer,i=ud(s,r);delete n.layer;const o={layer:i};return Object.assign(o,n),new e(o)}}class gse extends mse{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=Wn(e),e.length<3)throw new Be(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=Wn(e);const n=[e[0]].concat(e.slice(2)),r=this.layer.computeOutputShape(n),s=e[1];return[r[0],s].concat(r.slice(1))}call(e,n){return Te(()=>(e=tn(e),_re((o,a)=>[tn(this.layer.call(o,n)),[]],e,[],!1,null,null,!1,!0)[1]))}}gse.className="TimeDistributed";Ze(gse);function aMe(t){Xm(I$e,"BidirectionalMergeMode",t)}const lMe="concat";class yse extends mse{constructor(e){super(e);const n=e.layer.getConfig(),r={};r.className=e.layer.getClassName(),r.config=n,this.forwardLayer=ud(r),n.goBackwards=n.goBackwards!==!0;const s={};if(s.className=e.layer.getClassName(),s.config=n,this.backwardLayer=ud(s),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?lMe:e.mergeMode,aMe(this.mergeMode),e.weights)throw new wn("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const n=e.length,r=Math.floor(n/2);this.forwardLayer.setWeights(e.slice(0,r)),this.backwardLayer.setWeights(e.slice(r))}computeOutputShape(e){let n=this.forwardLayer.computeOutputShape(e);Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),n=n;let r,s,i;return this.returnState&&(i=n.slice(1)),r=n[0],r=r,this.mergeMode==="concat"?(r[r.length-1]*=2,s=[r]):this.mergeMode==null?s=[r,r.slice()]:s=[r],this.returnState?this.mergeMode==null?s.concat(i).concat(i.slice()):[r].concat(i).concat(i.slice()):Ho(s)}apply(e,n){let r=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const i=Bre(e,r,s,this.numConstants);if(e=i.inputs,r=i.initialState,s=i.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(r==null||r.length===0)&&s==null)return super.apply(e,n);const o=[],a=[];if(r!=null){const c=r.length;if(c%2>0)throw new Be("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,o.push(...r);const u=r.map(A=>new Zs({shape:A.shape}));this.forwardLayer.stateSpec=u.slice(0,c/2),this.backwardLayer.stateSpec=u.slice(c/2),a.push(...u)}if(s!=null)throw new wn("Support for constants in Bidirectional layers is not implemented yet.");const l=o[0]instanceof bA;for(const c of o)if(c instanceof bA!==l)throw new Be("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){const c=[e].concat(o),u=this.inputSpec.concat(a),A=this.inputSpec;this.inputSpec=u;const d=super.apply(c,n);return this.inputSpec=A,d}else return super.apply(e,n)}call(e,n){return Te(()=>{const r=n.initialState;let s,i;if(r==null)s=this.forwardLayer.call(e,n),i=this.backwardLayer.call(e,n);else{const l=r.slice(0,r.length/2),c=r.slice(r.length/2);s=this.forwardLayer.call(e,Object.assign(n,{initialState:l})),i=this.backwardLayer.call(e,Object.assign(n,{initialState:c}))}let o;this.returnState&&(Array.isArray(s)&&(o=s.slice(1).concat(i.slice(1))),s=s[0],i=i[0]),this.returnSequences&&(i=ml(i,1));let a;return this.mergeMode==="concat"?a=g$([s,i]):this.mergeMode==="sum"?a=qe(s,i):this.mergeMode==="ave"?a=xe(.5,qe(s,i)):this.mergeMode==="mul"?a=xe(s,i):this.mergeMode==null&&(a=[s,i]),this.returnState?this.mergeMode==null?a.concat(o):[a].concat(o):a})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){tm(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),tm(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,n){Array.isArray(n)&&(n=n[0]);let r;if(this.returnSequences?this.mergeMode==null?r=[n,n]:r=n:this.mergeMode==null?r=[null,null]:r=null,this.returnState){const i=this.forwardLayer.states.map(o=>null);return Array.isArray(r)?r.concat(i).concat(i):[r].concat(i).concat(i)}else return r}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(e,n),e}static fromConfig(e,n){const r=ud(n.layer);if(delete n.layer,n.numConstants!=null)throw new wn("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const s=n;return s.layer=r,new e(s)}}yse.className="Bidirectional";Ze(yse);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class wse extends kn{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return Te(()=>(e=tn(e),e.dtype!=="float32"&&(e=hA(e,"float32")),qe(xe(e,this.scale),this.offset)))}}wse.className="Rescaling";Ze(wse);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const{resizeBilinear:cMe,cropAndResize:uMe}=eu;class vse extends kn{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,n,r,s,i,o,a,l){return Te(()=>{let c,u=!1;const A=n/o,d=r/a,h=(s+n)/o,p=(i+r)/a,m=[A,d,h,p],y=[];e.rank===3?(u=!0,c=ea([e])):c=e;for(let _=0;_<c.shape[0];_++)y.push(m);const g=rc(y,[y.length,4]),v=Bm(0,y.length,1,"int32"),C=uMe(c,g,v,[s,i],"nearest");return hA(u?tn(gl(C)):C,l)})}upsize(e,n,r,s){return Te(()=>{const i=cMe(e,[n,r]);return hA(i,s)})}call(e,n){return Te(()=>{const r=tn(e),s=r.dtype,i=r.shape,o=i[i.length-3],a=i[i.length-2];let l=0;o!==this.height&&(l=Math.floor((o-this.height)/2));let c=0;return a!==this.width&&(c=Math.floor((a-this.width)/2),c===0&&(c=1)),l>=0&&c>=0?this.centerCrop(r,l,c,this.height,this.width,o,a,s):this.upsize(e,this.height,this.width,s)})}getConfig(){const e={height:this.height,width:this.width},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=Wn(e);const n=e.length-3,r=e.length-2;return e[n]=this.height,e[r]=this.width,e}}vse.className="CenterCrop";Ze(vse);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function AMe(t,e,n,r){let s=tn(t);if(s.dtype!=="int32"&&(s=hA(s,"int32")),e==="int")return s;const i=s.shape;if(s.rank===0&&(s=Gi(s,-1)),e==="oneHot"&&s.shape[s.shape.length-1]!==1&&(s=Gi(s,-1)),s.rank>2)throw new Be(`When outputMode is not int, maximum output rank is 2 Received outputMode ${e} and input shape ${i} which would result in output rank ${s.rank}.`);const o=["multiHot","oneHot"].includes(e),a=s;let l;if(typeof r<"u"&&e==="count"?l=P_(a,r,n,o):l=P_(a,[],n,o),e!=="tfIdf")return l;if(r)return xe(l,r);throw new Be("When outputMode is 'tfIdf', weights must be provided.")}/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class xse extends kn{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){return e=Wn(e),e==null?[this.numTokens]:this.outputMode==="oneHot"&&e[e.length-1]!==1?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,n){return Te(()=>{e=tn(e),e.dtype!=="int32"&&(e=hA(e,"int32"));let r;if(typeof n.countWeights<"u"){if(this.outputMode!=="count")throw new Be(`countWeights is not used when outputMode !== count.
              Received countWeights=${n.countWeights}`);r=tn(n.countWeights)}const s=fl(e),i=ry(e),o=ia(this.numTokens,s).bufferSync().get(0),a=kd(i,0).bufferSync().get(0);if(!(o&&a))throw new Be(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return AMe(e,this.outputMode,this.numTokens,r)})}}xse.className="CategoryEncoding";Ze(xse);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const dMe=["bilinear","nearest"],gz=new Set(dMe);class bse extends kn{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation)if(gz.has(e.interpolation))this.interpolation=e.interpolation;else throw new Be(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);else this.interpolation="bilinear";this.cropToAspectRatio=!!e.cropToAspectRatio}computeOutputShape(e){e=Wn(e);const n=e[2];return[this.height,this.width,n]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return Te(()=>{const r=[this.height,this.width];if(this.interpolation==="bilinear")return eu.resizeBilinear(e,r,!this.cropToAspectRatio);if(this.interpolation==="nearest")return eu.resizeNearestNeighbor(e,r,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...gz]} are supported`)})}}bse.className="Resizing";Ze(bse);/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Cse{constructor(e){this.seed=e}next(){if(this.seed!==void 0)return this.seed++}}Cse.className="RandomSeed";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Sse extends kn{constructor(e){super(e),this.randomGenerator=new Cse(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},n=super.getConfig();return Object.assign(e,n),e}}Sse.className="BaseRandomLayer";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const hMe=["bilinear","nearest"],yz=new Set(hMe);class Bse extends Sse{constructor(e){super(e);const{factor:n,interpolation:r="bilinear"}=e;if(this.factor=n,Array.isArray(this.factor)&&this.factor.length===2)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new Be(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);if(this.widthLower<-1||this.widthUpper<-1)throw new Be(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new Be(`factor cannot have upper bound less than lower bound.
        Got upper bound: ${this.widthUpper}.
        Got lower bound: ${this.widthLower}
      `);if(r)if(yz.has(r))this.interpolation=r;else throw new Be(`Invalid interpolation parameter: ${r} is not implemented`)}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=Wn(e);const n=e[2];return[this.imgHeight,-1,n]}call(e,n){return Te(()=>{const r=tn(e);this.imgHeight=r.shape[r.shape.length-3];const s=r.shape[r.shape.length-2];this.widthFactor=Of([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let i=this.widthFactor.dataSync()[0]*s;i=Math.round(i);const o=[this.imgHeight,i];switch(this.interpolation){case"bilinear":return eu.resizeBilinear(e,o);case"nearest":return eu.resizeNearestNeighbor(e,o);default:throw new Error(`Interpolation is ${this.interpolation}
          but only ${[...yz]} are supported`)}})}}Bse.className="RandomWidth";Ze(Bse);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fMe=Le();fMe.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var xa;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(xa||(xa={}));var wz;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(wz||(wz={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R$={};function pMe(t,e){const n={tfOpName:t,category:"custom",inputs:[],attrs:[],customExecutor:e};R$[t]=n}function _se(t){return R$[t]}function mMe(t){delete R$[t]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q(t,e,n,r,s){const i=e.inputParams[t];if(i&&i.inputIndexStart!==void 0){const a=i.inputIndexStart,l=i.inputIndexEnd===0?void 0:i.inputIndexEnd===void 0?a+1:i.inputIndexEnd,c=a<0?e.inputNames.length+a:a;if(i.type==="tensor")return _i(e.inputNames[c],n,r,s);if(i.type==="tensors"){const d=e.inputs.slice(a,l);return e.inputNames.slice(a,l).filter((p,m)=>{var y;return((y=d[m])===null||y===void 0?void 0:y.op)!=="NoOp"}).map(p=>_i(p,n,r,s))}const u=_i(e.inputNames[c],n,r,s),A=u.dataSync();return i.type==="number"?A[0]:hl(u.shape,A)}const o=e.attrParams[t];return o&&o.value}function _i(t,e,n,r){const[s,i]=Ca(t,n);if(r!=null){const a=r.getHashTableHandleByName(s);if(a!=null)return a}const o=n.currentContextIds.find(a=>!!e[W_(s,a)]);return o!==void 0?e[W_(s,o)][i]:void 0}function vz(t,e,n){return e[W_(t,n.currentContextId)]}function td(t,e){const[n,r,s]=Ca(t,e);return[W_(n,e&&e.currentContextId),r,s]}function W_(t,e){return e?`${t}-${e}`:t}function Ca(t,e){if(t==="")return["",0,void 0];const n=e!=null&&e.parseNodeNameCache!=null;if(n){const i=e.parseNodeNameCache.get(t);if(i!=null)return i}const r=t.split(":");let s;if(r.length===1)s=[t,0,void 0];else{const i=r[0],o=r.length===3?r[1]:void 0,a=Number(r[r.length-1]);s=[i,a,o]}return n&&e.parseNodeNameCache.set(t,s),s}function mB(t,e,n){let r=Q("pad",t,e,n);if(r==="explicit"){r=Q("explicitPaddings",t,e,n);const s=[[0,0],[0,0],[0,0],[0,0]];for(let i=0;i<4;i++)s[i][0]=r[i*2],s[i][1]=r[i*2+1];return s}return r}function nd(t){return t.kept?t:AA(t)}/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gMe=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],yMe=Object.freeze(Object.defineProperty({__proto__:null,json:gMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wMe=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],vMe=Object.freeze(Object.defineProperty({__proto__:null,json:wMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xMe=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],bMe=Object.freeze(Object.defineProperty({__proto__:null,json:xMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CMe=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],SMe=Object.freeze(Object.defineProperty({__proto__:null,json:CMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BMe=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],_Me=Object.freeze(Object.defineProperty({__proto__:null,json:BMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NMe=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],IMe=Object.freeze(Object.defineProperty({__proto__:null,json:NMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EMe=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],kMe=Object.freeze(Object.defineProperty({__proto__:null,json:EMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TMe=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],FMe=Object.freeze(Object.defineProperty({__proto__:null,json:TMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LMe=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],DMe=Object.freeze(Object.defineProperty({__proto__:null,json:LMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PMe=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],RMe=Object.freeze(Object.defineProperty({__proto__:null,json:PMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OMe=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],$Me=Object.freeze(Object.defineProperty({__proto__:null,json:OMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UMe=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],MMe=Object.freeze(Object.defineProperty({__proto__:null,json:UMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QMe=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],jMe=Object.freeze(Object.defineProperty({__proto__:null,json:QMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HMe=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],zMe=Object.freeze(Object.defineProperty({__proto__:null,json:HMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VMe=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],WMe=Object.freeze(Object.defineProperty({__proto__:null,json:VMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GMe=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],KMe=Object.freeze(Object.defineProperty({__proto__:null,json:GMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qMe=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],XMe=Object.freeze(Object.defineProperty({__proto__:null,json:qMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YMe=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],ZMe=Object.freeze(Object.defineProperty({__proto__:null,json:YMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JMe=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],e6e=Object.freeze(Object.defineProperty({__proto__:null,json:JMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xz{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[yMe,vMe,bMe,SMe,_Me,IMe,kMe,FMe,DMe,RMe,$Me,MMe,jMe,zMe,WMe,KMe,XMe,ZMe,e6e],n=[].concat(...e.map(r=>r.json));this.opMappers=n.reduce((r,s)=>(r[s.tfOpName]=s,r),{})}transformGraph(e,n={}){const r=e.node,s=[],i=[],o=[],a=r.reduce((m,y)=>(m[y.name]=this.mapNode(y),y.op.startsWith("Placeholder")?s.push(m[y.name]):y.op==="Const"?i.push(m[y.name]):(y.input==null||y.input.length===0)&&o.push(m[y.name]),m),{});let l=[];const c=[];let u={},A={};n!=null&&(u=this.mapSignatureEntries(n.inputs),A=this.mapSignatureEntries(n.outputs));const d=Object.keys(a);d.forEach(m=>{const y=a[m];y.inputNames.forEach((g,v)=>{const[b,,C]=td(g),_=a[b];if(_.outputs!=null){const I=_.outputs.indexOf(C);if(I!==-1){const F=`${b}:${I}`;y.inputNames[v]=F}}y.inputs.push(_),_.children.push(y)})}),Object.keys(A).length===0?d.forEach(m=>{const y=a[m];y.children.length===0&&c.push(y)}):Object.keys(A).forEach(m=>{const[y]=td(m),g=a[y];g!=null&&(g.signatureKey=A[m],c.push(g))}),Object.keys(u).length>0?Object.keys(u).forEach(m=>{const[y]=td(m),g=a[y];g&&(g.signatureKey=u[m],l.push(g))}):l=s;let h={};e.library!=null&&e.library.function!=null&&(h=e.library.function.reduce((m,y)=>(m[y.signature.name]=this.mapFunction(y),m),{}));const p={nodes:a,inputs:l,outputs:c,weights:i,placeholders:s,signature:n,functions:h};return o.length>0&&(p.initNodes=o),p}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,r)=>(n[e[r].name]=r,n),{})}mapNode(e){const n=_se(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const r={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(s=>s.startsWith("^")?s.slice(1):s),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(r.inputParams=n.inputs.reduce((s,i)=>(s[i.name]={type:i.type,inputIndexStart:i.start,inputIndexEnd:i.end},s),{})),n.attrs!=null&&(r.attrParams=n.attrs.reduce((s,i)=>{const o=i.type;let a;switch(i.type){case"string":a=pL(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=pL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"string[]":a=bL(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=bL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"number":a=gL(e.attr,i.tfName,i.defaultValue||0),a===void 0&&i.tfDeprecatedName&&(a=gL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"number[]":a=xL(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=xL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"bool":a=mL(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=mL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"bool[]":a=SL(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=SL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"shape":a=vL(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=vL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"shape[]":a=CL(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=CL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"dtype":a=yL(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=yL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"dtype[]":a=wL(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=wL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"func":a=bz(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=bz(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${i.type} for op: ${e.op}`)}return s[i.name]={value:a,type:o},s},{})),r}mapFunction(e){const n=e.nodeDef,r=[],s=[];let i={};n!=null&&(i=n.reduce((A,d)=>(A[d.name]=this.mapNode(d),d.op==="Const"&&s.push(A[d.name]),A),{}));const o=[],a=[];e.signature.inputArg.forEach(A=>{const[d]=td(A.name),h={name:d,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:O$(A.type),type:"dtype"}},children:[]};h.signatureKey=A.name,o.push(h),i[d]=h}),Object.keys(i).forEach(A=>{const d=i[A];d.inputNames.forEach((h,p)=>{const[m,,y]=td(h),g=i[m];if(g.outputs!=null){const v=g.outputs.indexOf(y);if(v!==-1){const b=`${m}:${v}`;d.inputNames[p]=b}}d.inputs.push(g),g.children.push(d)})});const c=e.ret;e.signature.outputArg.forEach(A=>{const[d,h]=td(c[A.name]),p=i[d];p!=null&&(p.defaultOutput=h,a.push(p))});const u=this.mapArgsToSignature(e);return{nodes:i,inputs:o,outputs:a,weights:s,placeholders:r,signature:u}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r),n),{}),outputs:e.signature.outputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r,e.ret),n),{})}}mapArgToTensorInfo(e,n){let r=e.name;return n!=null&&(r=n[r]),{name:r,dtype:e.type}}}function t6e(t){const e=Le().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function Nse(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):t6e(t);return e?n:n.toLowerCase()}function pL(t,e,n,r=!1){const s=t[e];return s!=null?Nse(s.s,r):n}function mL(t,e,n){const r=t[e];return r?r.b:n}function gL(t,e,n){const r=t[e]||{},s=r.i!=null?r.i:r.f!=null?r.f:n;return typeof s=="number"?s:parseInt(s,10)}function O$(t){switch(typeof t=="string"&&(t=xa[t]),t){case xa.DT_FLOAT:case xa.DT_HALF:return"float32";case xa.DT_INT32:case xa.DT_INT64:case xa.DT_INT8:case xa.DT_UINT8:return"int32";case xa.DT_BOOL:return"bool";case xa.DT_DOUBLE:return"float32";case xa.DT_STRING:return"string";case xa.DT_COMPLEX64:case xa.DT_COMPLEX128:return"complex64";default:return null}}function bz(t,e,n){const r=t[e];return r&&r.func?r.func.name:n}function yL(t,e,n){const r=t[e];return r&&r.type?O$(r.type):n}function wL(t,e,n){const r=t[e];return r&&r.list&&r.list.type?r.list.type.map(s=>O$(s)):n}function Ise(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function vL(t,e,n){const r=t[e];return r&&r.shape?Ise(r.shape):n}function xL(t,e,n){const r=t[e];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(s=>typeof s=="number"?s:parseInt(s,10)):n}function bL(t,e,n,r=!1){const s=t[e];return s&&s.list&&s.list.s?s.list.s.map(i=>Nse(i,r)):n}function CL(t,e,n){const r=t[e];return r&&r.list&&r.list.shape?r.list.shape.map(s=>Ise(s)):n}function SL(t,e,n){const r=t[e];return r&&r.list&&r.list.b?r.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class n6e{constructor(e,n,r){this.node=e,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(s=>this.getInput(s)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((s,i)=>(s[i]=this.getAttr(i),s),{}))}getInput(e){return _i(e,this.tensorMap,this.context)}getAttr(e,n){const r=this.node.rawAttrs[e];if(r.tensor!=null)return _i(e,this.tensorMap,this.context);if(r.i!=null||r.f!=null)return gL(this.node.rawAttrs,e,n);if(r.s!=null)return pL(this.node.rawAttrs,e,n);if(r.b!=null)return mL(this.node.rawAttrs,e,n);if(r.shape!=null)return vL(this.node.rawAttrs,e,n);if(r.type!=null)return yL(this.node.rawAttrs,e,n);if(r.list!=null){if(r.list.i!=null||r.list.f!=null)return xL(this.node.rawAttrs,e,n);if(r.list.s!=null)return bL(this.node.rawAttrs,e,n);if(r.list.shape!=null)return CL(this.node.rawAttrs,e,n);if(r.list.b!=null)return SL(this.node.rawAttrs,e,n);if(r.list.type!=null)return wL(this.node.rawAttrs,e,n)}return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pi=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:gR,abs:Ps,acos:SR,acosh:BR,add:qe,addN:mee,all:gE,any:wx,argMax:xm,argMin:_R,asin:NR,asinh:IR,atan:ER,atan2:kR,atanh:TR,avgPool:A2,avgPool3d:LR,basicLSTMCell:gee,batchNorm:N1,batchNorm2d:DR,batchNorm3d:PR,batchNorm4d:RR,batchToSpaceND:d2,bincount:OR,bitwiseAnd:yee,booleanMaskAsync:rte,broadcastArgs:wee,broadcastTo:em,buffer:yn,cast:ot,ceil:$R,clipByValue:Zo,clone:AA,complex:xd,concat:Cs,concat1d:UR,concat2d:MR,concat3d:QR,concat4d:jR,conv1d:yE,conv2d:bd,conv2dTranspose:wE,conv3d:zR,conv3dTranspose:VR,cos:h2,cosh:vE,cosineWindow:zE,cumprod:bx,cumsum:xE,denseBincount:P_,depthToSpace:WR,depthwiseConv2d:I1,diag:xee,dilation2d:GR,div:Rt,divNoNan:KR,dot:qR,dropout:EO,einsum:Cp,elu:E1,enclosingPowerOfTwo:kO,ensureShape:bee,equal:lc,erf:bE,euclideanNorm:YR,exp:Jo,expandDims:Gi,expm1:ZR,eye:CE,fft:_2,fill:Vm,floor:T1,floorDiv:mE,fused:dte,gather:F1,gatherND:ate,greater:ia,greaterEqual:kd,ifft:ly,imag:f2,image:eu,inTopKAsync:lte,irfft:$E,isFinite:JR,isInf:eO,isNaN:tO,leakyRelu:p2,less:sy,lessEqual:Rf,linalg:LO,linspace:Bee,localResponseNormalization:nO,log:La,log1p:m2,logSigmoid:rO,logSoftmax:BE,logSumExp:g2,logicalAnd:Au,logicalNot:y2,logicalOr:_E,logicalXor:sO,losses:wte,lowerBound:Nee,matMul:Sn,max:fl,maxPool:w2,maxPool3d:iO,maxPoolWithArgmax:Iee,maximum:EA,mean:es,meshgrid:Eee,min:ry,minimum:gf,mirrorPad:oO,mod:aO,moments:v2,movingAverage:ste,mul:xe,multiRNNCell:kee,multinomial:Tee,neg:Er,norm:k1,notEqual:Sm,oneHot:iy,ones:Go,onesLike:Da,op:ye,outerProduct:Fee,pad:Td,pad1d:Lee,pad2d:Dee,pad3d:Pee,pad4d:Ree,pool:lO,pow:vA,prelu:b2,print:CR,prod:cO,raggedGather:Oee,raggedRange:$ee,raggedTensorToTensor:Uee,rand:Mee,randomGamma:zee,randomNormal:EE,randomStandardNormal:Vee,randomUniform:Of,randomUniformInt:Wee,range:Bm,real:oy,reciprocal:wO,relu:bu,relu6:kE,reshape:Se,reverse:ml,reverse1d:Gee,reverse2d:Kee,reverse3d:qee,reverse4d:Xee,rfft:N2,round:TE,rsqrt:FE,scalar:Ht,scatterND:ite,searchSorted:NE,selu:LE,separableConv2d:DE,setdiff1dAsync:Yee,sigmoid:su,sign:vO,signal:yte,sin:PE,sinh:RE,slice:Dn,slice1d:C2,slice2d:OE,slice3d:S2,slice4d:ay,softmax:B2,softplus:Wm,spaceToBatchND:x2,sparse:vte,sparseToDense:ote,spectral:gte,split:qo,sqrt:yi,square:gr,squaredDifference:UE,squeeze:$f,stack:ea,step:Km,stridedSlice:xO,string:xte,sub:wt,sum:It,tan:bO,tanh:mf,tensor:rc,tensor1d:qi,tensor2d:B0,tensor3d:CO,tensor4d:Zee,tensor5d:Jee,tensor6d:ete,tensorScatterUpdate:tte,tile:cl,topk:BO,transpose:Fn,truncatedNormal:QE,unique:_O,unsortedSegmentSum:jE,unstack:gl,upperBound:nte,variable:NO,where:ki,whereAsync:IO,zeros:Ms,zerosLike:Pn},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r6e=(t,e,n,r=Pi)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(Q("a",t,e,n),Q("b",t,e,n))];case"AddN":return[r.addN(Q("tensors",t,e,n))];case"FloorMod":case"Mod":return[r.mod(Q("a",t,e,n),Q("b",t,e,n))];case"Mul":return[r.mul(Q("a",t,e,n),Q("b",t,e,n))];case"RealDiv":case"Div":return[r.div(Q("a",t,e,n),Q("b",t,e,n))];case"DivNoNan":return[r.divNoNan(Q("a",t,e,n),Q("b",t,e,n))];case"FloorDiv":return[r.floorDiv(Q("a",t,e,n),Q("b",t,e,n))];case"Sub":return[r.sub(Q("a",t,e,n),Q("b",t,e,n))];case"Minimum":return[r.minimum(Q("a",t,e,n),Q("b",t,e,n))];case"Maximum":return[r.maximum(Q("a",t,e,n),Q("b",t,e,n))];case"Pow":return[r.pow(Q("a",t,e,n),Q("b",t,e,n))];case"SquaredDifference":return[r.squaredDifference(Q("a",t,e,n),Q("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s6e=(t,e,n,r=Pi)=>{switch(t.op){case"Abs":case"ComplexAbs":return[r.abs(Q("x",t,e,n))];case"Acos":return[r.acos(Q("x",t,e,n))];case"Acosh":return[r.acosh(Q("x",t,e,n))];case"Asin":return[r.asin(Q("x",t,e,n))];case"Asinh":return[r.asinh(Q("x",t,e,n))];case"Atan":return[r.atan(Q("x",t,e,n))];case"Atan2":return[r.atan2(Q("x",t,e,n),Q("y",t,e,n))];case"Atanh":return[r.atanh(Q("x",t,e,n))];case"Ceil":return[r.ceil(Q("x",t,e,n))];case"Complex":return[r.complex(Q("real",t,e,n),Q("imag",t,e,n))];case"Cos":return[r.cos(Q("x",t,e,n))];case"Cosh":return[r.cosh(Q("x",t,e,n))];case"Elu":return[r.elu(Q("x",t,e,n))];case"Erf":return[r.erf(Q("x",t,e,n))];case"Exp":return[r.exp(Q("x",t,e,n))];case"Expm1":return[r.expm1(Q("x",t,e,n))];case"Floor":return[r.floor(Q("x",t,e,n))];case"Log":return[r.log(Q("x",t,e,n))];case"Log1p":return[r.log1p(Q("x",t,e,n))];case"Imag":return[r.imag(Q("x",t,e,n))];case"Neg":return[r.neg(Q("x",t,e,n))];case"Reciprocal":return[r.reciprocal(Q("x",t,e,n))];case"Real":return[r.real(Q("x",t,e,n))];case"Relu":return[r.relu(Q("x",t,e,n))];case"Round":return[r.round(Q("x",t,e,n))];case"Selu":return[r.selu(Q("x",t,e,n))];case"Sigmoid":return[r.sigmoid(Q("x",t,e,n))];case"Sin":return[r.sin(Q("x",t,e,n))];case"Sign":return[r.sign(Q("x",t,e,n))];case"Sinh":return[r.sinh(Q("x",t,e,n))];case"Softplus":return[r.softplus(Q("x",t,e,n))];case"Sqrt":return[r.sqrt(Q("x",t,e,n))];case"Square":return[r.square(Q("x",t,e,n))];case"Tanh":return[r.tanh(Q("x",t,e,n))];case"Tan":return[r.tan(Q("x",t,e,n))];case"ClipByValue":return[r.clipByValue(Q("x",t,e,n),Q("clipValueMin",t,e,n),Q("clipValueMax",t,e,n))];case"Relu6":return[r.relu6(Q("x",t,e,n))];case"Rsqrt":return[r.rsqrt(_i(t.inputNames[0],e,n))];case"LeakyRelu":return[r.leakyRelu(Q("x",t,e,n),Q("alpha",t,e,n))];case"Prelu":return[r.prelu(Q("x",t,e,n),Q("alpha",t,e,n))];case"IsNan":return[r.isNaN(_i(t.inputNames[0],e,n))];case"IsInf":return[r.isInf(_i(t.inputNames[0],e,n))];case"IsFinite":return[r.isFinite(_i(t.inputNames[0],e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ql(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){ee(t.length===e.length,()=>n+` Shapes ${t} and ${e} must match`);for(let r=0;r<t.length;r++){const s=t[r],i=e[r];ee(s<0||i<0||s===i,()=>n+` Shapes ${t} and ${e} must match`)}}}function Cz(t){return!(typeof t=="number"||t.some(e=>e<0))}function _w(t,e,n){let r=BL(t,n);const s=!Cz(r);if(s&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(s&&e.forEach(i=>{r=BL(i.shape,r)}),!Cz(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function BL(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const n=[];for(let r=0;r<t.length;++r){const s=t[r],i=e[r];if(s>=0&&i>=0&&s!==i)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);n[r]=s>=0?s:i}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class i6e{constructor(e,n,r,s,i,o,a){this.name=e,this.dtype=n,this.maxSize=r,this.elementShape=s,this.identicalElementShapes=i,this.dynamicSize=o,this.clearAfterRead=a,this.tensors=[],this.closed_=!1,this.idTensor=Ht(0),Xs(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const r=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),Ql(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),r.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(r.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);r.tensor=n,Xs(n),r.written=!0,this.tensors[e]=r}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((r,s)=>this.write(r,n[s]))}gather(e,n){if(n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let s=0;s<this.size();s++)e.push(s)}if(e.length===0)return rc([],[0].concat(this.elementShape));const r=this.readMany(e);return Ql(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),ea(r,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return rc([],[0].concat(this.elementShape));const n=[];for(let s=0;s<this.size();s++)n.push(s);const r=this.readMany(n);return Ql(this.elementShape,r[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${r[0].shape})`),Cs(r,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const r=Math.max(...e);if(!this.dynamicSize&&r>=this.maxSize)throw new Error(`Max index must be < array size (${r}  vs. ${this.maxSize})`);this.writeMany(e,gl(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let r=0;const s=e.map(l=>(r+=l,r));if(r!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const i=r===0?0:n.size/r,o=[];Te(()=>{n=Se(n,[1,r,i]);for(let l=0;l<e.length;++l){const u=[0,l===0?0:s[l-1],0],A=[1,e[l],i];o[l]=Se(Dn(n,u,A),this.elementShape)}return o});const a=[];for(let l=0;l<e.length;l++)a[l]=l;this.writeMany(a,o)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Im{get id(){return this.idTensor.id}constructor(e,n,r,s=-1){this.tensors=e,this.elementShape=n,this.elementDtype=r,e!=null&&e.forEach(i=>{if(r!==i.dtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${i.dtype}`);Ql(n,i.shape,"TensorList shape mismatch: "),Xs(i)}),this.idTensor=Ht(0),this.maxNumElements=s,Xs(this.idTensor)}copy(){return new Im([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,r=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(r!==-1&&this.tensors.length!==r)throw new Error(`Operation expected a list with ${r} elements but got a list with ${this.tensors.length} elements.`);Ql(e,this.elementShape,"TensorList shape mismatch: ");const s=_w(this.elementShape,this.tensors,e);return Te(()=>{const i=this.tensors.map(o=>Se(o,s));return ea(i,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const r=_w(this.elementShape,this.tensors,e),s=this.tensors.pop();return s.kept=!1,Ql(s.shape,e,"TensorList shape mismatch: "),Se(s,r)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(Ql(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Xs(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const n=new Im([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let r=0;r<Math.min(this.tensors.length,e);++r)n.tensors[r]=this.tensors[r];return n}getItem(e,n,r){if(r!==this.elementDtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);Ql(this.tensors[e].shape,n,"TensorList shape mismatch: ");const s=_w(this.elementShape,this.tensors,n);return Se(this.tensors[e],s)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);Ql(this.elementShape,n.shape,"TensorList shape mismatch: "),Xs(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,r){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);Ql(this.elementShape,r,"TensorList shape mismatch: "),e=e.slice(0,this.size());const s=_w(this.elementShape,this.tensors,r);return e.length===0?rc([],[0].concat(s)):Te(()=>{const i=e.map(o=>Se(this.tensors[o],s));return ea(i,0)})}concat(e,n){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);Ql(this.elementShape,n,"TensorList shape mismatch: ");const r=_w(this.elementShape,this.tensors,n);return this.size()===0?rc([],[0].concat(r)):Te(()=>{const s=this.tensors.map(i=>Se(i,r));return Cs(s,0)})}}function o6e(t,e,n){const r=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==n)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${n}`);const s=t.shape.slice(1);Ql(s,e,"TensorList shape mismatch: ");const i=gl(t);return new Im(i,e,r)}function a6e(t,e,n,r){return new Im([],t,e,r)}function l6e(t,e,n,r){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const s=Math.max(...e);if(r!=null&&r!==-1&&s>=r)throw new Error(`Max index must be < array size (${s}  vs. ${r})`);const i=new Im([],n,t.dtype,r),o=gl(t,0);return e.forEach((a,l)=>{i.setItem(a,o[l])}),i}function c6e(t,e,n){let r=0;const s=e.map(u=>(r+=u,r));if(r!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${t.shape}`);const i=t.shape.slice(1),o=BL(i,n),a=r===0?0:t.size/r,l=Te(()=>{const u=[];t=Se(t,[1,r,a]);for(let A=0;A<e.length;++A){const h=[0,A===0?0:s[A-1],0],p=[1,e[A],a];u[A]=Se(Dn(t,h,p),o)}return t.dispose(),u}),c=new Im([],n,t.dtype,e.length);for(let u=0;u<l.length;u++)c.setItem(u,l[u]);return c}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u6e=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const r=Q("thenBranch",t,e,n),s=Q("elseBranch",t,e,n),i=Q("cond",t,e,n),o=Q("args",t,e,n);return(await i.data())[0]?n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap):n.functionMap[s].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=Q("body",t,e,n),s=Q("cond",t,e,n),i=Q("args",t,e,n),o=await n.functionMap[s].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap),a=i.map(u=>u.id);let l=await o[0].data();o.forEach(u=>{!u.kept&&a.indexOf(u.id)===-1&&u.dispose()});let c=i;for(;l[0];){const u=c;c=await n.functionMap[r].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);const A=c.map(h=>h.id);u.forEach(h=>{!h.kept&&a.indexOf(h.id)===-1&&A.indexOf(h.id)===-1&&h.dispose()});const d=await n.functionMap[s].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);l=await d[0].data(),d.forEach(h=>{!h.kept&&a.indexOf(h.id)===-1&&A.indexOf(h.id)===-1&&h.dispose()})}return c}case"LoopCond":{const r=Q("pred",t,e,n);return[nd(r)]}case"Switch":{const r=Q("pred",t,e,n);let s=Q("data",t,e,n);return s.kept||(s=nd(s)),(await r.data())[0]?[void 0,s]:[s,void 0]}case"Merge":{const r=t.inputNames.find(s=>_i(s,e,n)!==void 0);if(r){const s=_i(r,e,n);return[nd(s)]}return}case"Enter":{const r=Q("frameName",t,e,n),s=Q("tensor",t,e,n);return n.enterFrame(r),[nd(s)]}case"Exit":{const r=Q("tensor",t,e,n);return n.exitFrame(),[nd(r)]}case"NextIteration":{const r=Q("tensor",t,e,n);return n.nextIteration(),[nd(r)]}case"TensorArrayV3":{const r=Q("size",t,e,n),s=Q("dtype",t,e,n),i=Q("elementShape",t,e,n),o=Q("dynamicSize",t,e,n),a=Q("clearAfterRead",t,e,n),l=Q("identicalElementShapes",t,e,n),c=Q("name",t,e,n),u=new i6e(c,s,r,i,l,o,a);return n.addTensorArray(u),[u.idTensor,Ht(1)]}case"TensorArrayWriteV3":{const r=Q("tensorArrayId",t,e,n),s=Q("index",t,e,n),i=Q("tensor",t,e,n),o=n.getTensorArray(r.id);return o.write(s,i),[o.idTensor]}case"TensorArrayReadV3":{const r=Q("tensorArrayId",t,e,n),s=Q("index",t,e,n);return[n.getTensorArray(r.id).read(s)]}case"TensorArrayGatherV3":{const r=Q("tensorArrayId",t,e,n),s=Q("indices",t,e,n),i=Q("dtype",t,e,n);return[n.getTensorArray(r.id).gather(s,i)]}case"TensorArrayScatterV3":{const r=Q("tensorArrayId",t,e,n),s=Q("indices",t,e,n),i=Q("tensor",t,e,n),o=n.getTensorArray(r.id);return o.scatter(s,i),[o.idTensor]}case"TensorArrayConcatV3":{const r=Q("tensorArrayId",t,e,n),s=n.getTensorArray(r.id),i=Q("dtype",t,e,n);return[s.concat(i)]}case"TensorArraySplitV3":{const r=Q("tensorArrayId",t,e,n),s=Q("tensor",t,e,n),i=Q("lengths",t,e,n),o=n.getTensorArray(r.id);return o.split(i,s),[o.idTensor]}case"TensorArraySizeV3":{const r=Q("tensorArrayId",t,e,n),s=n.getTensorArray(r.id);return[Ht(s.size(),"int32")]}case"TensorArrayCloseV3":{const r=Q("tensorArrayId",t,e,n),s=n.getTensorArray(r.id);return s.clearAndClose(),[s.idTensor]}case"TensorListSetItem":{const r=Q("tensorListId",t,e,n),s=Q("index",t,e,n),i=Q("tensor",t,e,n),o=n.getTensorList(r.id);return o.setItem(s,i),[o.idTensor]}case"TensorListGetItem":{const r=Q("tensorListId",t,e,n),s=Q("index",t,e,n),i=Q("elementShape",t,e,n),o=Q("elementDType",t,e,n);return[n.getTensorList(r.id).getItem(s,i,o)]}case"TensorListScatterV2":case"TensorListScatter":{const r=Q("indices",t,e,n),s=Q("tensor",t,e,n),i=Q("elementShape",t,e,n),o=Q("numElements",t,e,n),a=l6e(s,r,i,o);return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=Q("elementShape",t,e,n),s=Q("elementDType",t,e,n);let i;t.op==="TensorListReserve"?i="numElements":i="maxNumElements";const o=Q(i,t,e,n),a=t.op==="TensorListReserve"?-1:o,l=a6e(r,s,o,a);return n.addTensorList(l),[l.idTensor]}case"TensorListGather":{const r=Q("tensorListId",t,e,n),s=Q("indices",t,e,n),i=Q("elementShape",t,e,n),o=Q("elementDType",t,e,n);return[n.getTensorList(r.id).gather(s,o,i)]}case"TensorListStack":{const r=Q("tensorListId",t,e,n),s=Q("elementShape",t,e,n),i=Q("elementDType",t,e,n),o=Q("numElements",t,e,n);return[n.getTensorList(r.id).stack(s,i,o)]}case"TensorListFromTensor":{const r=Q("tensor",t,e,n),s=Q("elementShape",t,e,n),i=Q("elementDType",t,e,n),o=o6e(r,s,i);return n.addTensorList(o),[o.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=Q("tensorListId",t,e,n),s=n.getTensorList(r.id),i=Q("dtype",t,e,n),o=Q("elementShape",t,e,n);return[s.concat(i,o)]}case"TensorListPushBack":{const r=Q("tensorListId",t,e,n),s=Q("tensor",t,e,n),i=n.getTensorList(r.id);return i.pushBack(s),[i.idTensor]}case"TensorListPopBack":{const r=Q("tensorListId",t,e,n),s=Q("elementShape",t,e,n),i=Q("elementDType",t,e,n);return[n.getTensorList(r.id).popBack(s,i)]}case"TensorListSplit":{const r=Q("tensor",t,e,n),s=Q("elementShape",t,e,n),i=Q("lengths",t,e,n),o=c6e(r,i,s);return n.addTensorList(o),[o.idTensor]}case"TensorListLength":{const r=Q("tensorListId",t,e,n),s=n.getTensorList(r.id);return[Ht(s.size(),"int32")]}case"TensorListResize":{const r=Q("tensorListId",t,e,n),s=Q("size",t,e,n),o=n.getTensorList(r.id).resize(s);return n.addTensorList(o),[o.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sz(t,e,n){const[r,s]=Q("fusedOps",t,e,n),i=r==="biasadd",o=!i,a=s==="prelu",l=r==="fusedbatchnorm",c=Q("numArgs",t,e,n);if(i){if(a&&c!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&i&&c!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const u=Q("strides",t,e,n),A=mB(t,e,n),d=Q("dataFormat",t,e,n).toUpperCase(),h=Q("dilations",t,e,n);let[p,m]=Q("args",t,e,n);o&&(m=p,p=void 0);const y=Q("leakyreluAlpha",t,e,n);return{stride:u,pad:A,dataFormat:d,dilations:h,biasArg:p,preluArg:m,activationFunc:s,leakyreluAlpha:y}}const A6e=(t,e,n,r=Pi)=>{switch(t.op){case"Conv1D":{const s=Q("stride",t,e,n),i=Q("pad",t,e,n),o=Q("dataFormat",t,e,n).toUpperCase(),a=Q("dilation",t,e,n);return[r.conv1d(Q("x",t,e,n),Q("filter",t,e,n),s,i,o,a)]}case"Conv2D":{const s=Q("strides",t,e,n),i=mB(t,e,n),o=Q("dataFormat",t,e,n).toUpperCase(),a=Q("dilations",t,e,n);return[r.conv2d(Q("x",t,e,n),Q("filter",t,e,n),[s[1],s[2]],i,o,[a[1],a[2]])]}case"_FusedConv2D":{const{stride:s,pad:i,dataFormat:o,dilations:a,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:A}=Sz(t,e,n);return[r.fused.conv2d({x:Q("x",t,e,n),filter:Q("filter",t,e,n),strides:[s[1],s[2]],pad:i,dataFormat:o,dilations:[a[1],a[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:A})]}case"FusedDepthwiseConv2dNative":{const{stride:s,pad:i,dataFormat:o,dilations:a,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:A}=Sz(t,e,n);return[r.fused.depthwiseConv2d({x:Q("x",t,e,n),filter:Q("filter",t,e,n),strides:[s[1],s[2]],pad:i,dataFormat:o,dilations:[a[1],a[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:A})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const s=Q("outputShape",t,e,n),i=Q("strides",t,e,n),o=mB(t,e,n);return[r.conv2dTranspose(Q("x",t,e,n),Q("filter",t,e,n),s,[i[1],i[2]],o)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const s=Q("strides",t,e,n),i=mB(t,e,n),o=Q("dilations",t,e,n),a=Q("dataFormat",t,e,n).toUpperCase();return[r.depthwiseConv2d(Q("input",t,e,n),Q("filter",t,e,n),[s[1],s[2]],i,a,[o[1],o[2]])]}case"Conv3D":{const s=Q("strides",t,e,n),i=Q("pad",t,e,n),o=Q("dataFormat",t,e,n).toUpperCase(),a=Q("dilations",t,e,n);return[r.conv3d(Q("x",t,e,n),Q("filter",t,e,n),[s[1],s[2],s[3]],i,o,[a[1],a[2],a[3]])]}case"AvgPool":{const s=Q("strides",t,e,n),i=Q("pad",t,e,n),o=Q("kernelSize",t,e,n);return[r.avgPool(Q("x",t,e,n),[o[1],o[2]],[s[1],s[2]],i)]}case"MaxPool":{const s=Q("strides",t,e,n),i=Q("pad",t,e,n),o=Q("kernelSize",t,e,n);return[r.maxPool(Q("x",t,e,n),[o[1],o[2]],[s[1],s[2]],i)]}case"MaxPoolWithArgmax":{const s=Q("strides",t,e,n),i=Q("pad",t,e,n),o=Q("kernelSize",t,e,n),a=Q("includeBatchInIndex",t,e,n),{result:l,indexes:c}=r.maxPoolWithArgmax(Q("x",t,e,n),[o[1],o[2]],[s[1],s[2]],i,a);return[l,c]}case"AvgPool3D":{const s=Q("strides",t,e,n),i=Q("pad",t,e,n),o=Q("kernelSize",t,e,n);return[r.avgPool3d(Q("x",t,e,n),[o[1],o[2],o[3]],[s[1],s[2],s[3]],i)]}case"MaxPool3D":{const s=Q("strides",t,e,n),i=Q("pad",t,e,n),o=Q("kernelSize",t,e,n);return[r.maxPool3d(Q("x",t,e,n),[o[1],o[2],o[3]],[s[1],s[2],s[3]],i)]}case"Dilation2D":{const s=Q("strides",t,e,n),i=Q("pad",t,e,n),o=Q("dilations",t,e,n),a=s[1],l=s[2],c=o[1],u=o[2];return[r.dilation2d(Q("x",t,e,n),Q("filter",t,e,n),[a,l],i,[c,u],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d6e=(t,e,n,r=Pi)=>{switch(t.op){case"Fill":{const s=Q("shape",t,e,n),i=Q("dtype",t,e,n),o=Q("value",t,e,n);return[r.fill(s,o,i)]}case"LinSpace":{const s=Q("start",t,e,n),i=Q("stop",t,e,n),o=Q("num",t,e,n);return[r.linspace(s,i,o)]}case"Multinomial":{const s=Q("logits",t,e,n),i=Q("numSamples",t,e,n),o=Q("seed",t,e,n);return[r.multinomial(s,i,o)]}case"OneHot":{const s=Q("indices",t,e,n),i=Q("depth",t,e,n),o=Q("onValue",t,e,n),a=Q("offValue",t,e,n),l=Q("dtype",t,e,n);return[r.oneHot(s,i,o,a,l)]}case"Ones":return[r.ones(Q("shape",t,e,n),Q("dtype",t,e,n))];case"OnesLike":return[r.onesLike(Q("x",t,e,n))];case"RandomStandardNormal":return[r.randomStandardNormal(Q("shape",t,e,n),Q("dtype",t,e,n),Q("seed",t,e,n))];case"RandomUniform":return[r.randomUniform(Q("shape",t,e,n),Q("minval",t,e,n),Q("maxval",t,e,n),Q("dtype",t,e,n))];case"RandomUniformInt":return[r.randomUniformInt(Q("shape",t,e,n),Q("minval",t,e,n),Q("maxval",t,e,n),Q("seed",t,e,n))];case"Range":{const s=Q("start",t,e,n),i=Q("stop",t,e,n),o=Q("step",t,e,n);return[r.range(s,i,o,Q("dtype",t,e,n))]}case"TruncatedNormal":{const s=Q("shape",t,e,n),i=Q("mean",t,e,n),o=Q("stdDev",t,e,n),a=Q("seed",t,e,n);return[r.truncatedNormal(s,i,o,Q("dtype",t,e,n),a)]}case"Zeros":return[r.zeros(Q("shape",t,e,n),Q("dtype",t,e,n))];case"ZerosLike":return[r.zerosLike(Q("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y5(t,e,n){const r=Q("boxes",t,e,n),s=Q("scores",t,e,n),i=Q("maxOutputSize",t,e,n),o=Q("iouThreshold",t,e,n),a=Q("scoreThreshold",t,e,n),l=Q("softNmsSigma",t,e,n);return{boxes:r,scores:s,maxOutputSize:i,iouThreshold:o,scoreThreshold:a,softNmsSigma:l}}const h6e=async(t,e,n,r,s=Pi)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:i,scores:o,maxOutputSize:a,iouThreshold:l,scoreThreshold:c,softNmsSigma:u}=Y5(t,e,n),A=await s.image.nonMaxSuppressionWithScoreAsync(i,o,a,l,c,u);return[A.selectedIndices,A.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:i,scores:o,maxOutputSize:a,iouThreshold:l,scoreThreshold:c}=Y5(t,e,n),u=Q("padToMaxOutputSize",t,e,n),A=await s.image.nonMaxSuppressionPaddedAsync(i,o,a,l,c,u);return[A.selectedIndices,A.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:i,scores:o,maxOutputSize:a,iouThreshold:l,scoreThreshold:c}=Y5(t,e,n);return[await s.image.nonMaxSuppressionAsync(i,o,a,l,c)]}case"Where":{const i=s.cast(Q("condition",t,e,n),"bool"),o=[await s.whereAsync(i)];return i.dispose(),o}case"ListDiff":return s.setdiff1dAsync(Q("x",t,e,n),Q("y",t,e,n));default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f6e=(t,e,n,r=Pi)=>{switch(t.op){case"LowerBound":{const s=Q("sortedSequence",t,e,n),i=Q("values",t,e,n);return[r.lowerBound(s,i)]}case"TopKV2":{const s=Q("x",t,e,n),i=Q("k",t,e,n),o=Q("sorted",t,e,n),a=r.topk(s,i,o);return[a.values,a.indices]}case"UpperBound":{const s=Q("sortedSequence",t,e,n),i=Q("values",t,e,n);return[r.upperBound(s,i)]}case"Unique":{const s=Q("x",t,e,n),i=r.unique(s);return[i.values,i.indices]}case"UniqueV2":{const s=Q("x",t,e,n),i=Q("axis",t,e,n),o=r.unique(s,i);return[o.values,o.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p6e=(t,e,n,r=Pi)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const s=Q("default",t,e,n);return[_i(t.name,e,n)||s];case"Placeholder":return[_i(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const u=Q("x",t,e,n);return[nd(u)]}case"IdentityN":return Q("x",t,e,n).map(u=>nd(u));case"Snapshot":const i=Q("x",t,e,n);return[nd(i)];case"Shape":return[r.tensor1d(Q("x",t,e,n).shape,"int32")];case"ShapeN":return Q("x",t,e,n).map(u=>r.tensor1d(u.shape));case"Size":return[r.scalar(Q("x",t,e,n).size,"int32")];case"Rank":return[r.scalar(Q("x",t,e,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const o=Q("x",t,e,n),a=Q("data",t,e,n),l=Q("message",t,e,n),c=Q("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(let u=0;u<a.length;u++)console.log(Array.prototype.slice.call(a[u].dataSync()).slice(0,c));return[o];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class m6e{get id(){return this.handle.id}constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=Ht(0),this.tensorMap=new Map,Xs(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Ht(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return this.tensorMap.forEach(s=>s.dispose()),this.tensorMap.clear(),Te(()=>{const s=gl(n),i=r.length,o=s.length;ee(i===o,()=>`The number of elements doesn't match, keys has ${i} elements, the values has ${o} elements.`);for(let a=0;a<i;a++){const l=r[a],c=s[a];Xs(c),this.tensorMap.set(l,c)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return Te(()=>{const s=[];for(let i=0;i<r.length;i++){const o=r[i],a=this.findWithDefault(o,n);s.push(a)}return ea(s)})}findWithDefault(e,n){const r=this.tensorMap.get(e);return r??n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g6e=async(t,e,n,r)=>{switch(t.op){case"HashTable":case"HashTableV2":{const s=r.getHashTableHandleByName(t.name);if(s!=null)return[s];{const i=Q("keyDType",t,e,n),o=Q("valueDType",t,e,n),a=new m6e(i,o);return r.addHashTable(t.name,a),[a.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const s=Q("tableHandle",t,e,n,r),i=Q("keys",t,e,n),o=Q("values",t,e,n);return[await r.getHashTableById(s.id).import(i,o)]}case"LookupTableFind":case"LookupTableFindV2":{const s=Q("tableHandle",t,e,n,r),i=Q("keys",t,e,n),o=Q("defaultValue",t,e,n);return[await r.getHashTableById(s.id).find(i,o)]}case"LookupTableSize":case"LookupTableSizeV2":{const s=Q("tableHandle",t,e,n,r);return[r.getHashTableById(s.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y6e=(t,e,n,r=Pi)=>{switch(t.op){case"ResizeBilinear":{const s=Q("images",t,e,n),i=Q("size",t,e,n),o=Q("alignCorners",t,e,n),a=Q("halfPixelCenters",t,e,n);return[r.image.resizeBilinear(s,[i[0],i[1]],o,a)]}case"ResizeNearestNeighbor":{const s=Q("images",t,e,n),i=Q("size",t,e,n),o=Q("alignCorners",t,e,n),a=Q("halfPixelCenters",t,e,n);return[r.image.resizeNearestNeighbor(s,[i[0],i[1]],o,a)]}case"CropAndResize":{const s=Q("image",t,e,n),i=Q("boxes",t,e,n),o=Q("boxInd",t,e,n),a=Q("cropSize",t,e,n),l=Q("method",t,e,n),c=Q("extrapolationValue",t,e,n);return[r.image.cropAndResize(s,i,o,a,l,c)]}case"ImageProjectiveTransformV3":{const s=Q("images",t,e,n),i=Q("transforms",t,e,n),o=Q("outputShape",t,e,n),a=Q("fillValue",t,e,n),l=Q("interpolation",t,e,n),c=Q("fillMode",t,e,n);return[r.image.transform(s,i,l.toLowerCase(),c.toLowerCase(),a,o)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w6e=(t,e,n,r=Pi)=>{switch(t.op){case"Equal":return[r.equal(Q("a",t,e,n),Q("b",t,e,n))];case"NotEqual":return[r.notEqual(Q("a",t,e,n),Q("b",t,e,n))];case"Greater":return[r.greater(Q("a",t,e,n),Q("b",t,e,n))];case"GreaterEqual":return[r.greaterEqual(Q("a",t,e,n),Q("b",t,e,n))];case"Less":return[r.less(Q("a",t,e,n),Q("b",t,e,n))];case"LessEqual":return[r.lessEqual(Q("a",t,e,n),Q("b",t,e,n))];case"LogicalAnd":return[r.logicalAnd(Q("a",t,e,n),Q("b",t,e,n))];case"LogicalNot":return[r.logicalNot(Q("a",t,e,n))];case"LogicalOr":return[r.logicalOr(Q("a",t,e,n),Q("b",t,e,n))];case"Select":case"SelectV2":return[r.where(Q("condition",t,e,n),Q("a",t,e,n),Q("b",t,e,n))];case"BitwiseAnd":return[r.bitwiseAnd(Q("a",t,e,n),Q("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v6e=(t,e,n,r=Pi)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(Q("a",t,e,n),Q("b",t,e,n),Q("transposeA",t,e,n),Q("transposeB",t,e,n))];case"Einsum":return[r.einsum(Q("equation",t,e,n),...Q("tensors",t,e,n))];case"Transpose":return[r.transpose(Q("x",t,e,n),Q("perm",t,e,n))];case"_FusedMatMul":const[s,i]=Q("fusedOps",t,e,n),o=s==="biasadd",a=i==="prelu",l=Q("numArgs",t,e,n),c=Q("leakyreluAlpha",t,e,n);if(o){if(a&&l!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&l!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[u,A]=Q("args",t,e,n);return[r.fused.matMul({a:Q("a",t,e,n),b:Q("b",t,e,n),transposeA:Q("transposeA",t,e,n),transposeB:Q("transposeB",t,e,n),bias:u,activation:i,preluActivationWeights:A,leakyreluAlpha:c})];case"MatrixBandPart":return[r.linalg.bandPart(Q("a",t,e,n),Q("numLower",t,e,n),Q("numUpper",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x6e=(t,e,n,r=Pi)=>{switch(t.op){case"EuclideanNorm":return[r.euclideanNorm(Q("x",t,e,n),Q("axis",t,e,n),Q("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[r.batchNorm(Q("x",t,e,n),Q("mean",t,e,n),Q("variance",t,e,n),Q("offset",t,e,n),Q("scale",t,e,n),Q("epsilon",t,e,n))];case"FusedBatchNormV3":return[r.batchNorm(Q("x",t,e,n),Q("mean",t,e,n),Q("variance",t,e,n),Q("offset",t,e,n),Q("scale",t,e,n),Q("epsilon",t,e,n))];case"LRN":return[r.localResponseNormalization(Q("x",t,e,n),Q("radius",t,e,n),Q("bias",t,e,n),Q("alpha",t,e,n),Q("beta",t,e,n))];case"Softmax":return[r.softmax(Q("x",t,e,n))];case"LogSoftmax":return[r.logSoftmax(Q("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b6e=(t,e,n,r=Pi)=>{switch(t.op){case"RaggedGather":{const{outputNestedSplits:s,outputDenseValues:i}=r.raggedGather(Q("paramsNestedSplits",t,e,n),Q("paramsDenseValues",t,e,n),Q("indices",t,e,n),Q("outputRaggedRank",t,e,n));return s.concat(i)}case"RaggedRange":{const{rtNestedSplits:s,rtDenseValues:i}=r.raggedRange(Q("starts",t,e,n),Q("limits",t,e,n),Q("splits",t,e,n));return[s,i]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(Q("shape",t,e,n),Q("values",t,e,n),Q("defaultValue",t,e,n),Q("rowPartitionTensors",t,e,n),Q("rowPartitionTypes",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C6e=(t,e,n,r=Pi)=>{switch(t.op){case"Max":{const a=Q("axis",t,e,n),l=Q("keepDims",t,e,n);return[r.max(Q("x",t,e,n),a,l)]}case"Mean":{const a=Q("axis",t,e,n),l=Q("keepDims",t,e,n);return[r.mean(Q("x",t,e,n),a,l)]}case"Min":{const a=Q("axis",t,e,n),l=Q("keepDims",t,e,n);return[r.min(Q("x",t,e,n),a,l)]}case"Sum":{const a=Q("axis",t,e,n),l=Q("keepDims",t,e,n);return[r.sum(Q("x",t,e,n),a,l)]}case"All":{const a=Q("axis",t,e,n),l=Q("keepDims",t,e,n);return[r.all(Q("x",t,e,n),a,l)]}case"Any":{const a=Q("axis",t,e,n),l=Q("keepDims",t,e,n);return[r.any(Q("x",t,e,n),a,l)]}case"ArgMax":{const a=Q("axis",t,e,n);return[r.argMax(Q("x",t,e,n),a)]}case"ArgMin":{const a=Q("axis",t,e,n);return[r.argMin(Q("x",t,e,n),a)]}case"Prod":{const a=Q("axis",t,e,n),l=Q("keepDims",t,e,n);return[r.prod(Q("x",t,e,n),a,l)]}case"Cumprod":{const a=Q("axis",t,e,n),l=Q("exclusive",t,e,n),c=Q("reverse",t,e,n);return[r.cumprod(Q("x",t,e,n),a,l,c)]}case"Cumsum":{const a=Q("axis",t,e,n),l=Q("exclusive",t,e,n),c=Q("reverse",t,e,n);return[r.cumsum(Q("x",t,e,n),a,l,c)]}case"Bincount":const s=Q("x",t,e,n),i=Q("weights",t,e,n),o=Q("size",t,e,n);return[r.bincount(s,i,o)];case"DenseBincount":{const a=Q("x",t,e,n),l=Q("weights",t,e,n),c=Q("size",t,e,n),u=Q("binaryOutput",t,e,n);return[r.denseBincount(a,l,c,u)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S6e=(t,e,n,r=Pi)=>{switch(t.op){case"ConcatV2":case"Concat":{const s=Q("n",t,e,n),i=Q("axis",t,e,n);let o=Q("tensors",t,e,n);return o=o.slice(0,s),[r.concat(o,i)]}case"Gather":{const s=Q("x",t,e,n),i=Q("indices",t,e,n);return[r.gather(s,r.cast(i,"int32"),0)]}case"GatherV2":{const s=Q("axis",t,e,n),i=Q("batchDims",t,e,n),o=Q("x",t,e,n),a=Q("indices",t,e,n);return[r.gather(o,r.cast(a,"int32"),s,i)]}case"Reverse":{const s=Q("dims",t,e,n),i=[];for(let a=0;a<s.length;a++)s[a]&&i.push(a);const o=Q("x",t,e,n);return[r.reverse(o,i)]}case"ReverseV2":{const s=Q("axis",t,e,n),i=Q("x",t,e,n);return[r.reverse(i,s)]}case"Slice":{const s=Q("begin",t,e,n),i=Q("size",t,e,n);return[r.slice(Q("x",t,e,n),s,i)]}case"StridedSlice":{const s=Q("begin",t,e,n),i=Q("end",t,e,n),o=Q("strides",t,e,n),a=Q("beginMask",t,e,n),l=Q("endMask",t,e,n),c=Q("ellipsisMask",t,e,n),u=Q("newAxisMask",t,e,n),A=Q("shrinkAxisMask",t,e,n),d=Q("x",t,e,n);return[r.stridedSlice(d,s,i,o,a,l,c,u,A)]}case"Pack":return Te(()=>{const s=Q("axis",t,e,n),i=Q("tensors",t,e,n),o=i[0].shape,a=r.squeeze(i[0]).shape,l=i.map(c=>{const u=Tn(c.shape,o);if(!u&&!Tn(r.squeeze(c).shape,a))throw new Error("the input tensors shape does not match");return u?c:r.reshape(c,o)});return[r.stack(l,s)]});case"Unpack":{const s=Q("axis",t,e,n),i=Q("tensor",t,e,n);return r.unstack(i,s)}case"Tile":{const s=Q("reps",t,e,n);return[r.tile(Q("x",t,e,n),s)]}case"Split":case"SplitV":{const s=Q("axis",t,e,n),i=Q("numOrSizeSplits",t,e,n),o=Q("x",t,e,n);return r.split(o,i,s)}case"ScatterNd":{const s=Q("indices",t,e,n),i=Q("values",t,e,n),o=Q("shape",t,e,n);return[r.scatterND(s,i,o)]}case"GatherNd":{const s=Q("x",t,e,n),i=Q("indices",t,e,n);return[r.gatherND(s,i)]}case"SparseToDense":{const s=Q("sparseIndices",t,e,n),i=Q("outputShape",t,e,n),o=Q("sparseValues",t,e,n),a=Q("defaultValue",t,e,n);return[r.sparseToDense(s,o,i,o.dtype===a.dtype?a:r.cast(a,o.dtype))]}case"TensorScatterUpdate":{const s=Q("indices",t,e,n),i=Q("values",t,e,n),o=Q("tensor",t,e,n);return[r.tensorScatterUpdate(o,s,i)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B6e=(t,e,n,r=Pi)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:s,outputValues:i,emptyRowIndicator:o,reverseIndexMap:a}=r.sparse.sparseFillEmptyRows(Q("indices",t,e,n),Q("values",t,e,n),Q("denseShape",t,e,n),Q("defaultValue",t,e,n));return[s,i,o,a]}case"SparseReshape":{const{outputIndices:s,outputShape:i}=r.sparse.sparseReshape(Q("inputIndices",t,e,n),Q("inputShape",t,e,n),Q("newShape",t,e,n));return[s,i]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(Q("data",t,e,n),Q("indices",t,e,n),Q("segmentIds",t,e,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(Q("data",t,e,n),Q("indices",t,e,n),Q("segmentIds",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _6e=(t,e,n,r=Pi)=>{switch(t.op){case"FFT":return[r.fft(Q("x",t,e,n))];case"IFFT":return[r.ifft(Q("x",t,e,n))];case"RFFT":return[r.rfft(Q("x",t,e,n))];case"IRFFT":return[r.irfft(Q("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N6e=(t,e,n,r=Pi)=>{switch(t.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(Q("input",t,e,n),Q("pattern",t,e,n),Q("rewrite",t,e,n),Q("replaceGlobal",t,e,n))];case"StringNGrams":{const{nGrams:s,nGramsSplits:i}=r.string.stringNGrams(Q("data",t,e,n),Q("dataSplits",t,e,n),Q("separator",t,e,n),Q("nGramWidths",t,e,n),Q("leftPad",t,e,n),Q("rightPad",t,e,n),Q("padWidth",t,e,n),Q("preserveShortSequences",t,e,n));return[s,i]}case"StringSplit":{const{indices:s,values:i,shape:o}=r.string.stringSplit(Q("input",t,e,n),Q("delimiter",t,e,n),Q("skipEmpty",t,e,n));return[s,i,o]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(Q("input",t,e,n),Q("numBuckets",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I6e=(t,e,n,r=Pi)=>{switch(t.op){case"Cast":return[r.cast(Q("x",t,e,n),Q("dtype",t,e,n))];case"ExpandDims":{const s=Q("axis",t,e,n);return[r.expandDims(Q("x",t,e,n),s)]}case"Squeeze":{const s=Q("axis",t,e,n);return[r.squeeze(Q("x",t,e,n),s)]}case"Reshape":return[r.reshape(Q("x",t,e,n),Q("shape",t,e,n))];case"EnsureShape":return[r.ensureShape(Q("x",t,e,n),Q("shape",t,e,n))];case"MirrorPad":return[r.mirrorPad(Q("x",t,e,n),Q("padding",t,e,n),Q("mode",t,e,n))];case"PadV2":case"Pad":return[r.pad(Q("x",t,e,n),Q("padding",t,e,n),Q("constantValue",t,e,n))];case"SpaceToBatchND":{const s=Q("blockShape",t,e,n),i=Q("paddings",t,e,n);return[r.spaceToBatchND(Q("x",t,e,n),s,i)]}case"BatchToSpaceND":{const s=Q("blockShape",t,e,n),i=Q("crops",t,e,n);return[r.batchToSpaceND(Q("x",t,e,n),s,i)]}case"DepthToSpace":{const s=Q("blockSize",t,e,n),i=Q("dataFormat",t,e,n).toUpperCase();return[r.depthToSpace(Q("x",t,e,n),s,i)]}case"BroadcastTo":return[r.broadcastTo(Q("x",t,e,n),Q("shape",t,e,n))];case"BroadcastArgs":return[r.broadcastArgs(Q("s0",t,e,n),Q("s1",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bz(t,e,n,r,s=Te){const i=((o,a,l)=>{switch(o.category){case"arithmetic":return s(()=>r6e(o,a,l));case"basic_math":return s(()=>s6e(o,a,l));case"control":return u6e(o,a,l);case"convolution":return s(()=>A6e(o,a,l));case"creation":return s(()=>d6e(o,a,l));case"dynamic":return h6e(o,a,l);case"evaluation":return s(()=>f6e(o,a,l));case"image":return s(()=>y6e(o,a,l));case"graph":return s(()=>p6e(o,a,l));case"logical":return s(()=>w6e(o,a,l));case"matrices":return s(()=>v6e(o,a,l));case"normalization":return s(()=>x6e(o,a,l));case"ragged":return s(()=>b6e(o,a,l));case"reduction":return s(()=>C6e(o,a,l));case"slice_join":return s(()=>S6e(o,a,l));case"sparse":return s(()=>B6e(o,a,l));case"spectral":return s(()=>_6e(o,a,l));case"string":return s(()=>N6e(o,a,l));case"transformation":return s(()=>I6e(o,a,l));case"hash_table":return g6e(o,a,l,r);case"custom":const c=_se(o.op);if(c&&c.customExecutor)return c.customExecutor(new n6e(o,a,l));throw TypeError(`Custom op ${o.op} is not registered.`);default:throw TypeError(`Unknown op '${o.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,n);return hf(i)?i.then(o=>[].concat(o)):[].concat(i)}class _z{constructor(e={},n={},r={},s={},i){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=s,this.parseNodeNameCache=i,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const r=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(r))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nz(t,e,n,r){const s=new Set,i=[];let o=null,a=null;const l=new Set,c=new Set(Object.keys(t).map(d=>Ca(d)[0]));r=r||[];const u=new Set(r.map(d=>Ca(d.name)[0])),A=[...e];for(;A.length>0;){const d=A.pop();if((Bp(d)||R6e(d)||O6e(d))&&o==null&&(o=d,a=o.children.map(h=>h.name).filter(h=>s.has(h))),s.add(d.name),n[d.name]==null&&!c.has(d.name)&&!u.has(d.name)){if(d.inputs.length===0){i.push(d.name);continue}d.inputs.forEach(h=>{l.has(h.name)||(l.add(h.name),A.push(h))})}}return{inputs:t,outputs:e,usedNodes:s,missingInputs:i,dynamicNode:o,syncInputs:a}}function E6e(t,e){const{usedNodes:n,inputs:r}=e,s=Object.keys(r).map(y=>Ca(y)[0]).map(y=>t.nodes[y]),i=t.initNodes||[],o=y=>n.has(typeof y=="string"?y:y.name);function a(y){return[...new Map(y.map(g=>[g.name,g])).values()]}const l=a([...s,...t.weights,...i]).filter(o),c=a([...l,...Object.values(t.nodes)]).filter(o),u=new Map(c.map(y=>[y.name,y])),A={};for(const y of c){A[y.name]=A[y.name]||0;for(const g of y.children)o(g)||(A[g.name]=Number.POSITIVE_INFINITY),A[g.name]=(A[g.name]||0)+1}const d=Object.entries(A).filter(([,y])=>y===0).map(([y])=>y),h=[...d];for(;d.length>0;){const y=d.pop(),g=u.get(y);for(const v of g.children.filter(o))--A[v.name]===0&&(h.push(v.name),d.push(v.name))}const p=h.map(y=>u.get(y)),m=k6e(p,l);return T6e(m,l),m}function k6e(t,e){const n=new Map(t.map(o=>[o.name,o])),r=e.map(o=>o.name),s=new Set(r);for(;r.length>0;){const o=r.pop(),a=n.get(o);for(const l of a.children)!n.has(l.name)||s.has(l.name)||(s.add(l.name),r.push(l.name))}return t.filter(o=>s.has(o.name))}class BS extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}function T6e(t,e){const n=new Map(t.map((a,l)=>[a.name,l])),r=new Set(e.map(a=>a.name)),s=a=>r.has(typeof a=="string"?a:a.name),i=new Set(t.map(a=>a.name)),o=a=>i.has(typeof a=="string"?a:a.name);for(const a of t){for(const l of a.children.filter(o)){if(!n.has(l.name))throw new BS(`Child ${l.name} of node ${a.name} is unreachable.`);if(n.get(a.name)>n.get(l.name))throw new BS(`Node ${a.name} is scheduled to run after its child ${l.name}.`)}if(!s(a))for(const l of a.inputs){if(!n.has(l.name))throw new BS(`Input ${l.name} of node ${a.name} is unreachable.`);if(n.get(l.name)>n.get(a.name))throw new BS(`Node ${a.name} is scheduled to run before its input ${l.name}.`)}}}function F6e(t){const e=new Map(t.map((a,l)=>[a.name,l])),n=Number.MAX_SAFE_INTEGER,r=t.map((a,l)=>Bp(a)?n:l),s=a=>{const l=r[e.get(a.name)];return l??-1},i=t.map((a,l)=>a.children.map(s).reduce((c,u)=>Math.max(c,u),r[l])),o=new Map;for(let a=0;a<t.length;++a){const l=i[a];if(l===n)continue;const c=t[a],u=t[l];o.has(u.name)||o.set(u.name,[]),o.get(u.name).push(c)}return o}const L6e=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),D6e=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),P6e=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function Bp(t){return L6e.has(t.op)}function R6e(t){return D6e.has(t.op)}function O6e(t){return P6e.has(t.op)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class G_{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(r=>e[r].map(s=>s.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(r=>{this._functionExecutorMap[r]=new G_(e.functions[r],this)})}getCompilationKey(e,n){const r=e.map(i=>i.name).sort(),s=n.map(i=>i.name).sort();return r.join(this.SEPARATOR)+"--"+s.join(this.SEPARATOR)}compile(e,n){const r=Nz(e,n,this.weightMap,this._initNodes),{missingInputs:s,dynamicNode:i,syncInputs:o}=r;if(i!=null)throw new Error(`This execution contains the node '${i.name}', which has the dynamic op '${i.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${o}]`);if(s.length>0){const c=n.map(A=>A.name),u=Object.keys(e);throw new Error(`Cannot compute the outputs [${c}] from the provided inputs [${u}]. Missing the following inputs: [${s}]`)}const a=E6e(this.graph,r),l=F6e(a);return{orderedNodes:a,nodeLiveUntilMap:l}}cloneAndKeepTensor(e){if(e==null)return null;const n=e.clone();return Xs(n),n}cloneTensorList(e){return e?e.map(r=>this.cloneAndKeepTensor(r)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,this.cloneTensorList(r)]))}execute(e,n){this.disposeIntermediateTensors(),e=this.mapInputs(e);const r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const s=r.map(d=>this.graph.nodes[Ca(d)[0]]),i=n.map(d=>Ca(d)[0]),o=new Set(i);let a=i.map(d=>this.graph.nodes[d]);a.length===0&&(a=this._outputs);const l=this.getCompilationKey(s,a);let c=this.compiledMap.get(l);c==null&&(c=this.compile(e,a),this.compiledMap.set(l,c));try{this.keepIntermediateTensors=Le().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){this.keepIntermediateTensors=!1,console.warn(d.message)}const u={},A={};return Te(()=>{const d=new _z(this.weightMap,u,A,this.functionExecutorMap,this.parseNodeNameCache),h=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(g=>{const[v,b]=Ca(g,d),C=[];C[b]=e[g],h[v]=C,this.keepIntermediateTensors&&(this.clonedTensorsMap[v]=this.cloneTensorList(C))});const p=this.getFrozenTensorIds(h),{orderedNodes:m,nodeLiveUntilMap:y}=c;for(const g of m){if(h[g.name])continue;const v=Bz(g,h,d,this._resourceManager);if(hf(v))throw new Error(`The execution of the op '${g.op}' returned a promise. Please use model.executeAsync() instead.`);h[g.name]=v,this.keepIntermediateTensors&&(this.clonedTensorsMap[g.name]=this.cloneTensorList(v)),this.checkTensorForDisposalWithNodeLiveUntilInfo(g,h,d,p,o,y.get(g.name))}return this.parent==null&&d.dispose(p),n.map(g=>_i(g,h,d))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(r=>e[r]).map(r=>r.map(s=>s.id)));return new Set(n)}checkTensorForDisposal(e,n,r,s,i,o,a){if(!(Bp(n)||o.has(e))){for(const l of r[e])l!=null&&(a[l.id]=(a[l.id]||0)+n.children.length);for(const l of n.inputs){if(Bp(l))continue;const c=vz(l.name,r,s);if(c!=null)for(const u of c){if(!u||u.kept||i.has(u.id))continue;const A=a[u.id];A===1?(u.dispose(),delete a[u.id]):A!=null&&a[u.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,n,r,s,i,o){function a(l){return Bp(l)||i.has(l.name)}if(!(Bp(e)||o==null))for(const l of o){if(a(l))continue;const c=vz(l.name,n,r);for(const u of c)!u||u.kept||s.has(u.id)||u.dispose()}}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const n of e)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,n,r=!1,s={},i={}){this.disposeIntermediateTensors(),r||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=Le().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){this.keepIntermediateTensors=!1,console.warn(d.message)}const o=new _z(this.weightMap,s,i,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const a=await this.executeWithControlFlow(e,o,n,r),l=n.map(d=>_i(d,a,o)),c=l.map(d=>d.id),u=Object.keys(e).map(d=>e[d].id),A=new Set([...c,...u,...this.weightIds]);return Object.values(a).forEach(d=>{d.forEach(h=>{h&&!h.isDisposed&&!A.has(h.id)&&h.dispose()})}),this.parent==null&&o.dispose(A),l}async executeFunctionAsync(e,n,r){const s=e.reduce((i,o,a)=>(i[this.inputs[a].name]=o,i),{});return this._executeAsync(s,this.outputNodes,!0,n,r)}async executeWithControlFlow(e,n,r,s){const i=Object.keys(e),o=i.map(C=>this.graph.nodes[Ca(C)[0]]),a=r.map(C=>Ca(C)[0]),l=new Set(a);let c=a.map(C=>this.graph.nodes[C]);c.length===0&&(c=this._outputs);const{usedNodes:u,missingInputs:A,dynamicNode:d,syncInputs:h}=Nz(e,c,this.weightMap,this._initNodes),p=[...o,...this.graph.weights,...this._initNodes||[]].map(C=>({node:C,contexts:n.currentContext})),m=Object.assign({},this.weightMap);Object.keys(e).forEach(C=>{const[_,I]=Ca(C),F=[];F[I]=e[C],m[_]=F});const y={},g=this.getFrozenTensorIds(m),v={};for(;p.length>0;){const C=this.processStack(o,p,n,m,v,g,l,y,u);await Promise.all(C)}d==null&&!s&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const b=c.filter(C=>!Bp(C)&&!_i(C.name,m,n)).map(C=>C.name);if(b.length>0){let C="";throw d!=null&&(C=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${h}]`),new Error(`Cannot compute the outputs [${b}] from the provided inputs [${i}]. Consider providing the following inputs: [${A}]. ${C}`)}return m}processStack(e,n,r,s,i,o,a,l,c){const u=[];for(;n.length>0;){const A=n.pop();r.currentContext=A.contexts;let d="";if(A.node.op==="Enter"&&Q("isConstant",A.node,s,r)&&([d]=td(A.node.name,r)),s[A.node.name]==null){const h=Bz(A.node,s,r,this._resourceManager);d||([d]=td(A.node.name,r));const p=r.currentContext;hf(h)?u.push(h.then(m=>(s[d]=m,this.keepIntermediateTensors&&(this.clonedTensorsMap[d]=this.cloneTensorList(m)),r.currentContext=p,this.checkTensorForDisposal(d,A.node,s,r,o,a,l),this.processChildNodes(A.node,n,r,s,i,c),m))):(s[d]=h,this.keepIntermediateTensors&&(this.clonedTensorsMap[d]=this.cloneTensorList(h)),this.checkTensorForDisposal(d,A.node,s,r,o,a,l),this.processChildNodes(A.node,n,r,s,i,c))}else this.processChildNodes(A.node,n,r,s,i,c)}return u}processChildNodes(e,n,r,s,i,o){e.children.forEach(a=>{const[l]=td(a.name,r);i[l]||!o.has(a.name)||(a.op==="Merge"?a.inputNames.some(c=>!!_i(c,s,r))&&(i[l]=!0,n.push({contexts:r.currentContext,node:a})):a.inputNames.every(c=>!!_i(c,s,r))&&(i[l]=!0,n.push({contexts:r.currentContext,node:a})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const r=e[n],[s]=Ca(n),i=this.graph.nodes[s];if(i.attrParams.shape&&i.attrParams.shape.value){const o=i.attrParams.shape.value,a=o.length===r.shape.length&&r.shape.every((l,c)=>o[c]===-1||o[c]===l);ee(a,()=>`The shape of dict['${i.name}'] provided in model.execute(dict) must be [${o}], but was [${r.shape}]`)}i.attrParams.dtype&&i.attrParams.dtype.value&&ee(r.dtype===i.attrParams.dtype.value,()=>`The dtype of dict['${i.name}'] provided in model.execute(dict) must be ${i.attrParams.dtype.value}, but was ${r.dtype}`)})}mapInputs(e){var n,r;const s={};for(const i in e){const o=(r=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||r===void 0?void 0:r[i];o!=null?s[o.name]=e[i]:s[i]=e[i]}return s}checkInputs(e){const n=Object.keys(e).filter(r=>{const[s]=Ca(r);return this.graph.nodes[s]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>{var r,s;const i=(s=(r=this._signature)===null||r===void 0?void 0:r.outputs)===null||s===void 0?void 0:s[n];return i!=null?i.name:n},{})}checkOutputs(e){e.forEach(n=>{const[r]=Ca(n);if(!this.graph.nodes[r])throw new Error(`The output '${n}' is not found in the graph`)})}}class $6e{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U6e="?tfjs-format=file",M6e="model.json";class $${get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,n={},r=jO){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=r,n==null&&(this.loadOptions={}),this.resourceManager=new $6e}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return hf(e)?e.then(n=>n.getWeightStream==null?this.loadSync(n):this.loadStreaming(n)):this.loadSync(e)}loadSync(e){const n=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,n)}async loadStreaming(e){if(e.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");const n=await iee(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,n)}loadWithWeightMap(e,n){this.artifacts=e;const r=this.artifacts.modelTopology;let s=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const i=this.artifacts.userDefinedMetadata;i.signature!=null&&(s=i.signature),i.structuredOutputKeys!=null&&(this.structuredOutputKeys=i.structuredOutputKeys)}if(this.signature=s,this.version=`${r.versions.producer}.${r.versions.minConsumer}`,this.executor=new G_(xz.Instance.transformGraph(r,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(n),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const i=xz.Instance.transformGraph(e.modelInitializer);this.initializer=new G_(i),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,n){if(typeof e=="string"){const r=this.io.getSaveHandlers(e);if(r.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${e}'`);e=r[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const n=e instanceof nr?[e]:e,r={};return n.forEach((s,i)=>r[this.structuredOutputKeys[i]]=s),r}return e}predict(e,n){const r=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(r)}async predictAsync(e,n){const r=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(r)}normalizeInputs(e){var n;if(!(e instanceof nr)&&!Array.isArray(e)){const i=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(i!=null)for(const o in i){const a=i[o];a.resourceId!=null&&(e[o]=this.resourceIdToCapturedInput[a.resourceId])}return e}e=Array.isArray(e)?e:[e];const r=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+r!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-r} non-resource placeholders, while there are ${e.length} input tensors provided.`);let s=0;return this.inputNodes.reduce((i,o)=>{var a,l,c;const u=(c=(l=(a=this.signature)===null||a===void 0?void 0:a.inputs)===null||l===void 0?void 0:l[o])===null||c===void 0?void 0:c.resourceId;return u!=null?i[o]=this.resourceIdToCapturedInput[u]:i[o]=e[s++],i},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,r=Object.keys(n);for(let s=0;s<r.length;s++){const i=r[s],o=n[i];this.resourceIdToCapturedInput[o.resourceId]=e[s]}}}execute(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=this.executor.execute(e,n);return r.length>1?r:r[0]}async executeAsync(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=await this.executor.executeAsync(e,n);return r.length>1?r:r[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,r)=>(n[r]=[e[r]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Bn(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function Q6e(t,e={},n=jO){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=H6e(t));const r=new $$(t,e,n);return await r.load(),r}function j6e(t){if(t==null)throw new Error("modelUrl in loadGraphModelSync() cannot be null. Please provide model artifacts or an IOHandler that loads the model");let e;if(t instanceof Array){const[r,s]=t;if(!r)throw new Error("modelJSON must be the first element of the array");if(!s||!(s instanceof ArrayBuffer))throw new Error("An ArrayBuffer of weights must be the second element of the array");if(!("modelTopology"in r))throw new Error("Model JSON is missing 'modelTopology'");if(!("weightsManifest"in r))throw new Error("Model JSON is missing 'weightsManifest'");const i=D_(r.weightsManifest),o=xR(r,i,s);e=R_(o)}else if("load"in t)e=t;else if("modelTopology"in t&&"weightSpecs"in t&&"weightData"in t)e=R_(t);else throw new Error("Unknown model format");const n=new $$(e);return n.load(),n}function H6e(t){return t.endsWith("/")||(t=t+"/"),`${t}${M6e}${U6e}`}/** @license See the LICENSE file. */const z6e="4.22.0";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V6e=Object.freeze(Object.defineProperty({__proto__:null,GraphModel:$$,deregisterOp:mMe,loadGraphModel:Q6e,loadGraphModelSync:j6e,registerOp:pMe,version_converter:z6e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var Iz;(function(t){t[t.FAIL=0]="FAIL",t[t.SHORTEST=1]="SHORTEST",t[t.LONGEST=2]="LONGEST"})(Iz||(Iz={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kt(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&ee(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the CPU backend.`)})}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W6e=HE;class fk extends oI{nextDataId(){return fk.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new iR(this,Vc())}write(e,n,r){this.firstUse&&(this.firstUse=!1,Le().get("IS_NODE")&&sl(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const s={id:this.nextDataId()};return this.data.set(s,{values:e,dtype:r,refCount:1}),s}makeTensorInfo(e,n,r){let s;if(n==="string"&&r!=null&&r.length>0&&eA(r[0])){const i=r.map(o=>uA(o));s=this.write(i,e,n)}else s=this.write(r,e,n);return{dataId:s,shape:e,dtype:n}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const n=this.data.get(e);n.refCount++}decRef(e){if(this.data.has(e)){const n=this.data.get(e);n.refCount--}}move(e,n,r,s,i){this.data.set(e,{values:n,dtype:s,refCount:i})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:n,complexTensorInfos:r}=this.data.get(e);if(n==="complex64"){const s=this.readSync(r.real.dataId),i=this.readSync(r.imag.dataId);return Cd(s,i)}return FJ(this.data.get(e).values,n)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(s=>vd(s));return yn(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return yn(e.shape,e.dtype,n)}makeOutput(e,n,r){return Vc().makeTensorFromTensorInfo(this.makeTensorInfo(n,r,e),this)}disposeData(e,n=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!n&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(e);r!=null&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const n=wo();return e(),{kernelMs:wo()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){kt([e],"where");const n=this.readSync(e.dataId);return W6e(e.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}fk.nextDataId=0;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ese(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}const G6e=t=>{const{x:e}=t.inputs,n=t.backend;kt(e,"abs");let r=new Float32Array(Oe(e.shape));const s=n.data.get(e.dataId).values;return r=Ese(s),n.makeOutput(r,e.shape,e.dtype)},K6e={kernelName:ib,backendName:"cpu",kernelFunc:G6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ns(t){return(e,n,r,s,i)=>{const o=un(e,n),a=o.length,l=Qt(o),c=Oe(o),u=gi(i,c),A=e.length,d=n.length,h=Qt(e),p=Qt(n),m=Cm(e,o),y=Cm(n,o);if(m.length+y.length===0)for(let g=0;g<u.length;++g)u[g]=t(r[g%r.length],s[g%s.length]);else for(let g=0;g<u.length;++g){const v=jm(g,a,l),b=v.slice(-A);m.forEach(F=>b[F]=0);const C=ru(b,A,h),_=v.slice(-d);y.forEach(F=>_[F]=0);const I=ru(_,d,p);u[g]=t(r[C],s[I])}return[u,o]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _a(t){const{inputs:e,backend:n}=t,{real:r,imag:s}=e,i=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,a=n.makeTensorInfo(r.shape,"complex64"),l=n.data.get(a.dataId);return l.complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(s.shape,"float32",o)},a}const q6e={kernelName:pI,backendName:"cpu",kernelFunc:_a};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K_(t,e,n="float32"){if(n==="complex64"){const s=K_(t,e,"float32"),i=K_(t,e,"float32");return _a({inputs:{real:s,imag:i},backend:t})}const r=Ti(Oe(e),n);return t.makeTensorInfo(e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CA(t){const{inputs:e,backend:n}=t,{x:r}=e;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const X6e={kernelName:Zy,backendName:"cpu",kernelFunc:CA};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Em(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,i)}const Y6e={kernelName:KI,backendName:"cpu",kernelFunc:Em};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kse(t,e,n,r){if(r==="int32"){const s=Int32Array.from(t);return[e,"int32",s]}if(r==="bool"){const s=Ff([0],n),[i,o]=Ns((a,l)=>a!==l?1:0)(e,[],t,s,"bool");return[o,"bool",i]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function bf(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dtype:i}=r;if(i==="complex64"){if(s.dtype==="complex64")return CA({inputs:{x:s},backend:n});const u=K_(n,s.shape,s.dtype),A=bf({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),d=_a({inputs:{real:A,imag:u},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(A),d}if(s.dtype==="complex64"){const u=Em({inputs:{input:s},backend:n}),A=bf({inputs:{x:u},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(u),A}if(!lR(s.dtype,i)){const u=CA({inputs:{x:s},backend:n});return{dataId:u.dataId,shape:u.shape,dtype:i}}const o=n.data.get(s.dataId).values,[a,l,c]=kse(o,s.shape,s.dtype,i);return n.makeTensorInfo(a,l,c)}const Z6e={kernelName:Uy,backendName:"cpu",kernelFunc:bf};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ni(t,e,n,r){return n==null?({inputs:s,backend:i})=>{const{a:o,b:a}=s,l=i;kt([o,a],t);const c=l.data.get(o.dataId).values,u=l.data.get(a.dataId).values,A=o.dtype==="string"?Sd(c):c,d=o.dtype==="string"?Sd(u):u,h=r||o.dtype,[p,m]=e(o.shape,a.shape,A,d,h);return l.makeTensorInfo(m,h,p)}:({inputs:s,backend:i})=>{const{a:o,b:a}=s,l=i;if(o.dtype==="complex64"||a.dtype==="complex64"){const c=bf({inputs:{x:o},backend:l,attrs:{dtype:"complex64"}}),u=l.data.get(c.dataId),A=u.complexTensorInfos.real,d=u.complexTensorInfos.imag,h=l.data.get(A.dataId).values,p=l.data.get(d.dataId).values,m=bf({inputs:{x:a},backend:l,attrs:{dtype:"complex64"}}),y=l.data.get(m.dataId),g=y.complexTensorInfos.real,v=y.complexTensorInfos.imag,b=l.data.get(g.dataId).values,C=l.data.get(v.dataId).values,[_,I,F]=n(o.shape,a.shape,h,p,b,C),T=l.makeTensorInfo(F,"float32",_),D=l.makeTensorInfo(F,"float32",I),H=_a({inputs:{real:T,imag:D},backend:l});return l.disposeIntermediateTensorInfo(c),l.disposeIntermediateTensorInfo(m),l.disposeIntermediateTensorInfo(T),l.disposeIntermediateTensorInfo(D),H}else{const c=l.data.get(o.dataId).values,u=l.data.get(a.dataId).values,A=r||o.dtype,[d,h]=e(o.shape,a.shape,c,u,A);return l.makeTensorInfo(h,A,d)}}}function U$(t){return(e,n,r,s,i,o)=>{const a=un(e,n),l=Oe(a),c=a.length,u=Qt(a),A=gi("float32",l),d=gi("float32",l),h=Cm(e,a),p=Cm(n,a),m=Cd(r,s),y=Cd(i,o),g=e.length,v=Qt(e),b=n.length,C=Qt(n);if(h.length+p.length===0)for(let _=0;_<A.length;_++){const I=_%m.length,F=_%y.length,T=t(m[I*2],m[I*2+1],y[F*2],y[F*2+1]);A[_]=T.real,d[_]=T.imag}else for(let _=0;_<A.length;_++){const I=jm(_,c,u),F=I.slice(-g);h.forEach(U=>F[U]=0);const T=ru(F,g,v),D=I.slice(-b);p.forEach(U=>D[U]=0);const H=ru(D,b,C),R=t(m[T*2],m[T*2+1],y[H*2],y[H*2+1]);A[_]=R.real,d[_]=R.imag}return[A,d,a]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tse=Ns((t,e)=>t+e),J6e=U$((t,e,n,r)=>({real:t+n,imag:e+r})),uy=ni(Hm,Tse,J6e),eQe={kernelName:Hm,backendName:"cpu",kernelFunc:uy};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M$(t,e,n,r,s){const i=Oe(r),o=Ti(s,n);for(let a=0;a<t.length;a++){const l=t[a];if(l<0)throw new Error("Input x must be non-negative!");l>=s||(i>0?o[l]+=e[a]:o[l]+=1)}return o}function Fse(t,e,n,r=!1){const s=t.shape[0],i=t.shape[1],o=yn([s,n],e.dtype);for(let a=0;a<s;a++)for(let l=0;l<i;l++){const c=t.get(a,l);if(c<0)throw new Error("Input x must be non-negative!");c>=n||(r?o.set(1,a,c):e.size>0?o.set(o.get(a,c)+e.get(a,l),a,c):o.set(o.get(a,c)+1,a,c))}return o}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lse=Ns((t,e)=>t&e),tQe=ni(hb,Lse),nQe={kernelName:hb,backendName:"cpu",kernelFunc:tQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kA(t){return(e,n,r)=>{const s=As(n,e.length);for(let i=0;i<e.length;++i)s[i]=t(e[i],r);return s}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ur(t,e,n){const r=kA(e);return Qf(t,r,n)}function Qf(t,e,n){return({inputs:r,attrs:s,backend:i})=>{const{x:o}=r;kt(o,t);const a=i,l=a.data.get(o.dataId).values;let c;if(o.dtype==="string"){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");c=Sd(l)}else c=l;const u=n||o.dtype,A=e(c,u,s);return a.makeTensorInfo(o.shape,u,A)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dse=kA(t=>Math.ceil(t)),rQe=Qf(My,Dse),sQe={kernelName:My,backendName:"cpu",kernelFunc:rQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pse(t,e,n,r){const s=As(n,Oe(e));if(r&&n!=="string"){let i=0;t.forEach(o=>{const a=Oe(o.shape);s.set(o.vals,i),i+=a})}else{let i=0;t.forEach(o=>{const a=n==="string"?Sd(o.vals):o.vals;let l=0;for(let c=0;c<o.shape[0];++c){const u=c*e[1]+i;for(let A=0;A<o.shape[1];++A)s[u+A]=a[l++]}i+=o.shape[1]})}return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rse=Ns((t,e)=>t===e?1:0),Ose=ni(bb,Rse,null,"bool"),iQe={kernelName:bb,backendName:"cpu",kernelFunc:Ose};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $se=kA(t=>Math.exp(t)),Use=Qf(Gy,$se,"float32"),oQe={kernelName:Gy,backendName:"cpu",kernelFunc:Use};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mse=kA(t=>Math.expm1(t)),aQe=Qf(Ky,Mse),lQe={kernelName:Ky,backendName:"cpu",kernelFunc:aQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qse=kA(t=>Math.floor(t)),cQe=Qf(qy,Qse),uQe={kernelName:qy,backendName:"cpu",kernelFunc:cQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jse=Ns((t,e)=>Math.floor(t/e)),AQe=ni(Xy,jse,null,"int32"),dQe={kernelName:Xy,backendName:"cpu",kernelFunc:AQe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hse(t,e,n,r,s,i,o,a,l){const c=yn([r,i],n);for(let u=0;u<r;u++){const A=[];let d=0;for(let h=0;h<s;h++){const p=t[u*s+h];d+=p*o[h],A.push(p)}if(d<0||d>=l/i)throw new Error(`Invalid indices: ${A} does not index into ${a}`);for(let h=0;h<i;h++)c.values[u*i+h]=e.get(...e.indexToLoc(d*i+h))}return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zse(t,e,n){const r=yn(n,t.dtype);for(let s=0;s<r.size;++s){const o=r.indexToLoc(s).slice(),a=o[0],l=o[2],c=e.locToIndex([a,l]);o[2]=e.values[c];const u=t.locToIndex(o);0<=u&&u<t.values.length&&(r.values[s]=t.values[u])}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vse=Ns((t,e)=>t>e?1:0),hQe=ni(_b,Vse,null,"bool"),fQe={kernelName:_b,backendName:"cpu",kernelFunc:hQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wse=Ns((t,e)=>t>=e?1:0),pQe=ni(Yy,Wse,null,"bool"),mQe={kernelName:Yy,backendName:"cpu",kernelFunc:pQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gse=Ns((t,e)=>t<e?1:0),gQe=ni(Ib,Gse,null,"bool"),yQe={kernelName:Ib,backendName:"cpu",kernelFunc:gQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kse=Ns((t,e)=>t<=e?1:0),wQe=ni(Eb,Kse,null,"bool"),vQe={kernelName:Eb,backendName:"cpu",kernelFunc:wQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qse(t,e,n){const r=(e-t)/(n-1),s=Ti(n,"float32");s[0]=t;for(let i=1;i<s.length;i++)s[i]=s[i-1]+r;return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xse=kA(t=>Math.log(t)),xQe=Qf(n1,Xse),bQe={kernelName:n1,backendName:"cpu",kernelFunc:xQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yse(t,e,n,r){const s=gi(r,Oe(n));for(let i=0;i<s.length;++i){const o=i*e;let a=t[o];for(let l=0;l<e;++l){const c=t[o+l];(Number.isNaN(c)||c>a)&&(a=c)}s[i]=a}return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zse=Ns((t,e)=>Math.max(t,e)),CQe=ni(s1,Zse),SQe={kernelName:s1,backendName:"cpu",kernelFunc:CQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jse=Ns((t,e)=>Math.min(t,e)),BQe=ni(i1,Jse),_Qe={kernelName:i1,backendName:"cpu",kernelFunc:BQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q$=Ns((t,e)=>t*e),NQe=U$((t,e,n,r)=>({real:t*n-e*r,imag:t*r+e*n})),pk=ni(a1,Q$,NQe),IQe={kernelName:a1,backendName:"cpu",kernelFunc:pk};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eie(t,e,n){const r=Nd(-1,n);return Q$([],e,r,t,n)}function EQe(t){const{inputs:e,backend:n}=t,{x:r}=e;kt(r,"neg");const s=n.data.get(r.dataId).values,[i,o]=eie(s,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,i)}const kQe={kernelName:Mb,backendName:"cpu",kernelFunc:EQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tie=Ns((t,e)=>t!==e?1:0),TQe=ni(Qb,tie,null,"bool"),FQe={kernelName:Qb,backendName:"cpu",kernelFunc:TQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j$(t,e,n,r,s){const i=e.length,o=Oe(e),a=Qt(e),l=Qt(s),c=gi(n,Oe(s));for(let u=0;u<o;++u){const A=jm(u,i,a),d=new Array(A.length);for(let p=0;p<d.length;p++)d[p]=A[r[p]];const h=ru(d,i,l);c[h]=t[u]}return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ta(t){const{inputs:e,attrs:n,backend:r}=t,{x:s}=e,{perm:i}=n;kt(s,"transpose");const o=s.shape.length,a=new Array(o);for(let A=0;A<a.length;A++)a[A]=s.shape[i[A]];const l=r.data.get(s.dataId).values,c=j$(l,s.shape,s.dtype,i,a);return{dataId:r.write(c,a,s.dtype),shape:a,dtype:s.dtype}}const LQe={kernelName:Jp,backendName:"cpu",kernelFunc:ta};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nie(t,e,n,r){const[s,i]=vi(t,r),o=Xo(e,"int32"),a=Ti(Oe(s),o),l=Oe(i);for(let c=0;c<a.length;++c){const u=c*l;let A=1;for(let d=0;d<l;++d)A*=n[u+d];a[c]=A}return{outVals:a,outShape:s,outDtype:o}}function DQe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r;kt(s,"prod");const a=s.shape.length,l=Nn(i,s.shape),c=rs(l,a);let u=l,A=s;const d=[];c!=null&&(A=ta({inputs:{x:s},backend:n,attrs:{perm:c}}),d.push(A),u=Bs(u.length,a));const h=n.data.get(A.dataId).values,{outVals:p,outShape:m,outDtype:y}=nie(A.shape,A.dtype,h,u);let g=m;return o&&(g=Ss(m,l)),d.forEach(v=>n.disposeIntermediateTensorInfo(v)),n.makeTensorInfo(g,y,p)}const PQe={kernelName:Gb,backendName:"cpu",kernelFunc:DQe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RQe(t,e,n){t.forEach((r,s)=>{if(r<0||r>=n){const i=jm(s,e.length,Qt(e)).join(",");throw new Error(`indices[${i}] = ${r} is not in [0, ${n})`)}})}function OQe(t,e){for(let n=0;n<t.length;++n){const r=t[n],s=n===t.length-1?e:t[n+1].length;if(r.length===0)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>s)throw new Error("Ragged splits must not point past values");for(let i=1;i<r.length;++i)if(r[i-1]>r[i])throw new Error("Ragged splits must be sorted in ascending order")}}function $Qe(t,e,n,r){const s=[];let i=0;const o=e.length-1+n.length,a=new Array(o).fill(null).map(()=>[0]);OQe(n,r);let l=1;for(let c=0;c<e.length-1;++c){l*=e[c];const u=e[c+1];for(let A=1;A<l+1;++A)a[c].push(A*u)}for(let c=0;c<t.length;++c){let u=t[c],A=t[c]+1;for(let d=0;d<n.length;++d){const h=n[d],p=d+e.length-1;if(p>=0){const m=a[p],y=m[m.length-1]-h[u];for(let g=u;g<A;++g)a[p].push(h[g+1]+y)}u=h[u],A=h[A]}A!==u&&(s.push([u,A]),i+=A-u)}return{outSplits:a,valueSlices:s,numValues:i}}function UQe(t){const e=[];for(let n=0;n<t.length;++n){const r=t[n].length,s=As("int32",r);e.push(s),t[n].forEach((i,o)=>s[o]=i)}return e}function Ez(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let r=e;r<t.length;r++)n[e-1]*=t[r];return n}function MQe(t,e,n,r,s,i){const o=Ez(e,2)[1],a=Ez(i,2)[1];let l=0;for(const c of n)for(let u=c[0];u<c[1];++u){for(let A=0;A<r;++A)s[l*a+A]=t[u*o+A];++l}}function QQe(t,e,n,r,s){const i=e.slice();i[0]=s;const o=As(n,Oe(i)),a=t.length,l=a===0?0:a/e[0];return MQe(t,e,r,l,o,i),[o,i]}function rie(t,e,n,r,s,i,o,a){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const l=e[0][0]-1;if(RQe(i,o,l),r.length===0)throw new Error("params.rank must be nonzero");const c=r[0],{outSplits:u,valueSlices:A,numValues:d}=$Qe(i,o,t,c),h=UQe(u),p=QQe(n,r,s,A,d);return[h,p[0],p[1]]}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kz=2147483647;function sie(t,e,n,r,s,i,o){if(e.length>1)throw new Error("starts must be a scalar or vector");if(s.length>1)throw new Error("limits must be a scalar or vector");if(o.length>1)throw new Error("deltas must be a scalar or vector");const a=e.length===0,l=s.length===0,c=o.length===0,u=[];a||u.push(e[0]),l||u.push(s[0]),c||u.push(o[0]);for(let y=1;y<u.length;++y)if(u[y]!==u[y-1])throw new Error("starts, limits, and deltas must have the same shape");const A=u.length===0?1:u[0],d=As("int32",A+1);d[0]=0;for(let y=0;y<A;++y){const g=a?t[0]:t[y],v=l?r[0]:r[y],b=c?i[0]:i[y];if(b===0)throw new Error("Requires delta != 0");let C;if(b>0&&v<g||b<0&&v>g)C=0;else if(C=Math.ceil(Math.abs((v-g)/b)),C>kz)throw new Error(`Requires ((limit - start) / delta) <= ${kz}`);d[y+1]=d[y]+C}const h=d[A],p=As(n,h);let m=0;for(let y=0;y<A;++y){const g=d[y+1]-d[y];let v=a?t[0]:t[y];const b=c?i[0]:i[y];for(let C=0;C<g;++C)p[m++]=v,v+=b}return[d,p]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Rl=Yc;class q_{constructor(e,n,r,s,i,o,a,l,c,u){this.shape=e,this.shapeShape=n,this.values=r,this.valuesShape=s,this.valuesDType=i,this.defaultValue=o,this.defaultValueShape=a,this.rowPartitionValues=l,this.rowPartitionValuesShapes=c,this.rowPartitionTypes=Ute(u),this.raggedRank=Mte(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===Rl.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===Rl.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case Rl.VALUE_ROWIDS:return q_.getMaxWidthValueRowID(n);case Rl.ROW_SPLITS:return q_.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${Rl[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let r=0;for(let s=0;s<n-1;++s){const i=e[s+1]-e[s];i>r&&(r=i)}return r}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let r=0,s=e[0],i=0;for(let o=1;o<n;++o){const a=e[o];a!==s&&(s=a,i=Math.max(o-r,i),r=o)}return Math.max(n-r,i)}tensorShapeFromTensor(e,n,r=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return Fz(e,r)}calculateOutputSize(e){const n=this.valuesShape,r=this.defaultValueShape;Qte(r,n);const s=this.tensorShapeFromTensor(this.shape,this.shapeShape),o=$te(this.raggedRank,s,n);o[0]<0&&(o[0]=e);for(let a=1;a<=this.raggedRank;++a)o[a]<0&&(o[a]=this.getMaxWidth(a));return o}calculateFirstParentOutputIndex(e,n,r){const s=Math.min(e,r),i=[];let o=0;for(let a=0;a<s;++a,o+=n)i.push(o);for(let a=s;a<e;++a)i.push(-1);return ee(i.length===e,()=>"Final length of result must be equal to firstDimension."),i}calculateOutputIndexRowSplit(e,n,r,s){const i=e.length,o=[];for(let a=0;a<i-1;++a){const l=e[a+1]-e[a];let c=Math.min(s,l),u=n[a];u===-1&&(c=0);for(let A=0;A<c;++A)o.push(u),u+=r;for(let A=0;A<l-c;++A)o.push(-1)}if(i>0&&o.length!==e[i-1])throw new Error("Invalid row split size.");return o}calculateOutputIndexValueRowID(e,n,r,s){const i=e.length,o=[];if(i===0)return[];let a=0,l=e[0];if(l>=n.length)throw new Error(`Got currentValueRowId=${l}, which is not less than ${n.length}`);let c=n[l];o.push(c);for(let u=1;u<i;++u){const A=e[u];if(A===l)c>=0&&(++a,a<s?c+=r:c=-1);else{if(a=0,l=A,A>=n.length)throw new Error(`Got nextValueRowId=${A} which is not less than ${n.length}`);c=n[A]}o.push(c)}if(o.length!==e.length)throw new Error("Invalid row ids.");return o}calculateOutputIndex(e,n,r,s){const i=this.getRowPartitionTensor(e),o=this.getRowPartitionTypeByDimension(e);switch(o){case Rl.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(i,n,r,s);case Rl.ROW_SPLITS:if(i.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${i.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(i,n,r,s);default:throw new Error(`Unsupported partition type: ${Rl[o]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case Rl.FIRST_DIM_SIZE:return e[0];case Rl.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Rl.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${Rl[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),r=this.calculateOutputSize(n),s=new Array(this.raggedRank+1);s[s.length-1]=1;for(let l=s.length-2;l>=0;--l)s[l]=s[l+1]*r[l+1];const i=Fz(r,!1),o=As(this.valuesDType,Oe(i));if(s[0]*r[0]>0){let l=this.calculateFirstParentOutputIndex(n,s[0],r[0]);for(let c=1;c<=this.raggedRank;++c)l=this.calculateOutputIndex(c-1,l,s[c],r[c]);this.setOutput(this.raggedRank,l,o,i)}return[i,o]}setOutput(e,n,r,s){if(r.length===0)return;const i=this.values,o=r;let a=s.slice();a=a.slice(e+1);const l=Oe(a),c=n.length;let u=this.defaultValue;if(u.length!==l&&u.length!==1){const p=this.defaultValueShape;Te(()=>{const m=Se(u,p);u=em(m,a).dataSync()})}let A=0,d=0,h=0;for(let p=0;p<=c;++p){let m=p<c?n[p]:-1;if(m===h){++h;continue}if(d<h){const y=i.subarray(A*l),g=o.subarray(d*l),v=(h-d)*l;Tz(g,y,v)}if(p>=c){const y=r.length;m=Math.floor(y/l)}if(m>h)if(this.defaultValue.length===1)o.subarray(h*l,m*l).fill(this.defaultValue[0]),h=m;else for(;m>h;){const y=o.slice(h*l);Tz(y,u,l),++h}m<0?(A=p+1,d=h):(A=p,d=h,h=d+1)}}}function Tz(t,e,n){for(let r=0;r<n;r++)t[r]=e[r]}function Fz(t,e){const n=[];for(let r of t){if(r<0){if(!e)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function iie(t,e,n,r,s,i,o,a,l,c){return new q_(t,e,n,r,s,i,o,a,l,c).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oie(t,e,n,r){const s=t===e,i=t<e&&n<0,o=e<t&&n>1;if(s||i||o)return Ti(0,r);const a=Math.abs(Math.ceil((e-t)/n)),l=Ti(a,r);e<t&&n===1&&(n=-1),l[0]=t;for(let c=1;c<l.length;c++)l[c]=l[c-1]+n;return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aie=kA(t=>1/Math.sqrt(t)),jQe=Qf(h1,aie),HQe={kernelName:h1,backendName:"cpu",kernelFunc:jQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Up(t,e,n,r,s,i,o,a,l,c){const u=[r/s,s],A=t.values,d=e.values;if(r===0)return yn(n,e.dtype);const h=l instanceof Qs?l:yn(u,e.dtype);typeof l=="string"||typeof l=="number"?h.values.fill(l):typeof l=="boolean"&&h.values.fill(+l);for(let p=0;p<i;p++){const m=[];let y=0;for(let g=0;g<o;g++){const v=A[p*o+g];m.push(v),y+=v*a[g]}if(y<0||y>=r/s)throw new Error(`Invalid indices: ${m} does not index into ${n}`);for(let g=0;g<s;g++)c?h.values[y*s+g]+=d[p*s+g]:h.values[y*s+g]=e.rank===0?d[0]:d[p*s+g]}return h}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zQe=kA(t=>1/(1+Math.exp(-t))),lie=ur(y1,t=>1/(1+Math.exp(-t))),VQe={kernelName:y1,backendName:"cpu",kernelFunc:lie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cie(t,e,n,r,s){const i=VO(r,e,n),o=Oe(n),a=Qt(r);if(i){const A=WO(e,a);return s==="string"?t.slice(A,A+o):t.subarray(A,A+o)}const l=s==="string"?Sd(t):t,c=yn(r,s,l),u=yn(n,s);for(let A=0;A<u.size;++A){const d=u.indexToLoc(A),h=d.map((p,m)=>p+e[m]);u.set(c.get(...h),...d)}return s==="string"?ane(u.values):u.values}function km(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,size:o}=r;kt(s,"slice");const[a,l]=ek(s,i,o);HO(s,a,l);const c=n.data.get(s.dataId).values,u=cie(c,a,l,s.shape,s.dtype);return n.makeTensorInfo(l,s.dtype,u)}const WQe={kernelName:Jb,backendName:"cpu",kernelFunc:km};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uie(t,e,n,r,s,i,o){const a=e[0],l=i[0],c=new Array(l),u=new Array(a),A=e[1];if(l===0){if(a!==0)throw new Error(Kte(a));const y=As(n,0),g=As(s,0);return[y,[0,A],g,c,u]}let d=!0,h=0;const p=new Array(l).fill(0);for(let y=0;y<a;++y){const g=t[y*A];if(g<0)throw new Error(qte(y,g));if(g>=l)throw new Error(Xte(y,g,l));++p[g],d=d&&g>=h,h=g}let m=!0;for(let y=0;y<l;++y){const g=p[y]===0;c[y]=g,m=m&&!g,p[y]=Math.max(p[y],1),y>0&&(p[y]+=p[y-1])}if(m&&d){const y=t,g=r;for(let v=0;v<a;++v)u[v]=v;return[y,[a,A],g,c,u]}else{const y=p[l-1],g=As(n,y*A),v=As(s,y),b=new Array(l).fill(0);for(let C=0;C<a;++C){const _=t[C*A],I=b[_],F=(_===0?0:p[_-1])+I;b[_]++;for(let T=0;T<A;++T)g[F*A+T]=t[C*A+T];v[F]=r[C],u[C]=F}for(let C=0;C<l;++C)if(b[C]===0){const I=C===0?0:p[C-1];g[I*A+0]=C;for(let F=1;F<A;++F)g[I*A+F]=0;v[I]=o}return[g,[y,A],v,c,u]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Aie(t,e,n,r,s){const i=Oe(r),o=e[0],a=s.length,l=[];let c=1,u=-1;for(let y=0;y<a;++y){const g=s[y];if(g===-1){if(u!==-1)throw new Error(Yte(u,y));u=y,l.push(1)}else{if(g<0)throw new Error(Zte(y,g));c*=g,l.push(g)}}if(u!==-1){if(c<=0)throw new Error(Jte());const y=Math.trunc(i/c);if(c*y!==i)throw new Error(ene(r,l));l[u]=y}if(Oe(l)!==i)throw new Error(tne(r,l));const d=r.length,h=[];if(d>0){h[d-1]=1;for(let y=d-2;y>=0;--y)h[y]=h[y+1]*r[y+1]}const p=[];if(a>0){p[a-1]=1;for(let y=a-2;y>=0;--y)p[y]=p[y+1]*l[y+1]}const m=As(n,o*a);for(let y=0;y<o;++y){let g=0;for(let v=0;v<d;++v)g+=t[y*d+v]*h[v];for(let v=0;v<a;++v)m[y*a+v]=Math.trunc(g/p[v]),g%=p[v]}return[m,[o,a],l]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H$(t,e,n,r,s,i=!1,o=0){const a=r.length,l=[e[0],t.length/e[0]],c=l[1],A=a>0?s[a-1]+1:0;if(A<0)throw new Error(sL());const d=e.slice();d[0]=A;const h=d.reduce((b,C)=>b*C,1),p=As(n,h);if(a===0)return A>0&&p.fill(o),[p,d];if(A<=0)throw new Error(sL());let m=0,y=1,g=0,v=s[m];for(;;){let b=0;if(y<a){if(b=s[y],v===b){++y;continue}if(v>=b)throw new Error(nne())}if(v<0||v>=A)throw new Error(rne(v,A));v>g&&p.fill(o,g*c,v*c);for(let C=m;C<y;++C){const _=r[C];if(_<0||_>=l[0])throw new Error(sne(C,r[C],l[0]));for(let I=0;I<c;I++)p[v*c+I]+=t[_*c+I]}if(i)for(let C=0;C<c;C++)p[v*c+C]/=y-m;if(m=y,++y,g=v+1,v=b,y>a)break}return g<A&&p.fill(o,g*c,A*c),[p,d]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GQe=kA(t=>Math.sqrt(t)),KQe=ur(v1,t=>Math.sqrt(t)),qQe={kernelName:v1,backendName:"cpu",kernelFunc:KQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const die=Ns((t,e)=>{const n=t-e;return n*n}),XQe=ni(x1,die),YQe={kernelName:x1,backendName:"cpu",kernelFunc:XQe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hie=kA((t,e)=>{const{pattern:n,replaceGlobal:r,rewrite:s}=e;return t.replace(new RegExp(n,r?"g":""),s)}),ZQe=Qf(s2,hie),JQe={kernelName:s2,backendName:"cpu",kernelFunc:ZQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fie(t,e,n,r){const s=yn(t,e.dtype);for(let i=0;i<s.size;i++){const o=s.indexToLoc(i),a=new Array(o.length);for(let l=0;l<a.length;l++)a[l]=o[l]*n[l]+r[l];s.set(e.get(...a),...o)}return s}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class e8e{constructor(e,n,r,s,i,o){this.separator=uA(e),this.nGramWidths=n,this.leftPad=uA(r),this.rightPad=uA(s),this.padWidth=i,this.preserveShort=o}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const r=this.getPadWidth(n);return Math.max(0,e+2*r-n+1)}createNGrams(e,n,r,s,i,o){for(let a=0;a<i;++a){const l=this.getPadWidth(o),c=Math.max(0,l-a),u=Math.max(0,l-(i-(a+1))),A=o-(c+u),d=n+(c>0?0:a-l);let h=0;h+=c*this.leftPad.length;for(let v=0;v<A;++v)h+=e[d+v].length;h+=u*this.rightPad.length;const p=c+u+A-1;h+=p*this.separator.length,r[s+a]=new Uint8Array(h);const m=r[s+a];let y=0;const g=v=>v.forEach(b=>m[y++]=b);for(let v=0;v<c;++v)g(this.leftPad),g(this.separator);for(let v=0;v<A-1;++v)g(e[d+v]),g(this.separator);if(A>0){g(e[d+A-1]);for(let v=0;v<u;++v)g(this.separator),g(this.rightPad)}else{for(let v=0;v<u-1;++v)g(this.rightPad),g(this.separator);g(this.rightPad)}}}compute(e,n){const r=e.length,s=n.length;if(s>0){let l=n[0];if(l!==0)throw new Error(`First split value must be 0, got ${l}`);for(let c=1;c<s;++c){let u=n[c]>=l;if(u=u&&n[c]<=r,!u)throw new Error(`Invalid split value ${n[c]}, must be in [${l}, ${r}]`);l=n[c]}if(l!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${l}`)}const i=s-1,o=As("int32",s);if(r===0||s===0){const l=new Array(r);for(let c=0;c<=i;++c)o[c]=0;return[l,o]}o[0]=0;for(let l=1;l<=i;++l){const c=n[l]-n[l-1];let u=0;this.nGramWidths.forEach(A=>{u+=this.getNumNGrams(c,A)}),this.preserveShort&&c>0&&u===0&&(u=1),o[l]=o[l-1]+u}const a=new Array(o[i]);for(let l=0;l<i;++l){const c=n[l];let u=o[l];if(this.nGramWidths.forEach(A=>{const d=n[l+1]-n[l],h=this.getNumNGrams(d,A);this.createNGrams(e,c,a,u,h,A),u+=h}),this.preserveShort&&u===o[l]){const A=n[l+1]-n[l];if(A===0)continue;const d=A+2*this.padWidth;this.createNGrams(e,c,a,u,1,d)}}return[a,o]}}function pie(t,e,n,r,s,i,o,a){return new e8e(n,r,s,i,o,a).compute(t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t8e(t,e,n,r){if(!t.length)return;if(e.length===0){for(let i=0;i<t.length;++i)r.push(t.subarray(i,i+1));return}if(e.length===1){const i=e[0];let o=t.indexOf(i);for(;o!==-1;){const a=t.subarray(0,o);(!n||a.length!==0)&&r.push(a),t=t.subarray(o+1),o=t.indexOf(i)}(!n||t.length!==0)&&r.push(t);return}let s=0;for(let i=0;i<t.length+1;i++)if(i===t.length||e.indexOf(t[i])!==-1){const o=t.subarray(s,i);(!n||o.length!==0)&&r.push(o),s=i+1}}function mie(t,e,n){const r=t.length,s=[];let i=0,o=0;const a=new Array(r);for(let d=0;d<r;++d){const h=s.length;t8e(t[d],e,n,s);const p=s.length-h;a[d]=p,i+=p,o=Math.max(o,p)}const l=As("int32",i*2),c=new Array(i),u=[r,o];let A=0;for(let d=0;d<r;++d)for(let h=0;h<a[d];++h)l[A*2]=d,l[A*2+1]=h,c[A]=s[A],++A;return[l,c,u]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gie(t,e){const n=As("int32",t.length);for(let r=0;r<t.length;++r)n[r]=GJ(t[r]).modulo(e).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yie=Ns((t,e)=>t-e),n8e=U$((t,e,n,r)=>({real:t-n,imag:e-r})),z$=ni(b1,yie,n8e),r8e={kernelName:b1,backendName:"cpu",kernelFunc:z$};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wie(t,e){const n=new Array(t.rank);for(let s=0;s<n.length;s++)n[s]=t.shape[s]*e[s];const r=yn(n,t.dtype);for(let s=0;s<r.values.length;++s){const i=r.indexToLoc(s),o=new Array(t.rank);for(let l=0;l<o.length;l++)o[l]=i[l]%t.shape[l];const a=t.locToIndex(o);r.values[s]=t.values[a]}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qw=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function vie(t,e,n=0,r=t.length-1){for(;r>n;){if(r-n>600){const a=r-n+1,l=e-n+1,c=Math.log(a),u=.5*Math.exp(2*c/3),A=.5*Math.sqrt(c*u*(a-u)/a)*Math.sign(l-a/2),d=Math.max(n,Math.floor(e-l*u/a+A)),h=Math.min(r,Math.floor(e+(a-l)*u/a+A));vie(t,e,d,h)}const s=t[e];let i=n,o=r;for(sd(t,n,e),qw(t[r],s)>0&&sd(t,n,r);i<o;){for(sd(t,i,o),i++,o--;qw(t[i],s)<0;)i=i+1;for(;qw(t[o],s)>0;)o=o-1}qw(t[n],s)===0?sd(t,n,o):(o=o+1,sd(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}}function xie(t,e,n,r,s){const i=e[e.length-1],[o,a]=[t.length/i,i],l=gi(n,o*r),c=gi("int32",o*r);for(let A=0;A<o;A++){const d=A*a,h=t.subarray(d,d+a);let p=new Array(h.length);h.forEach((v,b)=>p[b]={value:v,index:b}),r<p.length&&(vie(p,r),p=p.slice(0,r)),s&&p.sort(qw);const m=A*r,y=l.subarray(m,m+r),g=c.subarray(m,m+r);for(let v=0;v<r;v++)y[v]=p[v].value,g[v]=p[v].index}const u=e.slice();return u[u.length-1]=r,[yn(u,n,l),yn(u,"int32",c)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bie(t,e,n,r){const s=Nn(e,n)[0],i=[1,n[0],1];for(let p=0;p<s;p++)i[0]*=n[p];i[1]=n[s];for(let p=s+1;p<n.length;p++)i[2]*=n[p];const o=new Map,a=new Int32Array(n[s]),l=new Qs(i,r,t),c=[],u=i[0]===1&&i[2]===1;for(let p=0;p<n[s];p++){let m;if(u)m=t[p].toString();else{const g=[];for(let v=0;v<i[0];v++)for(let b=0;b<i[2];b++)g.push(l.get(v,p,b));m=g.join(",")}const y=o.get(m);if(y!=null)a[p]=y;else{const g=o.size;o.set(m,g),a[p]=g,c.push(p)}}const A=i.slice();A[1]=o.size;const d=new Qs(A,r);c.forEach((p,m)=>{for(let y=0;y<i[0];y++)for(let g=0;g<i[2];g++)d.set(l.get(y,p,g),y,m,g)});const h=n.slice();return h[s]=A[1],{outputValues:d.values,outputShape:h,indices:a}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s8e=Object.freeze(Object.defineProperty({__proto__:null,addImpl:Tse,bincountImpl:M$,bincountReduceImpl:Fse,bitwiseAndImpl:Lse,castImpl:kse,ceilImpl:Dse,concatImpl:Pse,equalImpl:Rse,expImpl:$se,expm1Impl:Mse,floorDivImpl:jse,floorImpl:Qse,gatherNdImpl:Hse,gatherV2Impl:zse,greaterEqualImpl:Wse,greaterImpl:Vse,lessEqualImpl:Kse,lessImpl:Gse,linSpaceImpl:qse,logImpl:Xse,maxImpl:Yse,maximumImpl:Zse,minimumImpl:Jse,multiplyImpl:Q$,negImpl:eie,notEqualImpl:tie,prodImpl:nie,raggedGatherImpl:rie,raggedRangeImpl:sie,raggedTensorToTensorImpl:iie,rangeImpl:oie,rsqrtImpl:aie,scatterImpl:Up,sigmoidImpl:zQe,simpleAbsImpl:Ese,sliceImpl:cie,sparseFillEmptyRowsImpl:uie,sparseReshapeImpl:Aie,sparseSegmentReductionImpl:H$,sqrtImpl:GQe,squaredDifferenceImpl:die,staticRegexReplaceImpl:hie,stridedSliceImpl:fie,stringNGramsImpl:pie,stringSplitImpl:mie,stringToHashBucketFastImpl:gie,subImpl:yie,tileImpl:wie,topKImpl:xie,transposeImpl:j$,uniqueImpl:bie},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */yR("cpu",()=>new fk,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cie=ur(Vy,t=>t>=0?t:Math.exp(t)-1),i8e={kernelName:Vy,backendName:"cpu",kernelFunc:Cie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sie(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{alpha:i}=r;kt([s],"leakyRelu");const o=Oe(s.shape),a=n.data.get(s.dataId).values,l=gi("float32",o);for(let c=0;c<a.length;c++)l[c]=a[c]<0?i*a[c]:a[c];return n.makeTensorInfo(s.shape,"float32",l)}const o8e={kernelName:Nb,backendName:"cpu",kernelFunc:Sie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a8e=Ns((t,e)=>t<0?e*t:t);function Bie(t){const{inputs:e,backend:n}=t,{x:r,alpha:s}=e;kt([r,s],"prelu");const i=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,[a,l]=a8e(r.shape,s.shape,i,o,"float32");return n.makeTensorInfo(l,"float32",a)}const l8e={kernelName:Wb,backendName:"cpu",kernelFunc:Bie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _ie=ur(u1,t=>Math.max(0,t)),c8e={kernelName:u1,backendName:"cpu",kernelFunc:_ie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nie=ur(A1,t=>Math.min(Math.max(0,t),6)),u8e={kernelName:A1,backendName:"cpu",kernelFunc:Nie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X_(t,e,n,r,s){if(n==="linear")return CA({inputs:{x:e},backend:t});if(n==="relu")return _ie({inputs:{x:e},backend:t});if(n==="elu")return Cie({inputs:{x:e},backend:t});if(n==="relu6")return Nie({inputs:{x:e},backend:t});if(n==="prelu")return Bie({inputs:{x:e,alpha:r},backend:t});if(n==="leakyrelu")return Sie({inputs:{x:e},backend:t,attrs:{alpha:s}});if(n==="sigmoid")return lie({inputs:{x:e},backend:t});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kr(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{shape:i}=r,o=Oe(s.shape),a=aR(i,o),l=Oe(a);ee(o===l,()=>`The new shape (${a}) has ${l} elements and the old shape (${s.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`),n.incRef(s.dataId);const c=n.data.get(s.dataId);if(c.complexTensorInfos!=null){const u=c.complexTensorInfos.real,A=c.complexTensorInfos.imag;u.shape=a,A.shape=a}return{dataId:s.dataId,shape:a,dtype:s.dtype}}const A8e={kernelName:Kb,backendName:"cpu",kernelFunc:kr};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Iie(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i}=e,{transposeA:o,transposeB:a}=r;kt([s,i],"matMul");const l=s.shape.length,c=i.shape.length,u=o?s.shape[l-2]:s.shape[l-1],A=a?i.shape[c-1]:i.shape[c-2],d=o?s.shape[l-1]:s.shape[l-2],h=a?i.shape[c-2]:i.shape[c-1],p=s.shape.slice(0,-2),m=i.shape.slice(0,-2),y=Oe(p),g=Oe(m),b=un(s.shape.slice(0,-2),i.shape.slice(0,-2)).concat([d,h]);ee(u===A,()=>`Error in matMul: inner shapes (${u}) and (${A}) of Tensors with shapes ${s.shape} and ${i.shape} and transposeA=${o} and transposeB=${a} must match.`);const C=o?[y,u,d]:[y,d,u],_=a?[g,h,A]:[g,A,h],I=kr({inputs:{x:s},backend:n,attrs:{shape:C}}),F=kr({inputs:{x:i},backend:n,attrs:{shape:_}}),T=o?I.shape[1]:I.shape[2],D=o?I.shape[2]:I.shape[1],H=a?F.shape[1]:F.shape[2],R=Math.max(y,g),U=n.data.get(I.dataId).values,W=n.data.get(F.dataId).values,$=Qt(I.shape),Y=Qt(F.shape),[J,oe,V]=o?[$[0],1,$[1]]:[$[0],$[1],1],[Z,le,ce]=a?[1,Y[1],Y[0]]:[Y[1],1,Y[0]],M=D*H,G=yn([R,D,H],I.dtype),X=G.values,re=n.blockSize;for(let ue=0;ue<R;ue++){const de=ue%y,we=ue%g;for(let Ce=0;Ce<D;Ce+=re){const Ne=Math.min(Ce+re,D);for(let Ee=0;Ee<H;Ee+=re){const Ue=Math.min(Ee+re,H);for(let ze=0;ze<T;ze+=re){const tt=Math.min(ze+re,T);for(let Ae=Ce;Ae<Ne;Ae++)for(let Ge=Ee;Ge<Ue;Ge++){let At=0;for(let rt=ze;rt<tt;rt++){const We=U[de*J+Ae*oe+rt*V],dt=W[rt*Z+Ge*le+we*ce];At+=We*dt}X[ue*M+(Ae*H+Ge)]+=At}}}}}return n.disposeIntermediateTensorInfo(I),n.disposeIntermediateTensorInfo(F),n.makeTensorInfo(b,G.dtype,G.values)}const d8e={kernelName:Ab,backendName:"cpu",kernelFunc:Iie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h8e(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i,bias:o,preluActivationWeights:a}=e,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:A}=r;let d,h,p;const m=[];d=Iie({inputs:{a:s,b:i},attrs:{transposeA:l,transposeB:c},backend:n}),o&&(h=uy({inputs:{a:d,b:o},backend:n}),m.push(d),d=h),u&&(p=X_(n,d,u,a,A),m.push(d),d=p);for(const g of m)n.disposeIntermediateTensorInfo(g);return d}const f8e={kernelName:dx,backendName:"cpu",kernelFunc:h8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p8e=ur(Fy,t=>Math.acos(t)),m8e={kernelName:Fy,backendName:"cpu",kernelFunc:p8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g8e=ur(Ly,t=>Math.acosh(t)),y8e={kernelName:Ly,backendName:"cpu",kernelFunc:g8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w8e(t){const{inputs:e,backend:n}=t,r=e;kt(e,"addN");const s=r.map(a=>n.data.get(a.dataId).values),i=yn(r[0].shape,r[0].dtype),o=i.values;for(let a=0;a<r.length;a++){const l=s[a];for(let c=0;c<o.length;c++)o[c]+=l[c]}return n.makeTensorInfo(i.shape,i.dtype,i.values)}const v8e={kernelName:ob,backendName:"cpu",kernelFunc:w8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r;kt(s,"all");const a=Nn(i,s.shape);let l=a;const c=rs(l,s.shape.length);let u=s;c!=null&&(u=ta({inputs:{x:s},backend:n,attrs:{perm:c}}),l=Bs(l.length,s.shape.length)),Di("all",l,u.shape.length);const[A,d]=vi(u.shape,l),h=Oe(d),p=Ti(Oe(A),u.dtype),m=n.data.get(u.dataId).values;for(let g=0;g<p.length;++g){const v=g*h;let b=m[v];for(let C=0;C<h;++C){const _=m[v+C];b=b&&_}p[g]=b}c!=null&&n.disposeIntermediateTensorInfo(u);const y=n.makeTensorInfo(A,u.dtype,p);if(o){const g=Ss(A,a),v=kr({inputs:{x:y},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(y),v}return y}const b8e={kernelName:cI,backendName:"cpu",kernelFunc:x8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r;kt(s,"any");const a=Nn(i,s.shape);let l=a;const c=rs(l,s.shape.length);let u=s;c!=null&&(u=ta({inputs:{x:s},backend:n,attrs:{perm:c}}),l=Bs(l.length,s.shape.length)),Di("any",l,u.shape.length);const[A,d]=vi(u.shape,l),h=Oe(d),p=Ti(Oe(A),u.dtype),m=n.data.get(u.dataId).values;for(let g=0;g<p.length;++g){const v=g*h;let b=m[v];for(let C=0;C<h;++C){const _=m[v+C];b=b||_}p[g]=b}c!=null&&n.disposeIntermediateTensorInfo(u);const y=n.makeTensorInfo(A,u.dtype,p);if(o){const g=Ss(A,a),v=kr({inputs:{x:y},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(y),v}return y}const S8e={kernelName:uI,backendName:"cpu",kernelFunc:C8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;kt(s,"argMax");let o=Nn(i,s.shape);const a=rs(o,s.shape.length);let l=s;const c=[];a!=null&&(l=ta({inputs:{x:s},backend:n,attrs:{perm:a}}),c.push(l),o=Bs(o.length,l.shape.length)),o=[o[0]],Di("argMax",o,l.shape.length);const[u,A]=vi(l.shape,o),d=Oe(u),h=Ti(d,"int32"),p=Oe(A),m=n.data.get(l.dataId).values;for(let y=0;y<h.length;++y){const g=y*p;let v=m[g],b=0;for(let C=0;C<p;++C){const _=m[g+C];_>v&&(v=_,b=C)}h[y]=b}return c.forEach(y=>n.disposeIntermediateTensorInfo(y)),n.makeTensorInfo(u,"int32",h)}const _8e={kernelName:ab,backendName:"cpu",kernelFunc:B8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;kt(s,"argMin");let o=Nn(i,s.shape);const a=rs(o,s.shape.length);let l=s;const c=[];a!=null&&(l=ta({inputs:{x:s},backend:n,attrs:{perm:a}}),c.push(l),o=Bs(o.length,l.shape.length)),o=[o[0]],Di("argMin",o,l.shape.length);const[u,A]=vi(l.shape,o),d=Oe(u),h=Ti(d,"int32"),p=Oe(A),m=n.data.get(l.dataId).values;for(let y=0;y<h.length;++y){const g=y*p;let v=m[g],b=0;for(let C=0;C<p;++C){const _=m[g+C];_<v&&(v=_,b=C)}h[y]=b}return c.forEach(y=>n.disposeIntermediateTensorInfo(y)),n.makeTensorInfo(u,"int32",h)}const I8e={kernelName:lb,backendName:"cpu",kernelFunc:N8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E8e=ur(Dy,t=>Math.asin(t)),k8e={kernelName:Dy,backendName:"cpu",kernelFunc:E8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T8e=ur(Py,t=>Math.asinh(t)),F8e={kernelName:Py,backendName:"cpu",kernelFunc:T8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L8e=ur(Ry,t=>Math.atan(t)),D8e={kernelName:Ry,backendName:"cpu",kernelFunc:L8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P8e=Ns((t,e)=>Math.atan2(t,e)),R8e=ni($y,P8e),O8e={kernelName:$y,backendName:"cpu",kernelFunc:R8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $8e=ur(Oy,t=>Math.atanh(t)),U8e={kernelName:Oy,backendName:"cpu",kernelFunc:$8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V$(t,e,n,r,s,i){const o=s.strideHeight,a=s.strideWidth,l=s.dilationHeight,c=s.dilationWidth,u=s.effectiveFilterHeight,A=s.effectiveFilterWidth,d=s.padInfo.top,h=s.padInfo.left,p=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=yn(s.outShape,n),y=m.values,g=s.outShape[1]*s.outShape[2]*s.outShape[3],v=s.outShape[2]*s.outShape[3],b=s.outShape[3];for(let C=0;C<s.batchSize;++C){const _=C*g,I=C*r[0];for(let F=0;F<s.inChannels;++F)for(let T=0;T<s.outHeight;++T){const D=T*o-d,H=Math.max(0,D),R=Math.min(s.inHeight,u+D),U=_+T*v;for(let W=0;W<s.outWidth;++W){const $=W*a-h,Y=Math.max(0,$),J=Math.min(s.inWidth,A+$);let oe=p,V=0,Z=0;for(let ce=H;ce<R;ce+=l){const M=I+ce*r[1];for(let G=Y;G<J;G+=c){const X=M+G*r[2],re=t[X+F];i==="max"&&re>oe?oe=re:i==="avg"&&(V+=re,Z++)}if(isNaN(oe))break}const le=U+W*b+F;y[le]=i==="avg"?V/Z:oe}}}return m}function Eie(t,e,n,r,s=!1,i=!1){const o=yn(r.outShape,"int32"),a=r.strideHeight,l=r.strideWidth,c=r.dilationHeight,u=r.dilationWidth,A=r.effectiveFilterHeight,d=r.effectiveFilterWidth,h=r.padInfo.top,p=r.padInfo.left,m=yn(e,n,t);for(let y=0;y<r.batchSize;++y)for(let g=0;g<r.inChannels;++g)for(let v=0;v<r.outHeight;++v){const b=v*a-h;let C=b;for(;C<0;)C+=c;const _=Math.min(r.inHeight,A+b);for(let I=0;I<r.outWidth;++I){const F=I*l-p;let T=F;for(;T<0;)T+=u;const D=Math.min(r.inWidth,d+F);let H=Number.NEGATIVE_INFINITY,R=-1;for(let U=C;U<_;U+=c){const W=U-b;for(let $=T;$<D;$+=u){const Y=$-F,J=m.get(y,U,$,g);J>H&&(H=J,s?R=i?((y*r.inHeight+U)*r.inWidth+$)*r.inChannels+g:(U*r.inWidth+$)*r.inChannels+g:R=W*d+Y)}}o.set(R,y,v,I,g)}}return o}function kie(t,e,n,r,s,i){const o=s.strideDepth,a=s.strideHeight,l=s.strideWidth,c=s.dilationDepth,u=s.dilationHeight,A=s.dilationWidth,d=s.effectiveFilterDepth,h=s.effectiveFilterHeight,p=s.effectiveFilterWidth,m=s.padInfo.front,y=s.padInfo.top,g=s.padInfo.left,v=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=yn(s.outShape,n),C=b.values,_=s.outShape[1]*s.outShape[2]*s.outShape[3]*s.outShape[4],I=s.outShape[2]*s.outShape[3]*s.outShape[4],F=s.outShape[3]*s.outShape[4],T=s.outShape[4];for(let D=0;D<s.batchSize;++D){const H=D*_,R=D*r[0];for(let U=0;U<s.inChannels;++U)for(let W=0;W<s.outDepth;++W){const $=W*o-m;let Y=$;for(;Y<0;)Y+=c;const J=Math.min(s.inDepth,d+$),oe=H+W*I;for(let V=0;V<s.outHeight;++V){const Z=V*a-y;let le=Z;for(;le<0;)le+=u;const ce=Math.min(s.inHeight,h+Z),M=oe+V*F;for(let G=0;G<s.outWidth;++G){const X=G*l-g;let re=X;for(;re<0;)re+=A;const ue=Math.min(s.inWidth,p+X),de=M+G*T;let we=v,Ce=0,Ne=0;for(let Ue=Y;Ue<J;Ue+=c){const ze=R+Ue*r[1];for(let tt=le;tt<ce;tt+=u){const Ae=ze+tt*r[2];for(let Ge=re;Ge<ue;Ge+=A){const At=Ae+Ge*r[3],rt=t[At+U];if(i==="max"&&rt>we?we=rt:i==="avg"&&(Ce+=rt,Ne++),isNaN(we))break}if(isNaN(we))break}if(isNaN(we))break}const Ee=de+U;C[Ee]=i==="avg"?Ce/Math.max(Ne,1):we}}}}return b}function M8e(t,e){const n=yn(e.outShape,"int32"),r=e.strideDepth,s=e.strideHeight,i=e.strideWidth,o=e.dilationDepth,a=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,u=e.effectiveFilterHeight,A=e.effectiveFilterWidth,d=e.padInfo.front,h=e.padInfo.top,p=e.padInfo.left;for(let m=0;m<e.batchSize;++m)for(let y=0;y<e.inChannels;++y)for(let g=0;g<e.outDepth;++g){const v=g*r-d;let b=v;for(;b<0;)b+=o;const C=Math.min(e.inDepth,c+v);for(let _=0;_<e.outHeight;++_){const I=_*s-h;let F=I;for(;F<0;)F+=a;const T=Math.min(e.inHeight,u+I);for(let D=0;D<e.outWidth;++D){const H=D*i-p;let R=H;for(;R<0;)R+=l;const U=Math.min(e.inWidth,A+H);let W=Number.NEGATIVE_INFINITY,$=-1;for(let Y=b;Y<C;Y+=o){const J=Y-v;for(let oe=F;oe<T;oe+=a){const V=oe-I;for(let Z=R;Z<U;Z+=l){const le=Z-H,ce=t.get(m,Y,oe,Z,y);ce>=W&&(W=ce,$=J*u*A+V*u+le)}}}n.set($,m,g,_,D,y)}}}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;kt(s,"avgPool");const{filterSize:i,strides:o,pad:a,dimRoundingMode:l}=r,c=1;ee(Li(o,c),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${c}'`);const u=cc(s.shape,i,o,c,a,l);let A;if(u.filterWidth===1&&u.filterHeight===1&&Tn(u.inShape,u.outShape))A=CA({inputs:{x:s},backend:n});else{const d=n.data.get(s.dataId).values,h=Qt(s.shape),p=V$(d,s.shape,s.dtype,h,u,"avg");A=n.makeTensorInfo(u.outShape,s.dtype,p.values)}return A}const j8e={kernelName:cb,backendName:"cpu",kernelFunc:Q8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:o,pad:a,dimRoundingMode:l,dataFormat:c}=r;kt(s,"avgPool3d");const u=Id(s.shape,i,o,1,a,l,c),A=n.data.get(s.dataId).values,d=kie(A,s.shape,s.dtype,Qt(s.shape),u,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}const z8e={kernelName:ub,backendName:"cpu",kernelFunc:H8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V8e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,{filterSize:o,strides:a,pad:l,dimRoundingMode:c}=r;kt([s,i],"avgPool3DGrad");const u=Id(i.shape,o,a,1,l,c),A=u.strideDepth,d=u.strideHeight,h=u.strideWidth,p=u.filterDepth,m=u.filterHeight,y=u.filterWidth,g=u.dilationDepth,v=u.dilationHeight,b=u.dilationWidth,C=u.effectiveFilterDepth,_=u.effectiveFilterHeight,I=u.effectiveFilterWidth,F=C-1-u.padInfo.front,T=I-1-u.padInfo.left,D=_-1-u.padInfo.top,H=yn(i.shape,"float32"),R=1/(p*m*y),U=n.bufferSync(s);for(let W=0;W<u.batchSize;++W)for(let $=0;$<u.inChannels;++$)for(let Y=0;Y<u.inDepth;++Y)for(let J=0;J<u.inHeight;++J)for(let oe=0;oe<u.inWidth;++oe){const V=Y-F,Z=J-D,le=oe-T;let ce=0;for(let M=0;M<C;M+=g){const G=(V+M)/A;if(!(G<0||G>=u.outDepth||Math.floor(G)!==G))for(let X=0;X<_;X+=v){const re=(Z+X)/d;if(!(re<0||re>=u.outHeight||Math.floor(re)!==re))for(let ue=0;ue<I;ue+=b){const de=(le+ue)/h;if(de<0||de>=u.outWidth||Math.floor(de)!==de)continue;const we=U.get(W,G,re,de,$);ce+=we}}}H.set(ce*R,W,Y,J,oe,$)}return n.makeTensorInfo(H.shape,H.dtype,H.values)}const W8e={kernelName:dI,backendName:"cpu",kernelFunc:V8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G8e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,o=i;kt([s,i],"avgPoolGrad");const{filterSize:a,strides:l,pad:c}=r,u=cc(o.shape,a,l,1,c),A=u.strideHeight,d=u.strideWidth,h=u.filterHeight,p=u.filterWidth,m=u.dilationHeight,y=u.dilationWidth,g=u.effectiveFilterHeight,v=u.effectiveFilterWidth,b=v-1-u.padInfo.left,C=g-1-u.padInfo.top,_=yn(o.shape,"float32"),I=1/(h*p),F=n.data.get(s.dataId).values,T=yn(s.shape,"float32",F);for(let D=0;D<u.batchSize;++D)for(let H=0;H<u.inChannels;++H)for(let R=0;R<u.inHeight;++R)for(let U=0;U<u.inWidth;++U){const W=R-C,$=U-b;let Y=0;for(let J=0;J<g;J+=m){const oe=(W+J)/A;if(!(oe<0||oe>=u.outHeight||Math.floor(oe)!==oe))for(let V=0;V<v;V+=y){const Z=($+V)/d;if(Z<0||Z>=u.outWidth||Math.floor(Z)!==Z)continue;const le=T.get(D,oe,Z,H);Y+=le}}_.set(Y*I,D,R,U,H)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}const K8e={kernelName:AI,backendName:"cpu",kernelFunc:G8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,scale:i,offset:o,mean:a,variance:l}=e;ee(a.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),ee(o==null||a.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),ee(i==null||a.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),kt([s,a,l,i,o],"batchNorm");let{varianceEpsilon:c}=r;c==null&&(c=.001);const u=n.data.get(s.dataId).values,A=n.data.get(a.dataId).values,d=n.data.get(l.dataId).values,h=i?n.data.get(i.dataId).values:new Float32Array([1]),p=o?n.data.get(o.dataId).values:new Float32Array([0]),m=new Float32Array(u.length),y=p.length,g=h.length,v=d.length,b=A.length;let C=0,_=0,I=0,F=0;for(let T=0;T<u.length;++T)m[T]=p[C++]+(u[T]-A[_++])*h[I++]/Math.sqrt(d[F++]+c),C>=y&&(C=0),_>=b&&(_=0),I>=g&&(I=0),F>=v&&(F=0);return n.makeTensorInfo(s.shape,s.dtype,m)}const X8e={kernelName:Sb,backendName:"cpu",kernelFunc:q8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,crops:o}=r;kt([s],"batchToSpaceND");const a=i.reduce((g,v)=>g*v),l=I2(s.shape,i,a),c=E2(l.length,i.length),u=k2(s.shape,i,a),A=ZO(o,i.length),d=JO(u,o,i.length),h=kr({inputs:{x:s},backend:n,attrs:{shape:l}}),p=ta({inputs:{x:h},backend:n,attrs:{perm:c}}),m=kr({inputs:{x:p},backend:n,attrs:{shape:u}}),y=km({inputs:{x:m},backend:n,attrs:{begin:A,size:d}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),y}const Z8e={kernelName:db,backendName:"cpu",kernelFunc:Y8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:o}=r,a=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,c=M$(a,l,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,c)}const eje={kernelName:hI,backendName:"cpu",kernelFunc:J8e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tje(t){const{inputs:e,backend:n}=t,{s0:r,s1:s}=e,i=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,a=un(Array.from(i),Array.from(o));return n.makeTensorInfo([a.length],"int32",Int32Array.from(a))}const nje={kernelName:fI,backendName:"cpu",kernelFunc:tje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rje=ur(Qy,(t,e)=>{const n=e;return t>n.clipValueMax?n.clipValueMax:t<n.clipValueMin?n.clipValueMin:t}),sje={kernelName:Qy,backendName:"cpu",kernelFunc:rje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ije=t=>{const{x:e}=t.inputs,n=t.backend,r=new Float32Array(Oe(e.shape)),s=n.data.get(e.dataId),i=s.complexTensorInfos.real,o=s.complexTensorInfos.imag,a=n.data.get(i.dataId).values,l=n.data.get(o.dataId).values;for(let c=0;c<a.length;c++){const u=a[c],A=l[c];r[c]=Math.hypot(u,A)}return n.makeOutput(r,e.shape,"float32")},oje={kernelName:fb,backendName:"cpu",kernelFunc:ije};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ay(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,i)}const aje={kernelName:DI,backendName:"cpu",kernelFunc:Ay};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dy(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r,i=Nn(s,e[0].shape)[0],o=e.map(m=>m.shape);qO(o,i);let a=dA(e.map(m=>m.shape),i);if(Oe(a)===0)return n.makeTensorInfo(a,e[0].dtype,[]);const l=e.filter(m=>Oe(m.shape)>0);if(l.length===1)return CA({inputs:{x:l[0]},backend:n});if(l[0].dtype==="complex64"){const m=l.map(C=>Em({inputs:{input:C},backend:n})),y=l.map(C=>Ay({inputs:{input:C},backend:n})),g=dy({inputs:m,backend:n,attrs:{axis:i}}),v=dy({inputs:y,backend:n,attrs:{axis:i}}),b=_a({inputs:{real:g,imag:v},backend:n});return m.forEach(C=>n.disposeIntermediateTensorInfo(C)),y.forEach(C=>n.disposeIntermediateTensorInfo(C)),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(v),b}const c=l.map(m=>{const g=[-1,Oe(m.shape.slice(i))];return kr({inputs:{x:m},backend:n,attrs:{shape:g}})}),u=c.map(m=>({vals:n.data.get(m.dataId).values,shape:m.shape}));a=dA(c.map(m=>m.shape),1);const A=c[0].shape[0]===1,d=Pse(u,a,e[0].dtype,A),h=dA(l.map(m=>m.shape),i),p=n.makeTensorInfo(h,e[0].dtype,d);return c.forEach(m=>n.disposeIntermediateTensorInfo(m)),p}const lje={kernelName:pb,backendName:"cpu",kernelFunc:dy};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tie(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dataFormat:l,dilations:c,dimRoundingMode:u}=r;kt([s,i],"conv2d");const A=Ed(l),d=wi(s.shape,i.shape,o,c,a,u,!1,A),h=d.filterHeight,p=d.filterWidth,m=d.dilationHeight,y=d.dilationWidth,g=d.padInfo.left,v=d.padInfo.top,b=d.dataFormat==="channelsLast",C=new Qs(d.outShape,s.dtype),_=Qt(s.shape),I=Qt(i.shape),F=_[0],T=b?_[1]:_[2],D=b?_[2]:1,H=b?1:_[1],R=C.strides[0],U=b?C.strides[1]:C.strides[2],W=b?C.strides[2]:1,$=b?1:C.strides[1],Y=n.data.get(s.dataId).values,J=n.data.get(i.dataId).values,oe=C.values;for(let V=0;V<d.batchSize;++V){const Z=V*F,le=V*R;for(let ce=0;ce<d.outHeight;++ce){const M=le+ce*U,G=ce*d.strideHeight-v;for(let X=0;X<h;++X){const re=G+X*m;if(re<0||re>=d.inHeight)continue;const ue=X*I[0],de=Z+re*T;for(let we=0;we<d.outWidth;++we){const Ce=M+we*W,Ne=we*d.strideWidth-g;for(let Ee=0;Ee<p;++Ee){const Ue=Ne+Ee*y;if(Ue<0||Ue>=d.inWidth)continue;const ze=ue+Ee*I[1],tt=de+Ue*D;let Ae=ze;for(let Ge=0;Ge<d.inChannels;++Ge){const At=Y[tt+Ge*H];for(let rt=0;rt<d.outChannels;++rt)oe[Ce+rt*$]+=At*J[Ae+rt];Ae+=d.outChannels}}}}}}return n.makeTensorInfo(C.shape,C.dtype,oe)}const cje={kernelName:mb,backendName:"cpu",kernelFunc:Tie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:o,pad:a,dataFormat:l,dimRoundingMode:c,filterShape:u}=r;kt([s,i],"conv2dBackpropFilter");const A=Ed(l),d=wi(s.shape,u,o,1,a,c,!1,A),{strideHeight:h,strideWidth:p,filterHeight:m,filterWidth:y}=d,g=d.dataFormat==="channelsLast",v=new Qs(d.filterShape,"float32"),b=d.padInfo.left,C=d.padInfo.top,_=n.data.get(s.dataId).values,I=n.data.get(i.dataId).values,F=new Qs(s.shape,s.dtype,_),T=new Qs(i.shape,i.dtype,I);for(let D=0;D<m;++D){const H=Math.max(0,Math.ceil((C-D)/h)),R=Math.min(d.outHeight,(d.inHeight+C-D)/h);for(let U=0;U<y;++U){const W=Math.max(0,Math.ceil((b-U)/p)),$=Math.min(d.outWidth,(d.inWidth+b-U)/p);for(let Y=0;Y<d.inChannels;++Y)for(let J=0;J<d.outChannels;++J){let oe=0;for(let V=0;V<d.batchSize;++V)for(let Z=H;Z<R;++Z){const le=D+Z*h-C;for(let ce=W;ce<$;++ce){const M=U+ce*p-b;g?oe+=F.get(V,le,M,Y)*T.get(V,Z,ce,J):oe+=F.get(V,Y,le,M)*T.get(V,J,Z,ce)}}v.set(oe,D,U,Y,J)}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const Aje={kernelName:mI,backendName:"cpu",kernelFunc:uje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dje(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{inputShape:o,strides:a,pad:l,dataFormat:c,dimRoundingMode:u}=r;kt([s,i],"conv2dBackpropInput");const A=Qt(i.shape),d=Qt(s.shape);let h=Ed(c);const p=wi(o,i.shape,a,1,l,u,!1,h),m=new Qs(p.inShape,"float32"),y=m.values,g=n.data.get(s.dataId).values,v=n.data.get(i.dataId).values,[b,C,_]=A,{batchSize:I,filterHeight:F,filterWidth:T,inChannels:D,inHeight:H,inWidth:R,outChannels:U,outHeight:W,outWidth:$,strideHeight:Y,strideWidth:J}=p;h=p.dataFormat;const oe=F-1-p.padInfo.top,V=T-1-p.padInfo.left,Z=h==="channelsLast",le=m.strides[0],ce=Z?m.strides[1]:m.strides[2],M=Z?m.strides[2]:1,G=Z?1:m.strides[1],X=d[0],re=Z?d[1]:d[2],ue=Z?d[2]:1,de=Z?1:d[1];for(let we=0;we<I;++we)for(let Ce=0;Ce<D;++Ce)for(let Ne=0;Ne<H;++Ne){const Ee=Ne-oe,Ue=Math.max(0,Math.ceil(Ee/Y)),ze=Math.min(W,(F+Ee)/Y);for(let tt=0;tt<R;++tt){const Ae=tt-V,Ge=Math.max(0,Math.ceil(Ae/J)),At=Math.min($,(T+Ae)/J);let rt=0;for(let dt=Ue;dt<ze;++dt){const at=dt*Y-Ee;for(let gt=Ge;gt<At;++gt){const mt=gt*J-Ae,cn=X*we+re*dt+ue*gt,Zt=b*(F-1-at)+C*(T-1-mt)+_*Ce;for(let vt=0;vt<U;++vt){const Wt=g[cn+de*vt],Jt=v[Zt+vt];rt+=Wt*Jt}}}const We=le*we+ce*Ne+M*tt+G*Ce;y[We]=rt}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}const hje={kernelName:gb,backendName:"cpu",kernelFunc:dje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dilations:l}=r;kt([s,i],"conv3d");const c=Df(s.shape,i.shape,o,l,a),{filterDepth:u,filterHeight:A,filterWidth:d,dilationDepth:h,dilationHeight:p,dilationWidth:m,padInfo:y}=c,g=y.front,v=y.left,b=y.top,C=new Qs(c.outShape,s.dtype),_=n.data.get(s.dataId).values,I=n.data.get(i.dataId).values,F=C.values,T=Qt(s.shape),D=Qt(i.shape);for(let H=0;H<c.batchSize;++H){const R=H*T[0],U=H*C.strides[0];for(let W=0;W<c.outDepth;++W){const $=U+W*C.strides[1],Y=W*c.strideDepth-g;for(let J=0;J<u;++J){const oe=Y+J*h;if(oe<0||oe>=c.inDepth)continue;const V=J*D[0],Z=R+oe*T[1];for(let le=0;le<c.outHeight;++le){const ce=$+le*C.strides[2],M=le*c.strideHeight-b;for(let G=0;G<A;++G){const X=M+G*p;if(X<0||X>=c.inHeight)continue;const re=V+G*D[1],ue=Z+X*T[2];for(let de=0;de<c.outWidth;++de){const we=ce+de*c.outChannels,Ce=de*c.strideWidth-v;for(let Ne=0;Ne<d;++Ne){const Ee=Ce+Ne*m;if(Ee<0||Ee>=c.inWidth)continue;const Ue=re+Ne*D[2],ze=ue+Ee*c.inChannels;let tt=Ue;for(let Ae=0;Ae<c.inChannels;++Ae){const Ge=_[ze+Ae];for(let At=0;At<c.outChannels;++At)F[we+At]+=Ge*I[tt+At];tt+=c.outChannels}}}}}}}}return n.makeTensorInfo(C.shape,C.dtype,C.values)}const pje={kernelName:yb,backendName:"cpu",kernelFunc:fje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:o,pad:a,filterShape:l}=r;kt([s,i],"conv3dBackpropFilterV2");const c=Qt(s.shape),u=Qt(i.shape),A=Df(s.shape,l,o,1,a),d=A.strideDepth,h=A.strideHeight,p=A.strideWidth,m=A.filterDepth,y=A.filterHeight,g=A.filterWidth,v=new Qs(A.filterShape,"float32"),b=v.values,[C,_,I,F]=v.strides,T=n.data.get(i.dataId).values,[D,H,R,U]=u,W=n.data.get(s.dataId).values,[$,Y,J,oe]=c,V=A.padInfo.front,Z=A.padInfo.left,le=A.padInfo.top;for(let ce=0;ce<m;++ce){const M=Math.max(0,Math.ceil((V-ce)/d)),G=Math.min(A.outDepth,(A.inDepth+V-ce)/d),X=ce*C;for(let re=0;re<y;++re){const ue=Math.max(0,Math.ceil((le-re)/h)),de=Math.min(A.outHeight,(A.inHeight+le-re)/h),we=re*_+X;for(let Ce=0;Ce<g;++Ce){const Ne=Math.max(0,Math.ceil((Z-Ce)/p)),Ee=Math.min(A.outWidth,(A.inWidth+Z-Ce)/p),Ue=Ce*I+we;for(let ze=0;ze<A.inChannels;++ze){const tt=ze*F+Ue;for(let Ae=0;Ae<A.outChannels;++Ae){let Ge=0;for(let At=0;At<A.batchSize;++At){const rt=At*$,We=At*D;for(let dt=M;dt<G;++dt){const gt=(ce+dt*d-V)*Y+rt,mt=dt*H+We;for(let cn=ue;cn<de;++cn){const vt=(re+cn*h-le)*J+gt,Wt=cn*R+mt;for(let Jt=Ne;Jt<Ee;++Jt){const Gt=(Ce+Jt*p-Z)*oe+vt,St=Jt*U+Wt;Ge+=W[Gt+ze]*T[St+Ae]}}}}b[tt+Ae]=Ge}}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const gje={kernelName:gI,backendName:"cpu",kernelFunc:mje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yje(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{pad:o,strides:a,inputShape:l}=r;kt([s],"conv3dBackpropInputV2");const c=Qt(s.shape),u=Qt(i.shape),A=Df(l,i.shape,a,1,o),d=new Qs(A.inShape,"float32"),h=d.values,[p,m,y,g]=d.strides,v=n.data.get(s.dataId).values,[b,C,_,I]=c,F=n.data.get(i.dataId).values,[T,D,H,R]=u,{batchSize:U,filterDepth:W,filterHeight:$,filterWidth:Y,inChannels:J,inDepth:oe,inHeight:V,inWidth:Z,outChannels:le,outDepth:ce,outHeight:M,outWidth:G,strideDepth:X,strideHeight:re,strideWidth:ue}=A,de=W-1-A.padInfo.front,we=$-1-A.padInfo.top,Ce=Y-1-A.padInfo.left;for(let Ne=0;Ne<U;++Ne)for(let Ee=0;Ee<J;++Ee)for(let Ue=0;Ue<oe;++Ue){const ze=Ue-de,tt=Math.max(0,Math.ceil(ze/X)),Ae=Math.min(ce,(W+ze)/X);for(let Ge=0;Ge<V;++Ge){const At=Ge-we,rt=Math.max(0,Math.ceil(At/re)),We=Math.min(M,($+At)/re);for(let dt=0;dt<Z;++dt){const at=dt-Ce,gt=Math.max(0,Math.ceil(at/ue)),mt=Math.min(G,(Y+at)/ue);let cn=0;for(let Zt=tt;Zt<Ae;++Zt){const vt=Zt*X-ze;for(let Wt=rt;Wt<We;++Wt){const Jt=Wt*re-At;for(let xt=gt;xt<mt;++xt){const Gt=xt*ue-at,St=b*Ne+C*Zt+_*Wt+I*xt,vr=T*(W-1-vt)+D*($-1-Jt)+H*(Y-1-Gt)+R*Ee;for(let An=0;An<le;++An){const Yt=v[St+An],sn=F[vr+An];cn+=Yt*sn}}}}h[p*Ne+m*Ue+y*Ge+g*dt+Ee]=cn}}}return n.makeTensorInfo(d.shape,d.dtype,d.values)}const wje={kernelName:yI,backendName:"cpu",kernelFunc:yje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vje=ur(jy,t=>Math.cos(t)),xje={kernelName:jy,backendName:"cpu",kernelFunc:vje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bje=ur(Hy,t=>Math.cosh(t)),Cje={kernelName:Hy,backendName:"cpu",kernelFunc:bje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sje(t){const{inputs:e,backend:n,attrs:r}=t,{image:s,boxes:i,boxInd:o}=e,{cropSize:a,method:l,extrapolationValue:c}=r,[u,A,d,h]=s.shape,p=i.shape[0],[m,y]=a,g=yn([p,m,y,h],"float32"),v=n.data.get(i.dataId).values,b=n.data.get(o.dataId).values,C=n.data.get(s.dataId).values,_=Qt(s.shape),I=Qt(g.shape);for(let F=0;F<p;F++){const T=F*4,D=v[T],H=v[T+1],R=v[T+2],U=v[T+3],W=b[F];if(W>=u)continue;const $=m>1?(R-D)*(A-1)/(m-1):0,Y=y>1?(U-H)*(d-1)/(y-1):0;for(let J=0;J<m;J++){const oe=m>1?D*(A-1)+J*$:.5*(D+R)*(A-1);if(oe<0||oe>A-1){for(let V=0;V<y;V++)for(let Z=0;Z<h;Z++){const le=Z+V*I[2]+J*I[1]+F*I[0];g.values[le]=c}continue}if(l==="bilinear"){const V=Math.floor(oe),Z=Math.ceil(oe),le=oe-V;for(let ce=0;ce<y;ce++){const M=y>1?H*(d-1)+ce*Y:.5*(H+U)*(d-1);if(M<0||M>d-1){for(let ue=0;ue<h;ue++){const de=ue+ce*I[2]+J*I[1]+F*I[0];g.values[de]=c}continue}const G=Math.floor(M),X=Math.ceil(M),re=M-G;for(let ue=0;ue<h;ue++){let de=ue+G*_[2]+V*_[1]+W*_[0];const we=C[de];de=ue+X*_[2]+V*_[1]+W*_[0];const Ce=C[de];de=ue+G*_[2]+Z*_[1]+W*_[0];const Ne=C[de];de=ue+X*_[2]+Z*_[1]+W*_[0];const Ee=C[de],Ue=we+(Ce-we)*re,ze=Ne+(Ee-Ne)*re;de=ue+ce*I[2]+J*I[1]+F*I[0],g.values[de]=Ue+(ze-Ue)*le}}}else for(let V=0;V<y;++V){const Z=y>1?H*(d-1)+V*Y:.5*(H+U)*(d-1);if(Z<0||Z>d-1){for(let M=0;M<h;M++){const G=M+V*I[2]+J*I[1]+F*I[0];g.values[G]=c}continue}const le=Math.round(Z),ce=Math.round(oe);for(let M=0;M<h;M++){const G=M+le*_[2]+ce*_[1]+W*_[0],X=M+V*I[2]+J*I[1]+F*I[0];g.values[X]=C[G]}}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}const Bje={kernelName:vI,backendName:"cpu",kernelFunc:Sje};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _je(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:o,reverse:a}=r;kt(s,"cumprod");const l=rs([i],s.shape.length);let c=s;l!=null&&(c=ta({inputs:{x:s},backend:n,attrs:{perm:l}}));const u=Bs(1,s.shape.length)[0];if(u!==c.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${u}`);const A=Xo(c.dtype,"int32"),d=lI(Oe(c.shape),A),h=n.data.get(c.dataId).values,p=c.shape[c.shape.length-1],m=a?(g,v)=>g+p-v-1:(g,v)=>g+v;for(let g=0;g<h.length;g+=p)for(let v=0;v<p;v++){const b=m(g,v);if(v===0)d[b]=o?1:h[b];else{const C=m(g,v-1);d[b]=o?h[C]*d[C]:h[b]*d[C]}}const y=n.makeTensorInfo(c.shape,A,d);if(l!=null){const g=Pf(l),v=ta({inputs:{x:y},backend:n,attrs:{perm:g}});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(c),v}return y}const Nje={kernelName:wI,backendName:"cpu",kernelFunc:_je};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ije(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:o,reverse:a}=r;kt(s,"cumsum");const l=rs([i],s.shape.length);let c=s;l!=null&&(c=ta({inputs:{x:s},backend:n,attrs:{perm:l}}));const u=Bs(1,s.shape.length)[0];if(u!==c.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${u}`);const A=Xo(c.dtype,"int32"),d=Ti(Oe(c.shape),A),h=n.data.get(c.dataId).values,p=c.shape[c.shape.length-1],m=a?(g,v)=>g+p-v-1:(g,v)=>g+v;for(let g=0;g<h.length;g+=p)for(let v=0;v<p;v++){const b=m(g,v);if(v===0)d[b]=o?0:h[b];else{const C=m(g,v-1);d[b]=o?h[C]+d[C]:h[b]+d[C]}}const y=n.makeTensorInfo(c.shape,A,d);if(l!=null){const g=Pf(l),v=ta({inputs:{x:y},backend:n,attrs:{perm:g}});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(c),v}return y}const Eje={kernelName:wb,backendName:"cpu",kernelFunc:Ije};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:o,binaryOutput:a}=r;if(s.shape.length===1){const l=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values,u=M$(l,c,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,u)}else if(s.shape.length===2){const l=n.bufferSync(s),c=n.bufferSync(i),u=Fse(l,c,o,a);return n.makeTensorInfo(u.shape,i.dtype,u.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}const Tje={kernelName:xI,backendName:"cpu",kernelFunc:kje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockSize:i,dataFormat:o}=r;ee(o==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${o}`);const a=s.shape[0],l=s.shape[1],c=s.shape[2],u=s.shape[3],A=l*i,d=c*i,h=u/(i*i),p=n.data.get(s.dataId).values,m=new Float32Array(a*A*d*h);let y=0;for(let g=0;g<a;++g)for(let v=0;v<A;++v){const b=Math.floor(v/i),C=v%i;for(let _=0;_<d;++_){const I=Math.floor(_/i),F=_%i,T=(C*i+F)*h;for(let D=0;D<h;++D){const R=D+T+u*(I+c*(b+l*g));m[y++]=p[R]}}}return n.makeTensorInfo([a,A,d,h],s.dtype,m)}const Lje={kernelName:bI,backendName:"cpu",kernelFunc:Fje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fie(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dilations:l,dimRoundingMode:c}=r;kt([s,i],"depthwiseConv2DNative");const u=Qt(s.shape),A=Qt(i.shape);let d=l;d==null&&(d=[1,1]),ee(Li(o,d),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${d}'`);const h=wi(s.shape,i.shape,o,d,a,c,!0),{filterHeight:p,filterWidth:m,dilationHeight:y,dilationWidth:g,padInfo:v}=h,b=v.left,C=v.top,_=h.outChannels/h.inChannels,I=new Qs(h.outShape,s.dtype),F=n.data.get(s.dataId).values,T=n.data.get(i.dataId).values,D=I.values;for(let H=0;H<h.batchSize;++H){const R=H*u[0],U=H*I.strides[0];for(let W=0;W<h.outHeight;++W){const $=U+W*I.strides[1],Y=W*h.strideHeight-C;for(let J=0;J<p;++J){const oe=Y+J*y;if(oe<0||oe>=h.inHeight)continue;const V=J*A[0],Z=R+oe*u[1];for(let le=0;le<h.outWidth;++le){const ce=$+le*I.strides[2],M=le*h.strideWidth-b;for(let G=0;G<m;++G){const X=M+G*g;if(X<0||X>=h.inWidth)continue;const re=V+G*A[1],ue=Z+X*h.inChannels;let de=ce,we=re;for(let Ce=0;Ce<h.inChannels;++Ce){const Ne=F[ue+Ce];for(let Ee=0;Ee<_;++Ee)D[de+Ee]+=Ne*T[we+Ee];de+=_,we+=_}}}}}}return n.makeTensorInfo(I.shape,I.dtype,I.values)}const Dje={kernelName:vb,backendName:"cpu",kernelFunc:Fie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:o,dilations:a,pad:l,dimRoundingMode:c,filterShape:u}=r;kt([s,i],"depthwiseConv2dNativeBackpropFilter");const A=wi(s.shape,u,o,a,l,c,!0),{strideHeight:d,strideWidth:h,filterHeight:p,filterWidth:m}=A,y=new Qs(A.filterShape,"float32"),g=A.padInfo.left,v=A.padInfo.top,b=A.outChannels/A.inChannels,C=n.data.get(s.dataId).values,_=new Qs(s.shape,s.dtype,C),I=n.data.get(i.dataId).values,F=new Qs(i.shape,i.dtype,I);for(let T=0;T<p;++T){const D=Math.max(0,Math.ceil((v-T)/d)),H=Math.min(A.outHeight,(A.inHeight+v-T)/d);for(let R=0;R<m;++R){const U=Math.max(0,Math.ceil((g-R)/h)),W=Math.min(A.outWidth,(A.inWidth+g-R)/h);for(let $=0;$<A.outChannels;++$){const Y=Math.trunc($/b),J=$%b;let oe=0;for(let V=0;V<A.batchSize;++V)for(let Z=D;Z<H;++Z){const le=T+Z*d-v;for(let ce=U;ce<W;++ce){const M=R+ce*h-g;oe+=_.get(V,le,M,Y)*F.get(V,Z,ce,$)}}y.set(oe,T,R,Y,J)}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const Rje={kernelName:CI,backendName:"cpu",kernelFunc:Pje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oje(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{strides:o,dilations:a,pad:l,dimRoundingMode:c,inputShape:u}=r;kt([s,i],"depthwiseConv2DNativeBackpropInput");const A=Qt(s.shape),d=Qt(i.shape),h=wi(u,i.shape,o,a,l,c,!0),p=new Qs(h.inShape,"float32"),m=p.values,[y,g,v]=p.strides,b=n.data.get(s.dataId).values,[C,_,I]=A,F=n.data.get(i.dataId).values,[T,D,H]=d,{batchSize:R,filterHeight:U,filterWidth:W,inChannels:$,inHeight:Y,inWidth:J,outChannels:oe,outHeight:V,outWidth:Z,strideHeight:le,strideWidth:ce}=h,M=U-1-h.padInfo.top,G=W-1-h.padInfo.left,X=oe/$;for(let re=0;re<R;++re)for(let ue=0;ue<$;++ue)for(let de=0;de<Y;++de){const we=de-M,Ce=Math.max(0,Math.ceil(we/le)),Ne=Math.min(V,(U+we)/le);for(let Ee=0;Ee<J;++Ee){const Ue=Ee-G,ze=Math.max(0,Math.ceil(Ue/ce)),tt=Math.min(Z,(W+Ue)/ce);let Ae=0;for(let Ge=Ce;Ge<Ne;++Ge){const At=Ge*le-we;for(let rt=ze;rt<tt;++rt){const We=rt*ce-Ue,dt=C*re+_*Ge+I*rt,at=T*(U-1-At)+D*(W-1-We)+H*ue;for(let gt=0;gt<X;++gt){const mt=ue*X+gt,cn=b[dt+mt],Zt=F[at+gt];Ae+=cn*Zt}}}m[y*re+g*de+v*Ee+ue]=Ae}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}const $je={kernelName:SI,backendName:"cpu",kernelFunc:Oje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uje(t){const{inputs:e,backend:n}=t,{x:r}=e,s=Oe(r.shape),i=n.data.get(r.dataId).values,o=yn([s,s],r.dtype),a=o.values;for(let c=0;c<i.length;c++)a[c*s+c]=i[c];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,o.dtype,o.values)}const Mje={kernelName:BI,backendName:"cpu",kernelFunc:Uje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qje={kernelName:xb,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:s}=t,{strides:i,pad:o,dilations:a}=n,l=e,c=l.data.get(r.dataId).values,u=r.shape.length,A=l.data.get(s.dataId).values,d=s.shape.length,{batchSize:h,inHeight:p,inWidth:m,inChannels:y,outHeight:g,outWidth:v,padInfo:b,strideHeight:C,strideWidth:_,filterHeight:I,filterWidth:F,dilationHeight:T,dilationWidth:D,outShape:H}=u2(r.shape,s.shape,i,o,"NHWC",a),R=Oe(H),U=H.length,W=As(r.dtype,R);for(let Y=0;Y<h;++Y)for(let J=0;J<g;++J){const oe=J*C-b.top;for(let V=0;V<v;++V){const Z=V*_-b.left;for(let le=0;le<y;++le){let ce=Number.MIN_SAFE_INTEGER;for(let G=0;G<I;++G){const X=oe+G*T;if(X>=0&&X<p)for(let re=0;re<F;++re){const ue=Z+re*D;if(ue>=0&&ue<m){const de=ru([Y,X,ue,le],u,Qt(r.shape)),we=ru([G,re,le],d,Qt(s.shape)),Ce=c[de]+A[we];Ce>ce&&(ce=Ce)}}}const M=ru([Y,J,V,le],U,Qt(H));W[M]=ce}}}return{dataId:l.write(Ff(W,r.dtype),H,r.dtype),shape:H,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jje={kernelName:k_,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:s,dy:i}=t,{strides:o,pad:a,dilations:l}=n,c=e,u=hl(r.shape,c.data.get(r.dataId).values),A=hl(s.shape,c.data.get(s.dataId).values),{batchSize:d,inHeight:h,inWidth:p,inChannels:m,outHeight:y,outWidth:g,padInfo:v,strideHeight:b,strideWidth:C,filterHeight:_,filterWidth:I,dilationHeight:F,dilationWidth:T,outShape:D}=u2(r.shape,s.shape,o,a,"NHWC",l);ee(i.rank===D.length,()=>`Error in ${k_}, dy must have the same rank as output ${D.length}, but got ${i.rank}`);const H=hl(D,c.data.get(i.dataId).values),R=cR(s.shape,s.dtype);for(let W=0;W<d;++W)for(let $=0;$<y;++$){const Y=$*b-v.top;for(let J=0;J<g;++J){const oe=J*C-v.left;for(let V=0;V<m;++V){let Z=Number.MIN_SAFE_INTEGER,le=0,ce=0;for(let M=0;M<_;++M){const G=Y+M*F;if(G>=0&&G<h)for(let X=0;X<I;++X){const re=oe+X*T;if(re>=0&&re<p){const ue=u[W][G][re][V]+A[M][X][V];ue>Z&&(Z=ue,le=M,ce=X)}}}R[le][ce][V]+=H[W][$][J][V]}}}return{dataId:c.write(Ff(R,r.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hje={kernelName:E_,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:s,dy:i}=t,{strides:o,pad:a,dilations:l}=n,c=e,u=hl(r.shape,c.data.get(r.dataId).values),A=hl(s.shape,c.data.get(s.dataId).values),{batchSize:d,inHeight:h,inWidth:p,inChannels:m,outHeight:y,outWidth:g,padInfo:v,strideHeight:b,strideWidth:C,filterHeight:_,filterWidth:I,dilationHeight:F,dilationWidth:T,outShape:D}=u2(r.shape,s.shape,o,a,"NHWC",l);ee(i.rank===D.length,()=>`Error in ${E_}, dy must have the same rank as output ${D.length}, but got ${i.rank}`);const H=hl(D,c.data.get(i.dataId).values),R=cR(r.shape,r.dtype);for(let W=0;W<d;++W)for(let $=0;$<y;++$){const Y=$*b-v.top;for(let J=0;J<g;++J){const oe=J*C-v.left;for(let V=0;V<m;++V){let Z=Number.MIN_SAFE_INTEGER,le=Y<0?0:Y,ce=oe<0?0:oe;for(let M=0;M<_;++M){const G=Y+M*F;if(G>=0&&G<h)for(let X=0;X<I;++X){const re=oe+X*T;if(re>=0&&re<p){const ue=u[W][G][re][V]+A[M][X][V];ue>Z&&(Z=ue,le=G,ce=re)}}}R[W][le][ce][V]+=H[W][$][J][V]}}}return{dataId:c.write(Ff(R,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zje(t){const{inputs:e,backend:n,attrs:r}=t,{image:s}=e,{canvas:i,options:o}=r,{contextOptions:a,imageOptions:l}=o||{},c=(l==null?void 0:l.alpha)||1,u=(a==null?void 0:a.contextType)||"2d";if(u!=="2d")throw new Error(`Context type ${a.contextType} is not supported by the CPU backend.`);const A=i.getContext(u,(a==null?void 0:a.contextAttributes)||{});if(A==null)throw new Error(`Could not get the context with ${u} type.`);const[d,h]=s.shape.slice(0,2),p=s.shape.length===2?1:s.shape[2],m=n.data.get(s.dataId).values,y=s.dtype==="float32"?255:1,g=new Uint8ClampedArray(h*d*4);for(let b=0;b<d*h;++b){const C=[0,0,0,255*c];for(let I=0;I<p;I++){const F=m[b*p+I];if(s.dtype==="float32"){if(F<0||F>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${F}.`)}else if(s.dtype==="int32"&&(F<0||F>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${F}.`);p===1?(C[0]=F*y,C[1]=F*y,C[2]=F*y):C[I]=F*y}const _=b*4;g[_+0]=Math.round(C[0]),g[_+1]=Math.round(C[1]),g[_+2]=Math.round(C[2]),g[_+3]=Math.round(C[3])}i.width=h,i.height=d;const v=new ImageData(g,h,d);return A.putImageData(v,0,0),s}const Vje={kernelName:_I,backendName:"cpu",kernelFunc:zje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U2(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r;kt(s,"sum");let a;s.dtype==="bool"?a=bf({inputs:{x:s},backend:n,attrs:{dtype:"int32"}}):a=CA({inputs:{x:s},backend:n});const l=a.shape.length,c=Nn(i,a.shape),u=rs(c,l);let A=c,d=a;u!=null&&(d=ta({inputs:{x:a},backend:n,attrs:{perm:u}}),A=Bs(A.length,l)),Di("sum",A,d.shape.length);const[h,p]=vi(d.shape,A),m=Xo(d.dtype,"int32");let y=K_(n,h,m);const g=Oe(p),v=n.data.get(y.dataId).values,b=n.data.get(d.dataId).values;for(let C=0;C<v.length;++C){const _=C*g;let I=0;for(let F=0;F<g;++F)I+=b[_+F];v[C]=I}if(o){const C=Ss(y.shape,c),_=y;y=kr({inputs:{x:y},backend:n,attrs:{shape:C}}),n.disposeIntermediateTensorInfo(_)}return n.disposeIntermediateTensorInfo(a),u!=null&&n.disposeIntermediateTensorInfo(d),y}const Wje={kernelName:e2,backendName:"cpu",kernelFunc:U2};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gje(t){const{inputs:e,backend:n,attrs:r}=t,{equation:s}=r,i=e,{allDims:o,summedDims:a,idDims:l}=a$(s,i.length);c$(o.length,l,i);const{path:c,steps:u}=u$(a,l),A=u.length;let d=null,h=o.length;const p=[];for(let m=0;m<A;++m){for(const y of u[m]){const{permutationIndices:g,expandDims:v}=l$(h,l[y]);let b;A$(g)?b=i[y]:(b=ta({inputs:{x:i[y]},backend:n,attrs:{perm:g}}),p.push(b));const C=b.shape.slice();for(let _=0;_<v.length;++_)C.splice(v[_],0,1);Tn(b.shape,C)||(b=kr({inputs:{x:b},backend:n,attrs:{shape:C}}),p.push(b)),d===null?d=b:(d=pk({inputs:{a:b,b:d},backend:n}),p.push(d))}m<A-1&&(c[m]>=0&&(d=U2({inputs:{x:d},backend:n,attrs:{axis:c[m]-(o.length-h),keepDims:!1}}),p.push(d)),h--)}for(const m of p)m!==d&&n.disposeIntermediateTensorInfo(m);return d}const Kje={kernelName:NI,backendName:"cpu",kernelFunc:Gje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qje(t){const{inputs:e,backend:n}=t,{dy:r,y:s}=e;kt([r,s],"eluGrad");const i=new Float32Array(Oe(s.shape)),o=n.data.get(s.dataId).values,a=n.data.get(r.dataId).values;for(let l=0;l<o.length;++l){const c=o[l];c>=0?i[l]=a[l]:i[l]=a[l]*(c+1)}return n.makeTensorInfo(s.shape,"float32",i)}const Xje={kernelName:II,backendName:"cpu",kernelFunc:qje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yje=e$,Zje=t$,Jje=n$,eHe=r$,tHe=s$,nHe=i$,rHe=ur(Wy,t=>{const e=Math.sign(t),n=Math.abs(t),r=1/(1+Yje*n);return e*(1-((((nHe*r+tHe)*r+eHe)*r+Jje)*r+Zje)*r*Math.exp(-n*n))}),sHe={kernelName:Wy,backendName:"cpu",kernelFunc:rHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y_(t){const{inputs:e,backend:n,attrs:r}=t,{input:s}=e,{dim:i}=r,o=s.shape.length,a=s.shape.slice();let l=i;return i<0&&(ee(-(o+1)<=i,()=>`Axis must be in the interval [${-(o+1)}, ${o}]`),l=o+i+1),a.splice(l,0,1),kr({inputs:{x:s},backend:n,attrs:{shape:a}})}const iHe={kernelName:Cb,backendName:"cpu",kernelFunc:Y_};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oHe=Ns((t,e)=>t/e),W$=ni(zy,oHe),_L={kernelName:zy,backendName:"cpu",kernelFunc:W$};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lie(t,e,n){const r=t.shape,s=r[0],i=r[1],o=n.data.get(t.dataId),a=o.complexTensorInfos.real,l=o.complexTensorInfos.imag,c=[s,i],u=Oe(c),A=gi("float32",u),d=gi("float32",u);for(let y=0;y<s;y++){const g=km({inputs:{x:a},backend:n,attrs:{begin:[y,0],size:[1,i]}}),v=km({inputs:{x:l},backend:n,attrs:{begin:[y,0],size:[1,i]}}),b=_a({inputs:{real:g,imag:v},backend:n}),{real:C,imag:_}=aHe(b,e,n),I=Cd(C,_);for(let F=0;F<i;F++){const T=o$(I,F);A[y*i+F]=T.real,d[y*i+F]=T.imag}n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b)}const h=n.makeTensorInfo(c,"float32",A),p=n.makeTensorInfo(c,"float32",d),m=_a({inputs:{real:h,imag:p},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),m}function aHe(t,e,n){const r=Oe(t.shape),s=n.data.get(t.dataId),i=n.data.get(s.complexTensorInfos.real.dataId).values,o=n.data.get(s.complexTensorInfos.imag.dataId).values;if(lHe(r)){const a=NL(i,o,r,e,n),l=[t.shape[0],t.shape[1]];if(e){const c=n.makeTensorInfo(l,"float32",a.real),u=n.makeTensorInfo(l,"float32",a.imag),A=n.makeTensorInfo([],"float32",Nd(r,"float32")),d=CA({inputs:{x:A},backend:n}),h=_L.kernelFunc({inputs:{a:c,b:A},backend:n}),p=_L.kernelFunc({inputs:{a:u,b:d},backend:n}),m=n.data.get(h.dataId).values,y=n.data.get(p.dataId).values;return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(A),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),{real:m,imag:y}}return a}else{const a=Cd(i,o),l=cHe(a,r,e);return jte(l)}}function lHe(t){return(t&t-1)===0}function NL(t,e,n,r,s){if(n===1)return{real:t,imag:e};const i=Cd(t,e),o=n/2,a=Hte(i),l=a.real,c=a.imag,u=[l.length],A=s.makeTensorInfo(u,"float32",l),d=s.makeTensorInfo(u,"float32",c),h=_a({inputs:{real:A,imag:d},backend:s}),p=zte(i),m=p.real,y=p.imag,g=[m.length],v=s.makeTensorInfo(g,"float32",m),b=s.makeTensorInfo(g,"float32",y),C=_a({inputs:{real:v,imag:b},backend:s}),_=NL(l,c,o,r,s),I=_.real,F=_.imag,T=[I.length],D=s.makeTensorInfo(T,"float32",I),H=s.makeTensorInfo(T,"float32",F),R=_a({inputs:{real:D,imag:H},backend:s}),U=NL(m,y,o,r,s),W=U.real,$=U.imag,Y=[W.length],J=s.makeTensorInfo(Y,"float32",W),oe=s.makeTensorInfo(Y,"float32",$),V=_a({inputs:{real:J,imag:oe},backend:s}),Z=Wte(n,r),le=[Z.real.length],ce=s.makeTensorInfo(le,"float32",Z.real),M=s.makeTensorInfo(le,"float32",Z.imag),G=_a({inputs:{real:ce,imag:M},backend:s}),X=pk({inputs:{a:G,b:V},backend:s}),re=uy({inputs:{a:R,b:X},backend:s}),ue=z$({inputs:{a:R,b:X},backend:s}),de=Em({inputs:{input:re},backend:s}),we=Em({inputs:{input:ue},backend:s}),Ce=Ay({inputs:{input:re},backend:s}),Ne=Ay({inputs:{input:ue},backend:s}),Ee=dy({inputs:[de,we],backend:s,attrs:{axis:0}}),Ue=dy({inputs:[Ce,Ne],backend:s,attrs:{axis:0}}),ze=s.data.get(Ee.dataId).values,tt=s.data.get(Ue.dataId).values;return s.disposeIntermediateTensorInfo(A),s.disposeIntermediateTensorInfo(d),s.disposeIntermediateTensorInfo(h),s.disposeIntermediateTensorInfo(v),s.disposeIntermediateTensorInfo(b),s.disposeIntermediateTensorInfo(C),s.disposeIntermediateTensorInfo(D),s.disposeIntermediateTensorInfo(H),s.disposeIntermediateTensorInfo(R),s.disposeIntermediateTensorInfo(J),s.disposeIntermediateTensorInfo(oe),s.disposeIntermediateTensorInfo(V),s.disposeIntermediateTensorInfo(ce),s.disposeIntermediateTensorInfo(M),s.disposeIntermediateTensorInfo(G),s.disposeIntermediateTensorInfo(X),s.disposeIntermediateTensorInfo(re),s.disposeIntermediateTensorInfo(ue),s.disposeIntermediateTensorInfo(de),s.disposeIntermediateTensorInfo(Ce),s.disposeIntermediateTensorInfo(we),s.disposeIntermediateTensorInfo(Ne),s.disposeIntermediateTensorInfo(Ee),s.disposeIntermediateTensorInfo(Ue),{real:ze,imag:tt}}function cHe(t,e,n){const r=new Float32Array(e*2);for(let s=0;s<e;s++){let i=0,o=0;for(let a=0;a<e;a++){const l=Gte(s*a,e,n),c=o$(t,a);i+=c.real*l.real-c.imag*l.imag,o+=c.real*l.imag+c.imag*l.real}n&&(i/=e,o/=e),Vte(r,i,o,s)}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uHe(t){const{inputs:e,backend:n}=t,{input:r}=e,s=Oe(r.shape),i=r.shape[r.shape.length-1],o=s/i,a=kr({inputs:{x:r},backend:n,attrs:{shape:[o,i]}}),l=Lie(a,!1,n),c=kr({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),c}const AHe={kernelName:EI,backendName:"cpu",kernelFunc:uHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G$(t){const{backend:e,attrs:n}=t,{shape:r,value:s,dtype:i}=n,o=i||Qm(s),a=As(o,Oe(r));return hHe(a,s,o),e.makeTensorInfo(r,o,a)}const dHe={kernelName:kI,backendName:"cpu",kernelFunc:G$};function hHe(t,e,n){t.fill(e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fHe={kernelName:TI,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,s=n,i=gi(r.dtype,Oe(r.shape)),[o,a,l,c]=r.shape,u=s.data.get(r.dataId).values;for(let d=0;d<o;d++){const h=d*l*a*c;for(let p=0;p<a;p++){const m=p*(l*c);for(let y=0;y<l;y++){const g=y*c;for(let v=0;v<c;v++){const b=Math.round(l-y-1),C=h+m+g+v;let _=u[C];if(b>=0&&b<l){const I=b*c,F=h+m+I+v;_=u[F]}i[C]=_}}}}return{dataId:s.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:o,preluActivationWeights:a}=e,{strides:l,pad:c,dataFormat:u,dilations:A,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r;let m=Tie({inputs:{x:s,filter:i},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:A,dimRoundingMode:d}});if(o){const y=m;if(u==="NCHW"&&o.shape.length===1&&o.shape[0]!==1){const g=kr({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});m=uy({inputs:{a:m,b:g},backend:n}),n.disposeIntermediateTensorInfo(g)}else m=uy({inputs:{a:m,b:o},backend:n});n.disposeIntermediateTensorInfo(y)}if(h){const y=m;if(u==="NCHW"&&h==="prelu"&&a.shape.length===1&&a.shape[0]!==1){const g=kr({inputs:{x:a},backend:n,attrs:{shape:[a.shape[0],1,1]}});m=X_(n,m,h,g,p),n.disposeIntermediateTensorInfo(g)}else m=X_(n,m,h,a,p);n.disposeIntermediateTensorInfo(y)}return m}const mHe={kernelName:hx,backendName:"cpu",kernelFunc:pHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:o,preluActivationWeights:a}=e,{strides:l,pad:c,dataFormat:u,dilations:A,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r;let m=Fie({inputs:{x:s,filter:i},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:A,dimRoundingMode:d}});if(o){const y=m;m=uy({inputs:{a:m,b:o},backend:n}),n.disposeIntermediateTensorInfo(y)}if(h){const y=m;m=X_(n,m,h,a,p),n.disposeIntermediateTensorInfo(y)}return m}const yHe={kernelName:fx,backendName:"cpu",kernelFunc:gHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wHe(t){const{inputs:e,backend:n}=t,{params:r,indices:s}=e,i=Oe(r.shape),o=s.shape,a=o[o.length-1],[l,c,u,A]=JE(r,s);if(c===0)return n.makeTensorInfo(l,r.dtype,[]);const d=n.data.get(s.dataId).values,h=n.bufferSync(r),p=Hse(d,h,r.dtype,c,a,u,A,r.shape,i);return n.makeTensorInfo(l,r.dtype,p.values)}const vHe={kernelName:FI,backendName:"cpu",kernelFunc:wHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,indices:i}=e,{axis:o,batchDims:a}=r;kt([s,i],"gatherV2");const l=Nn(o,s.shape)[0],c=n.data.get(i.dataId).values,u=s.shape[l];for(let C=0;C<c.length;++C){const _=c[C];ee(_<=u-1&&_>=0,()=>`GatherV2: the index value ${_} is not in [0, ${u-1}]`)}let A=a;a==null&&(A=0);const d=Oe(i.shape),h=h$(s,i,l,A),p=kr({inputs:{x:s},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),m=kr({inputs:{x:i},backend:n,attrs:{shape:[h.batchSize,d/h.batchSize]}}),y=[h.batchSize,h.outerSize,d/h.batchSize,h.sliceSize],g=n.bufferSync(m),v=n.bufferSync(p),b=zse(v,g,y);return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(h.outputShape,b.dtype,b.values)}const bHe={kernelName:Bb,backendName:"cpu",kernelFunc:xHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CHe(t){const{inputs:e,backend:n}=t,{input:r}=e,s=Oe(r.shape),i=r.shape[r.shape.length-1],o=s/i,a=kr({inputs:{x:r},backend:n,attrs:{shape:[o,i]}}),l=Lie(a,!0,n),c=kr({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),c}const SHe={kernelName:LI,backendName:"cpu",kernelFunc:CHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BHe=ur(Jy,t=>Number.isFinite(t)?1:0,"bool"),_He={kernelName:Jy,backendName:"cpu",kernelFunc:BHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NHe=ur(e1,t=>Math.abs(t)===1/0?1:0,"bool"),IHe={kernelName:e1,backendName:"cpu",kernelFunc:NHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EHe=ur(t1,t=>Number.isNaN(t)?1:0,"bool"),kHe={kernelName:t1,backendName:"cpu",kernelFunc:EHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function THe(t){const{backend:e,attrs:n}=t,{start:r,stop:s,num:i}=n,o=qse(r,s,i);return e.makeTensorInfo([o.length],"float32",o)}const FHe={kernelName:PI,backendName:"cpu",kernelFunc:THe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LHe=ur(r1,t=>Math.log1p(t)),DHe={kernelName:r1,backendName:"cpu",kernelFunc:LHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PHe=Ns((t,e)=>t&&e),RHe=ni(kb,PHe,null,"bool"),OHe={kernelName:kb,backendName:"cpu",kernelFunc:RHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $He=ur(Tb,t=>t?0:1,"bool"),UHe={kernelName:Tb,backendName:"cpu",kernelFunc:$He};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MHe=Ns((t,e)=>t||e),QHe=ni(Fb,MHe,null,"bool"),jHe={kernelName:Fb,backendName:"cpu",kernelFunc:QHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{depthRadius:i,bias:o,alpha:a,beta:l}=r;kt(s,"LRN");const c=s.shape[3],u=c-1,A=n.data.get(s.dataId).values,d=Oe(s.shape),h=new Float32Array(d);function p(m){const y=m%c;let g=m-y+Math.max(0,y-i);const v=m-y+Math.min(y+i,u);let b=0;for(;g<=v;g++){const C=A[g];b+=C*C}return b}for(let m=0;m<d;m++){const y=p(m),g=A[m]*Math.pow(o+a*y,-l);h[m]=g}return n.makeTensorInfo(s.shape,s.dtype,h)}const zHe={kernelName:Lb,backendName:"cpu",kernelFunc:HHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,y:i,dy:o}=e,{depthRadius:a,bias:l,alpha:c,beta:u}=r;kt(o,"LRNGrad");const A=Oe(o.shape),d=o.shape[3],h=n.data.get(o.dataId).values,p=n.data.get(s.dataId).values,m=n.data.get(i.dataId).values,y=new Float32Array(A),g=A;for(let v=0;v<g;v++){const b=v%d,C=v-b+Math.max(0,b-a),_=v-b+Math.min(d,b+a+1);let I=0;for(let F=C;F<_;F++)I+=Math.pow(p[F],2);I=c*I+l;for(let F=C;F<_;F++){let T=-2*c*u*p[F]*m[v]/I;v===F&&(T+=Math.pow(I,-u)),T*=h[v],y[F]+=T}}return n.makeTensorInfo(o.shape,s.dtype,y)}const WHe={kernelName:RI,backendName:"cpu",kernelFunc:VHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Die(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reductionIndices:i,keepDims:o}=r,a=n;let l=s.shape;const c=l.length,u=Nn(i,l);let A=u;const d=rs(A,c);let h=a.data.get(s.dataId).values;if(d!=null){const C=new Array(c);for(let _=0;_<C.length;_++)C[_]=l[d[_]];h=j$(h,l,s.dtype,d,C),A=Bs(A.length,c),l=C}kt(s,"max"),Di("max",A,c);const[p,m]=vi(l,A),y=Oe(m),g=Yse(h,y,p,s.dtype),v=a.write(g,p,s.dtype);let b=p;return o&&(b=Ss(p,u)),{dataId:v,shape:b,dtype:s.dtype}}const GHe={kernelName:Db,backendName:"cpu",kernelFunc:Die};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;kt(s,"maxPool");const{filterSize:i,strides:o,pad:a,dimRoundingMode:l}=r,c=1;ee(Li(o,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${c}'`);const u=cc(s.shape,i,o,c,a,l);let A;if(u.filterWidth===1&&u.filterHeight===1&&Tn(u.inShape,u.outShape))A=CA({inputs:{x:s},backend:n});else{const d=n.data.get(s.dataId).values,h=Qt(s.shape),p=V$(d,s.shape,s.dtype,h,u,"max");A=n.makeTensorInfo(u.outShape,s.dtype,p.values)}return A}const qHe={kernelName:Pb,backendName:"cpu",kernelFunc:KHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:o,pad:a,dimRoundingMode:l,dataFormat:c}=r;kt(s,"maxPool3d");const u=Id(s.shape,i,o,1,a,l,c),A=n.data.get(s.dataId).values,d=kie(A,s.shape,s.dtype,Qt(s.shape),u,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}const YHe={kernelName:Rb,backendName:"cpu",kernelFunc:XHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZHe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,{filterSize:o,strides:a,pad:l,dimRoundingMode:c}=r;kt([s,i],"maxPool3DGrad");const u=Id(i.shape,o,a,1,l,c),A=n.bufferSync(i),d=M8e(A,u),h=u.strideDepth,p=u.strideHeight,m=u.strideWidth,y=u.dilationDepth,g=u.dilationHeight,v=u.dilationWidth,b=u.effectiveFilterDepth,C=u.effectiveFilterHeight,_=u.effectiveFilterWidth,I=b-1-u.padInfo.front,F=_-1-u.padInfo.left,T=C-1-u.padInfo.top,D=yn(i.shape,"float32"),H=n.bufferSync(s);for(let R=0;R<u.batchSize;++R)for(let U=0;U<u.inChannels;++U)for(let W=0;W<u.inDepth;++W)for(let $=0;$<u.inHeight;++$)for(let Y=0;Y<u.inWidth;++Y){const J=W-I,oe=$-T,V=Y-F;let Z=0;for(let le=0;le<b;le+=y){const ce=(J+le)/h;if(!(ce<0||ce>=u.outDepth||Math.floor(ce)!==ce))for(let M=0;M<C;M+=g){const G=(oe+M)/p;if(!(G<0||G>=u.outHeight||Math.floor(G)!==G))for(let X=0;X<_;X+=v){const re=(V+X)/m;if(re<0||re>=u.outWidth||Math.floor(re)!==re)continue;const ue=b*C*_-1-d.get(R,ce,G,re,U),de=le*C*_+M*_+X,we=ue===de?1:0;if(we===0)continue;const Ce=H.get(R,ce,G,re,U);Z+=Ce*we}}}D.set(Z,R,W,$,Y,U)}return n.makeTensorInfo(D.shape,D.dtype,D.values)}const JHe={kernelName:$I,backendName:"cpu",kernelFunc:ZHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eze(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i,output:o}=e,a=i;kt([i,o],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:A}=r,d=cc(a.shape,l,c,1,u,A),h=n.data.get(a.dataId).values,p=yn(d.outShape,a.dtype,Eie(h,a.shape,a.dtype,d).values),m=d.strideHeight,y=d.strideWidth,g=d.dilationHeight,v=d.dilationWidth,b=d.effectiveFilterHeight,C=d.effectiveFilterWidth,_=C-1-d.padInfo.left,I=b-1-d.padInfo.top,F=yn(a.shape,"float32"),T=n.data.get(s.dataId).values,D=yn(s.shape,"float32",T);for(let H=0;H<d.batchSize;++H)for(let R=0;R<d.inChannels;++R)for(let U=0;U<d.inHeight;++U)for(let W=0;W<d.inWidth;++W){const $=U-I,Y=W-_;let J=0;for(let oe=0;oe<b;oe+=g){const V=($+oe)/m;if(!(V<0||V>=d.outHeight||Math.floor(V)!==V))for(let Z=0;Z<C;Z+=v){const le=(Y+Z)/y;if(le<0||le>=d.outWidth||Math.floor(le)!==le)continue;const ce=b*C-1-p.get(H,V,le,R),M=oe*C+Z,G=ce===M?1:0;if(G===0)continue;const X=D.get(H,V,le,R);J+=X*G}}F.set(J,H,U,W,R)}return n.makeTensorInfo(F.shape,F.dtype,F.values)}const tze={kernelName:OI,backendName:"cpu",kernelFunc:eze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nze(t,e,n,r,s){const i=Qt(e),o=V$(t,e,n,i,s,"max"),a=Eie(t,e,n,s,!0,r);return[o.values,a.values]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rze={kernelName:UI,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{filterSize:s,strides:i,pad:o,includeBatchInIndex:a}=e,l=n;kt(r,"MaxPoolWithArgmax");const c=l.data.get(r.dataId).values,u=cc(r.shape,s,i,[1,1],o),[A,d]=nze(c,r.shape,r.dtype,a,u),h=l.write(A,u.outShape,r.dtype),p=l.write(d,u.outShape,r.dtype);return[{dataId:h,shape:u.outShape,dtype:r.dtype},{dataId:p,shape:u.outShape,dtype:"int32"}]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r,a=Nn(i,s.shape),c=vi(s.shape,a)[1],u=Oe(c),A=[],d=n.makeTensorInfo([],"float32",new Float32Array([u]));A.push(d);const h=bf({inputs:{x:s},backend:n,attrs:{dtype:"float32"}});A.push(h);const p=W$({inputs:{a:h,b:d},backend:n});A.push(p);const m=U2({inputs:{x:p},backend:n,attrs:{axis:i,keepDims:o}});return A.forEach(y=>n.disposeIntermediateTensorInfo(y)),m}const ize={kernelName:Ob,backendName:"cpu",kernelFunc:sze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r;kt(s,"min");const a=Nn(i,s.shape);let l=a;const c=rs(l,s.shape.length);let u=s;c!=null&&(u=ta({inputs:{x:s},backend:n,attrs:{perm:c}}),l=Bs(l.length,s.shape.length)),Di("min",l,u.shape.length);const[A,d]=vi(u.shape,l),h=Oe(d),p=Ti(Oe(A),u.dtype),m=n.data.get(u.dataId).values;for(let g=0;g<p.length;++g){const v=g*h;let b=m[v];for(let C=0;C<h;++C){const _=m[v+C];(Number.isNaN(_)||_<b)&&(b=_)}p[g]=b}c!=null&&n.disposeIntermediateTensorInfo(u);const y=n.makeTensorInfo(A,u.dtype,p);if(o){const g=Ss(A,a),v=kr({inputs:{x:y},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(y),v}return y}const aze={kernelName:$b,backendName:"cpu",kernelFunc:oze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{paddings:i,mode:o}=r;kt(s,"mirrorPad");const a=i.map((b,C)=>b[0]+s.shape[C]+b[1]),l=i.map(b=>b[0]),c=i.map((b,C)=>b[0]+s.shape[C]),u=o==="reflect"?0:1,A=n.data.get(s.dataId).values,d=s.shape.length,h=Qt(s.shape),p=Oe(a),m=a.length,y=Qt(a),g=gi(s.dtype,p);for(let b=0;b<p;b++){let C=jm(b,m,y);for(let I=0;I<m;I++)C[I]<l[I]?C[I]=l[I]*2-C[I]-u:C[I]>=c[I]&&(C[I]=(c[I]-1)*2-C[I]+u);C=C.map((I,F)=>I-l[F]);const _=ru(C,d,h);g[b]=A[_]}return{dataId:n.write(g,a,s.dtype),shape:a,dtype:s.dtype}}const cze={kernelName:Ub,backendName:"cpu",kernelFunc:lze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uze=Ns((t,e)=>{const n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e}),Aze=ni(o1,uze),dze={kernelName:o1,backendName:"cpu",kernelFunc:Aze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pie(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{dim:i}=r,o=s.shape.length;let a=i;if(a===-1&&(a=o-1),a!==o-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${o} and dim was ${a}`);const l=Nn([a],s.shape),c=Die({inputs:{x:s},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),u=Ss(c.shape,l),A=kr({inputs:{x:c},backend:n,attrs:{shape:u}}),d=z$({inputs:{a:s,b:A},backend:n}),h=Use({inputs:{x:d},backend:n}),p=U2({inputs:{x:h},backend:n,attrs:{axis:l,keepDims:!1}}),m=kr({inputs:{x:p},backend:n,attrs:{shape:u}}),y=W$({inputs:{a:h,b:m},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(A),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),y}const hze={kernelName:r2,backendName:"cpu",kernelFunc:Pie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fze(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{numSamples:i,seed:o,normalized:a}=r;kt(s,"multinomial");const l=a?s:Pie({inputs:{logits:s},backend:n,attrs:{dim:-1}}),c=l.shape[0],u=l.shape[1],A=n.data.get(l.dataId).values,d=[c,i],h=Ti(Oe(d),"int32");for(let p=0;p<c;++p){const m=p*u,y=new Float32Array(u-1);y[0]=A[m];for(let b=1;b<y.length;++b)y[b]=y[b-1]+A[m+b];const g=IE.alea(o.toString()),v=p*i;for(let b=0;b<i;++b){const C=g();h[v+b]=y.length;for(let _=0;_<y.length;_++)if(C<y[_]){h[v+b]=_;break}}}return a||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(d,"int32",h)}const pze={kernelName:MI,backendName:"cpu",kernelFunc:fze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mze=qE;function gze(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:l}=r;kt(s,"NonMaxSuppression");const c=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values,{selectedIndices:A}=mze(c,u,o,a,l);return n.makeTensorInfo([A.length],"int32",new Int32Array(A))}const yze={kernelName:QI,backendName:"cpu",kernelFunc:gze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wze=XE;function vze(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:l,padToMaxOutputSize:c}=r;kt(s,"NonMaxSuppressionPadded");const u=n.data.get(s.dataId).values,A=n.data.get(i.dataId).values,{selectedIndices:d,validOutputs:h}=wze(u,A,o,a,l,c);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const xze={kernelName:jI,backendName:"cpu",kernelFunc:vze};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bze=YE;function Cze(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:l,softNmsSigma:c}=r;kt(s,"NonMaxSuppressionWithScore");const u=n.data.get(s.dataId).values,A=n.data.get(i.dataId).values,d=o,h=a,p=l,m=c,{selectedIndices:y,selectedScores:g}=bze(u,A,d,h,p,m);return[n.makeTensorInfo([y.length],"int32",new Int32Array(y)),n.makeTensorInfo([g.length],"float32",new Float32Array(g))]}const Sze={kernelName:HI,backendName:"cpu",kernelFunc:Cze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bze(t){const{inputs:e,backend:n,attrs:r}=t,{indices:s}=e,{dtype:i,depth:o,onValue:a,offValue:l}=r;kt(s,"oneHot");const c=Oe(s.shape),u=new Float32Array(c*o);u.fill(l);const A=n.data.get(s.dataId).values;for(let d=0;d<c;++d)A[d]>=0&&A[d]<o&&(u[d*o+A[d]]=a);return n.makeTensorInfo([...s.shape,o],i,u)}const _ze={kernelName:Hb,backendName:"cpu",kernelFunc:Bze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z_(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(r.dtype==="complex64"){const s=Em({inputs:{input:r},backend:n}),i=Z_({inputs:{x:s},backend:n}),o=Ay({inputs:{input:r},backend:n}),a=Z_({inputs:{x:o},backend:n}),l=_a({inputs:{real:i,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),l}else return G$({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const Nze={kernelName:a2,backendName:"cpu",kernelFunc:Z_};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rie(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(r.dtype==="complex64"){const s=Em({inputs:{input:r},backend:n}),i=Rie({inputs:{x:s},backend:n}),o=Ay({inputs:{input:r},backend:n}),a=Z_({inputs:{x:o},backend:n}),l=_a({inputs:{real:i,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),l}else return G$({backend:n,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}const Ize={kernelName:jb,backendName:"cpu",kernelFunc:Rie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oie(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r;if(e.length===1)return Y_({inputs:{input:e[0]},backend:n,attrs:{dim:s}});const i=e[0].shape,o=e[0].dtype;e.forEach(u=>{Fi(i,u.shape,"All tensors passed to stack must have matching shapes"),ee(o===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=[],l=e.map(u=>{const A=Y_({inputs:{input:u},backend:n,attrs:{dim:s}});return a.push(A),A}),c=dy({inputs:l,backend:n,attrs:{axis:s}});return a.forEach(u=>n.disposeIntermediateTensorInfo(u)),c}const Eze={kernelName:zb,backendName:"cpu",kernelFunc:Oie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{paddings:i,constantValue:o}=r;kt(s,"pad");const a=i.map((v,b)=>v[0]+s.shape[b]+v[1]),l=i.map(v=>v[0]),c=n.data.get(s.dataId).values,u=Oe(s.shape),A=s.shape.length,d=Qt(s.shape),h=Oe(a),p=a.length,m=Qt(a),y=gi(s.dtype,h);o!==0&&y.fill(o);for(let v=0;v<u;v++){const C=jm(v,A,d).map((I,F)=>I+l[F]),_=ru(C,p,m);y[_]=c[v]}return{dataId:n.write(y,a,s.dtype),shape:a,dtype:s.dtype}}const $ie={kernelName:Vb,backendName:"cpu",kernelFunc:kze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tze=Ns((t,e)=>Math.pow(t,e)),Fze=ni(l1,Tze),Lze={kernelName:l1,backendName:"cpu",kernelFunc:Fze};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dze(t){const{inputs:e,backend:n,attrs:r}=t,{paramsNestedSplits:s,paramsDenseValues:i,indices:o}=e,a=s.map(y=>n.data.get(y.dataId).values),l=s.map(y=>y.shape),c=n.data.get(i.dataId).values,u=n.data.get(o.dataId).values,[A,d,h]=rie(a,l,c,i.shape,i.dtype,u,o.shape),p=A.map(y=>n.makeTensorInfo([y.length],"int32",y)),m=n.makeTensorInfo(h,i.dtype,d);return p.concat([m])}const Pze={kernelName:zI,backendName:"cpu",kernelFunc:Dze};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rze(t){const{inputs:e,backend:n}=t,{starts:r,limits:s,deltas:i}=e,o=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,[c,u]=sie(o,r.shape,r.dtype,a,s.shape,l,i.shape),A=n.makeTensorInfo([c.length],"int32",c),d=n.makeTensorInfo([u.length],r.dtype,u);return[A,d]}const Oze={kernelName:VI,backendName:"cpu",kernelFunc:Rze};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $ze(t){const{inputs:e,backend:n,attrs:r}=t,{shape:s,values:i,defaultValue:o,rowPartitionTensors:a}=e,{rowPartitionTypes:l}=r,c=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values,A=n.data.get(o.dataId).values,d=a.map(y=>n.data.get(y.dataId).values),h=a.map(y=>y.shape),[p,m]=iie(c,s.shape,u,i.shape,i.dtype,A,o.shape,d,h,l);return n.makeTensorInfo(p,i.dtype,m)}const Uze={kernelName:WI,backendName:"cpu",kernelFunc:$ze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mze(t){const{backend:e,attrs:n}=t,{start:r,stop:s,dtype:i,step:o}=n,a=oie(r,s,o,i);return e.makeTensorInfo([a.length],i,a)}const Qze={kernelName:GI,backendName:"cpu",kernelFunc:Mze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jze=ur(c1,t=>1/t),Hze={kernelName:c1,backendName:"cpu",kernelFunc:jze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zze(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:o,size:a}=r;kt(s,"resizeBilinear");const l=Qt(s.shape),[c,u]=a,[A,d,h,p]=s.shape,m=n.data.get(s.dataId).values,y=new Float32Array(Oe([A,c,u,p])),g=[i&&c>1?d-1:d,i&&u>1?h-1:h],v=[i&&c>1?c-1:c,i&&u>1?u-1:u];let b=0;const C=g[0]/v[0],_=g[1]/v[1];for(let I=0;I<A;I++)for(let F=0;F<c;F++){let T;o?T=C*(F+.5)-.5:T=C*F;const D=Math.max(0,Math.floor(T)),H=T-D,R=Math.min(d-1,Math.ceil(T)),U=I*l[0]+D*l[1],W=I*l[0]+R*l[1];for(let $=0;$<u;$++){let Y;o?Y=_*($+.5)-.5:Y=_*$;const J=Math.max(0,Math.floor(Y)),oe=Y-J,V=Math.min(h-1,Math.ceil(Y)),Z=U+J*l[2],le=W+J*l[2],ce=U+V*l[2],M=W+V*l[2];for(let G=0;G<p;G++){const X=m[Z+G],re=m[le+G],ue=m[ce+G],de=m[M+G],we=X+(ue-X)*oe,Ce=re+(de-re)*oe,Ne=we+(Ce-we)*H;y[b++]=Ne}}}return n.makeTensorInfo([A,c,u,p],"float32",y)}const Vze={kernelName:Xb,backendName:"cpu",kernelFunc:zze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wze(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:o}=r;kt([i,s],"resizeBilinearGrad");const a=Qt(s.shape),[l,c,u,A]=s.shape,[,d,h]=i.shape,p=new Float32Array(l*c*u*A),m=[o&&d>1?c-1:c,o&&h>1?u-1:u],y=[o&&d>1?d-1:d,o&&h>1?h-1:h],g=m[0]/y[0],v=m[1]/y[1],b=n.data.get(i.dataId).values;let C=0;for(let _=0;_<l;_++){const I=_*a[0];for(let F=0;F<d;F++){const T=F*g,D=Math.floor(T),H=Math.min(Math.ceil(T),c-1),R=I+D*a[1],U=I+H*a[1],W=T-D,$=1-W;for(let Y=0;Y<h;Y++){const J=Y*v,oe=Math.floor(J),V=Math.min(Math.ceil(J),u-1),Z=J-oe,le=1-Z,ce=R+oe*a[2],M=R+V*a[2],G=U+oe*a[2],X=U+V*a[2],re=$*le,ue=$*Z,de=W*le,we=W*Z;for(let Ce=0;Ce<A;Ce++){const Ne=b[C++];p[ce+Ce]+=Ne*re,p[M+Ce]+=Ne*ue,p[G+Ce]+=Ne*de,p[X+Ce]+=Ne*we}}}}return n.makeTensorInfo([l,u,c,A],"float32",p)}const Gze={kernelName:XI,backendName:"cpu",kernelFunc:Wze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kze(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:o,size:a}=r;kt(s,"resizeNearestNeighbor");const l=Qt(s.shape),[c,u]=a,[A,d,h,p]=s.shape,m=n.data.get(s.dataId).values,y=new Float32Array(A*c*u*p),g=[i&&c>1?d-1:d,i&&u>1?h-1:h],v=[i&&c>1?c-1:c,i&&u>1?u-1:u],b=g[0]/v[0],C=g[1]/v[1];let _=0;for(let I=0;I<A;I++){const F=I*l[0];for(let T=0;T<c;T++){const D=o?b*(T+.5):b*T;let H=Math.min(d-1,i?Math.round(D):Math.floor(D));o&&(H=Math.max(0,H));const R=F+H*l[1];for(let U=0;U<u;U++){const W=o?C*(U+.5):C*U;let $=Math.min(h-1,i?Math.round(W):Math.floor(W));o&&($=Math.max(0,$));const Y=R+$*l[2];for(let J=0;J<p;J++){const oe=m[Y+J];y[_++]=oe}}}}return n.makeTensorInfo([A,c,u,p],s.dtype,y)}const qze={kernelName:qb,backendName:"cpu",kernelFunc:Kze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xze(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:o}=r;kt([i,s],"resizeNearestNeighborGrad");const a=Qt(s.shape),l=Qt(i.shape),[c,u,A,d]=s.shape,[,h,p]=i.shape,m=new Float32Array(c*u*A*d),y=n.data.get(i.dataId).values,g=[o&&h>1?u-1:u,o&&p>1?A-1:A],v=[o&&h>1?h-1:h,o&&p>1?p-1:p],b=g[0]/v[0],C=g[1]/v[1],_=1/b,I=1/C,F=Math.ceil(_)*2+2,T=Math.ceil(I)*2+2;for(let D=0;D<c;D++){const H=D*a[0];for(let R=0;R<u;R++){const U=H+R*a[1],W=Math.floor(R*_),$=Math.floor(W-F/2);for(let Y=0;Y<A;Y++){const J=U+Y*a[2],oe=Math.floor(Y*I),V=Math.floor(oe-T/2);for(let Z=0;Z<d;Z++){let le=0;for(let ce=0;ce<F;ce++){const M=ce+$;if(M<0||M>=h)continue;const G=H+M*l[1],X=M*b,re=Math.min(u-1,o?Math.round(X):Math.floor(X));if(R===re)for(let ue=0;ue<T;ue++){const de=ue+V;if(de<0||de>=p)continue;const we=G+de*l[2],Ce=de*C,Ne=Math.min(A-1,o?Math.round(Ce):Math.floor(Ce));Y===Ne&&(le+=y[we+Z])}}m[J+Z]=le}}}}return n.makeTensorInfo(s.shape,s.dtype,m)}const Yze={kernelName:qI,backendName:"cpu",kernelFunc:Xze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dims:i}=r;kt(s,"reverse");const o=s.shape.length,a=Nn(i,s.shape);if(o===0)return CA({inputs:{x:s},backend:n});const l=new Qs(s.shape,s.dtype),c=n.bufferSync(s);for(let u=0;u<l.size;u++){const A=l.indexToLoc(u),d=A.slice();a.forEach(h=>d[h]=s.shape[h]-1-d[h]),l.set(c.get(...d),...A)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}const Jze={kernelName:Yb,backendName:"cpu",kernelFunc:Zze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eVe={kernelName:hE,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:s,fillValue:i,center:o}=e,a=n,l=gi(r.dtype,Oe(r.shape)),[c,u,A,d]=r.shape,[h,p]=YO(o,u,A),m=255,y=Math.sin(s),g=Math.cos(s),v=a.data.get(r.dataId).values;for(let C=0;C<c;C++){const _=C*A*u*d;for(let I=0;I<u;I++){const F=I*(A*d);for(let T=0;T<A;T++){const D=T*d;for(let H=0;H<d;H++){const R=[c,I,T,H],U=R[2],W=R[1];let $=(U-h)*g-(W-p)*y,Y=(U-h)*y+(W-p)*g;$=Math.round($+h),Y=Math.round(Y+p);let J=i;if(typeof i!="number"&&(H===3?J=m:J=i[H]),$>=0&&$<A&&Y>=0&&Y<u){const V=Y*(A*d),Z=$*d,le=_+V+Z+H;J=v[le]}const oe=_+F+D+H;l[oe]=J}}}}return{dataId:a.write(l,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tVe=ur(d1,t=>{const e=Math.floor(t);return t-e<.5?Math.floor(t):t-e>.5?Math.ceil(t):e%2===0?e:e+1}),nVe={kernelName:d1,backendName:"cpu",kernelFunc:tVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rVe(t){const{inputs:e,backend:n,attrs:r}=t,{indices:s,updates:i}=e,{shape:o}=r,{sliceRank:a,numUpdates:l,sliceSize:c,strides:u,outputSize:A}=Uf(i,s,o),d=!0,h=n.bufferSync(s),p=n.bufferSync(i),m=Up(h,p,o,A,c,l,a,u,0,d);return n.makeTensorInfo(o,m.dtype,m.values)}const sVe={kernelName:YI,backendName:"cpu",kernelFunc:rVe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iVe(t,e){let n=0,r=t.length,s=0;for(;n<r;)s=Math.floor((n+r)/2),t[s]<e?n=s+1:r=s;return r}function oVe(t,e){let n=0,r=t.length,s=0;for(;n<r;)s=Math.floor((n+r)/2),t[s]<=e?n=s+1:r=s;return r}function aVe(t,e,n,r,s,i){const o=As("int32",n*s);for(let a=0;a<n;++a){const l=t.slice(a*r,(a+1)*r),c=a*s;for(let u=0;u<s;++u)o[c+u]=i==="left"?iVe(l,e[u+c]):oVe(l,e[u+c])}return o}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lVe(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:s,values:i}=e,{side:o}=r,a=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,c=aVe(a,l,s.shape[0],s.shape[1],i.shape[1],o);return n.makeTensorInfo(i.shape,"int32",c)}const cVe={kernelName:JI,backendName:"cpu",kernelFunc:lVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uVe(t){const{inputs:e,backend:n}=t,{condition:r,t:s,e:i}=e;kt([r,s,i],"select");const o=r.shape.length,a=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values,u=Xo(s.dtype,i.dtype),A=Ti(Oe(s.shape),u);let d=0;const h=o===0||o>1||s.shape.length===1?1:Oe(s.shape.slice(1));for(let p=0;p<a.length;p++)for(let m=0;m<h;m++)a[p]===1?A[d++]=l[p]:A[d++]=c[p];return n.makeTensorInfo(s.shape,u,A)}const AVe={kernelName:Zb,backendName:"cpu",kernelFunc:uVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dVe=nk,hVe=rk,fVe=ur(f1,t=>t>=0?hVe*t:dVe*(Math.exp(t)-1)),pVe={kernelName:f1,backendName:"cpu",kernelFunc:fVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mVe=ur(g1,t=>t<0?-1:t>0?1:0),gVe={kernelName:g1,backendName:"cpu",kernelFunc:mVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yVe=ur(p1,t=>Math.sin(t)),wVe={kernelName:p1,backendName:"cpu",kernelFunc:yVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vVe=ur(m1,t=>Math.sinh(t)),xVe={kernelName:m1,backendName:"cpu",kernelFunc:vVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bVe=11920928955078125e-23,Lz=Math.log(bVe)+2,CVe=ur(w1,t=>{const e=t>-Lz,n=t<Lz,r=Math.exp(t);let s;return n?s=r:e?s=t:s=Math.log(1+r),s}),SVe={kernelName:w1,backendName:"cpu",kernelFunc:CVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BVe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,paddings:o}=r;kt([s],"spaceToBatchND");const a=Oe(i),l=[[0,0]];l.push(...o);for(let I=1+i.length;I<s.shape.length;++I)l.push([0,0]);const c=$ie.kernelFunc({inputs:{x:s},backend:n,attrs:{paddings:l,constantValue:0}}),u=I2(c.shape,i,a,!1),A=E2(u.length,i.length,!1),d=k2(c.shape,i,a,!1),m=kr({inputs:{x:c},backend:n,attrs:{shape:u}}),v=ta({inputs:{x:m},backend:n,attrs:{perm:A}}),_=kr({inputs:{x:v},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),_}const _Ve={kernelName:t2,backendName:"cpu",kernelFunc:BVe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NVe(t){const{inputs:e,backend:n}=t,{indices:r,values:s,denseShape:i,defaultValue:o}=e;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${r.shape}`);if(s.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${s.shape}`);if(o.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${o.shape}`);const a=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values,u=n.data.get(o.dataId).values[0],[A,d,h,p,m]=uie(a,r.shape,r.dtype,l,s.dtype,c,u);return[n.makeTensorInfo(d,r.dtype,A),n.makeTensorInfo([d[0]],s.dtype,h),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(y=>Number(y)))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}const IVe={kernelName:eE,backendName:"cpu",kernelFunc:NVe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EVe(t){const{inputs:e,backend:n}=t,{inputIndices:r,inputShape:s,newShape:i}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(s.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${s.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const o=Array.from(n.data.get(s.dataId).values),a=n.data.get(r.dataId).values,l=Array.from(n.data.get(i.dataId).values),[c,u,A]=Aie(a,r.shape,r.dtype,o,l);return[n.makeTensorInfo(u,r.dtype,c),n.makeTensorInfo([A.length],i.dtype,new Int32Array(A))]}const kVe={kernelName:tE,backendName:"cpu",kernelFunc:EVe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TVe(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${i.shape}`);if(s.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,[c,u]=H$(o,r.shape,r.dtype,a,l,!0);return n.makeTensorInfo(u,r.dtype,c)}const FVe={kernelName:nE,backendName:"cpu",kernelFunc:TVe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LVe(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${i.shape}`);if(s.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,[c,u]=H$(o,r.shape,r.dtype,a,l);return n.makeTensorInfo(u,r.dtype,c)}const DVe={kernelName:rE,backendName:"cpu",kernelFunc:LVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PVe(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:s,sparseValues:i,defaultValue:o}=e,{outputShape:a}=r,{sliceRank:l,numUpdates:c,sliceSize:u,strides:A,outputSize:d}=Uf(i,s,a),h=!1,p=n.bufferSync(s);let m;switch(i.dtype){case"bool":{const y=n.bufferSync(i),g=!!n.data.get(o.dataId).values[0];m=Up(p,y,a,d,u,c,l,A,g,h);break}case"float32":{const y=n.bufferSync(i),g=n.data.get(o.dataId).values[0];m=Up(p,y,a,d,u,c,l,A,g,h);break}case"int32":{const y=n.bufferSync(i),g=n.data.get(o.dataId).values[0];m=Up(p,y,a,d,u,c,l,A,g,h);break}case"string":{const y=n.bufferSync(i),g=vd(n.data.get(o.dataId).values[0]);m=Up(p,y,a,d,u,c,l,A,g,h);break}default:throw new Error(`Unsupported type ${i.dtype}`)}return n.makeTensorInfo(a,m.dtype,m.values)}const RVe={kernelName:sE,backendName:"cpu",kernelFunc:PVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OVe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{numOrSizeSplits:i,axis:o}=r,a=Nn(o,s.shape)[0],l=d$(s,i,a),c=new Array(s.shape.length).fill(0),u=s.shape.slice();return l.map(A=>{const d=[...u];d[a]=A;const h=km({inputs:{x:s},backend:n,attrs:{begin:c,size:d}});return c[a]+=A,h})}const $Ve={kernelName:n2,backendName:"cpu",kernelFunc:OVe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UVe={kernelName:iE,backendName:"cpu",kernelFunc:({inputs:t,backend:e})=>{const{x:n}=t,r=e;kt(n,"square");const s=r.data.get(n.dataId).values,i=new Float32Array(s.length);for(let a=0;a<s.length;++a){const l=s[a];i[a]=l*l}return{dataId:r.write(i,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MVe=ur(_1,(t,e)=>{const n=e;return isNaN(t)?NaN:t>0?1:n.alpha}),QVe={kernelName:_1,backendName:"cpu",kernelFunc:MVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jVe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,end:o,strides:a,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:A,shrinkAxisMask:d}=r;kt(s,"stridedSlice");const{finalShapeSparse:h,finalShape:p,isIdentity:m,sliceDim0:y,isSimpleSlice:g,begin:v,end:b,strides:C}=GO(s.shape,i,o,a,l,c,u,A,d);let _;if(m)_=kr({inputs:{x:s},backend:n,attrs:{shape:p}});else if(y||g){ee(s.shape.length>=1,()=>`Input must have rank at least 1, got: ${s.shape.length}`);const I=zO(v,b,C),F=km({inputs:{x:s},backend:n,attrs:{begin:v,size:I}});_=kr({inputs:{x:F},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(F)}else{const I=n.bufferSync(s),F=fie(h,I,C,v);_=n.makeTensorInfo(p,F.dtype,F.values)}return _}const HVe={kernelName:oE,backendName:"cpu",kernelFunc:jVe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zVe(t){const{inputs:e,backend:n,attrs:r}=t,{separator:s,nGramWidths:i,leftPad:o,rightPad:a,padWidth:l,preserveShortSequences:c}=r,{data:u,dataSplits:A}=e,d=n.data.get(u.dataId).values,h=n.data.get(A.dataId).values,[p,m]=pie(d,h,s,i,o,a,l,c);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(A.shape,"int32",m)]}const VVe={kernelName:aE,backendName:"cpu",kernelFunc:zVe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WVe(t){const{inputs:e,backend:n,attrs:r}=t,{skipEmpty:s}=r,{input:i,delimiter:o}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(o.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${o.shape}`);const a=n.data.get(i.dataId).values,l=n.data.get(o.dataId).values[0],[c,u,A]=mie(a,l,s),d=u.length;return[n.makeTensorInfo([d,2],"int32",c),n.makeTensorInfo([d],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(A))]}const GVe={kernelName:lE,backendName:"cpu",kernelFunc:WVe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KVe(t){const{inputs:e,backend:n,attrs:r}=t,{numBuckets:s}=r,{input:i}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const o=n.data.get(i.dataId).values,a=gie(o,s);return n.makeTensorInfo(i.shape,"int32",a)}const qVe={kernelName:cE,backendName:"cpu",kernelFunc:KVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XVe=ur(C1,t=>Math.tan(t)),YVe={kernelName:C1,backendName:"cpu",kernelFunc:XVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZVe=ur(S1,t=>Math.tanh(t)),JVe={kernelName:S1,backendName:"cpu",kernelFunc:ZVe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e7e(t){const{inputs:e,backend:n}=t,{tensor:r,indices:s,updates:i}=e,{sliceRank:o,numUpdates:a,sliceSize:l,strides:c,outputSize:u}=Uf(i,s,r.shape),A=!1,d=n.bufferSync(s),h=n.bufferSync(i),p=n.bufferSync(r),m=Up(d,h,r.shape,u,l,a,o,c,p,A);return n.makeTensorInfo(r.shape,m.dtype,m.values)}const t7e={kernelName:ZI,backendName:"cpu",kernelFunc:e7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n7e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reps:i}=r;kt(s,"tile");const o=wie(n.bufferSync(s),i);return n.makeTensorInfo(o.shape,o.dtype,o.values)}const r7e={kernelName:B1,backendName:"cpu",kernelFunc:n7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s7e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{k:i,sorted:o}=r;kt(s,"topk");const a=n.data.get(s.dataId).values,[l,c]=xie(a,s.shape,s.dtype,i,o);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(c.shape,c.dtype,c.values)]}const i7e={kernelName:uE,backendName:"cpu",kernelFunc:s7e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o7e(t){const{inputs:e,attrs:n,backend:r}=t,{image:s,transforms:i}=e,{interpolation:o,fillMode:a,fillValue:l,outputShape:c}=n,[u,A,d,h]=s.shape,[p,m]=c??[A,d],y=[u,p,m,h],g=Qt(s.shape),v=g[0],b=g[1],C=g[2],_=Qt(y),I=_[0],F=_[1],T=_[2],D=gi(s.dtype,Oe(y));D.fill(l);const H=r.data.get(s.dataId).values,R=r.data.get(i.dataId).values;for(let W=0;W<u;++W){const $=i.shape[0]===1?R:R.subarray(W*8,W*8+8);for(let Y=0;Y<p;++Y)for(let J=0;J<m;++J)for(let oe=0;oe<h;++oe){let V;const Z=$[6]*J+$[7]*Y+1;if(Z===0)continue;const le=($[0]*J+$[1]*Y+$[2])/Z,ce=($[3]*J+$[4]*Y+$[5])/Z,M=Dz(le,d,a),G=Dz(ce,A,a);switch(o){case"nearest":V=d7e(H,A,d,v,b,C,W,G,M,oe,l);break;case"bilinear":V=h7e(H,A,d,v,b,C,W,G,M,oe,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${o}`)}const X=W*I+Y*F+J*T+oe;D[X]=V}return r.makeTensorInfo(y,s.dtype,D)}return{dataId:r.write(D,y,s.dtype),shape:s.shape,dtype:s.dtype}}const a7e={kernelName:AE,backendName:"cpu",kernelFunc:o7e};function Dz(t,e,n){switch(n){case"reflect":return l7e(t,e);case"wrap":return c7e(t,e);case"nearest":return A7e(t,e);case"constant":default:return u7e(t)}}function l7e(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=2*e;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-e?n+r:-n-1}else if(n>e-1)if(e<=1)n=0;else{const r=2*e;n-=r*Math.trunc(n/r),n>=e&&(n=r-n-1)}return Af(0,n,e-1)}function c7e(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=e-1;n+=e*(Math.trunc(-n/r)+1)}else if(n>e-1)if(e<=1)n=0;else{const r=e-1;n-=e*Math.trunc(n/r)}return Af(0,n,e-1)}function u7e(t,e){return t}function A7e(t,e){return Af(0,t,e-1)}function Xw(t,e,n,r,s,i,o,a,l,c,u){const A=o*r+a*s+l*i+c;return 0<=a&&a<e&&0<=l&&l<n?t[A]:u}function d7e(t,e,n,r,s,i,o,a,l,c,u){const A=Math.round(a),d=Math.round(l);return Xw(t,e,n,r,s,i,o,A,d,c,u)}function h7e(t,e,n,r,s,i,o,a,l,c,u){const A=Math.floor(a),d=Math.floor(l),h=A+1,p=d+1,m=(p-l)*Xw(t,e,n,r,s,i,o,A,d,c,u)+(l-d)*Xw(t,e,n,r,s,i,o,A,p,c,u),y=(p-l)*Xw(t,e,n,r,s,i,o,h,d,c,u)+(l-d)*Xw(t,e,n,r,s,i,o,h,p,c,u);return(h-a)*m+(a-A)*y}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f7e(t){const{inputs:e,attrs:n,backend:r}=t,{axis:s}=n,{x:i}=e;kt(i,"unique");const o=r.data.get(i.dataId).values,{outputValues:a,outputShape:l,indices:c}=bie(o,s,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,a),r.makeTensorInfo([c.length],"int32",c)]}const p7e={kernelName:dE,backendName:"cpu",kernelFunc:f7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m7e(t){const{inputs:e,backend:n,attrs:r}=t,{value:s}=e;let{axis:i}=r;i<0&&(i+=s.shape.length);const o=s.shape.length,a=s.shape[i],l=new Array(o-1);let c=0;for(let h=0;h<o;h++)h!==i&&(l[c++]=s.shape[h]);const u=new Array(o).fill(0),A=s.shape.slice();A[i]=1;const d=new Array(a);for(let h=0;h<d.length;h++){u[i]=h;const p=km({inputs:{x:s},backend:n,attrs:{begin:u,size:A}});d[h]=kr({inputs:{x:p},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(p)}return d}const g7e={kernelName:i2,backendName:"cpu",kernelFunc:m7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y7e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,segmentIds:i}=e,{numSegments:o}=r;kt(s,"unsortedSegmentSum");const a=s.shape.length,l=i.shape.length,c=[],u=[],A=a-l;let d=i;for(let p=0;p<A;++p){const m=Y_({inputs:{input:d},backend:n,attrs:{dim:p+1}});d=m,u.push(m)}for(let p=0;p<o;++p){const m=Nd(p,"int32"),y=n.makeTensorInfo([],"int32",m),g=Ose({inputs:{a:y,b:d},backend:n}),v=bf({inputs:{x:g},backend:n,attrs:{dtype:"float32"}}),b=pk({inputs:{a:v,b:s},backend:n}),C=U2({inputs:{x:b},backend:n,attrs:{axis:0,keepDims:!1}});c.push(C),u.push(y),u.push(g),u.push(v),u.push(b),u.push(C)}const h=Oie({inputs:c,backend:n,attrs:{axis:0}});return u.forEach(p=>n.disposeIntermediateTensorInfo(p)),h}const w7e={kernelName:o2,backendName:"cpu",kernelFunc:y7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v7e=[f8e,K6e,m8e,y8e,eQe,v8e,b8e,S8e,_8e,I8e,k8e,F8e,D8e,O8e,U8e,j8e,z8e,W8e,K8e,d8e,X8e,Z8e,eje,nQe,nje,Z6e,sQe,sje,q6e,oje,lje,cje,Aje,hje,pje,gje,wje,xje,Cje,Bje,Nje,Eje,Tje,Lje,Dje,Rje,$je,Mje,Qje,jje,Hje,Vje,Kje,i8e,Xje,iQe,sHe,oQe,iHe,lQe,AHe,dHe,fHe,uQe,dQe,mHe,yHe,vHe,bHe,fQe,mQe,X6e,SHe,aje,_He,IHe,kHe,o8e,yQe,vQe,FHe,bQe,DHe,OHe,UHe,jHe,zHe,WHe,GHe,SQe,qHe,YHe,JHe,tze,rze,ize,aze,_Qe,cze,dze,pze,IQe,kQe,yze,xze,Sze,FQe,_ze,Ize,Eze,$ie,Lze,l8e,PQe,Pze,Oze,Uze,Qze,Y6e,_L,Hze,c8e,u8e,A8e,Vze,Gze,qze,Yze,Jze,eVe,nVe,HQe,sVe,cVe,AVe,pVe,VQe,gVe,wVe,xVe,WQe,hze,SVe,_Ve,IVe,kVe,FVe,DVe,RVe,$Ve,qQe,UVe,YQe,JQe,QVe,HVe,VVe,GVe,qVe,r8e,Wje,YVe,JVe,t7e,r7e,i7e,a7e,LQe,p7e,g7e,w7e,Nze];for(const t of v7e)fE(t);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _p={},_S={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function x7e(t,e){_p[t]=e}function fu(t,e){if(!(t in _p)||e!=null){const r=C7e(t,e);if(r!==null)_p[t]=r;else return console.log("Could not get context for WebGL version",t),null}const n=_p[t];return n==null||n.isContextLost()?(delete _p[t],fu(t)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),_p[t])}function b7e(t){if(!Le().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&t===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function C7e(t,e){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=e??b7e(t);return n.addEventListener("webglcontextlost",r=>{r.preventDefault(),delete _p[t]},!1),Le().getBool("SOFTWARE_WEBGL_ENABLED")&&(_S.failIfMajorPerformanceCaveat=!1),t===1?n.getContext("webgl",_S)||n.getContext("experimental-webgl",_S):n.getContext("webgl2",_S)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Nx;(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(Nx||(Nx={}));var ul;(function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"})(ul||(ul={}));var Ni;(function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Ni||(Ni={}));function M2(t,e){return[e,t]}function S7e(t,e){return t*e}function NS(t){const e=Oe(t),n=Math.ceil(e/4);return __(n)}function P1(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function B7e(t,e){const[n,r]=P1(t,e);return n*r*4}function K$(t,e){const n=t;let r,s,i,o,a,l,c,u,A,d;return Le().getNumber("WEBGL_VERSION")===2?(r=n.R32F,s=n.R16F,i=n.RGBA16F,o=n.RGBA32F,a=n.RED,c=4,u=1,A=n.HALF_FLOAT,d=n.FLOAT,l=n.RGBA8):(r=t.RGBA,s=t.RGBA,i=t.RGBA,o=n.RGBA,a=t.RGBA,c=4,u=4,A=e!=null?e.HALF_FLOAT_OES:null,d=t.FLOAT,l=t.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:s,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:o,textureFormatFloat:a,downloadTextureFormat:l,downloadUnpackNumChannels:c,defaultNumChannels:u,textureTypeHalfFloat:A,textureTypeFloat:d}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pt(t,e){const n=e();return Le().getBool("DEBUG")&&_7e(t),n}function _7e(t){const e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+k7e(t,e))}const N7e=596e-10,I7e=65504;function E7e(t){return!!(Le().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||N7e<Math.abs(t)&&Math.abs(t)<I7e)}function k7e(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${e}`}}function IS(t,e){return Dd(t,()=>t.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function T7e(t,e){const n=Dd(t,()=>t.createShader(t.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(pt(t,()=>t.shaderSource(n,e)),pt(t,()=>t.compileShader(n)),t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function F7e(t,e){const n=Dd(t,()=>t.createShader(t.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(pt(t,()=>t.shaderSource(n,e)),pt(t,()=>t.compileShader(n)),Le().get("ENGINE_COMPILE_ONLY"))return n;if(t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw Uie(e,t.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const L7e=/ERROR: [0-9]+:([0-9]+):/g;function Uie(t,e){const n=L7e.exec(e);if(n==null){console.log(`Couldn't parse line number in error: ${e}`),console.log(t);return}const r=+n[1],s=t.split(`
`),i=s.length.toString().length+2,o=s.map((A,d)=>Zp((d+1).toString(),i)+A);let a=0;for(let A=0;A<o.length;A++)a=Math.max(o[A].length,a);const l=o.slice(0,r-1),c=o.slice(r-1,r),u=o.slice(r);console.log(l.join(`
`)),console.log(e.split(`
`)[0]),console.log(`%c ${Zp(c[0],a)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(u.join(`
`))}function D7e(t){return Dd(t,()=>t.createProgram(),"Unable to create WebGLProgram.")}function P7e(t,e){if(pt(t,()=>t.linkProgram(e)),!Le().get("ENGINE_COMPILE_ONLY")&&t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function Z5(t,e){if(pt(t,()=>t.validateProgram(e)),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function R7e(t,e){const n=Dd(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return pt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),pt(t,()=>t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function O7e(t,e){const n=Dd(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return pt(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)),pt(t,()=>t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function $7e(t){return Dd(t,()=>t.createTexture(),"Unable to create WebGLTexture.")}function U7e(t,e){const n=Le().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){const r=`[${t}x${e}]`;throw new Error("Requested texture size "+r+" is invalid.")}if(t>n||e>n){const r=`[${t}x${e}]`,s=`[${n}x${n}]`;throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+s+".")}}function M7e(t){return Dd(t,()=>t.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function Pz(t,e,n,r,s,i,o){const a=t.getAttribLocation(e,n);return a===-1?!1:(pt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,r)),pt(t,()=>t.vertexAttribPointer(a,s,t.FLOAT,!1,i,o)),pt(t,()=>t.enableVertexAttribArray(a)),!0)}function Q7e(t,e,n){W7e(t,n),pt(t,()=>t.activeTexture(t.TEXTURE0+n)),pt(t,()=>t.bindTexture(t.TEXTURE_2D,e))}function j7e(t,e,n){return Dd(t,()=>t.getUniformLocation(e,n),'uniform "'+n+'" not present in program.')}function H7e(t,e,n){return t.getUniformLocation(e,n)}function z7e(t,e,n,r){pt(t,()=>Q7e(t,e,r)),pt(t,()=>t.uniform1i(n,r))}function J5(t,e,n){pt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,n)),pt(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0))}function Rz(t,e){pt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,e)),pt(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0))}function ES(t){const e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+V7e(t,e))}function V7e(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${e}`}}function Dd(t,e,n){const r=pt(t,()=>e());if(r==null)throw new Error(n);return r}function W7e(t,e){const n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n){const s=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${s}.`)}}function hy(t,e=2){return Oe(t.slice(0,t.length-e))}function fy(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function kS(t){let e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[hy(t),...fy(t)]),e}function G7e(t,e=!1){let n=Le().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=Le().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");r===1/0&&Le().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),e&&(n=n*2,r=r*2,t=t.map((a,l)=>l>=t.length-2?aI(t[l]):t[l]),t.length===1&&(t=[2,t[0]])),t.length!==2&&(t=_d(t).newShape);let s=Oe(t),i=null;t.length<=1&&s<=n?i=[1,s]:t.length===2&&t[0]<=n&&t[1]<=n?i=t:t.length===3&&t[0]*t[1]<=n&&t[2]<=n?i=[t[0]*t[1],t[2]]:t.length===3&&t[0]<=n&&t[1]*t[2]<=n?i=[t[0],t[1]*t[2]]:t.length===4&&t[0]*t[1]*t[2]<=n&&t[3]<=n?i=[t[0]*t[1]*t[2],t[3]]:t.length===4&&t[0]<=n&&t[1]*t[2]*t[3]<=n&&(i=[t[0],t[1]*t[2]*t[3]]);const o=i!=null&&Math.max(...i)>r&&Math.min(...i)<=(e?2:1)&&Math.min(...i)>0;if(i==null||o)if(e){const a=hy(t);let l=2,c=2;t.length&&([l,c]=fy(t)),s=a*(l/2)*(c/2),i=__(s).map(u=>u*2)}else i=__(s);return i}function TS(t){return t%2===0}function J_(t,e){if(t=t.slice(-2),e=e.slice(-2),Tn(t,e)||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){const n=t[t.length-1],r=e[e.length-1];if(n===r||TS(n)&&TS(r)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&TS(t[0])&&TS(e[0])}let eF,tF;function K7e(t){if(eF==null){const e=fu(t);eF=e.getParameter(e.MAX_TEXTURE_SIZE)}return eF}function q7e(t){if(tF==null){const e=fu(t);tF=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,tF)}function X7e(t){if(t===0)return 0;let e;const n=fu(t);return ec(n,"EXT_disjoint_timer_query_webgl2")&&t===2?e=2:ec(n,"EXT_disjoint_timer_query")?e=1:e=0,e}function ec(t,e){return t.getExtension(e)!=null}function Oz(t){try{if(fu(t)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function Y7e(t){if(t===0)return!1;const e=fu(t);if(t===1){if(!ec(e,"OES_texture_float"))return!1}else if(!ec(e,"EXT_color_buffer_float"))return!1;return IL(e)}function Z7e(t){if(t===0)return!1;const e=fu(t);if(t===1){if(!ec(e,"OES_texture_float")||!ec(e,"WEBGL_color_buffer_float"))return!1}else{if(ec(e,"EXT_color_buffer_float"))return IL(e);const r="EXT_color_buffer_half_float";if(ec(e,r)){const s=e.getExtension(r);return J7e(e,s)}return!1}return IL(e)}function IL(t){const e=K$(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);const i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);const o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(i),o}function J7e(t,e){const n=K$(t,e),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);const a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(r),t.deleteFramebuffer(o),a}function eWe(t){return t!==2?!1:fu(t).fenceSync!=null}function Q2(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&ee(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the WebGL backend.`)})}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lt=Le();Lt.registerFlag("HAS_WEBGL",()=>Lt.getNumber("WEBGL_VERSION")>0);Lt.registerFlag("WEBGL_VERSION",()=>Oz(2)?2:Oz(1)?1:0);Lt.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);Lt.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>Lt.get("WEBGL_VERSION")===2);Lt.registerFlag("WEBGL_CPU_FORWARD",()=>!0);Lt.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);Lt.registerFlag("WEBGL_PACK",()=>Lt.getBool("HAS_WEBGL"));Lt.registerFlag("WEBGL_PACK_NORMALIZATION",()=>Lt.getBool("WEBGL_PACK"));Lt.registerFlag("WEBGL_PACK_CLIP",()=>Lt.getBool("WEBGL_PACK"));Lt.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>Lt.getBool("WEBGL_PACK"));Lt.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>Lt.getBool("WEBGL_PACK"));Lt.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>Lt.getBool("WEBGL_PACK"));Lt.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>Lt.getBool("WEBGL_PACK"));Lt.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>Lt.getBool("WEBGL_PACK"));Lt.registerFlag("WEBGL_PACK_REDUCE",()=>Lt.getBool("WEBGL_PACK"));Lt.registerFlag("WEBGL_LAZILY_UNPACK",()=>Lt.getBool("WEBGL_PACK"));Lt.registerFlag("WEBGL_CONV_IM2COL",()=>Lt.getBool("WEBGL_PACK"));Lt.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>Lt.getBool("WEBGL_PACK"));Lt.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>K7e(Lt.getNumber("WEBGL_VERSION")));Lt.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>q7e(Lt.getNumber("WEBGL_VERSION")));Lt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const t=Lt.getNumber("WEBGL_VERSION");return t===0?0:X7e(t)});Lt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>Lt.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!pR());Lt.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>Y7e(Lt.getNumber("WEBGL_VERSION")));Lt.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>Lt.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:Lt.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));Lt.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>Z7e(Lt.getNumber("WEBGL_VERSION")));Lt.registerFlag("WEBGL_FENCE_API_ENABLED",()=>eWe(Lt.getNumber("WEBGL_VERSION")));Lt.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>Lt.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);Lt.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,t=>{if(typeof t!="number")throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${t}.`);if(t<0&&t!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${t}.`)});Lt.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>pR()?1:-1,t=>{if(typeof t!="number")throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${t}.`);if(t<0&&t!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${t}.`)});Lt.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);Lt.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);Lt.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);Lt.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);Lt.registerFlag("WEBGL_EXP_CONV",()=>!1);Lt.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>Lt.getBool("IS_TEST"));Lt.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);Lt.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);Lt.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);Lt.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Io(){let t,e,n,r,s,i,o,a,l,c;return Le().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",n="out",r="in",s="texture",i="outputColor",o="out vec4 outputColor;",a=Le().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",l="",c=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(t="",e="attribute",n="varying",r="varying",s="texture2D",i="gl_FragColor",o="",a=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,c=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:t,attribute:e,varyingVs:n,varyingFs:r,texture2D:s,output:i,defineOutput:o,defineSpecialNaN:a,defineSpecialInf:l,defineRound:c}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zm(t,e,n="index"){const r=Qt(e);return r.map((s,i)=>{const o=`int ${t[i]} = ${n} / ${s}`,a=i===r.length-1?`int ${t[i+1]} = ${n} - ${t[i]} * ${s}`:`index -= ${t[i]} * ${s}`;return`${o}; ${a};`}).join("")}function mk(t,e,n="index"){const r=Qt(e);return r.map((s,i)=>{const o=`int ${t[i]} = ${n} / outShapeStrides[${i}]`,a=i===r.length-1?`int ${t[i+1]} = ${n} - ${t[i]} * outShapeStrides[${i}]`:`index -= ${t[i]} * outShapeStrides[${i}]`;return`${o}; ${a};`}).join("")}function tWe(t,e){const n=t.length,r=t.map(i=>`${e}[${i}]`),s=new Array(n-1);s[n-2]=r[n-1];for(let i=n-3;i>=0;--i)s[i]=`(${s[i+1]} * ${r[i+1]})`;return s}function nWe(t,e,n="index"){const r=t.map((i,o)=>o),s=tWe(r,e);return s.map((i,o)=>{const a=`int ${t[o]} = ${n} / ${s[o]}`,l=o===s.length-1?`int ${t[o+1]} = ${n} - ${t[o]} * ${s[o]}`:`index -= ${t[o]} * ${s[o]}`;return`${a}; ${l};`}).join("")}function q$(t){const e=Qt(t).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${e[0]} + coords.y * ${e[1]} + coords.z;
  }
`}function X$(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const Mie=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{getBroadcastDims:Qie}=lne;function rWe(t,e,n){const r=[];if(t.forEach(h=>{const p=Oe(h.shapeInfo.logicalShape);if(h.shapeInfo.isUniform?r.push(`uniform float ${h.name}${p>1?`[${p}]`:""};`):(r.push(`uniform sampler2D ${h.name};`),r.push(`uniform int offset${h.name};`)),n.enableShapeUniforms){const{uniformShape:m}=Y$(n.packedInputs,h.shapeInfo.logicalShape,h.shapeInfo.texShape);switch(m.length){case 1:r.push(`uniform int ${h.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${h.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${h.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${h.name}Shape;`);break}r.push(`uniform ivec2 ${h.name}TexShape;`)}}),n.enableShapeUniforms){switch(e.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;");break}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(h=>{r.push(`uniform ${h.type} ${h.name}${h.arrayIndex?`[${h.arrayIndex}]`:""};`)});const s=r.join(`
`),i=t.map(h=>sWe(h,e,n.packedInputs,n.enableShapeUniforms)).join(`
`),o=e.texShape,a=Io(),l=aWe(a);let c,u,A=uWe(a);return e.isPacked?(c=iWe(e.logicalShape,o,n.enableShapeUniforms),u=cWe(a)):(c=oWe(e.logicalShape,o,n.enableShapeUniforms),u=lWe(a)),n.packedInputs&&(A+=fWe),[A,l,u,s,c,i,n.userCode].join(`
`)}function R1(t,e=!1){const n=t.shapeInfo.logicalShape;switch(n.length){case 0:return _We(t,e);case 1:return IWe(t,e);case 2:return kWe(t,e);case 3:return FWe(t,e);case 4:return DWe(t,e);case 5:return PWe(t);case 6:return RWe(t);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function jie(t,e){switch(t.shapeInfo.logicalShape.length){case 0:return BWe(t);case 1:return NWe(t,e);case 2:return EWe(t,e);case 3:return TWe(t,e);default:return LWe(t,e)}}function sWe(t,e,n=!1,r){let s="";n?s+=jie(t,r):s+=R1(t,r);const i=t.shapeInfo.logicalShape,o=e.logicalShape;return i.length<=o.length&&(n?s+=OWe(t,e):s+=$We(t,e)),s}function iWe(t,e,n){switch(t.length){case 0:return Hie();case 1:return pWe(t,e,n);case 2:return CWe(t,e,n);case 3:return gWe(t,e,n);default:return wWe(t,e,n)}}function oWe(t,e,n){switch(t.length){case 0:return Hie();case 1:return mWe(t,e,n);case 2:return SWe(t,e,n);case 3:return yWe(t,e,n);case 4:return vWe(t,e,n);case 5:return xWe(t,e);case 6:return bWe(t,e);default:throw new Error(`${t.length}-D output sampling is not yet supported`)}}function aWe(t){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${t.texture2D}(textureSampler, uv).r;
    }
  `}function lWe(t){return`
    void setOutput(float val) {
      ${t.output} = vec4(val, 0, 0, 0);
    }
  `}function cWe(t){return`
    void setOutput(vec4 val) {
      ${t.output} = val;
    }
  `}function uWe(t){return`${t.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${t.varyingFs} vec2 resultUV;
    ${t.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${t.defineSpecialNaN}
    ${t.defineSpecialInf}
    ${t.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${AWe}
    ${dWe}
    ${hWe}
  `}const AWe=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,dWe=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,hWe=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,fWe=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function Hie(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function pWe(t,e,n){const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return r[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${r[1]}.0);
      }
    `:r[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${r[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);
    }
  `}function mWe(t,e,n){return e[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${e[1]}.0);
      }
    `:e[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${e[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      return resTexRC.x * ${e[1]} + resTexRC.y;
    }
  `}function gWe(t,e,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],s=Math.ceil(t[2]/2),i=s*Math.ceil(t[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec3(b, r, c);
    }
  `}function yWe(t,e,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${mk(["r","c","d"],t)}
    return ivec3(r, c, d);
  }
`;const r=Zm(["r","c","d"],t);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${r}
      return ivec3(r, c, d);
    }
  `}function wWe(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],s=Math.ceil(t[t.length-1]/2),i=s*Math.ceil(t[t.length-2]/2);let o=i,a="",l="b, r, c";for(let c=2;c<t.length-1;c++)o*=t[t.length-c-1],a=`
      int b${c} = index / ${o};
      index -= b${c} * ${o};
    `+a,l=`b${c}, `+l;return`
    ivec${t.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      ${a}

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec${t.length}(${l});
    }
  `}function vWe(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${mk(["r","c","d","d2"],t)}
      return ivec4(r, c, d, d2);
    }
  `;const r=Zm(["r","c","d","d2"],t);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${r}
      return ivec4(r, c, d, d2);
    }
  `}function xWe(t,e){const n=Zm(["r","c","d","d2","d3"],t);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${e[0]},
                             ${e[1]}));

      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function bWe(t,e){const n=Zm(["r","c","d","d2","d3","d4"],t);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function CWe(t,e,n){const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(Tn(t,e))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));
      }
    `;const s=Math.ceil(t[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));

      int index = resTexRC.x * ${r[1]} + resTexRC.y;
      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec2(r, c);
    }
  `}function SWe(t,e,n){return Tn(t,e)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${e[0]}, ${e[1]}));
      }
    `:t[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:t[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      int r = index / ${t[1]};
      int c = index - r * ${t[1]};
      return ivec2(r, c);
    }
  `}function Jm(t){return`offset${t}`}function BWe(t){const e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),r=Io();return`
    vec4 ${n}() {
      return ${r.texture2D}(${e}, halfCR);
    }
  `}function _We(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[s,i]=t.shapeInfo.texShape;if(s===1&&i===1)return`
      float ${r}() {
        return sampleTexture(${n}, halfCR);
      }
    `;const o=Jm(n);if(e)return`
    float ${r}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${o});
      return sampleTexture(${n}, uv);
    }
  `;const[a,l]=t.shapeInfo.texShape;return`
    float ${r}() {
      vec2 uv = uvFromFlat(${a}, ${l}, ${o});
      return sampleTexture(${n}, uv);
    }
  `}function NWe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=t.shapeInfo.texShape,i=Io();if(e)return`
    vec4 ${r}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${i.texture2D}(${n}, uv);
    }
  `;const o=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];return`
    vec4 ${r}(int index) {
      vec2 uv = packedUVfrom1D(
        ${o[0]}, ${o[1]}, index);
      return ${i.texture2D}(${n}, uv);
    }
  `}function IWe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`
      float ${r}(int index) {
        ${O1(t)}
      }
    `;const s=t.shapeInfo.texShape,i=s[0],o=s[1];if(o===1&&i===1)return`
      float ${r}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;const a=Jm(n);return o===1?e?`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${a}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${a}) + 0.5) / ${i}.0);
        return sampleTexture(${n}, uv);
      }
    `:i===1?e?`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${a}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${a}) + 0.5) / ${o}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:e?`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${a});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${i}, ${o}, index + ${a});
      return sampleTexture(${n}, uv);
    }
  `}function EWe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape,o=i[0],a=i[1],l=Io();if(i!=null&&Tn(n,i))return e?`
      vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);

        return ${l.texture2D}(${r}, uv);
      }
    `:`
      vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${a}.0, ${o}.0);

        return ${l.texture2D}(${r}, uv);
      }
    `;if(e)return`
    vec4 ${s}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `;const c=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],u=Math.ceil(n[1]/2);return`
    vec4 ${s}(int row, int col) {
      vec2 uv = packedUVfrom2D(${u}, ${c[0]}, ${c[1]}, row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `}function kWe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape;if(i!=null&&Tn(n,i)){if(e)return`
      float ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `;const d=i[0],h=i[1];return`
    float ${s}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${h}.0, ${d}.0);
      return sampleTexture(${r}, uv);
    }
  `}const{newShape:o,keptDims:a}=_d(n),l=o;if(l.length<n.length){const d=$1(t,l),h=["row","col"];return`
      ${R1(d,e)}
      float ${s}(int row, int col) {
        return ${s}(${U1(h,a)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${O1(t)}
      }
    `;const c=i[0],u=i[1],A=Jm(r);return u===1?e?`
      float ${s}(int row, int col) {
        float index = dot(vec3(row, col, ${A}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col) {
      float index = dot(vec3(row, col, ${A}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${c}.0);
      return sampleTexture(${r}, uv);
    }
  `:c===1?e?`
      float ${s}(int row, int col) {
        float index = dot(vec3(row, col, ${A}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col) {
      float index = dot(vec3(row, col, ${A}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${u}.0, 0.5);
      return sampleTexture(${r}, uv);
    }
  `:e?`
      float ${s}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${r}Shape[1] + col + ${A};
        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
        return sampleTexture(${r}, uv);
      }
    `:`
  float ${s}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${A};
    vec2 uv = uvFromFlat(${c}, ${u}, index);
    return sampleTexture(${r}, uv);
  }
`}function TWe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape,o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(n[0]===1){const d=n.slice(1),h=[1,2],p=$1(t,d),m=["b","row","col"];return`
        ${jie(p,e)}
        vec4 ${s}(int b, int row, int col) {
          return ${s}(${U1(m,h)});
        }
      `}const a=Io();if(e)return`
    vec4 ${s}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${a.texture2D}(${r}, uv);
    }
  `;const l=o[0],c=o[1],u=Math.ceil(n[2]/2),A=u*Math.ceil(n[1]/2);return`
    vec4 ${s}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${l}, ${c}, ${A}, ${u}, b, row, col);
      return ${a.texture2D}(${r}, uv);
    }
  `}function FWe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],o=n[2],{newShape:a,keptDims:l}=_d(n),c=a;if(c.length<n.length){const m=$1(t,c),y=["row","col","depth"];return`
        ${R1(m,e)}
        float ${s}(int row, int col, int depth) {
          return ${s}(${U1(y,l)});
        }
      `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${i}, ${o}, 1)));
        ${O1(t)}
      }
    `;const u=t.shapeInfo.texShape,A=u[0],d=u[1],h=t.shapeInfo.flatOffset;if(d===i&&h==null)return e?`
      float ${s}(int row, int col, int depth) {
        int stride1 = ${r}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
        float ${s}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${o}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${d}.0, ${A}.0);
          return sampleTexture(${r}, uv);
        }
      `;if(d===o&&h==null)return e?`
      float ${s}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}.0, ${A}.0);
      return sampleTexture(${r}, uv);
    }
  `;const p=Jm(r);return e?`
    float ${s}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${r}Shape[1] * ${r}Shape[2];
      int stride1 = ${r}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${p};
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
      return sampleTexture(${r}, uv);
    }
    `:`
      float ${s}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${i} + col * ${o} + depth + ${p};
        vec2 uv = uvFromFlat(${A}, ${d}, index);
        return sampleTexture(${r}, uv);
      }
  `}function LWe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=Io();if(e)return`
    vec4 ${r}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${s.texture2D}(${n}, uv);
    }
  `;const i=t.shapeInfo.logicalShape,o=i.length,a=t.shapeInfo.texShape,l=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],c=l[0],u=l[1],A=Math.ceil(i[o-1]/2);let d=A*Math.ceil(i[o-2]/2),h="int b, int row, int col",p=`b * ${d} + (row / 2) * ${A} + (col / 2)`;for(let m=2;m<o-1;m++)h=`int b${m}, `+h,d*=i[o-m-1],p=`b${m} * ${d} + `+p;return`
    vec4 ${r}(${h}) {
      int index = ${p};
      int texR = index / ${u};
      int texC = index - texR * ${u};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${u}, ${c});
      return ${s.texture2D}(${n}, uv);
    }
  `}function DWe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],o=n[2]*i,a=n[1]*o,{newShape:l,keptDims:c}=_d(n);if(l.length<n.length){const v=$1(t,l),b=["row","col","depth","depth2"];return`
      ${R1(v,e)}
      float ${s}(int row, int col, int depth, int depth2) {
        return ${s}(${U1(b,c)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${a}, ${o}, ${i}, 1)));
        ${O1(t)}
      }
    `;const u=t.shapeInfo.flatOffset,A=t.shapeInfo.texShape,d=A[0],h=A[1],p=`int stride2 = ${r}Shape[3];`,m=`int stride1 = ${r}Shape[2] * stride2;`,y=`int stride0 = ${r}Shape[1] * stride1;`;if(h===a&&u==null)return e?`
      float ${s}(int row, int col, int depth, int depth2) {
        ${p}
        ${m}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${o}, ${i}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${d}.0);
        return sampleTexture(${r}, uv);
      }
    `;if(h===i&&u==null)return e?`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${d}.0);
        return sampleTexture(${r}, uv);
      }
    `;const g=Jm(r);return e?`
    float ${s}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${p}
      ${m}
      ${y}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${g});
      return sampleTexture(${r}, uv);
    }
  `:`
    float ${s}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${a} + col * ${o} +
          depth * ${i} + depth2;
      vec2 uv = uvFromFlat(${d}, ${h}, index + ${g});
      return sampleTexture(${r}, uv);
    }
  `}function PWe(t){const e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=e[4],i=e[3]*s,o=e[2]*i,a=e[1]*o,{newShape:l,keptDims:c}=_d(e);if(l.length<e.length){const m=$1(t,l),y=["row","col","depth","depth2","depth3"];return`
      ${R1(m)}
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        return ${r}(${U1(y,c)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${a}, ${o}, ${i}, ${s})) +
          depth3;
        ${O1(t)}
      }
    `;const u=t.shapeInfo.flatOffset,A=t.shapeInfo.texShape,d=A[0],h=A[1];if(h===a&&u==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${o}, ${i}, ${s}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${d}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(h===s&&u==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]},
               ${e[2]*e[3]}, ${e[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${d}.0);
        return sampleTexture(${n}, uv);
      }
    `;const p=Jm(n);return`
    float ${r}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${a} + col * ${o} + depth * ${i} +
          depth2 * ${s} + depth3 + ${p};
      vec2 uv = uvFromFlat(${d}, ${h}, index);
      return sampleTexture(${n}, uv);
    }
  `}function RWe(t){const e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:s,keptDims:i}=_d(e);if(s.length<e.length){const y=$1(t,s),g=["row","col","depth","depth2","depth3","depth4"];return`
      ${R1(y)}
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${r}(${U1(g,i)});
      }
    `}const o=e[5],a=e[4]*o,l=e[3]*a,c=e[2]*l,u=e[1]*c;if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${u}, ${c}, ${l}, ${a})) +
          dot(
            vec2(depth3, depth4),
            vec2(${o}, 1)));
        ${O1(t)}
      }
    `;const A=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,h=d[0],p=d[1];if(p===u&&A==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${c}, ${l}, ${a}, ${o})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${p}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(p===o&&A==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]*e[4]},
               ${e[2]*e[3]*e[4]},
               ${e[3]*e[4]},
               ${e[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${p}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;const m=Jm(n);return`
    float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${u} + col * ${c} + depth * ${l} +
          depth2 * ${a} + depth3 * ${o} + depth4 + ${m};
      vec2 uv = uvFromFlat(${h}, ${p}, index);
      return sampleTexture(${n}, uv);
    }
  `}function O1(t){const e=t.name,n=Oe(t.shapeInfo.logicalShape);return n<2?`return ${e};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${e}[i];
      }
    }
  `}function OWe(t,e){const n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),s="get"+r+"AtOutCoords",i=t.shapeInfo.logicalShape.length,o=e.logicalShape.length,a=Qie(t.shapeInfo.logicalShape,e.logicalShape),l=wr(o),c=o-i;let u;const A=["x","y","z","w","u","v"];i===0?u="":o<2&&a.length>=1?u="coords = 0;":u=a.map(v=>`coords.${A[v+c]} = 0;`).join(`
`);let d="";o<2&&i>0?d="coords":d=t.shapeInfo.logicalShape.map((v,b)=>`coords.${A[b+c]}`).join(", ");let h="return outputValue;";const m=Oe(t.shapeInfo.logicalShape)===1,g=Oe(e.logicalShape)===1;if(i===1&&!m&&!g)h=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(m&&!g)o===1?h=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:h=`
        return vec4(outputValue.x);
      `;else if(a.length){const v=i-2,b=i-1;a.indexOf(v)>-1&&a.indexOf(b)>-1?h="return vec4(outputValue.x);":a.indexOf(v)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":a.indexOf(b)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${s}() {
      ${l} coords = getOutputCoords();
      ${u}
      vec4 outputValue = get${r}(${d});
      ${h}
    }
  `}function $We(t,e){const n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),s="get"+r+"AtOutCoords",i=e.texShape,o=t.shapeInfo.texShape,a=t.shapeInfo.logicalShape.length,l=e.logicalShape.length;if(!t.shapeInfo.isUniform&&a===l&&t.shapeInfo.flatOffset==null&&Tn(o,i))return`
      float ${s}() {
        return sampleTexture(${n}, resultUV);
      }
    `;const c=wr(l),u=Qie(t.shapeInfo.logicalShape,e.logicalShape),A=l-a;let d;const h=["x","y","z","w","u","v"];a===0?d="":l<2&&u.length>=1?d="coords = 0;":d=u.map(m=>`coords.${h[m+A]} = 0;`).join(`
`);let p="";return l<2&&a>0?p="coords":p=t.shapeInfo.logicalShape.map((m,y)=>`coords.${h[y+A]}`).join(", "),`
    float ${s}() {
      ${c} coords = getOutputCoords();
      ${d}
      return get${r}(${p});
    }
  `}function wr(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error(`GPU for rank ${t} is not yet supported`)}function Y$(t,e,n){const{newShape:r,keptDims:s}=_d(e),i=e.length,o=t&&i===3&&e[0]===1,a=o?e.slice(1):r,l=!t&&i>1&&!Tn(e,n)&&r.length<i||o;return{useSqueezeShape:l,uniformShape:l?a:e,keptDims:s}}function $1(t,e){const n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function U1(t,e){return e.map(n=>t[n]).join(", ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UWe(t,e,n,r){const s=n.map((u,A)=>{const d={logicalShape:u.shape,texShape:u.isUniform?null:u.texData.texShape,isUniform:u.isUniform,isPacked:u.isUniform?!1:u.texData.isPacked,flatOffset:null};return u.texData!=null&&u.texData.slice!=null&&u.texData.slice.flatOffset>0&&(d.flatOffset=u.texData.slice.flatOffset),{name:e.variableNames[A],shapeInfo:d}}),i=s.map(u=>u.shapeInfo),o={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},a=rWe(s,o,e),l=F7e(t.gl,a),c=t.createProgram(l);return Le().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:l,source:a,webGLProgram:c,inShapeInfos:i,outShapeInfo:o,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(t.buildVao(c),Object.assign({program:e,fragmentShader:l,source:a,webGLProgram:c,inShapeInfos:i,outShapeInfo:o},zie(t,e,c)))}function zie(t,e,n){const r=[],s=[];let i,o,a,l=null,c=null;c=t.getUniformLocation(n,"NAN",!1),Le().getNumber("WEBGL_VERSION")===1&&(l=t.getUniformLocation(n,"INFINITY",!1));const u=!1;for(const A of e.variableNames){const d={name:A,uniform:t.getUniformLocation(n,A,u),offset:t.getUniformLocation(n,`offset${A}`,u)};e.enableShapeUniforms&&(d.shape=t.getUniformLocation(n,`${A}Shape`,u),d.texShape=t.getUniformLocation(n,`${A}TexShape`,u)),r.push(d)}if(e.enableShapeUniforms&&(i=t.getUniformLocation(n,"outShape",u),a=t.getUniformLocation(n,"outShapeStrides",u),o=t.getUniformLocation(n,"outTexShape",u)),e.customUniforms)for(const A of e.customUniforms)s.push(t.getUniformLocation(n,A.name,u));return{variablesLocations:r,customUniformLocations:s,infLoc:l,nanLoc:c,outShapeLocation:i,outShapeStridesLocation:a,outTexShapeLocation:o}}function $z(t,e){if(t.length!==e.length)throw Error(`Binary was compiled with ${t.length} inputs, but was executed with ${e.length} inputs`);t.forEach((n,r)=>{const s=n.logicalShape,i=e[r],o=i.shape;if(!Tn(s,o))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${s} and ${o} must match`);if(n.isUniform&&i.isUniform)return;const a=n.texShape,l=i.isUniform?null:i.texData.texShape;if(!Tn(a,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${a} and ${l} must match`)})}function MWe(t,e,n,r,s){e.program.enableShapeUniforms||($z(e.inShapeInfos,n),$z([e.outShapeInfo],[r]));const i=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?t.setOutputPackedMatrixTexture(i.texture,o[0],o[1]):t.setOutputMatrixTexture(i.texture,o[0],o[1]),t.setProgram(e.webGLProgram),t.bindVertexArray(e.webGLProgram.vao),Le().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&t.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&t.gl.uniform1f(e.nanLoc,NaN);for(let l=0;l<n.length;++l){const c=n[l],{uniform:u,offset:A,shape:d,texShape:h}=e.variablesLocations[l];if(d){const{uniformShape:p}=Y$(e.program.packedInputs,c.shape,c.texData.texShape);switch(p.length){case 1:t.gl.uniform1iv(d,new Int32Array(p));break;case 2:t.gl.uniform2iv(d,new Int32Array(p));break;case 3:t.gl.uniform3iv(d,new Int32Array(p));break;case 4:t.gl.uniform4iv(d,new Int32Array(p));break}}if(h&&t.gl.uniform2i(h,c.texData.texShape[0],c.texData.texShape[1]),u!=null){if(c.isUniform){if(Oe(c.shape)<2)t.gl.uniform1f(u,c.uniformValues[0]);else{let p=c.uniformValues;p instanceof Float32Array||(p=new Float32Array(p)),t.gl.uniform1fv(u,p)}continue}c.texData.slice!=null&&A!=null&&t.gl.uniform1i(A,c.texData.slice.flatOffset),t.setInputMatrixTexture(c.texData.texture.texture,u,l)}}const a=e.outShapeLocation;if(a)switch(r.shape.length){case 1:t.gl.uniform1iv(a,new Int32Array(r.shape));break;case 2:t.gl.uniform2iv(a,new Int32Array(r.shape));break;case 3:t.gl.uniform3iv(a,new Int32Array(r.shape));break;case 4:t.gl.uniform4iv(a,new Int32Array(r.shape));break}if(e.outShapeStridesLocation){const l=Qt(r.shape);switch(r.shape.length){case 2:t.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(l));break;case 3:t.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(l));break;case 4:t.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(l));break}}if(e.outTexShapeLocation&&t.gl.uniform2i(e.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),e.program.customUniforms&&s)for(let l=0;l<e.program.customUniforms.length;++l){const c=e.program.customUniforms[l],u=e.customUniformLocations[l],A=s[l];if(c.type==="float")t.gl.uniform1fv(u,A);else if(c.type==="vec2")t.gl.uniform2fv(u,A);else if(c.type==="vec3")t.gl.uniform3fv(u,A);else if(c.type==="vec4")t.gl.uniform4fv(u,A);else if(c.type==="int")t.gl.uniform1iv(u,A);else if(c.type==="ivec2")t.gl.uniform2iv(u,A);else if(c.type==="ivec3")t.gl.uniform3iv(u,A);else if(c.type==="ivec4")t.gl.uniform4iv(u,A);else throw Error(`uniform type ${c.type} is not supported yet.`)}t.executeProgram()}function QWe(t,e,n){let r="";e.concat(n).forEach(o=>{const a=o.texData!=null&&o.texData.slice!=null&&o.texData.slice.flatOffset>0;if(t.enableShapeUniforms&&!o.isUniform){const l=o.texData.texShape,{useSqueezeShape:c,uniformShape:u,keptDims:A}=Y$(t.packedInputs,o.shape,l);let d="",h="",p="";if(u.length===1&&t.packedInputs){const _=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];d=`${_[0]>1}_${_[1]>1}`}else if(u.length===2&&!t.packedInputs)h=`${u[0]>1}_${u[1]>1}`;else if(u.length>2&&!t.packedInputs){const _=Qt(u);p=`${_[0]===l[1]}_${_[_.length-1]===l[1]}`}const m=o.shape.length,y=u.length===2&&Tn(o.shape,l),g=Oe(o.shape)===1,v=Cm(o.shape,n.shape),b=!t.packedInputs&&m===n.shape.length&&Tn(l,n.texData.texShape),C=t.packedInputs||u.length>2?"":`${l[0]>1}_${l[1]>1}`;r+=`${m}_${b}_${c?A:""}_${u.length}_${g}_${v}_${y}_${d}_${h}_${p}_${C}_${a}`}else{const l=o.isUniform?"uniform":o.texData.texShape;r+=`${o.shape}_${l}_${a}`}});const s=t.userCode;let i=t.constructor.name;return i+="_"+r+"_"+s+`${Le().getNumber("WEBGL_VERSION")}`,i}function eo(t){return Le().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&t<=4}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jWe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Nx.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=Io();this.outputShape=e,this.enableShapeUniforms=eo(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?mk(["r","c","d"],e):Zm(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class HWe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Nx.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=Io();this.outputShape=e,this.enableShapeUniforms=eo(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?mk(["r","c","d"],e):Zm(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zWe{constructor(e){this.variableNames=["A"],this.outTexUsage=ul.DOWNLOAD;const n=Io();this.outputShape=e,this.userCode=`
      ${Mie}

      void main() {
        float x = getAAtOutCoords();
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class VWe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=ul.DOWNLOAD;const n=Io();this.outputShape=e,this.userCode=`
      ${Mie}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WWe={R:0,G:1,B:2,A:3};class Uz{constructor(e,n=!1,r="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const s=Io();this.outputShape=e,this.enableShapeUniforms=eo(this.outputShape.length);let i="result";n&&(i="floor(result * 255. + 0.5)");let o="";for(let a=0;a<r.length;a++){const l=r[a];o+=`
          if(offset == ${a}) {
            result = values[${WWe[l]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?X$():q$(e)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${r.length});

        flatIndex = idiv(flatIndex, ${r.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${s.texture2D}(A, uv);
          ${o}
        }
        ${s.output} = vec4(${i}, 0., 0., 0.);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GWe{constructor(e,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=Io();this.outputShape=e,this.enableShapeUniforms=eo(this.outputShape.length);let s="",i="result";n&&(i="floor(result * 255. + 0.5)");for(let o=0;o<=1;o++)for(let a=0;a<=1;a++){const l=o*2+a;s+=`
          localCoords = coords;
          if(localCoords[2] + ${a} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${a};
          if (localCoords[1] + ${o} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${o};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${r.texture2D}(A, uv);

            if (offset == 0) {
              result[${l}] = values[0];
            } else if (offset == 1) {
              result[${l}] = values[1];
            } else if (offset == 2) {
              result[${l}] = values[2];
            } else {
              result[${l}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?X$():q$(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${s}

          ${r.output} = ${i};
        }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KWe(t){const e=Io(),n=`${e.version}
    precision highp float;
    ${e.attribute} vec3 clipSpacePos;
    ${e.attribute} vec2 uv;
    ${e.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return T7e(t,n)}function qWe(t){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return R7e(t,e)}function XWe(t){const e=new Uint16Array([0,1,2,2,1,3]);return O7e(t,e)}function j2(t,e,n,r,s,i){U7e(e,n);const o=$7e(t),a=t.TEXTURE_2D;return pt(t,()=>t.bindTexture(a,o)),pt(t,()=>t.texParameteri(a,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)),pt(t,()=>t.texParameteri(a,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),pt(t,()=>t.texParameteri(a,t.TEXTURE_MIN_FILTER,t.NEAREST)),pt(t,()=>t.texParameteri(a,t.TEXTURE_MAG_FILTER,t.NEAREST)),Le().getNumber("WEBGL_VERSION")===1?pt(t,()=>t.texImage2D(a,0,r,e,n,0,s,i,null)):pt(t,()=>t.texStorage2D(a,1,r,e,n)),pt(t,()=>t.bindTexture(t.TEXTURE_2D,null)),{texture:o,texShape:[n,e]}}function Vie(t){return t.internalFormatFloat}function YWe(t,e,n,r){const[s,i]=M2(e,n);return j2(t,s,i,Vie(r),r.textureFormatFloat,t.FLOAT)}function Wie(t){return t.internalFormatHalfFloat}function ZWe(t,e,n,r){const[s,i]=M2(e,n);return j2(t,s,i,Wie(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function Gie(t){return t.downloadTextureFormat}function JWe(t,e,n,r){const[s,i]=M2(e,n);return j2(t,s,i,Gie(r),t.RGBA,t.UNSIGNED_BYTE)}function Kie(t){return t.internalFormatPackedFloat}function eGe(t,e,n,r){const[s,i]=P1(e,n);return j2(t,s,i,Kie(r),t.RGBA,t.FLOAT)}function qie(t){return t.internalFormatPackedHalfFloat}function tGe(t,e,n,r){const[s,i]=P1(e,n);return j2(t,s,i,qie(r),t.RGBA,r.textureTypeHalfFloat)}function nGe(t,e,n){return pt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),Pz(t,e,"clipSpacePos",n,3,20,0)&&Pz(t,e,"uv",n,2,20,12)}function rGe(t,e,n,r,s,i){pt(t,()=>t.bindTexture(t.TEXTURE_2D,e));let o,a,l;s instanceof Uint8Array?(o=new Uint8Array(n*r*4),a=t.UNSIGNED_BYTE,l=t.RGBA):(o=new Float32Array(n*r*4),a=t.FLOAT,l=i.internalFormatPackedFloat),o.set(s),Le().getNumber("WEBGL_VERSION")===2?pt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n,r,t.RGBA,a,o)):pt(t,()=>t.texImage2D(t.TEXTURE_2D,0,l,n,r,0,t.RGBA,a,o)),pt(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function sGe(t,e,n){pt(t,()=>t.bindTexture(t.TEXTURE_2D,e)),n.data instanceof Uint8Array?Le().getNumber("WEBGL_VERSION")===2?pt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,n.data)):pt(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n.width,n.height,0,t.RGBA,t.UNSIGNED_BYTE,n.data)):Le().getNumber("WEBGL_VERSION")===2?pt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,n)):pt(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)),pt(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function iGe(t,e,n,r){const s=t.createBuffer();pt(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,s));const a=4*4*e*n;return pt(t,()=>t.bufferData(t.PIXEL_PACK_BUFFER,a,t.STREAM_READ)),pt(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,0)),pt(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,null)),s}function oGe(t,e,n){const r=t,s=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,e),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,s),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),s}function aGe(t,e,n,r){const[s,i]=M2(e,n),o=4,a=new Uint8Array(S7e(e*n,o));return pt(t,()=>t.readPixels(0,0,s,i,r.downloadTextureFormat,t.UNSIGNED_BYTE,a)),new Float32Array(a.buffer)}function lGe(t,e,n,r,s,i,o,a){const l=t,c=new Float32Array(B7e(i,o));return l.bindBuffer(l.PIXEL_PACK_BUFFER,e),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}function cGe(t,e,n){const r=new Float32Array(e*n*4);return pt(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,r)),r}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nF{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const n=Le().getNumber("WEBGL_VERSION");if(e!=null?(this.gl=e,x7e(n,e)):this.gl=fu(n),e=this.gl,Le().getNumber("WEBGL_VERSION")===2){const i=e;this.createVertexArray=()=>pt(i,()=>i.createVertexArray()),this.bindVertexArray=o=>pt(i,()=>i.bindVertexArray(o)),this.deleteVertexArray=o=>pt(i,()=>i.deleteVertexArray(o)),this.getVertexArray=()=>pt(i,()=>i.getParameter(i.VERTEX_ARRAY_BINDING))}else if(e!=null){const i=e.getExtension("OES_vertex_array_object");if(i==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>pt(e,()=>i.createVertexArrayOES()),this.bindVertexArray=o=>pt(e,()=>i.bindVertexArrayOES(o)),this.deleteVertexArray=o=>pt(e,()=>i.deleteVertexArrayOES(o)),this.getVertexArray=()=>pt(e,()=>e.getParameter(i.VERTEX_ARRAY_BINDING_OES))}let r="WEBGL_color_buffer_float";const s="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),Le().getNumber("WEBGL_VERSION")===1){const i="OES_texture_float",o="OES_texture_half_float";if(this.textureFloatExtension=IS(this.gl,i),ec(this.gl,o))this.textureHalfFloatExtension=IS(this.gl,o);else if(Le().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),ec(this.gl,s))this.colorBufferHalfFloatExtension=IS(this.gl,s);else if(Le().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",ec(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else if(ec(this.gl,s))this.colorBufferHalfFloatExtension=this.gl.getExtension(s);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=qWe(this.gl),this.indexBuffer=XWe(this.gl),this.framebuffer=M7e(this.gl),this.textureConfig=K$(this.gl,this.textureHalfFloatExtension)}get debug(){return Le().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;pt(e,()=>e.finish()),pt(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),pt(e,()=>e.deleteFramebuffer(this.framebuffer)),pt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),pt(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),pt(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,n){return this.throwIfDisposed(),YWe(this.gl,e,n,this.textureConfig)}createFloat16MatrixTexture(e,n){return this.throwIfDisposed(),ZWe(this.gl,e,n,this.textureConfig)}createUnsignedBytesMatrixTexture(e,n){return this.throwIfDisposed(),JWe(this.gl,e,n,this.textureConfig)}uploadPixelDataToTexture(e,n){this.throwIfDisposed(),sGe(this.gl,e,n)}uploadDenseMatrixToTexture(e,n,r,s){this.throwIfDisposed(),rGe(this.gl,e,n,r,s,this.textureConfig)}createFloat16PackedMatrixTexture(e,n){return this.throwIfDisposed(),tGe(this.gl,e,n,this.textureConfig)}createPackedMatrixTexture(e,n){return this.throwIfDisposed(),eGe(this.gl,e,n,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(Rz(this.gl,this.framebuffer),this.outputTexture=null),pt(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,n,r){return this.downloadMatrixDriver(e,()=>aGe(this.gl,n,r,this.textureConfig))}downloadPackedMatrixFromBuffer(e,n,r,s,i,o){return lGe(this.gl,e,n,r,s,i,o,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,n){return oGe(this.gl,e,n)}createBufferFromTexture(e,n,r){this.bindTextureToFrameBuffer(e);const s=iGe(this.gl,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),s}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let n,r;if(Le().getBool("WEBGL_FENCE_API_ENABLED")){const s=e,i=s.fenceSync(s.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=()=>{const o=s.clientWaitSync(i,0,0);return o===s.ALREADY_SIGNALED||o===s.CONDITION_SATISFIED},n=i}else Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=()=>this.isQueryAvailable(n,Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):r=()=>!0;return{query:n,isFencePassed:r}}downloadMatrixFromPackedTexture(e,n,r){return this.downloadMatrixDriver(e,()=>cGe(this.gl,n,r))}createProgram(e){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=KWe(n));const r=D7e(n);pt(n,()=>n.attachShader(r,this.vertexShader)),pt(n,()=>n.attachShader(r,e)),P7e(n,r);const s=Object.assign(r,{vao:this.createVertexArray()});return this.debug&&Z5(n,s),s}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const n=this.gl;pt(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),nGe(n,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&(pt(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&Z5(this.gl,this.program),pt(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,n,r=!0){return this.throwIfDisposed(),r?j7e(this.gl,e,n):H7e(this.gl,e,n)}getAttributeLocation(e,n){return this.throwIfDisposed(),pt(this.gl,()=>this.gl.getAttribLocation(e,n))}getUniformLocationNoThrow(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)}setInputMatrixTexture(e,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),z7e(this.gl,e,n,r)}setOutputMatrixTexture(e,n,r){this.setOutputMatrixTextureDriver(e,r,n)}setOutputPackedMatrixTexture(e,n,r){this.throwIfDisposed();const[s,i]=P1(n,r);this.setOutputMatrixTextureDriver(e,s,i)}setOutputMatrixWriteRegion(e,n,r,s){this.setOutputMatrixWriteRegionDriver(r,e,s,n)}setOutputPackedMatrixWriteRegion(e,n,r,s){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&Z5(this.gl,this.program),ES(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const n=this.getVertexArray();console.assert(n===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}pt(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),pt(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=IS(this.gl,Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const r=this.gl,s=this.getQueryTimerExtensionWebGL2(),i=r.createQuery();return r.beginQuery(s.TIME_ELAPSED_EXT,i),i}const e=this.getQueryTimerExtensionWebGL1(),n=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,n),n}endQuery(){if(Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await O3(()=>this.disposed||this.isQueryAvailable(e,Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,n){if(n===0)return null;if(n===2){const r=this.gl;return r.getQueryParameter(e,r.QUERY_RESULT)/1e6}else{const r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,n){if(n===0)return!0;if(n===2){const r=this.gl,s=this.getQueryTimerExtensionWebGL2(),i=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(s.GPU_DISJOINT_EXT)),i&&!this.disjoint}else{const r=this.getQueryTimerExtensionWebGL1(),s=r.getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),s&&!this.disjoint}}pollFence(e){return new Promise(n=>{this.addItemToPoll(()=>e.isFencePassed(),()=>n())})}pollItems(){const e=uGe(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=e;++n){const{resolveFn:r}=this.itemsToPoll[n];r()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,n){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1)return;let r;"setTimeoutCustom"in Le().platform&&(r=Le().platform.setTimeoutCustom.bind(Le().platform)),O3(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,r)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),J5(this.gl,e,this.framebuffer),this.debug&&ES(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(J5(this.gl,this.outputTexture,this.framebuffer),this.debug&&ES(this.gl)):Rz(this.gl,this.framebuffer)}downloadMatrixDriver(e,n){this.bindTextureToFrameBuffer(e);const r=n();return this.unbindTextureToFrameBuffer(),r}setOutputMatrixTextureDriver(e,n,r){this.throwIfDisposed();const s=this.gl;J5(s,e,this.framebuffer),this.debug&&ES(s),this.outputTexture=e,pt(s,()=>s.viewport(0,0,n,r)),pt(s,()=>s.scissor(0,0,n,r))}setOutputMatrixWriteRegionDriver(e,n,r,s){this.throwIfDisposed(),pt(this.gl,()=>this.gl.scissor(e,n,r,s))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function uGe(t){let e=0;for(;e<t.length&&t[e]();++e);return e-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{addImpl:AGe,bincountImpl:Xie,bincountReduceImpl:dGe,bitwiseAndImpl:hGe,castImpl:fGe,ceilImpl:pGe,concatImpl:mGe,equalImpl:gGe,expImpl:yGe,expm1Impl:wGe,floorImpl:vGe,gatherNdImpl:xGe,gatherV2Impl:bGe,greaterImpl:CGe,greaterEqualImpl:SGe,lessImpl:BGe,lessEqualImpl:_Ge,linSpaceImpl:NGe,logImpl:IGe,maxImpl:EGe,maximumImpl:kGe,minimumImpl:TGe,multiplyImpl:FGe,negImpl:LGe,notEqualImpl:DGe,prodImpl:PGe,raggedGatherImpl:RGe,raggedRangeImpl:OGe,raggedTensorToTensorImpl:$Ge,rangeImpl:UGe,rsqrtImpl:MGe,scatterImpl:QGe,sigmoidImpl:jGe,simpleAbsImpl:Yie,sliceImpl:HGe,sparseFillEmptyRowsImpl:zGe,sparseReshapeImpl:VGe,sparseSegmentReductionImpl:Zie,sqrtImpl:WGe,staticRegexReplaceImpl:GGe,stridedSliceImpl:KGe,stringNGramsImpl:qGe,stringSplitImpl:XGe,stringToHashBucketFastImpl:YGe,subImpl:ZGe,tileImpl:JGe,topKImpl:eKe,transposeImpl:Z$,uniqueImpl:tKe}=s8e;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jie(t,e){return["x","y","z","w","u","v"].slice(0,e).map(n=>`${t}.${n}`)}function So(t,e){return e===1?[t]:Jie(t,e)}function nKe(t,e){if(t===1)return"rc";let n="";for(let r=0;r<t;r++)n+=e[r],r<t-1&&(n+=",");return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rKe{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=eo(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const n=So("rc",this.rank),r=wr(this.rank),s=this.getOutOfBoundsCondition(n),i=this.getSetup(n),o=this.getOutput(n);this.userCode=`
        void main() {
          ${r} rc = getOutputCoords();

          if(${s}) {
            setOutput(vec4(0));
          } else {
            ${i}

            setOutput(vec4(${o}));
          }
        }
      `}}getSourceCoordsArr(e){const n=[];for(let r=0;r<=1;r++)for(let s=0;s<=1;s++){let i=`${r===0?"r":"rp1"}, ${s===0?"c":"cp1"}`;for(let o=2;o<this.rank;o++)i=`${e[e.length-1-o]},`+i;n.push(i)}return n}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let n="";for(let r=this.rank-2;r<this.rank;r++)n+=`${e[r]} >= ${this.enableShapeUniforms?`outShape[${r}]`:this.outputShape[r]}`,r<this.rank-1&&(n+="||");return n}getSetup(e){if(this.rank===1)return"";const n=e.slice(-2),r=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],s=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${n[0]};
      int c = ${n[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${r};
      bool rEdge = rp1 >= ${s};
    `}getOutput(e){const n=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${n[0]}),
            cEdge ? 0. : getA(${n[1]}),
            rEdge ? 0. : getA(${n[2]}),
            rEdge || cEdge ? 0. : getA(${n[3]})`}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class eoe{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=eo(this.outputShape.length);let r="";for(let s=0;s<4;s++){let i="thisRC = rc;";s%2===1&&(i+="thisRC.z += 1;"),s>1&&(i+="thisRC.y += 1;"),r+=`
        ${i}
        ${s>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${s}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${s>0?"}":""}
      `}this.userCode=`
      ${sKe(n,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?X$():q$(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${r}

        setOutput(result);
      }
    `}}function sKe(t,e){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e?nWe(["r","c","d"],"inputShape"):Zm(["r","c","d"],t)}
      return ivec3(r, c, d);
    }
  `}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iKe{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,n,r){const s=Qz(n,r),i=jz(e,s,r);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);const o=Mz(e,s,this.gpgpu.gl,this.gpgpu.textureConfig,r);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();const l=this.freeTextures[i].pop();return this.usedTextures[i].push(l),l}let a;return s===Ni.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):s===Ni.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):s===Ni.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):s===Ni.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):s===Ni.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(a),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),a}releaseTexture(e,n,r,s){if(this.freeTextures==null)return;const i=Qz(r,s),o=jz(n,i,s);o in this.freeTextures||(this.freeTextures[o]=[]);const a=Mz(n,i,this.gpgpu.gl,this.gpgpu.textureConfig,s),l=Le().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");l!==-1&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=a):(this.freeTextures[o].push(e),this.numFreeTextures++,this._numBytesFree+=a),this.numUsedTextures--;const c=this.usedTextures[o],u=c&&c.indexOf(e);if(u==null||u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c[u]=c[c.length-1],c.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function oKe(t,e){const n=t;if(e===n.R32F)return 4;if(e===n.R16F)return 2;if(e===n.RGBA32F)return 16;if(e===t.RGBA)return 16;if(e===n.RGBA16F)return 8;if(e===n.RGBA8)return 4;throw new Error(`Unknown internal format ${e}`)}function Mz(t,e,n,r,s){const i=aKe(e,r);let o;if(s){const[l,c]=P1(t[0],t[1]);o=l*c}else{const[l,c]=M2(t[0],t[1]);o=l*c}const a=oKe(n,i);return o*a}function aKe(t,e){switch(t){case Ni.PACKED_2X2_FLOAT32:return Kie(e);case Ni.PACKED_2X2_FLOAT16:return qie(e);case Ni.UNPACKED_FLOAT32:return Vie(e);case Ni.UNPACKED_FLOAT16:return Wie(e);case Ni.PACKED_4X1_UNSIGNED_BYTE:return Gie(e);default:throw new Error(`Unknown physical texture type ${t}`)}}function lKe(t){return Le().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?Ni.PACKED_2X2_FLOAT32:Ni.UNPACKED_FLOAT32:t?Ni.PACKED_2X2_FLOAT16:Ni.UNPACKED_FLOAT16}function Qz(t,e){if(t===ul.UPLOAD)return Ni.PACKED_2X2_FLOAT32;if(t===ul.RENDER||t==null)return lKe(e);if(t===ul.DOWNLOAD||t===ul.PIXELS)return Ni.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${t}`)}function jz(t,e,n){return`${t[0]}_${t[1]}_${e}_${n}`}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tA{constructor(e,n){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=eo(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${n}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const Ac="if (isnan(x)) return x;",cKe="return x;",Hz="return abs(x);",uKe="return (x >= 0.0) ? x : (exp(x) - 1.0);",AKe=Ac+`
  return (x < 0.0) ? 0.0 : x;
`,dKe=Ac+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,gh="return x;",hKe="return 1.0 / (1.0 + exp(-1.0 * x));";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fKe="return x;",pKe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,mKe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,gKe=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,yKe="return 1.0 / (1.0 + exp(-1.0 * x));";class $h{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=eo(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${n}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wKe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=eo(this.outputShape.length);const n=e.length,r=So("rc",n),s=wr(n),i=nKe(n,r),o=r.slice(-2),a=n<=1?"rc":`vec2(${o.join(",")})`;this.userCode=`
      void main() {
        ${s} rc = getOutputCoords();
        vec4 packedInput = getA(${i});

        setOutput(getChannel(packedInput, ${a}));
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vKe=HE,xKe=1e-7,bKe=1e-4,FS={};function CKe(t){return t in FS||(FS[t]={}),FS[t]}const SKe=Le().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),BKe=600;function _Ke(){return Le().global.screen==null?1024:Le().global.screen.height*Le().global.screen.width*window.devicePixelRatio*BKe/1024/1024}class gk extends oI{nextDataId(){return gk.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!Le().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(e!=null){if(e instanceof nF)n=e;else{const r=fu(Le().getNumber("WEBGL_VERSION"),e);n=new nF(r)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const r=fu(Le().getNumber("WEBGL_VERSION"));n=new nF(r),this.binaryCache=CKe(Le().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new iKe(this.gpgpu),this.numMBBeforeWarning=_Ke(),this.texData=new iR(this,Vc())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,n,r,s,i,o){const a=this.makeTensorInfo(n,r),l=this.texData.get(a.dataId);l.isPacked=!1,l.texture={texture:e,texShape:[s,i]},l.texShape=[s,i];const c=kS(n),u=new Uz(c,!1,o),A=this.runWebGLProgram(u,[a],r,[[s,i]]);return A.shape=n,l.texture=null,this.disposeIntermediateTensorInfo(a),A.dataId}write(e,n,r){if((Le().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Le().getBool("DEBUG"))&&this.checkNumericalProblems(e),r==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const s={id:this.nextDataId()};return this.texData.set(s,{shape:n,dtype:r,values:e,usage:ul.UPLOAD,refCount:1}),s}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const n=this.texData.get(e);n.refCount++}decRef(e){if(this.texData.has(e)){const n=this.texData.get(e);n.refCount--}}move(e,n,r,s,i){if(Le().getBool("DEBUG")&&this.checkNumericalProblems(n),s==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:r,dtype:s,values:n,usage:ul.UPLOAD,refCount:i})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const n=this.texData.get(e),{values:r,dtype:s,complexTensorInfos:i,slice:o,shape:a,isPacked:l}=n;if(o!=null){let d;l?d=new $h(a,gh):d=new tA(a,gh);const h=this.runWebGLProgram(d,[{dataId:e,shape:a,dtype:s}],s),p=this.readSync(h.dataId);return this.disposeIntermediateTensorInfo(h),p}if(r!=null)return this.convertAndCacheOnCPU(e);if(s==="string")return r;const c=this.activeTimers!=null;let u;c&&(u=wo());let A;if(s==="complex64"){const d=this.readSync(i.real.dataId),h=this.readSync(i.imag.dataId);A=Cd(d,h)}else A=this.getValuesFromTexture(e);return c&&(this.downloadWaitMs+=wo()-u),this.convertAndCacheOnCPU(e,A)}async read(e){if(this.pendingRead.has(e)){const p=this.pendingRead.get(e);return new Promise(m=>p.push(m))}const n=this.texData.get(e),{values:r,shape:s,slice:i,dtype:o,complexTensorInfos:a,isPacked:l}=n;if(i!=null){let p;l?p=new $h(s,gh):p=new tA(s,gh);const m=this.runWebGLProgram(p,[{dataId:e,shape:s,dtype:o}],o),y=this.read(m.dataId);return this.disposeIntermediateTensorInfo(m),y}if(r!=null)return this.convertAndCacheOnCPU(e);if(Le().getBool("DEBUG")&&!Le().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&Le().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let c=null,u;if(o!=="complex64"&&Le().get("WEBGL_BUFFER_SUPPORTED")){u=this.decode(e);const p=this.texData.get(u.dataId);c=this.gpgpu.createBufferFromTexture(p.texture.texture,...NS(s))}this.pendingRead.set(e,[]),o!=="complex64"&&await this.gpgpu.createAndWaitForFence();let A;if(o==="complex64"){const p=await Promise.all([this.read(a.real.dataId),this.read(a.imag.dataId)]),m=p[0],y=p[1];A=Cd(m,y)}else if(c==null)A=this.getValuesFromTexture(e);else{const p=Oe(s);A=this.gpgpu.downloadFloat32MatrixFromBuffer(c,p)}if(u!=null&&this.disposeIntermediateTensorInfo(u),c!=null){const p=this.gpgpu.gl;pt(p,()=>p.deleteBuffer(c))}const d=this.convertAndCacheOnCPU(e,A),h=this.pendingRead.get(e);return this.pendingRead.delete(e),h.forEach(p=>p(d)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&Vc().removeDataId(e,this),this.pendingDeletes--),d}readToGPU(e,n={}){const r=this.texData.get(e),{values:s,shape:i,slice:o,dtype:a,isPacked:l,texture:c}=r;if(a==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(o!=null){let h;l?h=new $h(i,gh):h=new tA(i,gh);const p=this.runWebGLProgram(h,[{dataId:e,shape:i,dtype:a}],a),m=this.readToGPU(p,n);return this.disposeIntermediateTensorInfo(p),m}if(c==null)throw s!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,n.customTexShape),A=Vc().makeTensorFromTensorInfo(u),d=this.texData.get(u.dataId);return Object.assign({tensorRef:A},d.texture)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(s=>vd(s));return yn(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return yn(e.shape,e.dtype,n)}checkNumericalProblems(e){if(e!=null)for(let n=0;n<e.length;n++){const r=e[n];if(!E7e(r))throw Le().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${r} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${r} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:n,dtype:r,isPacked:s}=this.texData.get(e),i=Oe(n);if(Le().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const d=this.decode(e),h=this.texData.get(d.dataId),p=this.gpgpu.downloadMatrixFromPackedTexture(h.texture.texture,...NS(n)).subarray(0,i);return this.disposeIntermediateTensorInfo(d),p}const o=Le().getBool("WEBGL_PACK")&&s===!0,a=o?kS(n):n,l=o?new VWe(a):new zWe(a),c=this.runWebGLProgram(l,[{shape:a,dtype:r,dataId:e}],"float32"),u=this.texData.get(c.dataId),A=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,i);return this.disposeIntermediateTensorInfo(c),A}timerAvailable(){return Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const n=this.activeTimers,r=[];let s=!1;this.programTimersStack==null?(this.programTimersStack=r,s=!0):this.activeTimers.push(r),this.activeTimers=r,e();const i=yA(this.activeTimers.map(l=>l.query)).filter(l=>l!=null),o=yA(this.activeTimers.map(l=>l.name)).filter(l=>l!=null);this.activeTimers=n,s&&(this.programTimersStack=null);const a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const l=await Promise.all(i);a.kernelMs=BJ(l),a.getExtraProfileInfo=()=>l.map((c,u)=>({name:o[u],ms:c})).map(c=>`${c.name}: ${c.ms}`).join(", ")}else a.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,a})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:wo(),endMs:null}}endTimer(e){return Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=wo(),e)}async getQueryTime(e){if(Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const n=e;return n.endMs-n.startMs}disposeData(e,n=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(n?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!n&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:r}=this.texData.get(e);return r!=null&&(this.disposeData(r.real.dataId,n),this.disposeData(r.imag.dataId,n)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:n,dtype:r,texShape:s,usage:i,isPacked:o,slice:a}=this.texData.get(e),l=a&&a.origDataId||e,c=this.dataRefCount.get(l);c>1?this.dataRefCount.set(l,c-1):(this.dataRefCount.delete(l),n!=null&&(this.numBytesInGPU-=this.computeBytes(s,r),this.textureManager.releaseTexture(n,s,i,o)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,n=SKe){return Le().getBool("WEBGL_CPU_FORWARD")&&e.every(r=>this.texData.get(r.dataId).texture==null&&Oe(r.shape)<n)}getGPGPUContext(){return this.gpgpu}where(e){sl("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=e.dataSync();return vKe(e.shape,n)}packedUnaryOp(e,n,r){const s=new $h(e.shape,n),i=this.compileAndRun(s,[e],r);return Vc().makeTensorFromTensorInfo(i)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const s=Yie(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,s)}if(Le().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Hz,e.dtype);const n=new tA(e.shape,Hz),r=this.compileAndRun(n,[e]);return Vc().makeTensorFromTensorInfo(r)}makeTensorInfo(e,n,r){let s;if(n==="string"&&r!=null&&r.length>0&&eA(r[0])){const i=r.map(o=>uA(o));s=this.write(i,e,n)}else s=this.write(r,e,n);return this.texData.get(s).usage=null,{dataId:s,shape:e,dtype:n}}makeOutput(e,n,r){return Vc().makeTensorFromTensorInfo(this.makeTensorInfo(e,n,r),this)}unpackTensor(e){const n=new wKe(e.shape);return this.runWebGLProgram(n,[e],e.dtype)}packTensor(e){const n=new rKe(e.shape);return this.runWebGLProgram(n,[e],e.dtype,null,!0)}packedReshape(e,n){const r=[hy(e.shape),...fy(e.shape)],s={dtype:e.dtype,shape:r,dataId:e.dataId},i=[hy(n),...fy(n)],o=new eoe(i,r),a=!0,l=[r],c=this.runWebGLProgram(o,[s],e.dtype,l,a);return{dataId:c.dataId,shape:n,dtype:c.dtype}}decode(e,n){const r=this.texData.get(e),{isPacked:s,shape:i,dtype:o}=r;if(n!=null){const d=Oe(i),h=n[0]*n[1]*4;ee(d<=h,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const a=kS(i);let l;s?l=new HWe(a):l=new jWe(a);const c=!0,u=[n??NS(a)],A=this.runWebGLProgram(l,[{shape:a,dtype:o,dataId:e}],o,u,c,n);return{dtype:o,shape:i,dataId:A.dataId}}runWebGLProgram(e,n,r,s,i=!1,o){const a=this.makeTensorInfo(e.outputShape,r),l=this.texData.get(a.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===Nx.DENSE){const g=o??NS(e.outputShape);l.texShape=g.map(v=>v*2)}if(e.outTexUsage!=null&&(l.usage=e.outTexUsage),Oe(a.shape)===0)return l.values=gi(a.dtype,0),a;const c=[],u=n.map(g=>{if(g.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let v=this.texData.get(g.dataId);if(v.texture==null){if(!e.packedInputs&&Oe(g.shape)<=Le().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:g.shape,texData:null,isUniform:!0,uniformValues:v.values};e.packedInputs&&(v.isPacked=!0,v.shape=g.shape)}if(this.uploadToGPU(g.dataId),!!v.isPacked!=!!e.packedInputs)g=v.isPacked?this.unpackTensor(g):this.packTensor(g),c.push(g),v=this.texData.get(g.dataId);else if(v.isPacked&&!J_(v.shape,g.shape)){const b=g,C=g.shape;g.shape=v.shape,g=this.packedReshape(g,C),c.push(g),v=this.texData.get(g.dataId),b.shape=C}return{shape:g.shape,texData:v,isUniform:!1}});this.uploadToGPU(a.dataId);const A={shape:a.shape,texData:l,isUniform:!1},d=QWe(e,u,A),h=this.getAndSaveBinary(d,()=>UWe(this.gpgpu,e,u,A)),p=this.activeTimers!=null;let m;p&&(m=this.startTimer()),Le().get("ENGINE_COMPILE_ONLY")||MWe(this.gpgpu,h,u,A,s),c.forEach(g=>this.disposeIntermediateTensorInfo(g)),p&&(m=this.endTimer(m),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(m)}));const y=Le().getNumber("WEBGL_FLUSH_THRESHOLD");if(y>0){const g=wo();g-this.lastGlFlushTime>y&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=g)}if(!Le().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&i===!1){const g=this.unpackTensor(a);return this.disposeIntermediateTensorInfo(a),g}return a}compileAndRun(e,n,r,s,i=!1){return r=r||n[0].dtype,this.runWebGLProgram(e,n,r,s,i)}getAndSaveBinary(e,n){return e in this.binaryCache||(this.binaryCache[e]=n()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(Le().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Te(()=>{if(!Le().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=Le().getBool("DEBUG");Le().set("DEBUG",!1);const n=this.abs(Ht(1e-8)).dataSync()[0];if(Le().set("DEBUG",e),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?xKe:bKe}uploadToGPU(e){const n=this.texData.get(e),{shape:r,dtype:s,values:i,texture:o,usage:a,isPacked:l}=n;if(o!=null)return;const c=this.activeTimers!=null;let u;c&&(u=wo());let A=n.texShape;if(A==null&&(A=G7e(r,l),n.texShape=A),i!=null){const d=kS(r);let h,p=A[1],m=A[0];const y=i instanceof Uint8Array||i instanceof Uint8ClampedArray;(l||!y)&&([p,m]=P1(A[0],A[1])),l?h=new GWe(d,y):h=new Uz(d,y);const g=y?[m,p]:A,v=this.makeTensorInfo(g,s),b=this.texData.get(v.dataId);y?b.usage=ul.PIXELS:b.usage=ul.UPLOAD,b.texShape=g,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(v.dataId),p,m,i);const C=[[m,p]],I=this.runWebGLProgram(h,[v],s,C,!0),F=this.texData.get(I.dataId);n.texShape=F.texShape,n.isPacked=F.isPacked,n.usage=F.usage,Le().get("ENGINE_COMPILE_ONLY")?this.disposeData(I.dataId):(n.texture=F.texture,n.values=null,this.texData.delete(I.dataId)),this.disposeIntermediateTensorInfo(v),c&&(this.uploadWaitMs+=wo()-u)}else{const d=this.acquireTexture(A,a,s,l);n.texture=d}}convertAndCacheOnCPU(e,n){const r=this.texData.get(e),{dtype:s}=r;return n!=null&&(r.values=NKe(n,s)),r.values}acquireTexture(e,n,r,s){if(this.numBytesInGPU+=this.computeBytes(e,r),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${i} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,n,s)}computeBytes(e,n){return e[0]*e[1]*Ax(n)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(n));return Promise.all(e)}else{for(const[,n]of Object.entries(this.binaryCache)){const r=new Promise(s=>{try{this.checkCompletion_(n),s(!0)}catch(i){throw i}});e.push(r)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await KO(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(Uie(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:n,customUniformLocations:r,infLoc:s,nanLoc:i,outShapeLocation:o,outShapeStridesLocation:a,outTexShapeLocation:l}=zie(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=n,e.customUniformLocations=r,e.infLoc=s,e.nanLoc=i,e.outShapeLocation=o,e.outShapeStridesLocation=a,e.outTexShapeLocation=l}}createTensorFromGPUData(e,n,r){e.channels=e.channels||"RGBA";const{texture:s,height:i,width:o,channels:a}=e,l=Vc().backend;if(!l.gpgpu.gl.isTexture(s))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const c=l.writeTexture(s,n,r,i,o,a);return Vc().makeTensorFromDataId(c,n,r,l)}}gk.nextDataId=0;function NKe(t,e){if(e==="float32"||e==="complex64")return t;if(e==="int32"||e==="bool"){const n=e==="int32"?new Int32Array(t.length):new Uint8Array(t.length);for(let r=0;r<n.length;++r)n[r]=Math.round(t[r]);return n}else throw new Error(`Unknown dtype ${e}`)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */mR()&&yR("webgl",()=>new gk,2);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J$=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class Tm{constructor(e,n,r){this.variableNames=["A","B"],this.outputShape=un(n,r),this.enableShapeUniforms=eo(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eg=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class M1{constructor(e,n,r,s=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=un(n,r);const i=this.outputShape.length;this.enableShapeUniforms=eo(i);let o="";if(s)if(i===0||Oe(this.outputShape)===1)o=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(o=`
          ${wr(i)} coords = getOutputCoords();
        `,i===1)this.enableShapeUniforms?o+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:o+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const l=So("coords",i);this.enableShapeUniforms?o+=`
            bool nextRowOutOfBounds =
              (${l[i-2]} + 1) >= outShape[${i} - 2];
            bool nextColOutOfBounds =
              (${l[i-1]} + 1) >= outShape[${i} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:o+=`
            bool nextRowOutOfBounds =
              (${l[i-2]} + 1) >= ${this.outputShape[i-2]};
            bool nextColOutOfBounds =
              (${l[i-1]} + 1) >= ${this.outputShape[i-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${o}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ra(t){const{inputs:e,backend:n}=t,{x:r}=e;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const IKe={kernelName:Zy,backendName:"webgl",kernelFunc:Ra};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jf(t){const{inputs:e,backend:n}=t,{real:r,imag:s}=e,i=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(i.dataId),a=Ra({inputs:{x:r},backend:n}),l=Ra({inputs:{x:s},backend:n});return o.complexTensorInfos={real:a,imag:l},i}const EKe={kernelName:pI,backendName:"webgl",kernelFunc:jf};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const toe="return (a < 0.) ? b * a : a;",noe=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function kKe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{alpha:i}=r,o=n.makeTensorInfo([],"float32",Nd(i,"float32")),a=Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new M1(noe,s.shape,o.shape):new Tm(toe,s.shape,o.shape),l=n.runWebGLProgram(a,[s,o],"float32");return n.disposeIntermediateTensorInfo(o),l}const TKe={kernelName:Nb,backendName:"webgl",kernelFunc:kKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const roe="return (a < 0.) ? b * a : a;",soe=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function FKe(t){const{inputs:e,backend:n}=t,{x:r,alpha:s}=e,i=Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new M1(soe,r.shape,s.shape):new Tm(roe,r.shape,s.shape);return n.runWebGLProgram(i,[r,s],"float32")}const LKe={kernelName:Wb,backendName:"webgl",kernelFunc:FKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q1="if (isnan(x)) return x;";function Hn({opSnippet:t,packedOpSnippet:e,cpuKernelImpl:n,dtype:r}){return({inputs:s,backend:i})=>{const{x:o}=s,a=i,l=r||o.dtype;if(a.shouldExecuteOnCPU([o])&&n!=null){const A=a.texData.get(o.dataId),d=n(A.values,l);return a.makeTensorInfo(o.shape,l,d)}const c=Le().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let u;return c?u=new $h(o.shape,e):u=new tA(o.shape,t),a.runWebGLProgram(u,[o],l)}}function Ri({opSnippet:t,packedOpSnippet:e,checkOutOfBounds:n=!1,supportsComplex:r=!1,cpuKernelImpl:s,dtype:i}){return({inputs:o,backend:a})=>{const{a:l,b:c}=o,u=a;if(r&&l.dtype==="complex64"){const p=u.texData.get(l.dataId),m=u.texData.get(c.dataId),[y,g]=[[p.complexTensorInfos.real,m.complexTensorInfos.real],[p.complexTensorInfos.imag,m.complexTensorInfos.imag]].map(b=>{const[C,_]=b,I={dataId:C.dataId,dtype:C.dtype,shape:l.shape},F={dataId:_.dataId,dtype:_.dtype,shape:c.shape},T=new Tm(t,l.shape,c.shape);return u.runWebGLProgram(T,[I,F],Xo(C.dtype,_.dtype))}),v=jf({inputs:{real:y,imag:g},backend:u});return u.disposeIntermediateTensorInfo(y),u.disposeIntermediateTensorInfo(g),v}const A=i||Xo(l.dtype,c.dtype);if((l.dtype==="string"||c.dtype==="string"||u.shouldExecuteOnCPU([l,c]))&&s!=null){const p=u.texData.get(l.dataId).values,m=u.texData.get(c.dataId).values,y=l.dtype==="string"?Sd(p):p,g=l.dtype==="string"?Sd(m):m,[v,b]=s(l.shape,c.shape,y,g,A),C=u.makeTensorInfo(b,A),_=u.texData.get(C.dataId);return _.values=v,C}const d=Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let h;return d?h=new M1(e,l.shape,c.shape,n):h=new Tm(t,l.shape,c.shape),u.runWebGLProgram(h,[l,c],A)}}function Ix(t,e=!1){if(t==="linear")return e?fKe:cKe;if(t==="relu")return e?mKe:AKe;if(t==="elu")return e?pKe:uKe;if(t==="relu6")return e?gKe:dKe;if(t==="prelu")return e?soe:roe;if(t==="leakyrelu")return e?noe:toe;if(t==="sigmoid")return e?yKe:hKe;throw new Error(`Activation ${t} has not been implemented for the WebGL backend.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ioe{constructor(e,n,r,s=!1,i=!1,o=!1,a=null,l=!1,c=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=eo(this.outputShape.length);const u=s?e[1]:e[2],A=Math.ceil(u/2),d=s?"i * 2, rc.y":"rc.y, i * 2",h=i?"rc.z, i * 2":"i * 2, rc.z",p=s?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let y="",g="";a&&(l?y=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${a}
        }`:c?y=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${a}
        }`:y=`vec4 activation(vec4 x) {
          ${a}
        }`,g="result = activation(result);");const v=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");let b="rc.x",C="rc.x";e[0]<n[0]?b=`imod(rc.x, ${e[0]})`:n[0]<e[0]&&(C=`imod(rc.x, ${n[0]})`),this.userCode=`
      ${y}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${A}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        int batchA = ${b};
        int batchB = ${C};
        for (int i = 0; i < ${A}; i++) {
          vec4 a = getMatrixA(batchA, ${d});
          vec4 b = getMatrixB(batchB, ${h});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${p[0]} * ${m[0]});
          result += (${p[1]} * ${m[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${v}

        ${g}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zz={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class Vz{constructor(e,n,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=un(n,r),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wz="return a * b;";function eU(t){const{inputs:e,backend:n}=t,{a:r,b:s}=e,i=Xo(r.dtype,s.dtype);if(r.dtype==="complex64"){const a=n.texData.get(r.dataId),l=n.texData.get(s.dataId),c=new Vz(zz.REAL,r.shape,s.shape),u=new Vz(zz.IMAG,r.shape,s.shape),A=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:r.shape},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:s.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:s.shape}],d=n.runWebGLProgram(c,A,"float32"),h=n.runWebGLProgram(u,A,"float32"),p=jf({inputs:{real:d,imag:h},backend:n});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),p}if(n.shouldExecuteOnCPU([r,s])){const a=n.texData.get(r.dataId),l=n.texData.get(s.dataId),[c,u]=FGe(r.shape,s.shape,a.values,l.values,i),A=n.makeTensorInfo(u,i),d=n.texData.get(A.dataId);return d.values=c,A}let o;return Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?o=new M1(Wz,r.shape,s.shape):o=new Tm(Wz,r.shape,s.shape),n.runWebGLProgram(o,[r,s],i)}const DKe={kernelName:a1,backendName:"webgl",kernelFunc:eU};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PKe(t,e,n){const r=[hy(t.shape),...fy(t.shape)],s={dtype:t.dtype,shape:r,dataId:t.dataId},i=[hy(e),...fy(e)],o=new eoe(i,r),a=!0,l=[r],c=n.runWebGLProgram(o,[s],t.dtype,l,a);return{dataId:c.dataId,shape:e,dtype:c.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lt(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{shape:i}=r,o=n,a=Oe(s.shape),l=aR(i,a),c=Oe(l);ee(a===c,()=>`The new shape (${l}) has ${c} elements and the old shape (${s.shape}) has ${a} elements. The new shape and old shape must have the same number of elements.`);const u=o.texData.get(s.dataId);return u.isPacked&&!J_(s.shape,l)&&!(u.texture!==null&&J_(u.shape,l))?PKe(s,l,o):(o.incRef(s.dataId),{dataId:s.dataId,shape:l,dtype:s.dtype})}const RKe={kernelName:Kb,backendName:"webgl",kernelFunc:lt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Gz{constructor(e,n){this.variableNames=["x"];const{windowSize:r,batchSize:s,inSize:i,outSize:o}=e;this.outputShape=[s,o];const a=Math.floor(r/4)*4,l=r%4;let c="sumValue += dot(values, ones);";if(n!=null){const A=1/n;c=`sumValue += dot(values * ${gm(A)?A.toPrecision(2):A}, ones);`}let u="";i%r>0&&(u=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${u}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        float sumValue = 0.0;

        for (int i = 0; i < ${a}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${c}
        }

        int inIdx = inOffset + ${a};
        if (${l===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${c}
        } else if (${l===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${c}
        } else if (${l===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${c}
        }
        setOutput(sumValue);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OKe{constructor(e,n){this.variableNames=["x"];const{windowSize:r,batchSize:s,inSize:i,outSize:o}=e;this.outputShape=[s,o];let a="0.0",l="";n==="prod"?a="1.0":n==="min"?(a="1.0 / 1e-20",l="min"):n==="max"&&(a="-1.0 / 1e-20",l="max");let c=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="sum"?c="sumValue":n==="prod"?c="prodValue":n==="all"?c="allValue":n==="any"&&(c="anyValue");const u=Math.floor(r/4)*4,A=r%4;let d=`
      if (${n==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${n==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${l}(values, minMaxValue);
        if (${n==="min"} || ${n==="max"}) {
          minMaxValue = ${l}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,h="vec4";n==="all"?(a="1.0",d=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,h="bvec4"):n==="any"&&(a="0.0",d=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,h="bvec4");let p="";i%r>0&&(p=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${a};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${p}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        vec4 minMaxValue = vec4(${a});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${u}; i += 4) {
          int inIdx = inOffset + i;
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${d}
        }

        int inIdx = inOffset + ${u};
        if (${A===1}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${d}
        } else if (${A===2}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${d}
        } else if (${A===3}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${d}
        }
        setOutput(${c});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Ke(t){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const n=e.length?e[e.length-1].outSize:t[1],r=tk(n);e.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return e}function tg(t,e,n,r){const s=$Ke(t.shape);let i=t;for(let o=0;o<s.length;o++){const{inSize:a,windowSize:l,outSize:c}=s[o];let u,A;n==="mean"?u=o===0?new Gz({windowSize:l,inSize:a,batchSize:t.shape[0],outSize:c},a):new Gz({windowSize:l,inSize:a,batchSize:t.shape[0],outSize:c}):u=new OKe({windowSize:l,inSize:a,batchSize:t.shape[0],outSize:c},n),A=i,i=r.runWebGLProgram(u,[i],e),A.dataId!==t.dataId&&r.disposeIntermediateTensorInfo(A)}return i}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class UKe{constructor(e,n){this.variableNames=["A"];const r=new Array(e.length);for(let o=0;o<r.length;o++)r[o]=e[n[o]];this.outputShape=r,this.rank=r.length;const s=wr(this.rank),i=MKe(n);this.userCode=`
    void main() {
      ${s} resRC = getOutputCoords();
      setOutput(getA(${i}));
    }
    `}}function MKe(t){const e=t.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(e);for(let s=0;s<t.length;s++)r[t[s]]=n[s];return r.join()}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class QKe{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const r=new Array(e.length);for(let u=0;u<r.length;u++)r[u]=e[n[u]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const s=wr(this.rank),i=Jie("rc",this.rank),o=new Array(this.rank);for(let u=0;u<n.length;u++)o[n[u]]=i[u];const a=`vec2(${o.slice(-2).join()})`,l=`++${i[this.rank-1]} < ${r[this.rank-1]}`,c=`getChannel(getA(${o.join()}), ${a})`;this.userCode=`
    void main() {
      ${s} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${c};
      if(${l}) {
        result[1] = ${c};
      }
      --${i[this.rank-1]};
      if(++${i[this.rank-2]} < ${r[this.rank-2]}) {
        result[2] = ${c};
        if(${l}) {
          result[3] = ${c};
        }
      }
      setOutput(result);
    }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yk(t,e,n){const r=Le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new QKe(t.shape,e):new UKe(t.shape,e);return n.runWebGLProgram(r,[t],t.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jKe(t,e,n,r){const s=e,i=t.shape.length,o=Nn(s,t.shape);let a=o;const l=rs(a,i),c=l!=null;let u=t;c&&(u=yk(t,l,r),a=Bs(a.length,i)),Di("sum",a,i);const[A,d]=vi(u.shape,a);let h=A;n&&(h=Ss(A,o));const p=Oe(d),y=Oe(t.shape)/p,g=lt({inputs:{x:u},attrs:{shape:[y,p]},backend:r}),v=pE(t.dtype),b=tg(g,v,"sum",r),C=lt({inputs:{x:b},attrs:{shape:h},backend:r});return r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(b),c&&r.disposeIntermediateTensorInfo(u),C}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wk(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r;return jKe(s,i,o,n)}const HKe={kernelName:e2,backendName:"webgl",kernelFunc:wk};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _o(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{perm:i}=r,o=n,a=s.shape.length,l=new Array(a);for(let u=0;u<l.length;u++)l[u]=s.shape[i[u]];let c;if(o.shouldExecuteOnCPU([s])){const A=o.texData.get(s.dataId).values,d=Z$(A,s.shape,s.dtype,i,l);c=o.makeTensorInfo(l,s.dtype);const h=o.texData.get(c.dataId);h.values=d}else c=yk(s,i,o);return c}const zKe={kernelName:Jp,backendName:"webgl",kernelFunc:_o};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ooe=1e3;function eN({a:t,b:e,transposeA:n,transposeB:r,backend:s,bias:i=null,preluActivationWeights:o=null,leakyreluAlpha:a=0,activation:l=null}){const c=t.shape.length,u=e.shape.length,A=n?t.shape[c-2]:t.shape[c-1],d=r?e.shape[u-1]:e.shape[u-2],h=n?t.shape[c-1]:t.shape[c-2],p=r?e.shape[u-2]:e.shape[u-1],m=t.shape.slice(0,-2),y=e.shape.slice(0,-2),g=Oe(m),v=Oe(y),C=un(t.shape.slice(0,-2),e.shape.slice(0,-2)).concat([h,p]);ee(A===d,()=>`Error in matMul: inner shapes (${A}) and (${d}) of Tensors with shapes ${t.shape} and ${e.shape} and transposeA=${n} and transposeB=${r} must match.`);const _=n?[g,A,h]:[g,h,A],I=r?[v,p,d]:[v,d,p],F=lt({inputs:{x:t},backend:s,attrs:{shape:_}}),T=lt({inputs:{x:e},backend:s,attrs:{shape:I}}),D=[F,T],H=Math.max(g,v),R=n?F.shape[1]:F.shape[2],U=i!=null,W=o!=null,$=l==="leakyrelu",Y=l!=null?Ix(l,!0):null,J=U||W||$||Y!=null;let oe;if((h===1||p===1)&&R>ooe&&J===!1){let Z=F,le=T;n&&(Z=_o({inputs:{x:F},backend:s,attrs:{perm:[0,2,1]}}),D.push(Z)),r&&(le=_o({inputs:{x:T},backend:s,attrs:{perm:[0,2,1]}}),D.push(le));const ce=p!==1,M=p===1;let G=Z;ce&&(G=lt({inputs:{x:Z},backend:s,attrs:{shape:[H,R,1]}}),D.push(G));const X=p===1?2:1;let re=le;M&&(re=lt({inputs:{x:le},backend:s,attrs:{shape:[H,1,R]}}),D.push(re));const ue=eU({inputs:{a:G,b:re},backend:s});oe=wk({inputs:{x:ue},backend:s,attrs:{axis:X,keepDims:!0}}),D.push(ue)}else{const Z=Xo(t.dtype,e.dtype),le=new ioe(_,I,[H,h,p],n,r,U,Y,W,$),ce=[F,T];if(i!=null&&ce.push(i),W&&ce.push(o),$){const M=s.makeTensorInfo([],"float32",Nd(a,"float32"));ce.push(M),D.push(M)}oe=s.runWebGLProgram(le,ce,Z)}const V=lt({inputs:{x:oe},backend:s,attrs:{shape:C}});D.push(oe);for(const Z of D)s.disposeIntermediateTensorInfo(Z);return V}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VKe(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i,bias:o,preluActivationWeights:a}=e,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:A}=r;return eN({a:s,b:i,transposeA:l,transposeB:c,backend:n,bias:o,preluActivationWeights:a,leakyreluAlpha:A,activation:u})}const WKe={kernelName:dx,backendName:"webgl",kernelFunc:VKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kz="return abs(x);";function GKe(t){const{inputs:e,backend:n}=t,{x:r}=e;if(n.shouldExecuteOnCPU([r])&&r.dtype!=="complex64"){const i=n.texData.get(r.dataId),o=Yie(i.values);return n.makeTensorInfo(r.shape,r.dtype,o)}let s;return Le().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new $h(r.shape,Kz):s=new tA(r.shape,Kz),n.runWebGLProgram(s,[r],r.dtype)}const KKe={kernelName:ib,backendName:"webgl",kernelFunc:GKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qKe=Ac+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,XKe=Hn({opSnippet:qKe}),YKe={kernelName:Fy,backendName:"webgl",kernelFunc:XKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZKe=Ac+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,JKe=Hn({opSnippet:ZKe}),e9e={kernelName:Ly,backendName:"webgl",kernelFunc:JKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qz="return a + b;",t9e=Ri({opSnippet:qz,packedOpSnippet:qz,supportsComplex:!0,cpuKernelImpl:AGe}),n9e={kernelName:Hm,backendName:"webgl",kernelFunc:t9e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class r9e{constructor(e,n){this.outputShape=[],this.outputShape=e,this.variableNames=n.map((i,o)=>`T${o}`);const r=[];this.variableNames.forEach(i=>{r.push(`float v${i} = get${i}AtOutCoords();`)});const s=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        float result = ${s};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class s9e{constructor(e,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map((i,o)=>`T${o}`);const r=[];this.variableNames.forEach(i=>{r.push(`vec4 v${i} = get${i}AtOutCoords();`)});const s=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        vec4 result = ${s};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gB(t){const{inputs:e,backend:n}=t,r=e;if(r.length===1)return Ra({inputs:{x:r[0]},backend:n});if(r.length>Le().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const l=Math.floor(r.length/2),c=gB({inputs:r.slice(0,l),backend:n}),u=gB({inputs:r.slice(l),backend:n});return gB({inputs:[c,u],backend:n})}const s=r.map(l=>l.dtype).reduce((l,c)=>Xo(l,c)),i=r.map(l=>l.shape),a=Le().getBool("WEBGL_PACK")?new s9e(r[0].shape,i):new r9e(r[0].shape,i);return n.runWebGLProgram(a,r,s)}const i9e={kernelName:ob,backendName:"webgl",kernelFunc:gB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o9e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r,a=s.shape.length,l=Nn(i,s.shape);let c=l;const u=rs(c,a);let A=s;u!=null&&(A=_o({inputs:{x:s},backend:n,attrs:{perm:u}}),c=Bs(c.length,a)),Di("all",c,a);const[d,h]=vi(A.shape,c),p=Oe(h),m=lt({inputs:{x:A},backend:n,attrs:{shape:[-1,p]}}),y=tg(m,m.dtype,"all",n);let g;if(o){const v=Ss(d,l);g=lt({inputs:{x:y},backend:n,attrs:{shape:v}})}else g=lt({inputs:{x:y},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),u!=null&&n.disposeIntermediateTensorInfo(A),g}const a9e={kernelName:cI,backendName:"webgl",kernelFunc:o9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l9e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r,a=s.shape.length,l=Nn(i,s.shape);let c=l;const u=rs(c,a);let A=s;u!=null&&(A=_o({inputs:{x:s},backend:n,attrs:{perm:u}}),c=Bs(c.length,a)),Di("any",c,a);const[d,h]=vi(A.shape,c),p=Oe(h),m=lt({inputs:{x:A},backend:n,attrs:{shape:[-1,p]}}),y=tg(m,m.dtype,"any",n);let g;if(o){const v=Ss(d,l);g=lt({inputs:{x:y},backend:n,attrs:{shape:v}})}else g=lt({inputs:{x:y},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),u!=null&&n.disposeIntermediateTensorInfo(A),g}const c9e={kernelName:uI,backendName:"webgl",kernelFunc:l9e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class u9e{constructor(e,n,r){this.variableNames=["A"];const{windowSize:s,batchSize:i,outSize:o}=e;r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];const a=n==="max"?">":"<",l=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${s};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${s}; i++) {
          int inIdx = ${l};
          float candidate = getA(batch, inIdx);
          if (candidate ${a} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class A9e{constructor(e,n,r,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,ee(e.length>2,()=>`Packed arg${r.charAt(0).toUpperCase()+r.slice(1)} supports only inputs with rank above 2.`);const i=e[e.length-1],o=Math.ceil(i/n);this.outputShape=e.slice(0,-1),o>1&&this.outputShape.push(o),s||this.variableNames.push("bestIndicesA");const a=this.outputShape,l=a.length,c=wr(l),u=So("coords",l);let A,d;if(o===1){d=l+1;const T=wr(d);A=`
        ${T} sourceLocR = ${T}(${u.join()}, 0);
        ++${u[l-1]};
        ${T} sourceLocG = ${T}(${u.join()}, 0);
        ++${u[l-2]};
        ${T} sourceLocA = ${T}(${u.join()}, 0);
        --${u[l-1]};
        ${T} sourceLocB = ${T}(${u.join()}, 0);
        --${u[l-2]};`}else d=l,A=`
        ${c} sourceLocR = coords;
        ++${u[l-1]};
        ${c} sourceLocG = coords;
        ++${u[l-2]};
        ${c} sourceLocA = coords;
        --${u[l-1]};
        ${c} sourceLocB = coords;
        --${u[l-2]};`;const h=["x","y","z","w","u","v"].slice(0,d),p="."+h[d-1],m=h.map(T=>"int "+T),y=So("sourceLocR",d-1).concat("inIdx.r"),g=So("sourceLocG",d-1).concat("inIdx.g"),v=So("sourceLocB",d-1).concat("inIdx.b"),b=So("sourceLocA",d-1).concat("inIdx.a"),C=r==="max"?"greaterThan":"lessThan",_=s?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${y.join()}),
                             getBestIndicesAChannel(${g.join()}),
                             getBestIndicesAChannel(${v.join()}),
                             getBestIndicesAChannel(${b.join()})));`,I=`vec4(
            getAChannel(${y.join()}),
            hasNextCol ? getAChannel(${g.join()}) : 0.,
            hasNextRow ? getAChannel(${v.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${b.join()}) : 0.)`,F=s?"":`
      float getBestIndicesAChannel(${m.join()}) {
        return getChannel(getBestIndicesA(${h.join()}),
                                          vec2(${h.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${m.join()}) {
        return getChannel(getA(${h.join()}),
                               vec2(${h.slice(-2).join()}));
      }
      ${F}
      void main() {
        ${c} coords = getOutputCoords();
        bool hasNextCol = ${u[l-1]} < ${a[l-1]-1};
        bool hasNextRow = ${u[l-2]} < ${a[l-2]-1};
        ${A}
        ivec4 srcIdx = ivec4(sourceLocR${p}, sourceLocG${p},
          sourceLocB${p}, sourceLocA${p}) * ${n};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${I};

        for (int i = 0; i < ${n}; i++) {
          inIdx = srcIdx;
          ${_}
          vec4 candidate = ${I};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${C}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aoe(t,e,n,r=null){let s=e.shape[0],i=e.shape[1];r!=null&&(s=r.shape[0],i=r.shape[1]);const o=tk(i),a={windowSize:o,inSize:i,batchSize:s,outSize:Math.ceil(i/o)},l=new u9e(a,n,r==null),c=[e];r!=null&&c.push(r);const u=t.runWebGLProgram(l,c,"int32");if(u.shape[1]===1)return u;const A=aoe(t,e,n,u);return t.disposeIntermediateTensorInfo(u),A}function loe(t,e,n,r=null){const s=r!=null?r.shape:e.shape,i=s[s.length-1],o=tk(i),a=new A9e(s,o,n,r==null),l=r==null?[e]:[e,r],c=t.runWebGLProgram(a,l,"int32");if(c.shape.length===e.shape.length){const u=loe(t,e,n,c);return t.disposeIntermediateTensorInfo(c),u}return c}function coe(t,e,n,r){const s=[n];if(Di("arg"+r.charAt(0).toUpperCase()+r.slice(1),s,e.shape.length),!Le().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){const i=[],o=t.texData.get(e.dataId),a=o!==null&&o.isPacked;let l=e;a&&(l=t.unpackTensor(e),i.push(l));const[c,u]=vi(l.shape,s),A=Oe(u),d=lt({inputs:{x:l},backend:t,attrs:{shape:[-1,A]}});i.push(d);const h=aoe(t,d,r);i.push(h);const p=lt({inputs:{x:h},backend:t,attrs:{shape:c}});return i.forEach(m=>t.disposeIntermediateTensorInfo(m)),p}return loe(t,e,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d9e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;let o=Nn(i,s.shape);const a=rs(o,s.shape.length);let l=s;const c=[];a!=null&&(l=_o({inputs:{x:s},backend:n,attrs:{perm:a}}),c.push(l),o=Bs(o.length,l.shape.length)),Di("argMax",[o[0]],l.shape.length);const u=coe(n,l,o[0],"max");return c.forEach(A=>n.disposeIntermediateTensorInfo(A)),u}const h9e={kernelName:ab,backendName:"webgl",kernelFunc:d9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f9e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;let o=Nn(i,s.shape);const a=rs(o,s.shape.length);let l=s;const c=[];a!=null&&(l=_o({inputs:{x:s},backend:n,attrs:{perm:a}}),c.push(l),o=Bs(o.length,l.shape.length)),Di("argMin",[o[0]],l.shape.length);const u=coe(n,l,o[0],"min");return c.forEach(A=>n.disposeIntermediateTensorInfo(A)),u}const p9e={kernelName:lb,backendName:"webgl",kernelFunc:f9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m9e=Ac+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,g9e=Hn({opSnippet:m9e}),y9e={kernelName:Dy,backendName:"webgl",kernelFunc:g9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w9e=Ac+"return log(x + sqrt(x * x + 1.0));",v9e=Hn({opSnippet:w9e}),x9e={kernelName:Py,backendName:"webgl",kernelFunc:v9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b9e=Ac+`
  return atan(x);
`,C9e=Hn({opSnippet:b9e}),S9e={kernelName:Ry,backendName:"webgl",kernelFunc:C9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B9e=J$+`
  return atan(a, b);
`,_9e=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+eg+`
  return result;
`,N9e=Ri({opSnippet:B9e,packedOpSnippet:_9e}),I9e={kernelName:$y,backendName:"webgl",kernelFunc:N9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E9e=Ac+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,k9e=Hn({opSnippet:E9e}),T9e={kernelName:Oy,backendName:"webgl",kernelFunc:k9e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ex{constructor(e,n,r,s=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,a=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,u=e.dilationWidth,A=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;const m=n==="avg",y=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let v="0.0";if(m||(v="-1.0 / 1e-20"),r){const T=">=";this.userCode=`
        const ivec2 strides = ivec2(${a}, ${l});
        const ivec2 pads = ivec2(${h}, ${p});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${A};
              wR += ${c}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${d};
                wC += ${u}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value ${T} currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${s?i?y:g:`wR * ${d} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const b="max";let C=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(C="avgValue / max(count, 1.0)");const _=Math.floor(o/4)*4,I=o%4,F=`
      if (${m}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${b}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${a}, ${l});
      const ivec2 pads = ivec2(${h}, ${p});
      const float initializationValue = ${v};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${v});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${A};
            wR += ${c}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${_}; wC += 4) {
            int xC = xCCorner + wC * ${u};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              getValue(batch, xR, xC + 2 * ${u}, d),
              getValue(batch, xR, xC + 3 * ${u}, d)
            );

            ${F}
          }

          int xC = xCCorner + ${_};
          if (${I===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${F}
          } else if (${I===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              initializationValue,
              initializationValue
            );

            ${F}
          } else if (${I===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              getValue(batch, xR, xC + 2 * ${u}, d),
              initializationValue
            );

            ${F}
          }
        }
        setOutput(${C});
      }
    `}}class tU{constructor(e,n,r,s=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,a=e.strideDepth,l=e.strideHeight,c=e.strideWidth,u=e.dilationDepth,A=e.dilationHeight,d=e.dilationWidth,h=e.effectiveFilterDepth,p=e.effectiveFilterHeight,m=e.effectiveFilterWidth,y=e.padInfo.front,g=e.padInfo.top,v=e.padInfo.left;this.outputShape=e.outShape;const b=n==="avg";let C="0.0";if(b||(C="-1.0 / 1e-20"),r){const H=">=";this.userCode=`
        const ivec3 strides =
            ivec3(${a}, ${l}, ${c});
        const ivec3 pads = ivec3(${y}, ${g}, ${v});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${h};
              wD += ${u}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${p};
                wR += ${A}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${m};
                  wC += ${d}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value ${H} currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${s?i?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${p} * ${m} +
                      wR * ${m} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const _="max";let I=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(I="avgValue / max(count, 1.0)");const F=Math.floor(o/4)*4,T=o%4,D=`
      if (${b}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${_}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${a}, ${l}, ${c});
      const ivec3 pads = ivec3(${y}, ${g}, ${v});
      const float initializationValue = ${C};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${C});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${h};
            wD += ${u}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${p};
            wR += ${A}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${F}; wC += 4) {
              int xC = xCCorner + wC * ${d};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                getValue(batch, xD, xR, xC + 2 * ${d}, ch),
                getValue(batch, xD, xR, xC + 3 * ${d}, ch)
              );

              ${D}
            }

            int xC = xCCorner + ${F};
            if (${T===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${D}
            } else if (${T===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                initializationValue,
                initializationValue
              );

              ${D}
            } else if (${T===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                getValue(batch, xD, xR, xC + 2 * ${d}, ch),
                initializationValue
              );

              ${D}
            }
          }
        }
        setOutput(${I});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F9e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;Q2(s,"avgPool");const{filterSize:i,strides:o,pad:a,dimRoundingMode:l}=r,c=1;ee(Li(o,c),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${c}'`);const u=cc(s.shape,i,o,c,a,l);if(u.filterWidth===1&&u.filterHeight===1&&Tn(u.inShape,u.outShape))return Ra({inputs:{x:s},backend:n});const A=new Ex(u,"avg",!1);return n.runWebGLProgram(A,[s],"float32")}const L9e={kernelName:cb,backendName:"webgl",kernelFunc:F9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D9e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:o,pad:a,dimRoundingMode:l,dataFormat:c}=r,u=[1,1,1],A=Id(s.shape,i,o,u,a,l,c),d=new tU(A,"avg",!1);return n.runWebGLProgram(d,[s],"float32")}const P9e={kernelName:ub,backendName:"webgl",kernelFunc:D9e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class R9e{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,s=e.strideHeight,i=e.strideWidth,o=e.dilationHeight,a=e.dilationWidth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=l-1-e.padInfo.top,A=c-1-e.padInfo.left,d=1/(n*r);this.userCode=`
      const ivec2 pads = ivec2(${u}, ${A});
      const float avgMultiplier = float(${d});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${l};
            wR += ${o}) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${c};
            wC+= ${a}) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class O9e{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterDepth,r=e.filterHeight,s=e.filterWidth,i=e.strideDepth,o=e.strideHeight,a=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,u=e.dilationWidth,A=e.effectiveFilterDepth,d=e.effectiveFilterHeight,h=e.effectiveFilterWidth,p=A-1-e.padInfo.front,m=d-1-e.padInfo.top,y=h-1-e.padInfo.left,g=1/(n*r*s);this.userCode=`
      const ivec3 pads = ivec3(${p}, ${m}, ${y});
      const float avgMultiplier = float(${g});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${A};
            wD += ${l}) {
          float dyD = float(dyDCorner + wD) / ${i}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${d};
              wR += ${c}) {
            float dyR = float(dyRCorner + wR) / ${o}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${h};
                wC += ${u}) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $9e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,o=i,{filterSize:a,strides:l,pad:c,dimRoundingMode:u}=r,A=[1,1,1],d=Id(o.shape,a,l,A,c,u),h=new O9e(d);return n.runWebGLProgram(h,[s],o.dtype)}const U9e={kernelName:dI,backendName:"webgl",kernelFunc:$9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M9e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,o=i;Q2([s,i],"avgPoolGrad");const{filterSize:a,strides:l,pad:c}=r,u=cc(o.shape,a,l,1,c),A=new R9e(u);return n.runWebGLProgram(A,[s],o.dtype)}const Q9e={kernelName:AI,backendName:"webgl",kernelFunc:M9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j9e(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i}=e,{transposeA:o,transposeB:a}=r;return eN({a:s,b:i,transposeA:o,transposeB:a,backend:n})}const H9e={kernelName:Ab,backendName:"webgl",kernelFunc:j9e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class z9e{constructor(e,n,r,s,i,o){this.outputShape=[],this.variableNames=["x","mean","variance"],un(e,n),un(e,r);let a="0.0";s!=null&&(un(e,s),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let l="1.0";i!=null&&(un(e,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${a};
        float scale = ${l};
        float inv = scale * inversesqrt(variance + float(${o}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class V9e{constructor(e,n,r,s,i,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],un(e,n),un(e,r);let a="vec4(0.0)";s!=null&&(un(e,s),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let l="vec4(1.0)";i!=null&&(un(e,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${a};
        vec4 scale = ${l};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${o}));

        setOutput((x - mean) * inv + offset);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W9e=({inputs:t,backend:e,attrs:n})=>{const{x:r,mean:s,variance:i,offset:o,scale:a}=t;ee(s.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),ee(o==null||s.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),ee(a==null||s.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=n;l==null&&(l=.001);const c=[r,s,i];let u=null;o!=null&&(u=o.shape,c.push(o));let A=null;a!=null&&(A=a.shape,c.push(a));const d=Le().getBool("WEBGL_PACK_NORMALIZATION")?new V9e(r.shape,s.shape,i.shape,u,A,l):new z9e(r.shape,s.shape,i.shape,u,A,l);return e.runWebGLProgram(d,c,c[0].dtype)},G9e={kernelName:Sb,backendName:"webgl",kernelFunc:W9e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class K9e{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const n=wr(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const r=q9e(this.rank);let s;const i=e.map((o,a)=>`sourceLoc.${EL[a]} = start[${a}] + coords.${EL[a]};`);s=`
        ${n} sourceLoc;
        ${n} coords = getOutputCoords();
        ${i.join(`
`)}
      `,this.userCode=`
      void main() {
        ${s}
        setOutput(getSource(${r}));
      }
    `}}const EL=["x","y","z","w","u","v"];function q9e(t){if(t===1)return"sourceLoc";if(t<=6)return EL.slice(0,t).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class X9e{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=wr(this.rank),r=So("coords",this.rank),s=So("sourceLoc",this.rank),i=this.rank===1?"sourceLoc":`vec2(${s.slice(-2).join()})`,o=`getChannel(getSource(${s.join()}), ${i})`,a=`
      result.x = ${o};
      if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
        ++${s[this.rank-1]};
        result.y = ${o};
        --${s[this.rank-1]};
      }
    `,l=this.rank===1?"":`
      --${r[this.rank-1]};
      if (++${r[this.rank-2]} < ${e[this.rank-2]}) {
        ++${s[this.rank-2]};
        result.z = ${o};
        if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
          ++${s[this.rank-1]};
          result.w = ${o};
        }
      }
    `,c=this.rank<=4?`sourceLoc = coords +
            ${n}(${e.map((u,A)=>`start[${A}]`).join()});`:e.map((u,A)=>`${s[A]} = ${r[A]} + start[${A}];`).join(`
`);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        ${n} sourceLoc;
        ${c}
        vec4 result = vec4(0.);
        ${a}
        ${l}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y9e(t,e,n,r){const s=r.texData.get(t.dataId),i=r.makeTensorInfo(n,t.dtype),o=r.texData.get(i.dataId);Object.assign(o,s),o.refCount=1,o.shape=n,o.dtype=t.dtype;let a=WO(e,Qt(t.shape));s.slice&&(a+=s.slice.flatOffset),o.slice={flatOffset:a,origDataId:s.slice&&s.slice.origDataId||t.dataId};const l=r.dataRefCount.get(o.slice.origDataId)||1;return r.dataRefCount.set(o.slice.origDataId,l+1),i}function j1(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,size:o}=r,[a,l]=ek(s,i,o);if(HO(s,a,l),Oe(l)===0)return n.makeTensorInfo(l,s.dtype,[]);if(n.shouldExecuteOnCPU([s])||s.dtype==="string"){const A=n.texData.get(s.dataId),d=HGe(A.values,a,l,s.shape,s.dtype);return n.makeTensorInfo(l,s.dtype,d)}const{isPacked:c}=n.texData.get(s.dataId),u=VO(s.shape,a,l);if(c||!u){const A=Le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new X9e(l):new K9e(l),d=[a];return n.runWebGLProgram(A,[s],s.dtype,d)}return n.uploadToGPU(s.dataId),Y9e(s,a,l,n)}const Z9e={kernelName:Jb,backendName:"webgl",kernelFunc:j1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J9e=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,crops:o}=r;ee(s.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const a=i.reduce((v,b)=>v*b),l=I2(s.shape,i,a),c=E2(l.length,i.length),u=k2(s.shape,i,a),A=ZO(o,i.length),d=JO(u,o,i.length),h=[],p=lt({inputs:{x:s},backend:n,attrs:{shape:l}}),m=_o({inputs:{x:p},backend:n,attrs:{perm:c}}),y=lt({inputs:{x:m},backend:n,attrs:{shape:u}}),g=j1({inputs:{x:y},backend:n,attrs:{begin:A,size:d}});return h.push(p),h.push(m),h.push(y),h.forEach(v=>n.disposeIntermediateTensorInfo(v)),g},eqe={kernelName:db,backendName:"webgl",kernelFunc:J9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tqe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:o}=r,a=n.readSync(s.dataId),l=n.readSync(i.dataId),c=Xie(a,l,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,c)}const nqe={kernelName:hI,backendName:"webgl",kernelFunc:tqe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rqe=`
  int r = int(a.r) & int(b.r);
  int g = int(a.g) & int(b.g);
  int rb = int(a.b) & int(b.b);
  int ra = int(a.a) & int(b.a);
  return vec4(r, g, rb, ra);
`,sqe=`
  return float(int(a.r) & int(b.r));
`;function iqe(t){const{inputs:e,backend:n}=t,{a:r,b:s}=e,i=Le().getBool("WEBGL_PACK_BINARY_OPERATIONS"),o=Le().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([r,s])||o===1){const l=n.texData.get(r.dataId).values,c=n.texData.get(s.dataId).values,[u,A]=hGe(r.shape,s.shape,l,c,r.dtype),d=n.makeTensorInfo(A,r.dtype),h=n.texData.get(d.dataId);return h.values=u,d}let a;return i?a=new M1(rqe,r.shape,s.shape,!1):a=new Tm(sqe,r.shape,s.shape),n.runWebGLProgram(a,[r,s],r.dtype)}const oqe={kernelName:hb,backendName:"webgl",kernelFunc:iqe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aqe(t){const{inputs:e,backend:n}=t,{s0:r,s1:s}=e,i=n.readSync(r.dataId),o=n.readSync(s.dataId),a=un(Array.from(i),Array.from(o));return n.makeTensorInfo([a.length],"int32",Int32Array.from(a))}const lqe={kernelName:fI,backendName:"webgl",kernelFunc:aqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cqe="return float(a != b);",uoe=Ri({opSnippet:cqe,cpuKernelImpl:DGe,dtype:"bool"}),uqe={kernelName:Qb,backendName:"webgl",kernelFunc:uoe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H2(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.texData.get(r.dataId);return Ra({inputs:{x:s.complexTensorInfos.real},backend:n})}const Aqe={kernelName:KI,backendName:"webgl",kernelFunc:H2};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dqe="return float(int(x));";function hqe(t,e){const n=new tA(t.shape,dqe),r=e.runWebGLProgram(n,[t],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kL(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dtype:i}=r;if(i==="complex64"){if(s.dtype==="complex64")return Ra({inputs:{x:s},backend:n});const o=Ms(s.shape),a=kL({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),l=jf({inputs:{real:a,imag:o},backend:n});return o.dispose(),n.disposeIntermediateTensorInfo(a),l}if(s.dtype==="complex64"){const o=H2({inputs:{input:s},backend:n}),a=kL({inputs:{x:o},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(o),a}if(!lR(s.dtype,i)){const o=Ra({inputs:{x:s},backend:n});return{dataId:o.dataId,shape:o.shape,dtype:i}}if(n.shouldExecuteOnCPU([s])){const o=n.texData.get(s.dataId).values,[a,l,c]=fGe(o,s.shape,s.dtype,i);return n.makeTensorInfo(a,l,c)}if(i==="int32")return hqe(s,n);if(i==="bool"){const o=n.makeTensorInfo([],"bool",gi("bool",1)),l=uoe({inputs:{a:s,b:o},backend:n});return n.disposeIntermediateTensorInfo(o),l}throw new Error(`Error in Cast: failed to cast ${s.dtype} to ${i}`)}const fqe={kernelName:Uy,backendName:"webgl",kernelFunc:kL};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xz="return ceil(x);",pqe=Hn({opSnippet:Xz,packedOpSnippet:Xz,cpuKernelImpl:pGe}),mqe={kernelName:My,backendName:"webgl",kernelFunc:pqe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gqe{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yqe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wqe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{clipValueMin:i,clipValueMax:o}=r;let a;Le().getBool("WEBGL_PACK_CLIP")?a=new yqe(s.shape):a=new gqe(s.shape);const l=[[i],[o]];return n.runWebGLProgram(a,[s],s.dtype,l)}const vqe={kernelName:Qy,backendName:"webgl",kernelFunc:wqe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xqe{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yz(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}}function bqe(t){const{inputs:e,backend:n}=t,{x:r}=e,s=n.texData.get(r.dataId),i=new xqe(r.shape),o=[Yz(r,s.complexTensorInfos.real),Yz(r,s.complexTensorInfos.imag)];return n.runWebGLProgram(i,o,o[0].dtype)}const Cqe={kernelName:fb,backendName:"webgl",kernelFunc:bqe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Sqe{constructor(e){this.outputShape=[],this.outputShape=dA(e,1),this.variableNames=e.map((o,a)=>`T${a}`);const n=new Array(e.length-1);n[0]=e[0][1];for(let o=1;o<n.length;o++)n[o]=n[o-1]+e[o][1];const r=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let o=1;o<n.length;o++){const a=n[o-1];r.push(`else if (yC < ${n[o]}) setOutput(getT${o}(yR, yC-${a}));`)}const s=n.length,i=n[n.length-1];r.push(`else setOutput(getT${s}(yR, yC-${i}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${r.join(`
        `)}
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Bqe{constructor(e,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=dA(e,n);const r=this.outputShape,s=r.length,i=wr(s),o=So("coords",s),a=["x","y","z","w","u","v"].slice(0,s);this.variableNames=e.map((m,y)=>`T${y}`);const l=new Array(e.length-1);l[0]=e[0][n];for(let m=1;m<l.length;m++)l[m]=l[m-1]+e[m][n];const c=a[n],u=a.slice(-2),A=a.join();let d=`if (${c} < ${l[0]}) {
        return getChannel(
            getT0(${A}), vec2(${u.join()}));
        }`;for(let m=1;m<l.length;m++){const y=l[m-1];d+=`
        if (${c} < ${l[m]}  && ${c} >= ${l[m-1]}) {
          return getChannel(
            getT${m}(${LS(a,c,y)}),
            vec2(${LS(u,c,y)}));
        }`}const h=l.length,p=l[l.length-1];d+=`
        return getChannel(
          getT${h}(${LS(a,c,p)}),
          vec2(${LS(u,c,p)}));`,this.userCode=`
      float getValue(${a.map(m=>"int "+m)}) {
        ${d}
      }

      void main() {
        ${i} coords = getOutputCoords();
        vec4 result = vec4(getValue(${o}), 0., 0., 0.);

        ${o[s-1]} = ${o[s-1]} + 1;
        if (${o[s-1]} < ${r[s-1]}) {
          result.g = getValue(${o});
        }

        ${o[s-2]} = ${o[s-2]} + 1;
        if (${o[s-2]} < ${r[s-2]}) {
          result.a = getValue(${o});
        }

        ${o[s-1]} = ${o[s-1]} - 1;
        if (${o[s-2]} < ${r[s-2]} &&
            ${o[s-1]} < ${r[s-1]}) {
          result.b = getValue(${o});
        }
        setOutput(result);
      }
    `}}function LS(t,e,n){const r=t.indexOf(e);return t.map((i,o)=>o===r?`${i} - ${n}`:i).join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vk(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.texData.get(r.dataId);return Ra({inputs:{x:s.complexTensorInfos.imag},backend:n})}const _qe={kernelName:DI,backendName:"webgl",kernelFunc:vk};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yw(t,e,n){const r=t[0].dtype;if(r==="complex64"){const h=t.map(v=>H2({inputs:{input:v},backend:n})),p=t.map(v=>vk({inputs:{input:v},backend:n})),m=Yw(h,e,n),y=Yw(p,e,n),g=jf({inputs:{real:m,imag:y},backend:n});return h.forEach(v=>n.disposeIntermediateTensorInfo(v)),p.forEach(v=>n.disposeIntermediateTensorInfo(v)),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),g}let s=n.shouldExecuteOnCPU(t);if(r==="string"&&(s=!0),s){const h=t.map(C=>{const I=[-1,Oe(C.shape.slice(e))];return lt({inputs:{x:C},backend:n,attrs:{shape:I}})}),p=h.map(C=>({vals:n.readSync(C.dataId),shape:C.shape})),m=dA(h.map(C=>C.shape),1),y=h[0].shape[0]===1,g=mGe(p,m,r,y),v=dA(t.map(C=>C.shape),e),b=n.makeTensorInfo(v,r,g);return h.forEach(C=>n.disposeIntermediateTensorInfo(C)),b}const i=t.filter(h=>Oe(h.shape)>0),o=Le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&i[0].shape.length>1;if(i.length===1){const h=o?new tA(t[0].shape,gh):new $h(t[0].shape,gh);return n.runWebGLProgram(h,t,r)}const a=Le().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(i.length>a){const h=[];for(let m=0;m<i.length;m+=a){const y=i.slice(m,m+a);h.push(Yw(y,e,n))}const p=Yw(h,e,n);for(const m of h)n.disposeIntermediateTensorInfo(m);return p}if(o){const h=new Bqe(i.map(p=>p.shape),e);return n.runWebGLProgram(h,i,r)}const{tensors2D:l,outShape:c}=Nqe(i,e,n),u=new Sqe(l.map(h=>h.shape)),A=n.runWebGLProgram(u,l,r);l.forEach(h=>n.disposeIntermediateTensorInfo(h));const d=lt({inputs:{x:A},attrs:{shape:c},backend:n});return n.disposeIntermediateTensorInfo(A),d}function Nqe(t,e,n){const r=dA(t.map(i=>i.shape),e);return{tensors2D:t.map(i=>lt({inputs:{x:i},attrs:{shape:[-1,Oe(i.shape.slice(e))]},backend:n})),outShape:r}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Aoe(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r,i=Nn(s,e[0].shape)[0],o=e.map(c=>c.shape);qO(o,i);const a=dA(e.map(c=>c.shape),i);if(Oe(a)===0)return n.makeTensorInfo(a,e[0].dtype,[]);const l=e.filter(c=>Oe(c.shape)>0);return l.length===1?Ra({inputs:{x:l[0]},backend:n}):Yw(l,i,n)}const Iqe={kernelName:pb,backendName:"webgl",kernelFunc:Aoe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class doe{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const o=e.padInfo.top,a=e.padInfo.left,l=e.strideHeight,c=e.strideWidth,u=e.dilationHeight,A=e.dilationWidth,d=e.filterHeight,h=e.filterWidth,p=Math.floor(e.inChannels/4)*4,m=e.inChannels%4,y=e.dataFormat==="channelsLast",g=y?1:2,v=y?2:3,b=y?3:1;let C="",_="";r&&(s?C=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?C=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:C=`
          float activation(float x) {
            ${r}
          }
        `,_="result = activation(result);");const I=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${C}

      const ivec2 strides = ivec2(${l}, ${c});
      const ivec2 pads = ivec2(${o}, ${a});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${b}];

        ivec2 xRCCorner =
            ivec2(coords[${g}], coords[${v}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${d}; wR++) {
          int xR = xRCorner + wR * ${u};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${h}; wC++) {
            int xC = xCCorner + wC * ${A};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${p}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${y}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${m===1}) {

              if (${y}) {
                dotProd +=
                    getX(batch, xR, xC, ${p}) *
                    getW(wR, wC, ${p}, d2);
              } else {
                dotProd +=
                    getX(batch, ${p}, xR, xC) *
                    getW(wR, wC, ${p}, d2);
              }

            } else if (${m===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2)
              );

              if (${y}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${m===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2),
                getW(wR, wC, ${p} + 2, d2)
              );

              if (${y}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1),
                  getX(batch, xR, xC, ${p} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC),
                  getX(batch, ${p} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${I}
        ${_}
        setOutput(result);
      }
    `}}class Eqe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const n=e.padInfo.front,r=e.padInfo.top,s=e.padInfo.left,i=e.strideDepth,o=e.strideHeight,a=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,u=e.dilationWidth,A=e.filterDepth,d=e.filterHeight,h=e.filterWidth,p=Math.floor(e.inChannels/4)*4,m=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${i}, ${o}, ${a});
      const ivec3 pads = ivec3(${n}, ${r}, ${s});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${A}; wF++) {
          int xF = xFCorner + wF * ${l};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${d}; wR++) {
            int xR = xRCorner + wR * ${c};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${h}; wC++) {
              int xC = xCCorner + wC * ${u};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${p}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${m===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${p}) *
                  getW(wF, wR, wC, ${p}, d2);
              } else if (${m===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${m===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1),
                  getX(batch, xF, xR, xC, ${p} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2),
                  getW(wF, wR, wC, ${p} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hoe{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=eo(this.outputShape.length);const o=e.padInfo.left,a=e.strideWidth,l=e.dilationWidth,c=e.filterHeight,u=e.filterWidth,A=u;let d=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let y=0;y<u;y++)d+=`
           vec4 xTexelC${y*2};
           int xTexelC${y*2}Ready;
           vec4 xTexelC${y*2+1};
           int xTexelC${y*2+1}Ready;
           vec4 xC${y};`;d+=`
     for (int r = 0; r < ${c}; r++) {
      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {
       `;for(let y=0;y<u;y++)d+=`
           xTexelC${y*2} = vec4(0.0);
           xTexelC${y*2}Ready = 0;
           xTexelC${y*2+1} = vec4(0.0);
           xTexelC${y*2+1}Ready = 0;
           xC${y} = vec4(0.0);`;d+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let y=0;y<(A+1)/2;y++){const g=y*2;if(d+=`
           xC = xCCorner + ${g*l};
           `,a===1){if(g<u&&(o%2===1?(d+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }
               `,l===1&&g>0?d+=`
                 xC${g} = vec4(xTexelC${g-2}.zw, xTexelC${g}.xy);
                 `:d+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${g} = vec4(previous.zw, xTexelC${g}.xy);
                   } else {
                     xC${g} = vec4(0.0, 0.0, xTexelC${g}.xy);
                   }
                   `):d+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }

                 xC${g} = xTexelC${g};
                 `,g+1<u)){const v=o%2===0?aI(l):l;l%2===0&&o%2===1||l%2!==0&&o%2!==1?(d+=`
                   xCOffset = xC + imod(pads[1], 2) + ${v};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g+1}Ready == 0) {
                     xTexelC${g+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${g+1}.zw = vec2(0.0);
                     }
                     xTexelC${g+1}Ready = 1;
                   }
                   `,l>1?d+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${g+1} = vec4(previous.zw, xTexelC${g+1}.xy);
                     } else {
                      xC${g+1} = vec4(0.0, 0.0, xTexelC${g+1}.xy);
                     }
                     `:d+=`
                     xC${g+1} = vec4(xTexelC${g}.zw, xTexelC${g+1}.xy);
                     `):v===1?d+=`
                     xC${g+1} = xTexelC${g};
                     `:d+=`
                     xCOffset = xC + ${v};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g+1}Ready == 0) {
                       xTexelC${g+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${g+1}.zw = vec2(0.0);
                       }
                       xTexelC${g+1}Ready = 1;
                     }

                     xC${g+1} = xTexelC${g+1};
                     `}}else g<u&&(o%2===1?(d+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${g+1}Ready == 0) {
                   xTexelC${g+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${g+1}.zw = vec2(0.0);
                   }
                   xTexelC${g+1}Ready = 1;
                 }

                 xC${g} = vec4(xTexelC${g}.zw, xTexelC${g+1}.zw);
               `,g+1<u&&(d+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${g+1} = vec4(xTexelC${g+1}.xy, final.xy);
                 `)):(d+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g+1}Ready == 0) {
                   xTexelC${g+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${g+1}.zw = vec2(0.);
                   }
                   xTexelC${g+1}Ready = 1;
                 }

                 xC${g} = vec4(
                   xTexelC${g}.xy, xTexelC${g+1}.xy);
               `,g+1<u&&(d+=`
                   xC${g+1} = vec4(xTexelC${g}.zw, xTexelC${g+1}.zw);
                 `)));g<u&&(d+=`
             wTexel = getW(r, ${g}, d1, d2);
             dotProd += xC${g}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${e.inChannels}) {
               dotProd += xC${g}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,g+1<u&&(d+=`
               wTexel = getW(r, ${g+1}, d1, d2);
               dotProd += xC${g+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${e.inChannels}) {
                 dotProd += xC${g+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}d+=`
     }
   `,d+=`
     }
   `,d+=`
     }
   `;let h="",p="";r&&(s?h=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${r}
         }`:i?h=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${r}
         }`:h=`vec4 activation(vec4 x) {
           ${r}
         }`,p="result = activation(result);");const m=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${h}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${d}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${m}
         ${p}
         setOutput(result);
       }
     `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kqe{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=eo(this.outputShape.length);const{dataFormat:r}=n,s=Io(),i=r==="channelsLast",o=i?1:2,a=i?2:3,l=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let c="";for(let u=0;u<=1;u++)for(let A=0;A<=1;A++)c+=`
          blockIndex = rc.z + ${A};
          pos = rc.y + ${u};

          ${l}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${o}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${a}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${i}) {
                  innerDims = vec2(d1, ch);
                  result[${u*2+A}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${u*2+A}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${c}

        ${s.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tN(t,e){const n=t.length;return n>=3?e?[...t.slice(0,-3),t[n-3]*t[n-2],t[n-1]]:[...t.slice(0,-3),t[n-3],t[n-2]*t[n-1]]:!e&&n===1&&t[0]>1?[t[0],1]:null}function foe({x:t,filter:e,convInfo:n,backend:r,bias:s=null,preluActivationWeights:i=null,leakyreluAlpha:o=0,activation:a=null}){const l=t.shape,c=r.texData.get(t.dataId),u=n.inChannels,A=l[0]*l[1]*l[2],d=n.outChannels,h=n.dataFormat==="channelsLast",p=!1,m=!1;let y;const g=[];if(i!=null){const C=tN(i.shape,h);C!=null&&(i=lt({inputs:{x:i},backend:r,attrs:{shape:C}}),g.push(i))}if(s!=null){const C=tN(s.shape,h);C!=null&&(s=lt({inputs:{x:s},backend:r,attrs:{shape:C}}),g.push(s))}if(!((A===1||d===1)&&u>ooe)&&c.isPacked&&h&&c.texture!=null&&l[2]%2!==0&&Tn(c.shape.slice(-3),l.slice(-3))){const C=l[0]*l[1]*(l[2]+1),_={dataId:t.dataId,shape:[1,C,n.inChannels],dtype:t.dtype},I=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,ee(J_(c.shape,_.shape),()=>`packed reshape ${c.shape} to ${_.shape} isn't free`);const F=lt({inputs:{x:e},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});g.push(F);const T=eN({a:_,b:F,backend:r,transposeA:p,transposeB:m,bias:s,activation:a,preluActivationWeights:i,leakyreluAlpha:o}),D=r.texData.get(T.dataId);ee(D.isPacked,()=>"batchMatMul result is expected to be packed"),c.shape=I,D.shape=n.outShape,y=Ra({inputs:{x:T},backend:r}),y.shape=n.outShape,g.push(T)}else{const C=n.outHeight*n.outWidth,_=lt({inputs:{x:t},backend:r,attrs:{shape:h?[n.batchSize,C,n.inChannels]:[n.batchSize,n.inChannels,C]}}),I=lt({inputs:{x:e},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}}),F=eN({a:h?_:I,b:h?I:_,transposeA:!h,transposeB:m,backend:r,bias:s,activation:a,preluActivationWeights:i,leakyreluAlpha:o});y=lt({inputs:{x:F},backend:r,attrs:{shape:n.outShape}}),g.push(_),g.push(I),g.push(F)}for(const C of g)r.disposeIntermediateTensorInfo(C);return y}function poe({x:t,filter:e,convInfo:n,backend:r,bias:s=null,preluActivationWeights:i=null,leakyreluAlpha:o=0,activation:a=null}){const{filterWidth:l,filterHeight:c,inChannels:u,outWidth:A,outHeight:d,dataFormat:h}=n,p=h==="channelsLast",m=l*c*u,y=d*A,g=[n.batchSize,m,y],v=!0,b=!1,C=[];if(i!=null){const V=tN(i.shape,p);V!=null&&(i=lt({inputs:{x:i},backend:r,attrs:{shape:V}}),C.push(i))}if(s!=null){const V=tN(s.shape,p);V!=null&&(s=lt({inputs:{x:s},backend:r,attrs:{shape:V}}),C.push(s))}const _=lt({inputs:{x:e},backend:r,attrs:{shape:[1,m,Oe(e.shape)/m]}});C.push(_);const I=new kqe(g,n),F=[t.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],T=r.runWebGLProgram(I,[t],"float32",F),D=lt({inputs:{x:T},backend:r,attrs:{shape:g}});C.push(T),C.push(D);const H=s!=null,R=i!=null,U=a==="leakyrelu",W=a?Ix(a,!0):null,$=new ioe(p?D.shape:_.shape,p?_.shape:D.shape,p?[n.batchSize,y,n.outChannels]:[n.batchSize,n.outChannels,y],v,b,H,W,R,U),Y=p?[D,_]:[_,D];if(s&&Y.push(s),R&&Y.push(i),U){const V=r.makeTensorInfo([],"float32",Nd(o,"float32"));Y.push(V),C.push(V)}const J=r.runWebGLProgram($,Y,"float32"),oe=lt({inputs:{x:J},backend:r,attrs:{shape:n.outShape}});C.push(J);for(const V of C)r.disposeIntermediateTensorInfo(V);return oe}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tqe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dataFormat:l,dilations:c,dimRoundingMode:u}=r,A=Ed(l),d=wi(s.shape,i.shape,o,c,a,u,!1,A);let h;if(d.filterHeight===1&&d.filterWidth===1&&d.dilationHeight===1&&d.dilationWidth===1&&d.strideHeight===1&&d.strideWidth===1&&(d.padInfo.type==="SAME"||d.padInfo.type==="VALID"))h=foe({x:s,filter:i,convInfo:d,backend:n});else if(d.strideWidth<=2&&A==="channelsLast"&&Le().getBool("WEBGL_EXP_CONV")){const m=new hoe(d),y=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];h=n.runWebGLProgram(m,[s,i],"float32",y)}else if(Le().getBool("WEBGL_CONV_IM2COL"))h=poe({x:s,filter:i,convInfo:d,backend:n});else{const m=new doe(d);h=n.runWebGLProgram(m,[s,i],"float32")}const p=lt({inputs:{x:h},backend:n,attrs:{shape:d.outShape}});return n.disposeIntermediateTensorInfo(h),p}const Fqe={kernelName:mb,backendName:"webgl",kernelFunc:Tqe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Lqe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,r=e.strideWidth,s=e.padInfo.top,i=e.padInfo.left,o=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${s};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              ${o?`float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);`:`float dyValue = getDy(b, d2, yR, yC);
              float xValue = getX(b, d1, xR, xC);
              dotProd += (xValue * dyValue);`}
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Dqe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,s=e.strideHeight,i=e.strideWidth,o=e.dataFormat==="channelsLast",a=n-1-e.padInfo.top,l=r-1-e.padInfo.left,c=o?1:2,u=o?2:3,A=o?3:1;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${A}];

        ivec2 dyCorner = ivec2(coords[${c}], coords[${u}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${o}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Pqe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideDepth,r=e.strideHeight,s=e.strideWidth,i=e.padInfo.front,o=e.padInfo.top,a=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${n} - ${i};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${r} - ${o};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${s} - ${a};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Rqe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterDepth,r=e.filterHeight,s=e.filterWidth,i=e.strideDepth,o=e.strideHeight,a=e.strideWidth,l=n-1-e.padInfo.front,c=r-1-e.padInfo.top,u=s-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${l}, ${c}, ${u});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${n}; wF++) {
          float dyF = float(dyFCorner + wF) / ${i}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${n} - 1 - wF;

          for (int wR = 0; wR < ${r}; wR++) {
            float dyR = float(dyRCorner + wR) / ${o}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${r} - 1 - wR;

            for (int wC = 0; wC < ${s}; wC++) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${s} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oqe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:o,pad:a,dataFormat:l,dimRoundingMode:c,filterShape:u}=r,A=Ed(l),d=wi(s.shape,u,o,1,a,c,!1,A),h=new Lqe(d);return n.runWebGLProgram(h,[s,i],"float32")}const $qe={kernelName:mI,backendName:"webgl",kernelFunc:Oqe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Uqe{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=eo(this.outputShape.length);const n=e.filterHeight,r=e.filterWidth,s=n-1-e.padInfo.top,i=r-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${i});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];

        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        vec4 result = vec4(0.);
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / strides[0];
          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);
          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            int wCPerm = ${r} - 1 - wC;

            float dyC = float(dyCCorner + wC) / strides[1];
            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)
              && (fract(dyC) == 0.0);
            int idyC = int(dyC);

            float dyC2 = float(dyCCorner + wC + 1) / strides[1];
            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)
              && (fract(dyC2) == 0.0);
            int idyC2 = int(dyC2);

            if (idyCVal && idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?
                  dySample : getDy(batch, idyR, idyC2, d2);

                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));

                dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample2.xy : dySample2.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC2, d2);
                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            }
          }
        }
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mqe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{inputShape:o,strides:a,pad:l,dataFormat:c,dimRoundingMode:u}=r,A=Ed(c),d=wi(o,i.shape,a,1,l,u,!1,A);if(Le().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&A==="channelsLast"){const h=[[d.strideHeight,d.strideWidth]],p=new Uqe(d);return n.runWebGLProgram(p,[s,i],"float32",h)}else{const h=new Dqe(d);return n.runWebGLProgram(h,[s,i],"float32")}}const Qqe={kernelName:gb,backendName:"webgl",kernelFunc:Mqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jqe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dilations:l}=r,c=Df(s.shape,i.shape,o,l,a),u=new Eqe(c);return n.runWebGLProgram(u,[s,i],"float32")}const Hqe={kernelName:yb,backendName:"webgl",kernelFunc:jqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zqe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:o,pad:a,filterShape:l}=r,c=Df(s.shape,l,o,1,a),u=new Pqe(c);return n.runWebGLProgram(u,[s,i],"float32")}const Vqe={kernelName:gI,backendName:"webgl",kernelFunc:zqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wqe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{pad:o,strides:a,inputShape:l}=r,c=Df(l,i.shape,a,1,o),u=new Rqe(c);return n.runWebGLProgram(u,[s,i],"float32")}const Gqe={kernelName:yI,backendName:"webgl",kernelFunc:Wqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kqe=Q1+`
  return cos(x);
`,qqe=`
  vec4 result = cos(x);
  bvec4 isNaN = isnan(x);
  ${eg}
  return result;
`,Xqe=Hn({opSnippet:Kqe,packedOpSnippet:qqe}),Yqe={kernelName:jy,backendName:"webgl",kernelFunc:Xqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zqe=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,Jqe=Hn({opSnippet:Zqe}),eXe={kernelName:Hy,backendName:"webgl",kernelFunc:Jqe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tXe{constructor(e,n,r,s,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[o,a,l,c]=e,[u]=n,[A,d]=r;this.outputShape=[u,A,d,c];const h=s==="bilinear"?1:0,[p,m]=[`${a-1}.0`,`${l-1}.0`],[y,g,v]=A>1?[`${(a-1)/(A-1)}`,"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[b,C,_]=d>1?[`${(l-1)/(d-1)}`,"(x2-x1) * width_ratio",`x1*${m} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${m}`];this.userCode=`
      const float height_ratio = float(${y});
      const float width_ratio = float(${b});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${o}) {
          return;
        }

        float height_scale = ${g};
        float width_scale = ${C};

        float in_y = ${v};
        if( in_y < 0.0 || in_y > ${p} ) {
          setOutput(float(${i}));
          return;
        }
        float in_x = ${_};
        if( in_x < 0.0 || in_x > ${m} ) {
          setOutput(float(${i}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${h} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nXe=t=>{const{inputs:e,backend:n,attrs:r}=t,{image:s,boxes:i,boxInd:o}=e,{cropSize:a,method:l,extrapolationValue:c}=r,u=new tXe(s.shape,i.shape,a,l,c);return n.runWebGLProgram(u,[s,i,o],"float32")},rXe={kernelName:vI,backendName:"webgl",kernelFunc:nXe};var kx;(function(t){t.Prod="*",t.Sum="+"})(kx||(kx={}));class Zz{constructor(e,n,r,s){this.op=e,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const i=this.outputShape.length,o=this.op===kx.Prod?"1.0":"0.0",a=r?o:`getX(${Jz(i,"coords",this.op)})`,l=this.outputShape[this.outputShape.length-1];let c="",u="";r?(c=s?`end != ${l-1}`:"end != 0",u=s?"end + 1":"end - 1"):(c=s?`end + pow2 < ${l}`:"end >= pow2",u=s?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${wr(i)} coords = getOutputCoords();
        int end = ${eV(i,"coords",this.op)};
        float val = ${a};
        int pow2 = int(pow(2.0, index));
        if (${c}) {
          int idx = ${u};
          ${eV(i,"coords",this.op)} = idx;
          val ${this.op}= getX(${Jz(i,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function Jz(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.x, ${e}.y`;if(t===3)return`${e}.x, ${e}.y, ${e}.z`;if(t===4)return`${e}.x, ${e}.y, ${e}.z, ${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}function eV(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.y`;if(t===3)return`${e}.z`;if(t===4)return`${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function moe(t,e,n,r,s,i){const o=e.shape.length,a=rs([r],o);let l=e;a!=null&&(l=_o({inputs:{x:e},backend:n,attrs:{perm:a}}));const c=Bs(1,o)[0];if(c!==o-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${e.shape.length-1} but got axis=${r}`);const u=l.shape[c];let A=Ra({inputs:{x:l},backend:n});for(let d=0;d<=Math.ceil(Math.log2(u))-1;d++){const h=new Zz(t,l.shape,!1,i),p=[[d]],m=A;A=n.runWebGLProgram(h,[A],A.dtype,p),n.disposeIntermediateTensorInfo(m)}if(s){const d=new Zz(t,l.shape,s,i),h=A;A=n.runWebGLProgram(d,[A],A.dtype),n.disposeIntermediateTensorInfo(h)}if(a!=null){const d=Pf(a),h=_o({inputs:{x:A},backend:n,attrs:{perm:d}});return n.disposeIntermediateTensorInfo(A),n.disposeIntermediateTensorInfo(l),h}return A}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sXe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:o,reverse:a}=r;return moe(kx.Prod,s,n,i,o,a)}const iXe={kernelName:wI,backendName:"webgl",kernelFunc:sXe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oXe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:o,reverse:a}=r;return moe(kx.Sum,s,n,i,o,a)}const aXe={kernelName:wb,backendName:"webgl",kernelFunc:oXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lXe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:o,binaryOutput:a}=r;if(s.shape.length===1){const l=n.readSync(s.dataId),c=n.readSync(i.dataId),u=Xie(l,c,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,u)}else if(s.shape.length===2){const l=n.bufferSync(s),c=n.bufferSync(i),u=dGe(l,c,o,a);return n.makeTensorInfo(u.shape,i.dtype,u.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}const cXe={kernelName:xI,backendName:"webgl",kernelFunc:lXe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uXe{constructor(e,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${n};
      int offset_h = imod(h, ${n});
      int in_w = w / ${n};
      int offset_w = imod(w, ${n});
      int offset_d = (offset_h * ${n} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AXe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockSize:i,dataFormat:o}=r,a=s.shape[0],l=o==="NHWC"?s.shape[1]:s.shape[2],c=o==="NHWC"?s.shape[2]:s.shape[3],u=o==="NHWC"?s.shape[3]:s.shape[1],A=l*i,d=c*i,h=u/(i*i),p=o==="NHWC"?[a,A,d,h]:[a,h,A,d],m=new uXe(p,i,o);return n.runWebGLProgram(m,[s],s.dtype)}const dXe={kernelName:bI,backendName:"webgl",kernelFunc:AXe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class goe{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=eo(this.outputShape.length);const o=e.filterHeight,a=e.filterWidth,l=e.outChannels/e.inChannels;let c="",u="";r&&(s?c=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?c=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:c=`
          float activation(float x) {
            ${r}
          }
        `,u="result = activation(result);");const A=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${c}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${l};
        int q = d2 - d1 * ${l};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${o}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${a}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${A}
        ${u}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yoe{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=eo(this.outputShape.length);const o=e.outChannels/e.inChannels,a=e.padInfo.left,l=e.strideWidth,c=e.dilationWidth,u=e.filterHeight,A=e.filterWidth,d=A;let h=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let g=0;g<A;g++)h+=`
          vec4 xTexelC${g*2};
          int xTexelC${g*2}Ready;
          vec4 xTexelC${g*2+1};
          int xTexelC${g*2+1}Ready;
          vec4 xC${g};`;h+=`
    for (int r = 0; r < ${u}; r++) {
      `;for(let g=0;g<A;g++)h+=`
          xTexelC${g*2} = vec4(0.0);
          xTexelC${g*2}Ready = 0;
          xTexelC${g*2+1} = vec4(0.0);
          xTexelC${g*2+1}Ready = 0;
          xC${g} = vec4(0.0);`;h+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let g=0;g<(d+1)/2;g++){const v=g*2;if(h+=`
          xC = xCCorner + ${v*c};
          `,l===1){if(v<A&&(a%2===1?(h+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v}Ready == 0) {
                  xTexelC${v} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${v}.zw = vec2(0.0);
                  }
                  xTexelC${v}Ready = 1;
                }
              `,c===1&&v>0?h+=`
                xC${v} = vec4(xTexelC${v-2}.zw, xTexelC${v}.xy);
                `:h+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${v} = vec4(previous.zw, xTexelC${v}.xy);
                  } else {
                    xC${v} = vec4(0.0, 0.0, xTexelC${v}.xy);
                  }
                  `):h+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${v}Ready == 0) {
                  xTexelC${v} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${v}.zw = vec2(0.0);
                  }
                  xTexelC${v}Ready = 1;
                }

                xC${v} = xTexelC${v};
                `,v+1<A)){const b=a%2===0?aI(c):c;c%2===0&&a%2===1||c%2!==0&&a%2!==1?(h+=`
                  xCOffset = xC + imod(pads[1], 2) + ${b};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                    xTexelC${v+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${v+1}.zw = vec2(0.0);
                    }
                    xTexelC${v+1}Ready = 1;
                  }
                  `,c>1?h+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${v+1} = vec4(previous.zw, xTexelC${v+1}.xy);
                    } else {
                     xC${v+1} = vec4(0.0, 0.0, xTexelC${v+1}.xy);
                    }
                    `:h+=`
                    xC${v+1} = vec4(xTexelC${v}.zw, xTexelC${v+1}.xy);
                    `):b===1?h+=`
                    xC${v+1} = xTexelC${v};
                    `:h+=`
                    xCOffset = xC + ${b};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                      xTexelC${v+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${v+1}.zw = vec2(0.0);
                      }
                      xTexelC${v+1}Ready = 1;
                    }

                    xC${v+1} = xTexelC${v+1};
                    `}}else v<A&&(a%2===1?(h+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v}Ready == 0) {
                  xTexelC${v} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${v}.zw = vec2(0.0);
                  }
                  xTexelC${v}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${v+1}Ready == 0) {
                  xTexelC${v+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${v+1}.zw = vec2(0.0);
                  }
                  xTexelC${v+1}Ready = 1;
                }

                xC${v} = vec4(xTexelC${v}.zw, xTexelC${v+1}.zw);
              `,v+1<A&&(h+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${v+1} = vec4(xTexelC${v+1}.xy, final.xy);
                `)):(h+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${v}Ready == 0) {
                  xTexelC${v} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${v}.zw = vec2(0.0);
                  }
                  xTexelC${v}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                  xTexelC${v+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${v+1}.zw = vec2(0.);
                  }
                  xTexelC${v+1}Ready = 1;
                }

                xC${v} = vec4(
                  xTexelC${v}.xy, xTexelC${v+1}.xy);
              `,v+1<A&&(h+=`
                  xC${v+1} = vec4(xTexelC${v}.zw, xTexelC${v+1}.zw);
                `)));v<A&&(h+=`
            wTexel = getW(r, ${v}, d1, q);
            dotProd += xC${v} * vec4(wTexel.xz, wTexel.xz);
          `,v+1<A&&(h+=`
              wTexel = getW(r, ${v+1}, d1, q);
              dotProd += xC${v+1} * vec4(wTexel.xz, wTexel.xz);
            `))}h+=`
    }
  `,h+=`
      }
    `;let p="",m="";r&&(s?p=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?p=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:p=`vec4 activation(vec4 x) {
          ${r}
        }`,m="result = activation(result);");const y=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${p}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${o};
        int q = d2 - d1 * ${o};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${h}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${y}
        ${m}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hXe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dilations:l,dimRoundingMode:c}=r;let u=l;u==null&&(u=[1,1]),ee(Li(o,u),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);const A=wi(s.shape,i.shape,o,u,a,c,!0);let d;Le().getBool("WEBGL_PACK_DEPTHWISECONV")&&A.strideWidth<=2&&A.outChannels/A.inChannels===1?d=new yoe(A):d=new goe(A);const h=[[A.padInfo.top,A.padInfo.left],[A.strideHeight,A.strideWidth],[A.dilationHeight,A.dilationWidth],[A.inHeight,A.inWidth]];return n.runWebGLProgram(d,[s,i],"float32",h)}const fXe={kernelName:vb,backendName:"webgl",kernelFunc:hXe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pXe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,r=e.strideWidth,s=e.padInfo.top,i=e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${o} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${s};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class mXe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,s=e.strideHeight,i=e.strideWidth,o=n-1-e.padInfo.top,a=r-1-e.padInfo.left,l=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${a});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${l}; dm++) {
              int d2 = d1 * ${l} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gXe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:o,dilations:a,pad:l,dimRoundingMode:c,filterShape:u}=r,A=wi(s.shape,u,o,a,l,c,!0),d=new pXe(A);return n.runWebGLProgram(d,[s,i],"float32")}const yXe={kernelName:CI,backendName:"webgl",kernelFunc:gXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wXe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{strides:o,dilations:a,pad:l,dimRoundingMode:c,inputShape:u}=r,A=wi(u,i.shape,o,a,l,c,!0),d=new mXe(A);return n.runWebGLProgram(d,[s,i],"float32")}const vXe={kernelName:SI,backendName:"webgl",kernelFunc:wXe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xXe{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bXe(t){const{inputs:e,backend:n}=t,{x:r}=e,s=[...r.shape,...r.shape],i=Oe(r.shape),o=lt({inputs:{x:r},backend:n,attrs:{shape:[i]}}),a=new xXe(i),l=n.runWebGLProgram(a,[o],o.dtype),c=lt({inputs:{x:l},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),c}const CXe={kernelName:BI,backendName:"webgl",kernelFunc:bXe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class SXe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:n,inWidth:r,padInfo:s,strideHeight:i,strideWidth:o,filterHeight:a,filterWidth:l,dilationHeight:c,dilationWidth:u}=e,{top:A,left:d}=s;this.userCode=`
      const ivec2 strides = ivec2(${i}, ${o});
      const ivec2 pads = ivec2(${A}, ${d});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${a}; h++) {
          int hIn = hBeg + h * ${c};

          if (hIn >= 0 && hIn < ${n}) {
            for (int w = 0; w < ${l}; w++) {
              int wIn = wBeg + w * ${u};

              if (wIn >= 0 && wIn < ${r}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BXe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dilations:l}=r,c=u2(s.shape,i.shape,o,a,"NHWC",l);let u;const A=new SXe(c);u=n.runWebGLProgram(A,[s,i],"float32");const d=lt({inputs:{x:u},backend:n,attrs:{shape:c.outShape}});return n.disposeIntermediateTensorInfo(u),d}const _Xe={kernelName:xb,backendName:"webgl",kernelFunc:BXe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NXe(t){const{inputs:e,backend:n,attrs:r}=t,{equation:s}=r,i=e,{allDims:o,summedDims:a,idDims:l}=a$(s,i.length);c$(o.length,l,i);const{path:c,steps:u}=u$(a,l),A=u.length;let d=null,h=o.length;const p=[];for(let m=0;m<A;++m){for(const y of u[m]){const{permutationIndices:g,expandDims:v}=l$(h,l[y]);let b;A$(g)?b=i[y]:(b=_o({inputs:{x:i[y]},backend:n,attrs:{perm:g}}),p.push(b));const C=b.shape.slice();for(let _=0;_<v.length;++_)C.splice(v[_],0,1);Tn(b.shape,C)||(b=lt({inputs:{x:b},backend:n,attrs:{shape:C}}),p.push(b)),d===null?d=b:(d=eU({inputs:{a:b,b:d},backend:n}),p.push(d))}m<A-1&&(c[m]>=0&&(d=wk({inputs:{x:d},backend:n,attrs:{axis:c[m]-(o.length-h),keepDims:!1}}),p.push(d)),h--)}for(const m of p)m!==d&&n.disposeIntermediateTensorInfo(m);return d}const IXe={kernelName:NI,backendName:"webgl",kernelFunc:NXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EXe="return (x >= 0.0) ? x : (exp(x) - 1.0);",kXe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,TXe=Hn({opSnippet:EXe,packedOpSnippet:kXe}),FXe={kernelName:Vy,backendName:"webgl",kernelFunc:TXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LXe="return (b >= 0.0) ? a : a * (b + 1.0);",DXe=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,PXe=t=>{const{inputs:e,backend:n}=t,{dy:r,y:s}=e,i=Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new M1(DXe,r.shape,s.shape):new Tm(LXe,r.shape,s.shape);return n.runWebGLProgram(i,[r,s],r.dtype)},RXe={kernelName:II,backendName:"webgl",kernelFunc:PXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OXe=`
  return vec4(equal(a, b));
`,$Xe="return float(a == b);",UXe=Ri({opSnippet:$Xe,packedOpSnippet:OXe,dtype:"bool",cpuKernelImpl:gGe}),MXe={kernelName:bb,backendName:"webgl",kernelFunc:UXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QXe=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${e$};
  float a1 = ${t$};
  float a2 = ${n$};
  float a3 = ${r$};
  float a4 = ${s$};
  float a5 = ${i$};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,jXe=Hn({opSnippet:QXe}),HXe={kernelName:Wy,backendName:"webgl",kernelFunc:jXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zXe=Q1+`
  return exp(x);
`,VXe=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,woe=Hn({opSnippet:zXe,packedOpSnippet:VXe,cpuKernelImpl:yGe,dtype:"float32"}),WXe={kernelName:Gy,backendName:"webgl",kernelFunc:woe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TL(t){const{inputs:e,attrs:n,backend:r}=t,{dim:s}=n,{input:i}=e,o=i.shape.length,a=i.shape.slice();let l=s;return s<0&&(ee(-(o+1)<=s,()=>`Axis must be in the interval [${-(o+1)}, ${o}]`),l=o+s+1),a.splice(l,0,1),lt({inputs:{x:i},backend:r,attrs:{shape:a}})}const GXe={kernelName:Cb,backendName:"webgl",kernelFunc:TL};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tV="return exp(x) - 1.0;",KXe=Hn({opSnippet:tV,packedOpSnippet:tV,cpuKernelImpl:wGe}),qXe={kernelName:Ky,backendName:"webgl",kernelFunc:KXe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nV{constructor(e,n,r){this.variableNames=["real","imag"];const s=n[1];this.outputShape=n;const i=r?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,o=r?`${s}.0`:"1.0";let a;if(e==="real")a="return real * expR - imag * expI;";else if(e==="imag")a="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${i};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${a}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${s});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${s}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${o};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function voe(t,e,n){const r=n.texData.get(t.dataId),s=Oe(t.shape),i=t.shape[t.shape.length-1],o=s/i,a=lt({inputs:{x:t},backend:n,attrs:{shape:[o,i]}}),l=a.shape,c=new nV("real",l,e),u=new nV("imag",l,e),A=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:l},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:l}],d=n.runWebGLProgram(c,A,"float32"),h=n.runWebGLProgram(u,A,"float32"),p=jf({inputs:{real:d,imag:h},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h);const m=lt({inputs:{x:p},backend:n,attrs:{shape:t.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(p),m}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XXe(t){const{inputs:e,backend:n}=t,{input:r}=e;return voe(r,!1,n)}const YXe={kernelName:EI,backendName:"webgl",kernelFunc:XXe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ZXe{constructor(e,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z2(t){const{backend:e,attrs:n}=t,{shape:r,value:s}=n;let{dtype:i}=n;if(i=i||Qm(s),i==="string"){const o=As(i,Oe(r));return o.fill(s),e.makeTensorInfo(r,i,o)}else{const o=new ZXe(r,s),a=[[s]];return e.runWebGLProgram(o,[],i,a)}}const JXe={kernelName:kI,backendName:"webgl",kernelFunc:z2};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class eYe{constructor(e){this.variableNames=["Image"],this.outputShape=[];const n=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${n} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${n}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tYe={kernelName:TI,backendName:"webgl",kernelFunc:({inputs:t,backend:e})=>{const{image:n}=t,r=e,s=new eYe(n.shape);return r.runWebGLProgram(s,[n],n.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rV="return floor(x);",nYe=Hn({opSnippet:rV,packedOpSnippet:rV,cpuKernelImpl:vGe}),rYe={kernelName:qy,backendName:"webgl",kernelFunc:nYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sYe=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,iYe=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,oYe=Ri({opSnippet:sYe,packedOpSnippet:iYe,dtype:"int32"}),aYe={kernelName:Xy,backendName:"webgl",kernelFunc:oYe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lYe{constructor(e){this.variableNames=["A"];const n=Io(),[r,s]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${s}.0, ${r}.0);

        vec4 values = ${n.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cYe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=Io(),[r,s]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${s}.0, ${r}.0);
            vec4 values = ${n.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uYe={kernelName:T_,backendName:"webgl",kernelFunc:AYe};let Lg,rF=Le().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function AYe(t){const{inputs:e,backend:n,attrs:r}=t;let{pixels:s}=e;const{numChannels:i}=r,o=typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement,a=typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement,[l,c]=o?[s.videoWidth,s.videoHeight]:[s.width,s.height],u=[c,l],A=[c,l,i];if(a||o){const m=Le().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(Lg==null||m!==rF)&&(rF=m,Lg=document.createElement("canvas").getContext("2d",{willReadFrequently:rF})),Lg.canvas.width=l,Lg.canvas.height=c,Lg.drawImage(s,0,0,l,c),s=Lg.canvas}const d=n.makeTensorInfo(u,"int32");n.texData.get(d.dataId).usage=ul.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(d.dataId),s);const h=Le().getBool("WEBGL_PACK")?new cYe(A):new lYe(A),p=n.runWebGLProgram(h,[d],"int32");return n.disposeData(d.dataId),p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dYe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:o,preluActivationWeights:a}=e,{strides:l,pad:c,dataFormat:u,dilations:A,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r,m=Ed(u),y=wi(s.shape,i.shape,l,A,c,d,!1,m);let g;const v=[],b=o!=null,C=a!=null,_=h==="leakyrelu",I=()=>{const T=[s,i],D=(H,R)=>{if(R==="NCHW"&&H.shape.length===1&&H.shape[0]!==1){const U=lt({inputs:{x:H},backend:n,attrs:{shape:[H.shape[0],1,1]}});return v.push(U),U}return H};if(b&&T.push(D(o,u)),C&&T.push(D(a,u)),_){const H=n.makeTensorInfo([],"float32",Nd(p,"float32"));T.push(H),v.push(H)}return T};if(y.filterHeight===1&&y.filterWidth===1&&y.dilationHeight===1&&y.dilationWidth===1&&y.strideHeight===1&&y.strideWidth===1&&(y.padInfo.type==="SAME"||y.padInfo.type==="VALID"))g=foe({x:s,filter:i,convInfo:y,backend:n,bias:o,activation:h,preluActivationWeights:a,leakyreluAlpha:p});else if(y.strideWidth<=2&&m==="channelsLast"&&Le().getBool("WEBGL_EXP_CONV")){const T=h?Ix(h,!0):null,D=new hoe(y,b,T,C,_),H=[[y.padInfo.top,y.padInfo.left],[y.strideHeight,y.strideWidth],[y.dilationHeight,y.dilationWidth],[y.inHeight,y.inWidth]],R=I();g=n.runWebGLProgram(D,R,"float32",H)}else if(Le().getBool("WEBGL_CONV_IM2COL"))g=poe({x:s,filter:i,convInfo:y,backend:n,bias:o,activation:h,preluActivationWeights:a,leakyreluAlpha:p});else{const T=h?Ix(h,!1):null,D=new doe(y,b,T,C,_),H=I();g=n.runWebGLProgram(D,H,"float32")}const F=lt({inputs:{x:g},backend:n,attrs:{shape:y.outShape}});return v.push(g),v.forEach(T=>n.disposeIntermediateTensorInfo(T)),F}const hYe={kernelName:hx,backendName:"webgl",kernelFunc:dYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fYe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:o,preluActivationWeights:a}=e,{strides:l,pad:c,dilations:u,dimRoundingMode:A,activation:d,leakyreluAlpha:h}=r,p=[];let m=u;m==null&&(m=[1,1]),ee(Li(l,m),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${m}'`);const y=wi(s.shape,i.shape,l,m,c,A,!0),g=Le().getBool("WEBGL_PACK_DEPTHWISECONV")&&y.strideWidth<=2&&y.outChannels/y.inChannels===1,v=d?Ix(d,g):null,b=[s,i],C=o!=null,_=a!=null,I=d==="leakyrelu";if(C&&b.push(o),_&&b.push(a),I){const H=n.makeTensorInfo([],"float32",Nd(h,"float32"));b.push(H),p.push(H)}let F;g?F=new yoe(y,C,v,_,I):F=new goe(y,C,v,_,I);const T=[[y.padInfo.top,y.padInfo.left],[y.strideHeight,y.strideWidth],[y.dilationHeight,y.dilationWidth],[y.inHeight,y.inWidth]],D=n.runWebGLProgram(F,b,"float32",T);return p.forEach(H=>n.disposeIntermediateTensorInfo(H)),D}const pYe={kernelName:fx,backendName:"webgl",kernelFunc:fYe};class mYe{constructor(e,n,r,s){this.sliceDim=e,this.strides=n,this.paramsShape=s,this.variableNames=["x","indices"],this.outputShape=r;const i=wr(r.length);let o=`
    int index;`;for(let a=0;a<this.sliceDim;a++)o+=`
          index = round(getIndices(coords[0], ${a}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[a]};
          flattenIndex += index * ${this.strides[a]};`;this.userCode=`
         void main() {
          ${i} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${o}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gYe(t){const{inputs:e,backend:n}=t,{params:r,indices:s}=e,i=s.shape,o=i[i.length-1],a=Oe(r.shape),[l,c,u,A]=JE(r,s),d=lt({inputs:{x:s},backend:n,attrs:{shape:[c,o]}}),h=lt({inputs:{x:r},backend:n,attrs:{shape:[Oe(r.shape)/u,u]}});if(n.shouldExecuteOnCPU([r,s])||r.dtype==="string"){const g=n.readSync(s.dataId),v=n.bufferSync(r),b=xGe(g,v,r.dtype,c,o,u,A,r.shape,a);return n.makeTensorInfo(l,r.dtype,b.values)}const p=new mYe(o,A,[c,u],r.shape),m=n.runWebGLProgram(p,[h,d],h.dtype),y=lt({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),y}const yYe={kernelName:FI,backendName:"webgl",kernelFunc:gYe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wYe{constructor(e,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const r=wr(this.rank),s=vYe(e);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${s}));
      }
    `}}function vYe(t,e){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let s=0;s<t.length;s++)s===2?r.push("index"):r.push(`${n[s]}`);return r.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xoe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,indices:i}=e,{axis:o,batchDims:a}=r,l=Nn(o,s.shape)[0];if(Le().get("DEBUG")){const v=n.readSync(i.dataId),b=s.shape[l];for(let C=0;C<v.length;++C){const _=v[C];ee(_<=b-1&&_>=0,()=>`GatherV2: the index value ${_} is not in [0, ${b-1}]`)}}const c=h$(s,i,l,a),u=Oe(i.shape),A=[],d=lt({inputs:{x:s},backend:n,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),h=lt({inputs:{x:i},backend:n,attrs:{shape:[c.batchSize,u/c.batchSize]}});A.push(d),A.push(h);const p=[c.batchSize,c.outerSize,u/c.batchSize,c.sliceSize];if(n.shouldExecuteOnCPU([s,i])||s.dtype==="string"){const v=n.bufferSync(h),b=n.bufferSync(d),C=bGe(b,v,p);return A.forEach(_=>n.disposeIntermediateTensorInfo(_)),n.makeTensorInfo(c.outputShape,C.dtype,C.values)}const m=new wYe(d.shape,p),y=n.runWebGLProgram(m,[d,h],d.dtype);A.push(y);const g=lt({inputs:{x:y},backend:n,attrs:{shape:c.outputShape}});return A.forEach(v=>n.disposeIntermediateTensorInfo(v)),g}const xYe={kernelName:Bb,backendName:"webgl",kernelFunc:xoe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bYe="return float(a > b);",CYe=`
  return vec4(greaterThan(a, b));
`,SYe=Ri({opSnippet:bYe,packedOpSnippet:CYe,cpuKernelImpl:CGe,dtype:"bool"}),BYe={kernelName:_b,backendName:"webgl",kernelFunc:SYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Ye="return float(a >= b);",NYe=`
  return vec4(greaterThanEqual(a, b));
`,IYe=Ri({opSnippet:_Ye,packedOpSnippet:NYe,dtype:"bool",cpuKernelImpl:SGe}),EYe={kernelName:Yy,backendName:"webgl",kernelFunc:IYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kYe(t){const{inputs:e,backend:n}=t,{input:r}=e;return voe(r,!0,n)}const TYe={kernelName:LI,backendName:"webgl",kernelFunc:kYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FYe="return float(!isnan(x) && !isinf(x));",LYe=Hn({opSnippet:FYe,dtype:"bool"}),DYe={kernelName:Jy,backendName:"webgl",kernelFunc:LYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PYe="return float(isinf(x));",RYe=Hn({opSnippet:PYe,dtype:"bool"}),OYe={kernelName:e1,backendName:"webgl",kernelFunc:RYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Ye="return float(isnan(x));",UYe=Hn({opSnippet:$Ye,dtype:"bool"}),MYe={kernelName:t1,backendName:"webgl",kernelFunc:UYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QYe="return float(a < b);",jYe=`
  return vec4(lessThan(a, b));
`,HYe=Ri({opSnippet:QYe,packedOpSnippet:jYe,cpuKernelImpl:BGe,dtype:"bool"}),zYe={kernelName:Ib,backendName:"webgl",kernelFunc:HYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VYe="return float(a <= b);",WYe=`
  return vec4(lessThanEqual(a, b));
`,GYe=Ri({opSnippet:VYe,packedOpSnippet:WYe,cpuKernelImpl:_Ge,dtype:"bool"}),KYe={kernelName:Eb,backendName:"webgl",kernelFunc:GYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qYe(t){const{backend:e,attrs:n}=t,{start:r,stop:s,num:i}=n,o=NGe(r,s,i);return e.makeTensorInfo([o.length],"float32",o)}const XYe={kernelName:PI,backendName:"webgl",kernelFunc:qYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YYe=Q1+`
  return x < 0.0 ? 0./0. : log(x);
`,ZYe=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,JYe=Hn({opSnippet:YYe,packedOpSnippet:ZYe,cpuKernelImpl:IGe}),eZe={kernelName:n1,backendName:"webgl",kernelFunc:JYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tZe=Q1+`
  return log(1.0 + x);
`,nZe=Hn({opSnippet:tZe}),rZe={kernelName:r1,backendName:"webgl",kernelFunc:nZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sZe="return float(a >= 1.0 && b >= 1.0);",iZe=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,oZe=Ri({opSnippet:sZe,packedOpSnippet:iZe,dtype:"bool"}),aZe={kernelName:kb,backendName:"webgl",kernelFunc:oZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lZe="return float(!(x >= 1.0));",cZe=Hn({opSnippet:lZe}),uZe={kernelName:Tb,backendName:"webgl",kernelFunc:cZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AZe="return float(a >= 1.0 || b >= 1.0);",dZe=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,hZe=Ri({opSnippet:AZe,packedOpSnippet:dZe,dtype:"bool"}),fZe={kernelName:Fb,backendName:"webgl",kernelFunc:hZe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pZe{constructor(e,n,r,s,i){this.variableNames=["x"],this.outputShape=[];const o=n,a=e[3]-1;this.outputShape=e;let l;const c=`float(${r}) + float(${s}) * sum`;i===.5?l=`inversesqrt(${c})`:i===1?l=`1.0/(${c})`:l=`exp(log(${c}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${o}; j <= ${o}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${a}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${l};
        setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mZe{constructor(e,n,r,s,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const o=n,a=e[3]-1;this.outputShape=e;let l;const c=`float(${r}) + float(${s}) * sum`;i===.5?l=`inversesqrt(${c})`:i===1?l=`1.0/(${c})`:l=`exp(log(${c}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${o};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${o}; j <= ${o}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${a}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${l};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gZe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{depthRadius:i,bias:o,alpha:a,beta:l}=r,c=Le().getBool("WEBGL_PACK_NORMALIZATION")?new mZe(s.shape,i,o,a,l):new pZe(s.shape,i,o,a,l);return n.runWebGLProgram(c,[s],s.dtype)},yZe={kernelName:Lb,backendName:"webgl",kernelFunc:gZe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wZe{constructor(e,n,r,s,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=r,this.alpha=s,this.beta=i,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${n})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${n} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${s}) * norm + float(${r});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${s})
                * float(${i})
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${i});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vZe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s,y:i,dy:o}=e,{depthRadius:a,bias:l,alpha:c,beta:u}=r,A=new wZe(s.shape,a,l,c,u);return n.runWebGLProgram(A,[s,i,o],s.dtype)},xZe={kernelName:RI,backendName:"webgl",kernelFunc:vZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bZe(t,e,n,r){const s=Oe(e),o=Oe(t.shape)/s,a=lt({inputs:{x:t},attrs:{shape:[o,s]},backend:r}),l=tg(a,t.dtype,"max",r),c=lt({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(l),c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function boe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reductionIndices:i,keepDims:o}=r,a=s.shape.length,l=Nn(i,s.shape);let c=l;const u=rs(c,a),A=u!=null,d=n.shouldExecuteOnCPU([s]);let h=s;if(A){if(d){const b=n.texData.get(h.dataId).values,C=new Array(a);for(let F=0;F<C.length;F++)C[F]=s.shape[u[F]];const _=Z$(b,s.shape,s.dtype,u,C);h=n.makeTensorInfo(C,s.dtype);const I=n.texData.get(h.dataId);I.values=_}else h=yk(s,u,n);c=Bs(c.length,a)}Di("max",c,a);const[p,m]=vi(h.shape,c);let y=p;o&&(y=Ss(p,l));let g;if(d){const b=n.texData.get(h.dataId).values,C=EGe(b,Oe(m),y,s.dtype);g=n.makeTensorInfo(y,s.dtype);const _=n.texData.get(g.dataId);_.values=C}else g=bZe(h,m,y,n);return A&&n.disposeIntermediateTensorInfo(h),g}const CZe={kernelName:Db,backendName:"webgl",kernelFunc:boe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SZe=J$+`
  return max(a, b);
`,BZe=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+eg+`
  return result;
`,_Ze=Ri({opSnippet:SZe,packedOpSnippet:BZe,cpuKernelImpl:kGe}),NZe={kernelName:s1,backendName:"webgl",kernelFunc:_Ze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IZe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;Q2(s,"maxPool");const{filterSize:i,strides:o,pad:a,dimRoundingMode:l}=r,c=1;ee(Li(o,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${c}'`);const u=cc(s.shape,i,o,c,a,l);if(u.filterWidth===1&&u.filterHeight===1&&Tn(u.inShape,u.outShape))return Ra({inputs:{x:s},backend:n});const A=new Ex(u,"max",!1);return n.runWebGLProgram(A,[s],s.dtype)}const EZe={kernelName:Pb,backendName:"webgl",kernelFunc:IZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kZe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:o,pad:a,dataFormat:l,dimRoundingMode:c}=r,u=[1,1,1],A=Id(s.shape,i,o,u,a,c,l),d=new tU(A,"max",!1);return n.runWebGLProgram(d,[s],s.dtype)}const TZe={kernelName:Rb,backendName:"webgl",kernelFunc:kZe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class FZe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideHeight,r=e.strideWidth,s=e.dilationHeight,i=e.effectiveFilterHeight,o=e.effectiveFilterWidth,a=i-1-e.padInfo.top,l=o-1-e.padInfo.left,c=i*o-1;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${i};
          wR += ${s}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${o}; wC++) {
            float dyC = float(dyCCorner + wC) / ${r}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${c} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${o} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class LZe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideDepth,r=e.strideHeight,s=e.strideWidth,i=e.dilationDepth,o=e.dilationHeight,a=e.dilationWidth,l=e.effectiveFilterDepth,c=e.effectiveFilterHeight,u=e.effectiveFilterWidth,A=l-1-e.padInfo.front,d=c-1-e.padInfo.top,h=u-1-e.padInfo.left,p=l*c*u-1;this.userCode=`
      const ivec3 pads = ivec3(${A}, ${d}, ${h});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${l};
           wD += ${i}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${c};
              wR += ${o}) {
            float dyR = float(dyRCorner + wR) / ${r}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${u};
                wC += ${a}) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${p} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${c} * ${u} +
                  wR * ${u} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DZe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,o=i,{filterSize:a,strides:l,pad:c,dimRoundingMode:u}=r,A=[1,1,1],d=Id(o.shape,a,l,A,c,u),h=new tU(d,"max",!0),p=n.runWebGLProgram(h,[o],o.dtype),m=new LZe(d),y=n.runWebGLProgram(m,[s,p],o.dtype);return n.disposeIntermediateTensorInfo(p),y}const PZe={kernelName:$I,backendName:"webgl",kernelFunc:DZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RZe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i,output:o}=e,a=i;Q2([i,o],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:A}=r,d=cc(a.shape,l,c,1,u,A),h=!0,p=new Ex(d,"max",h),m=n.runWebGLProgram(p,[a],a.dtype),y=new FZe(d),g=n.runWebGLProgram(y,[s,m],a.dtype);return n.disposeIntermediateTensorInfo(m),g}const OZe={kernelName:OI,backendName:"webgl",kernelFunc:RZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Ze(t,e,n,r){let s=new Ex(n,"max",!1);const i=r.runWebGLProgram(s,[t],"float32");s=new Ex(n,"max",!0,!0,e);const o=r.runWebGLProgram(s,[t],"float32");return[i,o]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UZe={kernelName:UI,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{filterSize:s,strides:i,pad:o,includeBatchInIndex:a}=e,l=n;ee(r.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`);const c=[1,1];ee(Li(i,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${c}'`);const u=cc(r.shape,s,i,c,o),[A,d]=$Ze(r,a,u,l);return[A,d]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MZe(t,e,n,r){const s=Oe(e),o=Oe(t.shape)/s,a=lt({inputs:{x:t},attrs:{shape:[o,s]},backend:r}),l=tg(a,"float32","mean",r),c=lt({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(l),c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QZe={kernelName:Ob,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{keepDims:s,axis:i}=e,o=n,a=r.shape.length,l=Nn(i,r.shape);let c=l;const u=rs(c,a),A=u!=null,d=o.shouldExecuteOnCPU([r]),h=[];let p=r;if(A){if(d){const C=o.texData.get(p.dataId).values,_=new Array(a);for(let T=0;T<_.length;T++)_[T]=r.shape[u[T]];const I=Z$(C,r.shape,r.dtype,u,_);p=o.makeTensorInfo(_,r.dtype);const F=o.texData.get(p.dataId);F.values=I}else p=yk(r,u,o);h.push(p),c=Bs(c.length,a)}Di("sum",c,a);const[m,y]=vi(p.shape,c);let g=m;s&&(g=Ss(m,l));const v=MZe(p,y,g,o);for(const b of h)o.disposeIntermediateTensorInfo(b);return v}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jZe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r,a=s.shape.length,l=Nn(i,s.shape);let c=l;const u=rs(c,a);let A=s;u!=null&&(A=_o({inputs:{x:s},backend:n,attrs:{perm:u}}),c=Bs(c.length,s.shape.length)),Di("min",c,a);const[d,h]=vi(A.shape,c),p=Oe(h),m=lt({inputs:{x:A},backend:n,attrs:{shape:[-1,p]}}),y=tg(m,m.dtype,"min",n);let g;if(o){const v=Ss(d,l);g=lt({inputs:{x:y},backend:n,attrs:{shape:v}})}else g=lt({inputs:{x:y},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),u!=null&&n.disposeIntermediateTensorInfo(A),g}const HZe={kernelName:$b,backendName:"webgl",kernelFunc:jZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zZe=J$+`
  return min(a, b);
`,VZe=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+eg+`
  return result;
`,WZe=Ri({opSnippet:zZe,packedOpSnippet:VZe,cpuKernelImpl:TGe}),GZe={kernelName:i1,backendName:"webgl",kernelFunc:WZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class KZe{constructor(e,n,r){this.variableNames=["x"],this.outputShape=n.map((u,A)=>u[0]+e[A]+u[1]);const s=e.length,i=wr(s),o=n.map(u=>u[0]).join(","),a=n.map((u,A)=>u[0]+e[A]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s),c=r==="reflect"?0:1;if(s===1){this.userCode=`
        int start = ${o};
        int end = ${a};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${c};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${c};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${o});
      ${i} end = ${i}(${a});

      void main() {
        ${i} outC = getOutputCoords();
        for (int i = 0; i < ${s}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${c};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${c};
          }
        }
        ${i} coords = outC - start;
        setOutput(getX(${l}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qZe{constructor(e,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((p,m)=>p[0]+e[m]+p[1]);const s=e.length,i=wr(s),o=n.map(p=>p[0]).join(","),a=n.map((p,m)=>p[0]+e[m]).join(","),l=So("rc",s),c=So("source",s),u=`${l[s-1]} < ${this.outputShape[s-1]}`,A=s===1?"source":`vec2(${c.slice(-2).join()})`,d=r==="reflect"?0:1;let h="";if(s===1){const p=`
        ${i} source = rc;
        if (source < start) {
          source = start * 2 - source - ${d};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${d};
        }
        source -= start;
      `;h=`
        ${i} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${c.join()}), ${A});
        ${l[s-1]} += 1;
        if(${u}) {
          ${p}
          result[1] = getChannel(getX(${c.join()}), ${A});
        }
      `}else{const p=`
        ${i} source = rc;
        ${i} lt = ${i}(lessThan(source, start));
        ${i} gte = ${i}(greaterThanEqual(source, end));
        ${i} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${d}) +
                gte * ((end - 1) * 2 - source + ${d});
        source -= start;
      `;h=`
        ${i} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${c.join()}), ${A});
        ${l[s-1]} += 1;
        if(${u}) {
          ${p}
          result[1] = getChannel(getX(${c.join()}), ${A});
        }
        rc = outputLoc;
        ${l[s-2]} += 1;
        if(${l[s-2]} < ${this.outputShape[s-2]}) {
          ${p}
          result[2] = getChannel(getX(${c.join()}), ${A});
          ${l[s-1]} += 1;
          if(${u}) {
            ${p}
            result[3] = getChannel(getX(${c.join()}), ${A});
          }
        }
      `}this.userCode=`
      const ${i} start = ${i}(${o});
      const ${i} end = ${i}(${a});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${h}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XZe=({inputs:t,backend:e,attrs:n})=>{const{x:r}=t,{paddings:s,mode:i}=n,o=Le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new qZe(r.shape,s,i):new KZe(r.shape,s,i);return e.runWebGLProgram(o,[r],r.dtype)},YZe={kernelName:Ub,backendName:"webgl",kernelFunc:XZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZZe=`if (b == 0.0) return NAN;
  return mod(a, b);`,JZe=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+eg+`
  return result;
`,eJe=Ri({opSnippet:ZZe,packedOpSnippet:JZe}),tJe={kernelName:o1,backendName:"webgl",kernelFunc:eJe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nJe{constructor(e,n,r){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,r],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${n-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${n-1}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rJe=`
if (a == b) {
  return 1.0;
};
return a / b;`,sJe=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,Coe=Ri({opSnippet:rJe,packedOpSnippet:sJe,checkOutOfBounds:!0}),iJe={kernelName:zy,backendName:"webgl",kernelFunc:Coe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sV="return a - b;",Soe=Ri({opSnippet:sV,packedOpSnippet:sV,supportsComplex:!0,cpuKernelImpl:ZGe}),oJe={kernelName:b1,backendName:"webgl",kernelFunc:Soe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Boe(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{dim:i}=r,o=Nn([i],s.shape),a=boe({inputs:{x:s},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),l=Ss(a.shape,o),c=lt({inputs:{x:a},backend:n,attrs:{shape:l}}),u=Soe({inputs:{a:s,b:c},backend:n}),A=woe({inputs:{x:u},backend:n}),d=wk({inputs:{x:A},backend:n,attrs:{axis:o,keepDims:!1}}),h=lt({inputs:{x:d},backend:n,attrs:{shape:l}}),p=Coe({inputs:{a:A,b:h},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(A),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),p}const aJe={kernelName:r2,backendName:"webgl",kernelFunc:Boe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lJe(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{numSamples:i,seed:o,normalized:a}=r,l=a?s:Boe({inputs:{logits:s},backend:n,attrs:{dim:s.shape.length-1}}),c=l.shape[0],u=l.shape[1],A=new nJe(c,u,i),d=[[o]],h=n.runWebGLProgram(A,[l],"int32",d);return a||n.disposeIntermediateTensorInfo(l),h}const cJe={kernelName:MI,backendName:"webgl",kernelFunc:lJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uJe=Ac+`
  return -x;
`,AJe=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function dJe(t){const{inputs:e,backend:n}=t,{x:r}=e;if(n.shouldExecuteOnCPU([r])){const i=n.texData.get(r.dataId),[o,a]=LGe(i.values,r.shape,r.dtype);return n.makeTensorInfo(a,r.dtype,o)}let s;return Le().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new $h(r.shape,AJe):s=new tA(r.shape,uJe),n.runWebGLProgram(s,[r],r.dtype)}const hJe={kernelName:Mb,backendName:"webgl",kernelFunc:dJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fJe=qE;function pJe(t){sl("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:l}=r,c=n.readSync(s.dataId),u=n.readSync(i.dataId),{selectedIndices:A}=fJe(c,u,o,a,l);return n.makeTensorInfo([A.length],"int32",new Int32Array(A))}const mJe={kernelName:QI,backendName:"webgl",kernelFunc:pJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gJe=XE;function yJe(t){sl("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:l,padToMaxOutputSize:c}=r,u=n.readSync(s.dataId),A=n.readSync(i.dataId),{selectedIndices:d,validOutputs:h}=gJe(u,A,o,a,l,c);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const wJe={kernelName:jI,backendName:"webgl",kernelFunc:yJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vJe=YE;function xJe(t){sl("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:l,softNmsSigma:c}=r,u=n.readSync(s.dataId),A=n.readSync(i.dataId),d=o,h=a,p=l,m=c,{selectedIndices:y,selectedScores:g}=vJe(u,A,d,h,p,m);return[n.makeTensorInfo([y.length],"int32",new Int32Array(y)),n.makeTensorInfo([g.length],"float32",new Float32Array(g))]}const bJe={kernelName:HI,backendName:"webgl",kernelFunc:xJe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class CJe{constructor(e,n,r,s){this.variableNames=["indices"],this.outputShape=[e,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${s}), float(${r}),
                      float(index == coords.y)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SJe=t=>{const{inputs:e,backend:n,attrs:r}=t,{indices:s}=e,{dtype:i,depth:o,onValue:a,offValue:l}=r,c=Oe(s.shape),u=new CJe(c,o,a,l),A=lt({inputs:{x:s},backend:n,attrs:{shape:[c]}}),d=n.runWebGLProgram(u,[A],i);n.disposeIntermediateTensorInfo(A);const h=[...s.shape,o],p=lt({inputs:{x:d},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(d),p},BJe={kernelName:Hb,backendName:"webgl",kernelFunc:SJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nN(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="complex64"){const s=H2({inputs:{input:r},backend:n}),i=nN({inputs:{x:s},backend:n}),o=vk({inputs:{input:r},backend:n}),a=nN({inputs:{x:o},backend:n}),l=jf({inputs:{real:i,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),l}else return z2({attrs:{shape:r.shape,dtype:r.dtype,value:r.dtype==="string"?"":0},backend:n})}const _Je={kernelName:a2,backendName:"webgl",kernelFunc:nN};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _oe(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(r.dtype==="complex64"){const s=H2({inputs:{input:r},backend:n}),i=_oe({inputs:{x:s},backend:n}),o=vk({inputs:{input:r},backend:n}),a=nN({inputs:{x:o},backend:n}),l=jf({inputs:{real:i,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),l}else return z2({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:n})}const NJe={kernelName:jb,backendName:"webgl",kernelFunc:_oe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IJe(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r;if(e.length===1)return TL({inputs:{input:e[0]},backend:n,attrs:{dim:s}});const i=e[0].shape,o=e[0].dtype;e.forEach(u=>{Fi(i,u.shape,"All tensors passed to stack must have matching shapes"),ee(o===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=[],l=e.map(u=>{const A=TL({inputs:{input:u},backend:n,attrs:{dim:s}});return a.push(A),A}),c=Aoe({inputs:l,backend:n,attrs:{axis:s}});return a.forEach(u=>n.disposeIntermediateTensorInfo(u)),c}const EJe={kernelName:zb,backendName:"webgl",kernelFunc:IJe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kJe{constructor(e,n,r){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((c,u)=>c[0]+e[u]+c[1]);const s=e.length,i=wr(s),o=n.map(c=>c[0]).join(","),a=n.map((c,u)=>c[0]+e[u]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s);if(s===1){this.userCode=`
        int start = ${o};
        int end = ${a};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${o});
      ${i} end = ${i}(${a});

      void main() {
        ${i} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${i} coords = outC - start;
          setOutput(getX(${l}));
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class TJe{constructor(e,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((m,y)=>m[0]+e[y]+m[1]);const s=e.length,i=wr(s),o=n.map(m=>m[0]).join(","),a=n.map((m,y)=>m[0]+e[y]).join(","),l=So("rc",s),c=So("source",s),u=`${l[s-1]} < ${this.outputShape[s-1]}`,A=s===1?"source":`vec2(${c.slice(-2).join()})`,d=[`${i} rc = outputLoc;`,`${l[s-1]} += 1;
       if(${u}) {
      `,s===1?"":`}
       rc = outputLoc;
       ${l[s-2]} += 1;
       if(${l[s-2]} < ${this.outputShape[s-2]}) {`,s===1?"":`  ${l[s-1]} += 1;
         if(${u}) {`],h=s===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let m=0,y=s===1?2:4;m<y;m++)p+=`
        ${d[m]}
        if (${h}) {
          result[${m}] = float(value);
        } else {
          ${i} source = rc - start;
          result[${m}] = getChannel(getX(${c.join()}), ${A});
        }
      `;p+=s===1?"} ":"}}",this.userCode=`
      const ${i} start = ${i}(${o});
      const ${i} end = ${i}(${a});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${p}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Noe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{paddings:i,constantValue:o}=r;if(Oe(s.shape)===0){const c=i.map((u,A)=>u[0]+s.shape[A]+u[1]);return z2({backend:n,attrs:{shape:c,value:o,dtype:s.dtype}})}const a=Le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new TJe(s.shape,i,o):new kJe(s.shape,i,o),l=[[o]];return n.runWebGLProgram(a,[s],s.dtype,l)},FJe={kernelName:Vb,backendName:"webgl",kernelFunc:Noe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LJe=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,DJe=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+eg+`
  return result;
`,PJe=Ri({opSnippet:LJe,packedOpSnippet:DJe}),RJe={kernelName:l1,backendName:"webgl",kernelFunc:PJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OJe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r,a=s.shape.length,l=[],c=Nn(i,s.shape);let u=c;const A=rs(u,a);let d=s;A!=null&&(d=_o({inputs:{x:s},backend:n,attrs:{perm:A}}),u=Bs(u.length,a),l.push(d)),Di("prod",u,a);let h;if(n.shouldExecuteOnCPU([d])){const p=n.texData.get(d.dataId).values,{outVals:m,outShape:y,outDtype:g}=PGe(d.shape,d.dtype,p,u);h=n.makeTensorInfo(y,g,m)}else{const[p,m]=vi(d.shape,u),y=Oe(m),g=lt({inputs:{x:d},backend:n,attrs:{shape:[-1,y]}}),v=pE(s.dtype),b=tg(g,v,"prod",n);h=lt({inputs:{x:b},backend:n,attrs:{shape:p}}),l.push(g),l.push(b)}if(o){l.push(h);const p=Ss(h.shape,c);h=lt({inputs:{x:h},backend:n,attrs:{shape:p}})}return l.forEach(p=>n.disposeIntermediateTensorInfo(p)),h}const $Je={kernelName:Gb,backendName:"webgl",kernelFunc:OJe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UJe(t){const{inputs:e,backend:n,attrs:r}=t,{paramsNestedSplits:s,paramsDenseValues:i,indices:o}=e,{outputRaggedRank:a}=r,l=s.map(g=>n.readSync(g.dataId)),c=s.map(g=>g.shape),u=n.readSync(i.dataId),A=n.readSync(o.dataId),[d,h,p]=RGe(l,c,u,i.shape,i.dtype,A,o.shape,a),m=d.map(g=>n.makeTensorInfo([g.length],"int32",g)),y=n.makeTensorInfo(p,i.dtype,h);return m.concat([y])}const MJe={kernelName:zI,backendName:"webgl",kernelFunc:UJe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QJe(t){const{inputs:e,backend:n}=t,{starts:r,limits:s,deltas:i}=e,o=n.readSync(r.dataId),a=n.readSync(s.dataId),l=n.readSync(i.dataId),[c,u]=OGe(o,r.shape,r.dtype,a,s.shape,l,i.shape),A=n.makeTensorInfo([c.length],"int32",c),d=n.makeTensorInfo([u.length],r.dtype,u);return[A,d]}const jJe={kernelName:VI,backendName:"webgl",kernelFunc:QJe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HJe(t){const{inputs:e,backend:n,attrs:r}=t,{shape:s,values:i,defaultValue:o,rowPartitionTensors:a}=e,{rowPartitionTypes:l}=r,c=n.readSync(s.dataId),u=n.readSync(i.dataId),A=n.readSync(o.dataId),d=a.map(y=>n.readSync(y.dataId)),h=a.map(y=>y.shape),[p,m]=$Ge(c,s.shape,u,i.shape,i.dtype,A,o.shape,d,h,l);return n.makeTensorInfo(p,i.dtype,m)}const zJe={kernelName:WI,backendName:"webgl",kernelFunc:HJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ioe=t=>{const{backend:e,attrs:n}=t,{start:r,stop:s,step:i,dtype:o}=n,a=UGe(r,s,i,o);return e.makeTensorInfo([a.length],o,a)},VJe={kernelName:GI,backendName:"webgl",kernelFunc:Ioe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WJe="return 1.0 / x;",GJe=Hn({opSnippet:WJe}),KJe={kernelName:c1,backendName:"webgl",kernelFunc:GJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qJe=Ac+`
  return (x < 0.0) ? 0.0 : x;
`,XJe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,YJe=Hn({opSnippet:qJe,packedOpSnippet:XJe}),ZJe={kernelName:u1,backendName:"webgl",kernelFunc:YJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JJe=Ac+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,eet=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,tet=Hn({opSnippet:JJe,packedOpSnippet:eet}),net={kernelName:A1,backendName:"webgl",kernelFunc:tet};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ret{constructor(e,n,r,s,i){this.variableNames=["A"],this.outputShape=[];const[o,a,l,c]=e;this.outputShape=[o,n,r,c];const u=[s&&n>1?a-1:a,s&&r>1?l-1:l],A=[s&&n>1?n-1:n,s&&r>1?r-1:r];let d;i?d="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":d="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${u[0]/A[0]},
          ${u[1]/A[1]});
      const vec2 inputShapeRC = vec2(${a}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${d};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class set{constructor(e,n,r,s,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,a,l,c]=e;this.outputShape=[o,n,r,c];const u=[s&&n>1?a-1:a,s&&r>1?l-1:l],A=[s&&n>1?n-1:n,s&&r>1?r-1:r];let d;i?d="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":d="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${u[0]/A[0]},
          ${u[1]/A[1]},
          ${u[1]/A[1]});
      const vec3 inputShapeRC = vec3(${a}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${d};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${c-1};
        bool hasNextRow = coords.z < ${r-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iet(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:o,size:a}=r,[l,c]=a,u=Le().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new set(s.shape,l,c,i,o):new ret(s.shape,l,c,i,o);return n.runWebGLProgram(u,[s],"float32")}const oet={kernelName:Xb,backendName:"webgl",kernelFunc:iet};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aet{constructor(e,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,i]=n,[,o,a]=e,l=[r&&o>1?s-1:s,r&&a>1?i-1:i],c=[r&&o>1?o-1:o,r&&a>1?a-1:a],u=l[0]/c[0],A=l[1]/c[1],d=1/u,h=1/A,p=Math.ceil(d)*2+2,m=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${u});
        const float widthScale = float(${A});

        const float invHeightScale = float(${d});
        const float invWidthScale = float(${h});

        const int winHeight = int(${p});
        const int winWidth = int(${m});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${o}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${a}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${s-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${i-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cet(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:o}=r,a=new aet(i.shape,s.shape,o);return n.runWebGLProgram(a,[i],i.dtype)}const uet={kernelName:XI,backendName:"webgl",kernelFunc:cet};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Aet{constructor(e,n,r,s,i){this.variableNames=["A"],this.outputShape=[];const[o,a,l,c]=e;this.outputShape=[o,n,r,c];const u=[s&&n>1?a-1:a,s&&r>1?l-1:l],A=[s&&n>1?n-1:n,s&&r>1?r-1:r],d=s?"0.5":"0.0";let h;i?h="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":h="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${u[0]/A[0]},
          ${u[1]/A[1]});
      const vec2 inputShapeRC = vec2(${a}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class det{constructor(e,n,r,s,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,a,l,c]=e;this.outputShape=[o,n,r,c];const u=[s&&n>1?a-1:a,s&&r>1?l-1:l],A=[s&&n>1?n-1:n,s&&r>1?r-1:r],d=s?"0.5":"0.0";let h;i?h="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":h="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${u[0]/A[0]},
          ${u[1]/A[1]},
          ${u[1]/A[1]});
      const vec3 inputShapeRC = vec3(${a}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${c-1};
        bool hasNextRow = coords.z < ${r-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function het(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:o,size:a}=r,[l,c]=a,u=Le().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new det(s.shape,l,c,i,o):new Aet(s.shape,l,c,i,o);return n.runWebGLProgram(u,[s],s.dtype)}const fet={kernelName:qb,backendName:"webgl",kernelFunc:het};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pet{constructor(e,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,i]=n,[,o,a]=e,l=[r&&o>1?s-1:s,r&&a>1?i-1:i],c=[r&&o>1?o-1:o,r&&a>1?a-1:a],u=l[0]/c[0],A=l[1]/c[1],d=1/u,h=1/A,p=Math.ceil(d)*2+2,m=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${u});
        const float widthScale = float(${A});

        const float invHeightScale = float(${d});
        const float invWidthScale = float(${h});

        const int winHeight = int(${p});
        const int winWidth = int(${m});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${o}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${a}) {
              continue;
            }

            float sourceFracRow =
              float(${l[0]}) *
                (float(dyR) / float(${c[0]}));

            float sourceFracCol =
                float(${l[1]}) *
                  (float(dyC) / float(${c[1]}));

            int sourceNearestRow = int(min(
                float(int(${s}) - 1),
                ${r} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${i}) - 1),
                ${r} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function met(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:o}=r,a=new pet(i.shape,s.shape,o);return n.runWebGLProgram(a,[i],i.dtype)}const get={kernelName:qI,backendName:"webgl",kernelFunc:met};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yet{constructor(e,n){this.variableNames=["x"];const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);if(this.outputShape=e,r===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}const s=a=>n.indexOf(a)!==-1&&e[a]!==1?`${e[a]} - coords[${a}] - 1`:`coords[${a}]`,i=e.map((a,l)=>s(l)).join(","),o=wr(r);this.userCode=`
      void main() {
        ${o} coords = getOutputCoords();
        setOutput(getX(${i}));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wet{constructor(e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);this.outputShape=e;const s=So("rc",r),i=`${s[r-1]} + 1 < ${this.outputShape[r-1]}`,o=`${s[r-2]} + 1 < ${this.outputShape[r-2]}`,a=wr(r);r===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${i}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${a} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${l(s.slice())};
          if(${i}){
            result.g = ${c(s.slice())};
          }
          if(${o}) {
            result.b = ${u(s.slice())};
            if(${i}) {
              result.a = ${A(s.slice())};
            }
          }
          setOutput(result);
        }
    `;function l(p){return d(p)}function c(p){return p[r-1]="("+p[r-1]+" + 1)",d(p)}function u(p){return p[r-2]="("+p[r-2]+" + 1)",d(p)}function A(p){return p[r-1]="("+p[r-1]+" + 1)",p[r-2]="("+p[r-2]+" + 1)",d(p)}function d(p){const m=e.map((v,b)=>h(b,p)),y=m.join(","),g=m.slice(-2).join(",");return`getChannel(getX(${y}), vec2(${g}))`}function h(p,m){return n.indexOf(p)!==-1&&e[p]!==1?`${e[p]} - ${m[p]} - 1`:`${m[p]}`}}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vet(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dims:i}=r,o=s.shape.length,a=Nn(i,s.shape);if(o===0)return Ra({inputs:{x:s},backend:n});const l=Le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new wet(s.shape,a):new yet(s.shape,a);return n.runWebGLProgram(l,[s],s.dtype)}const xet={kernelName:Yb,backendName:"webgl",kernelFunc:vet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bet{constructor(e,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const r=e[1],s=e[2];this.outputShape=e;let i="";typeof n=="number"?i=`float outputValue = ${n.toFixed(2)};`:i=`
        vec3 fill = vec3(${n.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${i}
          if(coordX >= 0 && coordX < ${s} && coordY >= 0 && coordY < ${r}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cet={kernelName:hE,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:s,fillValue:i,center:o}=e,a=n,l=new bet(r.shape,i),[c,u]=YO(o,r.shape[1],r.shape[2]),A=[[c,u,Math.sin(s),Math.cos(s)]];return a.runWebGLProgram(l,[r],r.dtype,A)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bet=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,_et=Hn({opSnippet:Bet}),Net={kernelName:d1,backendName:"webgl",kernelFunc:_et};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Iet="return inversesqrt(x);",Eet=Hn({opSnippet:Iet,cpuKernelImpl:MGe}),ket={kernelName:h1,backendName:"webgl",kernelFunc:Eet};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nU{constructor(e,n,r,s,i,o,a=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;const c=wr(i.length),u=wr(o.length);let A="";r===1?A="i":r===2&&(A="i, j");const d=`getIndices(${A})`;let h="";s===1?h="i":s===2&&(h="i, coords[1]");const p=`getUpdates(${h})`;let m="";l&&(m="coords[0], coords[1]");const y=`getDefaultValue(${m})`,g=n>1?"strides[j]":"strides";this.userCode=`
        ${c} strides = ${c}(${i});

        void main() {
          ${u} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${n}; j++) {
              int index = round(${d});
              flattenedIndex += index * ${g};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${p};
              found = true;
            }
          }
          setOutput(mix(${y}, sum, float(found)));
        }
      `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Tet{constructor(e,n,r,s,i,o,a=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=o;const c=wr(i.length),u=wr(o.length);let A="";r===1?A="i":r===2&&(A="i, j");const d=`getIndices(${A})`;let h="";s===1?h="i":s===2&&(h="i, coords[1]");const p=`getUpdates(${h})`;let m="";l&&(m="coords[0], coords[1]");const y=`getDefaultValue(${m})`,g=n>1?"strides[j]":"strides",v=n>1?"strides[j + 1]":"strides";this.userCode=`
        ${c} strides = ${c}(${i});

        void main() {
          ${u} coords = getOutputCoords();
          vec4 sum = vec4(0.);
          vec4 found = vec4(0.);
          for (int i = 0; i < ${e}; i+=2) {
            ivec2 flattenedIndex = ivec2(0);
            for (int j = 0; j < ${n}; j+=2) {
              ivec4 index = round(${d});
              flattenedIndex += index.xz * ${g};
              if (j + 1 < ${n}) {
                flattenedIndex += index.yw * ${v};
              }
            }
            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||
                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {
              vec4 updVals = ${p};
              if (flattenedIndex[0] == coords[0]) {
                sum.xy += updVals.xy;
                found.xy = vec2(1.);
              } else if (flattenedIndex[0] == coords[0] + 1) {
                sum.zw += updVals.xy;
                found.zw = vec2(1.);
              }
              if (flattenedIndex[1] == coords[0]) {
                sum.xy += updVals.zw;
                found.xy = vec2(1.);
              } else if (flattenedIndex[1] == coords[0] + 1) {
                sum.zw += updVals.zw;
                found.zw = vec2(1.);
              }
            }
          }
          setOutput(mix(${y}, sum, found));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fet(t){const{inputs:e,backend:n,attrs:r}=t,{indices:s,updates:i}=e,{shape:o}=r,{sliceRank:a,numUpdates:l,sliceSize:c,strides:u,outputSize:A}=Uf(i,s,o),d=[A/c,c];if(A===0)return n.makeTensorInfo(o,s.dtype);const h=lt({inputs:{x:s},backend:n,attrs:{shape:[l,a]}}),p=lt({inputs:{x:i},backend:n,attrs:{shape:[l,c]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0]));let y;Le().getBool("WEBGL_PACK")?y=new Tet(l,a,h.shape.length,p.shape.length,u,d):y=new nU(l,a,h.shape.length,p.shape.length,u,d);const g=n.runWebGLProgram(y,[p,h,m],p.dtype),v=lt({inputs:{x:g},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(m),v}const Let={kernelName:YI,backendName:"webgl",kernelFunc:Fet};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Det{constructor(e,n,r,s){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,r];const i="while (left < right) {",o=`for (int i = 0; i < ${Math.ceil(Math.log2(n+1))}; ++i) { if (left >= right) break;`,a=Le().getNumber("WEBGL_VERSION")===2?i:o,l=s==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${a}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${l} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pet(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:s,values:i}=e,{side:o}=r,a=new Det(s.shape[0],s.shape[1],i.shape[1],o),l=[[s.shape[1]]];return n.runWebGLProgram(a,[s,i],"int32",l)}const Ret={kernelName:JI,backendName:"webgl",kernelFunc:Pet};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Oet{constructor(e,n,r){this.variableNames=["c","a","b"],this.outputShape=n;let s,i;if(r>4)throw Error(`Where for rank ${r} is not yet supported`);if(r===1)i="resRC",s="resRC";else{const a=["resRC.x","resRC.y","resRC.z","resRC.w"],l=[],c=[];for(let u=0;u<n.length;u++)c.push(`${a[u]}`),u<e&&l.push(`${a[u]}`);s=l.join(),i=c.join()}const o=wr(r);this.userCode=`
      void main() {
        ${o} resRC = getOutputCoords();
        float cVal = getC(${s});
        if (cVal >= 1.0) {
          setOutput(getA(${i}));
        } else {
          setOutput(getB(${i}));
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $et(t){const{inputs:e,backend:n}=t,{condition:r,t:s,e:i}=e,o=new Oet(r.shape.length,s.shape,s.shape.length);return n.runWebGLProgram(o,[r,s,i],Xo(s.dtype,i.dtype))}const Uet={kernelName:Zb,backendName:"webgl",kernelFunc:$et};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Met=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${nk};
  float scale = ${rk};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,Qet=Hn({opSnippet:Met}),jet={kernelName:f1,backendName:"webgl",kernelFunc:Qet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Het=Q1+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,zet=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Vet=Hn({opSnippet:Het,packedOpSnippet:zet,cpuKernelImpl:jGe}),Wet={kernelName:y1,backendName:"webgl",kernelFunc:Vet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Get=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,Ket=Hn({opSnippet:Get}),qet={kernelName:g1,backendName:"webgl",kernelFunc:Ket};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xet=Q1+`
  return sin(x);
`,Yet=`
  vec4 result = sin(x);
  bvec4 isNaN = isnan(x);
  ${eg}
  return result;
`,Zet=Hn({opSnippet:Xet,packedOpSnippet:Yet}),Jet={kernelName:p1,backendName:"webgl",kernelFunc:Zet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ett=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,ttt=Hn({opSnippet:ett}),ntt={kernelName:m1,backendName:"webgl",kernelFunc:ttt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rtt=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,stt=Hn({opSnippet:rtt}),itt={kernelName:w1,backendName:"webgl",kernelFunc:stt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ott=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,paddings:o}=r;ee(s.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const a=i.reduce((g,v)=>g*v),l=[[0,0]];l.push(...o);for(let g=1+i.length;g<s.shape.length;++g)l.push([0,0]);const c=[],u=Noe({inputs:{x:s},backend:n,attrs:{paddings:l,constantValue:0}}),A=I2(u.shape,i,a,!1),d=E2(A.length,i.length,!1),h=k2(u.shape,i,a,!1),p=lt({inputs:{x:u},backend:n,attrs:{shape:A}}),m=_o({inputs:{x:p},backend:n,attrs:{perm:d}}),y=lt({inputs:{x:m},backend:n,attrs:{shape:h}});return c.push(u),c.push(p),c.push(m),c.forEach(g=>n.disposeIntermediateTensorInfo(g)),y},att={kernelName:t2,backendName:"webgl",kernelFunc:ott};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ltt(t){const{inputs:e,backend:n}=t,{indices:r,values:s,denseShape:i,defaultValue:o}=e;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${r.shape}`);if(s.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${s.shape}`);if(o.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${o.shape}`);const a=n.readSync(r.dataId),l=n.readSync(s.dataId),c=n.readSync(i.dataId),u=n.readSync(o.dataId)[0],[A,d,h,p,m]=zGe(a,r.shape,r.dtype,l,s.dtype,c,u);return[n.makeTensorInfo(d,r.dtype,A),n.makeTensorInfo([d[0]],s.dtype,h),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(y=>Number(y)))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}const ctt={kernelName:eE,backendName:"webgl",kernelFunc:ltt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function utt(t){const{inputs:e,backend:n}=t,{inputIndices:r,inputShape:s,newShape:i}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(s.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${s.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const o=Array.from(n.readSync(s.dataId)),a=n.readSync(r.dataId),l=Array.from(n.readSync(i.dataId)),[c,u,A]=VGe(a,r.shape,r.dtype,o,l);return[n.makeTensorInfo(u,r.dtype,c),n.makeTensorInfo([A.length],i.dtype,new Int32Array(A))]}const Att={kernelName:tE,backendName:"webgl",kernelFunc:utt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dtt(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${i.shape}`);const o=n.readSync(r.dataId),a=n.readSync(s.dataId),l=n.readSync(i.dataId),[c,u]=Zie(o,r.shape,r.dtype,a,l,!0);return n.makeTensorInfo(u,r.dtype,c)}const htt={kernelName:nE,backendName:"webgl",kernelFunc:dtt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ftt(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${i.shape}`);const o=n.readSync(r.dataId),a=n.readSync(s.dataId),l=n.readSync(i.dataId),[c,u]=Zie(o,r.shape,r.dtype,a,l);return n.makeTensorInfo(u,r.dtype,c)}const ptt={kernelName:rE,backendName:"webgl",kernelFunc:ftt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mtt(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:s,sparseValues:i,defaultValue:o}=e,{outputShape:a}=r,{sliceRank:l,numUpdates:c,sliceSize:u,strides:A,outputSize:d}=Uf(i,s,a),h=!1;if(i.dtype==="string"){const g=n.bufferSync(s),v=n.bufferSync(i),b=vd(n.readSync(o.dataId)[0]),C=QGe(g,v,a,d,u,c,l,A,b,h);return n.makeTensorInfo(a,C.dtype,C.values)}const p=new nU(c,l,s.shape.length,i.shape.length,A,[d,1],h),m=n.runWebGLProgram(p,[i,s,o],i.dtype),y=lt({inputs:{x:m},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(m),y}const gtt={kernelName:sE,backendName:"webgl",kernelFunc:mtt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ytt(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{numOrSizeSplits:i,axis:o}=r,a=Nn(o,s.shape)[0],l=d$(s,i,a),c=s.shape.length,u=new Array(c).fill(0),A=s.shape.slice();return l.map(d=>{const h=[...A];h[a]=d;const p=j1({inputs:{x:s},backend:n,attrs:{begin:u,size:h}});return u[a]+=d,p})}const wtt={kernelName:n2,backendName:"webgl",kernelFunc:ytt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iV="return sqrt(x);",vtt=Hn({opSnippet:iV,packedOpSnippet:iV,cpuKernelImpl:WGe}),xtt={kernelName:v1,backendName:"webgl",kernelFunc:vtt};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const btt="return x * x;",Ctt=Hn({opSnippet:btt}),Stt={kernelName:iE,backendName:"webgl",kernelFunc:Ctt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oV="return (a - b) * (a - b);",Btt=Ri({opSnippet:oV,packedOpSnippet:oV}),_tt={kernelName:x1,backendName:"webgl",kernelFunc:Btt};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ntt(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");const i=n.readSync(s.dataId),o=Sd(i),a=GGe(o,"string",r);return n.makeTensorInfo(s.shape,"string",a)}const Itt={kernelName:s2,backendName:"webgl",kernelFunc:Ntt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ett({inputs:t,attrs:e,backend:n}){const{x:r}=t,s=Ac+`
    return x > 0.0 ? 1.0 : float(${e.alpha});
  `,i=new tA(r.shape,s);return n.runWebGLProgram(i,[r],r.dtype)}const ktt={kernelName:_1,backendName:"webgl",kernelFunc:Ett};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ttt{constructor(e,n,r){this.variableNames=["x"],this.outputShape=r;const s=r.length,i=wr(r.length),o=wr(r.length);let a="";if(s===1)a="coords * strides + begin";else{let l=0;a=r.map((c,u)=>(l++,r.length===1?`coords * strides[${u}] + begin[${u}]`:`coords[${l-1}] * strides[${u}] + begin[${u}]`)).join(",")}this.userCode=`
      ${i} begin = ${i}(${e});
      ${i} strides = ${i}(${n});

      void main() {
        ${o} coords = getOutputCoords();
        setOutput(getX(${a}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ftt(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,end:o,strides:a,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:A,shrinkAxisMask:d}=r,{finalShapeSparse:h,finalShape:p,isIdentity:m,sliceDim0:y,isSimpleSlice:g,begin:v,end:b,strides:C}=GO(s.shape,i,o,a,l,c,u,A,d);let _;if(m)_=lt({inputs:{x:s},backend:n,attrs:{shape:p}});else if(y||g){ee(s.shape.length>=1,()=>`Input must have rank at least 1, got: ${s.shape.length}`);const F=zO(v,b,C),T=j1({inputs:{x:s},backend:n,attrs:{begin:v,size:F}});_=lt({inputs:{x:T},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(T)}else if(n.shouldExecuteOnCPU([s])){const T=n.readSync(s.dataId),D=yn(s.shape,s.dtype,T),H=KGe(h,D,C,v);_=n.makeTensorInfo(p,s.dtype,H.values)}else{const T=new Ttt(v,C,h);_=n.runWebGLProgram(T,[s],s.dtype)}const I=lt({inputs:{x:_},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(_),I}const Ltt={kernelName:oE,backendName:"webgl",kernelFunc:Ftt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dtt(t){const{inputs:e,backend:n,attrs:r}=t,{separator:s,nGramWidths:i,leftPad:o,rightPad:a,padWidth:l,preserveShortSequences:c}=r,{data:u,dataSplits:A}=e,d=n.readSync(u.dataId),h=n.readSync(A.dataId),[p,m]=qGe(d,h,s,i,o,a,l,c);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(A.shape,"int32",m)]}const Ptt={kernelName:aE,backendName:"webgl",kernelFunc:Dtt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rtt(t){const{inputs:e,backend:n,attrs:r}=t,{skipEmpty:s}=r,{input:i,delimiter:o}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(o.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${o.shape}`);const a=n.readSync(i.dataId),l=n.readSync(o.dataId)[0],[c,u,A]=XGe(a,l,s),d=u.length;return[n.makeTensorInfo([d,2],"int32",c),n.makeTensorInfo([d],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(A))]}const Ott={kernelName:lE,backendName:"webgl",kernelFunc:Rtt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $tt(t){const{inputs:e,backend:n,attrs:r}=t,{numBuckets:s}=r,{input:i}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const o=n.readSync(i.dataId),a=YGe(o,s);return n.makeTensorInfo(i.shape,"int32",a)}const Utt={kernelName:cE,backendName:"webgl",kernelFunc:$tt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mtt="return tan(x);",Qtt=Hn({opSnippet:Mtt}),jtt={kernelName:C1,backendName:"webgl",kernelFunc:Qtt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Htt=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,ztt=Hn({opSnippet:Htt}),Vtt={kernelName:S1,backendName:"webgl",kernelFunc:ztt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wtt(t){const{inputs:e,backend:n,attrs:r}=t,{tensor:s,indices:i,updates:o}=e,{sliceRank:a,numUpdates:l,sliceSize:c,strides:u,outputSize:A}=Uf(o,i,s.shape),d=[A/c,c];if(A===0)return n.makeTensorInfo(s.shape,i.dtype);const h=lt({inputs:{x:i},backend:n,attrs:{shape:[l,a]}}),p=lt({inputs:{x:o},backend:n,attrs:{shape:[l,c]}}),m=lt({inputs:{x:s},backend:n,attrs:{shape:d}}),y=new nU(l,a,h.shape.length,p.shape.length,u,d,!1,!0),g=n.runWebGLProgram(y,[p,h,m],m.dtype),v=lt({inputs:{x:g},backend:n,attrs:{shape:s.shape}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),v}const Gtt={kernelName:ZI,backendName:"webgl",kernelFunc:Wtt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ktt{constructor(e,n){this.variableNames=["A"];const r=new Array(e.length);for(let o=0;o<r.length;o++)r[o]=e[o]*n[o];this.outputShape=r,this.rank=r.length;const s=wr(this.rank),i=qtt(e);this.userCode=`
      void main() {
        ${s} resRC = getOutputCoords();
        setOutput(getA(${i}));
      }
    `}}function qtt(t){const e=t.length;if(e>5)throw Error(`Tile for rank ${e} is not yet supported`);if(e===1)return`imod(resRC, ${t[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let s=0;s<t.length;s++)r.push(`imod(${n[s]}, ${t[s]})`);return r.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eoe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reps:i}=r;if(s.dtype==="string"||s.shape.length>5){const l=n.readSync(s.dataId),c=s.dtype==="string"?l.map(d=>vd(d)):l,u=yn(s.shape,s.dtype,c),A=JGe(u,i);return n.makeTensorInfo(A.shape,A.dtype,A.values)}const o=new Ktt(s.shape,i);return n.runWebGLProgram(o,[s],s.dtype)}const Xtt={kernelName:B1,backendName:"webgl",kernelFunc:Eoe};class Ytt{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class Ztt{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dp(t,e){e!==null&&t.disposeIntermediateTensorInfo(e)}function aV(t){let e=1;for(;e<t;)e*=2;return e}function Jtt(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{k:i,sorted:o}=r,a=Le().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=Le().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=s.shape,u=c[c.length-1];if(n.shouldExecuteOnCPU([s])||u<a||i>l){const H=n.readSync(s.dataId),[R,U]=eKe(H,c,s.dtype,i,o);return[n.makeTensorInfo(R.shape,R.dtype,R.values),n.makeTensorInfo(U.shape,U.dtype,U.values)]}if(i===0)return c[c.length-1]=0,[n.makeTensorInfo(c,s.dtype,[]),n.makeTensorInfo(c,"int32",[])];if(u===1)return[s,z2({attrs:{shape:c,dtype:"int32",value:0},backend:n})];const A=n.texData.get(s.dataId),d=A!==null&&A.isPacked,h=d?n.unpackTensor(s):s,m=Oe(c)/u,y=lt({inputs:{x:h},attrs:{shape:[m,u]},backend:n});d&&dp(n,h);const g=aV(i),v=aV(u);let b=null;const C=()=>b===null?[y,y]:[y,b],_=(H,R,U)=>{const W=C(),$=new Ytt(U),J=[[u],[b===null?1:0],[Number.NEGATIVE_INFINITY],[H],[R]],oe=b;b=n.runWebGLProgram($,W,"int32",J),dp(n,oe)};for(let H=1;H<g;H*=2){const R=H*2;for(let U=H;U>=1;U/=2)_(R,U,[m,v])}for(let H=v;H>g;H/=2){const R=C(),U=new Ztt([m,H/2]),$=[[u],[b===null?1:0],[g]],Y=b;b=n.runWebGLProgram(U,R,"int32",$),dp(n,Y);const J=g/2,oe=J*2;for(let V=J;V>=1;V/=2)_(oe,V,b.shape)}let I=b;b=j1({inputs:{x:b},backend:n,attrs:{begin:0,size:[m,i]}}),dp(n,I);let F=xoe({inputs:{x:y,indices:b},backend:n,attrs:{axis:1,batchDims:1}});dp(n,y);const T=c.slice(0,-1);T.push(i),I=b,b=lt({inputs:{x:b},attrs:{shape:T},backend:n}),dp(n,I);const D=F;return F=lt({inputs:{x:F},attrs:{shape:T},backend:n}),dp(n,D),[F,b]}const ent={kernelName:uE,backendName:"webgl",kernelFunc:Jtt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tnt{constructor(e,n,r,s,i,o){this.variableNames=["Image","Transforms"],this.outputShape=o;const a=r==="nearest"?1:2;let l;switch(s){case"constant":l=1;break;case"reflect":l=2;break;case"wrap":l=3;break;case"nearest":l=4;break;default:l=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${l} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${n}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${i});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${i});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${n}));
                float mapY = mapCoord(inY, float(${e}));

                if (${a} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nnt(t){const{inputs:e,backend:n,attrs:r}=t,{image:s,transforms:i}=e,{interpolation:o,fillMode:a,fillValue:l,outputShape:c}=r,[u,A,d,h]=s.shape,[p,m]=c??[A,d],y=[u,p,m,h],g=new tnt(A,d,o,a,l,y);return n.runWebGLProgram(g,[s,i],"float32")}const rnt={kernelName:AE,backendName:"webgl",kernelFunc:nnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function snt(t){const{inputs:e,attrs:n,backend:r}=t,{axis:s}=n,{x:i}=e;Q2(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const o=r.readSync(i.dataId),{outputValues:a,outputShape:l,indices:c}=tKe(o,s,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,a),r.makeTensorInfo([c.length],"int32",c)]}const int={kernelName:dE,backendName:"webgl",kernelFunc:snt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ont(t){const{inputs:e,backend:n,attrs:r}=t,{value:s}=e;let{axis:i}=r;i<0&&(i+=s.shape.length);const o=s,a=o.shape.length,l=s.shape[i],c=new Array(a-1);let u=0;for(let m=0;m<a;m++)m!==i&&(c[u++]=o.shape[m]);const A=[],d=new Array(a).fill(0),h=o.shape.slice();h[i]=1;const p=new Array(l);for(let m=0;m<p.length;m++){d[i]=m;const y=j1({inputs:{x:o},backend:n,attrs:{begin:d,size:h}}),g=lt({inputs:{x:y},backend:n,attrs:{shape:c}});p[m]=g,A.push(y)}return A.forEach(m=>n.disposeIntermediateTensorInfo(m)),p}const ant={kernelName:i2,backendName:"webgl",kernelFunc:ont};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lnt{constructor(e,n){this.variableNames=["x","segmentIds"];const r=e.windowSize,s=e.batchSize,i=e.inSize,o=e.numSegments,a=o*Math.ceil(i/r);this.outputShape=[s,a];const l="0.0",c="sumValue",u=Math.floor(r/4)*4,A=r%4,d=`
        sumValue += dot(values, segFilter);
    `;let h="";i%r>0&&(h=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `);let p="";i%r>0&&(p=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${l};

      float getValue(int batch, int inIdx) {
        ${h}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${p}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${o})) * float(${r}));
        int currentSeg = int(mod(float(outIdx), float(${o})));

        float sumValue = 0.0;

        for (int i = 0; i < ${u}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${d}
        }

        int inIdx = inOffset + ${u};
        if (${A===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${d}
        } else if (${A===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${d}
        } else if (${A===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${d}
        }
        setOutput(${c});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cnt(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,segmentIds:i}=e,{numSegments:o}=r,a=s.shape.length,l=[];let c=0;const u=rs([c],a);let A=s;u!=null&&(A=_o({inputs:{x:s},backend:n,attrs:{perm:u}}),l.push(A),c=Bs(1,a)[0]);const d=one(A.shape,c,o),h=Oe([A.shape[c]]),p=lt({inputs:{x:A},backend:n,attrs:{shape:[-1,h]}});l.push(p);const m=pE(s.dtype),y=(C,_,I,F,T)=>{const D=C.shape[0],H=C.shape[1],R=ine(H,T),U={windowSize:R,inSize:H,batchSize:D,numSegments:T},W=new lnt(U,_),$=n.compileAndRun(W,[C,I],F);if(l.push($),$.shape[1]===T)return $;const Y=Ioe({backend:n,attrs:{start:0,stop:T,step:1,dtype:"float32"}}),J=Eoe({inputs:{x:Y},backend:n,attrs:{reps:[H/R]}});return l.push(Y),l.push(J),y($,_,J,F,T)},g=y(p,"unsortedSegmentSum",i,m,o),v=lt({inputs:{x:g},backend:n,attrs:{shape:d}});let b=v;if(u!=null){l.push(v);const C=Pf(u);b=_o({inputs:{x:b},backend:n,attrs:{perm:C}})}return l.forEach(C=>n.disposeIntermediateTensorInfo(C)),b}const unt={kernelName:o2,backendName:"webgl",kernelFunc:cnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ant=[WKe,KKe,YKe,e9e,n9e,i9e,a9e,c9e,h9e,p9e,y9e,x9e,S9e,I9e,T9e,L9e,P9e,U9e,Q9e,H9e,G9e,eqe,nqe,oqe,lqe,fqe,mqe,vqe,EKe,Cqe,Iqe,Fqe,$qe,Qqe,Hqe,Vqe,Gqe,Yqe,eXe,rXe,iXe,aXe,cXe,dXe,fXe,yXe,vXe,CXe,_Xe,IXe,FXe,RXe,MXe,HXe,WXe,GXe,qXe,YXe,JXe,tYe,rYe,aYe,uYe,hYe,pYe,yYe,xYe,BYe,EYe,IKe,TYe,_qe,DYe,OYe,MYe,TKe,zYe,KYe,XYe,eZe,rZe,aZe,uZe,fZe,yZe,xZe,CZe,NZe,EZe,TZe,PZe,OZe,UZe,QZe,HZe,GZe,YZe,tJe,cJe,DKe,hJe,mJe,wJe,bJe,uqe,BJe,NJe,EJe,FJe,RJe,LKe,$Je,MJe,jJe,zJe,VJe,Aqe,iJe,KJe,ZJe,net,RKe,oet,uet,fet,get,xet,Cet,Net,ket,Let,Ret,Uet,jet,Wet,qet,Jet,ntt,Z9e,aJe,itt,att,ctt,Att,htt,ptt,gtt,wtt,xtt,Stt,_tt,Itt,ktt,Ltt,Ptt,Ott,Utt,oJe,HKe,jtt,Vtt,Gtt,Xtt,ent,rnt,zKe,int,ant,unt,_Je];for(const t of Ant)fE(t);var FL={exports:{}};const dnt=DL(V6e),hnt=DL(pRe);/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */(function(t,e){(function(n,r){r(e,dnt,hnt)})(SA,function(n,r,s){const i={1:{name:"/m/01g317",id:1,displayName:"person"},2:{name:"/m/0199g",id:2,displayName:"bicycle"},3:{name:"/m/0k4j",id:3,displayName:"car"},4:{name:"/m/04_sv",id:4,displayName:"motorcycle"},5:{name:"/m/05czz6l",id:5,displayName:"airplane"},6:{name:"/m/01bjv",id:6,displayName:"bus"},7:{name:"/m/07jdr",id:7,displayName:"train"},8:{name:"/m/07r04",id:8,displayName:"truck"},9:{name:"/m/019jd",id:9,displayName:"boat"},10:{name:"/m/015qff",id:10,displayName:"traffic light"},11:{name:"/m/01pns0",id:11,displayName:"fire hydrant"},13:{name:"/m/02pv19",id:13,displayName:"stop sign"},14:{name:"/m/015qbp",id:14,displayName:"parking meter"},15:{name:"/m/0cvnqh",id:15,displayName:"bench"},16:{name:"/m/015p6",id:16,displayName:"bird"},17:{name:"/m/01yrx",id:17,displayName:"cat"},18:{name:"/m/0bt9lr",id:18,displayName:"dog"},19:{name:"/m/03k3r",id:19,displayName:"horse"},20:{name:"/m/07bgp",id:20,displayName:"sheep"},21:{name:"/m/01xq0k1",id:21,displayName:"cow"},22:{name:"/m/0bwd_0j",id:22,displayName:"elephant"},23:{name:"/m/01dws",id:23,displayName:"bear"},24:{name:"/m/0898b",id:24,displayName:"zebra"},25:{name:"/m/03bk1",id:25,displayName:"giraffe"},27:{name:"/m/01940j",id:27,displayName:"backpack"},28:{name:"/m/0hnnb",id:28,displayName:"umbrella"},31:{name:"/m/080hkjn",id:31,displayName:"handbag"},32:{name:"/m/01rkbr",id:32,displayName:"tie"},33:{name:"/m/01s55n",id:33,displayName:"suitcase"},34:{name:"/m/02wmf",id:34,displayName:"frisbee"},35:{name:"/m/071p9",id:35,displayName:"skis"},36:{name:"/m/06__v",id:36,displayName:"snowboard"},37:{name:"/m/018xm",id:37,displayName:"sports ball"},38:{name:"/m/02zt3",id:38,displayName:"kite"},39:{name:"/m/03g8mr",id:39,displayName:"baseball bat"},40:{name:"/m/03grzl",id:40,displayName:"baseball glove"},41:{name:"/m/06_fw",id:41,displayName:"skateboard"},42:{name:"/m/019w40",id:42,displayName:"surfboard"},43:{name:"/m/0dv9c",id:43,displayName:"tennis racket"},44:{name:"/m/04dr76w",id:44,displayName:"bottle"},46:{name:"/m/09tvcd",id:46,displayName:"wine glass"},47:{name:"/m/08gqpm",id:47,displayName:"cup"},48:{name:"/m/0dt3t",id:48,displayName:"fork"},49:{name:"/m/04ctx",id:49,displayName:"knife"},50:{name:"/m/0cmx8",id:50,displayName:"spoon"},51:{name:"/m/04kkgm",id:51,displayName:"bowl"},52:{name:"/m/09qck",id:52,displayName:"banana"},53:{name:"/m/014j1m",id:53,displayName:"apple"},54:{name:"/m/0l515",id:54,displayName:"sandwich"},55:{name:"/m/0cyhj_",id:55,displayName:"orange"},56:{name:"/m/0hkxq",id:56,displayName:"broccoli"},57:{name:"/m/0fj52s",id:57,displayName:"carrot"},58:{name:"/m/01b9xk",id:58,displayName:"hot dog"},59:{name:"/m/0663v",id:59,displayName:"pizza"},60:{name:"/m/0jy4k",id:60,displayName:"donut"},61:{name:"/m/0fszt",id:61,displayName:"cake"},62:{name:"/m/01mzpv",id:62,displayName:"chair"},63:{name:"/m/02crq1",id:63,displayName:"couch"},64:{name:"/m/03fp41",id:64,displayName:"potted plant"},65:{name:"/m/03ssj5",id:65,displayName:"bed"},67:{name:"/m/04bcr3",id:67,displayName:"dining table"},70:{name:"/m/09g1w",id:70,displayName:"toilet"},72:{name:"/m/07c52",id:72,displayName:"tv"},73:{name:"/m/01c648",id:73,displayName:"laptop"},74:{name:"/m/020lf",id:74,displayName:"mouse"},75:{name:"/m/0qjjc",id:75,displayName:"remote"},76:{name:"/m/01m2v",id:76,displayName:"keyboard"},77:{name:"/m/050k8",id:77,displayName:"cell phone"},78:{name:"/m/0fx9l",id:78,displayName:"microwave"},79:{name:"/m/029bxz",id:79,displayName:"oven"},80:{name:"/m/01k6s3",id:80,displayName:"toaster"},81:{name:"/m/0130jx",id:81,displayName:"sink"},82:{name:"/m/040b_t",id:82,displayName:"refrigerator"},84:{name:"/m/0bt_c3",id:84,displayName:"book"},85:{name:"/m/01x3z",id:85,displayName:"clock"},86:{name:"/m/02s195",id:86,displayName:"vase"},87:{name:"/m/01lsmm",id:87,displayName:"scissors"},88:{name:"/m/0kmg4",id:88,displayName:"teddy bear"},89:{name:"/m/03wvsk",id:89,displayName:"hair drier"},90:{name:"/m/012xff",id:90,displayName:"toothbrush"}};class o{constructor(l,c){this.modelPath=c||`https://storage.googleapis.com/tfjs-models/savedmodel/${this.getPrefix(l)}/model.json`}getPrefix(l){return l==="lite_mobilenet_v2"?`ssd${l}`:`ssd_${l}`}async load(){this.model=await r.loadGraphModel(this.modelPath);const l=s.zeros([1,300,300,3],"int32"),c=await this.model.executeAsync(l);await Promise.all(c.map(u=>u.data())),c.map(u=>u.dispose()),l.dispose()}async infer(l,c,u){const A=s.tidy(()=>(l instanceof s.Tensor||(l=s.browser.fromPixels(l)),s.expandDims(l))),d=A.shape[1],h=A.shape[2],p=await this.model.executeAsync(A),m=p[0].dataSync(),y=p[1].dataSync();A.dispose(),s.dispose(p);const[g,v]=this.calculateMaxScores(m,p[0].shape[1],p[0].shape[2]),b=s.getBackend();s.getBackend()==="webgl"&&s.setBackend("cpu");const C=s.tidy(()=>{const I=s.tensor2d(y,[p[1].shape[1],p[1].shape[3]]);return s.image.nonMaxSuppression(I,g,c,u,u)}),_=C.dataSync();return C.dispose(),b!==s.getBackend()&&s.setBackend(b),this.buildDetectedObjects(h,d,y,g,_,v)}buildDetectedObjects(l,c,u,A,d,h){const p=d.length,m=[];for(let y=0;y<p;y++){const g=[];for(let I=0;I<4;I++)g[I]=u[4*d[y]+I];const v=g[0]*c,b=g[1]*l,C=g[2]*c,_=g[3]*l;g[0]=b,g[1]=v,g[2]=_-b,g[3]=C-v,m.push({bbox:g,class:i[h[d[y]]+1].displayName,score:A[d[y]]})}return m}calculateMaxScores(l,c,u){const A=[],d=[];for(let h=0;h<c;h++){let p=Number.MIN_VALUE,m=-1;for(let y=0;y<u;y++)l[h*u+y]>p&&(p=l[h*u+y],m=y);A[h]=p,d[h]=m}return[A,d]}async detect(l,c=20,u=.5){return this.infer(l,c,u)}dispose(){this.model!=null&&this.model.dispose()}}n.ObjectDetection=o,n.load=async function(a={}){if(s==null)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");const l=a.base||"lite_mobilenet_v2",c=a.modelUrl;if(["mobilenet_v1","mobilenet_v2","lite_mobilenet_v2"].indexOf(l)===-1)throw new Error(`ObjectDetection constructed with invalid base model ${l}. Valid names are 'mobilenet_v1', 'mobilenet_v2' and 'lite_mobilenet_v2'.`);const u=new o(l,c);return await u.load(),u},n.version="2.2.3",Object.defineProperty(n,"__esModule",{value:!0})})})(FL,FL.exports);var fnt=FL.exports;const pnt=()=>{eP();const t=sa(),e=O.useRef(null),[n,r]=O.useState(!1),[s,i]=O.useState(0),[o,a]=O.useState({teamA:{runs:0,wickets:0,overs:0},teamB:{runs:0,wickets:0,overs:0}}),[l,c]=O.useState("teamA"),[u,A]=O.useState([]),[d,h]=O.useState(""),[p,m]=O.useState(null),[y,g]=O.useState(!1),v=O.useRef([]),b=O.useRef(0),[C,_]=O.useState(!1),[I,F]=O.useState(!1),T=O.useRef(null),D=O.useRef(null);O.useEffect(()=>{let ce;return n&&(ce=setInterval(()=>{i(M=>M+1)},1e3)),()=>clearInterval(ce)},[n]),O.useEffect(()=>{(async()=>{if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)try{const G=(await navigator.mediaDevices.enumerateDevices()).filter(X=>X.kind==="videoinput");A(G),G.length>0&&!d&&h(G[0].deviceId)}catch(M){console.error("Error getting devices:",M)}})()},[d]),O.useEffect(()=>{(async()=>{try{await tee();const M=await fnt.load();m(M),Ln.success("AI Detection Ready",{description:"Ball tracking enabled"})}catch(M){console.error("Error loading model:",M),Ln.error("AI model failed to load")}})()},[]),O.useEffect(()=>{let ce;const M=async()=>{if(p&&e.current&&e.current.video&&n&&y){const G=e.current.video;if(G.readyState===4)try{const re=(await p.detect(G)).find(ue=>ue.class==="sports ball"&&ue.score>.6);if(re){const[ue,de,we,Ce]=re.bbox,Ne=ue+we/2,Ee=de+Ce/2,ze=G.videoHeight*.7,tt=Ee>ze;v.current.push({x:Ne,y:Ee,touchedGround:tt}),v.current.length>30&&v.current.shift(),H(v.current,G.videoWidth,G.videoHeight)}}catch(X){console.error("Detection error:",X)}}ce=requestAnimationFrame(M)};return y&&n?M():v.current=[],()=>cancelAnimationFrame(ce)},[y,n,p,l]);const H=(ce,M,G)=>{if(ce.length<5)return;const X=Date.now();if(X-b.current<3e3)return;const re=ce[ce.length-1],ue=M*.1,de=M*.9,we=G*.2;(re.x<ue||re.x>de||re.y<we)&&(ce.some(Ee=>Ee.touchedGround)?(Y(l,"runs",4),Ln.success("FOUR!",{description:"Ball crossed boundary after touching ground"})):(Y(l,"runs",6),Ln.success("SIX!",{description:"Ball crossed boundary in the air"})),b.current=X,v.current=[])},R=ce=>{const M=Math.floor(ce/60),G=ce%60;return`${M.toString().padStart(2,"0")}:${G.toString().padStart(2,"0")}`},U=()=>{r(!n),n?Ln.info("Match paused"):Ln.success("Match started!")},W=()=>{g(!y),y?Ln.info("AI Detection Deactivated"):Ln.success("AI Detection Activated",{description:"Automatic boundary detection enabled"})},$=()=>{r(!1),g(!1),Ln.success("Match ended!"),t("/dashboard")},Y=(ce,M,G)=>{a(X=>({...X,[ce]:{...X[ce],[M]:Math.max(0,X[ce][M]+G)}}))},J=()=>{c(ce=>ce==="teamA"?"teamB":"teamA"),Ln.info(`${l==="teamA"?"Team B":"Team A"} is now batting`)},oe=()=>{if(u.length<2){Ln.error("No other camera available");return}const M=(u.findIndex(G=>G.deviceId===d)+1)%u.length;h(u[M].deviceId),Ln.success("Camera switched",{description:u[M].label||`Camera ${M+1}`})},V=async()=>{if(document.fullscreenElement)try{await document.exitFullscreen(),_(!1),Ln.info("Exited fullscreen")}catch(ce){console.error("Error exiting fullscreen:",ce)}else try{T.current&&(await T.current.requestFullscreen(),_(!0),Ln.success("Fullscreen mode activated"))}catch(ce){console.error("Error entering fullscreen:",ce),Ln.error("Fullscreen not supported")}};O.useEffect(()=>{const ce=()=>{_(!!document.fullscreenElement),document.fullscreenElement===D.current?F(!0):F(!1)};return document.addEventListener("fullscreenchange",ce),()=>document.removeEventListener("fullscreenchange",ce)},[]);const Z=async()=>{if(document.fullscreenElement)try{await document.exitFullscreen(),F(!1),Ln.info("Exited camera fullscreen")}catch(ce){console.error("Error exiting fullscreen:",ce)}else try{D.current&&(await D.current.requestFullscreen(),F(!0),Ln.success("Camera fullscreen activated"))}catch(ce){console.error("Error entering camera fullscreen:",ce),Ln.error("Fullscreen not supported")}},le=o[l];return x.jsxs("div",{ref:T,className:"min-h-screen bg-background",children:[x.jsx(Om,{}),x.jsx("main",{className:"pt-20 pb-12",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[x.jsxs(Pt,{variant:"ghost",onClick:()=>t("/dashboard"),children:[x.jsx(Bue,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(d0,{className:`w-5 h-5 ${y?"text-green-500 animate-pulse":"text-muted-foreground"}`}),x.jsx("span",{className:"text-sm font-medium",children:y?"AI Active":"AI Inactive"})]}),x.jsxs("div",{className:"text-lg font-semibold",children:["Match Time: ",R(s)]}),x.jsx(Pt,{variant:"outline",size:"sm",onClick:V,title:C?"Exit Fullscreen":"Enter Fullscreen",children:C?x.jsx(AT,{className:"w-4 h-4"}):x.jsx(PM,{className:"w-4 h-4"})})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsx("div",{className:"lg:col-span-2",children:x.jsxs(Ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card border rounded-2xl p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h2",{className:"text-2xl font-bold",children:"Live Camera Feed"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Vue,{className:"w-5 h-5 text-primary"}),x.jsx("span",{className:"text-sm text-muted-foreground",children:n?"Recording":"Ready"}),x.jsx(Pt,{variant:"ghost",size:"sm",onClick:Z,title:I?"Exit Camera Fullscreen":"Maximize Camera",className:"ml-2",children:I?x.jsx(AT,{className:"w-4 h-4"}):x.jsx(PM,{className:"w-4 h-4"})})]})]}),x.jsxs("div",{ref:D,className:"relative bg-black rounded-lg overflow-hidden aspect-video",children:[x.jsx(Qke,{ref:e,audio:!1,videoConstraints:{deviceId:d,width:1280,height:720},className:"w-full h-full object-cover"}),I&&x.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 bg-gradient-to-b from-black/80 to-transparent p-4",children:x.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-2 md:gap-4 h-full",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-6 w-full md:w-auto",children:[x.jsxs("div",{className:"bg-primary/90 backdrop-blur-sm px-2 py-1 md:px-4 md:py-2 rounded-lg flex-shrink-0 shadow-lg",children:[x.jsx("div",{className:"text-white text-[10px] md:text-sm font-medium mb-0.5 md:mb-1 opacity-90",children:l==="teamA"?"Team A":"Team B"}),x.jsxs("div",{className:"text-white text-xl md:text-3xl font-bold leading-none",children:[le.runs,"/",le.wickets]}),x.jsxs("div",{className:"text-white/80 text-[10px] md:text-sm leading-none mt-0.5",children:[le.overs.toFixed(1)," ov"]})]}),x.jsxs("div",{className:"bg-black/60 backdrop-blur-sm px-2 py-1 md:px-4 md:py-2 rounded-lg flex-shrink-0 shadow-lg border border-white/10",children:[x.jsx("div",{className:"text-white/70 text-[10px] md:text-xs mb-0.5 md:mb-1",children:"Time"}),x.jsx("div",{className:"text-white text-sm md:text-xl font-bold leading-none",children:R(s)})]}),y&&x.jsxs("div",{className:"flex bg-green-500/90 backdrop-blur-sm px-2 py-1 md:px-3 md:py-2 rounded-lg items-center gap-1 md:gap-2 shadow-lg",children:[x.jsx(d0,{className:"w-3 h-3 md:w-4 md:h-4 text-white animate-pulse"}),x.jsx("span",{className:"text-white text-[10px] md:text-sm font-medium",children:"AI On"})]})]}),x.jsxs("div",{className:"flex items-center gap-2 absolute top-4 right-4 md:static",children:[x.jsx(Pt,{size:"sm",onClick:U,variant:n?"secondary":"default",className:"bg-white/90 hover:bg-white text-black h-7 md:h-9 text-[10px] md:text-sm px-2 md:px-4 shadow-xl",children:n?x.jsxs(x.Fragment,{children:[x.jsx(RM,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Pause"]}):x.jsxs(x.Fragment,{children:[x.jsx(lv,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Resume"]})}),x.jsx(Pt,{size:"sm",onClick:Z,variant:"secondary",className:"bg-white/90 hover:bg-white text-black h-7 w-7 md:h-9 md:w-auto md:px-3 shadow-xl p-0 md:p-2",children:x.jsx(AT,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]})}),y&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"absolute top-0 left-0 right-0 h-[20%] border-2 border-red-500/30 pointer-events-none",children:x.jsx("span",{className:"absolute top-2 left-2 text-red-500 text-xs bg-black/50 px-2 py-1 rounded",children:"Boundary Zone (6)"})}),x.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[30%] border-2 border-yellow-500/30 pointer-events-none",children:x.jsx("span",{className:"absolute bottom-2 left-2 text-yellow-500 text-xs bg-black/50 px-2 py-1 rounded",children:"Ground Zone (4)"})}),x.jsx("div",{className:"absolute top-0 left-0 bottom-0 w-[10%] border-2 border-red-500/30 pointer-events-none"}),x.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[10%] border-2 border-red-500/30 pointer-events-none"})]}),x.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[x.jsx(Pt,{size:"sm",onClick:oe,disabled:u.length<2,variant:"secondary",title:"Flip Camera",children:x.jsx(Que,{className:"w-4 h-4"})}),u.length>1&&x.jsxs(V4,{value:d,onValueChange:h,children:[x.jsx(o_,{className:"w-[200px]",children:x.jsx(W4,{placeholder:"Select Camera"})}),x.jsx(a_,{children:u.map(ce=>x.jsx(l_,{value:ce.deviceId,children:ce.label||`Camera ${u.indexOf(ce)+1}`},ce.deviceId))})]})]}),!n&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",children:x.jsxs("div",{className:"text-center",children:[x.jsx(lv,{className:"w-16 h-16 text-white mx-auto mb-4"}),x.jsx("p",{className:"text-white text-lg",children:"Press Start to begin match"})]})})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[x.jsx(Pt,{onClick:U,className:"flex-1",children:n?x.jsxs(x.Fragment,{children:[x.jsx(RM,{className:"w-5 h-5 mr-2"}),"Pause Match"]}):x.jsxs(x.Fragment,{children:[x.jsx(lv,{className:"w-5 h-5 mr-2"}),"Start Match"]})}),x.jsxs(Pt,{onClick:W,disabled:!p,variant:y?"default":"secondary",className:"flex-1",children:[x.jsx(d0,{className:"w-5 h-5 mr-2"}),y?"AI On":"AI Off"]}),x.jsxs(Pt,{onClick:$,variant:"outline",children:[x.jsx(pA,{className:"w-5 h-5 mr-2"}),"End Match"]})]})]})}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs(Ft.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-primary text-primary-foreground rounded-2xl p-6",children:[x.jsx("h3",{className:"text-xl font-bold mb-4",children:"Live Score"}),x.jsxs("div",{className:"text-center mb-4",children:[x.jsxs("div",{className:"text-4xl md:text-5xl font-bold",children:[le.runs,"/",le.wickets]}),x.jsxs("div",{className:"opacity-80 mt-2",children:[le.overs.toFixed(1)," overs"]}),x.jsxs("div",{className:"text-sm opacity-60 mt-1",children:[l==="teamA"?"Team A":"Team B"," Batting"]})]}),y&&x.jsx("div",{className:"bg-white/10 rounded-lg p-2 text-center",children:x.jsx("p",{className:"text-xs",children:" AI Auto-Scoring Active"})})]}),x.jsxs(Ft.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-card border rounded-2xl p-6",children:[x.jsx("h3",{className:"text-lg font-bold mb-4",children:"Manual Controls"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex bg-card/50 p-2 rounded-lg items-center justify-between flex-wrap gap-2",children:[x.jsx("span",{className:"font-medium text-sm",children:"Runs"}),x.jsxs("div",{className:"flex gap-2 flex-wrap justify-end",children:[x.jsx(Pt,{size:"sm",variant:"outline",className:"h-8 w-8 p-0",onClick:()=>Y(l,"runs",-1),children:x.jsx(dT,{className:"w-4 h-4"})}),x.jsx(Pt,{size:"sm",className:"h-8 min-w-[3rem]",onClick:()=>Y(l,"runs",1),children:"+1"}),x.jsx(Pt,{size:"sm",className:"h-8 min-w-[3rem]",onClick:()=>Y(l,"runs",4),children:"+4"}),x.jsx(Pt,{size:"sm",className:"h-8 min-w-[3rem]",onClick:()=>Y(l,"runs",6),children:"+6"})]})]}),x.jsxs("div",{className:"flex bg-card/50 p-2 rounded-lg items-center justify-between flex-wrap gap-2",children:[x.jsx("span",{className:"font-medium text-sm",children:"Wickets"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Pt,{size:"sm",variant:"outline",className:"h-8 w-8 p-0",onClick:()=>Y(l,"wickets",-1),children:x.jsx(dT,{className:"w-4 h-4"})}),x.jsx(Pt,{size:"sm",className:"h-8 w-8 p-0",onClick:()=>Y(l,"wickets",1),children:x.jsx(jB,{className:"w-4 h-4"})})]})]}),x.jsxs("div",{className:"flex bg-card/50 p-2 rounded-lg items-center justify-between flex-wrap gap-2",children:[x.jsx("span",{className:"font-medium text-sm",children:"Overs"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Pt,{size:"sm",variant:"outline",className:"h-8 w-8 p-0",onClick:()=>Y(l,"overs",-.1),children:x.jsx(dT,{className:"w-4 h-4"})}),x.jsx(Pt,{size:"sm",className:"h-8 w-8 p-0",onClick:()=>Y(l,"overs",.1),children:x.jsx(jB,{className:"w-4 h-4"})})]})]}),x.jsx(Pt,{onClick:J,className:"w-full mt-4",children:"Switch Innings"})]})]}),x.jsxs(Ft.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-card border rounded-2xl p-6",children:[x.jsx("h3",{className:"text-lg font-bold mb-4",children:"Teams"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:`p-3 rounded-lg ${l==="teamA"?"bg-primary/10 border border-primary":"bg-secondary"}`,children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-semibold",children:"Team A"}),x.jsxs("span",{className:"text-xl font-bold",children:[o.teamA.runs,"/",o.teamA.wickets]})]}),x.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[o.teamA.overs.toFixed(1)," overs"]})]}),x.jsxs("div",{className:`p-3 rounded-lg ${l==="teamB"?"bg-primary/10 border border-primary":"bg-secondary"}`,children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-semibold",children:"Team B"}),x.jsxs("span",{className:"text-xl font-bold",children:[o.teamB.runs,"/",o.teamB.wickets]})]}),x.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[o.teamB.overs.toFixed(1)," overs"]})]})]})]})]})]})]})})]})},mnt="PlayPalCricketDB",gnt=1;class ynt{constructor(){Un(this,"db",null);Un(this,"initPromise",null)}async init(){return this.initPromise?this.initPromise:(this.initPromise=new Promise((e,n)=>{const r=indexedDB.open(mnt,gnt);r.onerror=()=>{console.error("IndexedDB failed to open:",r.error),n(r.error)},r.onsuccess=()=>{this.db=r.result,console.log("IndexedDB initialized successfully"),e()},r.onupgradeneeded=s=>{const i=s.target.result;if(!i.objectStoreNames.contains("players")){const o=i.createObjectStore("players",{keyPath:"id"});o.createIndex("teamId","teamId",{unique:!1}),o.createIndex("name","name",{unique:!1}),o.createIndex("role","role",{unique:!1})}if(i.objectStoreNames.contains("teams")||i.createObjectStore("teams",{keyPath:"id"}).createIndex("name","name",{unique:!1}),!i.objectStoreNames.contains("matches")){const o=i.createObjectStore("matches",{keyPath:"id"});o.createIndex("status","status",{unique:!1}),o.createIndex("teamAId","teamAId",{unique:!1}),o.createIndex("teamBId","teamBId",{unique:!1}),o.createIndex("createdAt","createdAt",{unique:!1})}if(!i.objectStoreNames.contains("ballEvents")){const o=i.createObjectStore("ballEvents",{keyPath:"id"});o.createIndex("matchId","matchId",{unique:!1}),o.createIndex("batsmanId","batsmanId",{unique:!1}),o.createIndex("bowlerId","bowlerId",{unique:!1}),o.createIndex("timestamp","timestamp",{unique:!1})}console.log("IndexedDB schema created/upgraded")}}),this.initPromise)}async ensureDB(){if(this.db||await this.init(),!this.db)throw new Error("Database not initialized");return this.db}async add(e,n){const r=await this.ensureDB();return new Promise((s,i)=>{const l=r.transaction(e,"readwrite").objectStore(e).add(n);l.onsuccess=()=>s(n),l.onerror=()=>i(l.error)})}async get(e,n){const r=await this.ensureDB();return new Promise((s,i)=>{const l=r.transaction(e,"readonly").objectStore(e).get(n);l.onsuccess=()=>s(l.result||null),l.onerror=()=>i(l.error)})}async update(e,n){const r=await this.ensureDB();return new Promise((s,i)=>{const l=r.transaction(e,"readwrite").objectStore(e).put(n);l.onsuccess=()=>s(n),l.onerror=()=>i(l.error)})}async delete(e,n){const r=await this.ensureDB();return new Promise((s,i)=>{const l=r.transaction(e,"readwrite").objectStore(e).delete(n);l.onsuccess=()=>s(),l.onerror=()=>i(l.error)})}async getAll(e){const n=await this.ensureDB();return new Promise((r,s)=>{const a=n.transaction(e,"readonly").objectStore(e).getAll();a.onsuccess=()=>r(a.result),a.onerror=()=>s(a.error)})}async queryByIndex(e,n,r){const s=await this.ensureDB();return new Promise((i,o)=>{const u=s.transaction(e,"readonly").objectStore(e).index(n).getAll(r);u.onsuccess=()=>i(u.result),u.onerror=()=>o(u.error)})}async bulkAdd(e,n){const r=await this.ensureDB();return new Promise((s,i)=>{const a=r.transaction(e,"readwrite").objectStore(e);let l=0;const c=n.length;n.forEach(u=>{const A=a.add(u);A.onsuccess=()=>{l++,l===c&&s()},A.onerror=()=>i(A.error)}),c===0&&s()})}async count(e){const n=await this.ensureDB();return new Promise((r,s)=>{const a=n.transaction(e,"readonly").objectStore(e).count();a.onsuccess=()=>r(a.result),a.onerror=()=>s(a.error)})}async clear(e){const n=await this.ensureDB();return new Promise((r,s)=>{const a=n.transaction(e,"readwrite").objectStore(e).clear();a.onsuccess=()=>r(),a.onerror=()=>s(a.error)})}}const En=new ynt,ji=[];for(let t=0;t<256;++t)ji.push((t+256).toString(16).slice(1));function wnt(t,e=0){return(ji[t[e+0]]+ji[t[e+1]]+ji[t[e+2]]+ji[t[e+3]]+"-"+ji[t[e+4]]+ji[t[e+5]]+"-"+ji[t[e+6]]+ji[t[e+7]]+"-"+ji[t[e+8]]+ji[t[e+9]]+"-"+ji[t[e+10]]+ji[t[e+11]]+ji[t[e+12]]+ji[t[e+13]]+ji[t[e+14]]+ji[t[e+15]]).toLowerCase()}let sF;const vnt=new Uint8Array(16);function xnt(){if(!sF){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");sF=crypto.getRandomValues.bind(crypto)}return sF(vnt)}const bnt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),lV={randomUUID:bnt};function Cnt(t,e,n){var s;t=t||{};const r=t.random??((s=t.rng)==null?void 0:s.call(t))??xnt();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,wnt(r)}function xk(t,e,n){return lV.randomUUID&&!e&&!t?lV.randomUUID():Cnt(t)}const Snt=()=>({matchesPlayed:0,innings:0,runs:0,balls:0,fours:0,sixes:0,highestScore:0,notOuts:0,strikeRate:0,average:0}),Bnt=()=>({matchesPlayed:0,innings:0,overs:0,balls:0,runs:0,wickets:0,maidens:0,economy:0,average:0,bestFigures:"0/0"});class rl{static async createPlayer(e){const n={id:xk(),name:e.name,role:e.role,teamId:e.teamId||null,battingStats:Snt(),bowlingStats:Bnt(),createdAt:Date.now(),updatedAt:Date.now()};return await En.add("players",n),n}static async getPlayer(e){return await En.get("players",e)}static async updatePlayer(e,n){const r=await this.getPlayer(e);if(!r)throw new Error(`Player with ID ${e} not found`);const s={...r,...n,id:r.id,updatedAt:Date.now()};return await En.update("players",s),s}static async deletePlayer(e){await En.delete("players",e)}static async getAllPlayers(){return await En.getAll("players")}static async getPlayersByTeam(e){return await En.queryByIndex("players","teamId",e)}static async getPlayerHistory(e){const n=await En.queryByIndex("ballEvents","batsmanId",e),r=await En.queryByIndex("ballEvents","bowlerId",e);return[...n,...r].sort((i,o)=>i.timestamp-o.timestamp)}static async searchPlayersByName(e){const n=await this.getAllPlayers(),r=e.toLowerCase();return n.filter(s=>s.name.toLowerCase().includes(r))}}class Gu{static async createTeam(e){const n={id:xk(),name:e.name,playerIds:e.playerIds||[],matchHistory:[],createdAt:Date.now(),updatedAt:Date.now()};if(await En.add("teams",n),e.playerIds&&e.playerIds.length>0)for(const r of e.playerIds)await rl.updatePlayer(r,{teamId:n.id});return n}static async getTeam(e){return await En.get("teams",e)}static async updateTeam(e,n){const r=await this.getTeam(e);if(!r)throw new Error(`Team with ID ${e} not found`);const s={...r,...n,id:r.id,updatedAt:Date.now()};return await En.update("teams",s),s}static async deleteTeam(e){const n=await rl.getPlayersByTeam(e);for(const r of n)await rl.updatePlayer(r.id,{teamId:null});await En.delete("teams",e)}static async getAllTeams(){return await En.getAll("teams")}static async addPlayerToTeam(e,n){const r=await this.getTeam(e);if(!r)throw new Error(`Team with ID ${e} not found`);r.playerIds.includes(n)||(r.playerIds.push(n),await this.updateTeam(e,{playerIds:r.playerIds}),await rl.updatePlayer(n,{teamId:e}))}static async removePlayerFromTeam(e,n){const r=await this.getTeam(e);if(!r)throw new Error(`Team with ID ${e} not found`);const s=r.playerIds.filter(i=>i!==n);await this.updateTeam(e,{playerIds:s}),await rl.updatePlayer(n,{teamId:null})}static async getTeamPlayers(e){return await rl.getPlayersByTeam(e)}static async addMatchToHistory(e,n){const r=await this.getTeam(e);if(!r)throw new Error(`Team with ID ${e} not found`);r.matchHistory.includes(n)||(r.matchHistory.push(n),await this.updateTeam(e,{matchHistory:r.matchHistory}))}}const LL={CURRENT_MATCH_ID:"cricket_current_match_id",PREFERENCES:"cricket_preferences"},cV=t=>{try{t===null?localStorage.removeItem(LL.CURRENT_MATCH_ID):localStorage.setItem(LL.CURRENT_MATCH_ID,t)}catch(e){console.error("Failed to save current match ID:",e)}},_nt=()=>{try{return localStorage.getItem(LL.CURRENT_MATCH_ID)}catch(t){return console.error("Failed to load current match ID:",t),null}};class Ku{static async createMatch(e){const n={id:xk(),teamAId:e.teamAId,teamBId:e.teamBId,venue:e.venue,status:"NOT_STARTED",currentInnings:1,battingTeamId:e.teamAId,bowlingTeamId:e.teamBId,currentBatsmanId:null,currentBowlerId:null,totalOvers:e.totalOvers||20,currentOver:0,currentBall:0,teamAScore:0,teamBScore:0,teamAWickets:0,teamBWickets:0,startTime:null,endTime:null,createdAt:Date.now(),updatedAt:Date.now()};return await En.add("matches",n),await Gu.addMatchToHistory(e.teamAId,n.id),await Gu.addMatchToHistory(e.teamBId,n.id),cV(n.id),n}static async getMatch(e){return await En.get("matches",e)}static async updateMatch(e,n){const r=await this.getMatch(e);if(!r)throw new Error(`Match with ID ${e} not found`);const s={...r,...n,id:r.id,updatedAt:Date.now()};return await En.update("matches",s),s}static async updateMatchStatus(e,n){var s;const r={status:n};n==="IN_PROGRESS"&&!((s=await this.getMatch(e))!=null&&s.startTime)&&(r.startTime=Date.now()),(n==="COMPLETED"||n==="ABANDONED")&&(r.endTime=Date.now(),cV(null)),await this.updateMatch(e,r)}static async getCurrentMatch(){const e=_nt();return e?await this.getMatch(e):null}static async startMatch(e){await this.updateMatchStatus(e,"IN_PROGRESS")}static async finishMatch(e){await this.updateMatchStatus(e,"COMPLETED")}static async getAllMatches(){return await En.getAll("matches")}static async getMatchesByStatus(e){return await En.queryByIndex("matches","status",e)}static async getTeamMatches(e){const n=await En.queryByIndex("matches","teamAId",e),r=await En.queryByIndex("matches","teamBId",e);return[...n,...r].sort((i,o)=>o.createdAt-i.createdAt)}static async updateScore(e,n,r=!1){const s=await this.getMatch(e);if(!s)throw new Error(`Match with ID ${e} not found`);const i={};s.battingTeamId===s.teamAId?(i.teamAScore=s.teamAScore+n,r&&(i.teamAWickets=s.teamAWickets+1)):(i.teamBScore=s.teamBScore+n,r&&(i.teamBWickets=s.teamBWickets+1)),await this.updateMatch(e,i)}static async advanceBall(e){const n=await this.getMatch(e);if(!n)throw new Error(`Match with ID ${e} not found`);let{currentOver:r,currentBall:s}=n;s++,s>=6&&(s=0,r++),await this.updateMatch(e,{currentOver:r,currentBall:s})}}class Zc{static async logBallEvent(e){const n=await Ku.getMatch(e.matchId);if(!n)throw new Error(`Match with ID ${e.matchId} not found`);const r={id:xk(),matchId:e.matchId,innings:n.currentInnings,over:n.currentOver,ball:n.currentBall,batsmanId:e.batsmanId,bowlerId:e.bowlerId,runs:e.runs,extras:e.extras||0,outcome:e.outcome||"RUNS",isWicket:e.isWicket||!1,wicketType:e.wicketType,dismissedPlayerId:e.dismissedPlayerId,fielderIds:e.fielderIds,source:e.source||"MANUAL_INPUT",timestamp:Date.now(),metadata:e.metadata};await En.add("ballEvents",r);const s=r.runs+r.extras;return await Ku.updateScore(e.matchId,s,r.isWicket),r.outcome!=="NO_BALL"&&r.outcome!=="WIDE"&&await Ku.advanceBall(e.matchId),r}static async getBallEvent(e){return await En.get("ballEvents",e)}static async updateBallEvent(e,n){const r=await this.getBallEvent(e);if(!r)throw new Error(`Ball event with ID ${e} not found`);const s={...r,...n,id:r.id,timestamp:r.timestamp};return await En.update("ballEvents",s),(n.runs!==void 0||n.extras!==void 0||n.isWicket!==void 0)&&console.warn("Manual event update may require score recalculation"),s}static async deleteBallEvent(e){await En.delete("ballEvents",e),console.warn("Event deletion requires score recalculation")}static async getMatchEvents(e){return(await En.queryByIndex("ballEvents","matchId",e)).sort((r,s)=>r.timestamp-s.timestamp)}static async getBatsmanEvents(e){return await En.queryByIndex("ballEvents","batsmanId",e)}static async getBowlerEvents(e){return await En.queryByIndex("ballEvents","bowlerId",e)}static async getEventsBySource(e,n){return(await this.getMatchEvents(e)).filter(s=>s.source===n)}static async getWicketEvents(e){return(await this.getMatchEvents(e)).filter(r=>r.isWicket)}static async getBoundaryEvents(e){return(await this.getMatchEvents(e)).filter(r=>r.runs===4||r.runs===6)}static async getOverEvents(e,n){return(await this.getMatchEvents(e)).filter(s=>s.over===n)}}class Nw{static async calculateBattingStats(e,n){const r=n?(await Zc.getMatchEvents(n)).filter(a=>a.batsmanId===e):await Zc.getBatsmanEvents(e),s={matchesPlayed:0,innings:0,runs:0,balls:0,fours:0,sixes:0,highestScore:0,notOuts:0,strikeRate:0,average:0};if(r.length===0)return s;const i=new Map;r.forEach(a=>{i.has(a.matchId)||i.set(a.matchId,[]),i.get(a.matchId).push(a)}),s.matchesPlayed=i.size,s.innings=i.size,r.forEach(a=>{s.runs+=a.runs,s.balls++,a.runs===4&&s.fours++,a.runs===6&&s.sixes++}),i.forEach(a=>{const l=a.reduce((u,A)=>u+A.runs,0);l>s.highestScore&&(s.highestScore=l),a.some(u=>u.isWicket&&u.dismissedPlayerId===e)||s.notOuts++}),s.strikeRate=s.balls>0?s.runs/s.balls*100:0;const o=s.innings-s.notOuts;return s.average=o>0?s.runs/o:s.runs,s}static async calculateBowlingStats(e,n){const r=n?(await Zc.getMatchEvents(n)).filter(l=>l.bowlerId===e):await Zc.getBowlerEvents(e),s={matchesPlayed:0,innings:0,overs:0,balls:0,runs:0,wickets:0,maidens:0,economy:0,average:0,bestFigures:"0/0"};if(r.length===0)return s;const i=new Map;r.forEach(l=>{i.has(l.matchId)||i.set(l.matchId,[]),i.get(l.matchId).push(l)}),s.matchesPlayed=i.size,s.innings=i.size,r.forEach(l=>{s.balls++,s.runs+=l.runs+l.extras,l.isWicket&&s.wickets++}),s.overs=Math.floor(s.balls/6)+s.balls%6/10,i.forEach(l=>{const c=new Map;l.forEach(u=>{c.has(u.over)||c.set(u.over,[]),c.get(u.over).push(u)}),c.forEach(u=>{u.length===6&&u.reduce((d,h)=>d+h.runs+h.extras,0)===0&&s.maidens++})}),s.economy=s.overs>0?s.runs/s.overs:0,s.average=s.wickets>0?s.runs/s.wickets:0;let o=0,a=999;return i.forEach(l=>{const c=l.filter(A=>A.isWicket).length,u=l.reduce((A,d)=>A+d.runs+d.extras,0);(c>o||c===o&&u<a)&&(o=c,a=u)}),s.bestFigures=`${o}/${a}`,s}static async updatePlayerStats(e){const n=await this.calculateBattingStats(e),r=await this.calculateBowlingStats(e);await rl.updatePlayer(e,{battingStats:n,bowlingStats:r})}static async getMatchStats(e,n){var c;const r=await this.calculateBattingStats(n,e),s=await this.calculateBowlingStats(n,e),i=await Zc.getMatchEvents(e),o=i.filter(u=>u.batsmanId===n),a=o.some(u=>u.isWicket&&u.dismissedPlayerId===n),l=a?(c=o.find(u=>u.isWicket&&u.dismissedPlayerId===n))==null?void 0:c.wicketType:void 0;return{matchId:e,playerId:n,batting:o.length>0?{runs:r.runs,balls:r.balls,fours:r.fours,sixes:r.sixes,strikeRate:r.strikeRate,isOut:a,dismissal:l}:void 0,bowling:i.filter(u=>u.bowlerId===n).length>0?{overs:s.overs,runs:s.runs,wickets:s.wickets,economy:s.economy}:void 0}}static async getMatchSummary(e){const n=await Ku.getMatch(e);if(!n)throw new Error(`Match with ID ${e} not found`);const r=await Gu.getTeamPlayers(n.teamAId),s=await Gu.getTeamPlayers(n.teamBId),i=await Zc.getMatchEvents(e),o=i.length,a=i.reduce((A,d)=>A+d.runs+d.extras,0),l=i.filter(A=>A.isWicket).length;let c=null,u;return n.status==="COMPLETED"&&(n.teamAScore>n.teamBScore?(c="TEAM_A",u=`by ${n.teamAScore-n.teamBScore} runs`):n.teamBScore>n.teamAScore?(c="TEAM_B",u=`by ${10-n.teamBWickets} wickets`):c="DRAW"),{match:n,teamAPlayers:r,teamBPlayers:s,totalBalls:o,totalRuns:a,totalWickets:l,winner:c,winMargin:u}}}class iF{static async initialize(){await En.init(),console.log("Cricket Data Layer initialized")}static async createMatch(e){return await Ku.createMatch(e)}static async getCurrentMatch(){return await Ku.getCurrentMatch()}static async getMatch(e){return await Ku.getMatch(e)}static async startMatch(e){return await Ku.startMatch(e)}static async finishMatch(e){return await Ku.finishMatch(e)}static async getAllMatches(){return await Ku.getAllMatches()}static async getMatchSummary(e){return await Nw.getMatchSummary(e)}static async logBallEvent(e){return await Zc.logBallEvent(e)}static async updateBallEvent(e,n){return await Zc.updateBallEvent(e,n)}static async getMatchEvents(e){return await Zc.getMatchEvents(e)}static async getBoundaryEvents(e){return await Zc.getBoundaryEvents(e)}static async getWicketEvents(e){return await Zc.getWicketEvents(e)}static async createPlayer(e){return await rl.createPlayer(e)}static async getPlayer(e){return await rl.getPlayer(e)}static async updatePlayer(e,n){return await rl.updatePlayer(e,n)}static async getAllPlayers(){return await rl.getAllPlayers()}static async searchPlayers(e){return await rl.searchPlayersByName(e)}static async createTeam(e){return await Gu.createTeam(e)}static async getTeam(e){return await Gu.getTeam(e)}static async updateTeam(e,n){return await Gu.updateTeam(e,n)}static async getAllTeams(){return await Gu.getAllTeams()}static async addPlayerToTeam(e,n){return await Gu.addPlayerToTeam(e,n)}static async getTeamPlayers(e){return await Gu.getTeamPlayers(e)}static async calculateBattingStats(e,n){return await Nw.calculateBattingStats(e,n)}static async calculateBowlingStats(e,n){return await Nw.calculateBowlingStats(e,n)}static async updatePlayerStats(e){return await Nw.updatePlayerStats(e)}static async getMatchStats(e,n){return await Nw.getMatchStats(e,n)}static async getPlayerHistory(e){return await rl.getPlayerHistory(e)}static async clearAllData(){await En.clear("players"),await En.clear("teams"),await En.clear("matches"),await En.clear("ballEvents"),console.log("All cricket data cleared")}static async exportData(){const[e,n,r,s]=await Promise.all([En.getAll("players"),En.getAll("teams"),En.getAll("matches"),En.getAll("ballEvents")]);return{players:e,teams:n,matches:r,ballEvents:s}}static async getDBStats(){const[e,n,r,s]=await Promise.all([En.count("players"),En.count("teams"),En.count("matches"),En.count("ballEvents")]);return{playerCount:e,teamCount:n,matchCount:r,eventCount:s}}}class koe{constructor(e){Un(this,"matchId");Un(this,"liveScore",null);Un(this,"scoreListeners",new Set);Un(this,"updateListeners",new Set);Un(this,"autoSave");this.matchId=e.matchId,this.autoSave=e.autoSave??!0}async startMatch(e,n,r=20){const s=await iF.createMatch({teamAId:e,teamBId:n,totalOvers:r,venue:{name:"Live Match"}});this.matchId=s.id,await iF.startMatch(s.id),this.liveScore={matchId:s.id,teamAScore:0,teamBScore:0,teamAWickets:0,teamBWickets:0,currentOver:0,currentBall:0,totalOvers:r,battingTeam:"TEAM_A",currentBatsmanId:null,currentBowlerId:null,lastEvent:null,isLive:!0},this.autoSave&&this.saveToLocalStorage(),this.notifyScoreListeners()}async endMatch(){if(!this.liveScore)throw new Error("No active match");await iF.finishMatch(this.matchId),this.liveScore.isLive=!1;const e={type:"MATCH_END",timestamp:Date.now()};this.notifyUpdateListeners(e),this.notifyScoreListeners(),this.autoSave&&this.saveToLocalStorage()}async processEvent(e,n,r){if(!this.liveScore||!this.liveScore.isLive)throw new Error("No active match");e.type==="SCORING"?await this.processScoringEvent(e,n,r):e.type==="DISMISSAL"&&await this.processDismissalEvent(e,n,r),this.advanceBall(),this.autoSave&&this.saveToLocalStorage(),this.notifyScoreListeners()}async processScoringEvent(e,n,r){this.liveScore.battingTeam==="TEAM_A"?this.liveScore.teamAScore+=e.runs:this.liveScore.teamBScore+=e.runs,this.liveScore.lastEvent=`${e.runs} runs (${e.boundaryType})`;const s={type:"RUNS",runs:e.runs,timestamp:Date.now()};this.notifyUpdateListeners(s)}async processDismissalEvent(e,n,r){this.liveScore.battingTeam==="TEAM_A"?this.liveScore.teamAWickets++:this.liveScore.teamBWickets++,this.liveScore.lastEvent=`Wicket! ${e.dismissalType}`;const s={type:"WICKET",wickets:1,dismissalType:e.dismissalType,timestamp:Date.now()};this.notifyUpdateListeners(s)}advanceBall(){if(this.liveScore&&(this.liveScore.currentBall++,this.liveScore.currentBall>=6)){this.liveScore.currentBall=0,this.liveScore.currentOver++;const e={type:"OVER_COMPLETE",timestamp:Date.now()};this.notifyUpdateListeners(e),this.liveScore.currentOver>=this.liveScore.totalOvers&&this.switchInnings()}}switchInnings(){this.liveScore&&(this.liveScore.battingTeam==="TEAM_A"?(this.liveScore.battingTeam="TEAM_B",this.liveScore.currentOver=0,this.liveScore.currentBall=0,this.liveScore.lastEvent="Innings complete - Team B batting"):this.endMatch())}getLiveScore(){return this.liveScore?{...this.liveScore}:null}onScoreUpdate(e){return this.scoreListeners.add(e),()=>this.scoreListeners.delete(e)}onEventUpdate(e){return this.updateListeners.add(e),()=>this.updateListeners.delete(e)}notifyScoreListeners(){this.liveScore&&this.scoreListeners.forEach(e=>e(this.liveScore))}notifyUpdateListeners(e){this.updateListeners.forEach(n=>n(e))}saveToLocalStorage(){this.liveScore&&localStorage.setItem("liveScore",JSON.stringify(this.liveScore))}loadFromLocalStorage(){const e=localStorage.getItem("liveScore");return e?(this.liveScore=JSON.parse(e),this.liveScore):null}clearLocalStorage(){localStorage.removeItem("liveScore")}}new koe({matchId:"",teamAId:"",teamBId:""});const Nnt=()=>{const[t,e]=O.useState(null),[n,r]=O.useState(0),[s,i]=O.useState(0),[o,a]=O.useState({teamA:50,teamB:50}),[l,c]=O.useState("Analyzing...");O.useEffect(()=>{const p=new koe({matchId:"live-match",teamAId:"team-a",teamBId:"team-b"}),m=p.loadFromLocalStorage();m&&e(m);const y=p.onScoreUpdate(g=>{e(g),u(g)});return p.onEventUpdate(g=>{g.type==="RUNS"?(r(Math.floor(Math.random()*30)+120),i(Math.floor(Math.random()*50)+50),c(g.runs===6?"Maximum!":"Boundary!")):g.type==="WICKET"&&c(`Wicket! ${g.dismissalType}`)}),y},[]);const u=p=>{const m=p.teamAScore+p.teamBScore;if(m>0){const y=Math.round(p.teamAScore/m*100);a({teamA:y,teamB:100-y})}};if(!t)return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx(d0,{className:"w-16 h-16 text-[#8B0000] mx-auto mb-4 animate-pulse"}),x.jsx("p",{className:"text-2xl text-[#F5F5DC]",children:"Waiting for match to start..."})]})});const A=t.battingTeam==="TEAM_A"?"Team A":"Team B",d=t.battingTeam==="TEAM_A"?t.teamAScore:t.teamBScore,h=t.battingTeam==="TEAM_A"?t.teamAWickets:t.teamBWickets;return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-8",children:[x.jsx(Ft.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-[#8B0000] to-[#A52A2A] rounded-3xl p-8 mb-8 shadow-2xl",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsxs("h1",{className:"text-6xl font-bold text-[#F5F5DC] mb-2",children:[d,"/",h]}),x.jsxs("p",{className:"text-2xl text-[#F5F5DC]/80",children:[A,"  ",t.currentOver,".",t.currentBall," overs"]})]}),x.jsx(pA,{className:"w-24 h-24 text-[#F5F5DC]/30"})]})}),x.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[x.jsxs(Ft.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 border border-[#8B0000]/30",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx(pG,{className:"w-6 h-6 text-[#8B0000]"}),x.jsx("h2",{className:"text-xl font-semibold text-[#F5F5DC]",children:"Batsman"})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60",children:"Current Batsman"}),x.jsx("p",{className:"text-2xl font-bold text-[#F5F5DC]",children:"Player 1"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60",children:"Runs"}),x.jsx("p",{className:"text-xl font-bold text-[#8B0000]",children:d})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60",children:"Balls"}),x.jsx("p",{className:"text-xl font-bold text-[#8B0000]",children:t.currentOver*6+t.currentBall})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60",children:"Strike Rate"}),x.jsx("p",{className:"text-xl font-bold text-[#8B0000]",children:(d/(t.currentOver*6+t.currentBall||1)*100).toFixed(1)})]})]})]}),x.jsxs(Ft.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 border border-[#8B0000]/30",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx($D,{className:"w-6 h-6 text-[#8B0000]"}),x.jsx("h2",{className:"text-xl font-semibold text-[#F5F5DC]",children:"Bowler"})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60",children:"Current Bowler"}),x.jsx("p",{className:"text-2xl font-bold text-[#F5F5DC]",children:"Player 2"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60",children:"Overs"}),x.jsxs("p",{className:"text-xl font-bold text-[#8B0000]",children:[t.currentOver,".",t.currentBall]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60",children:"Wickets"}),x.jsx("p",{className:"text-xl font-bold text-[#8B0000]",children:h})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60",children:"Economy"}),x.jsx("p",{className:"text-xl font-bold text-[#8B0000]",children:(d/(t.currentOver||1)).toFixed(2)})]})]})]}),x.jsxs(Ft.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 border border-[#8B0000]/30",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx(d0,{className:"w-6 h-6 text-[#8B0000]"}),x.jsx("h2",{className:"text-xl font-semibold text-[#F5F5DC]",children:"Live Metrics"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60 mb-2",children:"Ball Speed"}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-3",children:x.jsx(Ft.div,{initial:{width:0},animate:{width:`${n/150*100}%`},className:"bg-gradient-to-r from-[#8B0000] to-[#FF4500] h-full rounded-full"})}),x.jsxs("span",{className:"text-xl font-bold text-[#8B0000] min-w-[80px]",children:[n," km/h"]})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60 mb-2",children:"Shot Power"}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-3",children:x.jsx(Ft.div,{initial:{width:0},animate:{width:`${s}%`},className:"bg-gradient-to-r from-[#8B0000] to-[#FFD700] h-full rounded-full"})}),x.jsxs("span",{className:"text-xl font-bold text-[#8B0000] min-w-[80px]",children:[s,"%"]})]})]})]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[x.jsxs(Ft.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-gray-800/80 to-gray-900/80 backdrop-blur-sm rounded-2xl p-6 border border-[#8B0000]/30",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx(jue,{className:"w-6 h-6 text-[#8B0000]"}),x.jsx("h2",{className:"text-xl font-semibold text-[#F5F5DC]",children:"AI Prediction"})]}),x.jsx(Ft.p,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-3xl font-bold text-[#8B0000]",children:l},l),t.lastEvent&&x.jsx("p",{className:"text-lg text-[#F5F5DC]/70 mt-2",children:t.lastEvent})]}),x.jsxs(Ft.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-gray-800/80 to-gray-900/80 backdrop-blur-sm rounded-2xl p-6 border border-[#8B0000]/30",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx(pA,{className:"w-6 h-6 text-[#8B0000]"}),x.jsx("h2",{className:"text-xl font-semibold text-[#F5F5DC]",children:"Win Probability"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between mb-2",children:[x.jsx("span",{className:"text-[#F5F5DC]",children:"Team A"}),x.jsxs("span",{className:"text-xl font-bold text-[#8B0000]",children:[o.teamA,"%"]})]}),x.jsx("div",{className:"bg-gray-700 rounded-full h-4",children:x.jsx(Ft.div,{initial:{width:0},animate:{width:`${o.teamA}%`},className:"bg-gradient-to-r from-[#8B0000] to-[#A52A2A] h-full rounded-full"})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between mb-2",children:[x.jsx("span",{className:"text-[#F5F5DC]",children:"Team B"}),x.jsxs("span",{className:"text-xl font-bold text-[#8B0000]",children:[o.teamB,"%"]})]}),x.jsx("div",{className:"bg-gray-700 rounded-full h-4",children:x.jsx(Ft.div,{initial:{width:0},animate:{width:`${o.teamB}%`},className:"bg-gradient-to-r from-[#8B0000] to-[#A52A2A] h-full rounded-full"})})]})]})]})]}),x.jsxs(Ft.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"fixed top-8 right-8 flex items-center gap-2 bg-red-600 px-4 py-2 rounded-full",children:[x.jsx(Ft.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:1.5},className:"w-3 h-3 bg-white rounded-full"}),x.jsx("span",{className:"text-white font-semibold",children:"LIVE"})]})]})},Int=new mfe,Ent=()=>x.jsx(yfe,{client:Int,children:x.jsx(Whe,{children:x.jsx(wpe,{children:x.jsx(Cpe,{children:x.jsxs(bpe,{children:[x.jsx(IAe,{}),x.jsx(ode,{}),x.jsx(Spe,{children:x.jsx(fpe,{children:x.jsxs(ape,{children:[x.jsx(Za,{path:"/",element:x.jsx(m1e,{})}),x.jsx(Za,{path:"/login",element:x.jsx(g1e,{})}),x.jsx(Za,{path:"/dashboard",element:x.jsx(y1e,{})}),x.jsx(Za,{path:"/venues",element:x.jsx(w1e,{})}),x.jsx(Za,{path:"/venue/:id",element:x.jsx(v1e,{})}),x.jsx(Za,{path:"/players",element:x.jsx(qve,{})}),x.jsx(Za,{path:"/match/:bookingId",element:x.jsx(pnt,{})}),x.jsx(Za,{path:"/broadcast",element:x.jsx(Nnt,{})}),x.jsx(Za,{path:"/tournaments",element:x.jsx(Yve,{})}),x.jsx(Za,{path:"/owner-dashboard",element:x.jsx(Zve,{})}),x.jsx(Za,{path:"/invoice/:id",element:x.jsx($ke,{})}),x.jsx(Za,{path:"*",element:x.jsx(Uke,{})})]})})})]})})})})});FW(document.getElementById("root")).render(x.jsx(Ent,{}));export{mr as _,SA as c,Lx as g};
