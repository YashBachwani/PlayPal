var Joe=Object.defineProperty;var yU=t=>{throw TypeError(t)};var eae=(t,e,n)=>e in t?Joe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Hn=(t,e,n)=>eae(t,typeof e!="symbol"?e+"":e,n),Pk=(t,e,n)=>e.has(t)||yU("Cannot "+n);var Ye=(t,e,n)=>(Pk(t,e,"read from private field"),n?n.call(t):e.get(t)),ir=(t,e,n)=>e.has(t)?yU("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),yn=(t,e,n,r)=>(Pk(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ho=(t,e,n)=>(Pk(t,e,"access private method"),n);var uC=(t,e,n,r)=>({set _(s){yn(t,e,s,n)},get _(){return Ye(t,e,r)}});function wV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var _A=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function DL(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var vV={exports:{}},sN={},xV={exports:{}},Qn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx=Symbol.for("react.element"),tae=Symbol.for("react.portal"),nae=Symbol.for("react.fragment"),rae=Symbol.for("react.strict_mode"),sae=Symbol.for("react.profiler"),iae=Symbol.for("react.provider"),oae=Symbol.for("react.context"),aae=Symbol.for("react.forward_ref"),lae=Symbol.for("react.suspense"),cae=Symbol.for("react.memo"),uae=Symbol.for("react.lazy"),wU=Symbol.iterator;function Aae(t){return t===null||typeof t!="object"?null:(t=wU&&t[wU]||t["@@iterator"],typeof t=="function"?t:null)}var bV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CV=Object.assign,SV={};function my(t,e,n){this.props=t,this.context=e,this.refs=SV,this.updater=n||bV}my.prototype.isReactComponent={};my.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};my.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BV(){}BV.prototype=my.prototype;function RL(t,e,n){this.props=t,this.context=e,this.refs=SV,this.updater=n||bV}var PL=RL.prototype=new BV;PL.constructor=RL;CV(PL,my.prototype);PL.isPureReactComponent=!0;var vU=Array.isArray,_V=Object.prototype.hasOwnProperty,OL={current:null},NV={key:!0,ref:!0,__self:!0,__source:!0};function IV(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)_V.call(e,r)&&!NV.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Rx,type:t,key:i,ref:o,props:s,_owner:OL.current}}function dae(t,e){return{$$typeof:Rx,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $L(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rx}function hae(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xU=/\/+/g;function Ok(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hae(""+t.key):e.toString(36)}function RS(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Rx:case tae:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ok(o,0):r,vU(s)?(n="",t!=null&&(n=t.replace(xU,"$&/")+"/"),RS(s,e,n,"",function(c){return c})):s!=null&&($L(s)&&(s=dae(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xU,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",vU(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ok(i,a);o+=RS(i,e,n,l,s)}else if(l=Aae(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ok(i,a++),o+=RS(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function AC(t,e,n){if(t==null)return t;var r=[],s=0;return RS(t,r,"","",function(i){return e.call(n,i,s++)}),r}function fae(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var oa={current:null},PS={transition:null},pae={ReactCurrentDispatcher:oa,ReactCurrentBatchConfig:PS,ReactCurrentOwner:OL};function EV(){throw Error("act(...) is not supported in production builds of React.")}Qn.Children={map:AC,forEach:function(t,e,n){AC(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return AC(t,function(){e++}),e},toArray:function(t){return AC(t,function(e){return e})||[]},only:function(t){if(!$L(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Qn.Component=my;Qn.Fragment=nae;Qn.Profiler=sae;Qn.PureComponent=RL;Qn.StrictMode=rae;Qn.Suspense=lae;Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pae;Qn.act=EV;Qn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=CV({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=OL.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)_V.call(e,l)&&!NV.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Rx,type:t.type,key:s,ref:i,props:r,_owner:o}};Qn.createContext=function(t){return t={$$typeof:oae,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iae,_context:t},t.Consumer=t};Qn.createElement=IV;Qn.createFactory=function(t){var e=IV.bind(null,t);return e.type=t,e};Qn.createRef=function(){return{current:null}};Qn.forwardRef=function(t){return{$$typeof:aae,render:t}};Qn.isValidElement=$L;Qn.lazy=function(t){return{$$typeof:uae,_payload:{_status:-1,_result:t},_init:fae}};Qn.memo=function(t,e){return{$$typeof:cae,type:t,compare:e===void 0?null:e}};Qn.startTransition=function(t){var e=PS.transition;PS.transition={};try{t()}finally{PS.transition=e}};Qn.unstable_act=EV;Qn.useCallback=function(t,e){return oa.current.useCallback(t,e)};Qn.useContext=function(t){return oa.current.useContext(t)};Qn.useDebugValue=function(){};Qn.useDeferredValue=function(t){return oa.current.useDeferredValue(t)};Qn.useEffect=function(t,e){return oa.current.useEffect(t,e)};Qn.useId=function(){return oa.current.useId()};Qn.useImperativeHandle=function(t,e,n){return oa.current.useImperativeHandle(t,e,n)};Qn.useInsertionEffect=function(t,e){return oa.current.useInsertionEffect(t,e)};Qn.useLayoutEffect=function(t,e){return oa.current.useLayoutEffect(t,e)};Qn.useMemo=function(t,e){return oa.current.useMemo(t,e)};Qn.useReducer=function(t,e,n){return oa.current.useReducer(t,e,n)};Qn.useRef=function(t){return oa.current.useRef(t)};Qn.useState=function(t){return oa.current.useState(t)};Qn.useSyncExternalStore=function(t,e,n){return oa.current.useSyncExternalStore(t,e,n)};Qn.useTransition=function(){return oa.current.useTransition()};Qn.version="18.3.1";xV.exports=Qn;var P=xV.exports;const ut=Dx(P),UL=wV({__proto__:null,default:ut},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mae=P,gae=Symbol.for("react.element"),yae=Symbol.for("react.fragment"),wae=Object.prototype.hasOwnProperty,vae=mae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xae={key:!0,ref:!0,__self:!0,__source:!0};function kV(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wae.call(e,r)&&!xae.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:gae,type:t,key:i,ref:o,props:s,_owner:vae.current}}sN.Fragment=yae;sN.jsx=kV;sN.jsxs=kV;vV.exports=sN;var x=vV.exports,TV={exports:{}},xl={},FV={exports:{}},LV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,Y){var ce=V.length;V.push(Y);e:for(;0<ce;){var he=ce-1>>>1,z=V[he];if(0<s(z,Y))V[he]=Y,V[ce]=z,ce=he;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Y=V[0],ce=V.pop();if(ce!==Y){V[0]=ce;e:for(var he=0,z=V.length,G=z>>>1;he<G;){var X=2*(he+1)-1,re=V[X],ue=X+1,Ae=V[ue];if(0>s(re,ce))ue<z&&0>s(Ae,re)?(V[he]=Ae,V[ue]=ce,he=ue):(V[he]=re,V[X]=ce,he=X);else if(ue<z&&0>s(Ae,ce))V[he]=Ae,V[ue]=ce,he=ue;else break e}}return Y}function s(V,Y){var ce=V.sortIndex-Y.sortIndex;return ce!==0?ce:V.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,A=null,d=3,h=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=V)r(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(c)}}function C(V){if(m=!1,b(V),!p)if(n(l)!==null)p=!0,Z(_);else{var Y=n(c);Y!==null&&oe(C,Y.startTime-V)}}function _(V,Y){p=!1,m&&(m=!1,g(F),F=-1),h=!0;var ce=d;try{for(b(Y),A=n(l);A!==null&&(!(A.expirationTime>Y)||V&&!O());){var he=A.callback;if(typeof he=="function"){A.callback=null,d=A.priorityLevel;var z=he(A.expirationTime<=Y);Y=t.unstable_now(),typeof z=="function"?A.callback=z:A===n(l)&&r(l),b(Y)}else r(l);A=n(l)}if(A!==null)var G=!0;else{var X=n(c);X!==null&&oe(C,X.startTime-Y),G=!1}return G}finally{A=null,d=ce,h=!1}}var I=!1,T=null,F=-1,D=5,j=-1;function O(){return!(t.unstable_now()-j<D)}function U(){if(T!==null){var V=t.unstable_now();j=V;var Y=!0;try{Y=T(!0,V)}finally{Y?W():(I=!1,T=null)}}else I=!1}var W;if(typeof v=="function")W=function(){v(U)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,J=$.port2;$.port1.onmessage=U,W=function(){J.postMessage(null)}}else W=function(){y(U,0)};function Z(V){T=V,I||(I=!0,W())}function oe(V,Y){F=y(function(){V(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,Z(_))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(d){case 1:case 2:case 3:var Y=3;break;default:Y=d}var ce=d;d=Y;try{return V()}finally{d=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ce=d;d=V;try{return Y()}finally{d=ce}},t.unstable_scheduleCallback=function(V,Y,ce){var he=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?he+ce:he):ce=he,V){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ce+z,V={id:u++,callback:Y,priorityLevel:V,startTime:ce,expirationTime:z,sortIndex:-1},ce>he?(V.sortIndex=ce,e(c,V),n(l)===null&&V===n(c)&&(m?(g(F),F=-1):m=!0,oe(C,ce-he))):(V.sortIndex=z,e(l,V),p||h||(p=!0,Z(_))),V},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(V){var Y=d;return function(){var ce=d;d=Y;try{return V.apply(this,arguments)}finally{d=ce}}}})(LV);FV.exports=LV;var bae=FV.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cae=P,yl=bae;function at(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DV=new Set,Bv={};function Lm(t,e){O0(t,e),O0(t+"Capture",e)}function O0(t,e){for(Bv[t]=e,t=0;t<e.length;t++)DV.add(e[t])}var Ad=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aF=Object.prototype.hasOwnProperty,Sae=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bU={},CU={};function Bae(t){return aF.call(CU,t)?!0:aF.call(bU,t)?!1:Sae.test(t)?CU[t]=!0:(bU[t]=!0,!1)}function _ae(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Nae(t,e,n,r){if(e===null||typeof e>"u"||_ae(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function aa(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var eo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){eo[t]=new aa(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];eo[e]=new aa(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){eo[t]=new aa(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){eo[t]=new aa(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){eo[t]=new aa(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){eo[t]=new aa(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){eo[t]=new aa(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){eo[t]=new aa(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){eo[t]=new aa(t,5,!1,t.toLowerCase(),null,!1,!1)});var ML=/[\-:]([a-z])/g;function QL(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ML,QL);eo[e]=new aa(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ML,QL);eo[e]=new aa(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ML,QL);eo[e]=new aa(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){eo[t]=new aa(t,1,!1,t.toLowerCase(),null,!1,!1)});eo.xlinkHref=new aa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){eo[t]=new aa(t,1,!1,t.toLowerCase(),null,!0,!0)});function jL(t,e,n,r){var s=eo.hasOwnProperty(e)?eo[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Nae(e,n,s,r)&&(n=null),r||s===null?Bae(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bd=Cae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dC=Symbol.for("react.element"),Qg=Symbol.for("react.portal"),jg=Symbol.for("react.fragment"),HL=Symbol.for("react.strict_mode"),lF=Symbol.for("react.profiler"),RV=Symbol.for("react.provider"),PV=Symbol.for("react.context"),zL=Symbol.for("react.forward_ref"),cF=Symbol.for("react.suspense"),uF=Symbol.for("react.suspense_list"),VL=Symbol.for("react.memo"),fh=Symbol.for("react.lazy"),OV=Symbol.for("react.offscreen"),SU=Symbol.iterator;function rw(t){return t===null||typeof t!="object"?null:(t=SU&&t[SU]||t["@@iterator"],typeof t=="function"?t:null)}var ys=Object.assign,$k;function Iw(t){if($k===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$k=e&&e[1]||""}return`
`+$k+t}var Uk=!1;function Mk(t,e){if(!t||Uk)return"";Uk=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Uk=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Iw(t):""}function Iae(t){switch(t.tag){case 5:return Iw(t.type);case 16:return Iw("Lazy");case 13:return Iw("Suspense");case 19:return Iw("SuspenseList");case 0:case 2:case 15:return t=Mk(t.type,!1),t;case 11:return t=Mk(t.type.render,!1),t;case 1:return t=Mk(t.type,!0),t;default:return""}}function AF(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jg:return"Fragment";case Qg:return"Portal";case lF:return"Profiler";case HL:return"StrictMode";case cF:return"Suspense";case uF:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case PV:return(t.displayName||"Context")+".Consumer";case RV:return(t._context.displayName||"Context")+".Provider";case zL:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case VL:return e=t.displayName||null,e!==null?e:AF(t.type)||"Memo";case fh:e=t._payload,t=t._init;try{return AF(t(e))}catch{}}return null}function Eae(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return AF(e);case 8:return e===HL?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rf(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $V(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kae(t){var e=$V(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hC(t){t._valueTracker||(t._valueTracker=kae(t))}function UV(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$V(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wB(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dF(t,e){var n=e.checked;return ys({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function BU(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=rf(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MV(t,e){e=e.checked,e!=null&&jL(t,"checked",e,!1)}function hF(t,e){MV(t,e);var n=rf(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fF(t,e.type,n):e.hasOwnProperty("defaultValue")&&fF(t,e.type,rf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _U(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fF(t,e,n){(e!=="number"||wB(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ew=Array.isArray;function a0(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+rf(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function pF(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(at(91));return ys({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function NU(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(at(92));if(Ew(n)){if(1<n.length)throw Error(at(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:rf(n)}}function QV(t,e){var n=rf(e.value),r=rf(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function IU(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jV(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mF(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jV(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fC,HV=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fC=fC||document.createElement("div"),fC.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fC.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _v(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zw={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tae=["Webkit","ms","Moz","O"];Object.keys(Zw).forEach(function(t){Tae.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zw[e]=Zw[t]})});function zV(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zw.hasOwnProperty(t)&&Zw[t]?(""+e).trim():e+"px"}function VV(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=zV(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Fae=ys({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gF(t,e){if(e){if(Fae[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(at(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(at(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(at(61))}if(e.style!=null&&typeof e.style!="object")throw Error(at(62))}}function yF(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wF=null;function WL(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vF=null,l0=null,c0=null;function EU(t){if(t=$x(t)){if(typeof vF!="function")throw Error(at(280));var e=t.stateNode;e&&(e=cN(e),vF(t.stateNode,t.type,e))}}function WV(t){l0?c0?c0.push(t):c0=[t]:l0=t}function GV(){if(l0){var t=l0,e=c0;if(c0=l0=null,EU(t),e)for(t=0;t<e.length;t++)EU(e[t])}}function KV(t,e){return t(e)}function qV(){}var Qk=!1;function XV(t,e,n){if(Qk)return t(e,n);Qk=!0;try{return KV(t,e,n)}finally{Qk=!1,(l0!==null||c0!==null)&&(qV(),GV())}}function Nv(t,e){var n=t.stateNode;if(n===null)return null;var r=cN(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(at(231,e,typeof n));return n}var xF=!1;if(Ad)try{var sw={};Object.defineProperty(sw,"passive",{get:function(){xF=!0}}),window.addEventListener("test",sw,sw),window.removeEventListener("test",sw,sw)}catch{xF=!1}function Lae(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Jw=!1,vB=null,xB=!1,bF=null,Dae={onError:function(t){Jw=!0,vB=t}};function Rae(t,e,n,r,s,i,o,a,l){Jw=!1,vB=null,Lae.apply(Dae,arguments)}function Pae(t,e,n,r,s,i,o,a,l){if(Rae.apply(this,arguments),Jw){if(Jw){var c=vB;Jw=!1,vB=null}else throw Error(at(198));xB||(xB=!0,bF=c)}}function Dm(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kU(t){if(Dm(t)!==t)throw Error(at(188))}function Oae(t){var e=t.alternate;if(!e){if(e=Dm(t),e===null)throw Error(at(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return kU(s),t;if(i===r)return kU(s),e;i=i.sibling}throw Error(at(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(at(189))}}if(n.alternate!==r)throw Error(at(190))}if(n.tag!==3)throw Error(at(188));return n.stateNode.current===n?t:e}function ZV(t){return t=Oae(t),t!==null?JV(t):null}function JV(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=JV(t);if(e!==null)return e;t=t.sibling}return null}var e7=yl.unstable_scheduleCallback,TU=yl.unstable_cancelCallback,$ae=yl.unstable_shouldYield,Uae=yl.unstable_requestPaint,Qs=yl.unstable_now,Mae=yl.unstable_getCurrentPriorityLevel,GL=yl.unstable_ImmediatePriority,t7=yl.unstable_UserBlockingPriority,bB=yl.unstable_NormalPriority,Qae=yl.unstable_LowPriority,n7=yl.unstable_IdlePriority,iN=null,sA=null;function jae(t){if(sA&&typeof sA.onCommitFiberRoot=="function")try{sA.onCommitFiberRoot(iN,t,void 0,(t.current.flags&128)===128)}catch{}}var su=Math.clz32?Math.clz32:Vae,Hae=Math.log,zae=Math.LN2;function Vae(t){return t>>>=0,t===0?32:31-(Hae(t)/zae|0)|0}var pC=64,mC=4194304;function kw(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function CB(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=kw(a):(i&=o,i!==0&&(r=kw(i)))}else o=n&~s,o!==0?r=kw(o):i!==0&&(r=kw(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-su(e),s=1<<n,r|=t[n],e&=~s;return r}function Wae(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gae(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-su(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Wae(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function CF(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function r7(){var t=pC;return pC<<=1,!(pC&4194240)&&(pC=64),t}function jk(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Px(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-su(e),t[e]=n}function Kae(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-su(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function KL(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-su(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Cr=0;function s7(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var i7,qL,o7,a7,l7,SF=!1,gC=[],Uh=null,Mh=null,Qh=null,Iv=new Map,Ev=new Map,yh=[],qae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FU(t,e){switch(t){case"focusin":case"focusout":Uh=null;break;case"dragenter":case"dragleave":Mh=null;break;case"mouseover":case"mouseout":Qh=null;break;case"pointerover":case"pointerout":Iv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ev.delete(e.pointerId)}}function iw(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=$x(e),e!==null&&qL(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Xae(t,e,n,r,s){switch(e){case"focusin":return Uh=iw(Uh,t,e,n,r,s),!0;case"dragenter":return Mh=iw(Mh,t,e,n,r,s),!0;case"mouseover":return Qh=iw(Qh,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Iv.set(i,iw(Iv.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ev.set(i,iw(Ev.get(i)||null,t,e,n,r,s)),!0}return!1}function c7(t){var e=Ip(t.target);if(e!==null){var n=Dm(e);if(n!==null){if(e=n.tag,e===13){if(e=YV(n),e!==null){t.blockedOn=e,l7(t.priority,function(){o7(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function OS(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=BF(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wF=r,n.target.dispatchEvent(r),wF=null}else return e=$x(n),e!==null&&qL(e),t.blockedOn=n,!1;e.shift()}return!0}function LU(t,e,n){OS(t)&&n.delete(e)}function Yae(){SF=!1,Uh!==null&&OS(Uh)&&(Uh=null),Mh!==null&&OS(Mh)&&(Mh=null),Qh!==null&&OS(Qh)&&(Qh=null),Iv.forEach(LU),Ev.forEach(LU)}function ow(t,e){t.blockedOn===e&&(t.blockedOn=null,SF||(SF=!0,yl.unstable_scheduleCallback(yl.unstable_NormalPriority,Yae)))}function kv(t){function e(s){return ow(s,t)}if(0<gC.length){ow(gC[0],t);for(var n=1;n<gC.length;n++){var r=gC[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Uh!==null&&ow(Uh,t),Mh!==null&&ow(Mh,t),Qh!==null&&ow(Qh,t),Iv.forEach(e),Ev.forEach(e),n=0;n<yh.length;n++)r=yh[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yh.length&&(n=yh[0],n.blockedOn===null);)c7(n),n.blockedOn===null&&yh.shift()}var u0=Bd.ReactCurrentBatchConfig,SB=!0;function Zae(t,e,n,r){var s=Cr,i=u0.transition;u0.transition=null;try{Cr=1,XL(t,e,n,r)}finally{Cr=s,u0.transition=i}}function Jae(t,e,n,r){var s=Cr,i=u0.transition;u0.transition=null;try{Cr=4,XL(t,e,n,r)}finally{Cr=s,u0.transition=i}}function XL(t,e,n,r){if(SB){var s=BF(t,e,n,r);if(s===null)Zk(t,e,r,BB,n),FU(t,r);else if(Xae(s,t,e,n,r))r.stopPropagation();else if(FU(t,r),e&4&&-1<qae.indexOf(t)){for(;s!==null;){var i=$x(s);if(i!==null&&i7(i),i=BF(t,e,n,r),i===null&&Zk(t,e,r,BB,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Zk(t,e,r,null,n)}}var BB=null;function BF(t,e,n,r){if(BB=null,t=WL(r),t=Ip(t),t!==null)if(e=Dm(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YV(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return BB=t,null}function u7(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mae()){case GL:return 1;case t7:return 4;case bB:case Qae:return 16;case n7:return 536870912;default:return 16}default:return 16}}var Nh=null,YL=null,$S=null;function A7(){if($S)return $S;var t,e=YL,n=e.length,r,s="value"in Nh?Nh.value:Nh.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return $S=s.slice(t,1<r?1-r:void 0)}function US(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yC(){return!0}function DU(){return!1}function bl(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yC:DU,this.isPropagationStopped=DU,this}return ys(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yC)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yC)},persist:function(){},isPersistent:yC}),e}var gy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ZL=bl(gy),Ox=ys({},gy,{view:0,detail:0}),ele=bl(Ox),Hk,zk,aw,oN=ys({},Ox,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JL,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==aw&&(aw&&t.type==="mousemove"?(Hk=t.screenX-aw.screenX,zk=t.screenY-aw.screenY):zk=Hk=0,aw=t),Hk)},movementY:function(t){return"movementY"in t?t.movementY:zk}}),RU=bl(oN),tle=ys({},oN,{dataTransfer:0}),nle=bl(tle),rle=ys({},Ox,{relatedTarget:0}),Vk=bl(rle),sle=ys({},gy,{animationName:0,elapsedTime:0,pseudoElement:0}),ile=bl(sle),ole=ys({},gy,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ale=bl(ole),lle=ys({},gy,{data:0}),PU=bl(lle),cle={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ule={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ale={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dle(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ale[t])?!!e[t]:!1}function JL(){return dle}var hle=ys({},Ox,{key:function(t){if(t.key){var e=cle[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=US(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ule[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JL,charCode:function(t){return t.type==="keypress"?US(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?US(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fle=bl(hle),ple=ys({},oN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OU=bl(ple),mle=ys({},Ox,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JL}),gle=bl(mle),yle=ys({},gy,{propertyName:0,elapsedTime:0,pseudoElement:0}),wle=bl(yle),vle=ys({},oN,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xle=bl(vle),ble=[9,13,27,32],eD=Ad&&"CompositionEvent"in window,ev=null;Ad&&"documentMode"in document&&(ev=document.documentMode);var Cle=Ad&&"TextEvent"in window&&!ev,d7=Ad&&(!eD||ev&&8<ev&&11>=ev),$U=" ",UU=!1;function h7(t,e){switch(t){case"keyup":return ble.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f7(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hg=!1;function Sle(t,e){switch(t){case"compositionend":return f7(e);case"keypress":return e.which!==32?null:(UU=!0,$U);case"textInput":return t=e.data,t===$U&&UU?null:t;default:return null}}function Ble(t,e){if(Hg)return t==="compositionend"||!eD&&h7(t,e)?(t=A7(),$S=YL=Nh=null,Hg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return d7&&e.locale!=="ko"?null:e.data;default:return null}}var _le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MU(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_le[t.type]:e==="textarea"}function p7(t,e,n,r){WV(r),e=_B(e,"onChange"),0<e.length&&(n=new ZL("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var tv=null,Tv=null;function Nle(t){_7(t,0)}function aN(t){var e=Wg(t);if(UV(e))return t}function Ile(t,e){if(t==="change")return e}var m7=!1;if(Ad){var Wk;if(Ad){var Gk="oninput"in document;if(!Gk){var QU=document.createElement("div");QU.setAttribute("oninput","return;"),Gk=typeof QU.oninput=="function"}Wk=Gk}else Wk=!1;m7=Wk&&(!document.documentMode||9<document.documentMode)}function jU(){tv&&(tv.detachEvent("onpropertychange",g7),Tv=tv=null)}function g7(t){if(t.propertyName==="value"&&aN(Tv)){var e=[];p7(e,Tv,t,WL(t)),XV(Nle,e)}}function Ele(t,e,n){t==="focusin"?(jU(),tv=e,Tv=n,tv.attachEvent("onpropertychange",g7)):t==="focusout"&&jU()}function kle(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return aN(Tv)}function Tle(t,e){if(t==="click")return aN(e)}function Fle(t,e){if(t==="input"||t==="change")return aN(e)}function Lle(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cu=typeof Object.is=="function"?Object.is:Lle;function Fv(t,e){if(cu(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!aF.call(e,s)||!cu(t[s],e[s]))return!1}return!0}function HU(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zU(t,e){var n=HU(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HU(n)}}function y7(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?y7(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function w7(){for(var t=window,e=wB();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wB(t.document)}return e}function tD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Dle(t){var e=w7(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&y7(n.ownerDocument.documentElement,n)){if(r!==null&&tD(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=zU(n,i);var o=zU(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Rle=Ad&&"documentMode"in document&&11>=document.documentMode,zg=null,_F=null,nv=null,NF=!1;function VU(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;NF||zg==null||zg!==wB(r)||(r=zg,"selectionStart"in r&&tD(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nv&&Fv(nv,r)||(nv=r,r=_B(_F,"onSelect"),0<r.length&&(e=new ZL("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zg)))}function wC(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vg={animationend:wC("Animation","AnimationEnd"),animationiteration:wC("Animation","AnimationIteration"),animationstart:wC("Animation","AnimationStart"),transitionend:wC("Transition","TransitionEnd")},Kk={},v7={};Ad&&(v7=document.createElement("div").style,"AnimationEvent"in window||(delete Vg.animationend.animation,delete Vg.animationiteration.animation,delete Vg.animationstart.animation),"TransitionEvent"in window||delete Vg.transitionend.transition);function lN(t){if(Kk[t])return Kk[t];if(!Vg[t])return t;var e=Vg[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in v7)return Kk[t]=e[n];return t}var x7=lN("animationend"),b7=lN("animationiteration"),C7=lN("animationstart"),S7=lN("transitionend"),B7=new Map,WU="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cf(t,e){B7.set(t,e),Lm(e,[t])}for(var qk=0;qk<WU.length;qk++){var Xk=WU[qk],Ple=Xk.toLowerCase(),Ole=Xk[0].toUpperCase()+Xk.slice(1);Cf(Ple,"on"+Ole)}Cf(x7,"onAnimationEnd");Cf(b7,"onAnimationIteration");Cf(C7,"onAnimationStart");Cf("dblclick","onDoubleClick");Cf("focusin","onFocus");Cf("focusout","onBlur");Cf(S7,"onTransitionEnd");O0("onMouseEnter",["mouseout","mouseover"]);O0("onMouseLeave",["mouseout","mouseover"]);O0("onPointerEnter",["pointerout","pointerover"]);O0("onPointerLeave",["pointerout","pointerover"]);Lm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$le=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tw));function GU(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pae(r,e,void 0,t),t.currentTarget=null}function _7(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;GU(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;GU(s,a,c),i=l}}}if(xB)throw t=bF,xB=!1,bF=null,t}function Xr(t,e){var n=e[FF];n===void 0&&(n=e[FF]=new Set);var r=t+"__bubble";n.has(r)||(N7(e,t,2,!1),n.add(r))}function Yk(t,e,n){var r=0;e&&(r|=4),N7(n,t,r,e)}var vC="_reactListening"+Math.random().toString(36).slice(2);function Lv(t){if(!t[vC]){t[vC]=!0,DV.forEach(function(n){n!=="selectionchange"&&($le.has(n)||Yk(n,!1,t),Yk(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vC]||(e[vC]=!0,Yk("selectionchange",!1,e))}}function N7(t,e,n,r){switch(u7(e)){case 1:var s=Zae;break;case 4:s=Jae;break;default:s=XL}n=s.bind(null,e,n,t),s=void 0,!xF||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Zk(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ip(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}XV(function(){var c=i,u=WL(n),A=[];e:{var d=B7.get(t);if(d!==void 0){var h=ZL,p=t;switch(t){case"keypress":if(US(n)===0)break e;case"keydown":case"keyup":h=fle;break;case"focusin":p="focus",h=Vk;break;case"focusout":p="blur",h=Vk;break;case"beforeblur":case"afterblur":h=Vk;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=RU;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=nle;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=gle;break;case x7:case b7:case C7:h=ile;break;case S7:h=wle;break;case"scroll":h=ele;break;case"wheel":h=xle;break;case"copy":case"cut":case"paste":h=ale;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=OU}var m=(e&4)!==0,y=!m&&t==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var v=c,b;v!==null;){b=v;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,g!==null&&(C=Nv(v,g),C!=null&&m.push(Dv(v,C,b)))),y)break;v=v.return}0<m.length&&(d=new h(d,p,null,n,u),A.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==wF&&(p=n.relatedTarget||n.fromElement)&&(Ip(p)||p[dd]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?Ip(p):null,p!==null&&(y=Dm(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(m=RU,C="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=OU,C="onPointerLeave",g="onPointerEnter",v="pointer"),y=h==null?d:Wg(h),b=p==null?d:Wg(p),d=new m(C,v+"leave",h,n,u),d.target=y,d.relatedTarget=b,C=null,Ip(u)===c&&(m=new m(g,v+"enter",p,n,u),m.target=b,m.relatedTarget=y,C=m),y=C,h&&p)t:{for(m=h,g=p,v=0,b=m;b;b=yg(b))v++;for(b=0,C=g;C;C=yg(C))b++;for(;0<v-b;)m=yg(m),v--;for(;0<b-v;)g=yg(g),b--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=yg(m),g=yg(g)}m=null}else m=null;h!==null&&KU(A,d,h,m,!1),p!==null&&y!==null&&KU(A,y,p,m,!0)}}e:{if(d=c?Wg(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var _=Ile;else if(MU(d))if(m7)_=Fle;else{_=kle;var I=Ele}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(_=Tle);if(_&&(_=_(t,c))){p7(A,_,n,u);break e}I&&I(t,d,c),t==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&fF(d,"number",d.value)}switch(I=c?Wg(c):window,t){case"focusin":(MU(I)||I.contentEditable==="true")&&(zg=I,_F=c,nv=null);break;case"focusout":nv=_F=zg=null;break;case"mousedown":NF=!0;break;case"contextmenu":case"mouseup":case"dragend":NF=!1,VU(A,n,u);break;case"selectionchange":if(Rle)break;case"keydown":case"keyup":VU(A,n,u)}var T;if(eD)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Hg?h7(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(d7&&n.locale!=="ko"&&(Hg||F!=="onCompositionStart"?F==="onCompositionEnd"&&Hg&&(T=A7()):(Nh=u,YL="value"in Nh?Nh.value:Nh.textContent,Hg=!0)),I=_B(c,F),0<I.length&&(F=new PU(F,t,null,n,u),A.push({event:F,listeners:I}),T?F.data=T:(T=f7(n),T!==null&&(F.data=T)))),(T=Cle?Sle(t,n):Ble(t,n))&&(c=_B(c,"onBeforeInput"),0<c.length&&(u=new PU("onBeforeInput","beforeinput",null,n,u),A.push({event:u,listeners:c}),u.data=T))}_7(A,e)})}function Dv(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _B(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nv(t,n),i!=null&&r.unshift(Dv(t,i,s)),i=Nv(t,e),i!=null&&r.push(Dv(t,i,s))),t=t.return}return r}function yg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function KU(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Nv(n,i),l!=null&&o.unshift(Dv(n,l,a))):s||(l=Nv(n,i),l!=null&&o.push(Dv(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ule=/\r\n?/g,Mle=/\u0000|\uFFFD/g;function qU(t){return(typeof t=="string"?t:""+t).replace(Ule,`
`).replace(Mle,"")}function xC(t,e,n){if(e=qU(e),qU(t)!==e&&n)throw Error(at(425))}function NB(){}var IF=null,EF=null;function kF(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var TF=typeof setTimeout=="function"?setTimeout:void 0,Qle=typeof clearTimeout=="function"?clearTimeout:void 0,XU=typeof Promise=="function"?Promise:void 0,jle=typeof queueMicrotask=="function"?queueMicrotask:typeof XU<"u"?function(t){return XU.resolve(null).then(t).catch(Hle)}:TF;function Hle(t){setTimeout(function(){throw t})}function Jk(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),kv(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);kv(e)}function jh(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function YU(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yy=Math.random().toString(36).slice(2),Yu="__reactFiber$"+yy,Rv="__reactProps$"+yy,dd="__reactContainer$"+yy,FF="__reactEvents$"+yy,zle="__reactListeners$"+yy,Vle="__reactHandles$"+yy;function Ip(t){var e=t[Yu];if(e)return e;for(var n=t.parentNode;n;){if(e=n[dd]||n[Yu]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=YU(t);t!==null;){if(n=t[Yu])return n;t=YU(t)}return e}t=n,n=t.parentNode}return null}function $x(t){return t=t[Yu]||t[dd],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(at(33))}function cN(t){return t[Rv]||null}var LF=[],Gg=-1;function Sf(t){return{current:t}}function Zr(t){0>Gg||(t.current=LF[Gg],LF[Gg]=null,Gg--)}function Qr(t,e){Gg++,LF[Gg]=t.current,t.current=e}var sf={},Eo=Sf(sf),Fa=Sf(!1),sm=sf;function $0(t,e){var n=t.type.contextTypes;if(!n)return sf;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function La(t){return t=t.childContextTypes,t!=null}function IB(){Zr(Fa),Zr(Eo)}function ZU(t,e,n){if(Eo.current!==sf)throw Error(at(168));Qr(Eo,e),Qr(Fa,n)}function I7(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(at(108,Eae(t)||"Unknown",s));return ys({},n,r)}function EB(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sf,sm=Eo.current,Qr(Eo,t),Qr(Fa,Fa.current),!0}function JU(t,e,n){var r=t.stateNode;if(!r)throw Error(at(169));n?(t=I7(t,e,sm),r.__reactInternalMemoizedMergedChildContext=t,Zr(Fa),Zr(Eo),Qr(Eo,t)):Zr(Fa),Qr(Fa,n)}var YA=null,uN=!1,eT=!1;function E7(t){YA===null?YA=[t]:YA.push(t)}function Wle(t){uN=!0,E7(t)}function Bf(){if(!eT&&YA!==null){eT=!0;var t=0,e=Cr;try{var n=YA;for(Cr=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}YA=null,uN=!1}catch(s){throw YA!==null&&(YA=YA.slice(t+1)),e7(GL,Bf),s}finally{Cr=e,eT=!1}}return null}var Kg=[],qg=0,kB=null,TB=0,Vl=[],Wl=0,im=null,od=1,ad="";function hp(t,e){Kg[qg++]=TB,Kg[qg++]=kB,kB=t,TB=e}function k7(t,e,n){Vl[Wl++]=od,Vl[Wl++]=ad,Vl[Wl++]=im,im=t;var r=od;t=ad;var s=32-su(r)-1;r&=~(1<<s),n+=1;var i=32-su(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,od=1<<32-su(e)+s|n<<s|r,ad=i+t}else od=1<<i|n<<s|r,ad=t}function nD(t){t.return!==null&&(hp(t,1),k7(t,1,0))}function rD(t){for(;t===kB;)kB=Kg[--qg],Kg[qg]=null,TB=Kg[--qg],Kg[qg]=null;for(;t===im;)im=Vl[--Wl],Vl[Wl]=null,ad=Vl[--Wl],Vl[Wl]=null,od=Vl[--Wl],Vl[Wl]=null}var fl=null,cl=null,is=!1,Zc=null;function T7(t,e){var n=ql(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eM(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fl=t,cl=jh(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fl=t,cl=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=im!==null?{id:od,overflow:ad}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ql(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fl=t,cl=null,!0):!1;default:return!1}}function DF(t){return(t.mode&1)!==0&&(t.flags&128)===0}function RF(t){if(is){var e=cl;if(e){var n=e;if(!eM(t,e)){if(DF(t))throw Error(at(418));e=jh(n.nextSibling);var r=fl;e&&eM(t,e)?T7(r,n):(t.flags=t.flags&-4097|2,is=!1,fl=t)}}else{if(DF(t))throw Error(at(418));t.flags=t.flags&-4097|2,is=!1,fl=t}}}function tM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fl=t}function bC(t){if(t!==fl)return!1;if(!is)return tM(t),is=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kF(t.type,t.memoizedProps)),e&&(e=cl)){if(DF(t))throw F7(),Error(at(418));for(;e;)T7(t,e),e=jh(e.nextSibling)}if(tM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(at(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cl=jh(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cl=null}}else cl=fl?jh(t.stateNode.nextSibling):null;return!0}function F7(){for(var t=cl;t;)t=jh(t.nextSibling)}function U0(){cl=fl=null,is=!1}function sD(t){Zc===null?Zc=[t]:Zc.push(t)}var Gle=Bd.ReactCurrentBatchConfig;function lw(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(at(309));var r=n.stateNode}if(!r)throw Error(at(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(at(284));if(!n._owner)throw Error(at(290,t))}return t}function CC(t,e){throw t=Object.prototype.toString.call(e),Error(at(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nM(t){var e=t._init;return e(t._payload)}function L7(t){function e(g,v){if(t){var b=g.deletions;b===null?(g.deletions=[v],g.flags|=16):b.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=Wh(g,v),g.index=0,g.sibling=null,g}function i(g,v,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<v?(g.flags|=2,v):b):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,b,C){return v===null||v.tag!==6?(v=aT(b,g.mode,C),v.return=g,v):(v=s(v,b),v.return=g,v)}function l(g,v,b,C){var _=b.type;return _===jg?u(g,v,b.props.children,C,b.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===fh&&nM(_)===v.type)?(C=s(v,b.props),C.ref=lw(g,v,b),C.return=g,C):(C=WS(b.type,b.key,b.props,null,g.mode,C),C.ref=lw(g,v,b),C.return=g,C)}function c(g,v,b,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=lT(b,g.mode,C),v.return=g,v):(v=s(v,b.children||[]),v.return=g,v)}function u(g,v,b,C,_){return v===null||v.tag!==7?(v=Kp(b,g.mode,C,_),v.return=g,v):(v=s(v,b),v.return=g,v)}function A(g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=aT(""+v,g.mode,b),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case dC:return b=WS(v.type,v.key,v.props,null,g.mode,b),b.ref=lw(g,null,v),b.return=g,b;case Qg:return v=lT(v,g.mode,b),v.return=g,v;case fh:var C=v._init;return A(g,C(v._payload),b)}if(Ew(v)||rw(v))return v=Kp(v,g.mode,b,null),v.return=g,v;CC(g,v)}return null}function d(g,v,b,C){var _=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:a(g,v,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case dC:return b.key===_?l(g,v,b,C):null;case Qg:return b.key===_?c(g,v,b,C):null;case fh:return _=b._init,d(g,v,_(b._payload),C)}if(Ew(b)||rw(b))return _!==null?null:u(g,v,b,C,null);CC(g,b)}return null}function h(g,v,b,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(b)||null,a(v,g,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case dC:return g=g.get(C.key===null?b:C.key)||null,l(v,g,C,_);case Qg:return g=g.get(C.key===null?b:C.key)||null,c(v,g,C,_);case fh:var I=C._init;return h(g,v,b,I(C._payload),_)}if(Ew(C)||rw(C))return g=g.get(b)||null,u(v,g,C,_,null);CC(v,C)}return null}function p(g,v,b,C){for(var _=null,I=null,T=v,F=v=0,D=null;T!==null&&F<b.length;F++){T.index>F?(D=T,T=null):D=T.sibling;var j=d(g,T,b[F],C);if(j===null){T===null&&(T=D);break}t&&T&&j.alternate===null&&e(g,T),v=i(j,v,F),I===null?_=j:I.sibling=j,I=j,T=D}if(F===b.length)return n(g,T),is&&hp(g,F),_;if(T===null){for(;F<b.length;F++)T=A(g,b[F],C),T!==null&&(v=i(T,v,F),I===null?_=T:I.sibling=T,I=T);return is&&hp(g,F),_}for(T=r(g,T);F<b.length;F++)D=h(T,g,F,b[F],C),D!==null&&(t&&D.alternate!==null&&T.delete(D.key===null?F:D.key),v=i(D,v,F),I===null?_=D:I.sibling=D,I=D);return t&&T.forEach(function(O){return e(g,O)}),is&&hp(g,F),_}function m(g,v,b,C){var _=rw(b);if(typeof _!="function")throw Error(at(150));if(b=_.call(b),b==null)throw Error(at(151));for(var I=_=null,T=v,F=v=0,D=null,j=b.next();T!==null&&!j.done;F++,j=b.next()){T.index>F?(D=T,T=null):D=T.sibling;var O=d(g,T,j.value,C);if(O===null){T===null&&(T=D);break}t&&T&&O.alternate===null&&e(g,T),v=i(O,v,F),I===null?_=O:I.sibling=O,I=O,T=D}if(j.done)return n(g,T),is&&hp(g,F),_;if(T===null){for(;!j.done;F++,j=b.next())j=A(g,j.value,C),j!==null&&(v=i(j,v,F),I===null?_=j:I.sibling=j,I=j);return is&&hp(g,F),_}for(T=r(g,T);!j.done;F++,j=b.next())j=h(T,g,F,j.value,C),j!==null&&(t&&j.alternate!==null&&T.delete(j.key===null?F:j.key),v=i(j,v,F),I===null?_=j:I.sibling=j,I=j);return t&&T.forEach(function(U){return e(g,U)}),is&&hp(g,F),_}function y(g,v,b,C){if(typeof b=="object"&&b!==null&&b.type===jg&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case dC:e:{for(var _=b.key,I=v;I!==null;){if(I.key===_){if(_=b.type,_===jg){if(I.tag===7){n(g,I.sibling),v=s(I,b.props.children),v.return=g,g=v;break e}}else if(I.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===fh&&nM(_)===I.type){n(g,I.sibling),v=s(I,b.props),v.ref=lw(g,I,b),v.return=g,g=v;break e}n(g,I);break}else e(g,I);I=I.sibling}b.type===jg?(v=Kp(b.props.children,g.mode,C,b.key),v.return=g,g=v):(C=WS(b.type,b.key,b.props,null,g.mode,C),C.ref=lw(g,v,b),C.return=g,g=C)}return o(g);case Qg:e:{for(I=b.key;v!==null;){if(v.key===I)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(g,v.sibling),v=s(v,b.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=lT(b,g.mode,C),v.return=g,g=v}return o(g);case fh:return I=b._init,y(g,v,I(b._payload),C)}if(Ew(b))return p(g,v,b,C);if(rw(b))return m(g,v,b,C);CC(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,b),v.return=g,g=v):(n(g,v),v=aT(b,g.mode,C),v.return=g,g=v),o(g)):n(g,v)}return y}var M0=L7(!0),D7=L7(!1),FB=Sf(null),LB=null,Xg=null,iD=null;function oD(){iD=Xg=LB=null}function aD(t){var e=FB.current;Zr(FB),t._currentValue=e}function PF(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function A0(t,e){LB=t,iD=Xg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ea=!0),t.firstContext=null)}function ac(t){var e=t._currentValue;if(iD!==t)if(t={context:t,memoizedValue:e,next:null},Xg===null){if(LB===null)throw Error(at(308));Xg=t,LB.dependencies={lanes:0,firstContext:t}}else Xg=Xg.next=t;return e}var Ep=null;function lD(t){Ep===null?Ep=[t]:Ep.push(t)}function R7(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,lD(e)):(n.next=s.next,s.next=n),e.interleaved=n,hd(t,r)}function hd(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ph=!1;function cD(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P7(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ld(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hh(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,er&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,hd(t,n)}return s=r.interleaved,s===null?(e.next=e,lD(r)):(e.next=s.next,s.next=e),r.interleaved=e,hd(t,n)}function MS(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,KL(t,n)}}function rM(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function DB(t,e,n,r){var s=t.updateQueue;ph=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var A=s.baseState;o=0,u=c=l=null,a=i;do{var d=a.lane,h=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(d=e,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){A=p.call(h,A,d);break e}A=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(h,A,d):p,d==null)break e;A=ys({},A,d);break e;case 2:ph=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=A):u=u.next=h,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(u===null&&(l=A),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);am|=o,t.lanes=o,t.memoizedState=A}}function sM(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(at(191,s));s.call(r)}}}var Ux={},iA=Sf(Ux),Pv=Sf(Ux),Ov=Sf(Ux);function kp(t){if(t===Ux)throw Error(at(174));return t}function uD(t,e){switch(Qr(Ov,e),Qr(Pv,t),Qr(iA,Ux),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mF(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mF(e,t)}Zr(iA),Qr(iA,e)}function Q0(){Zr(iA),Zr(Pv),Zr(Ov)}function O7(t){kp(Ov.current);var e=kp(iA.current),n=mF(e,t.type);e!==n&&(Qr(Pv,t),Qr(iA,n))}function AD(t){Pv.current===t&&(Zr(iA),Zr(Pv))}var fs=Sf(0);function RB(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tT=[];function dD(){for(var t=0;t<tT.length;t++)tT[t]._workInProgressVersionPrimary=null;tT.length=0}var QS=Bd.ReactCurrentDispatcher,nT=Bd.ReactCurrentBatchConfig,om=0,gs=null,fi=null,_i=null,PB=!1,rv=!1,$v=0,Kle=0;function fo(){throw Error(at(321))}function hD(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cu(t[n],e[n]))return!1;return!0}function fD(t,e,n,r,s,i){if(om=i,gs=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,QS.current=t===null||t.memoizedState===null?Zle:Jle,t=n(r,s),rv){i=0;do{if(rv=!1,$v=0,25<=i)throw Error(at(301));i+=1,_i=fi=null,e.updateQueue=null,QS.current=ece,t=n(r,s)}while(rv)}if(QS.current=OB,e=fi!==null&&fi.next!==null,om=0,_i=fi=gs=null,PB=!1,e)throw Error(at(300));return t}function pD(){var t=$v!==0;return $v=0,t}function ju(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _i===null?gs.memoizedState=_i=t:_i=_i.next=t,_i}function lc(){if(fi===null){var t=gs.alternate;t=t!==null?t.memoizedState:null}else t=fi.next;var e=_i===null?gs.memoizedState:_i.next;if(e!==null)_i=e,fi=t;else{if(t===null)throw Error(at(310));fi=t,t={memoizedState:fi.memoizedState,baseState:fi.baseState,baseQueue:fi.baseQueue,queue:fi.queue,next:null},_i===null?gs.memoizedState=_i=t:_i=_i.next=t}return _i}function Uv(t,e){return typeof e=="function"?e(t):e}function rT(t){var e=lc(),n=e.queue;if(n===null)throw Error(at(311));n.lastRenderedReducer=t;var r=fi,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((om&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var A={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=A,o=r):l=l.next=A,gs.lanes|=u,am|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,cu(r,e.memoizedState)||(Ea=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,gs.lanes|=i,am|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sT(t){var e=lc(),n=e.queue;if(n===null)throw Error(at(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);cu(i,e.memoizedState)||(Ea=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function $7(){}function U7(t,e){var n=gs,r=lc(),s=e(),i=!cu(r.memoizedState,s);if(i&&(r.memoizedState=s,Ea=!0),r=r.queue,mD(j7.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||_i!==null&&_i.memoizedState.tag&1){if(n.flags|=2048,Mv(9,Q7.bind(null,n,r,s,e),void 0,null),Ti===null)throw Error(at(349));om&30||M7(n,e,s)}return s}function M7(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gs.updateQueue,e===null?(e={lastEffect:null,stores:null},gs.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Q7(t,e,n,r){e.value=n,e.getSnapshot=r,H7(e)&&z7(t)}function j7(t,e,n){return n(function(){H7(e)&&z7(t)})}function H7(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cu(t,n)}catch{return!0}}function z7(t){var e=hd(t,1);e!==null&&iu(e,t,1,-1)}function iM(t){var e=ju();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uv,lastRenderedState:t},e.queue=t,t=t.dispatch=Yle.bind(null,gs,t),[e.memoizedState,t]}function Mv(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gs.updateQueue,e===null?(e={lastEffect:null,stores:null},gs.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function V7(){return lc().memoizedState}function jS(t,e,n,r){var s=ju();gs.flags|=t,s.memoizedState=Mv(1|e,n,void 0,r===void 0?null:r)}function AN(t,e,n,r){var s=lc();r=r===void 0?null:r;var i=void 0;if(fi!==null){var o=fi.memoizedState;if(i=o.destroy,r!==null&&hD(r,o.deps)){s.memoizedState=Mv(e,n,i,r);return}}gs.flags|=t,s.memoizedState=Mv(1|e,n,i,r)}function oM(t,e){return jS(8390656,8,t,e)}function mD(t,e){return AN(2048,8,t,e)}function W7(t,e){return AN(4,2,t,e)}function G7(t,e){return AN(4,4,t,e)}function K7(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function q7(t,e,n){return n=n!=null?n.concat([t]):null,AN(4,4,K7.bind(null,e,t),n)}function gD(){}function X7(t,e){var n=lc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hD(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Y7(t,e){var n=lc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hD(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Z7(t,e,n){return om&21?(cu(n,e)||(n=r7(),gs.lanes|=n,am|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ea=!0),t.memoizedState=n)}function qle(t,e){var n=Cr;Cr=n!==0&&4>n?n:4,t(!0);var r=nT.transition;nT.transition={};try{t(!1),e()}finally{Cr=n,nT.transition=r}}function J7(){return lc().memoizedState}function Xle(t,e,n){var r=Vh(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eW(t))tW(e,n);else if(n=R7(t,e,n,r),n!==null){var s=Zo();iu(n,t,r,s),nW(n,e,r)}}function Yle(t,e,n){var r=Vh(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eW(t))tW(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,cu(a,o)){var l=e.interleaved;l===null?(s.next=s,lD(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=R7(t,e,s,r),n!==null&&(s=Zo(),iu(n,t,r,s),nW(n,e,r))}}function eW(t){var e=t.alternate;return t===gs||e!==null&&e===gs}function tW(t,e){rv=PB=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nW(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,KL(t,n)}}var OB={readContext:ac,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Zle={readContext:ac,useCallback:function(t,e){return ju().memoizedState=[t,e===void 0?null:e],t},useContext:ac,useEffect:oM,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jS(4194308,4,K7.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jS(4194308,4,t,e)},useInsertionEffect:function(t,e){return jS(4,2,t,e)},useMemo:function(t,e){var n=ju();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ju();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Xle.bind(null,gs,t),[r.memoizedState,t]},useRef:function(t){var e=ju();return t={current:t},e.memoizedState=t},useState:iM,useDebugValue:gD,useDeferredValue:function(t){return ju().memoizedState=t},useTransition:function(){var t=iM(!1),e=t[0];return t=qle.bind(null,t[1]),ju().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gs,s=ju();if(is){if(n===void 0)throw Error(at(407));n=n()}else{if(n=e(),Ti===null)throw Error(at(349));om&30||M7(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,oM(j7.bind(null,r,i,t),[t]),r.flags|=2048,Mv(9,Q7.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ju(),e=Ti.identifierPrefix;if(is){var n=ad,r=od;n=(r&~(1<<32-su(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$v++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Kle++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Jle={readContext:ac,useCallback:X7,useContext:ac,useEffect:mD,useImperativeHandle:q7,useInsertionEffect:W7,useLayoutEffect:G7,useMemo:Y7,useReducer:rT,useRef:V7,useState:function(){return rT(Uv)},useDebugValue:gD,useDeferredValue:function(t){var e=lc();return Z7(e,fi.memoizedState,t)},useTransition:function(){var t=rT(Uv)[0],e=lc().memoizedState;return[t,e]},useMutableSource:$7,useSyncExternalStore:U7,useId:J7,unstable_isNewReconciler:!1},ece={readContext:ac,useCallback:X7,useContext:ac,useEffect:mD,useImperativeHandle:q7,useInsertionEffect:W7,useLayoutEffect:G7,useMemo:Y7,useReducer:sT,useRef:V7,useState:function(){return sT(Uv)},useDebugValue:gD,useDeferredValue:function(t){var e=lc();return fi===null?e.memoizedState=t:Z7(e,fi.memoizedState,t)},useTransition:function(){var t=sT(Uv)[0],e=lc().memoizedState;return[t,e]},useMutableSource:$7,useSyncExternalStore:U7,useId:J7,unstable_isNewReconciler:!1};function Wc(t,e){if(t&&t.defaultProps){e=ys({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function OF(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ys({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dN={isMounted:function(t){return(t=t._reactInternals)?Dm(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zo(),s=Vh(t),i=ld(r,s);i.payload=e,n!=null&&(i.callback=n),e=Hh(t,i,s),e!==null&&(iu(e,t,s,r),MS(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zo(),s=Vh(t),i=ld(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Hh(t,i,s),e!==null&&(iu(e,t,s,r),MS(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zo(),r=Vh(t),s=ld(n,r);s.tag=2,e!=null&&(s.callback=e),e=Hh(t,s,r),e!==null&&(iu(e,t,r,n),MS(e,t,r))}};function aM(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Fv(n,r)||!Fv(s,i):!0}function rW(t,e,n){var r=!1,s=sf,i=e.contextType;return typeof i=="object"&&i!==null?i=ac(i):(s=La(e)?sm:Eo.current,r=e.contextTypes,i=(r=r!=null)?$0(t,s):sf),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dN,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function lM(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dN.enqueueReplaceState(e,e.state,null)}function $F(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},cD(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ac(i):(i=La(e)?sm:Eo.current,s.context=$0(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(OF(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&dN.enqueueReplaceState(s,s.state,null),DB(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function j0(t,e){try{var n="",r=e;do n+=Iae(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function iT(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function UF(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tce=typeof WeakMap=="function"?WeakMap:Map;function sW(t,e,n){n=ld(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){UB||(UB=!0,qF=r),UF(t,e)},n}function iW(t,e,n){n=ld(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){UF(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){UF(t,e),typeof r!="function"&&(zh===null?zh=new Set([this]):zh.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cM(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tce;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=pce.bind(null,t,e,n),e.then(t,t))}function uM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function AM(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ld(-1,1),e.tag=2,Hh(n,e,1))),n.lanes|=1),t)}var nce=Bd.ReactCurrentOwner,Ea=!1;function zo(t,e,n,r){e.child=t===null?D7(e,null,n,r):M0(e,t.child,n,r)}function dM(t,e,n,r,s){n=n.render;var i=e.ref;return A0(e,s),r=fD(t,e,n,r,i,s),n=pD(),t!==null&&!Ea?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fd(t,e,s)):(is&&n&&nD(e),e.flags|=1,zo(t,e,r,s),e.child)}function hM(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!BD(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,oW(t,e,i,r,s)):(t=WS(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fv,n(o,r)&&t.ref===e.ref)return fd(t,e,s)}return e.flags|=1,t=Wh(i,r),t.ref=e.ref,t.return=e,e.child=t}function oW(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Fv(i,r)&&t.ref===e.ref)if(Ea=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ea=!0);else return e.lanes=t.lanes,fd(t,e,s)}return MF(t,e,n,r,s)}function aW(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qr(Zg,sl),sl|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qr(Zg,sl),sl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Qr(Zg,sl),sl|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Qr(Zg,sl),sl|=r;return zo(t,e,s,n),e.child}function lW(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function MF(t,e,n,r,s){var i=La(n)?sm:Eo.current;return i=$0(e,i),A0(e,s),n=fD(t,e,n,r,i,s),r=pD(),t!==null&&!Ea?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fd(t,e,s)):(is&&r&&nD(e),e.flags|=1,zo(t,e,n,s),e.child)}function fM(t,e,n,r,s){if(La(n)){var i=!0;EB(e)}else i=!1;if(A0(e,s),e.stateNode===null)HS(t,e),rW(e,n,r),$F(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ac(c):(c=La(n)?sm:Eo.current,c=$0(e,c));var u=n.getDerivedStateFromProps,A=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";A||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&lM(e,o,r,c),ph=!1;var d=e.memoizedState;o.state=d,DB(e,r,o,s),l=e.memoizedState,a!==r||d!==l||Fa.current||ph?(typeof u=="function"&&(OF(e,n,u,r),l=e.memoizedState),(a=ph||aM(e,n,a,r,d,l,c))?(A||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,P7(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Wc(e.type,a),o.props=c,A=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ac(l):(l=La(n)?sm:Eo.current,l=$0(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==A||d!==l)&&lM(e,o,r,l),ph=!1,d=e.memoizedState,o.state=d,DB(e,r,o,s);var p=e.memoizedState;a!==A||d!==p||Fa.current||ph?(typeof h=="function"&&(OF(e,n,h,r),p=e.memoizedState),(c=ph||aM(e,n,c,r,d,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return QF(t,e,n,r,i,s)}function QF(t,e,n,r,s,i){lW(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&JU(e,n,!1),fd(t,e,i);r=e.stateNode,nce.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=M0(e,t.child,null,i),e.child=M0(e,null,a,i)):zo(t,e,a,i),e.memoizedState=r.state,s&&JU(e,n,!0),e.child}function cW(t){var e=t.stateNode;e.pendingContext?ZU(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ZU(t,e.context,!1),uD(t,e.containerInfo)}function pM(t,e,n,r,s){return U0(),sD(s),e.flags|=256,zo(t,e,n,r),e.child}var jF={dehydrated:null,treeContext:null,retryLane:0};function HF(t){return{baseLanes:t,cachePool:null,transitions:null}}function uW(t,e,n){var r=e.pendingProps,s=fs.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Qr(fs,s&1),t===null)return RF(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pN(o,r,0,null),t=Kp(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=HF(n),e.memoizedState=jF,t):yD(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return rce(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wh(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Wh(a,i):(i=Kp(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?HF(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=jF,r}return i=t.child,t=i.sibling,r=Wh(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yD(t,e){return e=pN({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function SC(t,e,n,r){return r!==null&&sD(r),M0(e,t.child,null,n),t=yD(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rce(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=iT(Error(at(422))),SC(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=pN({mode:"visible",children:r.children},s,0,null),i=Kp(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&M0(e,t.child,null,o),e.child.memoizedState=HF(o),e.memoizedState=jF,i);if(!(e.mode&1))return SC(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(at(419)),r=iT(i,r,void 0),SC(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ea||a){if(r=Ti,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,hd(t,s),iu(r,t,s,-1))}return SD(),r=iT(Error(at(421))),SC(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=mce.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,cl=jh(s.nextSibling),fl=e,is=!0,Zc=null,t!==null&&(Vl[Wl++]=od,Vl[Wl++]=ad,Vl[Wl++]=im,od=t.id,ad=t.overflow,im=e),e=yD(e,r.children),e.flags|=4096,e)}function mM(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),PF(t.return,e,n)}function oT(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function AW(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(zo(t,e,r.children,n),r=fs.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mM(t,n,e);else if(t.tag===19)mM(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qr(fs,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&RB(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),oT(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&RB(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}oT(e,!0,n,null,i);break;case"together":oT(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function HS(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fd(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),am|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(at(153));if(e.child!==null){for(t=e.child,n=Wh(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wh(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sce(t,e,n){switch(e.tag){case 3:cW(e),U0();break;case 5:O7(e);break;case 1:La(e.type)&&EB(e);break;case 4:uD(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Qr(FB,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qr(fs,fs.current&1),e.flags|=128,null):n&e.child.childLanes?uW(t,e,n):(Qr(fs,fs.current&1),t=fd(t,e,n),t!==null?t.sibling:null);Qr(fs,fs.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return AW(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Qr(fs,fs.current),r)break;return null;case 22:case 23:return e.lanes=0,aW(t,e,n)}return fd(t,e,n)}var dW,zF,hW,fW;dW=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zF=function(){};hW=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,kp(iA.current);var i=null;switch(n){case"input":s=dF(t,s),r=dF(t,r),i=[];break;case"select":s=ys({},s,{value:void 0}),r=ys({},r,{value:void 0}),i=[];break;case"textarea":s=pF(t,s),r=pF(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=NB)}gF(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bv.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Xr("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};fW=function(t,e,n,r){n!==r&&(e.flags|=4)};function cw(t,e){if(!is)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function po(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ice(t,e,n){var r=e.pendingProps;switch(rD(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return po(e),null;case 1:return La(e.type)&&IB(),po(e),null;case 3:return r=e.stateNode,Q0(),Zr(Fa),Zr(Eo),dD(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bC(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zc!==null&&(ZF(Zc),Zc=null))),zF(t,e),po(e),null;case 5:AD(e);var s=kp(Ov.current);if(n=e.type,t!==null&&e.stateNode!=null)hW(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(at(166));return po(e),null}if(t=kp(iA.current),bC(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Yu]=e,r[Rv]=i,t=(e.mode&1)!==0,n){case"dialog":Xr("cancel",r),Xr("close",r);break;case"iframe":case"object":case"embed":Xr("load",r);break;case"video":case"audio":for(s=0;s<Tw.length;s++)Xr(Tw[s],r);break;case"source":Xr("error",r);break;case"img":case"image":case"link":Xr("error",r),Xr("load",r);break;case"details":Xr("toggle",r);break;case"input":BU(r,i),Xr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Xr("invalid",r);break;case"textarea":NU(r,i),Xr("invalid",r)}gF(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&xC(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&xC(r.textContent,a,t),s=["children",""+a]):Bv.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xr("scroll",r)}switch(n){case"input":hC(r),_U(r,i,!0);break;case"textarea":hC(r),IU(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=NB)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jV(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Yu]=e,t[Rv]=r,dW(t,e,!1,!1),e.stateNode=t;e:{switch(o=yF(n,r),n){case"dialog":Xr("cancel",t),Xr("close",t),s=r;break;case"iframe":case"object":case"embed":Xr("load",t),s=r;break;case"video":case"audio":for(s=0;s<Tw.length;s++)Xr(Tw[s],t);s=r;break;case"source":Xr("error",t),s=r;break;case"img":case"image":case"link":Xr("error",t),Xr("load",t),s=r;break;case"details":Xr("toggle",t),s=r;break;case"input":BU(t,r),s=dF(t,r),Xr("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ys({},r,{value:void 0}),Xr("invalid",t);break;case"textarea":NU(t,r),s=pF(t,r),Xr("invalid",t);break;default:s=r}gF(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?VV(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&HV(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_v(t,l):typeof l=="number"&&_v(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bv.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Xr("scroll",t):l!=null&&jL(t,i,l,o))}switch(n){case"input":hC(t),_U(t,r,!1);break;case"textarea":hC(t),IU(t);break;case"option":r.value!=null&&t.setAttribute("value",""+rf(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?a0(t,!!r.multiple,i,!1):r.defaultValue!=null&&a0(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=NB)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return po(e),null;case 6:if(t&&e.stateNode!=null)fW(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(at(166));if(n=kp(Ov.current),kp(iA.current),bC(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yu]=e,(i=r.nodeValue!==n)&&(t=fl,t!==null))switch(t.tag){case 3:xC(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xC(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yu]=e,e.stateNode=r}return po(e),null;case 13:if(Zr(fs),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(is&&cl!==null&&e.mode&1&&!(e.flags&128))F7(),U0(),e.flags|=98560,i=!1;else if(i=bC(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(at(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(at(317));i[Yu]=e}else U0(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;po(e),i=!1}else Zc!==null&&(ZF(Zc),Zc=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fs.current&1?yi===0&&(yi=3):SD())),e.updateQueue!==null&&(e.flags|=4),po(e),null);case 4:return Q0(),zF(t,e),t===null&&Lv(e.stateNode.containerInfo),po(e),null;case 10:return aD(e.type._context),po(e),null;case 17:return La(e.type)&&IB(),po(e),null;case 19:if(Zr(fs),i=e.memoizedState,i===null)return po(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)cw(i,!1);else{if(yi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=RB(t),o!==null){for(e.flags|=128,cw(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qr(fs,fs.current&1|2),e.child}t=t.sibling}i.tail!==null&&Qs()>H0&&(e.flags|=128,r=!0,cw(i,!1),e.lanes=4194304)}else{if(!r)if(t=RB(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cw(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!is)return po(e),null}else 2*Qs()-i.renderingStartTime>H0&&n!==1073741824&&(e.flags|=128,r=!0,cw(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Qs(),e.sibling=null,n=fs.current,Qr(fs,r?n&1|2:n&1),e):(po(e),null);case 22:case 23:return CD(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sl&1073741824&&(po(e),e.subtreeFlags&6&&(e.flags|=8192)):po(e),null;case 24:return null;case 25:return null}throw Error(at(156,e.tag))}function oce(t,e){switch(rD(e),e.tag){case 1:return La(e.type)&&IB(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Q0(),Zr(Fa),Zr(Eo),dD(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return AD(e),null;case 13:if(Zr(fs),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(at(340));U0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Zr(fs),null;case 4:return Q0(),null;case 10:return aD(e.type._context),null;case 22:case 23:return CD(),null;case 24:return null;default:return null}}var BC=!1,Bo=!1,ace=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function Yg(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ns(t,e,r)}else n.current=null}function VF(t,e,n){try{n()}catch(r){Ns(t,e,r)}}var gM=!1;function lce(t,e){if(IF=SB,t=w7(),tD(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,A=t,d=null;t:for(;;){for(var h;A!==n||s!==0&&A.nodeType!==3||(a=o+s),A!==i||r!==0&&A.nodeType!==3||(l=o+r),A.nodeType===3&&(o+=A.nodeValue.length),(h=A.firstChild)!==null;)d=A,A=h;for(;;){if(A===t)break t;if(d===n&&++c===s&&(a=o),d===i&&++u===r&&(l=o),(h=A.nextSibling)!==null)break;A=d,d=A.parentNode}A=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(EF={focusedElem:t,selectionRange:n},SB=!1,Tt=e;Tt!==null;)if(e=Tt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Tt=t;else for(;Tt!==null;){e=Tt;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Wc(e.type,m),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(at(163))}}catch(C){Ns(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Tt=t;break}Tt=e.return}return p=gM,gM=!1,p}function sv(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&VF(e,n,i)}s=s.next}while(s!==r)}}function hN(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function WF(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pW(t){var e=t.alternate;e!==null&&(t.alternate=null,pW(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yu],delete e[Rv],delete e[FF],delete e[zle],delete e[Vle])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mW(t){return t.tag===5||t.tag===3||t.tag===4}function yM(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mW(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function GF(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=NB));else if(r!==4&&(t=t.child,t!==null))for(GF(t,e,n),t=t.sibling;t!==null;)GF(t,e,n),t=t.sibling}function KF(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(KF(t,e,n),t=t.sibling;t!==null;)KF(t,e,n),t=t.sibling}var Wi=null,Yc=!1;function rh(t,e,n){for(n=n.child;n!==null;)gW(t,e,n),n=n.sibling}function gW(t,e,n){if(sA&&typeof sA.onCommitFiberUnmount=="function")try{sA.onCommitFiberUnmount(iN,n)}catch{}switch(n.tag){case 5:Bo||Yg(n,e);case 6:var r=Wi,s=Yc;Wi=null,rh(t,e,n),Wi=r,Yc=s,Wi!==null&&(Yc?(t=Wi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Wi.removeChild(n.stateNode));break;case 18:Wi!==null&&(Yc?(t=Wi,n=n.stateNode,t.nodeType===8?Jk(t.parentNode,n):t.nodeType===1&&Jk(t,n),kv(t)):Jk(Wi,n.stateNode));break;case 4:r=Wi,s=Yc,Wi=n.stateNode.containerInfo,Yc=!0,rh(t,e,n),Wi=r,Yc=s;break;case 0:case 11:case 14:case 15:if(!Bo&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&VF(n,e,o),s=s.next}while(s!==r)}rh(t,e,n);break;case 1:if(!Bo&&(Yg(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ns(n,e,a)}rh(t,e,n);break;case 21:rh(t,e,n);break;case 22:n.mode&1?(Bo=(r=Bo)||n.memoizedState!==null,rh(t,e,n),Bo=r):rh(t,e,n);break;default:rh(t,e,n)}}function wM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ace),e.forEach(function(r){var s=gce.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Oc(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Wi=a.stateNode,Yc=!1;break e;case 3:Wi=a.stateNode.containerInfo,Yc=!0;break e;case 4:Wi=a.stateNode.containerInfo,Yc=!0;break e}a=a.return}if(Wi===null)throw Error(at(160));gW(i,o,s),Wi=null,Yc=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ns(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yW(e,t),e=e.sibling}function yW(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Oc(e,t),$u(t),r&4){try{sv(3,t,t.return),hN(3,t)}catch(m){Ns(t,t.return,m)}try{sv(5,t,t.return)}catch(m){Ns(t,t.return,m)}}break;case 1:Oc(e,t),$u(t),r&512&&n!==null&&Yg(n,n.return);break;case 5:if(Oc(e,t),$u(t),r&512&&n!==null&&Yg(n,n.return),t.flags&32){var s=t.stateNode;try{_v(s,"")}catch(m){Ns(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&MV(s,i),yF(a,o);var c=yF(a,i);for(o=0;o<l.length;o+=2){var u=l[o],A=l[o+1];u==="style"?VV(s,A):u==="dangerouslySetInnerHTML"?HV(s,A):u==="children"?_v(s,A):jL(s,u,A,c)}switch(a){case"input":hF(s,i);break;case"textarea":QV(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?a0(s,!!i.multiple,h,!1):d!==!!i.multiple&&(i.defaultValue!=null?a0(s,!!i.multiple,i.defaultValue,!0):a0(s,!!i.multiple,i.multiple?[]:"",!1))}s[Rv]=i}catch(m){Ns(t,t.return,m)}}break;case 6:if(Oc(e,t),$u(t),r&4){if(t.stateNode===null)throw Error(at(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){Ns(t,t.return,m)}}break;case 3:if(Oc(e,t),$u(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kv(e.containerInfo)}catch(m){Ns(t,t.return,m)}break;case 4:Oc(e,t),$u(t);break;case 13:Oc(e,t),$u(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xD=Qs())),r&4&&wM(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Bo=(c=Bo)||u,Oc(e,t),Bo=c):Oc(e,t),$u(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Tt=t,u=t.child;u!==null;){for(A=Tt=u;Tt!==null;){switch(d=Tt,h=d.child,d.tag){case 0:case 11:case 14:case 15:sv(4,d,d.return);break;case 1:Yg(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Ns(r,n,m)}}break;case 5:Yg(d,d.return);break;case 22:if(d.memoizedState!==null){xM(A);continue}}h!==null?(h.return=d,Tt=h):xM(A)}u=u.sibling}e:for(u=null,A=t;;){if(A.tag===5){if(u===null){u=A;try{s=A.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=A.stateNode,l=A.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zV("display",o))}catch(m){Ns(t,t.return,m)}}}else if(A.tag===6){if(u===null)try{A.stateNode.nodeValue=c?"":A.memoizedProps}catch(m){Ns(t,t.return,m)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===t)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===t)break e;for(;A.sibling===null;){if(A.return===null||A.return===t)break e;u===A&&(u=null),A=A.return}u===A&&(u=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Oc(e,t),$u(t),r&4&&wM(t);break;case 21:break;default:Oc(e,t),$u(t)}}function $u(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mW(n)){var r=n;break e}n=n.return}throw Error(at(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(_v(s,""),r.flags&=-33);var i=yM(t);KF(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=yM(t);GF(t,a,o);break;default:throw Error(at(161))}}catch(l){Ns(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cce(t,e,n){Tt=t,wW(t)}function wW(t,e,n){for(var r=(t.mode&1)!==0;Tt!==null;){var s=Tt,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||BC;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Bo;a=BC;var c=Bo;if(BC=o,(Bo=l)&&!c)for(Tt=s;Tt!==null;)o=Tt,l=o.child,o.tag===22&&o.memoizedState!==null?bM(s):l!==null?(l.return=o,Tt=l):bM(s);for(;i!==null;)Tt=i,wW(i),i=i.sibling;Tt=s,BC=a,Bo=c}vM(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Tt=i):vM(t)}}function vM(t){for(;Tt!==null;){var e=Tt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bo||hN(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bo)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Wc(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&sM(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sM(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var A=u.dehydrated;A!==null&&kv(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(at(163))}Bo||e.flags&512&&WF(e)}catch(d){Ns(e,e.return,d)}}if(e===t){Tt=null;break}if(n=e.sibling,n!==null){n.return=e.return,Tt=n;break}Tt=e.return}}function xM(t){for(;Tt!==null;){var e=Tt;if(e===t){Tt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Tt=n;break}Tt=e.return}}function bM(t){for(;Tt!==null;){var e=Tt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hN(4,e)}catch(l){Ns(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ns(e,s,l)}}var i=e.return;try{WF(e)}catch(l){Ns(e,i,l)}break;case 5:var o=e.return;try{WF(e)}catch(l){Ns(e,o,l)}}}catch(l){Ns(e,e.return,l)}if(e===t){Tt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Tt=a;break}Tt=e.return}}var uce=Math.ceil,$B=Bd.ReactCurrentDispatcher,wD=Bd.ReactCurrentOwner,sc=Bd.ReactCurrentBatchConfig,er=0,Ti=null,Zs=null,Ji=0,sl=0,Zg=Sf(0),yi=0,Qv=null,am=0,fN=0,vD=0,iv=null,Na=null,xD=0,H0=1/0,XA=null,UB=!1,qF=null,zh=null,_C=!1,Ih=null,MB=0,ov=0,XF=null,zS=-1,VS=0;function Zo(){return er&6?Qs():zS!==-1?zS:zS=Qs()}function Vh(t){return t.mode&1?er&2&&Ji!==0?Ji&-Ji:Gle.transition!==null?(VS===0&&(VS=r7()),VS):(t=Cr,t!==0||(t=window.event,t=t===void 0?16:u7(t.type)),t):1}function iu(t,e,n,r){if(50<ov)throw ov=0,XF=null,Error(at(185));Px(t,n,r),(!(er&2)||t!==Ti)&&(t===Ti&&(!(er&2)&&(fN|=n),yi===4&&wh(t,Ji)),Da(t,r),n===1&&er===0&&!(e.mode&1)&&(H0=Qs()+500,uN&&Bf()))}function Da(t,e){var n=t.callbackNode;Gae(t,e);var r=CB(t,t===Ti?Ji:0);if(r===0)n!==null&&TU(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&TU(n),e===1)t.tag===0?Wle(CM.bind(null,t)):E7(CM.bind(null,t)),jle(function(){!(er&6)&&Bf()}),n=null;else{switch(s7(r)){case 1:n=GL;break;case 4:n=t7;break;case 16:n=bB;break;case 536870912:n=n7;break;default:n=bB}n=NW(n,vW.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vW(t,e){if(zS=-1,VS=0,er&6)throw Error(at(327));var n=t.callbackNode;if(d0()&&t.callbackNode!==n)return null;var r=CB(t,t===Ti?Ji:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=QB(t,r);else{e=r;var s=er;er|=2;var i=bW();(Ti!==t||Ji!==e)&&(XA=null,H0=Qs()+500,Gp(t,e));do try{hce();break}catch(a){xW(t,a)}while(!0);oD(),$B.current=i,er=s,Zs!==null?e=0:(Ti=null,Ji=0,e=yi)}if(e!==0){if(e===2&&(s=CF(t),s!==0&&(r=s,e=YF(t,s))),e===1)throw n=Qv,Gp(t,0),wh(t,r),Da(t,Qs()),n;if(e===6)wh(t,r);else{if(s=t.current.alternate,!(r&30)&&!Ace(s)&&(e=QB(t,r),e===2&&(i=CF(t),i!==0&&(r=i,e=YF(t,i))),e===1))throw n=Qv,Gp(t,0),wh(t,r),Da(t,Qs()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(at(345));case 2:fp(t,Na,XA);break;case 3:if(wh(t,r),(r&130023424)===r&&(e=xD+500-Qs(),10<e)){if(CB(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Zo(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=TF(fp.bind(null,t,Na,XA),e);break}fp(t,Na,XA);break;case 4:if(wh(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-su(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Qs()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uce(r/1960))-r,10<r){t.timeoutHandle=TF(fp.bind(null,t,Na,XA),r);break}fp(t,Na,XA);break;case 5:fp(t,Na,XA);break;default:throw Error(at(329))}}}return Da(t,Qs()),t.callbackNode===n?vW.bind(null,t):null}function YF(t,e){var n=iv;return t.current.memoizedState.isDehydrated&&(Gp(t,e).flags|=256),t=QB(t,e),t!==2&&(e=Na,Na=n,e!==null&&ZF(e)),t}function ZF(t){Na===null?Na=t:Na.push.apply(Na,t)}function Ace(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!cu(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wh(t,e){for(e&=~vD,e&=~fN,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-su(e),r=1<<n;t[n]=-1,e&=~r}}function CM(t){if(er&6)throw Error(at(327));d0();var e=CB(t,0);if(!(e&1))return Da(t,Qs()),null;var n=QB(t,e);if(t.tag!==0&&n===2){var r=CF(t);r!==0&&(e=r,n=YF(t,r))}if(n===1)throw n=Qv,Gp(t,0),wh(t,e),Da(t,Qs()),n;if(n===6)throw Error(at(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fp(t,Na,XA),Da(t,Qs()),null}function bD(t,e){var n=er;er|=1;try{return t(e)}finally{er=n,er===0&&(H0=Qs()+500,uN&&Bf())}}function lm(t){Ih!==null&&Ih.tag===0&&!(er&6)&&d0();var e=er;er|=1;var n=sc.transition,r=Cr;try{if(sc.transition=null,Cr=1,t)return t()}finally{Cr=r,sc.transition=n,er=e,!(er&6)&&Bf()}}function CD(){sl=Zg.current,Zr(Zg)}function Gp(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Qle(n)),Zs!==null)for(n=Zs.return;n!==null;){var r=n;switch(rD(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&IB();break;case 3:Q0(),Zr(Fa),Zr(Eo),dD();break;case 5:AD(r);break;case 4:Q0();break;case 13:Zr(fs);break;case 19:Zr(fs);break;case 10:aD(r.type._context);break;case 22:case 23:CD()}n=n.return}if(Ti=t,Zs=t=Wh(t.current,null),Ji=sl=e,yi=0,Qv=null,vD=fN=am=0,Na=iv=null,Ep!==null){for(e=0;e<Ep.length;e++)if(n=Ep[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ep=null}return t}function xW(t,e){do{var n=Zs;try{if(oD(),QS.current=OB,PB){for(var r=gs.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}PB=!1}if(om=0,_i=fi=gs=null,rv=!1,$v=0,wD.current=null,n===null||n.return===null){yi=1,Qv=e,Zs=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ji,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,A=u.tag;if(!(u.mode&1)&&(A===0||A===11||A===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=uM(o);if(h!==null){h.flags&=-257,AM(h,o,a,i,e),h.mode&1&&cM(i,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){cM(i,c,e),SD();break e}l=Error(at(426))}}else if(is&&a.mode&1){var y=uM(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),AM(y,o,a,i,e),sD(j0(l,a));break e}}i=l=j0(l,a),yi!==4&&(yi=2),iv===null?iv=[i]:iv.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=sW(i,l,e);rM(i,g);break e;case 1:a=l;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(zh===null||!zh.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=iW(i,a,e);rM(i,C);break e}}i=i.return}while(i!==null)}SW(n)}catch(_){e=_,Zs===n&&n!==null&&(Zs=n=n.return);continue}break}while(!0)}function bW(){var t=$B.current;return $B.current=OB,t===null?OB:t}function SD(){(yi===0||yi===3||yi===2)&&(yi=4),Ti===null||!(am&268435455)&&!(fN&268435455)||wh(Ti,Ji)}function QB(t,e){var n=er;er|=2;var r=bW();(Ti!==t||Ji!==e)&&(XA=null,Gp(t,e));do try{dce();break}catch(s){xW(t,s)}while(!0);if(oD(),er=n,$B.current=r,Zs!==null)throw Error(at(261));return Ti=null,Ji=0,yi}function dce(){for(;Zs!==null;)CW(Zs)}function hce(){for(;Zs!==null&&!$ae();)CW(Zs)}function CW(t){var e=_W(t.alternate,t,sl);t.memoizedProps=t.pendingProps,e===null?SW(t):Zs=e,wD.current=null}function SW(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oce(n,e),n!==null){n.flags&=32767,Zs=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yi=6,Zs=null;return}}else if(n=ice(n,e,sl),n!==null){Zs=n;return}if(e=e.sibling,e!==null){Zs=e;return}Zs=e=t}while(e!==null);yi===0&&(yi=5)}function fp(t,e,n){var r=Cr,s=sc.transition;try{sc.transition=null,Cr=1,fce(t,e,n,r)}finally{sc.transition=s,Cr=r}return null}function fce(t,e,n,r){do d0();while(Ih!==null);if(er&6)throw Error(at(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(at(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Kae(t,i),t===Ti&&(Zs=Ti=null,Ji=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_C||(_C=!0,NW(bB,function(){return d0(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=sc.transition,sc.transition=null;var o=Cr;Cr=1;var a=er;er|=4,wD.current=null,lce(t,n),yW(n,t),Dle(EF),SB=!!IF,EF=IF=null,t.current=n,cce(n),Uae(),er=a,Cr=o,sc.transition=i}else t.current=n;if(_C&&(_C=!1,Ih=t,MB=s),i=t.pendingLanes,i===0&&(zh=null),jae(n.stateNode),Da(t,Qs()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(UB)throw UB=!1,t=qF,qF=null,t;return MB&1&&t.tag!==0&&d0(),i=t.pendingLanes,i&1?t===XF?ov++:(ov=0,XF=t):ov=0,Bf(),null}function d0(){if(Ih!==null){var t=s7(MB),e=sc.transition,n=Cr;try{if(sc.transition=null,Cr=16>t?16:t,Ih===null)var r=!1;else{if(t=Ih,Ih=null,MB=0,er&6)throw Error(at(331));var s=er;for(er|=4,Tt=t.current;Tt!==null;){var i=Tt,o=i.child;if(Tt.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Tt=c;Tt!==null;){var u=Tt;switch(u.tag){case 0:case 11:case 15:sv(8,u,i)}var A=u.child;if(A!==null)A.return=u,Tt=A;else for(;Tt!==null;){u=Tt;var d=u.sibling,h=u.return;if(pW(u),u===c){Tt=null;break}if(d!==null){d.return=h,Tt=d;break}Tt=h}}}var p=i.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Tt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Tt=o;else e:for(;Tt!==null;){if(i=Tt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:sv(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Tt=g;break e}Tt=i.return}}var v=t.current;for(Tt=v;Tt!==null;){o=Tt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Tt=b;else e:for(o=v;Tt!==null;){if(a=Tt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hN(9,a)}}catch(_){Ns(a,a.return,_)}if(a===o){Tt=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Tt=C;break e}Tt=a.return}}if(er=s,Bf(),sA&&typeof sA.onPostCommitFiberRoot=="function")try{sA.onPostCommitFiberRoot(iN,t)}catch{}r=!0}return r}finally{Cr=n,sc.transition=e}}return!1}function SM(t,e,n){e=j0(n,e),e=sW(t,e,1),t=Hh(t,e,1),e=Zo(),t!==null&&(Px(t,1,e),Da(t,e))}function Ns(t,e,n){if(t.tag===3)SM(t,t,n);else for(;e!==null;){if(e.tag===3){SM(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zh===null||!zh.has(r))){t=j0(n,t),t=iW(e,t,1),e=Hh(e,t,1),t=Zo(),e!==null&&(Px(e,1,t),Da(e,t));break}}e=e.return}}function pce(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zo(),t.pingedLanes|=t.suspendedLanes&n,Ti===t&&(Ji&n)===n&&(yi===4||yi===3&&(Ji&130023424)===Ji&&500>Qs()-xD?Gp(t,0):vD|=n),Da(t,e)}function BW(t,e){e===0&&(t.mode&1?(e=mC,mC<<=1,!(mC&130023424)&&(mC=4194304)):e=1);var n=Zo();t=hd(t,e),t!==null&&(Px(t,e,n),Da(t,n))}function mce(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BW(t,n)}function gce(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(at(314))}r!==null&&r.delete(e),BW(t,n)}var _W;_W=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fa.current)Ea=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ea=!1,sce(t,e,n);Ea=!!(t.flags&131072)}else Ea=!1,is&&e.flags&1048576&&k7(e,TB,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;HS(t,e),t=e.pendingProps;var s=$0(e,Eo.current);A0(e,n),s=fD(null,e,r,t,s,n);var i=pD();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,La(r)?(i=!0,EB(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cD(e),s.updater=dN,e.stateNode=s,s._reactInternals=e,$F(e,r,t,n),e=QF(null,e,r,!0,i,n)):(e.tag=0,is&&i&&nD(e),zo(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(HS(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=wce(r),t=Wc(r,t),s){case 0:e=MF(null,e,r,t,n);break e;case 1:e=fM(null,e,r,t,n);break e;case 11:e=dM(null,e,r,t,n);break e;case 14:e=hM(null,e,r,Wc(r.type,t),n);break e}throw Error(at(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wc(r,s),MF(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wc(r,s),fM(t,e,r,s,n);case 3:e:{if(cW(e),t===null)throw Error(at(387));r=e.pendingProps,i=e.memoizedState,s=i.element,P7(t,e),DB(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=j0(Error(at(423)),e),e=pM(t,e,r,n,s);break e}else if(r!==s){s=j0(Error(at(424)),e),e=pM(t,e,r,n,s);break e}else for(cl=jh(e.stateNode.containerInfo.firstChild),fl=e,is=!0,Zc=null,n=D7(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(U0(),r===s){e=fd(t,e,n);break e}zo(t,e,r,n)}e=e.child}return e;case 5:return O7(e),t===null&&RF(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,kF(r,s)?o=null:i!==null&&kF(r,i)&&(e.flags|=32),lW(t,e),zo(t,e,o,n),e.child;case 6:return t===null&&RF(e),null;case 13:return uW(t,e,n);case 4:return uD(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=M0(e,null,r,n):zo(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wc(r,s),dM(t,e,r,s,n);case 7:return zo(t,e,e.pendingProps,n),e.child;case 8:return zo(t,e,e.pendingProps.children,n),e.child;case 12:return zo(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Qr(FB,r._currentValue),r._currentValue=o,i!==null)if(cu(i.value,o)){if(i.children===s.children&&!Fa.current){e=fd(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ld(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),PF(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(at(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),PF(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}zo(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,A0(e,n),s=ac(s),r=r(s),e.flags|=1,zo(t,e,r,n),e.child;case 14:return r=e.type,s=Wc(r,e.pendingProps),s=Wc(r.type,s),hM(t,e,r,s,n);case 15:return oW(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wc(r,s),HS(t,e),e.tag=1,La(r)?(t=!0,EB(e)):t=!1,A0(e,n),rW(e,r,s),$F(e,r,s,n),QF(null,e,r,!0,t,n);case 19:return AW(t,e,n);case 22:return aW(t,e,n)}throw Error(at(156,e.tag))};function NW(t,e){return e7(t,e)}function yce(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ql(t,e,n,r){return new yce(t,e,n,r)}function BD(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wce(t){if(typeof t=="function")return BD(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zL)return 11;if(t===VL)return 14}return 2}function Wh(t,e){var n=t.alternate;return n===null?(n=ql(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function WS(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")BD(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case jg:return Kp(n.children,s,i,e);case HL:o=8,s|=8;break;case lF:return t=ql(12,n,e,s|2),t.elementType=lF,t.lanes=i,t;case cF:return t=ql(13,n,e,s),t.elementType=cF,t.lanes=i,t;case uF:return t=ql(19,n,e,s),t.elementType=uF,t.lanes=i,t;case OV:return pN(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RV:o=10;break e;case PV:o=9;break e;case zL:o=11;break e;case VL:o=14;break e;case fh:o=16,r=null;break e}throw Error(at(130,t==null?t:typeof t,""))}return e=ql(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Kp(t,e,n,r){return t=ql(7,t,r,e),t.lanes=n,t}function pN(t,e,n,r){return t=ql(22,t,r,e),t.elementType=OV,t.lanes=n,t.stateNode={isHidden:!1},t}function aT(t,e,n){return t=ql(6,t,null,e),t.lanes=n,t}function lT(t,e,n){return e=ql(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vce(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jk(0),this.expirationTimes=jk(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jk(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _D(t,e,n,r,s,i,o,a,l){return t=new vce(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ql(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cD(i),t}function xce(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qg,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IW(t){if(!t)return sf;t=t._reactInternals;e:{if(Dm(t)!==t||t.tag!==1)throw Error(at(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(La(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(at(171))}if(t.tag===1){var n=t.type;if(La(n))return I7(t,n,e)}return e}function EW(t,e,n,r,s,i,o,a,l){return t=_D(n,r,!0,t,s,i,o,a,l),t.context=IW(null),n=t.current,r=Zo(),s=Vh(n),i=ld(r,s),i.callback=e??null,Hh(n,i,s),t.current.lanes=s,Px(t,s,r),Da(t,r),t}function mN(t,e,n,r){var s=e.current,i=Zo(),o=Vh(s);return n=IW(n),e.context===null?e.context=n:e.pendingContext=n,e=ld(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Hh(s,e,o),t!==null&&(iu(t,s,o,i),MS(t,s,o)),o}function jB(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function BM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ND(t,e){BM(t,e),(t=t.alternate)&&BM(t,e)}function bce(){return null}var kW=typeof reportError=="function"?reportError:function(t){console.error(t)};function ID(t){this._internalRoot=t}gN.prototype.render=ID.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(at(409));mN(t,e,null,null)};gN.prototype.unmount=ID.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;lm(function(){mN(null,t,null,null)}),e[dd]=null}};function gN(t){this._internalRoot=t}gN.prototype.unstable_scheduleHydration=function(t){if(t){var e=a7();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yh.length&&e!==0&&e<yh[n].priority;n++);yh.splice(n,0,t),n===0&&c7(t)}};function ED(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yN(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _M(){}function Cce(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=jB(o);i.call(c)}}var o=EW(e,r,t,0,null,!1,!1,"",_M);return t._reactRootContainer=o,t[dd]=o.current,Lv(t.nodeType===8?t.parentNode:t),lm(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=jB(l);a.call(c)}}var l=_D(t,0,!1,null,null,!1,!1,"",_M);return t._reactRootContainer=l,t[dd]=l.current,Lv(t.nodeType===8?t.parentNode:t),lm(function(){mN(e,l,n,r)}),l}function wN(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=jB(o);a.call(l)}}mN(e,o,t,s)}else o=Cce(n,e,t,s,r);return jB(o)}i7=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kw(e.pendingLanes);n!==0&&(KL(e,n|1),Da(e,Qs()),!(er&6)&&(H0=Qs()+500,Bf()))}break;case 13:lm(function(){var r=hd(t,1);if(r!==null){var s=Zo();iu(r,t,1,s)}}),ND(t,1)}};qL=function(t){if(t.tag===13){var e=hd(t,134217728);if(e!==null){var n=Zo();iu(e,t,134217728,n)}ND(t,134217728)}};o7=function(t){if(t.tag===13){var e=Vh(t),n=hd(t,e);if(n!==null){var r=Zo();iu(n,t,e,r)}ND(t,e)}};a7=function(){return Cr};l7=function(t,e){var n=Cr;try{return Cr=t,e()}finally{Cr=n}};vF=function(t,e,n){switch(e){case"input":if(hF(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=cN(r);if(!s)throw Error(at(90));UV(r),hF(r,s)}}}break;case"textarea":QV(t,n);break;case"select":e=n.value,e!=null&&a0(t,!!n.multiple,e,!1)}};KV=bD;qV=lm;var Sce={usingClientEntryPoint:!1,Events:[$x,Wg,cN,WV,GV,bD]},uw={findFiberByHostInstance:Ip,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bce={bundleType:uw.bundleType,version:uw.version,rendererPackageName:uw.rendererPackageName,rendererConfig:uw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bd.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ZV(t),t===null?null:t.stateNode},findFiberByHostInstance:uw.findFiberByHostInstance||bce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var NC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!NC.isDisabled&&NC.supportsFiber)try{iN=NC.inject(Bce),sA=NC}catch{}}xl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sce;xl.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ED(e))throw Error(at(200));return xce(t,e,null,n)};xl.createRoot=function(t,e){if(!ED(t))throw Error(at(299));var n=!1,r="",s=kW;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=_D(t,1,!1,null,null,n,!1,r,s),t[dd]=e.current,Lv(t.nodeType===8?t.parentNode:t),new ID(e)};xl.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(at(188)):(t=Object.keys(t).join(","),Error(at(268,t)));return t=ZV(e),t=t===null?null:t.stateNode,t};xl.flushSync=function(t){return lm(t)};xl.hydrate=function(t,e,n){if(!yN(e))throw Error(at(200));return wN(null,t,e,!0,n)};xl.hydrateRoot=function(t,e,n){if(!ED(t))throw Error(at(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=kW;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=EW(e,null,t,1,n??null,s,!1,i,o),t[dd]=e.current,Lv(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new gN(e)};xl.render=function(t,e,n){if(!yN(e))throw Error(at(200));return wN(null,t,e,!1,n)};xl.unmountComponentAtNode=function(t){if(!yN(t))throw Error(at(40));return t._reactRootContainer?(lm(function(){wN(null,null,t,!1,function(){t._reactRootContainer=null,t[dd]=null})}),!0):!1};xl.unstable_batchedUpdates=bD;xl.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yN(n))throw Error(at(200));if(t==null||t._reactInternals===void 0)throw Error(at(38));return wN(t,e,n,!1,r)};xl.version="18.3.1-next-f1338f8080-20240426";function TW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TW)}catch(t){console.error(t)}}TW(),TV.exports=xl;var Rm=TV.exports;const FW=Dx(Rm);var LW,NM=Rm;LW=NM.createRoot,NM.hydrateRoot;const _ce=1,Nce=1e6;let cT=0;function Ice(){return cT=(cT+1)%Number.MAX_SAFE_INTEGER,cT.toString()}const uT=new Map,IM=t=>{if(uT.has(t))return;const e=setTimeout(()=>{uT.delete(t),av({type:"REMOVE_TOAST",toastId:t})},Nce);uT.set(t,e)},Ece=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,_ce)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?IM(n):t.toasts.forEach(r=>{IM(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},GS=[];let KS={toasts:[]};function av(t){KS=Ece(KS,t),GS.forEach(e=>{e(KS)})}function kce({...t}){const e=Ice(),n=s=>av({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>av({type:"DISMISS_TOAST",toastId:e});return av({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Tce(){const[t,e]=P.useState(KS);return P.useEffect(()=>(GS.push(e),()=>{const n=GS.indexOf(e);n>-1&&GS.splice(n,1)}),[t]),{...t,toast:kce,dismiss:n=>av({type:"DISMISS_TOAST",toastId:n})}}function on(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function EM(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function DW(...t){return e=>{let n=!1;const r=t.map(s=>{const i=EM(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():EM(t[s],null)}}}}function zr(...t){return P.useCallback(DW(...t),t)}function Fce(t,e){const n=P.createContext(e),r=i=>{const{children:o,...a}=i,l=P.useMemo(()=>a,Object.values(a));return x.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=P.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function _f(t,e=[]){let n=[];function r(i,o){const a=P.createContext(o),l=n.length;n=[...n,o];const c=A=>{var g;const{scope:d,children:h,...p}=A,m=((g=d==null?void 0:d[t])==null?void 0:g[l])||a,y=P.useMemo(()=>p,Object.values(p));return x.jsx(m.Provider,{value:y,children:h})};c.displayName=i+"Provider";function u(A,d){var m;const h=((m=d==null?void 0:d[t])==null?void 0:m[l])||a,p=P.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${A}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>P.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return P.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Lce(s,...e)]}function Lce(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const A=l(i)[`__scope${c}`];return{...a,...A}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function z0(t){const e=Rce(t),n=P.forwardRef((r,s)=>{const{children:i,...o}=r,a=P.Children.toArray(i),l=a.find(Oce);if(l){const c=l.props.children,u=a.map(A=>A===l?P.Children.count(c)>1?P.Children.only(null):P.isValidElement(c)?c.props.children:null:A);return x.jsx(e,{...o,ref:s,children:P.isValidElement(c)?P.cloneElement(c,void 0,u):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var Dce=z0("Slot");function Rce(t){const e=P.forwardRef((n,r)=>{const{children:s,...i}=n;if(P.isValidElement(s)){const o=Uce(s),a=$ce(i,s.props);return s.type!==P.Fragment&&(a.ref=r?DW(r,o):o),P.cloneElement(s,a)}return P.Children.count(s)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var RW=Symbol("radix.slottable");function Pce(t){const e=({children:n})=>x.jsx(x.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=RW,e}function Oce(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===RW}function $ce(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Uce(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function kD(t){const e=t+"CollectionProvider",[n,r]=_f(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:g}=m,v=ut.useRef(null),b=ut.useRef(new Map).current;return x.jsx(s,{scope:y,itemMap:b,collectionRef:v,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=z0(a),c=ut.forwardRef((m,y)=>{const{scope:g,children:v}=m,b=i(a,g),C=zr(y,b.collectionRef);return x.jsx(l,{ref:C,children:v})});c.displayName=a;const u=t+"CollectionItemSlot",A="data-radix-collection-item",d=z0(u),h=ut.forwardRef((m,y)=>{const{scope:g,children:v,...b}=m,C=ut.useRef(null),_=zr(y,C),I=i(u,g);return ut.useEffect(()=>(I.itemMap.set(C,{ref:C,...b}),()=>void I.itemMap.delete(C))),x.jsx(d,{[A]:"",ref:_,children:v})});h.displayName=u;function p(m){const y=i(t+"CollectionConsumer",m);return ut.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${A}]`));return Array.from(y.itemMap.values()).sort((I,T)=>b.indexOf(I.ref.current)-b.indexOf(T.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},p,r]}var Mce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],In=Mce.reduce((t,e)=>{const n=z0(`Primitive.${e}`),r=P.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function PW(t,e){t&&Rm.flushSync(()=>t.dispatchEvent(e))}function cc(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Qce(t,e=globalThis==null?void 0:globalThis.document){const n=cc(t);P.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var jce="DismissableLayer",JF="dismissableLayer.update",Hce="dismissableLayer.pointerDownOutside",zce="dismissableLayer.focusOutside",kM,OW=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mx=P.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=P.useContext(OW),[u,A]=P.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=P.useState({}),p=zr(e,T=>A(T)),m=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(y),v=u?m.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=v>=g,_=Wce(T=>{const F=T.target,D=[...c.branches].some(j=>j.contains(F));!C||D||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},d),I=Gce(T=>{const F=T.target;[...c.branches].some(j=>j.contains(F))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},d);return Qce(T=>{v===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},d),P.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(kM=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),TM(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=kM)}},[u,d,n,c]),P.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),TM())},[u,c]),P.useEffect(()=>{const T=()=>h({});return document.addEventListener(JF,T),()=>document.removeEventListener(JF,T)},[]),x.jsx(In.div,{...l,ref:p,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:on(t.onFocusCapture,I.onFocusCapture),onBlurCapture:on(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:on(t.onPointerDownCapture,_.onPointerDownCapture)})});Mx.displayName=jce;var Vce="DismissableLayerBranch",$W=P.forwardRef((t,e)=>{const n=P.useContext(OW),r=P.useRef(null),s=zr(e,r);return P.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),x.jsx(In.div,{...t,ref:s})});$W.displayName=Vce;function Wce(t,e=globalThis==null?void 0:globalThis.document){const n=cc(t),r=P.useRef(!1),s=P.useRef(()=>{});return P.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){UW(Hce,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Gce(t,e=globalThis==null?void 0:globalThis.document){const n=cc(t),r=P.useRef(!1);return P.useEffect(()=>{const s=i=>{i.target&&!r.current&&UW(zce,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function TM(){const t=new CustomEvent(JF);document.dispatchEvent(t)}function UW(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?PW(s,i):s.dispatchEvent(i)}var Kce=Mx,qce=$W,to=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},Xce="Portal",vN=P.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=P.useState(!1);to(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?FW.createPortal(x.jsx(In.div,{...r,ref:e}),o):null});vN.displayName=Xce;function Yce(t,e){return P.useReducer((n,r)=>e[n][r]??n,t)}var Pm=t=>{const{present:e,children:n}=t,r=Zce(e),s=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),i=zr(r.ref,Jce(s));return typeof n=="function"||r.isPresent?P.cloneElement(s,{ref:i}):null};Pm.displayName="Presence";function Zce(t){const[e,n]=P.useState(),r=P.useRef(null),s=P.useRef(t),i=P.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Yce(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const c=IC(r.current);i.current=a==="mounted"?c:"none"},[a]),to(()=>{const c=r.current,u=s.current;if(u!==t){const d=i.current,h=IC(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),to(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,A=h=>{const m=IC(r.current).includes(h.animationName);if(h.target===e&&m&&(l("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},d=h=>{h.target===e&&(i.current=IC(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",A),e.addEventListener("animationend",A),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",A),e.removeEventListener("animationend",A)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:P.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function IC(t){return(t==null?void 0:t.animationName)||"none"}function Jce(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var eue=UL[" useInsertionEffect ".trim().toString()]||to;function V0({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=tue({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const u=P.useRef(t!==void 0);P.useEffect(()=>{const A=u.current;A!==a&&console.warn(`${r} is changing from ${A?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=P.useCallback(u=>{var A;if(a){const d=nue(u)?u(t):u;d!==t&&((A=o.current)==null||A.call(o,d))}else i(u)},[a,t,i,o]);return[l,c]}function tue({defaultProp:t,onChange:e}){const[n,r]=P.useState(t),s=P.useRef(n),i=P.useRef(e);return eue(()=>{i.current=e},[e]),P.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function nue(t){return typeof t=="function"}var MW=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rue="VisuallyHidden",xN=P.forwardRef((t,e)=>x.jsx(In.span,{...t,ref:e,style:{...MW,...t.style}}));xN.displayName=rue;var sue=xN,TD="ToastProvider",[FD,iue,oue]=kD("Toast"),[QW,Fnt]=_f("Toast",[oue]),[aue,bN]=QW(TD),jW=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=P.useState(null),[c,u]=P.useState(0),A=P.useRef(!1),d=P.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${TD}\`. Expected non-empty \`string\`.`),x.jsx(FD.Provider,{scope:e,children:x.jsx(aue,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:P.useCallback(()=>u(h=>h+1),[]),onToastRemove:P.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:A,isClosePausedRef:d,children:o})})};jW.displayName=TD;var HW="ToastViewport",lue=["F8"],e4="toast.viewportPause",t4="toast.viewportResume",zW=P.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=lue,label:s="Notifications ({hotkey})",...i}=t,o=bN(HW,n),a=iue(n),l=P.useRef(null),c=P.useRef(null),u=P.useRef(null),A=P.useRef(null),d=zr(e,A,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;P.useEffect(()=>{const y=g=>{var b;r.length!==0&&r.every(C=>g[C]||g.code===C)&&((b=A.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),P.useEffect(()=>{const y=l.current,g=A.current;if(p&&y&&g){const v=()=>{if(!o.isClosePausedRef.current){const I=new CustomEvent(e4);g.dispatchEvent(I),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const I=new CustomEvent(t4);g.dispatchEvent(I),o.isClosePausedRef.current=!1}},C=I=>{!y.contains(I.relatedTarget)&&b()},_=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",v),y.addEventListener("focusout",C),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",_),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",C),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",_),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[p,o.isClosePausedRef]);const m=P.useCallback(({tabbingDirection:y})=>{const v=a().map(b=>{const C=b.ref.current,_=[C,...xue(C)];return y==="forwards"?_:_.reverse()});return(y==="forwards"?v.reverse():v).flat()},[a]);return P.useEffect(()=>{const y=A.current;if(y){const g=v=>{var _,I,T;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const F=document.activeElement,D=v.shiftKey;if(v.target===y&&D){(_=c.current)==null||_.focus();return}const U=m({tabbingDirection:D?"backwards":"forwards"}),W=U.findIndex($=>$===F);AT(U.slice(W+1))?v.preventDefault():D?(I=c.current)==null||I.focus():(T=u.current)==null||T.focus()}};return y.addEventListener("keydown",g),()=>y.removeEventListener("keydown",g)}},[a,m]),x.jsxs(qce,{ref:l,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&x.jsx(n4,{ref:c,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});AT(y)}}),x.jsx(FD.Slot,{scope:n,children:x.jsx(In.ol,{tabIndex:-1,...i,ref:d})}),p&&x.jsx(n4,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});AT(y)}})]})});zW.displayName=HW;var VW="ToastFocusProxy",n4=P.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=bN(VW,n);return x.jsx(xN,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});n4.displayName=VW;var Qx="Toast",cue="toast.swipeStart",uue="toast.swipeMove",Aue="toast.swipeCancel",due="toast.swipeEnd",WW=P.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=V0({prop:r,defaultProp:s??!0,onChange:i,caller:Qx});return x.jsx(Pm,{present:n||a,children:x.jsx(pue,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:cc(t.onPause),onResume:cc(t.onResume),onSwipeStart:on(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:on(t.onSwipeMove,c=>{const{x:u,y:A}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${A}px`)}),onSwipeCancel:on(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:on(t.onSwipeEnd,c=>{const{x:u,y:A}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${A}px`),l(!1)})})})});WW.displayName=Qx;var[hue,fue]=QW(Qx,{onClose(){}}),pue=P.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:A,onSwipeCancel:d,onSwipeEnd:h,...p}=t,m=bN(Qx,n),[y,g]=P.useState(null),v=zr(e,$=>g($)),b=P.useRef(null),C=P.useRef(null),_=s||m.duration,I=P.useRef(0),T=P.useRef(_),F=P.useRef(0),{onToastAdd:D,onToastRemove:j}=m,O=cc(()=>{var J;(y==null?void 0:y.contains(document.activeElement))&&((J=m.viewport)==null||J.focus()),o()}),U=P.useCallback($=>{!$||$===1/0||(window.clearTimeout(F.current),I.current=new Date().getTime(),F.current=window.setTimeout(O,$))},[O]);P.useEffect(()=>{const $=m.viewport;if($){const J=()=>{U(T.current),c==null||c()},Z=()=>{const oe=new Date().getTime()-I.current;T.current=T.current-oe,window.clearTimeout(F.current),l==null||l()};return $.addEventListener(e4,Z),$.addEventListener(t4,J),()=>{$.removeEventListener(e4,Z),$.removeEventListener(t4,J)}}},[m.viewport,_,l,c,U]),P.useEffect(()=>{i&&!m.isClosePausedRef.current&&U(_)},[i,_,m.isClosePausedRef,U]),P.useEffect(()=>(D(),()=>j()),[D,j]);const W=P.useMemo(()=>y?JW(y):null,[y]);return m.viewport?x.jsxs(x.Fragment,{children:[W&&x.jsx(mue,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),x.jsx(hue,{scope:n,onClose:O,children:Rm.createPortal(x.jsx(FD.ItemSlot,{scope:n,children:x.jsx(Kce,{asChild:!0,onEscapeKeyDown:on(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||O(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:x.jsx(In.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...p,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:on(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:on(t.onPointerDown,$=>{$.button===0&&(b.current={x:$.clientX,y:$.clientY})}),onPointerMove:on(t.onPointerMove,$=>{if(!b.current)return;const J=$.clientX-b.current.x,Z=$.clientY-b.current.y,oe=!!C.current,V=["left","right"].includes(m.swipeDirection),Y=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,ce=V?Y(0,J):0,he=V?0:Y(0,Z),z=$.pointerType==="touch"?10:2,G={x:ce,y:he},X={originalEvent:$,delta:G};oe?(C.current=G,EC(uue,A,X,{discrete:!1})):FM(G,m.swipeDirection,z)?(C.current=G,EC(cue,u,X,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(J)>z||Math.abs(Z)>z)&&(b.current=null)}),onPointerUp:on(t.onPointerUp,$=>{const J=C.current,Z=$.target;if(Z.hasPointerCapture($.pointerId)&&Z.releasePointerCapture($.pointerId),C.current=null,b.current=null,J){const oe=$.currentTarget,V={originalEvent:$,delta:J};FM(J,m.swipeDirection,m.swipeThreshold)?EC(due,h,V,{discrete:!0}):EC(Aue,d,V,{discrete:!0}),oe.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),mue=t=>{const{__scopeToast:e,children:n,...r}=t,s=bN(Qx,e),[i,o]=P.useState(!1),[a,l]=P.useState(!1);return wue(()=>o(!0)),P.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:x.jsx(vN,{asChild:!0,children:x.jsx(xN,{...r,children:i&&x.jsxs(x.Fragment,{children:[s.label," ",n]})})})},gue="ToastTitle",GW=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return x.jsx(In.div,{...r,ref:e})});GW.displayName=gue;var yue="ToastDescription",KW=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return x.jsx(In.div,{...r,ref:e})});KW.displayName=yue;var qW="ToastAction",XW=P.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?x.jsx(ZW,{altText:n,asChild:!0,children:x.jsx(LD,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${qW}\`. Expected non-empty \`string\`.`),null)});XW.displayName=qW;var YW="ToastClose",LD=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=fue(YW,n);return x.jsx(ZW,{asChild:!0,children:x.jsx(In.button,{type:"button",...r,ref:e,onClick:on(t.onClick,s.onClose)})})});LD.displayName=YW;var ZW=P.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return x.jsx(In.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function JW(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),vue(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...JW(r))}}),e}function EC(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?PW(s,i):s.dispatchEvent(i)}var FM=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function wue(t=()=>{}){const e=cc(t);to(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function vue(t){return t.nodeType===t.ELEMENT_NODE}function xue(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function AT(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var bue=jW,eG=zW,tG=WW,nG=GW,rG=KW,sG=XW,iG=LD;function oG(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=oG(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function aG(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=oG(t))&&(r&&(r+=" "),r+=e);return r}const LM=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,DM=aG,DD=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return DM(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],A=i==null?void 0:i[c];if(u===null)return null;const d=LM(u)||LM(A);return s[c][d]}),a=n&&Object.entries(n).reduce((c,u)=>{let[A,d]=u;return d===void 0||(c[A]=d),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:A,className:d,...h}=u;return Object.entries(h).every(p=>{let[m,y]=p;return Array.isArray(y)?y.includes({...i,...a}[m]):{...i,...a}[m]===y})?[...c,A,d]:c},[]);return DM(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lG=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>P.createElement("svg",{ref:l,...Sue,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:lG("lucide",s),...a},[...o.map(([c,u])=>P.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=(t,e)=>{const n=P.forwardRef(({className:r,...s},i)=>P.createElement(Bue,{ref:i,iconNode:e,className:lG(`lucide-${Cue(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=nn("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=nn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=nn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=nn("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=nn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=nn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=nn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=nn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=nn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=nn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=nn("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=nn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=nn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=nn("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=nn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=nn("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=nn("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=nn("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=nn("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=nn("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=nn("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=nn("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=nn("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=nn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=nn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=nn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=nn("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=nn("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=nn("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=nn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=nn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=nn("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=nn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=nn("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=nn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=nn("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=nn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=nn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=nn("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=nn("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=nn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=nn("SwitchCamera",[["path",{d:"M11 19H4a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h5",key:"mtk2lu"}],["path",{d:"M13 5h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-5",key:"120jsl"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m18 22-3-3 3-3",key:"kgdoj7"}],["path",{d:"m6 2 3 3-3 3",key:"1fnbkv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=nn("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hue=nn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=nn("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zue=nn("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vue=nn("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=nn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=nn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=nn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=nn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=nn("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=nn("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),UD="-",Kue=t=>{const e=Xue(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(UD);return a[0]===""&&a.length!==1&&a.shift(),gG(a,e)||que(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},gG=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?gG(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(UD);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},OM=/^\[(.+)\]$/,que=t=>{if(OM.test(t)){const e=OM.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Xue=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Zue(Object.entries(t.classGroups),n).forEach(([i,o])=>{i4(o,r,i,e)}),r},i4=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:$M(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Yue(s)){i4(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{i4(o,$M(e,i),n,r)})})},$M=(t,e)=>{let n=t;return e.split(UD).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Yue=t=>t.isThemeGetter,Zue=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,Jue=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},yG="!",eAe=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,A;for(let y=0;y<a.length;y++){let g=a[y];if(c===0){if(g===s&&(r||a.slice(y,y+i)===e)){l.push(a.slice(u,y)),u=y+i;continue}if(g==="/"){A=y;continue}}g==="["?c++:g==="]"&&c--}const d=l.length===0?a:a.substring(u),h=d.startsWith(yG),p=h?d.substring(1):d,m=A&&A>u?A-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},tAe=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},nAe=t=>({cache:Jue(t.cacheSize),parseClassName:eAe(t),...Kue(t)}),rAe=/\s+/,sAe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(rAe);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:A,baseClassName:d,maybePostfixModifierPosition:h}=n(c);let p=!!h,m=r(p?d.substring(0,h):d);if(!m){if(!p){a=c+(a.length>0?" "+a:a);continue}if(m=r(d),!m){a=c+(a.length>0?" "+a:a);continue}p=!1}const y=tAe(u).join(":"),g=A?y+yG:y,v=g+m;if(i.includes(v))continue;i.push(v);const b=s(m,p);for(let C=0;C<b.length;++C){const _=b[C];i.push(g+_)}a=c+(a.length>0?" "+a:a)}return a};function iAe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=wG(e))&&(r&&(r+=" "),r+=n);return r}const wG=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=wG(t[r]))&&(n&&(n+=" "),n+=e);return n};function oAe(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,A)=>A(u),t());return n=nAe(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=sAe(l,n);return s(l,u),u}return function(){return i(iAe.apply(null,arguments))}}const qr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},vG=/^\[(?:([a-z-]+):)?(.+)\]$/i,aAe=/^\d+\/\d+$/,lAe=new Set(["px","full","screen"]),cAe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uAe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AAe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dAe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hAe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,HA=t=>f0(t)||lAe.has(t)||aAe.test(t),sh=t=>wy(t,"length",xAe),f0=t=>!!t&&!Number.isNaN(Number(t)),fT=t=>wy(t,"number",f0),Aw=t=>!!t&&Number.isInteger(Number(t)),fAe=t=>t.endsWith("%")&&f0(t.slice(0,-1)),Bn=t=>vG.test(t),ih=t=>cAe.test(t),pAe=new Set(["length","size","percentage"]),mAe=t=>wy(t,pAe,xG),gAe=t=>wy(t,"position",xG),yAe=new Set(["image","url"]),wAe=t=>wy(t,yAe,CAe),vAe=t=>wy(t,"",bAe),dw=()=>!0,wy=(t,e,n)=>{const r=vG.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},xAe=t=>uAe.test(t)&&!AAe.test(t),xG=()=>!1,bAe=t=>dAe.test(t),CAe=t=>hAe.test(t),SAe=()=>{const t=qr("colors"),e=qr("spacing"),n=qr("blur"),r=qr("brightness"),s=qr("borderColor"),i=qr("borderRadius"),o=qr("borderSpacing"),a=qr("borderWidth"),l=qr("contrast"),c=qr("grayscale"),u=qr("hueRotate"),A=qr("invert"),d=qr("gap"),h=qr("gradientColorStops"),p=qr("gradientColorStopPositions"),m=qr("inset"),y=qr("margin"),g=qr("opacity"),v=qr("padding"),b=qr("saturate"),C=qr("scale"),_=qr("sepia"),I=qr("skew"),T=qr("space"),F=qr("translate"),D=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Bn,e],U=()=>[Bn,e],W=()=>["",HA,sh],$=()=>["auto",f0,Bn],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",Bn],ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],he=()=>[f0,Bn];return{cacheSize:500,separator:":",theme:{colors:[dw],spacing:[HA,sh],blur:["none","",ih,Bn],brightness:he(),borderColor:[t],borderRadius:["none","","full",ih,Bn],borderSpacing:U(),borderWidth:W(),contrast:he(),grayscale:Y(),hueRotate:he(),invert:Y(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[fAe,sh],inset:O(),margin:O(),opacity:he(),padding:U(),saturate:he(),scale:he(),sepia:Y(),skew:he(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Bn]}],container:["container"],columns:[{columns:[ih]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Bn]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Aw,Bn]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Bn]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",Aw,Bn]}],"grid-cols":[{"grid-cols":[dw]}],"col-start-end":[{col:["auto",{span:["full",Aw,Bn]},Bn]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[dw]}],"row-start-end":[{row:["auto",{span:[Aw,Bn]},Bn]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Bn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Bn]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Bn,e]}],"min-w":[{"min-w":[Bn,e,"min","max","fit"]}],"max-w":[{"max-w":[Bn,e,"none","full","min","max","fit","prose",{screen:[ih]},ih]}],h:[{h:[Bn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Bn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Bn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Bn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ih,sh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fT]}],"font-family":[{font:[dw]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Bn]}],"line-clamp":[{"line-clamp":["none",f0,fT]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",HA,Bn]}],"list-image":[{"list-image":["none",Bn]}],"list-style-type":[{list:["none","disc","decimal",Bn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",HA,sh]}],"underline-offset":[{"underline-offset":["auto",HA,Bn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Bn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Bn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),gAe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mAe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wAe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[HA,Bn]}],"outline-w":[{outline:[HA,sh]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[HA,sh]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ih,vAe]}],"shadow-color":[{shadow:[dw]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ih,Bn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[A]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[A]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Bn]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",Bn]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",Bn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Aw,Bn]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Bn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Bn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Bn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[HA,sh,fT]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BAe=oAe(SAe);function tr(...t){return BAe(aG(t))}const _Ae=bue,bG=P.forwardRef(({className:t,...e},n)=>x.jsx(eG,{ref:n,className:tr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));bG.displayName=eG.displayName;const NAe=DD("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),CG=P.forwardRef(({className:t,variant:e,...n},r)=>x.jsx(tG,{ref:r,className:tr(NAe({variant:e}),t),...n}));CG.displayName=tG.displayName;const IAe=P.forwardRef(({className:t,...e},n)=>x.jsx(sG,{ref:n,className:tr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));IAe.displayName=sG.displayName;const SG=P.forwardRef(({className:t,...e},n)=>x.jsx(iG,{ref:n,className:tr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(jx,{className:"h-4 w-4"})}));SG.displayName=iG.displayName;const BG=P.forwardRef(({className:t,...e},n)=>x.jsx(nG,{ref:n,className:tr("text-sm font-semibold",t),...e}));BG.displayName=nG.displayName;const _G=P.forwardRef(({className:t,...e},n)=>x.jsx(rG,{ref:n,className:tr("text-sm opacity-90",t),...e}));_G.displayName=rG.displayName;function EAe(){const{toasts:t}=Tce();return x.jsxs(_Ae,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return x.jsxs(CG,{...i,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(BG,{children:n}),r&&x.jsx(_G,{children:r})]}),s,x.jsx(SG,{})]},e)}),x.jsx(bG,{})]})}var UM=["light","dark"],kAe="(prefers-color-scheme: dark)",TAe=P.createContext(void 0),FAe={setTheme:t=>{},themes:[]},LAe=()=>{var t;return(t=P.useContext(TAe))!=null?t:FAe};P.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,A=s?UM.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(p,m=!1,y=!0)=>{let g=o?o[p]:p,v=m?p+"|| ''":`'${g}'`,b="";return s&&y&&!m&&UM.includes(p)&&(b+=`d.style.colorScheme = '${p}';`),n==="class"?m||g?b+=`c.add(${v})`:b+="null":g&&(b+=`d[s](n,${v})`),b},h=t?`!function(){${u}${d(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${kAe}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}${c?"":"else{"+d(i,!1,!1)+"}"}${A}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}else{${d(i,!1,!1)};}${A}}catch(t){}}();`;return P.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var DAe=t=>{switch(t){case"success":return OAe;case"info":return UAe;case"warning":return $Ae;case"error":return MAe;default:return null}},RAe=Array(12).fill(0),PAe=({visible:t,className:e})=>ut.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ut.createElement("div",{className:"sonner-spinner"},RAe.map((n,r)=>ut.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),OAe=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ut.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),$Ae=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ut.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),UAe=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ut.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),MAe=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ut.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),QAe=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ut.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ut.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),jAe=()=>{let[t,e]=ut.useState(document.hidden);return ut.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},o4=1,HAe=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:o4++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],ut.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(VAe(c)&&!c.ok){i=!1;let u=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,A=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:u,description:A})}else if(n.success!==void 0){i=!1;let u=typeof n.success=="function"?await n.success(c):n.success,A=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:u,description:A})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let u=typeof n.error=="function"?await n.error(c):n.error,A=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:u,description:A})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||o4++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Sa=new HAe,zAe=(t,e)=>{let n=(e==null?void 0:e.id)||o4++;return Sa.addToast({title:t,...e,id:n}),n},VAe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",WAe=zAe,GAe=()=>Sa.toasts,KAe=()=>Sa.getActiveToasts(),On=Object.assign(WAe,{success:Sa.success,info:Sa.info,warning:Sa.warning,error:Sa.error,custom:Sa.custom,message:Sa.message,promise:Sa.promise,dismiss:Sa.dismiss,loading:Sa.loading},{getHistory:GAe,getToasts:KAe});function qAe(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}qAe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function kC(t){return t.label!==void 0}var XAe=3,YAe="32px",ZAe="16px",MM=4e3,JAe=356,ede=14,tde=20,nde=200;function $c(...t){return t.filter(Boolean).join(" ")}function rde(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var sde=t=>{var e,n,r,s,i,o,a,l,c,u,A;let{invert:d,toast:h,unstyled:p,interacting:m,setHeights:y,visibleToasts:g,heights:v,index:b,toasts:C,expanded:_,removeToast:I,defaultRichColors:T,closeButton:F,style:D,cancelButtonStyle:j,actionButtonStyle:O,className:U="",descriptionClassName:W="",duration:$,position:J,gap:Z,loadingIcon:oe,expandByDefault:V,classNames:Y,icons:ce,closeButtonAriaLabel:he="Close toast",pauseWhenPageIsHidden:z}=t,[G,X]=ut.useState(null),[re,ue]=ut.useState(null),[Ae,we]=ut.useState(!1),[Ce,Ne]=ut.useState(!1),[ke,je]=ut.useState(!1),[Ge,ot]=ut.useState(!1),[le,Xe]=ut.useState(!1),[dt,Ue]=ut.useState(0),[Re,Ke]=ut.useState(0),Ze=ut.useRef(h.duration||$||MM),st=ut.useRef(null),Me=ut.useRef(null),St=b===0,Bt=b+1<=g,ct=h.type,Nt=h.dismissible!==!1,Dt=h.className||"",gt=h.descriptionClassName||"",Vt=ut.useMemo(()=>v.findIndex(Kt=>Kt.toastId===h.id)||0,[v,h.id]),xt=ut.useMemo(()=>{var Kt;return(Kt=h.closeButton)!=null?Kt:F},[h.closeButton,F]),kn=ut.useMemo(()=>h.duration||$||MM,[h.duration,$]),dn=ut.useRef(0),Wt=ut.useRef(0),Jt=ut.useRef(0),Tn=ut.useRef(null),[Rt,Vn]=J.split("-"),Yt=ut.useMemo(()=>v.reduce((Kt,tn,vn)=>vn>=Vt?Kt:Kt+tn.height,0),[v,Vt]),rn=jAe(),nr=h.invert||d,ln=ct==="loading";Wt.current=ut.useMemo(()=>Vt*Z+Yt,[Vt,Yt]),ut.useEffect(()=>{Ze.current=kn},[kn]),ut.useEffect(()=>{we(!0)},[]),ut.useEffect(()=>{let Kt=Me.current;if(Kt){let tn=Kt.getBoundingClientRect().height;return Ke(tn),y(vn=>[{toastId:h.id,height:tn,position:h.position},...vn]),()=>y(vn=>vn.filter(qn=>qn.toastId!==h.id))}},[y,h.id]),ut.useLayoutEffect(()=>{if(!Ae)return;let Kt=Me.current,tn=Kt.style.height;Kt.style.height="auto";let vn=Kt.getBoundingClientRect().height;Kt.style.height=tn,Ke(vn),y(qn=>qn.find(yt=>yt.toastId===h.id)?qn.map(yt=>yt.toastId===h.id?{...yt,height:vn}:yt):[{toastId:h.id,height:vn,position:h.position},...qn])},[Ae,h.title,h.description,y,h.id]);let Et=ut.useCallback(()=>{Ne(!0),Ue(Wt.current),y(Kt=>Kt.filter(tn=>tn.toastId!==h.id)),setTimeout(()=>{I(h)},nde)},[h,I,y,Wt]);ut.useEffect(()=>{if(h.promise&&ct==="loading"||h.duration===1/0||h.type==="loading")return;let Kt;return _||m||z&&rn?(()=>{if(Jt.current<dn.current){let tn=new Date().getTime()-dn.current;Ze.current=Ze.current-tn}Jt.current=new Date().getTime()})():Ze.current!==1/0&&(dn.current=new Date().getTime(),Kt=setTimeout(()=>{var tn;(tn=h.onAutoClose)==null||tn.call(h,h),Et()},Ze.current)),()=>clearTimeout(Kt)},[_,m,h,ct,z,rn,Et]),ut.useEffect(()=>{h.delete&&Et()},[Et,h.delete]);function sn(){var Kt,tn,vn;return ce!=null&&ce.loading?ut.createElement("div",{className:$c(Y==null?void 0:Y.loader,(Kt=h==null?void 0:h.classNames)==null?void 0:Kt.loader,"sonner-loader"),"data-visible":ct==="loading"},ce.loading):oe?ut.createElement("div",{className:$c(Y==null?void 0:Y.loader,(tn=h==null?void 0:h.classNames)==null?void 0:tn.loader,"sonner-loader"),"data-visible":ct==="loading"},oe):ut.createElement(PAe,{className:$c(Y==null?void 0:Y.loader,(vn=h==null?void 0:h.classNames)==null?void 0:vn.loader),visible:ct==="loading"})}return ut.createElement("li",{tabIndex:0,ref:Me,className:$c(U,Dt,Y==null?void 0:Y.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,Y==null?void 0:Y.default,Y==null?void 0:Y[ct],(n=h==null?void 0:h.classNames)==null?void 0:n[ct]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:T,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":Ae,"data-promise":!!h.promise,"data-swiped":le,"data-removed":Ce,"data-visible":Bt,"data-y-position":Rt,"data-x-position":Vn,"data-index":b,"data-front":St,"data-swiping":ke,"data-dismissible":Nt,"data-type":ct,"data-invert":nr,"data-swipe-out":Ge,"data-swipe-direction":re,"data-expanded":!!(_||V&&Ae),style:{"--index":b,"--toasts-before":b,"--z-index":C.length-b,"--offset":`${Ce?dt:Wt.current}px`,"--initial-height":V?"auto":`${Re}px`,...D,...h.style},onDragEnd:()=>{je(!1),X(null),Tn.current=null},onPointerDown:Kt=>{ln||!Nt||(st.current=new Date,Ue(Wt.current),Kt.target.setPointerCapture(Kt.pointerId),Kt.target.tagName!=="BUTTON"&&(je(!0),Tn.current={x:Kt.clientX,y:Kt.clientY}))},onPointerUp:()=>{var Kt,tn,vn,qn;if(Ge||!Nt)return;Tn.current=null;let yt=Number(((Kt=Me.current)==null?void 0:Kt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Br=Number(((tn=Me.current)==null?void 0:tn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ir=new Date().getTime()-((vn=st.current)==null?void 0:vn.getTime()),Zn=G==="x"?yt:Br,cr=Math.abs(Zn)/Ir;if(Math.abs(Zn)>=tde||cr>.11){Ue(Wt.current),(qn=h.onDismiss)==null||qn.call(h,h),ue(G==="x"?yt>0?"right":"left":Br>0?"down":"up"),Et(),ot(!0),Xe(!1);return}je(!1),X(null)},onPointerMove:Kt=>{var tn,vn,qn,yt;if(!Tn.current||!Nt||((tn=window.getSelection())==null?void 0:tn.toString().length)>0)return;let Br=Kt.clientY-Tn.current.y,Ir=Kt.clientX-Tn.current.x,Zn=(vn=t.swipeDirections)!=null?vn:rde(J);!G&&(Math.abs(Ir)>1||Math.abs(Br)>1)&&X(Math.abs(Ir)>Math.abs(Br)?"x":"y");let cr={x:0,y:0};G==="y"?(Zn.includes("top")||Zn.includes("bottom"))&&(Zn.includes("top")&&Br<0||Zn.includes("bottom")&&Br>0)&&(cr.y=Br):G==="x"&&(Zn.includes("left")||Zn.includes("right"))&&(Zn.includes("left")&&Ir<0||Zn.includes("right")&&Ir>0)&&(cr.x=Ir),(Math.abs(cr.x)>0||Math.abs(cr.y)>0)&&Xe(!0),(qn=Me.current)==null||qn.style.setProperty("--swipe-amount-x",`${cr.x}px`),(yt=Me.current)==null||yt.style.setProperty("--swipe-amount-y",`${cr.y}px`)}},xt&&!h.jsx?ut.createElement("button",{"aria-label":he,"data-disabled":ln,"data-close-button":!0,onClick:ln||!Nt?()=>{}:()=>{var Kt;Et(),(Kt=h.onDismiss)==null||Kt.call(h,h)},className:$c(Y==null?void 0:Y.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},(i=ce==null?void 0:ce.close)!=null?i:QAe):null,h.jsx||P.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:ut.createElement(ut.Fragment,null,ct||h.icon||h.promise?ut.createElement("div",{"data-icon":"",className:$c(Y==null?void 0:Y.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||sn():null,h.type!=="loading"?h.icon||(ce==null?void 0:ce[ct])||DAe(ct):null):null,ut.createElement("div",{"data-content":"",className:$c(Y==null?void 0:Y.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},ut.createElement("div",{"data-title":"",className:$c(Y==null?void 0:Y.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?ut.createElement("div",{"data-description":"",className:$c(W,gt,Y==null?void 0:Y.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),P.isValidElement(h.cancel)?h.cancel:h.cancel&&kC(h.cancel)?ut.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||j,onClick:Kt=>{var tn,vn;kC(h.cancel)&&Nt&&((vn=(tn=h.cancel).onClick)==null||vn.call(tn,Kt),Et())},className:$c(Y==null?void 0:Y.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,P.isValidElement(h.action)?h.action:h.action&&kC(h.action)?ut.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||O,onClick:Kt=>{var tn,vn;kC(h.action)&&((vn=(tn=h.action).onClick)==null||vn.call(tn,Kt),!Kt.defaultPrevented&&Et())},className:$c(Y==null?void 0:Y.actionButton,(A=h==null?void 0:h.classNames)==null?void 0:A.actionButton)},h.action.label):null))};function QM(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function ide(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?ZAe:YAe;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var ode=P.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:A,duration:d,style:h,visibleToasts:p=XAe,toastOptions:m,dir:y=QM(),gap:g=ede,loadingIcon:v,icons:b,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:_}=t,[I,T]=ut.useState([]),F=ut.useMemo(()=>Array.from(new Set([r].concat(I.filter(z=>z.position).map(z=>z.position)))),[I,r]),[D,j]=ut.useState([]),[O,U]=ut.useState(!1),[W,$]=ut.useState(!1),[J,Z]=ut.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=ut.useRef(null),V=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),Y=ut.useRef(null),ce=ut.useRef(!1),he=ut.useCallback(z=>{T(G=>{var X;return(X=G.find(re=>re.id===z.id))!=null&&X.delete||Sa.dismiss(z.id),G.filter(({id:re})=>re!==z.id)})},[]);return ut.useEffect(()=>Sa.subscribe(z=>{if(z.dismiss){T(G=>G.map(X=>X.id===z.id?{...X,delete:!0}:X));return}setTimeout(()=>{FW.flushSync(()=>{T(G=>{let X=G.findIndex(re=>re.id===z.id);return X!==-1?[...G.slice(0,X),{...G[X],...z},...G.slice(X+1)]:[z,...G]})})})}),[]),ut.useEffect(()=>{if(u!=="system"){Z(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:G})=>{Z(G?"dark":"light")})}catch{z.addListener(({matches:X})=>{try{Z(X?"dark":"light")}catch(re){console.error(re)}})}},[u]),ut.useEffect(()=>{I.length<=1&&U(!1)},[I]),ut.useEffect(()=>{let z=G=>{var X,re;s.every(ue=>G[ue]||G.code===ue)&&(U(!0),(X=oe.current)==null||X.focus()),G.code==="Escape"&&(document.activeElement===oe.current||(re=oe.current)!=null&&re.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[s]),ut.useEffect(()=>{if(oe.current)return()=>{Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null,ce.current=!1)}},[oe.current]),ut.createElement("section",{ref:e,"aria-label":`${C} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((z,G)=>{var X;let[re,ue]=z.split("-");return I.length?ut.createElement("ol",{key:z,dir:y==="auto"?QM():y,tabIndex:-1,ref:oe,className:a,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":re,"data-lifted":O&&I.length>1&&!i,"data-x-position":ue,style:{"--front-toast-height":`${((X=D[0])==null?void 0:X.height)||0}px`,"--width":`${JAe}px`,"--gap":`${g}px`,...h,...ide(l,c)},onBlur:Ae=>{ce.current&&!Ae.currentTarget.contains(Ae.relatedTarget)&&(ce.current=!1,Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null))},onFocus:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||ce.current||(ce.current=!0,Y.current=Ae.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{W||U(!1)},onDragEnd:()=>U(!1),onPointerDown:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},I.filter(Ae=>!Ae.position&&G===0||Ae.position===z).map((Ae,we)=>{var Ce,Ne;return ut.createElement(sde,{key:Ae.id,icons:b,index:we,toast:Ae,defaultRichColors:A,duration:(Ce=m==null?void 0:m.duration)!=null?Ce:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:p,closeButton:(Ne=m==null?void 0:m.closeButton)!=null?Ne:o,interacting:W,position:z,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:he,toasts:I.filter(ke=>ke.position==Ae.position),heights:D.filter(ke=>ke.position==Ae.position),setHeights:j,expandByDefault:i,gap:g,loadingIcon:v,expanded:O,pauseWhenPageIsHidden:_,swipeDirections:t.swipeDirections})})):null}))});const ade=({...t})=>{const{theme:e="system"}=LAe();return x.jsx(ode,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var lde=UL[" useId ".trim().toString()]||(()=>{}),cde=0;function Gh(t){const[e,n]=P.useState(lde());return to(()=>{n(r=>r??String(cde++))},[t]),e?`radix-${e}`:""}const ude=["top","right","bottom","left"],of=Math.min,il=Math.max,zB=Math.round,TC=Math.floor,aA=t=>({x:t,y:t}),Ade={left:"right",right:"left",bottom:"top",top:"bottom"},dde={start:"end",end:"start"};function a4(t,e,n){return il(t,of(e,n))}function pd(t,e){return typeof t=="function"?t(e):t}function md(t){return t.split("-")[0]}function vy(t){return t.split("-")[1]}function MD(t){return t==="x"?"y":"x"}function QD(t){return t==="y"?"height":"width"}const hde=new Set(["top","bottom"]);function eA(t){return hde.has(md(t))?"y":"x"}function jD(t){return MD(eA(t))}function fde(t,e,n){n===void 0&&(n=!1);const r=vy(t),s=jD(t),i=QD(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=VB(o)),[o,VB(o)]}function pde(t){const e=VB(t);return[l4(t),e,l4(e)]}function l4(t){return t.replace(/start|end/g,e=>dde[e])}const jM=["left","right"],HM=["right","left"],mde=["top","bottom"],gde=["bottom","top"];function yde(t,e,n){switch(t){case"top":case"bottom":return n?e?HM:jM:e?jM:HM;case"left":case"right":return e?mde:gde;default:return[]}}function wde(t,e,n,r){const s=vy(t);let i=yde(md(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(l4)))),i}function VB(t){return t.replace(/left|right|bottom|top/g,e=>Ade[e])}function vde(t){return{top:0,right:0,bottom:0,left:0,...t}}function NG(t){return typeof t!="number"?vde(t):{top:t,right:t,bottom:t,left:t}}function WB(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function zM(t,e,n){let{reference:r,floating:s}=t;const i=eA(e),o=jD(e),a=QD(o),l=md(e),c=i==="y",u=r.x+r.width/2-s.width/2,A=r.y+r.height/2-s.height/2,d=r[a]/2-s[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-s.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:A};break;case"left":h={x:r.x-s.width,y:A};break;default:h={x:r.x,y:r.y}}switch(vy(e)){case"start":h[o]-=d*(n&&c?-1:1);break;case"end":h[o]+=d*(n&&c?-1:1);break}return h}const xde=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:A}=zM(c,r,l),d=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:y,fn:g}=a[m],{x:v,y:b,data:C,reset:_}=await g({x:u,y:A,initialPlacement:r,placement:d,strategy:s,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});u=v??u,A=b??A,h={...h,[y]:{...h[y],...C}},_&&p<=50&&(p++,typeof _=="object"&&(_.placement&&(d=_.placement),_.rects&&(c=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):_.rects),{x:u,y:A}=zM(c,d,l)),m=-1)}return{x:u,y:A,placement:d,strategy:s,middlewareData:h}};async function jv(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:A="floating",altBoundary:d=!1,padding:h=0}=pd(e,t),p=NG(h),y=a[d?A==="floating"?"reference":"floating":A],g=WB(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=A==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=WB(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:l}):v);return{top:(g.top-_.top+p.top)/C.y,bottom:(_.bottom-g.bottom+p.bottom)/C.y,left:(g.left-_.left+p.left)/C.x,right:(_.right-g.right+p.right)/C.x}}const bde=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=pd(t,e)||{};if(c==null)return{};const A=NG(u),d={x:n,y:r},h=jD(s),p=QD(h),m=await o.getDimensions(c),y=h==="y",g=y?"top":"left",v=y?"bottom":"right",b=y?"clientHeight":"clientWidth",C=i.reference[p]+i.reference[h]-d[h]-i.floating[p],_=d[h]-i.reference[h],I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=I?I[b]:0;(!T||!await(o.isElement==null?void 0:o.isElement(I)))&&(T=a.floating[b]||i.floating[p]);const F=C/2-_/2,D=T/2-m[p]/2-1,j=of(A[g],D),O=of(A[v],D),U=j,W=T-m[p]-O,$=T/2-m[p]/2+F,J=a4(U,$,W),Z=!l.arrow&&vy(s)!=null&&$!==J&&i.reference[p]/2-($<U?j:O)-m[p]/2<0,oe=Z?$<U?$-U:$-W:0;return{[h]:d[h]+oe,data:{[h]:J,centerOffset:$-J-oe,...Z&&{alignmentOffset:oe}},reset:Z}}}),Cde=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:A=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...y}=pd(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const g=md(s),v=eA(a),b=md(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=d||(b||!m?[VB(a)]:pde(a)),I=p!=="none";!d&&I&&_.push(...wde(a,m,p,C));const T=[a,..._],F=await jv(e,y),D=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&D.push(F[g]),A){const $=fde(s,o,C);D.push(F[$[0]],F[$[1]])}if(j=[...j,{placement:s,overflows:D}],!D.every($=>$<=0)){var O,U;const $=(((O=i.flip)==null?void 0:O.index)||0)+1,J=T[$];if(J&&(!(A==="alignment"?v!==eA(J):!1)||j.every(V=>V.overflows[0]>0&&eA(V.placement)===v)))return{data:{index:$,overflows:j},reset:{placement:J}};let Z=(U=j.filter(oe=>oe.overflows[0]<=0).sort((oe,V)=>oe.overflows[1]-V.overflows[1])[0])==null?void 0:U.placement;if(!Z)switch(h){case"bestFit":{var W;const oe=(W=j.filter(V=>{if(I){const Y=eA(V.placement);return Y===v||Y==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(Y=>Y>0).reduce((Y,ce)=>Y+ce,0)]).sort((V,Y)=>V[1]-Y[1])[0])==null?void 0:W[0];oe&&(Z=oe);break}case"initialPlacement":Z=a;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};function VM(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function WM(t){return ude.some(e=>t[e]>=0)}const Sde=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=pd(t,e);switch(r){case"referenceHidden":{const i=await jv(e,{...s,elementContext:"reference"}),o=VM(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:WM(o)}}}case"escaped":{const i=await jv(e,{...s,altBoundary:!0}),o=VM(i,n.floating);return{data:{escapedOffsets:o,escaped:WM(o)}}}default:return{}}}}},IG=new Set(["left","top"]);async function Bde(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=md(n),a=vy(n),l=eA(n)==="y",c=IG.has(o)?-1:1,u=i&&l?-1:1,A=pd(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof A=="number"?{mainAxis:A,crossAxis:0,alignmentAxis:null}:{mainAxis:A.mainAxis||0,crossAxis:A.crossAxis||0,alignmentAxis:A.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*u,y:d*c}:{x:d*c,y:h*u}}const _de=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await Bde(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},Nde=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:v}=y;return{x:g,y:v}}},...l}=pd(t,e),c={x:n,y:r},u=await jv(e,l),A=eA(md(s)),d=MD(A);let h=c[d],p=c[A];if(i){const y=d==="y"?"top":"left",g=d==="y"?"bottom":"right",v=h+u[y],b=h-u[g];h=a4(v,h,b)}if(o){const y=A==="y"?"top":"left",g=A==="y"?"bottom":"right",v=p+u[y],b=p-u[g];p=a4(v,p,b)}const m=a.fn({...e,[d]:h,[A]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[d]:i,[A]:o}}}}}},Ide=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=pd(t,e),u={x:n,y:r},A=eA(s),d=MD(A);let h=u[d],p=u[A];const m=pd(a,e),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=d==="y"?"height":"width",C=i.reference[d]-i.floating[b]+y.mainAxis,_=i.reference[d]+i.reference[b]-y.mainAxis;h<C?h=C:h>_&&(h=_)}if(c){var g,v;const b=d==="y"?"width":"height",C=IG.has(md(s)),_=i.reference[A]-i.floating[b]+(C&&((g=o.offset)==null?void 0:g[A])||0)+(C?0:y.crossAxis),I=i.reference[A]+i.reference[b]+(C?0:((v=o.offset)==null?void 0:v[A])||0)-(C?y.crossAxis:0);p<_?p=_:p>I&&(p=I)}return{[d]:h,[A]:p}}}},Ede=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=pd(t,e),u=await jv(e,c),A=md(s),d=vy(s),h=eA(s)==="y",{width:p,height:m}=i.floating;let y,g;A==="top"||A==="bottom"?(y=A,g=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=A,y=d==="end"?"top":"bottom");const v=m-u.top-u.bottom,b=p-u.left-u.right,C=of(m-u[y],v),_=of(p-u[g],b),I=!e.middlewareData.shift;let T=C,F=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(F=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=v),I&&!d){const j=il(u.left,0),O=il(u.right,0),U=il(u.top,0),W=il(u.bottom,0);h?F=p-2*(j!==0||O!==0?j+O:il(u.left,u.right)):T=m-2*(U!==0||W!==0?U+W:il(u.top,u.bottom))}await l({...e,availableWidth:F,availableHeight:T});const D=await o.getDimensions(a.floating);return p!==D.width||m!==D.height?{reset:{rects:!0}}:{}}}};function CN(){return typeof window<"u"}function xy(t){return EG(t)?(t.nodeName||"").toLowerCase():"#document"}function pl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function NA(t){var e;return(e=(EG(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function EG(t){return CN()?t instanceof Node||t instanceof pl(t).Node:!1}function Au(t){return CN()?t instanceof Element||t instanceof pl(t).Element:!1}function yA(t){return CN()?t instanceof HTMLElement||t instanceof pl(t).HTMLElement:!1}function GM(t){return!CN()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pl(t).ShadowRoot}const kde=new Set(["inline","contents"]);function Hx(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=du(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!kde.has(s)}const Tde=new Set(["table","td","th"]);function Fde(t){return Tde.has(xy(t))}const Lde=[":popover-open",":modal"];function SN(t){return Lde.some(e=>{try{return t.matches(e)}catch{return!1}})}const Dde=["transform","translate","scale","rotate","perspective"],Rde=["transform","translate","scale","rotate","perspective","filter"],Pde=["paint","layout","strict","content"];function HD(t){const e=zD(),n=Au(t)?du(t):t;return Dde.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Rde.some(r=>(n.willChange||"").includes(r))||Pde.some(r=>(n.contain||"").includes(r))}function Ode(t){let e=af(t);for(;yA(e)&&!G0(e);){if(HD(e))return e;if(SN(e))return null;e=af(e)}return null}function zD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $de=new Set(["html","body","#document"]);function G0(t){return $de.has(xy(t))}function du(t){return pl(t).getComputedStyle(t)}function BN(t){return Au(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function af(t){if(xy(t)==="html")return t;const e=t.assignedSlot||t.parentNode||GM(t)&&t.host||NA(t);return GM(e)?e.host:e}function kG(t){const e=af(t);return G0(e)?t.ownerDocument?t.ownerDocument.body:t.body:yA(e)&&Hx(e)?e:kG(e)}function Hv(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=kG(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=pl(s);if(i){const a=c4(o);return e.concat(o,o.visualViewport||[],Hx(s)?s:[],a&&n?Hv(a):[])}return e.concat(s,Hv(s,[],n))}function c4(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function TG(t){const e=du(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=yA(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=zB(n)!==i||zB(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function VD(t){return Au(t)?t:t.contextElement}function p0(t){const e=VD(t);if(!yA(e))return aA(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=TG(e);let o=(i?zB(n.width):n.width)/r,a=(i?zB(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Ude=aA(0);function FG(t){const e=pl(t);return!zD()||!e.visualViewport?Ude:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Mde(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==pl(t)?!1:e}function cm(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=VD(t);let o=aA(1);e&&(r?Au(r)&&(o=p0(r)):o=p0(t));const a=Mde(i,n,r)?FG(i):aA(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,A=s.height/o.y;if(i){const d=pl(i),h=r&&Au(r)?pl(r):r;let p=d,m=c4(p);for(;m&&r&&h!==p;){const y=p0(m),g=m.getBoundingClientRect(),v=du(m),b=g.left+(m.clientLeft+parseFloat(v.paddingLeft))*y.x,C=g.top+(m.clientTop+parseFloat(v.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,A*=y.y,l+=b,c+=C,p=pl(m),m=c4(p)}}return WB({width:u,height:A,x:l,y:c})}function WD(t,e){const n=BN(t).scrollLeft;return e?e.left+n:cm(NA(t)).left+n}function LG(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:WD(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function Qde(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=NA(r),a=e?SN(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=aA(1);const u=aA(0),A=yA(r);if((A||!A&&!i)&&((xy(r)!=="body"||Hx(o))&&(l=BN(r)),yA(r))){const h=cm(r);c=p0(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const d=o&&!A&&!i?LG(o,l,!0):aA(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:n.y*c.y-l.scrollTop*c.y+u.y+d.y}}function jde(t){return Array.from(t.getClientRects())}function Hde(t){const e=NA(t),n=BN(t),r=t.ownerDocument.body,s=il(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=il(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+WD(t);const a=-n.scrollTop;return du(r).direction==="rtl"&&(o+=il(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function zde(t,e){const n=pl(t),r=NA(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=zD();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const Vde=new Set(["absolute","fixed"]);function Wde(t,e){const n=cm(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=yA(t)?p0(t):aA(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function KM(t,e,n){let r;if(e==="viewport")r=zde(t,n);else if(e==="document")r=Hde(NA(t));else if(Au(e))r=Wde(e,n);else{const s=FG(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return WB(r)}function DG(t,e){const n=af(t);return n===e||!Au(n)||G0(n)?!1:du(n).position==="fixed"||DG(n,e)}function Gde(t,e){const n=e.get(t);if(n)return n;let r=Hv(t,[],!1).filter(a=>Au(a)&&xy(a)!=="body"),s=null;const i=du(t).position==="fixed";let o=i?af(t):t;for(;Au(o)&&!G0(o);){const a=du(o),l=HD(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&Vde.has(s.position)||Hx(o)&&!l&&DG(t,o))?r=r.filter(u=>u!==o):s=a,o=af(o)}return e.set(t,r),r}function Kde(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?SN(e)?[]:Gde(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const A=KM(e,u,s);return c.top=il(A.top,c.top),c.right=of(A.right,c.right),c.bottom=of(A.bottom,c.bottom),c.left=il(A.left,c.left),c},KM(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function qde(t){const{width:e,height:n}=TG(t);return{width:e,height:n}}function Xde(t,e,n){const r=yA(e),s=NA(e),i=n==="fixed",o=cm(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=aA(0);function c(){l.x=WD(s)}if(r||!r&&!i)if((xy(e)!=="body"||Hx(s))&&(a=BN(e)),r){const h=cm(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&c();i&&!r&&s&&c();const u=s&&!r&&!i?LG(s,a):aA(0),A=o.left+a.scrollLeft-l.x-u.x,d=o.top+a.scrollTop-l.y-u.y;return{x:A,y:d,width:o.width,height:o.height}}function pT(t){return du(t).position==="static"}function qM(t,e){if(!yA(t)||du(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return NA(t)===n&&(n=n.ownerDocument.body),n}function RG(t,e){const n=pl(t);if(SN(t))return n;if(!yA(t)){let s=af(t);for(;s&&!G0(s);){if(Au(s)&&!pT(s))return s;s=af(s)}return n}let r=qM(t,e);for(;r&&Fde(r)&&pT(r);)r=qM(r,e);return r&&G0(r)&&pT(r)&&!HD(r)?n:r||Ode(t)||n}const Yde=async function(t){const e=this.getOffsetParent||RG,n=this.getDimensions,r=await n(t.floating);return{reference:Xde(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Zde(t){return du(t).direction==="rtl"}const Jde={convertOffsetParentRelativeRectToViewportRelativeRect:Qde,getDocumentElement:NA,getClippingRect:Kde,getOffsetParent:RG,getElementRects:Yde,getClientRects:jde,getDimensions:qde,getScale:p0,isElement:Au,isRTL:Zde};function PG(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ehe(t,e){let n=null,r;const s=NA(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:A,width:d,height:h}=c;if(a||e(),!d||!h)return;const p=TC(A),m=TC(s.clientWidth-(u+d)),y=TC(s.clientHeight-(A+h)),g=TC(u),b={rootMargin:-p+"px "+-m+"px "+-y+"px "+-g+"px",threshold:il(0,of(1,l))||1};let C=!0;function _(I){const T=I[0].intersectionRatio;if(T!==l){if(!C)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!PG(c,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(_,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(t)}return o(!0),i}function the(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=VD(t),u=s||i?[...c?Hv(c):[],...Hv(e)]:[];u.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),i&&g.addEventListener("resize",n)});const A=c&&a?ehe(c,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(g=>{let[v]=g;v&&v.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let p,m=l?cm(t):null;l&&y();function y(){const g=cm(t);m&&!PG(m,g)&&n(),m=g,p=requestAnimationFrame(y)}return n(),()=>{var g;u.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),A==null||A(),(g=h)==null||g.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const nhe=_de,rhe=Nde,she=Cde,ihe=Ede,ohe=Sde,XM=bde,ahe=Ide,lhe=(t,e,n)=>{const r=new Map,s={platform:Jde,...n},i={...s.platform,_c:r};return xde(t,e,{...s,platform:i})};var che=typeof document<"u",uhe=function(){},qS=che?P.useLayoutEffect:uhe;function GB(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!GB(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!GB(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function OG(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function YM(t,e){const n=OG(t);return Math.round(e*n)/n}function mT(t){const e=P.useRef(t);return qS(()=>{e.current=t}),e}function Ahe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,A]=P.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,h]=P.useState(r);GB(d,r)||h(r);const[p,m]=P.useState(null),[y,g]=P.useState(null),v=P.useCallback(V=>{V!==I.current&&(I.current=V,m(V))},[]),b=P.useCallback(V=>{V!==T.current&&(T.current=V,g(V))},[]),C=i||p,_=o||y,I=P.useRef(null),T=P.useRef(null),F=P.useRef(u),D=l!=null,j=mT(l),O=mT(s),U=mT(c),W=P.useCallback(()=>{if(!I.current||!T.current)return;const V={placement:e,strategy:n,middleware:d};O.current&&(V.platform=O.current),lhe(I.current,T.current,V).then(Y=>{const ce={...Y,isPositioned:U.current!==!1};$.current&&!GB(F.current,ce)&&(F.current=ce,Rm.flushSync(()=>{A(ce)}))})},[d,e,n,O,U]);qS(()=>{c===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,A(V=>({...V,isPositioned:!1})))},[c]);const $=P.useRef(!1);qS(()=>($.current=!0,()=>{$.current=!1}),[]),qS(()=>{if(C&&(I.current=C),_&&(T.current=_),C&&_){if(j.current)return j.current(C,_,W);W()}},[C,_,W,j,D]);const J=P.useMemo(()=>({reference:I,floating:T,setReference:v,setFloating:b}),[v,b]),Z=P.useMemo(()=>({reference:C,floating:_}),[C,_]),oe=P.useMemo(()=>{const V={position:n,left:0,top:0};if(!Z.floating)return V;const Y=YM(Z.floating,u.x),ce=YM(Z.floating,u.y);return a?{...V,transform:"translate("+Y+"px, "+ce+"px)",...OG(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:ce}},[n,a,Z.floating,u.x,u.y]);return P.useMemo(()=>({...u,update:W,refs:J,elements:Z,floatingStyles:oe}),[u,W,J,Z,oe])}const dhe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?XM({element:r.current,padding:s}).fn(n):{}:r?XM({element:r,padding:s}).fn(n):{}}}},hhe=(t,e)=>({...nhe(t),options:[t,e]}),fhe=(t,e)=>({...rhe(t),options:[t,e]}),phe=(t,e)=>({...ahe(t),options:[t,e]}),mhe=(t,e)=>({...she(t),options:[t,e]}),ghe=(t,e)=>({...ihe(t),options:[t,e]}),yhe=(t,e)=>({...ohe(t),options:[t,e]}),whe=(t,e)=>({...dhe(t),options:[t,e]});var vhe="Arrow",$G=P.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return x.jsx(In.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});$G.displayName=vhe;var xhe=$G;function bhe(t){const[e,n]=P.useState(void 0);return to(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var GD="Popper",[UG,_N]=_f(GD),[Che,MG]=UG(GD),QG=t=>{const{__scopePopper:e,children:n}=t,[r,s]=P.useState(null);return x.jsx(Che,{scope:e,anchor:r,onAnchorChange:s,children:n})};QG.displayName=GD;var jG="PopperAnchor",HG=P.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=MG(jG,n),o=P.useRef(null),a=zr(e,o);return P.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:x.jsx(In.div,{...s,ref:a})});HG.displayName=jG;var KD="PopperContent",[She,Bhe]=UG(KD),zG=P.forwardRef((t,e)=>{var Ae,we,Ce,Ne,ke,je;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:A="partial",hideWhenDetached:d=!1,updatePositionStrategy:h="optimized",onPlaced:p,...m}=t,y=MG(KD,n),[g,v]=P.useState(null),b=zr(e,Ge=>v(Ge)),[C,_]=P.useState(null),I=bhe(C),T=(I==null?void 0:I.width)??0,F=(I==null?void 0:I.height)??0,D=r+(i!=="center"?"-"+i:""),j=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(c)?c:[c],U=O.length>0,W={padding:j,boundary:O.filter(Nhe),altBoundary:U},{refs:$,floatingStyles:J,placement:Z,isPositioned:oe,middlewareData:V}=Ahe({strategy:"fixed",placement:D,whileElementsMounted:(...Ge)=>the(...Ge,{animationFrame:h==="always"}),elements:{reference:y.anchor},middleware:[hhe({mainAxis:s+F,alignmentAxis:o}),l&&fhe({mainAxis:!0,crossAxis:!1,limiter:A==="partial"?phe():void 0,...W}),l&&mhe({...W}),ghe({...W,apply:({elements:Ge,rects:ot,availableWidth:le,availableHeight:Xe})=>{const{width:dt,height:Ue}=ot.reference,Re=Ge.floating.style;Re.setProperty("--radix-popper-available-width",`${le}px`),Re.setProperty("--radix-popper-available-height",`${Xe}px`),Re.setProperty("--radix-popper-anchor-width",`${dt}px`),Re.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),C&&whe({element:C,padding:a}),Ihe({arrowWidth:T,arrowHeight:F}),d&&yhe({strategy:"referenceHidden",...W})]}),[Y,ce]=GG(Z),he=cc(p);to(()=>{oe&&(he==null||he())},[oe,he]);const z=(Ae=V.arrow)==null?void 0:Ae.x,G=(we=V.arrow)==null?void 0:we.y,X=((Ce=V.arrow)==null?void 0:Ce.centerOffset)!==0,[re,ue]=P.useState();return to(()=>{g&&ue(window.getComputedStyle(g).zIndex)},[g]),x.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:oe?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[(Ne=V.transformOrigin)==null?void 0:Ne.x,(ke=V.transformOrigin)==null?void 0:ke.y].join(" "),...((je=V.hide)==null?void 0:je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(She,{scope:n,placedSide:Y,onArrowChange:_,arrowX:z,arrowY:G,shouldHideArrow:X,children:x.jsx(In.div,{"data-side":Y,"data-align":ce,...m,ref:b,style:{...m.style,animation:oe?void 0:"none"}})})})});zG.displayName=KD;var VG="PopperArrow",_he={top:"bottom",right:"left",bottom:"top",left:"right"},WG=P.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Bhe(VG,r),o=_he[i.placedSide];return x.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:x.jsx(xhe,{...s,ref:n,style:{...s.style,display:"block"}})})});WG.displayName=VG;function Nhe(t){return t!==null}var Ihe=t=>({name:"transformOrigin",options:t,fn(e){var y,g,v;const{placement:n,rects:r,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=GG(n),A={start:"0%",center:"50%",end:"100%"}[u],d=(((g=s.arrow)==null?void 0:g.x)??0)+a/2,h=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let p="",m="";return c==="bottom"?(p=o?A:`${d}px`,m=`${-l}px`):c==="top"?(p=o?A:`${d}px`,m=`${r.floating.height+l}px`):c==="right"?(p=`${-l}px`,m=o?A:`${h}px`):c==="left"&&(p=`${r.floating.width+l}px`,m=o?A:`${h}px`),{data:{x:p,y:m}}}});function GG(t){const[e,n="center"]=t.split("-");return[e,n]}var Ehe=QG,KG=HG,qG=zG,XG=WG,[NN,Dnt]=_f("Tooltip",[_N]),qD=_N(),YG="TooltipProvider",khe=700,ZM="tooltip.open",[The,ZG]=NN(YG),JG=t=>{const{__scopeTooltip:e,delayDuration:n=khe,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=P.useRef(!0),a=P.useRef(!1),l=P.useRef(0);return P.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),x.jsx(The,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:P.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:P.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};JG.displayName=YG;var eK="Tooltip",[Rnt,IN]=NN(eK),u4="TooltipTrigger",Fhe=P.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=IN(u4,n),i=ZG(u4,n),o=qD(n),a=P.useRef(null),l=zr(e,a,s.onTriggerChange),c=P.useRef(!1),u=P.useRef(!1),A=P.useCallback(()=>c.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",A),[A]),x.jsx(KG,{asChild:!0,...o,children:x.jsx(In.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:on(t.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:on(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:on(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",A,{once:!0})}),onFocus:on(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:on(t.onBlur,s.onClose),onClick:on(t.onClick,s.onClose)})})});Fhe.displayName=u4;var Lhe="TooltipPortal",[Pnt,Dhe]=NN(Lhe,{forceMount:void 0}),K0="TooltipContent",tK=P.forwardRef((t,e)=>{const n=Dhe(K0,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=IN(K0,t.__scopeTooltip);return x.jsx(Pm,{present:r||o.open,children:o.disableHoverableContent?x.jsx(nK,{side:s,...i,ref:e}):x.jsx(Rhe,{side:s,...i,ref:e})})}),Rhe=P.forwardRef((t,e)=>{const n=IN(K0,t.__scopeTooltip),r=ZG(K0,t.__scopeTooltip),s=P.useRef(null),i=zr(e,s),[o,a]=P.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:A}=r,d=P.useCallback(()=>{a(null),A(!1)},[A]),h=P.useCallback((p,m)=>{const y=p.currentTarget,g={x:p.clientX,y:p.clientY},v=Mhe(g,y.getBoundingClientRect()),b=Qhe(g,v),C=jhe(m.getBoundingClientRect()),_=zhe([...b,...C]);a(_),A(!0)},[A]);return P.useEffect(()=>()=>d(),[d]),P.useEffect(()=>{if(l&&u){const p=y=>h(y,u),m=y=>h(y,l);return l.addEventListener("pointerleave",p),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",m)}}},[l,u,h,d]),P.useEffect(()=>{if(o){const p=m=>{const y=m.target,g={x:m.clientX,y:m.clientY},v=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),b=!Hhe(g,o);v?d():b&&(d(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,u,o,c,d]),x.jsx(nK,{...t,ref:i})}),[Phe,Ohe]=NN(eK,{isInside:!1}),$he=Pce("TooltipContent"),nK=P.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=IN(K0,n),c=qD(n),{onClose:u}=l;return P.useEffect(()=>(document.addEventListener(ZM,u),()=>document.removeEventListener(ZM,u)),[u]),P.useEffect(()=>{if(l.trigger){const A=d=>{const h=d.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",A,{capture:!0}),()=>window.removeEventListener("scroll",A,{capture:!0})}},[l.trigger,u]),x.jsx(Mx,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:A=>A.preventDefault(),onDismiss:u,children:x.jsxs(qG,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[x.jsx($he,{children:r}),x.jsx(Phe,{scope:n,isInside:!0,children:x.jsx(sue,{id:l.contentId,role:"tooltip",children:s||r})})]})})});tK.displayName=K0;var rK="TooltipArrow",Uhe=P.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=qD(n);return Ohe(rK,n).isInside?null:x.jsx(XG,{...s,...r,ref:e})});Uhe.displayName=rK;function Mhe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Qhe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function jhe(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function Hhe(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,u=a.y,A=l.x,d=l.y;u>r!=d>r&&n<(A-c)*(r-u)/(d-u)+c&&(s=!s)}return s}function zhe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Vhe(e)}function Vhe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Whe=JG,sK=tK;const Ghe=Whe,Khe=P.forwardRef(({className:t,sideOffset:e=4,...n},r)=>x.jsx(sK,{ref:r,sideOffset:e,className:tr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Khe.displayName=sK.displayName;var EN=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kN=typeof window>"u"||"Deno"in globalThis;function Gc(){}function qhe(t,e){return typeof t=="function"?t(e):t}function Xhe(t){return typeof t=="number"&&t>=0&&t!==1/0}function Yhe(t,e){return Math.max(t+(e||0)-Date.now(),0)}function A4(t,e){return typeof t=="function"?t(e):t}function Zhe(t,e){return typeof t=="function"?t(e):t}function JM(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==XD(o,e.options))return!1}else if(!Vv(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function e6(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(zv(e.options.mutationKey)!==zv(i))return!1}else if(!Vv(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function XD(t,e){return((e==null?void 0:e.queryKeyHashFn)||zv)(t)}function zv(t){return JSON.stringify(t,(e,n)=>d4(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Vv(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Vv(t[n],e[n])):!1}function iK(t,e){if(t===e)return t;const n=t6(t)&&t6(e);if(n||d4(t)&&d4(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<o;u++){const A=n?u:i[u];(!n&&l.has(A)||n)&&t[A]===void 0&&e[A]===void 0?(a[A]=void 0,c++):(a[A]=iK(t[A],e[A]),a[A]===t[A]&&t[A]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function t6(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function d4(t){if(!n6(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!n6(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function n6(t){return Object.prototype.toString.call(t)==="[object Object]"}function Jhe(t){return new Promise(e=>{setTimeout(e,t)})}function efe(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?iK(t,e):e}function tfe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function nfe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var YD=Symbol();function oK(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===YD?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Qp,bh,E0,AV,rfe=(AV=class extends EN{constructor(){super();ir(this,Qp);ir(this,bh);ir(this,E0);yn(this,E0,e=>{if(!kN&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ye(this,bh)||this.setEventListener(Ye(this,E0))}onUnsubscribe(){var e;this.hasListeners()||((e=Ye(this,bh))==null||e.call(this),yn(this,bh,void 0))}setEventListener(e){var n;yn(this,E0,e),(n=Ye(this,bh))==null||n.call(this),yn(this,bh,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Ye(this,Qp)!==e&&(yn(this,Qp,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Ye(this,Qp)=="boolean"?Ye(this,Qp):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Qp=new WeakMap,bh=new WeakMap,E0=new WeakMap,AV),aK=new rfe,k0,Ch,T0,dV,sfe=(dV=class extends EN{constructor(){super();ir(this,k0,!0);ir(this,Ch);ir(this,T0);yn(this,T0,e=>{if(!kN&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Ye(this,Ch)||this.setEventListener(Ye(this,T0))}onUnsubscribe(){var e;this.hasListeners()||((e=Ye(this,Ch))==null||e.call(this),yn(this,Ch,void 0))}setEventListener(e){var n;yn(this,T0,e),(n=Ye(this,Ch))==null||n.call(this),yn(this,Ch,e(this.setOnline.bind(this)))}setOnline(e){Ye(this,k0)!==e&&(yn(this,k0,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Ye(this,k0)}},k0=new WeakMap,Ch=new WeakMap,T0=new WeakMap,dV),KB=new sfe;function ife(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function ofe(t){return Math.min(1e3*2**t,3e4)}function lK(t){return(t??"online")==="online"?KB.isOnline():!0}var cK=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function gT(t){return t instanceof cK}function uK(t){let e=!1,n=0,r=!1,s;const i=ife(),o=m=>{var y;r||(d(new cK(m)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>aK.isFocused()&&(t.networkMode==="always"||KB.isOnline())&&t.canRun(),u=()=>lK(t.networkMode)&&t.canRun(),A=m=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,m),s==null||s(),i.resolve(m))},d=m=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,m),s==null||s(),i.reject(m))},h=()=>new Promise(m=>{var y;s=g=>{(r||c())&&m(g)},(y=t.onPause)==null||y.call(t)}).then(()=>{var m;s=void 0,r||(m=t.onContinue)==null||m.call(t)}),p=()=>{if(r)return;let m;const y=n===0?t.initialPromise:void 0;try{m=y??t.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(A).catch(g=>{var I;if(r)return;const v=t.retry??(kN?0:3),b=t.retryDelay??ofe,C=typeof b=="function"?b(n,g):b,_=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,g);if(e||!_){d(g);return}n++,(I=t.onFail)==null||I.call(t,n,g),Jhe(C).then(()=>c()?void 0:h()).then(()=>{e?d(g):p()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?p():h().then(p),i)}}var afe=t=>setTimeout(t,0);function lfe(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=afe;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Vo=lfe(),jp,hV,AK=(hV=class{constructor(){ir(this,jp)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xhe(this.gcTime)&&yn(this,jp,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(kN?1/0:5*60*1e3))}clearGcTimeout(){Ye(this,jp)&&(clearTimeout(Ye(this,jp)),yn(this,jp,void 0))}},jp=new WeakMap,hV),F0,Hp,Hl,zp,vo,Fx,Vp,qc,KA,fV,cfe=(fV=class extends AK{constructor(e){super();ir(this,qc);ir(this,F0);ir(this,Hp);ir(this,Hl);ir(this,zp);ir(this,vo);ir(this,Fx);ir(this,Vp);yn(this,Vp,!1),yn(this,Fx,e.defaultOptions),this.setOptions(e.options),this.observers=[],yn(this,zp,e.client),yn(this,Hl,Ye(this,zp).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,yn(this,F0,Afe(this.options)),this.state=e.state??Ye(this,F0),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Ye(this,vo))==null?void 0:e.promise}setOptions(e){this.options={...Ye(this,Fx),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ye(this,Hl).remove(this)}setData(e,n){const r=efe(this.state.data,e,this.options);return ho(this,qc,KA).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ho(this,qc,KA).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=Ye(this,vo))==null?void 0:r.promise;return(s=Ye(this,vo))==null||s.cancel(e),n?n.then(Gc).catch(Gc):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ye(this,F0))}isActive(){return this.observers.some(e=>Zhe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===YD||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>A4(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Yhe(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Ye(this,vo))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Ye(this,vo))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Ye(this,Hl).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Ye(this,vo)&&(Ye(this,Vp)?Ye(this,vo).cancel({revert:!0}):Ye(this,vo).cancelRetry()),this.scheduleGc()),Ye(this,Hl).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ho(this,qc,KA).call(this,{type:"invalidate"})}fetch(e,n){var c,u,A;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Ye(this,vo))return Ye(this,vo).continueRetry(),Ye(this,vo).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(yn(this,Vp,!0),r.signal)})},i=()=>{const d=oK(this.options,n),p=(()=>{const m={client:Ye(this,zp),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return yn(this,Vp,!1),this.options.persister?this.options.persister(d,p,this):d(p)},a=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Ye(this,zp),state:this.state,fetchFn:i};return s(d),d})();(c=this.options.behavior)==null||c.onFetch(a,this),yn(this,Hp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&ho(this,qc,KA).call(this,{type:"fetch",meta:(A=a.fetchOptions)==null?void 0:A.meta});const l=d=>{var h,p,m,y;gT(d)&&d.silent||ho(this,qc,KA).call(this,{type:"error",error:d}),gT(d)||((p=(h=Ye(this,Hl).config).onError)==null||p.call(h,d,this),(y=(m=Ye(this,Hl).config).onSettled)==null||y.call(m,this.state.data,d,this)),this.scheduleGc()};return yn(this,vo,uK({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var h,p,m,y;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(g){l(g);return}(p=(h=Ye(this,Hl).config).onSuccess)==null||p.call(h,d,this),(y=(m=Ye(this,Hl).config).onSettled)==null||y.call(m,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,h)=>{ho(this,qc,KA).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{ho(this,qc,KA).call(this,{type:"pause"})},onContinue:()=>{ho(this,qc,KA).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),Ye(this,vo).start()}},F0=new WeakMap,Hp=new WeakMap,Hl=new WeakMap,zp=new WeakMap,vo=new WeakMap,Fx=new WeakMap,Vp=new WeakMap,qc=new WeakSet,KA=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...ufe(r.data,this.options),fetchMeta:e.meta??null};case"success":return yn(this,Hp,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return gT(s)&&s.revert&&Ye(this,Hp)?{...Ye(this,Hp),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Vo.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Ye(this,Hl).notify({query:this,type:"updated",action:e})})},fV);function ufe(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lK(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Afe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Hu,pV,dfe=(pV=class extends EN{constructor(e={}){super();ir(this,Hu);this.config=e,yn(this,Hu,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??XD(s,n);let o=this.get(i);return o||(o=new cfe({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){Ye(this,Hu).has(e.queryHash)||(Ye(this,Hu).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Ye(this,Hu).get(e.queryHash);n&&(e.destroy(),n===e&&Ye(this,Hu).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Vo.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ye(this,Hu).get(e)}getAll(){return[...Ye(this,Hu).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>JM(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>JM(e,r)):n}notify(e){Vo.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Vo.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Vo.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Hu=new WeakMap,pV),zu,jo,Wp,Vu,ch,mV,hfe=(mV=class extends AK{constructor(e){super();ir(this,Vu);ir(this,zu);ir(this,jo);ir(this,Wp);this.mutationId=e.mutationId,yn(this,jo,e.mutationCache),yn(this,zu,[]),this.state=e.state||ffe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Ye(this,zu).includes(e)||(Ye(this,zu).push(e),this.clearGcTimeout(),Ye(this,jo).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){yn(this,zu,Ye(this,zu).filter(n=>n!==e)),this.scheduleGc(),Ye(this,jo).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Ye(this,zu).length||(this.state.status==="pending"?this.scheduleGc():Ye(this,jo).remove(this))}continue(){var e;return((e=Ye(this,Wp))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,c,u,A,d,h,p,m,y,g,v,b,C,_,I,T,F;const n=()=>{ho(this,Vu,ch).call(this,{type:"continue"})};yn(this,Wp,uK({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(D,j)=>{ho(this,Vu,ch).call(this,{type:"failed",failureCount:D,error:j})},onPause:()=>{ho(this,Vu,ch).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ye(this,jo).canRun(this)}));const r=this.state.status==="pending",s=!Ye(this,Wp).canStart();try{if(r)n();else{ho(this,Vu,ch).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=Ye(this,jo).config).onMutate)==null?void 0:o.call(i,e,this));const j=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));j!==this.state.context&&ho(this,Vu,ch).call(this,{type:"pending",context:j,variables:e,isPaused:s})}const D=await Ye(this,Wp).start();return await((u=(c=Ye(this,jo).config).onSuccess)==null?void 0:u.call(c,D,e,this.state.context,this)),await((d=(A=this.options).onSuccess)==null?void 0:d.call(A,D,e,this.state.context)),await((p=(h=Ye(this,jo).config).onSettled)==null?void 0:p.call(h,D,null,this.state.variables,this.state.context,this)),await((y=(m=this.options).onSettled)==null?void 0:y.call(m,D,null,e,this.state.context)),ho(this,Vu,ch).call(this,{type:"success",data:D}),D}catch(D){try{throw await((v=(g=Ye(this,jo).config).onError)==null?void 0:v.call(g,D,e,this.state.context,this)),await((C=(b=this.options).onError)==null?void 0:C.call(b,D,e,this.state.context)),await((I=(_=Ye(this,jo).config).onSettled)==null?void 0:I.call(_,void 0,D,this.state.variables,this.state.context,this)),await((F=(T=this.options).onSettled)==null?void 0:F.call(T,void 0,D,e,this.state.context)),D}finally{ho(this,Vu,ch).call(this,{type:"error",error:D})}}finally{Ye(this,jo).runNext(this)}}},zu=new WeakMap,jo=new WeakMap,Wp=new WeakMap,Vu=new WeakSet,ch=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Vo.batch(()=>{Ye(this,zu).forEach(r=>{r.onMutationUpdate(e)}),Ye(this,jo).notify({mutation:this,type:"updated",action:e})})},mV);function ffe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rd,Xc,Lx,gV,pfe=(gV=class extends EN{constructor(e={}){super();ir(this,rd);ir(this,Xc);ir(this,Lx);this.config=e,yn(this,rd,new Set),yn(this,Xc,new Map),yn(this,Lx,0)}build(e,n,r){const s=new hfe({mutationCache:this,mutationId:++uC(this,Lx)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){Ye(this,rd).add(e);const n=FC(e);if(typeof n=="string"){const r=Ye(this,Xc).get(n);r?r.push(e):Ye(this,Xc).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Ye(this,rd).delete(e)){const n=FC(e);if(typeof n=="string"){const r=Ye(this,Xc).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&Ye(this,Xc).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=FC(e);if(typeof n=="string"){const r=Ye(this,Xc).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=FC(e);if(typeof n=="string"){const s=(r=Ye(this,Xc).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Vo.batch(()=>{Ye(this,rd).forEach(e=>{this.notify({type:"removed",mutation:e})}),Ye(this,rd).clear(),Ye(this,Xc).clear()})}getAll(){return Array.from(Ye(this,rd))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>e6(n,r))}findAll(e={}){return this.getAll().filter(n=>e6(e,n))}notify(e){Vo.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Vo.batch(()=>Promise.all(e.map(n=>n.continue().catch(Gc))))}},rd=new WeakMap,Xc=new WeakMap,Lx=new WeakMap,gV);function FC(t){var e;return(e=t.options.scope)==null?void 0:e.id}function r6(t){return{onFetch:(e,n)=>{var u,A,d,h,p;const r=e.options,s=(d=(A=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:A.fetchMore)==null?void 0:d.direction,i=((h=e.state.data)==null?void 0:h.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},g=oK(e.options,e.fetchOptions),v=async(b,C,_)=>{if(m)return Promise.reject();if(C==null&&b.pages.length)return Promise.resolve(b);const T=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:C,direction:_?"backward":"forward",meta:e.options.meta};return y(O),O})(),F=await g(T),{maxPages:D}=e.options,j=_?nfe:tfe;return{pages:j(b.pages,F,D),pageParams:j(b.pageParams,C,D)}};if(s&&i.length){const b=s==="backward",C=b?mfe:s6,_={pages:i,pageParams:o},I=C(r,_);a=await v(_,I,b)}else{const b=t??i.length;do{const C=l===0?o[0]??r.initialPageParam:s6(r,a);if(l>0&&C==null)break;a=await v(a,C),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var m,y;return(y=(m=e.options).persister)==null?void 0:y.call(m,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function s6(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function mfe(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Bs,Sh,Bh,L0,D0,_h,R0,P0,yV,gfe=(yV=class{constructor(t={}){ir(this,Bs);ir(this,Sh);ir(this,Bh);ir(this,L0);ir(this,D0);ir(this,_h);ir(this,R0);ir(this,P0);yn(this,Bs,t.queryCache||new dfe),yn(this,Sh,t.mutationCache||new pfe),yn(this,Bh,t.defaultOptions||{}),yn(this,L0,new Map),yn(this,D0,new Map),yn(this,_h,0)}mount(){uC(this,_h)._++,Ye(this,_h)===1&&(yn(this,R0,aK.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ye(this,Bs).onFocus())})),yn(this,P0,KB.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ye(this,Bs).onOnline())})))}unmount(){var t,e;uC(this,_h)._--,Ye(this,_h)===0&&((t=Ye(this,R0))==null||t.call(this),yn(this,R0,void 0),(e=Ye(this,P0))==null||e.call(this),yn(this,P0,void 0))}isFetching(t){return Ye(this,Bs).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Ye(this,Sh).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ye(this,Bs).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Ye(this,Bs).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(A4(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Ye(this,Bs).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=Ye(this,Bs).get(r.queryHash),i=s==null?void 0:s.state.data,o=qhe(e,i);if(o!==void 0)return Ye(this,Bs).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Vo.batch(()=>Ye(this,Bs).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ye(this,Bs).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Ye(this,Bs);Vo.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Ye(this,Bs);return Vo.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Vo.batch(()=>Ye(this,Bs).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Gc).catch(Gc)}invalidateQueries(t,e={}){return Vo.batch(()=>(Ye(this,Bs).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Vo.batch(()=>Ye(this,Bs).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Gc)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Gc)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Ye(this,Bs).build(this,e);return n.isStaleByTime(A4(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Gc).catch(Gc)}fetchInfiniteQuery(t){return t.behavior=r6(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Gc).catch(Gc)}ensureInfiniteQueryData(t){return t.behavior=r6(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return KB.isOnline()?Ye(this,Sh).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ye(this,Bs)}getMutationCache(){return Ye(this,Sh)}getDefaultOptions(){return Ye(this,Bh)}setDefaultOptions(t){yn(this,Bh,t)}setQueryDefaults(t,e){Ye(this,L0).set(zv(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Ye(this,L0).values()],n={};return e.forEach(r=>{Vv(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Ye(this,D0).set(zv(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Ye(this,D0).values()],n={};return e.forEach(r=>{Vv(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Ye(this,Bh).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=XD(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===YD&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Ye(this,Bh).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Ye(this,Bs).clear(),Ye(this,Sh).clear()}},Bs=new WeakMap,Sh=new WeakMap,Bh=new WeakMap,L0=new WeakMap,D0=new WeakMap,_h=new WeakMap,R0=new WeakMap,P0=new WeakMap,yV),yfe=P.createContext(void 0),wfe=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(yfe.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wv.apply(this,arguments)}var Eh;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Eh||(Eh={}));const i6="popstate";function vfe(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return h4("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:qB(s)}return bfe(e,n,null,t)}function ni(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dK(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xfe(){return Math.random().toString(36).substr(2,8)}function o6(t,e){return{usr:t.state,key:t.key,idx:e}}function h4(t,e,n,r){return n===void 0&&(n=null),Wv({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?by(e):e,{state:n,key:e&&e.key||r||xfe()})}function qB(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function by(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function bfe(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Eh.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Wv({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function A(){a=Eh.Pop;let y=u(),g=y==null?null:y-c;c=y,l&&l({action:a,location:m.location,delta:g})}function d(y,g){a=Eh.Push;let v=h4(m.location,y,g);c=u()+1;let b=o6(v,c),C=m.createHref(v);try{o.pushState(b,"",C)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(C)}i&&l&&l({action:a,location:m.location,delta:1})}function h(y,g){a=Eh.Replace;let v=h4(m.location,y,g);c=u();let b=o6(v,c),C=m.createHref(v);o.replaceState(b,"",C),i&&l&&l({action:a,location:m.location,delta:0})}function p(y){let g=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:qB(y);return v=v.replace(/ $/,"%20"),ni(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let m={get action(){return a},get location(){return t(s,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(i6,A),l=y,()=>{s.removeEventListener(i6,A),l=null}},createHref(y){return e(s,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(y){return o.go(y)}};return m}var a6;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(a6||(a6={}));function Cfe(t,e,n){return n===void 0&&(n="/"),Sfe(t,e,n,!1)}function Sfe(t,e,n,r){let s=typeof e=="string"?by(e):e,i=ZD(s.pathname||"/",n);if(i==null)return null;let o=hK(t);Bfe(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Pfe(i);a=Dfe(o[l],c,r)}return a}function hK(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ni(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Kh([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(ni(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),hK(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Ffe(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of fK(i.path))s(i,o,l)}),e}function fK(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=fK(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Bfe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Lfe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _fe=/^:[\w-]+$/,Nfe=3,Ife=2,Efe=1,kfe=10,Tfe=-2,l6=t=>t==="*";function Ffe(t,e){let n=t.split("/"),r=n.length;return n.some(l6)&&(r+=Tfe),e&&(r+=Ife),n.filter(s=>!l6(s)).reduce((s,i)=>s+(_fe.test(i)?Nfe:i===""?Efe:kfe),r)}function Lfe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Dfe(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",A=c6({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),d=l.route;if(!A&&c&&n&&!r[r.length-1].route.index&&(A=c6({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!A)return null;Object.assign(s,A.params),o.push({params:s,pathname:Kh([i,A.pathname]),pathnameBase:Mfe(Kh([i,A.pathnameBase])),route:d}),A.pathnameBase!=="/"&&(i=Kh([i,A.pathnameBase]))}return o}function c6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Rfe(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,A)=>{let{paramName:d,isOptional:h}=u;if(d==="*"){let m=a[A]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[A];return h&&!p?c[d]=void 0:c[d]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function Rfe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),dK(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Pfe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dK(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ZD(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ofe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?by(t):t;return{pathname:n?n.startsWith("/")?n:$fe(n,e):e,search:Qfe(r),hash:jfe(s)}}function $fe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function yT(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ufe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pK(t,e){let n=Ufe(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mK(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=by(t):(s=Wv({},t),ni(!s.pathname||!s.pathname.includes("?"),yT("?","pathname","search",s)),ni(!s.pathname||!s.pathname.includes("#"),yT("#","pathname","hash",s)),ni(!s.search||!s.search.includes("#"),yT("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let A=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),A-=1;s.pathname=d.join("/")}a=A>=0?e[A]:"/"}let l=Ofe(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Kh=t=>t.join("/").replace(/\/\/+/g,"/"),Mfe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Qfe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jfe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Hfe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gK=["post","put","patch","delete"];new Set(gK);const zfe=["get",...gK];new Set(zfe);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gv.apply(this,arguments)}const JD=P.createContext(null),Vfe=P.createContext(null),Om=P.createContext(null),TN=P.createContext(null),Nf=P.createContext({outlet:null,matches:[],isDataRoute:!1}),yK=P.createContext(null);function Wfe(t,e){let{relative:n}=e===void 0?{}:e;zx()||ni(!1);let{basename:r,navigator:s}=P.useContext(Om),{hash:i,pathname:o,search:a}=vK(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Kh([r,o])),s.createHref({pathname:l,search:a,hash:i})}function zx(){return P.useContext(TN)!=null}function Vx(){return zx()||ni(!1),P.useContext(TN).location}function wK(t){P.useContext(Om).static||P.useLayoutEffect(t)}function la(){let{isDataRoute:t}=P.useContext(Nf);return t?ipe():Gfe()}function Gfe(){zx()||ni(!1);let t=P.useContext(JD),{basename:e,future:n,navigator:r}=P.useContext(Om),{matches:s}=P.useContext(Nf),{pathname:i}=Vx(),o=JSON.stringify(pK(s,n.v7_relativeSplatPath)),a=P.useRef(!1);return wK(()=>{a.current=!0}),P.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let A=mK(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:Kh([e,A.pathname])),(u.replace?r.replace:r.push)(A,u.state,u)},[e,r,o,i,t])}function eR(){let{matches:t}=P.useContext(Nf),e=t[t.length-1];return e?e.params:{}}function vK(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=P.useContext(Om),{matches:s}=P.useContext(Nf),{pathname:i}=Vx(),o=JSON.stringify(pK(s,r.v7_relativeSplatPath));return P.useMemo(()=>mK(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Kfe(t,e){return qfe(t,e)}function qfe(t,e,n,r){zx()||ni(!1);let{navigator:s}=P.useContext(Om),{matches:i}=P.useContext(Nf),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Vx(),u;if(e){var A;let y=typeof e=="string"?by(e):e;l==="/"||(A=y.pathname)!=null&&A.startsWith(l)||ni(!1),u=y}else u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=Cfe(t,{pathname:h}),m=epe(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Kh([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Kh([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&m?P.createElement(TN.Provider,{value:{location:Gv({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Eh.Pop}},m):m}function Xfe(){let t=spe(),e=Hfe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:s},n):null,null)}const Yfe=P.createElement(Xfe,null);class Zfe extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(Nf.Provider,{value:this.props.routeContext},P.createElement(yK.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jfe(t){let{routeContext:e,match:n,children:r}=t,s=P.useContext(JD);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Nf.Provider,{value:e},r)}function epe(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(A=>A.route.id&&(a==null?void 0:a[A.route.id])!==void 0);u>=0||ni(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let A=o[u];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(c=u),A.route.id){let{loaderData:d,errors:h}=n,p=A.route.loader&&d[A.route.id]===void 0&&(!h||h[A.route.id]===void 0);if(A.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,A,d)=>{let h,p=!1,m=null,y=null;n&&(h=a&&A.route.id?a[A.route.id]:void 0,m=A.route.errorElement||Yfe,l&&(c<0&&d===0?(p=!0,y=null):c===d&&(p=!0,y=A.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,d+1)),v=()=>{let b;return h?b=m:p?b=y:A.route.Component?b=P.createElement(A.route.Component,null):A.route.element?b=A.route.element:b=u,P.createElement(Jfe,{match:A,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:b})};return n&&(A.route.ErrorBoundary||A.route.errorElement||d===0)?P.createElement(Zfe,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var xK=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(xK||{}),XB=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(XB||{});function tpe(t){let e=P.useContext(JD);return e||ni(!1),e}function npe(t){let e=P.useContext(Vfe);return e||ni(!1),e}function rpe(t){let e=P.useContext(Nf);return e||ni(!1),e}function bK(t){let e=rpe(),n=e.matches[e.matches.length-1];return n.route.id||ni(!1),n.route.id}function spe(){var t;let e=P.useContext(yK),n=npe(XB.UseRouteError),r=bK(XB.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ipe(){let{router:t}=tpe(xK.UseNavigateStable),e=bK(XB.UseNavigateStable),n=P.useRef(!1);return wK(()=>{n.current=!0}),P.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Gv({fromRouteId:e},i)))},[t,e])}function ope(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function tl(t){ni(!1)}function ape(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Eh.Pop,navigator:i,static:o=!1,future:a}=t;zx()&&ni(!1);let l=e.replace(/^\/*/,"/"),c=P.useMemo(()=>({basename:l,navigator:i,static:o,future:Gv({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=by(r));let{pathname:u="/",search:A="",hash:d="",state:h=null,key:p="default"}=r,m=P.useMemo(()=>{let y=ZD(u,l);return y==null?null:{location:{pathname:y,search:A,hash:d,state:h,key:p},navigationType:s}},[l,u,A,d,h,p,s]);return m==null?null:P.createElement(Om.Provider,{value:c},P.createElement(TN.Provider,{children:n,value:m}))}function lpe(t){let{children:e,location:n}=t;return Kfe(f4(e),n)}new Promise(()=>{});function f4(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,s)=>{if(!P.isValidElement(r))return;let i=[...e,s];if(r.type===P.Fragment){n.push.apply(n,f4(r.props.children,i));return}r.type!==tl&&ni(!1),!r.props.index||!r.props.children||ni(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=f4(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function p4(){return p4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p4.apply(this,arguments)}function cpe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function upe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ape(t,e){return t.button===0&&(!e||e==="_self")&&!upe(t)}const dpe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hpe="6";try{window.__reactRouterVersion=hpe}catch{}const fpe="startTransition",u6=UL[fpe];function ppe(t){let{basename:e,children:n,future:r,window:s}=t,i=P.useRef();i.current==null&&(i.current=vfe({window:s,v5Compat:!0}));let o=i.current,[a,l]=P.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=P.useCallback(A=>{c&&u6?u6(()=>l(A)):l(A)},[l,c]);return P.useLayoutEffect(()=>o.listen(u),[o,u]),P.useEffect(()=>ope(r),[r]),P.createElement(ape,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const mpe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gpe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jg=P.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:A}=e,d=cpe(e,dpe),{basename:h}=P.useContext(Om),p,m=!1;if(typeof c=="string"&&gpe.test(c)&&(p=c,mpe))try{let b=new URL(window.location.href),C=c.startsWith("//")?new URL(b.protocol+c):new URL(c),_=ZD(C.pathname,h);C.origin===b.origin&&_!=null?c=_+C.search+C.hash:m=!0}catch{}let y=Wfe(c,{relative:s}),g=ype(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:A});function v(b){r&&r(b),b.defaultPrevented||g(b)}return P.createElement("a",p4({},d,{href:p||y,onClick:m||i?r:v,ref:n,target:l}))});var A6;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(A6||(A6={}));var d6;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(d6||(d6={}));function ype(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=la(),c=Vx(),u=vK(t,{relative:o});return P.useCallback(A=>{if(Ape(A,n)){A.preventDefault();let d=r!==void 0?r:qB(c)===qB(u);l(t,{replace:d,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const wpe=[{id:"owner1",email:"elite@playpal.com",password:"elite123",turfId:"ahm-001",turfName:"Elite Cricket Arena"},{id:"owner2",email:"shuttle@playpal.com",password:"shuttle123",turfId:"ahm-002",turfName:"Shuttle Masters Badminton"},{id:"owner3",email:"goalzone@playpal.com",password:"goal123",turfId:"ahm-003",turfName:"Goal Zone Football Turf"},{id:"owner4",email:"diamond@playpal.com",password:"diamond123",turfId:"srt-001",turfName:"Diamond City Cricket Ground"},{id:"owner5",email:"baroda@playpal.com",password:"baroda123",turfId:"vad-001",turfName:"Baroda Cricket Academy"}],CK=P.createContext(void 0),vpe=({children:t})=>{const[e,n]=P.useState(null),[r,s]=P.useState(!0);P.useEffect(()=>{const u=localStorage.getItem("playpal_user");if(u)try{const A=JSON.parse(u);n({...A,createdAt:new Date(A.createdAt)})}catch{localStorage.removeItem("playpal_user")}s(!1)},[]);const i=async(u,A,d)=>{if(s(!0),await new Promise(h=>setTimeout(h,800)),d==="turf_owner"){const h=wpe.find(p=>p.email===u&&p.password===A);if(h){const p={id:h.id,name:h.turfName+" Admin",email:h.email,phone:"+91 98765 00000",role:"turf_owner",city:"Ahmedabad",points:0,createdAt:new Date,turfId:h.turfId,turfName:h.turfName};return n(p),localStorage.setItem("playpal_user",JSON.stringify(p)),s(!1),!0}}else{const p=JSON.parse(localStorage.getItem("playpal_registered_users")||"[]").find(m=>m.email===u&&m.password===A);if(p){const m={id:p.id,name:p.name,email:p.email,phone:p.phone,role:"user",city:p.city,points:p.points||100,createdAt:new Date(p.createdAt),skills:p.skills||[],reputation:p.reputation||4.8,feedbackCount:p.feedbackCount||12};return n(m),localStorage.setItem("playpal_user",JSON.stringify(m)),s(!1),!0}}return s(!1),!1},o=async u=>{s(!0),await new Promise(p=>setTimeout(p,800));const A=JSON.parse(localStorage.getItem("playpal_registered_users")||"[]");if(A.some(p=>p.email===u.email))return s(!1),!1;const d={id:`user_${Date.now()}`,name:u.name,email:u.email,phone:u.phone,password:u.password,city:u.city,points:0,createdAt:new Date().toISOString()};A.push(d),localStorage.setItem("playpal_registered_users",JSON.stringify(A));const h={id:d.id,name:d.name,email:d.email,phone:d.phone,role:"user",city:d.city,points:d.points,createdAt:new Date,skills:[],reputation:5,feedbackCount:0};return n(h),localStorage.setItem("playpal_user",JSON.stringify(h)),s(!1),!0},a=()=>{n(null),localStorage.removeItem("playpal_user")},l=u=>{if(e){const A={...e,...u};n(A),localStorage.setItem("playpal_user",JSON.stringify(A))}},c=u=>{if(e){const A=e.points+u,d={...e,points:A};if(n(d),localStorage.setItem("playpal_user",JSON.stringify(d)),e.role==="user"){const h=JSON.parse(localStorage.getItem("playpal_registered_users")||"[]"),p=h.findIndex(m=>m.email===e.email);p!==-1&&(h[p].points=A,localStorage.setItem("playpal_registered_users",JSON.stringify(h)))}}};return x.jsx(CK.Provider,{value:{user:e,isAuthenticated:!!e,isLoading:r,login:i,signup:o,logout:a,updateUser:l,addPoints:c},children:t})},If=()=>{const t=P.useContext(CK);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},SK=P.createContext(void 0),xpe=()=>{const t=[];for(let e=6;e<=23;e++){const n=`${e.toString().padStart(2,"0")}:00`;t.push(n)}return t},bpe=xpe(),Cpe=({children:t})=>{const[e,n]=P.useState([]);P.useEffect(()=>{const h=localStorage.getItem("playpal_bookings");if(h)try{n(JSON.parse(h))}catch{localStorage.removeItem("playpal_bookings")}},[]);const r=h=>{n(h),localStorage.setItem("playpal_bookings",JSON.stringify(h))},s=h=>{const p={...h,id:`booking_${Date.now()}`,createdAt:new Date().toISOString()},m=[...e,p];return r(m),p},i=h=>{const p=e.map(m=>m.id===h?{...m,status:"Cancelled"}:m);r(p)},o=h=>{const p=e.map(m=>m.id===h?{...m,status:"Completed",paidAmount:m.totalAmount,remainingAmount:0}:m);r(p)},a=h=>e.filter(p=>p.userId===h),l=h=>e.filter(p=>p.venueId===h),c=(h,p)=>e.filter(m=>m.venueId===h&&m.date===p&&m.status!=="Cancelled"),u=(h,p)=>{const m=c(h,p),y=new Set(m.map(g=>g.timeSlot));return bpe.map(g=>({time:g,isAvailable:!y.has(g),price:A(g)}))},A=h=>{const p=parseInt(h.split(":")[0]);return p>=6&&p<=10||p>=17&&p<=22?1500:1e3},d=(h,p,m)=>{const g=u(h,p).find(v=>v.time===m);return(g==null?void 0:g.isAvailable)??!1};return x.jsx(SK.Provider,{value:{bookings:e,addBooking:s,cancelBooking:i,completeBooking:o,getBookingsByUser:a,getBookingsByVenue:l,getBookingsByDate:c,getAvailableSlots:u,isSlotAvailable:d},children:t})},FN=()=>{const t=P.useContext(SK);if(t===void 0)throw new Error("useBooking must be used within a BookingProvider");return t},vp=[{name:"Ahmedabad",district:"Ahmedabad",state:"Gujarat"},{name:"Surat",district:"Surat",state:"Gujarat"},{name:"Vadodara",district:"Vadodara",state:"Gujarat"},{name:"Rajkot",district:"Rajkot",state:"Gujarat"},{name:"Gandhinagar",district:"Gandhinagar",state:"Gujarat"},{name:"Bhavnagar",district:"Bhavnagar",state:"Gujarat"},{name:"Jamnagar",district:"Jamnagar",state:"Gujarat"},{name:"Junagadh",district:"Junagadh",state:"Gujarat"},{name:"Anand",district:"Anand",state:"Gujarat"},{name:"Nadiad",district:"Kheda",state:"Gujarat"},{name:"Morbi",district:"Morbi",state:"Gujarat"},{name:"Mehsana",district:"Mehsana",state:"Gujarat"},{name:"Bharuch",district:"Bharuch",state:"Gujarat"},{name:"Vapi",district:"Valsad",state:"Gujarat"},{name:"Navsari",district:"Navsari",state:"Gujarat"},{name:"Veraval",district:"Gir Somnath",state:"Gujarat"},{name:"Porbandar",district:"Porbandar",state:"Gujarat"},{name:"Godhra",district:"Panchmahal",state:"Gujarat"},{name:"Bhuj",district:"Kutch",state:"Gujarat"},{name:"Palanpur",district:"Banaskantha",state:"Gujarat"}],Kv=[{id:"ahm-001",name:"Elite Cricket Arena",image:"https://images.unsplash.com/photo-1531415074968-036ba1b575da?w=800&auto=format&fit=crop",sports:["Cricket"],location:"Satellite Road",city:"Ahmedabad",district:"Ahmedabad",address:"Near Jodhpur Cross Roads, Satellite Road, Ahmedabad - 380015",distance:"2.5 km",pricePerHour:1200,rating:4.8,reviews:324,crowdLevel:"Medium",weather:"32C Sunny",slotsAvailable:4,isVerified:!0,facilities:["Floodlights","Drinking Water","Changing Room","Parking","First Aid","Scoreboard"],rules:["Wear proper cricket shoes","No metal spikes allowed","Book 2 hours in advance"],contactPhone:"+91 98765 43210",openTime:"06:00",closeTime:"23:00",images:["https://images.unsplash.com/photo-1531415074968-036ba1b575da?w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1540747913346-19e32dc3e97e?w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1587280501635-68a0e82cd5ff?w=800&auto=format&fit=crop"],description:"Elite Cricket Arena is Ahmedabad's premier cricket facility featuring international-standard turf and professional-grade equipment."},{id:"ahm-002",name:"Shuttle Masters Badminton",image:"https://images.unsplash.com/photo-1626224583764-f87db24ac4ea?w=800&auto=format&fit=crop",sports:["Badminton"],location:"Prahladnagar",city:"Ahmedabad",district:"Ahmedabad",address:"Corporate Road, Prahladnagar, Ahmedabad - 380015",distance:"1.8 km",pricePerHour:400,rating:4.9,reviews:512,crowdLevel:"Low",weather:"32C Sunny",slotsAvailable:8,isVerified:!0,facilities:["AC Courts","Pro Shop","Coaching","Cafeteria","Parking","Shower"],rules:["Non-marking shoes only","Rackets available for rent","Prior booking required"],contactPhone:"+91 98765 43211",openTime:"06:00",closeTime:"22:00",images:["https://images.unsplash.com/photo-1626224583764-f87db24ac4ea?w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1613918431703-aa50889e3be4?w=800&auto=format&fit=crop"],description:"Premium air-conditioned badminton courts with wooden flooring and professional lighting."},{id:"ahm-003",name:"Goal Zone Football Turf",image:"https://images.unsplash.com/photo-1529900748604-07564a03e7a6?w=800&auto=format&fit=crop",sports:["Football"],location:"SG Highway",city:"Ahmedabad",district:"Ahmedabad",address:"Near Karnavati Club, SG Highway, Ahmedabad - 380054",distance:"4.2 km",pricePerHour:1500,rating:4.7,reviews:289,crowdLevel:"High",weather:"32C Sunny",slotsAvailable:2,isVerified:!0,facilities:["FIFA Standard Turf","Floodlights","Changing Room","Refreshments","Parking"],rules:["Football studs only","Team jersey recommended","Minimum 5 players per team"],contactPhone:"+91 98765 43212",openTime:"05:00",closeTime:"24:00",images:["https://images.unsplash.com/photo-1529900748604-07564a03e7a6?w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&auto=format&fit=crop"],description:"Professional 5-a-side and 7-a-side football turfs with FIFA-standard artificial grass."},{id:"ahm-004",name:"Ace Tennis Academy",image:"https://images.unsplash.com/photo-1622279457486-62dcc4a431d6?w=800&auto=format&fit=crop",sports:["Tennis"],location:"Bodakdev",city:"Ahmedabad",district:"Ahmedabad",address:"Judges Bungalow Road, Bodakdev, Ahmedabad - 380054",distance:"3.1 km",pricePerHour:600,rating:4.6,reviews:178,crowdLevel:"Low",weather:"32C Sunny",slotsAvailable:6,isVerified:!0,facilities:["Clay Courts","Hard Courts","Pro Coaching","Equipment Rental","Parking"],rules:["Tennis shoes mandatory","White dress preferred","Book 1 hour minimum"],contactPhone:"+91 98765 43213",openTime:"06:00",closeTime:"21:00",images:["https://images.unsplash.com/photo-1622279457486-62dcc4a431d6?w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1554068865-24cecd4e34b8?w=800&auto=format&fit=crop"],description:"Premier tennis facility with both clay and hard courts, professional coaching available."},{id:"ahm-005",name:"Pickle Point Arena",image:"https://images.unsplash.com/photo-1554068865-24cecd4e34b8?w=800&auto=format&fit=crop",sports:["Pickleball"],location:"Vastrapur",city:"Ahmedabad",district:"Ahmedabad",address:"Near Vastrapur Lake, Vastrapur, Ahmedabad - 380015",distance:"2.8 km",pricePerHour:350,rating:4.5,reviews:89,crowdLevel:"Low",weather:"32C Sunny",slotsAvailable:10,isVerified:!1,facilities:["Indoor Courts","Equipment Rental","Coaching","Cafeteria"],rules:["Paddles available for rent","Court shoes required"],contactPhone:"+91 98765 43214",openTime:"07:00",closeTime:"21:00",images:["https://images.unsplash.com/photo-1554068865-24cecd4e34b8?w=800&auto=format&fit=crop"],description:"Gujarat's first dedicated Pickleball arena with professional courts and equipment."},{id:"srt-001",name:"Diamond City Cricket Ground",image:"https://images.unsplash.com/photo-1540747913346-19e32dc3e97e?w=800&auto=format&fit=crop",sports:["Cricket"],location:"Vesu",city:"Surat",district:"Surat",address:"VIP Road, Vesu, Surat - 395007",distance:"3.5 km",pricePerHour:1e3,rating:4.7,reviews:256,crowdLevel:"Medium",weather:"34C Sunny",slotsAvailable:5,isVerified:!0,facilities:["Night Lights","Practice Nets","Changing Room","Parking","Canteen"],rules:["Cricket whites preferred","Bring your own equipment"],contactPhone:"+91 98765 43220",openTime:"05:30",closeTime:"23:00",images:["https://images.unsplash.com/photo-1540747913346-19e32dc3e97e?w=800&auto=format&fit=crop"],description:"Premium cricket facility in Surat with excellent pitch conditions and facilities."},{id:"srt-002",name:"Surat Sports Complex",image:"https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&auto=format&fit=crop",sports:["Football","Cricket","Tennis"],location:"Athwa",city:"Surat",district:"Surat",address:"Athwa Gate, Surat - 395001",distance:"2.0 km",pricePerHour:800,rating:4.5,reviews:189,crowdLevel:"High",weather:"34C Sunny",slotsAvailable:3,isVerified:!0,facilities:["Multi-Sport","Gym","Swimming Pool","Cafeteria","Parking"],rules:["Membership available","Day passes accepted"],contactPhone:"+91 98765 43221",openTime:"06:00",closeTime:"22:00",images:["https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&auto=format&fit=crop"],description:"Multi-sport complex offering various sports facilities under one roof."},{id:"srt-003",name:"Smash Badminton Hub",image:"https://images.unsplash.com/photo-1613918431703-aa50889e3be4?w=800&auto=format&fit=crop",sports:["Badminton"],location:"Adajan",city:"Surat",district:"Surat",address:"Adajan BRTS Road, Surat - 395009",distance:"4.5 km",pricePerHour:350,rating:4.8,reviews:423,crowdLevel:"Medium",weather:"34C Sunny",slotsAvailable:6,isVerified:!0,facilities:["Wooden Courts","AC","Pro Shop","Coaching"],rules:["Non-marking shoes only","Booking required"],contactPhone:"+91 98765 43222",openTime:"06:00",closeTime:"22:00",images:["https://images.unsplash.com/photo-1613918431703-aa50889e3be4?w=800&auto=format&fit=crop"],description:"Premium badminton facility with 8 courts and professional coaching."},{id:"vad-001",name:"Baroda Cricket Academy",image:"https://images.unsplash.com/photo-1587280501635-68a0e82cd5ff?w=800&auto=format&fit=crop",sports:["Cricket"],location:"Alkapuri",city:"Vadodara",district:"Vadodara",address:"Race Course Road, Alkapuri, Vadodara - 390007",distance:"1.5 km",pricePerHour:1100,rating:4.9,reviews:567,crowdLevel:"Medium",weather:"33C Sunny",slotsAvailable:4,isVerified:!0,facilities:["International Standard","Video Analysis","Coaching","Gym"],rules:["Professional gear required","Training programs available"],contactPhone:"+91 98765 43230",openTime:"05:00",closeTime:"22:00",images:["https://images.unsplash.com/photo-1587280501635-68a0e82cd5ff?w=800&auto=format&fit=crop"],description:"Historic cricket academy that has produced many national players."},{id:"vad-002",name:"Striker Football Arena",image:"https://images.unsplash.com/photo-1551958219-acbc608c6377?w=800&auto=format&fit=crop",sports:["Football"],location:"Manjalpur",city:"Vadodara",district:"Vadodara",address:"NH-48, Manjalpur, Vadodara - 390011",distance:"5.2 km",pricePerHour:1200,rating:4.6,reviews:234,crowdLevel:"Low",weather:"33C Sunny",slotsAvailable:7,isVerified:!0,facilities:["Artificial Turf","Floodlights","Refreshments","Parking"],rules:["Studs allowed","Team bookings preferred"],contactPhone:"+91 98765 43231",openTime:"06:00",closeTime:"23:00",images:["https://images.unsplash.com/photo-1551958219-acbc608c6377?w=800&auto=format&fit=crop"],description:"Modern football facility with premium artificial turf and night lighting."},{id:"rjk-001",name:"Saurashtra Cricket Hub",image:"https://images.unsplash.com/photo-1531415074968-036ba1b575da?w=800&auto=format&fit=crop",sports:["Cricket"],location:"Kalavad Road",city:"Rajkot",district:"Rajkot",address:"Near Aji Dam, Kalavad Road, Rajkot - 360005",distance:"3.8 km",pricePerHour:900,rating:4.7,reviews:312,crowdLevel:"Medium",weather:"35C Sunny",slotsAvailable:5,isVerified:!0,facilities:["Practice Nets","Floodlights","Canteen","Parking"],rules:["Helmet mandatory for batting","Cricket shoes required"],contactPhone:"+91 98765 43240",openTime:"05:30",closeTime:"22:00",images:["https://images.unsplash.com/photo-1531415074968-036ba1b575da?w=800&auto=format&fit=crop"],description:"Premier cricket facility in Saurashtra region with excellent amenities."},{id:"rjk-002",name:"Race Course Sports Club",image:"https://images.unsplash.com/photo-1622279457486-62dcc4a431d6?w=800&auto=format&fit=crop",sports:["Tennis","Badminton","Cricket"],location:"Race Course",city:"Rajkot",district:"Rajkot",address:"Race Course Ring Road, Rajkot - 360001",distance:"2.0 km",pricePerHour:500,rating:4.5,reviews:178,crowdLevel:"Low",weather:"35C Sunny",slotsAvailable:8,isVerified:!0,facilities:["Multi-Sport","Club House","Restaurant","Parking"],rules:["Membership preferred","Guest passes available"],contactPhone:"+91 98765 43241",openTime:"06:00",closeTime:"21:00",images:["https://images.unsplash.com/photo-1622279457486-62dcc4a431d6?w=800&auto=format&fit=crop"],description:"Exclusive sports club with tennis, badminton, and cricket facilities."},{id:"gnd-001",name:"Capital Sports Arena",image:"https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&auto=format&fit=crop",sports:["Football","Cricket"],location:"Sector 21",city:"Gandhinagar",district:"Gandhinagar",address:"Sector 21, Gandhinagar - 382021",distance:"1.2 km",pricePerHour:1e3,rating:4.6,reviews:145,crowdLevel:"Low",weather:"31C Sunny",slotsAvailable:9,isVerified:!0,facilities:["Government Facility","Olympic Standard","Gym","Pool"],rules:["ID proof required","Booking through app only"],contactPhone:"+91 98765 43250",openTime:"06:00",closeTime:"21:00",images:["https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&auto=format&fit=crop"],description:"State-of-the-art sports facility in Gujarat's capital city."},{id:"bhv-001",name:"Nilambagh Sports Ground",image:"https://images.unsplash.com/photo-1540747913346-19e32dc3e97e?w=800&auto=format&fit=crop",sports:["Cricket","Football"],location:"Nilambagh",city:"Bhavnagar",district:"Bhavnagar",address:"Near Nilambagh Palace, Bhavnagar - 364001",distance:"2.5 km",pricePerHour:700,rating:4.4,reviews:98,crowdLevel:"Low",weather:"33C Sunny",slotsAvailable:6,isVerified:!1,facilities:["Natural Grass","Pavilion","Parking"],rules:["Prior booking required","Groups welcome"],contactPhone:"+91 98765 43260",openTime:"06:00",closeTime:"20:00",images:["https://images.unsplash.com/photo-1540747913346-19e32dc3e97e?w=800&auto=format&fit=crop"],description:"Historic sports ground near the famous Nilambagh Palace."},{id:"jmn-001",name:"Lakhota Sports Complex",image:"https://images.unsplash.com/photo-1529900748604-07564a03e7a6?w=800&auto=format&fit=crop",sports:["Football","Cricket","Tennis"],location:"Lakhota",city:"Jamnagar",district:"Jamnagar",address:"Near Lakhota Lake, Jamnagar - 361001",distance:"1.8 km",pricePerHour:600,rating:4.3,reviews:87,crowdLevel:"Medium",weather:"34C Sunny",slotsAvailable:5,isVerified:!0,facilities:["Multi-Sport","Lake View","Cafeteria","Parking"],rules:["Sports shoes mandatory","ID required"],contactPhone:"+91 98765 43270",openTime:"06:00",closeTime:"21:00",images:["https://images.unsplash.com/photo-1529900748604-07564a03e7a6?w=800&auto=format&fit=crop"],description:"Beautiful sports complex with stunning lake views."},{id:"and-001",name:"Amul Sports Ground",image:"https://images.unsplash.com/photo-1531415074968-036ba1b575da?w=800&auto=format&fit=crop",sports:["Cricket"],location:"GCMMF Road",city:"Anand",district:"Anand",address:"Near GCMMF, Anand - 388001",distance:"1.0 km",pricePerHour:800,rating:4.5,reviews:123,crowdLevel:"Medium",weather:"32C Sunny",slotsAvailable:4,isVerified:!0,facilities:["Practice Nets","Floodlights","Canteen"],rules:["Cricket gear required","Team bookings preferred"],contactPhone:"+91 98765 43280",openTime:"06:00",closeTime:"22:00",images:["https://images.unsplash.com/photo-1531415074968-036ba1b575da?w=800&auto=format&fit=crop"],description:"Well-maintained cricket ground in the heart of Anand."}],BK=t=>Kv.find(e=>e.id===t),h6=(t,e)=>{let n=Kv;return e&&(n=n.filter(r=>r.city.toLowerCase()===e.toLowerCase())),n},_K=P.createContext(void 0),Spe=({children:t})=>{const[e,n]=P.useState(vp[0]);P.useEffect(()=>{const i=localStorage.getItem("playpal_city");if(i)try{const o=JSON.parse(i),a=vp.find(l=>l.name===o.name);a&&n(a)}catch{}},[]);const r=i=>{n(i),localStorage.setItem("playpal_city",JSON.stringify(i))},s=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(i=>{r(vp[0])},i=>{console.log("Location detection failed, using default"),r(vp[0])})};return x.jsx(_K.Provider,{value:{selectedCity:e,setSelectedCity:r,cities:vp,detectLocation:s},children:t})},Wx=()=>{const t=P.useContext(_K);if(t===void 0)throw new Error("useLocation must be used within a LocationProvider");return t},NK=P.createContext(void 0),Bpe=({children:t})=>{const{user:e}=If(),[n,r]=P.useState([]);P.useEffect(()=>{const d=localStorage.getItem("playpal_events");if(d)try{const p=JSON.parse(d).map(m=>({...m,pendingRequests:m.pendingRequests||[],skillLevel:m.skillLevel||"Intermediate",startTime:m.startTime||"00:00",endTime:m.endTime||"00:00",coordinates:m.coordinates||void 0}));r(p)}catch{localStorage.removeItem("playpal_events")}else r([{id:"evt_1",creatorId:"user_mock_1",creatorName:"Rahul Sharma",sport:"Cricket",date:new Date().toISOString().split("T")[0],startTime:"18:00",endTime:"20:00",location:"Elite Cricket Arena",requiredPlayers:3,joinedPlayers:["user_mock_2"],pendingRequests:[],description:"Need a few players for a casual match.",status:"Open",skillLevel:"Intermediate"},{id:"evt_2",creatorId:"user_mock_3",creatorName:"Priya Patel",sport:"Badminton",date:new Date().toISOString().split("T")[0],startTime:"07:00",endTime:"08:00",location:"Shuttle Masters",requiredPlayers:1,joinedPlayers:[],pendingRequests:["user_mock_4"],description:"Looking for a doubles partner.",status:"Open",skillLevel:"Advanced"}])},[]);const s=d=>{r(d),localStorage.setItem("playpal_events",JSON.stringify(d))},i=d=>{if(!e)return;const h={...d,id:`evt_${Date.now()}`,creatorId:e.id,creatorName:e.name,joinedPlayers:[e.id],pendingRequests:[],status:"Open"};s([...n,h])},o=d=>{if(!e)return;const h=n.map(p=>p.id===d?p.joinedPlayers.includes(e.id)||p.pendingRequests.includes(e.id)?p:{...p,pendingRequests:[...p.pendingRequests,e.id]}:p);s(h)},a=d=>{if(!e)return;const h=n.map(p=>p.id===d?{...p,pendingRequests:p.pendingRequests.filter(m=>m!==e.id)}:p);s(h)},l=(d,h)=>{const p=n.map(m=>{if(m.id===d){if(!m.pendingRequests.includes(h))return m;const y=[...m.joinedPlayers,h],g=y.length-1>=m.requiredPlayers?"Full":"Open";return{...m,joinedPlayers:y,pendingRequests:m.pendingRequests.filter(v=>v!==h),status:g}}return m});s(p)},c=(d,h)=>{const p=n.map(m=>m.id===d?{...m,pendingRequests:m.pendingRequests.filter(y=>y!==h)}:m);s(p)},u=d=>{if(!e)return;const h=n.map(p=>p.id===d?{...p,joinedPlayers:p.joinedPlayers.filter(m=>m!==e.id),status:"Open"}:p);s(h)},A=()=>e?{hosted:n.filter(d=>d.creatorId===e.id),joined:n.filter(d=>d.joinedPlayers.includes(e.id)&&d.creatorId!==e.id)}:{hosted:[],joined:[]};return x.jsx(NK.Provider,{value:{events:n,createEvent:i,joinEvent:o,cancelRequest:a,acceptRequest:l,rejectRequest:c,leaveEvent:u,getMyEvents:A},children:t})},_pe=()=>{const t=P.useContext(NK);if(t===void 0)throw new Error("useEvent must be used within an EventProvider");return t},tR=P.createContext({});function Gx(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const nR=typeof window<"u",rR=nR?P.useLayoutEffect:P.useEffect,LN=P.createContext(null);function sR(t,e){t.indexOf(e)===-1&&t.push(e)}function iR(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const wA=(t,e,n)=>n>e?e:n<t?t:n;let DN=()=>{},q0=()=>{};const gd={},IK=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function EK(t){return typeof t=="object"&&t!==null}const kK=t=>/^0[^.\s]+$/u.test(t);function oR(t){let e;return()=>(e===void 0&&(e=t()),e)}const ic=t=>t,Npe=(t,e)=>n=>e(t(n)),Kx=(...t)=>t.reduce(Npe),qv=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class aR{constructor(){this.subscriptions=[]}add(e){return sR(this.subscriptions,e),()=>iR(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const lA=t=>t*1e3,Xl=t=>t/1e3;function TK(t,e){return e?t*(1e3/e):0}const FK=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Ipe=1e-7,Epe=12;function kpe(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=FK(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>Ipe&&++a<Epe);return o}function qx(t,e,n,r){if(t===e&&n===r)return ic;const s=i=>kpe(i,0,1,t,n);return i=>i===0||i===1?i:FK(s(i),e,r)}const LK=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,DK=t=>e=>1-t(1-e),RK=qx(.33,1.53,.69,.99),lR=DK(RK),PK=LK(lR),OK=t=>(t*=2)<1?.5*lR(t):.5*(2-Math.pow(2,-10*(t-1))),cR=t=>1-Math.sin(Math.acos(t)),$K=DK(cR),UK=LK(cR),Tpe=qx(.42,0,1,1),Fpe=qx(0,0,.58,1),MK=qx(.42,0,.58,1),Lpe=t=>Array.isArray(t)&&typeof t[0]!="number",QK=t=>Array.isArray(t)&&typeof t[0]=="number",f6={linear:ic,easeIn:Tpe,easeInOut:MK,easeOut:Fpe,circIn:cR,circInOut:UK,circOut:$K,backIn:lR,backInOut:PK,backOut:RK,anticipate:OK},Dpe=t=>typeof t=="string",p6=t=>{if(QK(t)){q0(t.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[e,n,r,s]=t;return qx(e,n,r,s)}else if(Dpe(t))return q0(f6[t]!==void 0,`Invalid easing type '${t}'`,"invalid-easing-type"),f6[t];return t},LC=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],m6={value:null,addProjectionMetrics:null};function Rpe(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(A){o.has(A)&&(u.schedule(A),t()),l++,A(a)}const u={schedule:(A,d=!1,h=!1)=>{const m=h&&s?n:r;return d&&o.add(A),m.has(A)||m.add(A),A},cancel:A=>{r.delete(A),o.delete(A)},process:A=>{if(a=A,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&m6.value&&m6.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,u.process(A))}};return u}const Ppe=40;function jK(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=LC.reduce((b,C)=>(b[C]=Rpe(i,e?C:void 0),b),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:A,preRender:d,render:h,postRender:p}=o,m=()=>{const b=gd.useManualTiming?s.timestamp:performance.now();n=!1,gd.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(b-s.timestamp,Ppe),1)),s.timestamp=b,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),A.process(s),d.process(s),h.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(m))},y=()=>{n=!0,r=!0,s.isProcessing||t(m)};return{schedule:LC.reduce((b,C)=>{const _=o[C];return b[C]=(I,T=!1,F=!1)=>(n||y(),_.schedule(I,T,F)),b},{}),cancel:b=>{for(let C=0;C<LC.length;C++)o[LC[C]].cancel(b)},state:s,steps:o}}const{schedule:Rr,cancel:yd,state:Ki,steps:wT}=jK(typeof requestAnimationFrame<"u"?requestAnimationFrame:ic,!0);let XS;function Ope(){XS=void 0}const Ko={now:()=>(XS===void 0&&Ko.set(Ki.isProcessing||gd.useManualTiming?Ki.timestamp:performance.now()),XS),set:t=>{XS=t,queueMicrotask(Ope)}},HK=t=>e=>typeof e=="string"&&e.startsWith(t),zK=HK("--"),$pe=HK("var(--"),uR=t=>$pe(t)?Upe.test(t.split("/*")[0].trim()):!1,Upe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function g6(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Cy={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Xv={...Cy,transform:t=>wA(0,1,t)},DC={...Cy,default:1},uv=t=>Math.round(t*1e5)/1e5,AR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Mpe(t){return t==null}const Qpe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dR=(t,e)=>n=>!!(typeof n=="string"&&Qpe.test(n)&&n.startsWith(t)||e&&!Mpe(n)&&Object.prototype.hasOwnProperty.call(n,e)),VK=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(AR);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},jpe=t=>wA(0,255,t),vT={...Cy,transform:t=>Math.round(jpe(t))},Fp={test:dR("rgb","red"),parse:VK("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+vT.transform(t)+", "+vT.transform(e)+", "+vT.transform(n)+", "+uv(Xv.transform(r))+")"};function Hpe(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const m4={test:dR("#"),parse:Hpe,transform:Fp.transform},Xx=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),uh=Xx("deg"),cA=Xx("%"),It=Xx("px"),zpe=Xx("vh"),Vpe=Xx("vw"),y6={...cA,parse:t=>cA.parse(t)/100,transform:t=>cA.transform(t*100)},e0={test:dR("hsl","hue"),parse:VK("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+cA.transform(uv(e))+", "+cA.transform(uv(n))+", "+uv(Xv.transform(r))+")"},Xs={test:t=>Fp.test(t)||m4.test(t)||e0.test(t),parse:t=>Fp.test(t)?Fp.parse(t):e0.test(t)?e0.parse(t):m4.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fp.transform(t):e0.transform(t),getAnimatableNone:t=>{const e=Xs.parse(t);return e.alpha=0,Xs.transform(e)}},Wpe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Gpe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(AR))==null?void 0:e.length)||0)+(((n=t.match(Wpe))==null?void 0:n.length)||0)>0}const WK="number",GK="color",Kpe="var",qpe="var(",w6="${}",Xpe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yv(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(Xpe,l=>(Xs.test(l)?(r.color.push(i),s.push(GK),n.push(Xs.parse(l))):l.startsWith(qpe)?(r.var.push(i),s.push(Kpe),n.push(l)):(r.number.push(i),s.push(WK),n.push(parseFloat(l))),++i,w6)).split(w6);return{values:n,split:a,indexes:r,types:s}}function KK(t){return Yv(t).values}function qK(t){const{split:e,types:n}=Yv(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===WK?i+=uv(s[o]):a===GK?i+=Xs.transform(s[o]):i+=s[o]}return i}}const Ype=t=>typeof t=="number"?0:Xs.test(t)?Xs.getAnimatableNone(t):t;function Zpe(t){const e=KK(t);return qK(t)(e.map(Ype))}const lf={test:Gpe,parse:KK,createTransformer:qK,getAnimatableNone:Zpe};function xT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Jpe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=xT(l,a,t+1/3),i=xT(l,a,t),o=xT(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function YB(t,e){return n=>n>0?e:t}const ps=(t,e,n)=>t+(e-t)*n,bT=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},eme=[m4,Fp,e0],tme=t=>eme.find(e=>e.test(t));function v6(t){const e=tme(t);if(DN(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!e)return!1;let n=e.parse(t);return e===e0&&(n=Jpe(n)),n}const x6=(t,e)=>{const n=v6(t),r=v6(e);if(!n||!r)return YB(t,e);const s={...n};return i=>(s.red=bT(n.red,r.red,i),s.green=bT(n.green,r.green,i),s.blue=bT(n.blue,r.blue,i),s.alpha=ps(n.alpha,r.alpha,i),Fp.transform(s))},g4=new Set(["none","hidden"]);function nme(t,e){return g4.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function rme(t,e){return n=>ps(t,e,n)}function hR(t){return typeof t=="number"?rme:typeof t=="string"?uR(t)?YB:Xs.test(t)?x6:ome:Array.isArray(t)?XK:typeof t=="object"?Xs.test(t)?x6:sme:YB}function XK(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>hR(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function sme(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=hR(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function ime(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const ome=(t,e)=>{const n=lf.createTransformer(e),r=Yv(t),s=Yv(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?g4.has(t)&&!s.values.length||g4.has(e)&&!r.values.length?nme(t,e):Kx(XK(ime(r,s),s.values),n):(DN(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),YB(t,e))};function YK(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ps(t,e,n):hR(t)(t,e)}const ame=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Rr.update(e,n),stop:()=>yd(e),now:()=>Ki.isProcessing?Ki.timestamp:Ko.now()}},ZK=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ZB=2e4;function fR(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ZB;)e+=n,r=t.next(e);return e>=ZB?1/0:e}function lme(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(fR(r),ZB);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Xl(s)}}const cme=5;function JK(t,e,n){const r=Math.max(e-cme,0);return TK(n-t(r),e-r)}const hs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},CT=.001;function ume({duration:t=hs.duration,bounce:e=hs.bounce,velocity:n=hs.velocity,mass:r=hs.mass}){let s,i;DN(t<=lA(hs.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-e;o=wA(hs.minDamping,hs.maxDamping,o),t=wA(hs.minDuration,hs.maxDuration,Xl(t)),o<1?(s=c=>{const u=c*o,A=u*t,d=u-n,h=y4(c,o),p=Math.exp(-A);return CT-d/h*p},i=c=>{const A=c*o*t,d=A*n+n,h=Math.pow(o,2)*Math.pow(c,2)*t,p=Math.exp(-A),m=y4(Math.pow(c,2),o);return(-s(c)+CT>0?-1:1)*((d-h)*p)/m}):(s=c=>{const u=Math.exp(-c*t),A=(c-n)*t+1;return-CT+u*A},i=c=>{const u=Math.exp(-c*t),A=(n-c)*(t*t);return u*A});const a=5/t,l=dme(s,i,a);if(t=lA(t),isNaN(l))return{stiffness:hs.stiffness,damping:hs.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const Ame=12;function dme(t,e,n){let r=n;for(let s=1;s<Ame;s++)r=r-t(r)/e(r);return r}function y4(t,e){return t*Math.sqrt(1-e*e)}const hme=["duration","bounce"],fme=["stiffness","damping","mass"];function b6(t,e){return e.some(n=>t[n]!==void 0)}function pme(t){let e={velocity:hs.velocity,stiffness:hs.stiffness,damping:hs.damping,mass:hs.mass,isResolvedFromDuration:!1,...t};if(!b6(t,fme)&&b6(t,hme))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*wA(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:hs.mass,stiffness:s,damping:i}}else{const n=ume(t);e={...e,...n,mass:hs.mass},e.isResolvedFromDuration=!0}return e}function JB(t=hs.visualDuration,e=hs.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:A,velocity:d,isResolvedFromDuration:h}=pme({...n,velocity:-Xl(n.velocity||0)}),p=d||0,m=c/(2*Math.sqrt(l*u)),y=o-i,g=Xl(Math.sqrt(l/u)),v=Math.abs(y)<5;r||(r=v?hs.restSpeed.granular:hs.restSpeed.default),s||(s=v?hs.restDelta.granular:hs.restDelta.default);let b;if(m<1){const _=y4(g,m);b=I=>{const T=Math.exp(-m*g*I);return o-T*((p+m*g*y)/_*Math.sin(_*I)+y*Math.cos(_*I))}}else if(m===1)b=_=>o-Math.exp(-g*_)*(y+(p+g*y)*_);else{const _=g*Math.sqrt(m*m-1);b=I=>{const T=Math.exp(-m*g*I),F=Math.min(_*I,300);return o-T*((p+m*g*y)*Math.sinh(F)+_*y*Math.cosh(F))/_}}const C={calculatedDuration:h&&A||null,next:_=>{const I=b(_);if(h)a.done=_>=A;else{let T=_===0?p:0;m<1&&(T=_===0?lA(p):JK(b,_,I));const F=Math.abs(T)<=r,D=Math.abs(o-I)<=s;a.done=F&&D}return a.value=a.done?o:I,a},toString:()=>{const _=Math.min(fR(C),ZB),I=ZK(T=>C.next(_*T).value,_,30);return _+"ms "+I},toTransition:()=>{}};return C}JB.applyToOptions=t=>{const e=lme(t,100,JB);return t.ease=e.ease,t.duration=lA(e.duration),t.type="keyframes",t};function w4({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const A=t[0],d={done:!1,value:A},h=F=>a!==void 0&&F<a||l!==void 0&&F>l,p=F=>a===void 0?l:l===void 0||Math.abs(a-F)<Math.abs(l-F)?a:l;let m=n*e;const y=A+m,g=o===void 0?y:o(y);g!==y&&(m=g-A);const v=F=>-m*Math.exp(-F/r),b=F=>g+v(F),C=F=>{const D=v(F),j=b(F);d.done=Math.abs(D)<=c,d.value=d.done?g:j};let _,I;const T=F=>{h(d.value)&&(_=F,I=JB({keyframes:[d.value,p(d.value)],velocity:JK(b,F,d.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:F=>{let D=!1;return!I&&_===void 0&&(D=!0,C(F),T(F)),_!==void 0&&F>=_?I.next(F-_):(!D&&C(F),d)}}}function mme(t,e,n){const r=[],s=n||gd.mix||YK,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ic:e;a=Kx(l,a)}r.push(a)}return r}function e9(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(q0(i===e.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=mme(e,r,s),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let A=0;if(l>1)for(;A<t.length-2&&!(u<t[A+1]);A++);const d=qv(t[A],t[A+1],u);return a[A](d)};return n?u=>c(wA(t[0],t[i-1],u)):c}function gme(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=qv(0,e,r);t.push(ps(n,1,s))}}function yme(t){const e=[0];return gme(e,t.length-1),e}function wme(t,e){return t.map(n=>n*e)}function vme(t,e){return t.map(()=>e||MK).splice(0,t.length-1)}function Av({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=Lpe(r)?r.map(p6):p6(r),i={done:!1,value:e[0]},o=wme(n&&n.length===e.length?n:yme(e),t),a=e9(o,e,{ease:Array.isArray(s)?s:vme(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const xme=t=>t!==null;function pR(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(xme),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const bme={decay:w4,inertia:w4,tween:Av,keyframes:Av,spring:JB};function t9(t){typeof t.type=="string"&&(t.type=bme[t.type])}class mR{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Cme=t=>t/100;class RN extends mR{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Ko.now()&&this.tick(Ko.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;t9(e);const{type:n=Av,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Av;l!==Av&&typeof a[0]!="number"&&(this.mixKeyframes=Kx(Cme,YK(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=fR(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:A,repeatType:d,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let b=this.currentTime,C=r;if(A){const F=Math.min(this.currentTime,s)/a;let D=Math.floor(F),j=F%1;!j&&F>=1&&(j=1),j===1&&D--,D=Math.min(D,A+1),!!(D%2)&&(d==="reverse"?(j=1-j,h&&(j-=h/a)):d==="mirror"&&(C=o)),b=wA(0,1,j)*a}const _=v?{done:!1,value:u[0]}:C.next(b);i&&(_.value=i(_.value));let{done:I}=_;!v&&l!==null&&(I=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return T&&p!==w4&&(_.value=pR(u,this.options,y,this.speed)),m&&m(_.value),T&&this.finish(),_}then(e,n){return this.finished.then(e,n)}get duration(){return Xl(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xl(e)}get time(){return Xl(this.currentTime)}set time(e){var n;e=lA(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ko.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Xl(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=ame,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ko.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Sme(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Lp=t=>t*180/Math.PI,v4=t=>{const e=Lp(Math.atan2(t[1],t[0]));return x4(e)},Bme={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:v4,rotateZ:v4,skewX:t=>Lp(Math.atan(t[1])),skewY:t=>Lp(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},x4=t=>(t=t%360,t<0&&(t+=360),t),C6=v4,S6=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),B6=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),_me={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:S6,scaleY:B6,scale:t=>(S6(t)+B6(t))/2,rotateX:t=>x4(Lp(Math.atan2(t[6],t[5]))),rotateY:t=>x4(Lp(Math.atan2(-t[2],t[0]))),rotateZ:C6,rotate:C6,skewX:t=>Lp(Math.atan(t[4])),skewY:t=>Lp(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function b4(t){return t.includes("scale")?1:0}function C4(t,e){if(!t||t==="none")return b4(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=_me,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Bme,s=a}if(!s)return b4(e);const i=r[e],o=s[1].split(",").map(Ime);return typeof i=="function"?i(o):o[i]}const Nme=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return C4(n,e)};function Ime(t){return parseFloat(t.trim())}const Sy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],By=new Set(Sy),_6=t=>t===Cy||t===It,Eme=new Set(["x","y","z"]),kme=Sy.filter(t=>!Eme.has(t));function Tme(t){const e=[];return kme.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const kh={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>C4(e,"x"),y:(t,{transform:e})=>C4(e,"y")};kh.translateX=kh.x;kh.translateY=kh.y;const qp=new Set;let S4=!1,B4=!1,_4=!1;function n9(){if(B4){const t=Array.from(qp).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=Tme(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}B4=!1,S4=!1,qp.forEach(t=>t.complete(_4)),qp.clear()}function r9(){qp.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(B4=!0)})}function Fme(){_4=!0,r9(),n9(),_4=!1}class gR{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(qp.add(this),S4||(S4=!0,Rr.read(r9),Rr.resolveKeyframes(n9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}Sme(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),qp.delete(this)}cancel(){this.state==="scheduled"&&(qp.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Lme=t=>t.startsWith("--");function Dme(t,e,n){Lme(e)?t.style.setProperty(e,n):t.style[e]=n}const Rme=oR(()=>window.ScrollTimeline!==void 0),Pme={};function Ome(t,e){const n=oR(t);return()=>Pme[e]??n()}const s9=Ome(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lw=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,N6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lw([0,.65,.55,1]),circOut:Lw([.55,0,1,.45]),backIn:Lw([.31,.01,.66,-.59]),backOut:Lw([.33,1.53,.69,.99])};function i9(t,e){if(t)return typeof t=="function"?s9()?ZK(t,e):"ease-out":QK(t)?Lw(t):Array.isArray(t)?t.map(n=>i9(n,e)||N6.easeOut):N6[t]}function $me(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const A=i9(a,s);Array.isArray(A)&&(u.easing=A);const d={delay:r,duration:s,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(d.pseudoElement=c),t.animate(u,d)}function o9(t){return typeof t=="function"&&"applyToOptions"in t}function Ume({type:t,...e}){return o9(t)&&s9()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Mme extends mR{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,q0(typeof e.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const c=Ume(e);this.animation=$me(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=pR(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):Dme(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Xl(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xl(e)}get time(){return Xl(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=lA(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Rme()?(this.animation.timeline=e,ic):n(this)}}const a9={anticipate:OK,backInOut:PK,circInOut:UK};function Qme(t){return t in a9}function jme(t){typeof t.ease=="string"&&Qme(t.ease)&&(t.ease=a9[t.ease])}const ST=10;class Hme extends Mme{constructor(e){jme(e),t9(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new RN({...o,autoplay:!1}),l=Math.max(ST,Ko.now()-this.startTime),c=wA(0,ST,l-ST);n.setWithVelocity(a.sample(Math.max(0,l-c)).value,a.sample(l).value,c),a.stop()}}const I6=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(lf.test(t)||t==="0")&&!t.startsWith("url("));function zme(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Vme(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=I6(s,e),a=I6(i,e);return DN(o===a,`You are trying to animate ${e} from "${s}" to "${i}". "${o?i:s}" is not an animatable value.`,"value-not-animatable"),!o||!a?!1:zme(t)||(n==="spring"||o9(n))&&r}function N4(t){t.duration=0,t.type="keyframes"}const Wme=new Set(["opacity","clipPath","filter","transform"]),Gme=oR(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Kme(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return Gme()&&n&&Wme.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const qme=40;class Xme extends mR{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...A}){var p;super(),this.stop=()=>{var m,y;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Ko.now();const d={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:u,...A},h=(u==null?void 0:u.KeyframeResolver)||gR;this.keyframeResolver=new h(a,(m,y,g)=>this.onKeyframesResolved(m,y,d,!g),l,c,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=Ko.now(),Vme(e,i,o,a)||((gd.instantAnimations||!l)&&(u==null||u(pR(e,r,n))),e[0]=e[e.length-1],N4(r),r.repeat=0);const d={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>qme?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},h=!c&&Kme(d)?new Hme({...d,element:d.motionValue.owner.current}):new RN(d);h.finished.then(()=>this.notifyFinished()).catch(ic),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Fme()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Yme=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Zme(t){const e=Yme.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}const Jme=4;function l9(t,e,n=1){q0(n<=Jme,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,s]=Zme(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return IK(o)?parseFloat(o):o}return uR(s)?l9(s,e,n+1):s}function yR(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const c9=new Set(["width","height","top","left","right","bottom",...Sy]),ege={test:t=>t==="auto",parse:t=>t},u9=t=>e=>e.test(t),A9=[Cy,It,cA,uh,Vpe,zpe,ege],E6=t=>A9.find(u9(t));function tge(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||kK(t):!0}const nge=new Set(["brightness","contrast","saturate","opacity"]);function rge(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(AR)||[];if(!r)return t;const s=n.replace(r,"");let i=nge.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const sge=/\b([a-z-]*)\(.*?\)/gu,I4={...lf,getAnimatableNone:t=>{const e=t.match(sge);return e?e.map(rge).join(" "):t}},k6={...Cy,transform:Math.round},ige={rotate:uh,rotateX:uh,rotateY:uh,rotateZ:uh,scale:DC,scaleX:DC,scaleY:DC,scaleZ:DC,skew:uh,skewX:uh,skewY:uh,distance:It,translateX:It,translateY:It,translateZ:It,x:It,y:It,z:It,perspective:It,transformPerspective:It,opacity:Xv,originX:y6,originY:y6,originZ:It},wR={borderWidth:It,borderTopWidth:It,borderRightWidth:It,borderBottomWidth:It,borderLeftWidth:It,borderRadius:It,radius:It,borderTopLeftRadius:It,borderTopRightRadius:It,borderBottomRightRadius:It,borderBottomLeftRadius:It,width:It,maxWidth:It,height:It,maxHeight:It,top:It,right:It,bottom:It,left:It,inset:It,insetBlock:It,insetBlockStart:It,insetBlockEnd:It,insetInline:It,insetInlineStart:It,insetInlineEnd:It,padding:It,paddingTop:It,paddingRight:It,paddingBottom:It,paddingLeft:It,paddingBlock:It,paddingBlockStart:It,paddingBlockEnd:It,paddingInline:It,paddingInlineStart:It,paddingInlineEnd:It,margin:It,marginTop:It,marginRight:It,marginBottom:It,marginLeft:It,marginBlock:It,marginBlockStart:It,marginBlockEnd:It,marginInline:It,marginInlineStart:It,marginInlineEnd:It,backgroundPositionX:It,backgroundPositionY:It,...ige,zIndex:k6,fillOpacity:Xv,strokeOpacity:Xv,numOctaves:k6},oge={...wR,color:Xs,backgroundColor:Xs,outlineColor:Xs,fill:Xs,stroke:Xs,borderColor:Xs,borderTopColor:Xs,borderRightColor:Xs,borderBottomColor:Xs,borderLeftColor:Xs,filter:I4,WebkitFilter:I4},d9=t=>oge[t];function h9(t,e){let n=d9(t);return n!==I4&&(n=lf),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const age=new Set(["auto","none","0"]);function lge(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!age.has(i)&&Yv(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=h9(n,s)}class cge extends gR{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let A=e[u];if(typeof A=="string"&&(A=A.trim(),uR(A))){const d=l9(A,n.current);d!==void 0&&(e[u]=d),u===e.length-1&&(this.finalKeyframe=A)}}if(this.resolveNoneKeyframes(),!c9.has(r)||e.length!==2)return;const[s,i]=e,o=E6(s),a=E6(i),l=g6(s),c=g6(i);if(l!==c&&kh[r]){this.needsMeasurement=!0;return}if(o!==a)if(_6(o)&&_6(a))for(let u=0;u<e.length;u++){const A=e[u];typeof A=="string"&&(e[u]=parseFloat(A))}else kh[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||tge(e[s]))&&r.push(s);r.length&&lge(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=kh[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function uge(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const f9=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function p9(t){return EK(t)&&"offsetHeight"in t}const T6=30,Age=t=>!isNaN(parseFloat(t)),dv={current:void 0};class dge{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Ko.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ko.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Age(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new aR);const r=this.events[e].add(n);return e==="change"?()=>{r(),Rr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return dv.current&&dv.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ko.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>T6)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,T6);return TK(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function um(t,e){return new dge(t,e)}const{schedule:vR,cancel:Ont}=jK(queueMicrotask,!1),Hc={x:!1,y:!1};function m9(){return Hc.x||Hc.y}function hge(t){return t==="x"||t==="y"?Hc[t]?null:(Hc[t]=!0,()=>{Hc[t]=!1}):Hc.x||Hc.y?null:(Hc.x=Hc.y=!0,()=>{Hc.x=Hc.y=!1})}function g9(t,e){const n=uge(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function F6(t){return!(t.pointerType==="touch"||m9())}function fge(t,e,n={}){const[r,s,i]=g9(t,n),o=a=>{if(!F6(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=A=>{F6(A)&&(c(A),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const y9=(t,e)=>e?t===e?!0:y9(t,e.parentElement):!1,xR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pge=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function w9(t){return pge.has(t.tagName)||t.isContentEditable===!0}const YS=new WeakSet;function L6(t){return e=>{e.key==="Enter"&&t(e)}}function BT(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const mge=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=L6(()=>{if(YS.has(n))return;BT(n,"down");const s=L6(()=>{BT(n,"up")}),i=()=>BT(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function D6(t){return xR(t)&&!m9()}function gge(t,e,n={}){const[r,s,i]=g9(t,n),o=a=>{const l=a.currentTarget;if(!D6(a))return;YS.add(l);const c=e(l,a),u=(h,p)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",d),YS.has(l)&&YS.delete(l),D6(h)&&typeof c=="function"&&c(h,{success:p})},A=h=>{u(h,l===window||l===document||n.useGlobalTarget||y9(l,h.target))},d=h=>{u(h,!1)};window.addEventListener("pointerup",A,s),window.addEventListener("pointercancel",d,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),p9(a)&&(a.addEventListener("focus",c=>mge(c,s)),!w9(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function v9(t){return EK(t)&&"ownerSVGElement"in t}function yge(t){return v9(t)&&t.tagName==="svg"}function wge(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],s=t[1+n],i=t[2+n],o=t[3+n],a=e9(s,i,o);return e?a(r):a}const ki=t=>!!(t&&t.getVelocity);function vge(t,e,n){const r=t.get();let s=null,i=r,o;const a=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,l=()=>{s&&(s.stop(),s=null)},c=()=>{l(),s=new RN({keyframes:[P6(t.get()),P6(i)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:o})};if(t.attach((u,A)=>{i=u,o=d=>A(R6(d,a)),Rr.postRender(()=>{var d;c(),(d=t.events.animationStart)==null||d.notify(),s==null||s.then(()=>{var h;(h=t.events.animationComplete)==null||h.notify()})})},l),ki(e)){const u=e.on("change",d=>t.set(R6(d,a))),A=t.on("destroy",u);return()=>{u(),A()}}return l}function R6(t,e){return e?t+e:t}function P6(t){return typeof t=="number"?t:parseFloat(t)}const xge=[...A9,Xs,lf],bge=t=>xge.find(u9(t)),Yx=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function O6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Cge(...t){return e=>{let n=!1;const r=t.map(s=>{const i=O6(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():O6(t[s],null)}}}}function Sge(...t){return P.useCallback(Cge(...t),t)}class Bge extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=p9(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _ge({children:t,isPresent:e,anchorX:n,root:r}){var u;const s=P.useId(),i=P.useRef(null),o=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=P.useContext(Yx),l=((u=t.props)==null?void 0:u.ref)??(t==null?void 0:t.ref),c=Sge(i,l);return P.useInsertionEffect(()=>{const{width:A,height:d,top:h,left:p,right:m}=o.current;if(e||!i.current||!A||!d)return;const y=n==="left"?`left: ${p}`:`right: ${m}`;i.current.dataset.motionPopId=s;const g=document.createElement("style");a&&(g.nonce=a);const v=r??document.head;return v.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${A}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{v.contains(g)&&v.removeChild(g)}},[e]),x.jsx(Bge,{isPresent:e,childRef:i,sizeRef:o,children:P.cloneElement(t,{ref:c})})}const Nge=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const c=Gx(Ige),u=P.useId();let A=!0,d=P.useMemo(()=>(A=!1,{id:u,initial:e,isPresent:n,custom:s,onExitComplete:h=>{c.set(h,!0);for(const p of c.values())if(!p)return;r&&r()},register:h=>(c.set(h,!1),()=>c.delete(h))}),[n,c,r]);return i&&A&&(d={...d}),P.useMemo(()=>{c.forEach((h,p)=>c.set(p,!1))},[n]),P.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=x.jsx(_ge,{isPresent:n,anchorX:a,root:l,children:t})),x.jsx(LN.Provider,{value:d,children:t})};function Ige(){return new Map}function x9(t=!0){const e=P.useContext(LN);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=P.useId();P.useEffect(()=>{if(t)return s(i)},[t]);const o=P.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const RC=t=>t.key||"";function $6(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const e_=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,u]=x9(o),A=P.useMemo(()=>$6(t),[t]),d=o&&!c?[]:A.map(RC),h=P.useRef(!0),p=P.useRef(A),m=Gx(()=>new Map),y=P.useRef(new Set),[g,v]=P.useState(A),[b,C]=P.useState(A);rR(()=>{h.current=!1,p.current=A;for(let T=0;T<b.length;T++){const F=RC(b[T]);d.includes(F)?(m.delete(F),y.current.delete(F)):m.get(F)!==!0&&m.set(F,!1)}},[b,d.length,d.join("-")]);const _=[];if(A!==g){let T=[...A];for(let F=0;F<b.length;F++){const D=b[F],j=RC(D);d.includes(j)||(T.splice(F,0,D),_.push(D))}return i==="wait"&&_.length&&(T=_),C($6(T)),v(A),null}const{forceRender:I}=P.useContext(tR);return x.jsx(x.Fragment,{children:b.map(T=>{const F=RC(T),D=o&&!c?!1:A===b||d.includes(F),j=()=>{if(y.current.has(F))return;if(y.current.add(F),m.has(F))m.set(F,!0);else return;let O=!0;m.forEach(U=>{U||(O=!1)}),O&&(I==null||I(),C(p.current),o&&(u==null||u()),r&&r())};return x.jsx(Nge,{isPresent:D,initial:!h.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:D?void 0:j,anchorX:a,children:T},F)})})},b9=P.createContext({strict:!1}),U6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},X0={};for(const t in U6)X0[t]={isEnabled:e=>U6[t].some(n=>!!e[n])};function Ege(t){for(const e in t)X0[e]={...X0[e],...t[e]}}const kge=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function t_(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||kge.has(t)}let C9=t=>!t_(t);function Tge(t){typeof t=="function"&&(C9=e=>e.startsWith("on")?!t_(e):t(e))}try{Tge(require("@emotion/is-prop-valid").default)}catch{}function Fge(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(C9(s)||n===!0&&t_(s)||!e&&!t_(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const PN=P.createContext({});function ON(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Zv(t){return typeof t=="string"||Array.isArray(t)}const bR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],CR=["initial",...bR];function $N(t){return ON(t.animate)||CR.some(e=>Zv(t[e]))}function S9(t){return!!($N(t)||t.variants)}function Lge(t,e){if($N(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Zv(n)?n:void 0,animate:Zv(r)?r:void 0}}return t.inherit!==!1?e:{}}function Dge(t){const{initial:e,animate:n}=Lge(t,P.useContext(PN));return P.useMemo(()=>({initial:e,animate:n}),[M6(e),M6(n)])}function M6(t){return Array.isArray(t)?t.join(" "):t}function Q6(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const hw={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(It.test(t))t=parseFloat(t);else return t;const n=Q6(t,e.target.x),r=Q6(t,e.target.y);return`${n}% ${r}%`}},Rge={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=lf.parse(t);if(s.length>5)return r;const i=lf.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=ps(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},E4={borderRadius:{...hw,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hw,borderTopRightRadius:hw,borderBottomLeftRadius:hw,borderBottomRightRadius:hw,boxShadow:Rge};function B9(t,{layout:e,layoutId:n}){return By.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!E4[t]||t==="opacity")}const Pge={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Oge=Sy.length;function $ge(t,e,n){let r="",s=!0;for(let i=0;i<Oge;i++){const o=Sy[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=f9(a,wR[o]);if(!l){s=!1;const u=Pge[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function SR(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(By.has(l)){o=!0;continue}else if(zK(l)){s[l]=c;continue}else{const u=f9(c,wR[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=$ge(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}const BR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _9(t,e,n){for(const r in e)!ki(e[r])&&!B9(r,n)&&(t[r]=e[r])}function Uge({transformTemplate:t},e){return P.useMemo(()=>{const n=BR();return SR(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Mge(t,e){const n=t.style||{},r={};return _9(r,n,t),Object.assign(r,Uge(t,e)),r}function Qge(t,e){const n={},r=Mge(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const jge={offset:"stroke-dashoffset",array:"stroke-dasharray"},Hge={offset:"strokeDashoffset",array:"strokeDasharray"};function zge(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?jge:Hge;t[i.offset]=It.transform(-r);const o=It.transform(e),a=It.transform(n);t[i.array]=`${o} ${a}`}const Vge=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function N9(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,u){if(SR(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:A,style:d}=t;A.transform&&(d.transform=A.transform,delete A.transform),(d.transform||A.transformOrigin)&&(d.transformOrigin=A.transformOrigin??"50% 50%",delete A.transformOrigin),d.transform&&(d.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete A.transformBox);for(const h of Vge)A[h]!==void 0&&(d[h]=A[h],delete A[h]);e!==void 0&&(A.x=e),n!==void 0&&(A.y=n),r!==void 0&&(A.scale=r),s!==void 0&&zge(A,s,i,o,!1)}const I9=()=>({...BR(),attrs:{}}),E9=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Wge(t,e,n,r){const s=P.useMemo(()=>{const i=I9();return N9(i,e,E9(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};_9(i,t.style,t),s.style={...i,...s.style}}return s}const Gge=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _R(t){return typeof t!="string"||t.includes("-")?!1:!!(Gge.indexOf(t)>-1||/[A-Z]/u.test(t))}function Kge(t,e,n,{latestValues:r},s,i=!1,o){const l=(o??_R(t)?Wge:Qge)(e,r,s,t),c=Fge(e,typeof t=="string",i),u=t!==P.Fragment?{...c,...l,ref:n}:{},{children:A}=e,d=P.useMemo(()=>ki(A)?A.get():A,[A]);return P.createElement(t,{...u,children:d})}function j6(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function NR(t,e,n,r){if(typeof e=="function"){const[s,i]=j6(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=j6(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function ZS(t){return ki(t)?t.get():t}function qge({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:Xge(n,r,s,t),renderState:e()}}function Xge(t,e,n,r){const s={},i=r(t,{});for(const d in i)s[d]=ZS(i[d]);let{initial:o,animate:a}=t;const l=$N(t),c=S9(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const A=u?a:o;if(A&&typeof A!="boolean"&&!ON(A)){const d=Array.isArray(A)?A:[A];for(let h=0;h<d.length;h++){const p=NR(t,d[h]);if(p){const{transitionEnd:m,transition:y,...g}=p;for(const v in g){let b=g[v];if(Array.isArray(b)){const C=u?b.length-1:0;b=b[C]}b!==null&&(s[v]=b)}for(const v in m)s[v]=m[v]}}}return s}const k9=t=>(e,n)=>{const r=P.useContext(PN),s=P.useContext(LN),i=()=>qge(t,e,r,s);return n?i():Gx(i)};function IR(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(ki(r[o])||e.style&&ki(e.style[o])||B9(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const Yge=k9({scrapeMotionValuesFromProps:IR,createRenderState:BR});function T9(t,e,n){const r=IR(t,e,n);for(const s in t)if(ki(t[s])||ki(e[s])){const i=Sy.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const Zge=k9({scrapeMotionValuesFromProps:T9,createRenderState:I9}),Jge=Symbol.for("motionComponentSymbol");function e0e(t,e,n){const r=P.useRef(n);P.useInsertionEffect(()=>{r.current=n});const s=P.useRef(null);return P.useCallback(i=>{var a;i&&((a=t.onMount)==null||a.call(t,i)),e&&(i?e.mount(i):e.unmount());const o=r.current;if(typeof o=="function")if(i){const l=o(i);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[e])}const ER=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),t0e="framerAppearId",F9="data-"+ER(t0e),L9=P.createContext({});function Dw(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function n0e(t,e,n,r,s,i){var y,g;const{visualElement:o}=P.useContext(PN),a=P.useContext(b9),l=P.useContext(LN),c=P.useContext(Yx).reducedMotion,u=P.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:i}));const A=u.current,d=P.useContext(L9);A&&!A.projection&&s&&(A.type==="html"||A.type==="svg")&&r0e(u.current,n,s,d);const h=P.useRef(!1);P.useInsertionEffect(()=>{A&&h.current&&A.update(n,l)});const p=n[F9],m=P.useRef(!!p&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,p))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,p)));return rR(()=>{A&&(h.current=!0,window.MotionIsMounted=!0,A.updateFeatures(),A.scheduleRenderMicrotask(),m.current&&A.animationState&&A.animationState.animateChanges())}),P.useEffect(()=>{A&&(!m.current&&A.animationState&&A.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,p)}),m.current=!1),A.enteringChildren=void 0)}),A}function r0e(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:D9(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Dw(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function D9(t){if(t)return t.options.allowProjection!==!1?t.projection:D9(t.parent)}function _T(t,{forwardMotionProps:e=!1,type:n}={},r,s){r&&Ege(r);const i=n?n==="svg":_R(t),o=i?Zge:Yge;function a(c,u){let A;const d={...P.useContext(Yx),...c,layoutId:s0e(c)},{isStatic:h}=d,p=Dge(c),m=o(c,h);if(!h&&nR){i0e();const y=o0e(d);A=y.MeasureLayout,p.visualElement=n0e(t,m,d,s,y.ProjectionNode,i)}return x.jsxs(PN.Provider,{value:p,children:[A&&p.visualElement?x.jsx(A,{visualElement:p.visualElement,...d}):null,Kge(t,c,e0e(m,p.visualElement,u),m,h,e,i)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=P.forwardRef(a);return l[Jge]=t,l}function s0e({layoutId:t}){const e=P.useContext(tR).id;return e&&t!==void 0?e+"-"+t:t}function i0e(t,e){P.useContext(b9).strict}function o0e(t){const{drag:e,layout:n}=X0;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function a0e(t,e){if(typeof Proxy>"u")return _T;const n=new Map,r=(i,o)=>_T(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,_T(o,void 0,t,e)),n.get(o))})}function R9({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function l0e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function c0e(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function NT(t){return t===void 0||t===1}function k4({scale:t,scaleX:e,scaleY:n}){return!NT(t)||!NT(e)||!NT(n)}function pp(t){return k4(t)||P9(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function P9(t){return H6(t.x)||H6(t.y)}function H6(t){return t&&t!=="0%"}function n_(t,e,n){const r=t-n,s=e*r;return n+s}function z6(t,e,n,r,s){return s!==void 0&&(t=n_(t,s,r)),n_(t,n,r)+e}function T4(t,e=0,n=1,r,s){t.min=z6(t.min,e,n,r,s),t.max=z6(t.max,e,n,r,s)}function O9(t,{x:e,y:n}){T4(t.x,e.translate,e.scale,e.originPoint),T4(t.y,n.translate,n.scale,n.originPoint)}const V6=.999999999999,W6=1.0000000000001;function u0e(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&n0(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,O9(t,o)),r&&pp(i.latestValues)&&n0(t,i.latestValues))}e.x<W6&&e.x>V6&&(e.x=1),e.y<W6&&e.y>V6&&(e.y=1)}function t0(t,e){t.min=t.min+e,t.max=t.max+e}function G6(t,e,n,r,s=.5){const i=ps(t.min,t.max,s);T4(t,e,n,i,r)}function n0(t,e){G6(t.x,e.x,e.scaleX,e.scale,e.originX),G6(t.y,e.y,e.scaleY,e.scale,e.originY)}function $9(t,e){return R9(c0e(t.getBoundingClientRect(),e))}function A0e(t,e,n){const r=$9(t,n),{scroll:s}=e;return s&&(t0(r.x,s.offset.x),t0(r.y,s.offset.y)),r}const K6=()=>({translate:0,scale:1,origin:0,originPoint:0}),r0=()=>({x:K6(),y:K6()}),q6=()=>({min:0,max:0}),hi=()=>({x:q6(),y:q6()}),F4={current:null},U9={current:!1};function d0e(){if(U9.current=!0,!!nR)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>F4.current=t.matches;t.addEventListener("change",e),e()}else F4.current=!1}const h0e=new WeakMap;function f0e(t,e,n){for(const r in e){const s=e[r],i=n[r];if(ki(s))t.addValue(r,s);else if(ki(i))t.addValue(r,um(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,um(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const X6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class p0e{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=Ko.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,Rr.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=$N(n),this.isVariantNode=S9(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...A}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in A){const h=A[d];l[d]!==void 0&&ki(h)&&h.set(l[d])}}mount(e){var n;this.current=e,h0e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(U9.current||d0e(),this.shouldReduceMotion=F4.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),yd(this.notifyUpdate),yd(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=By.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Rr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in X0){const n=X0[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<X6.length;r++){const s=X6[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=f0e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=um(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(IK(r)||kK(r))?r=parseFloat(r):!bge(r)&&lf.test(n)&&(r=h9(e,n)),this.setBaseTarget(e,ki(r)?r.get():r)),ki(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=NR(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ki(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new aR),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){vR.render(this.render)}}class M9 extends p0e{constructor(){super(...arguments),this.KeyframeResolver=cge}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ki(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Q9(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function m0e(t){return window.getComputedStyle(t)}class g0e extends M9{constructor(){super(...arguments),this.type="html",this.renderInstance=Q9}readValueFromInstance(e,n){var r;if(By.has(n))return(r=this.projection)!=null&&r.isProjecting?b4(n):Nme(e,n);{const s=m0e(e),i=(zK(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return $9(e,n)}build(e,n,r){SR(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return IR(e,n,r)}}const j9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function y0e(t,e,n,r){Q9(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(j9.has(s)?s:ER(s),e.attrs[s])}class w0e extends M9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=hi}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(By.has(n)){const r=d9(n);return r&&r.default||0}return n=j9.has(n)?n:ER(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return T9(e,n,r)}build(e,n,r){N9(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){y0e(e,n,r,s)}mount(e){this.isSVGTag=E9(e.tagName),super.mount(e)}}const v0e=(t,e)=>e.isSVG??_R(t)?new w0e(e):new g0e(e,{allowProjection:t!==P.Fragment});function m0(t,e,n){const r=t.getProps();return NR(r,e,n!==void 0?n:r.custom,t)}const L4=t=>Array.isArray(t);function x0e(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,um(n))}function b0e(t){return L4(t)?t[t.length-1]||0:t}function C0e(t,e){const n=m0(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=b0e(i[o]);x0e(t,o,a)}}function S0e(t){return!!(ki(t)&&t.add)}function D4(t,e){const n=t.getValue("willChange");if(S0e(n))return n.add(e);if(!n&&gd.WillChange){const r=new gd.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function H9(t){return t.props[F9]}const B0e=t=>t!==null;function _0e(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(B0e),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const N0e={type:"spring",stiffness:500,damping:25,restSpeed:10},I0e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),E0e={type:"keyframes",duration:.8},k0e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},T0e=(t,{keyframes:e})=>e.length>2?E0e:By.has(t)?t.startsWith("scale")?I0e(e[1]):N0e:k0e;function F0e({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const kR=(t,e,n,r={},s,i)=>o=>{const a=yR(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-lA(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};F0e(a)||Object.assign(u,T0e(t,u)),u.duration&&(u.duration=lA(u.duration)),u.repeatDelay&&(u.repeatDelay=lA(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let A=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(N4(u),u.delay===0&&(A=!0)),(gd.instantAnimations||gd.skipAnimations)&&(A=!0,N4(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,A&&!i&&e.get()!==void 0){const d=_0e(u.keyframes,a);if(d!==void 0){Rr.update(()=>{u.onUpdate(d),u.onComplete()});return}}return a.isSync?new RN(u):new Xme(u)};function L0e({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function z9(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const u in a){const A=t.getValue(u,t.latestValues[u]??null),d=a[u];if(d===void 0||c&&L0e(c,u))continue;const h={delay:n,...yR(i||{},u)},p=A.get();if(p!==void 0&&!A.isAnimating&&!Array.isArray(d)&&d===p&&!h.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const g=H9(t);if(g){const v=window.MotionHandoffAnimation(g,u,Rr);v!==null&&(h.startTime=v,m=!0)}}D4(t,u),A.start(kR(u,A,d,t.shouldReduceMotion&&c9.has(u)?{type:!1}:h,t,m));const y=A.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{Rr.update(()=>{o&&C0e(t,o)})}),l}function V9(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function R4(t,e,n={}){var l;const r=m0(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(z9(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:A,staggerDirection:d}=s;return D0e(t,e,c,u,A,d,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,u]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function D0e(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(R4(l,e,{...o,delay:n+(typeof r=="function"?0:r)+V9(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function R0e(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>R4(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=R4(t,e,n);else{const s=typeof e=="function"?m0(t,e,n.custom):e;r=Promise.all(z9(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function W9(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const P0e=CR.length;function G9(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?G9(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<P0e;n++){const r=CR[n],s=t.props[r];(Zv(s)||s===!1)&&(e[r]=s)}return e}const O0e=[...bR].reverse(),$0e=bR.length;function U0e(t){return e=>Promise.all(e.map(({animation:n,options:r})=>R0e(t,n,r)))}function M0e(t){let e=U0e(t),n=Y6(),r=!0;const s=l=>(c,u)=>{var d;const A=m0(t,u,l==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);if(A){const{transition:h,transitionEnd:p,...m}=A;c={...c,...m,...p}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=G9(t.parent)||{},A=[],d=new Set;let h={},p=1/0;for(let y=0;y<$0e;y++){const g=O0e[y],v=n[g],b=c[g]!==void 0?c[g]:u[g],C=Zv(b),_=g===l?v.isActive:null;_===!1&&(p=y);let I=b===u[g]&&b!==c[g]&&C;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),v.protectedKeys={...h},!v.isActive&&_===null||!b&&!v.prevProp||ON(b)||typeof b=="boolean")continue;const T=Q0e(v.prevProp,b);let F=T||g===l&&v.isActive&&!I&&C||y>p&&C,D=!1;const j=Array.isArray(b)?b:[b];let O=j.reduce(s(g),{});_===!1&&(O={});const{prevResolvedValues:U={}}=v,W={...U,...O},$=oe=>{F=!0,d.has(oe)&&(D=!0,d.delete(oe)),v.needsAnimating[oe]=!0;const V=t.getValue(oe);V&&(V.liveStyle=!1)};for(const oe in W){const V=O[oe],Y=U[oe];if(h.hasOwnProperty(oe))continue;let ce=!1;L4(V)&&L4(Y)?ce=!W9(V,Y):ce=V!==Y,ce?V!=null?$(oe):d.add(oe):V!==void 0&&d.has(oe)?$(oe):v.protectedKeys[oe]=!0}v.prevProp=b,v.prevResolvedValues=O,v.isActive&&(h={...h,...O}),r&&t.blockInitialAnimation&&(F=!1);const J=I&&T;F&&(!J||D)&&A.push(...j.map(oe=>{const V={type:g};if(typeof oe=="string"&&r&&!J&&t.manuallyAnimateOnMount&&t.parent){const{parent:Y}=t,ce=m0(Y,oe);if(Y.enteringChildren&&ce){const{delayChildren:he}=ce.transition||{};V.delay=V9(Y.enteringChildren,t,he)}}return{animation:oe,options:V}}))}if(d.size){const y={};if(typeof c.initial!="boolean"){const g=m0(t,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(y.transition=g.transition)}d.forEach(g=>{const v=t.getBaseTarget(g),b=t.getValue(g);b&&(b.liveStyle=!0),y[g]=v??null}),A.push({animation:y})}let m=!!A.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(A):Promise.resolve()}function a(l,c){var A;if(n[l].isActive===c)return Promise.resolve();(A=t.variantChildren)==null||A.forEach(d=>{var h;return(h=d.animationState)==null?void 0:h.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const d in n)n[d].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Y6()}}}function Q0e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!W9(e,t):!1}function lp(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Y6(){return{animate:lp(!0),whileInView:lp(),whileHover:lp(),whileTap:lp(),whileDrag:lp(),whileFocus:lp(),exit:lp()}}class Ef{constructor(e){this.isMounted=!1,this.node=e}update(){}}class j0e extends Ef{constructor(e){super(e),e.animationState||(e.animationState=M0e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ON(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let H0e=0;class z0e extends Ef{constructor(){super(...arguments),this.id=H0e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const V0e={animation:{Feature:j0e},exit:{Feature:z0e}};function Jv(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Zx(t){return{point:{x:t.pageX,y:t.pageY}}}const W0e=t=>e=>xR(e)&&t(e,Zx(e));function hv(t,e,n,r){return Jv(t,e,W0e(n),r)}const K9=1e-4,G0e=1-K9,K0e=1+K9,q9=.01,q0e=0-q9,X0e=0+q9;function qo(t){return t.max-t.min}function Y0e(t,e,n){return Math.abs(t-e)<=n}function Z6(t,e,n,r=.5){t.origin=r,t.originPoint=ps(e.min,e.max,t.origin),t.scale=qo(n)/qo(e),t.translate=ps(n.min,n.max,t.origin)-t.originPoint,(t.scale>=G0e&&t.scale<=K0e||isNaN(t.scale))&&(t.scale=1),(t.translate>=q0e&&t.translate<=X0e||isNaN(t.translate))&&(t.translate=0)}function fv(t,e,n,r){Z6(t.x,e.x,n.x,r?r.originX:void 0),Z6(t.y,e.y,n.y,r?r.originY:void 0)}function J6(t,e,n){t.min=n.min+e.min,t.max=t.min+qo(e)}function Z0e(t,e,n){J6(t.x,e.x,n.x),J6(t.y,e.y,n.y)}function eQ(t,e,n){t.min=e.min-n.min,t.max=t.min+qo(e)}function r_(t,e,n){eQ(t.x,e.x,n.x),eQ(t.y,e.y,n.y)}function Ml(t){return[t("x"),t("y")]}const X9=({current:t})=>t?t.ownerDocument.defaultView:null,tQ=(t,e)=>Math.abs(t-e);function J0e(t,e){const n=tQ(t.x,e.x),r=tQ(t.y,e.y);return Math.sqrt(n**2+r**2)}const nQ=new Set(["auto","scroll"]);class Y9{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=h=>{this.handleScroll(h.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ET(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=J0e(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!m)return;const{point:y}=h,{timestamp:g}=Ki;this.history.push({...y,timestamp:g});const{onStart:v,onMove:b}=this.handlers;p||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=IT(p,this.transformPagePoint),Rr.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:g}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=ET(h.type==="pointercancel"?this.lastMoveEventInfo:IT(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,v),y&&y(h,v)},!xR(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=Zx(e),c=IT(l,this.transformPagePoint),{point:u}=c,{timestamp:A}=Ki;this.history=[{...u,timestamp:A}];const{onSessionStart:d}=n;d&&d(e,ET(c,this.history)),this.removeListeners=Kx(hv(this.contextWindow,"pointermove",this.handlePointerMove),hv(this.contextWindow,"pointerup",this.handlePointerUp),hv(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(nQ.has(r.overflowX)||nQ.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,s),Rr.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),yd(this.updatePoint)}}function IT(t,e){return e?{point:e(t.point)}:t}function rQ(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ET({point:t},e){return{point:t,delta:rQ(t,Z9(e)),offset:rQ(t,eye(e)),velocity:tye(e,.1)}}function eye(t){return t[0]}function Z9(t){return t[t.length-1]}function tye(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Z9(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>lA(e)));)n--;if(!r)return{x:0,y:0};const i=Xl(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function nye(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ps(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ps(n,t,r.max):Math.min(t,n)),t}function sQ(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function rye(t,{top:e,left:n,bottom:r,right:s}){return{x:sQ(t.x,n,s),y:sQ(t.y,e,r)}}function iQ(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function sye(t,e){return{x:iQ(t.x,e.x),y:iQ(t.y,e.y)}}function iye(t,e){let n=.5;const r=qo(t),s=qo(e);return s>r?n=qv(e.min,e.max-r,t.min):r>s&&(n=qv(t.min,t.max-s,e.min)),wA(0,1,n)}function oye(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const P4=.35;function aye(t=P4){return t===!1?t=0:t===!0&&(t=P4),{x:oQ(t,"left","right"),y:oQ(t,"top","bottom")}}function oQ(t,e,n){return{min:aQ(t,e),max:aQ(t,n)}}function aQ(t,e){return typeof t=="number"?t:t[e]||0}const lye=new WeakMap;class cye{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hi(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=A=>{n?(this.stopAnimation(),this.snapToCursor(Zx(A).point)):this.pauseAnimation()},o=(A,d)=>{this.stopAnimation();const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hge(h),!this.openDragLock))return;this.latestPointerEvent=A,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ml(g=>{let v=this.getAxisMotionValue(g).get()||0;if(cA.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const C=b.layout.layoutBox[g];C&&(v=qo(C)*(parseFloat(v)/100))}}this.originPoint[g]=v}),m&&Rr.postRender(()=>m(A,d)),D4(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(A,d)=>{this.latestPointerEvent=A,this.latestPanInfo=d;const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:y}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:g}=d;if(p&&this.currentDirection===null){this.currentDirection=uye(g),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,g),this.updateAxis("y",d.point,g),this.visualElement.render(),y&&y(A,d)},l=(A,d)=>{this.latestPointerEvent=A,this.latestPanInfo=d,this.stop(A,d),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Ml(A=>{var d;return this.getAnimationState(A)==="paused"&&((d=this.getAxisMotionValue(A).animation)==null?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Y9(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:X9(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Rr.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!PC(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=nye(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Dw(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=rye(r.layoutBox,e):this.constraints=!1,this.elastic=aye(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ml(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=oye(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Dw(e))return!1;const r=e.current;q0(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=A0e(r,s.root,this.visualElement.getTransformPagePoint());let o=sye(s.layout.layoutBox,i);if(n){const a=n(l0e(o));this.hasMutatedConstraints=!!a,a&&(o=R9(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Ml(u=>{if(!PC(u,n,this.currentDirection))return;let A=l&&l[u]||{};o&&(A={min:0,max:0});const d=s?200:1e6,h=s?40:1e7,p={type:"inertia",velocity:r?e[u]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...A};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return D4(this.visualElement,e),r.start(kR(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ml(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ml(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ml(n=>{const{drag:r}=this.getProps();if(!PC(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n],l=i.get()||0;i.set(e[n]-ps(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Dw(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ml(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=iye({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ml(o=>{if(!PC(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ps(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;lye.set(this.visualElement,this);const e=this.visualElement.current,n=hv(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&!w9(l.target)&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Dw(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Rr.read(r);const o=Jv(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ml(u=>{const A=this.getAxisMotionValue(u);A&&(this.originPoint[u]+=l[u].translate,A.set(A.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=P4,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function PC(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function uye(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Aye extends Ef{constructor(e){super(e),this.removeGroupControls=ic,this.removeListeners=ic,this.controls=new cye(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ic}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const lQ=t=>(e,n)=>{t&&Rr.postRender(()=>t(e,n))};class dye extends Ef{constructor(){super(...arguments),this.removePointerDownListener=ic}onPointerDown(e){this.session=new Y9(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:X9(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:lQ(e),onStart:lQ(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Rr.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=hv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const JS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let kT=!1;class hye extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),kT&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),JS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,kT=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Rr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),vR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;kT=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function J9(t){const[e,n]=x9(),r=P.useContext(tR);return x.jsx(hye,{...t,layoutGroup:r,switchLayoutGroup:P.useContext(L9),isPresent:e,safeToRemove:n})}function fye(t,e,n){const r=ki(t)?t:um(t);return r.start(kR("",r,e,n)),r.animation}const pye=(t,e)=>t.depth-e.depth;class mye{constructor(){this.children=[],this.isDirty=!1}add(e){sR(this.children,e),this.isDirty=!0}remove(e){iR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pye),this.isDirty=!1,this.children.forEach(e)}}function gye(t,e){const n=Ko.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(yd(r),t(i-e))};return Rr.setup(r,!0),()=>yd(r)}const eq=["TopLeft","TopRight","BottomLeft","BottomRight"],yye=eq.length,cQ=t=>typeof t=="string"?parseFloat(t):t,uQ=t=>typeof t=="number"||It.test(t);function wye(t,e,n,r,s,i){s?(t.opacity=ps(0,n.opacity??1,vye(r)),t.opacityExit=ps(e.opacity??1,0,xye(r))):i&&(t.opacity=ps(e.opacity??1,n.opacity??1,r));for(let o=0;o<yye;o++){const a=`border${eq[o]}Radius`;let l=AQ(e,a),c=AQ(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||uQ(l)===uQ(c)?(t[a]=Math.max(ps(cQ(l),cQ(c),r),0),(cA.test(c)||cA.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ps(e.rotate||0,n.rotate||0,r))}function AQ(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const vye=tq(0,.5,$K),xye=tq(.5,.95,ic);function tq(t,e,n){return r=>r<t?0:r>e?1:n(qv(t,e,r))}function dQ(t,e){t.min=e.min,t.max=e.max}function Uc(t,e){dQ(t.x,e.x),dQ(t.y,e.y)}function hQ(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function fQ(t,e,n,r,s){return t-=e,t=n_(t,1/n,r),s!==void 0&&(t=n_(t,1/s,r)),t}function bye(t,e=0,n=1,r=.5,s,i=t,o=t){if(cA.test(e)&&(e=parseFloat(e),e=ps(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ps(i.min,i.max,r);t===i&&(a-=e),t.min=fQ(t.min,e,n,a,s),t.max=fQ(t.max,e,n,a,s)}function pQ(t,e,[n,r,s],i,o){bye(t,e[n],e[r],e[s],e.scale,i,o)}const Cye=["x","scaleX","originX"],Sye=["y","scaleY","originY"];function mQ(t,e,n,r){pQ(t.x,e,Cye,n?n.x:void 0,r?r.x:void 0),pQ(t.y,e,Sye,n?n.y:void 0,r?r.y:void 0)}function gQ(t){return t.translate===0&&t.scale===1}function nq(t){return gQ(t.x)&&gQ(t.y)}function yQ(t,e){return t.min===e.min&&t.max===e.max}function Bye(t,e){return yQ(t.x,e.x)&&yQ(t.y,e.y)}function wQ(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function rq(t,e){return wQ(t.x,e.x)&&wQ(t.y,e.y)}function vQ(t){return qo(t.x)/qo(t.y)}function xQ(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class _ye{constructor(){this.members=[]}add(e){sR(this.members,e),e.scheduleRender()}remove(e){if(iR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Nye(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:A,rotateY:d,skewX:h,skewY:p}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),A&&(r+=`rotateX(${A}deg) `),d&&(r+=`rotateY(${d}deg) `),h&&(r+=`skewX(${h}deg) `),p&&(r+=`skewY(${p}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const TT=["","X","Y","Z"],Iye=1e3;let Eye=0;function FT(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function sq(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=H9(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Rr,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&sq(r)}function iq({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Eye++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Fye),this.nodes.forEach(Pye),this.nodes.forEach(Oye),this.nodes.forEach(Lye)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new mye)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new aR),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=v9(o)&&!yge(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u,A=0;const d=()=>this.root.updateBlockedByResize=!1;Rr.read(()=>{A=window.innerWidth}),t(o,()=>{const h=window.innerWidth;h!==A&&(A=h,this.root.updateBlockedByResize=!0,u&&u(),u=gye(d,250),JS.hasAnimatedSinceResize&&(JS.hasAnimatedSinceResize=!1,this.nodes.forEach(SQ)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:A,hasRelativeLayoutChanged:d,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||jye,{onLayoutAnimationStart:m,onLayoutAnimationComplete:y}=c.getProps(),g=!this.targetLayout||!rq(this.targetLayout,h),v=!A&&d;if(this.options.layoutRoot||this.resumeFrom||v||A&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...yR(p,"layout"),onPlay:m,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,v)}else A||SQ(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),yd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($ye),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const A=this.path[u];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bQ);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(CQ);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Rye),this.nodes.forEach(kye),this.nodes.forEach(Tye)):this.nodes.forEach(CQ),this.clearAllSnapshots();const a=Ko.now();Ki.delta=wA(0,1e3/60,a-Ki.timestamp),Ki.timestamp=a,Ki.isProcessing=!0,wT.update.process(Ki),wT.preRender.process(Ki),wT.render.process(Ki),Ki.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Dye),this.sharedNodes.forEach(Uye)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qo(this.snapshot.measuredBox.x)&&!qo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=hi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!nq(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||pp(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Hye(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return hi();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(zye))){const{scroll:u}=this.root;u&&(t0(a.x,u.offset.x),t0(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=hi();if(Uc(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:A,options:d}=u;u!==this.root&&A&&d.layoutScroll&&(A.wasRoot&&Uc(a,o),t0(a.x,A.offset.x),t0(a.y,A.offset.y))}return a}applyTransform(o,a=!1){const l=hi();Uc(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&n0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),pp(u.latestValues)&&n0(l,u.latestValues)}return pp(this.latestValues)&&n0(l,this.latestValues),l}removeTransform(o){const a=hi();Uc(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!pp(c.latestValues))continue;k4(c.latestValues)&&c.updateSnapshot();const u=hi(),A=c.measurePageBox();Uc(u,A),mQ(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return pp(this.latestValues)&&mQ(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ki.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:A}=this.options;if(!this.layout||!(u||A))return;this.resolvedRelativeTargetAt=Ki.timestamp;const d=this.getClosestProjectingParent();d&&this.linkedParentVersion!==d.layoutVersion&&!d.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(d&&d.layout?this.createRelativeTarget(d,this.layout.layoutBox,d.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=hi(),this.targetWithTransforms=hi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Z0e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Uc(this.target,this.layout.layoutBox),O9(this.target,this.targetDelta)):Uc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?this.createRelativeTarget(d,this.target,d.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||k4(this.parent.latestValues)||P9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hi(),this.relativeTargetOrigin=hi(),r_(this.relativeTargetOrigin,a,l),Uc(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var p;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ki.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Uc(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,d=this.treeScale.y;u0e(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=hi());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hQ(this.prevProjectionDelta.x,this.projectionDelta.x),hQ(this.prevProjectionDelta.y,this.projectionDelta.y)),fv(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==d||!xQ(this.projectionDelta.x,this.prevProjectionDelta.x)||!xQ(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=r0(),this.projectionDelta=r0(),this.projectionDeltaWithTransform=r0()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},A=r0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=hi(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,m=h!==p,y=this.getStack(),g=!y||y.members.length<=1,v=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(Qye));this.animationProgress=0;let b;this.mixTargetDelta=C=>{const _=C/1e3;BQ(A.x,o.x,_),BQ(A.y,o.y,_),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(r_(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Mye(this.relativeTarget,this.relativeTargetOrigin,d,_),b&&Bye(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=hi()),Uc(b,this.relativeTarget)),m&&(this.animationValues=u,wye(u,c,this.latestValues,_,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(yd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rr.update(()=>{JS.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=um(0)),this.currentAnimation=fye(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Iye),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&oq(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||hi();const A=qo(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+A;const d=qo(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Uc(a,l),n0(a,u),fv(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new _ye),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&FT("z",o,c,this.animationValues);for(let u=0;u<TT.length;u++)FT(`rotate${TT[u]}`,o,c,this.animationValues),FT(`skew${TT[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ZS(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ZS(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!pp(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let A=Nye(this.projectionDeltaWithTransform,this.treeScale,u);l&&(A=l(u,A)),o.transform=A;const{x:d,y:h}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in E4){if(u[p]===void 0)continue;const{correct:m,applyTo:y,isCSSVariable:g}=E4[p],v=A==="none"?u[p]:m(u[p],c);if(y){const b=y.length;for(let C=0;C<b;C++)o[y[C]]=v}else g?this.options.visualElement.renderState.vars[p]=v:o[p]=v}this.options.layoutId&&(o.pointerEvents=c===this?ZS(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(bQ),this.root.sharedNodes.clear()}}}function kye(t){t.updateLayout()}function Tye(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Ml(A=>{const d=o?e.measuredBox[A]:e.layoutBox[A],h=qo(d);d.min=r[A].min,d.max=d.min+h}):oq(i,e.layoutBox,r)&&Ml(A=>{const d=o?e.measuredBox[A]:e.layoutBox[A],h=qo(r[A]);d.max=d.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[A].max=t.relativeTarget[A].min+h)});const a=r0();fv(a,r,e.layoutBox);const l=r0();o?fv(l,t.applyTransform(s,!0),e.measuredBox):fv(l,r,e.layoutBox);const c=!nq(a);let u=!1;if(!t.resumeFrom){const A=t.getClosestProjectingParent();if(A&&!A.resumeFrom){const{snapshot:d,layout:h}=A;if(d&&h){const p=hi();r_(p,e.layoutBox,d.layoutBox);const m=hi();r_(m,r,h.layoutBox),rq(p,m)||(u=!0),A.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=p,t.relativeParent=A)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Fye(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Lye(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Dye(t){t.clearSnapshot()}function bQ(t){t.clearMeasurements()}function CQ(t){t.isLayoutDirty=!1}function Rye(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function SQ(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Pye(t){t.resolveTargetDelta()}function Oye(t){t.calcProjection()}function $ye(t){t.resetSkewAndRotation()}function Uye(t){t.removeLeadSnapshot()}function BQ(t,e,n){t.translate=ps(e.translate,0,n),t.scale=ps(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function _Q(t,e,n,r){t.min=ps(e.min,n.min,r),t.max=ps(e.max,n.max,r)}function Mye(t,e,n,r){_Q(t.x,e.x,n.x,r),_Q(t.y,e.y,n.y,r)}function Qye(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jye={duration:.45,ease:[.4,0,.1,1]},NQ=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),IQ=NQ("applewebkit/")&&!NQ("chrome/")?Math.round:ic;function EQ(t){t.min=IQ(t.min),t.max=IQ(t.max)}function Hye(t){EQ(t.x),EQ(t.y)}function oq(t,e,n){return t==="position"||t==="preserve-aspect"&&!Y0e(vQ(e),vQ(n),.2)}function zye(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Vye=iq({attachResizeListener:(t,e)=>Jv(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),LT={current:void 0},aq=iq({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!LT.current){const t=new Vye({});t.mount(window),t.setOptions({layoutScroll:!0}),LT.current=t}return LT.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Wye={pan:{Feature:dye},drag:{Feature:Aye,ProjectionNode:aq,MeasureLayout:J9}};function kQ(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Rr.postRender(()=>i(e,Zx(e)))}class Gye extends Ef{mount(){const{current:e}=this.node;e&&(this.unmount=fge(e,(n,r)=>(kQ(this.node,r,"Start"),s=>kQ(this.node,s,"End"))))}unmount(){}}class Kye extends Ef{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kx(Jv(this.node.current,"focus",()=>this.onFocus()),Jv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function TQ(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Rr.postRender(()=>i(e,Zx(e)))}class qye extends Ef{mount(){const{current:e}=this.node;e&&(this.unmount=gge(e,(n,r)=>(TQ(this.node,r,"Start"),(s,{success:i})=>TQ(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const O4=new WeakMap,DT=new WeakMap,Xye=t=>{const e=O4.get(t.target);e&&e(t)},Yye=t=>{t.forEach(Xye)};function Zye({root:t,...e}){const n=t||document;DT.has(n)||DT.set(n,{});const r=DT.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Yye,{root:t,...e})),r[s]}function Jye(t,e,n){const r=Zye(e);return O4.set(t,n),r.observe(t),()=>{O4.delete(t),r.unobserve(t)}}const e1e={some:0,all:1};class t1e extends Ef{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:e1e[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:A}=this.node.getProps(),d=c?u:A;d&&d(l)};return Jye(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(n1e(e,n))&&this.startObserver()}unmount(){}}function n1e({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const r1e={inView:{Feature:t1e},tap:{Feature:qye},focus:{Feature:Kye},hover:{Feature:Gye}},s1e={layout:{ProjectionNode:aq,MeasureLayout:J9}},i1e={...V0e,...r1e,...Wye,...s1e},Ot=a0e(i1e,v0e);function s_(t){const e=Gx(()=>um(t)),{isStatic:n}=P.useContext(Yx);if(n){const[,r]=P.useState(t);P.useEffect(()=>e.on("change",r),[])}return e}function lq(t,e){const n=s_(e()),r=()=>n.set(e());return r(),rR(()=>{const s=()=>Rr.preRender(r,!1,!0),i=t.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),yd(r)}}),n}function o1e(t){dv.current=[],t();const e=lq(dv.current,t);return dv.current=void 0,e}function Rw(t,e,n,r){if(typeof t=="function")return o1e(t);const s=typeof e=="function"?e:wge(e,n,r);return Array.isArray(t)?FQ(t,s):FQ([t],([i])=>s(i))}function FQ(t,e){const n=Gx(()=>[]);return lq(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}function LQ(t,e={}){const{isStatic:n}=P.useContext(Yx),r=()=>ki(t)?t.get():t;if(n)return Rw(r);const s=s_(r());return P.useInsertionEffect(()=>vge(s,t,e),[s,JSON.stringify(e)]),s}const DQ=["Champions keep playing until they get it right.","Hard work beats talent when talent doesn't work hard.","It's not whether you get knocked down; it's whether you get up.","Winning isn't everything, but wanting to win is.","Your only limit is your mind."],RT=[{Component:gA,color:"text-yellow-500"},{Component:$D,color:"text-blue-500"},{Component:mG,color:"text-red-500"},{Component:oA,color:"text-green-500"},{Component:$ue,color:"text-purple-500"},{Component:h0,color:"text-orange-500"}],a1e=({onComplete:t})=>{const[e,n]=P.useState(0),[r]=P.useState(()=>DQ[Math.floor(Math.random()*DQ.length)]);P.useEffect(()=>{const i=setInterval(()=>{n(a=>(a+1)%RT.length)},400),o=setTimeout(()=>{t()},2500);return()=>{clearInterval(i),clearTimeout(o)}},[t]);const s=RT[e].Component;return x.jsx(e_,{children:x.jsxs(Ot.div,{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-background",exit:{opacity:0},transition:{duration:.5},children:[x.jsxs(Ot.div,{className:"relative mb-8",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:[x.jsx(Ot.div,{className:"absolute inset-0 bg-primary/10 rounded-full blur-xl",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}),x.jsx(Ot.div,{initial:{scale:.5,opacity:0,rotate:-20},animate:{scale:1,opacity:1,rotate:0},exit:{scale:.5,opacity:0,rotate:20},transition:{duration:.2},className:`relative z-10 p-4 rounded-2xl bg-secondary/50 backdrop-blur-sm ${RT[e].color}`,children:x.jsx(s,{className:"w-12 h-12 md:w-16 md:h-16"})},e)]}),x.jsxs(Ot.div,{className:"text-4xl md:text-6xl font-bold tracking-tight mb-6 overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[x.jsx("span",{className:"text-foreground inline-block",children:"Play"}),x.jsx(Ot.span,{className:"text-primary inline-block",animate:{textShadow:["0px 0px 0px rgba(0,0,0,0)","0px 0px 20px rgba(var(--primary), 0.5)","0px 0px 0px rgba(0,0,0,0)"]},transition:{duration:2,repeat:1/0},children:"Pal"})]}),x.jsxs(Ot.p,{className:"text-muted-foreground text-sm md:text-base text-center max-w-md px-6 italic",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.5},children:['"',r,'"']}),x.jsx(Ot.div,{className:"absolute bottom-10 w-48 h-1 bg-secondary rounded-full overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:x.jsx(Ot.div,{className:"h-full bg-primary",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2,ease:"easeInOut"}})})]})})},l1e=DD("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ft=P.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Dce:"button";return x.jsx(o,{className:tr(l1e({variant:e,size:n,className:t})),ref:i,...s})});Ft.displayName="Button";const $m=()=>{var d;const[t,e]=P.useState(!1),[n,r]=P.useState(!1),s=la(),{user:i,isAuthenticated:o,logout:a}=If(),{selectedCity:l,cities:c,setSelectedCity:u}=Wx(),A=[{name:"Venues",href:"/venues"},{name:"Find Players",href:"/players"},{name:"Tournaments",href:"/tournaments"}];return x.jsxs(Ot.header,{className:"fixed top-0 left-0 right-0 z-40 gradient-glass border-b border-border/50",initial:{y:-100},animate:{y:0},transition:{duration:.5,delay:.2},children:[x.jsxs("nav",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[x.jsx(Jg,{to:"/",className:"flex items-center gap-2",children:x.jsxs("span",{className:"text-2xl font-bold",children:[x.jsx("span",{className:"text-foreground",children:"P"}),x.jsx("span",{className:"text-primary",children:"l"}),x.jsx("span",{className:"text-foreground",children:"ayPal"})]})}),x.jsxs("div",{className:"relative hidden md:block",children:[x.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-secondary/80 text-sm cursor-pointer hover:bg-secondary transition-colors",onClick:()=>r(!n),children:[x.jsx(uu,{className:"w-4 h-4 text-primary"}),x.jsx("span",{className:"font-medium",children:l.name}),x.jsx(PD,{className:"w-4 h-4 text-muted-foreground"})]}),n&&x.jsx("div",{className:"absolute top-full mt-2 left-0 w-48 bg-card border rounded-lg shadow-lg py-2 max-h-64 overflow-y-auto z-50",children:c.map(h=>x.jsx("button",{className:"w-full px-4 py-2 text-left text-sm hover:bg-secondary transition-colors",onClick:()=>{u(h),r(!1)},children:h.name},h.name))})]}),x.jsx("div",{className:"hidden md:flex items-center gap-8",children:A.map(h=>x.jsx(Jg,{to:h.href,className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:h.name},h.name))}),x.jsx("div",{className:"hidden md:flex items-center gap-3",children:o?x.jsxs(x.Fragment,{children:[x.jsxs(Ft,{variant:"ghost",size:"sm",onClick:()=>s((i==null?void 0:i.role)==="turf_owner"?"/owner-dashboard":"/dashboard"),children:[x.jsx(cv,{className:"w-4 h-4 mr-2"}),(d=i==null?void 0:i.name)==null?void 0:d.split(" ")[0]]}),x.jsx(Ft,{size:"sm",variant:"outline",onClick:()=>{a(),s("/")},children:"Logout"})]}):x.jsxs(x.Fragment,{children:[x.jsxs(Ft,{variant:"ghost",size:"sm",onClick:()=>s("/login"),children:[x.jsx(cv,{className:"w-4 h-4 mr-2"}),"Login"]}),x.jsx(Ft,{size:"sm",className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>s("/login"),children:"Get Started"})]})}),x.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-secondary transition-colors",onClick:()=>e(!t),children:t?x.jsx(jx,{className:"w-6 h-6"}):x.jsx(Uue,{className:"w-6 h-6"})})]}),x.jsx(Ot.div,{className:"md:hidden bg-background border-t border-border",initial:!1,animate:{height:t?"auto":0},transition:{duration:.3},style:{overflow:"hidden"},children:x.jsxs("div",{className:"container mx-auto px-4 py-4 flex flex-col gap-4",children:[o&&x.jsxs(Jg,{to:(i==null?void 0:i.role)==="turf_owner"?"/owner-dashboard":"/dashboard",className:"px-3 py-2 bg-primary/10 text-primary font-semibold rounded-lg hover:bg-primary/20 transition-colors flex items-center gap-2",onClick:()=>e(!1),children:[x.jsx(cv,{className:"w-5 h-5"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{children:i==null?void 0:i.name}),x.jsx("span",{className:"text-xs text-muted-foreground",children:"View Dashboard"})]})]}),x.jsxs("div",{className:"px-3 py-2 bg-secondary/50 rounded-lg",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(uu,{className:"w-4 h-4 text-primary"}),x.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Location"})]}),x.jsx("select",{className:"w-full px-3 py-2 rounded-md border bg-background text-sm",value:l.name,onChange:h=>{const p=c.find(m=>m.name===h.target.value);p&&u(p)},children:c.map(h=>x.jsx("option",{value:h.name,children:h.name},h.name))})]}),A.map(h=>x.jsx(Jg,{to:h.href,className:"px-3 py-2 text-foreground font-medium hover:text-primary transition-colors",onClick:()=>e(!1),children:h.name},h.name)),x.jsx("div",{className:"flex gap-3 pt-2 border-t border-border",children:o?x.jsx(Ft,{className:"flex-1",variant:"outline",onClick:()=>{a(),s("/"),e(!1)},children:"Logout"}):x.jsxs(x.Fragment,{children:[x.jsx(Ft,{variant:"outline",className:"flex-1",onClick:()=>{s("/login"),e(!1)},children:"Login"}),x.jsx(Ft,{className:"flex-1",onClick:()=>{s("/login"),e(!1)},children:"Get Started"})]})})]})})]})},c1e=()=>{const t=la(),[e,n]=P.useState(""),r=P.useRef(null),s=s_(0),i=s_(0),o=v=>{const{clientX:b,clientY:C}=v,{innerWidth:_,innerHeight:I}=window;s.set(b/_-.5),i.set(C/I-.5)},a=LQ(s,{stiffness:100,damping:30}),l=LQ(i,{stiffness:100,damping:30}),c=Rw(a,[-.5,.5],[20,-20]),u=Rw(l,[-.5,.5],[20,-20]),A=Rw(a,[-.5,.5],[-20,20]),d=Rw(l,[-.5,.5],[-20,20]),h=()=>{t(`/venues?search=${encodeURIComponent(e)}`)},[p,m]=P.useState(0),y=["Team","Court","Game","Passion"];P.useEffect(()=>{const v=setInterval(()=>{m(b=>(b+1)%y.length)},2e3);return()=>clearInterval(v)},[]);const g=[{name:"Cricket",icon:"",color:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20"},{name:"Football",icon:"",color:"bg-blue-500/10 text-blue-500 border-blue-500/20"},{name:"Badminton",icon:"",color:"bg-green-500/10 text-green-500 border-green-500/20"},{name:"Tennis",icon:"",color:"bg-orange-500/10 text-orange-500 border-orange-500/20"}];return x.jsxs("section",{ref:r,onMouseMove:o,className:"relative min-h-[110vh] pt-24 md:pt-32 pb-20 overflow-hidden flex items-center justify-center bg-background",children:[x.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[x.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-primary/10 rounded-full blur-[120px] animate-pulse-slow"}),x.jsx("div",{className:"absolute bottom-[-10%] right-[-5%] w-[40%] h-[60%] bg-accent/20 rounded-full blur-[100px] animate-pulse-slow delay-1000"}),x.jsx("div",{className:"absolute top-[40%] left-[60%] w-[30%] h-[30%] bg-secondary/30 rounded-full blur-[80px]"}),x.jsx("div",{className:"absolute inset-0 bg-[url('/grid-pattern.svg')] opacity-[0.05]"})]}),x.jsx("div",{className:"container mx-auto px-4 relative z-10",children:x.jsxs("div",{className:"flex flex-col items-center text-center max-w-5xl mx-auto",children:[x.jsxs(Ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-secondary/30 backdrop-blur-md border border-primary/10 text-sm font-medium text-primary mb-8",children:[x.jsxs("span",{className:"relative flex h-2 w-2",children:[x.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),x.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]}),"Trusted by 10,000+ active players"]}),x.jsxs(Ot.h1,{className:"text-5xl md:text-7xl lg:text-8xl font-bold tracking-tight mb-8 leading-[1.1]",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.1,type:"spring"},children:[x.jsx("span",{className:"block text-foreground",children:"Play Better,"}),x.jsxs("span",{className:"block",children:["Find Your"," ",x.jsx(Ot.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"text-transparent bg-clip-text bg-gradient-to-r from-primary via-orange-600 to-amber-600",children:y[p]},y[p])]})]}),x.jsx(Ot.p,{className:"text-xl text-muted-foreground max-w-2xl mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:"The smartest way to book sports venues and find players nearby. Join the community that's changing the game."}),x.jsxs(Ot.div,{className:"w-full max-w-2xl relative mb-16 z-20",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.4},children:[x.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary to-accent rounded-2xl opacity-20 blur-lg transition duration-1000 group-hover:opacity-100"}),x.jsxs("div",{className:"relative flex items-center gap-2 p-2 bg-background/80 backdrop-blur-xl border border-border/50 rounded-2xl shadow-xl",children:[x.jsxs("div",{className:"flex-1 flex items-center gap-3 px-4 h-14",children:[x.jsx(W0,{className:"w-6 h-6 text-muted-foreground"}),x.jsx("input",{type:"text",placeholder:"Search 'Cricket in Ahmedabad'...",className:"flex-1 bg-transparent outline-none text-lg text-foreground placeholder:text-muted-foreground/60 min-w-0",value:e,onChange:v=>n(v.target.value),onKeyDown:v=>v.key==="Enter"&&h()})]}),x.jsx(Ft,{size:"lg",onClick:h,className:"h-14 px-8 rounded-xl text-lg font-semibold bg-primary hover:bg-primary/90 shadow-lg shadow-primary/25 transition-all hover:scale-[1.02]",children:"Search"})]}),x.jsx("div",{className:"absolute top-full left-0 right-0 mt-4 flex flex-wrap items-center justify-center gap-3",children:g.map((v,b)=>x.jsxs(Ot.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6+b*.1},className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium border bg-background/50 backdrop-blur-sm transition-all hover:scale-105 hover:bg-background ${v.color}`,onClick:()=>t(`/venues?sport=${v.name}`),children:[x.jsx("span",{className:"text-sm",children:v.icon}),v.name]},v.name))})]}),x.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[x.jsx(Ot.div,{style:{x:c,y:u},className:"absolute top-[15%] left-[5%] md:left-[10%] hidden lg:block",children:x.jsxs("div",{className:"bg-background/80 backdrop-blur-md p-4 rounded-2xl border border-primary/10 shadow-2xl flex gap-4 items-center animate-float",children:[x.jsx("div",{className:"h-12 w-12 rounded-xl bg-orange-500/10 flex items-center justify-center",children:x.jsx(gA,{className:"text-orange-600 w-6 h-6"})}),x.jsxs("div",{children:[x.jsx("p",{className:"font-bold text-sm text-foreground",children:"Top Rated Turf"}),x.jsxs("div",{className:"flex text-amber-500 text-xs gap-0.5",children:[x.jsx(vh,{className:"w-3 h-3 fill-current"}),x.jsx(vh,{className:"w-3 h-3 fill-current"}),x.jsx(vh,{className:"w-3 h-3 fill-current"}),x.jsx(vh,{className:"w-3 h-3 fill-current"}),x.jsx(vh,{className:"w-3 h-3 fill-current"})]})]})]})}),x.jsx(Ot.div,{style:{x:A,y:d},className:"absolute bottom-[20%] right-[5%] md:right-[10%] hidden lg:block",children:x.jsxs("div",{className:"bg-background/80 backdrop-blur-md p-4 rounded-2xl border border-primary/10 shadow-2xl flex gap-4 items-center animate-float-delayed",children:[x.jsx("div",{className:"flex -space-x-3",children:[1,2,3].map((v,b)=>x.jsx("div",{className:"w-9 h-9 rounded-full bg-secondary border-2 border-background flex items-center justify-center",children:x.jsx(oA,{className:"w-4 h-4 text-primary opacity-70"})},b))}),x.jsxs("div",{children:[x.jsx("p",{className:"font-bold text-sm text-foreground",children:"3 Players Needed"}),x.jsxs("p",{className:"text-xs text-green-600 font-medium flex items-center gap-1",children:[x.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),"Match Starting soon!"]})]})]})})]})]})})]})},$4=({id:t,name:e,image:n,sport:r,location:s,distance:i,price:o,rating:a,reviews:l,crowdLevel:c,weather:u,slotsAvailable:A,isVerified:d=!1})=>{const h=la(),p={Low:"bg-sport-football/20 text-sport-football",Medium:"bg-sport-cricket/20 text-sport-cricket",High:"bg-destructive/20 text-destructive"};return x.jsxs(Ot.div,{className:"group rounded-2xl bg-card border border-border overflow-hidden shadow-soft hover:shadow-hover transition-all duration-300 h-full flex flex-col",whileHover:{y:-4},onClick:()=>h(`/venue/${t}`),children:[x.jsxs("div",{className:"relative h-48 overflow-hidden shrink-0",children:[x.jsx("img",{src:n,alt:e,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-foreground/40 to-transparent"}),x.jsx("div",{className:"absolute top-3 left-3 px-3 py-1 rounded-full bg-card/90 backdrop-blur-sm text-xs font-medium text-foreground",children:r}),d&&x.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1 px-2 py-1 rounded-full bg-primary/90 text-primary-foreground text-xs font-medium border border-primary/20",children:[x.jsx(r4,{className:"w-3 h-3"}),"Verified"]}),x.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center gap-1 px-3 py-1.5 rounded-lg bg-card/95 backdrop-blur-sm shadow-sm",children:[x.jsx(hG,{className:"w-3.5 h-3.5 text-primary"}),x.jsx("span",{className:"font-bold text-foreground",children:o}),x.jsx("span",{className:"text-xs text-muted-foreground",children:"/hr"})]})]}),x.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[x.jsxs("div",{className:"flex items-start justify-between mb-2",children:[x.jsx("h3",{className:"font-semibold text-foreground text-lg line-clamp-1 group-hover:text-primary transition-colors",children:e}),x.jsxs("div",{className:"flex items-center gap-1 text-sm bg-secondary/50 px-1.5 py-0.5 rounded-md",children:[x.jsx(vh,{className:"w-3.5 h-3.5 text-amber-500 fill-amber-500"}),x.jsx("span",{className:"font-bold text-foreground",children:a}),x.jsxs("span",{className:"text-muted-foreground text-xs",children:["(",l,")"]})]})]}),x.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground mb-4",children:[x.jsx(uu,{className:"w-3.5 h-3.5"}),x.jsx("span",{className:"line-clamp-1",children:s}),x.jsxs("span",{className:"text-primary font-medium ml-auto whitespace-nowrap",children:[" ",i]})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 mb-4 mt-auto",children:[x.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border border-transparent ${p[c]}`,children:[x.jsx(oA,{className:"w-3 h-3"}),c," Crowd"]}),x.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-secondary/50 text-secondary-foreground text-xs font-medium border border-border",children:[x.jsx(AG,{className:"w-3 h-3"}),u]}),x.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-primary/5 text-primary text-xs font-medium border border-primary/10",children:[x.jsx(Tp,{className:"w-3 h-3"}),A," slots"]})]}),x.jsx(Ft,{className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground shadow-md group-hover:shadow-lg transition-all",onClick:m=>{m.stopPropagation(),h(`/venue/${t}`)},children:"Book Now"})]})]})},u1e=Kv.slice(0,4).map(t=>({id:t.id,name:t.name,image:t.images[0]||t.image,sport:t.sports[0],location:t.location,distance:t.distance,price:t.pricePerHour,rating:t.rating,reviews:t.reviews,crowdLevel:t.crowdLevel,weather:t.weather,slotsAvailable:t.slotsAvailable,isVerified:t.isVerified})),A1e=()=>{const t=la();return x.jsx("section",{id:"venues",className:"py-20 bg-secondary/30",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs(Ot.div,{className:"flex flex-col md:flex-row md:items-end justify-between mb-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[x.jsxs("div",{children:[x.jsx("span",{className:"text-primary font-semibold text-sm uppercase tracking-wider",children:"Nearby Venues"}),x.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mt-2",children:"Top Rated Sports Venues"}),x.jsx("p",{className:"text-muted-foreground mt-2 max-w-md",children:"Discover the best turfs and courts near you with real-time availability"})]}),x.jsxs(Ft,{variant:"ghost",className:"mt-4 md:mt-0 text-primary hover:text-primary/90",onClick:()=>t("/venues"),children:["View All Venues",x.jsx(RD,{className:"w-4 h-4 ml-2"})]})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8",children:u1e.map((e,n)=>x.jsx(Ot.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:n*.1,type:"spring",stiffness:50},className:"h-full",children:x.jsx($4,{...e})},e.name))})]})})},d1e=[{icon:cG,title:"AI Chat Agent",description:"Book venues, find players, and get recommendations through natural conversation",color:"bg-primary/10 text-primary"},{icon:uu,title:"Smart Discovery",description:"Find nearby venues with real-time slot availability and crowd predictions",color:"bg-sport-cricket/10 text-sport-cricket"},{icon:oA,title:"Find Players",description:"Match with players of similar skill level for casual or competitive games",color:"bg-sport-football/10 text-sport-football"},{icon:gA,title:"Tournaments",description:"Join local tournaments, view brackets, and compete for prizes",color:"bg-sport-badminton/10 text-sport-badminton"},{icon:dG,title:"Rewards System",description:"Earn points on every booking and unlock exclusive discounts",color:"bg-accent/10 text-accent"},{icon:AG,title:"Weather Intelligence",description:"Get weather-based recommendations and indoor alternatives",color:"bg-sport-pickleball/10 text-sport-pickleball"},{icon:nu,title:"Instant Booking",description:"Book slots in seconds with secure payments and instant confirmation",color:"bg-sport-tennis/10 text-sport-tennis"},{icon:$D,title:"Real-time Updates",description:"Live slot availability, crowd levels, and dynamic pricing",color:"bg-primary/10 text-primary"}],h1e=()=>x.jsx("section",{className:"py-20",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs(Ot.div,{className:"text-center max-w-2xl mx-auto mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[x.jsx("span",{className:"text-primary font-semibold text-sm uppercase tracking-wider",children:"Features"}),x.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mt-2",children:["Everything You Need to"," ",x.jsx("span",{className:"text-gradient",children:"Play Smarter"})]}),x.jsx("p",{className:"text-muted-foreground mt-4",children:"From AI-powered booking to finding the perfect teammates, PlayPal has everything for your sports journey"})]}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:d1e.map((t,e)=>x.jsxs(Ot.div,{className:"group p-6 rounded-2xl bg-card border border-border hover:border-primary/30 transition-all duration-300 hover:shadow-card",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:e*.1},whileHover:{y:-4},children:[x.jsx("div",{className:`w-12 h-12 rounded-xl ${t.color} flex items-center justify-center mb-4 transition-transform group-hover:scale-110`,children:x.jsx(t.icon,{className:"w-6 h-6"})}),x.jsx("h3",{className:"font-semibold text-foreground text-lg mb-2",children:t.title}),x.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]},t.title))})]})}),RQ=[{icon:W0,step:"01",title:"Discover",description:"Search venues by sport, location, or just ask our AI assistant"},{icon:nu,step:"02",title:"Book",description:"Select your slot, confirm timing, and pay securely online"},{icon:oA,step:"03",title:"Team Up",description:"Find players to complete your team or join existing games"},{icon:gA,step:"04",title:"Play & Win",description:"Show up, play hard, earn points and unlock rewards"}],f1e=()=>{const t=la();return x.jsxs("section",{className:"py-20 bg-secondary/30",children:[x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs(Ot.div,{className:"text-center max-w-2xl mx-auto mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[x.jsx("span",{className:"text-primary font-semibold text-sm uppercase tracking-wider",children:"How It Works"}),x.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mt-2",children:["Start Playing in"," ",x.jsx("span",{className:"text-gradient",children:"4 Simple Steps"})]})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:RQ.map((e,n)=>x.jsxs(Ot.div,{className:"relative text-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:n*.1},children:[n<RQ.length-1&&x.jsx("div",{className:"hidden md:block absolute top-12 left-1/2 w-full h-0.5 bg-border"}),x.jsxs("div",{className:"relative mx-auto w-24 h-24 rounded-2xl gradient-hero shadow-glow flex items-center justify-center text-primary-foreground mb-6",children:[x.jsx(e.icon,{className:"w-10 h-10"}),x.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 rounded-full bg-card border-2 border-primary text-primary text-sm font-bold flex items-center justify-center",children:e.step})]}),x.jsx("h3",{className:"font-semibold text-xl text-foreground mb-2",children:e.title}),x.jsx("p",{className:"text-sm text-muted-foreground max-w-xs mx-auto",children:e.description})]},e.title))})]}),x.jsx("div",{className:"flex justify-center mt-12",children:x.jsx(Ft,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground px-8",onClick:()=>t("/venues"),children:"Start Booking Now"})})]})},p1e=()=>{const t=la();return x.jsx("section",{className:"py-20",children:x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs(Ot.div,{className:"relative rounded-3xl gradient-hero p-12 md:p-16 overflow-hidden",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[x.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary-foreground/10 rounded-full blur-3xl"}),x.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-primary-foreground/10 rounded-full blur-3xl"}),x.jsxs("div",{className:"relative z-10 max-w-2xl mx-auto text-center text-primary-foreground",children:[x.jsxs(Ot.div,{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary-foreground/20 text-sm font-medium mb-6",initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.2},children:[x.jsx(s4,{className:"w-4 h-4"}),"Join 10,000+ Players"]}),x.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6",children:"Ready to Play Smarter?"}),x.jsx("p",{className:"text-lg opacity-90 mb-8",children:"Download PlayPal and never struggle to find venues or players again. Your perfect game is just a tap away."}),x.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[x.jsxs(Ft,{size:"lg",className:"bg-primary-foreground text-primary hover:bg-primary-foreground/90 px-8",onClick:()=>t("/login"),children:["Get Started Free",x.jsx(RD,{className:"w-5 h-5 ml-2"})]}),x.jsx(Ft,{size:"lg",variant:"outline",className:"border-primary-foreground/30 text-primary-foreground hover:bg-primary-foreground/10 px-8",onClick:()=>t("/login"),children:"For Turf Owners"})]})]})]})})})},_y=()=>{const t={Product:[{name:"Venues",href:"/venues"},{name:"Find Players",href:"/players"},{name:"Tournaments",href:"/tournaments"},{name:"For Turf Owners",href:"/owner-dashboard"}],Sports:[{name:"Cricket",href:"/venues?sport=Cricket"},{name:"Football",href:"/venues?sport=Football"},{name:"Badminton",href:"/venues?sport=Badminton"},{name:"Tennis",href:"/venues?sport=Tennis"},{name:"Pickleball",href:"/venues?sport=Pickleball"}],Cities:[{name:"Ahmedabad",href:"/venues?city=Ahmedabad"},{name:"Surat",href:"/venues?city=Surat"},{name:"Vadodara",href:"/venues?city=Vadodara"},{name:"Rajkot",href:"/venues?city=Rajkot"},{name:"Gandhinagar",href:"/venues?city=Gandhinagar"}],Support:[{name:"Help Center",href:"/help"},{name:"Contact Us",href:"/contact"},{name:"Privacy Policy",href:"/privacy"},{name:"Terms of Service",href:"/terms"}]},e=[{icon:Pue,href:"#"},{icon:zue,href:"#"},{icon:Lue,href:"#"},{icon:Gue,href:"#"}];return x.jsx("footer",{className:"bg-foreground text-background pt-16 pb-8",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-8 mb-12",children:[x.jsxs("div",{className:"col-span-2",children:[x.jsxs("div",{className:"text-2xl font-bold mb-4 flex items-center",children:[x.jsx("span",{children:"P"}),x.jsx("span",{className:"text-orange-500",children:"l"}),x.jsx("span",{children:"ayPal"})]}),x.jsx("p",{className:"text-background/60 text-sm mb-6 max-w-xs",children:"Your one stop for sports & sport partners. Book venues, find players, and play smarter with AI."}),x.jsxs("div",{className:"space-y-2 text-sm text-background/60",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(uu,{className:"w-4 h-4"}),x.jsx("span",{children:"Gujarat, India"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(pG,{className:"w-4 h-4"}),x.jsx("span",{children:"hello@playpal.in"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(OD,{className:"w-4 h-4"}),x.jsx("span",{children:"+91 98765 43210"})]})]})]}),Object.entries(t).map(([n,r])=>x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold mb-4",children:n}),x.jsx("ul",{className:"space-y-2",children:r.map(s=>x.jsx("li",{children:x.jsx(Jg,{to:s.href,className:"text-sm text-background/60 hover:text-background transition-colors",children:s.name})},s.name))})]},n))]}),x.jsxs("div",{className:"pt-8 border-t border-background/10 flex flex-col md:flex-row items-center justify-between gap-4",children:[x.jsxs("div",{className:"flex flex-col md:items-start items-center gap-1",children:[x.jsx("p",{className:"text-sm text-background/60",children:" 2025 PlayPal. All rights reserved."}),x.jsxs("p",{className:"text-sm text-background/60",children:["Developed by ",x.jsx("span",{className:"text-orange-500 font-medium",children:"Yash Bachwani"})," & ",x.jsx("span",{className:"text-orange-500 font-medium",children:"Mustafa Khericha"})]})]}),x.jsx("div",{className:"flex items-center gap-4",children:e.map((n,r)=>x.jsx("a",{href:n.href,className:"w-10 h-10 rounded-full bg-background/10 flex items-center justify-center hover:bg-background/20 transition-colors",children:x.jsx(n.icon,{className:"w-5 h-5"})},r))})]})]})})},m1e=["Book a cricket slot","Tennis courts nearby?","Find football turfs","Badminton in Ahmedabad"],Ny=()=>{const[t,e]=P.useState(!1),[n,r]=P.useState([{id:"1",role:"assistant",content:"Hello!  How can I help you book your next game or find a sports slot today?",timestamp:new Date}]),[s,i]=P.useState(""),[o,a]=P.useState(!1),[l,c]=P.useState("IDLE"),[u,A]=P.useState({sport:"",city:"",date:"",venueId:""}),d=P.useRef(null),h=()=>{var g;(g=d.current)==null||g.scrollIntoView({behavior:"smooth"})};P.useEffect(()=>{h()},[n]);const p=g=>{const v=g.toLowerCase();if(v.includes("exit")||v.includes("cancel")||v.includes("stop"))return c("IDLE"),"No problem! Let me know if you need anything else. How can I help you today?";switch(l){case"IDLE":if(v.includes("book")||v.includes("slot")||v.includes("play")){c("BOOKING_INTENT");let T="";return["cricket","football","badminton","tennis","pickleball"].forEach(F=>{v.includes(F)&&(T=F.charAt(0).toUpperCase()+F.slice(1))}),T?(A(F=>({...F,sport:T})),c("AWAITING_CITY"),"Great! Lets find the right slot for you. Which city are you in? (e.g., Ahmedabad, Surat)"):"Great! Lets find the right slot for you. Which sport are you interested in?"}return"I'm here to help! You can ask me to book a slot, find players nearby, or check tournament details. What's on your mind?";case"BOOKING_INTENT":case"AWAITING_SPORT":const C=["cricket","football","badminton","tennis","pickleball"].find(T=>v.includes(T));if(C){const T=C.charAt(0).toUpperCase()+C.slice(1);return A(F=>({...F,sport:T})),c("AWAITING_CITY"),`Awesome, ${T}!  Which city are you looking to play in? (e.g., Ahmedabad, Surat)`}return"I'm not sure which sport that is. We have Cricket, Football, Badminton, Tennis, and Pickleball! Which one would you like?";case"AWAITING_CITY":const _=vp.find(T=>v.includes(T.name.toLowerCase()));return _?(A(T=>({...T,city:_.name})),c("AWAITING_DATE"),`Perfect, ${_.name} has some great venues! For which date would you like to book? (e.g., Today, Tomorrow, or Saturday)`):`I couldn't find matches in that location. We currently support ${vp.slice(0,5).map(T=>T.name).join(", ")} and more. Where are you located?`;case"AWAITING_DATE":A(T=>({...T,date:g}));const I=h6("",u.city).filter(T=>T.sports.includes(u.sport));if(I.length>0){const T=I[0];return A(F=>({...F,venueId:T.id})),c("AWAITING_CONFIRMATION"),`Good news! ${T.name} in ${T.location} has slots available for ${u.sport} on ${g}.

It's rated ${T.rating} and costs ${T.pricePerHour}/hour. Would you like to confirm this booking?`}else{const T=h6("",u.city).slice(0,2);return T.length>0?`Sorry, I couldn't find a ${u.sport} slot in that specific area. How about checking out ${T.map(F=>F.name).join(" or ")}? They have great facilities! Or would you like to try another date?`:(c("IDLE"),`I'm sorry, I couldn't find any suitable slots for ${u.sport} in ${u.city} right now. Would you like to try a different sport or city?`)}case"AWAITING_CONFIRMATION":return v.includes("yes")||v.includes("sure")||v.includes("confirm")||v.includes("okay")?(c("BOOKED"),"Your slot is booked!  Youll receive a confirmation shortly on your registered mobile number. See you on the field!"):(c("IDLE"),"No problem, I've canceled the request. Let me know if you want to look for something else!");case"BOOKED":return c("IDLE"),"Your previous booking is all set! Want to find another game or find some players nearby?";default:return"I'm here to help! Would you like to book a slot or find players?"}},m=()=>{if(!s.trim())return;const g={id:Date.now().toString(),role:"user",content:s,timestamp:new Date};r(v=>[...v,g]),i(""),a(!0),setTimeout(()=>{const v={id:(Date.now()+1).toString(),role:"assistant",content:p(s),timestamp:new Date};r(b=>[...b,v]),a(!1)},800+Math.random()*500)},y=g=>{i(g)};return x.jsxs(x.Fragment,{children:[x.jsxs(Ot.button,{className:"fixed bottom-6 right-6 z-50 w-14 h-14 rounded-full gradient-hero shadow-glow flex items-center justify-center text-primary-foreground",onClick:()=>e(!0),whileHover:{scale:1.05},whileTap:{scale:.95},initial:{scale:0},animate:{scale:t?0:1},transition:{type:"spring",stiffness:300,damping:20},children:[x.jsx(Mue,{className:"w-6 h-6"}),x.jsx(Ot.div,{className:"absolute -top-1 -right-1 w-4 h-4 rounded-full bg-accent",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}})]}),x.jsx(e_,{children:t&&x.jsxs(Ot.div,{className:"fixed bottom-6 right-6 z-50 w-[380px] max-w-[calc(100vw-3rem)] h-[600px] max-h-[calc(100vh-6rem)] rounded-2xl bg-card border border-border shadow-card overflow-hidden flex flex-col",initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},transition:{type:"spring",stiffness:300,damping:25},children:[x.jsxs("div",{className:"p-4 gradient-hero text-primary-foreground flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-foreground/20 flex items-center justify-center",children:x.jsx(cG,{className:"w-5 h-5"})}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold",children:"PlayPal AI"}),x.jsx("p",{className:"text-xs opacity-80",children:"Online & Ready to Book"})]})]}),x.jsx("button",{onClick:()=>e(!1),className:"p-2 rounded-full hover:bg-primary-foreground/20 transition-colors",children:x.jsx(jx,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-muted/30",children:[n.map(g=>x.jsxs(Ot.div,{className:`flex gap-3 ${g.role==="user"?"flex-row-reverse":""}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[x.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${g.role==="user"?"bg-primary text-primary-foreground":"bg-background border border-border text-foreground shadow-sm"}`,children:g.role==="user"?x.jsx(cv,{className:"w-4 h-4"}):x.jsx(s4,{className:"w-4 h-4 text-primary"})}),x.jsxs("div",{className:`max-w-[80%] p-3 rounded-2xl shadow-sm ${g.role==="user"?"bg-primary text-primary-foreground rounded-tr-none":"bg-card text-foreground border border-border rounded-tl-none"}`,children:[x.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:g.content}),x.jsx("span",{className:"text-[10px] opacity-50 mt-1 block text-right",children:g.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},g.id)),o&&x.jsxs(Ot.div,{className:"flex gap-3",initial:{opacity:0},animate:{opacity:1},children:[x.jsx("div",{className:"w-8 h-8 rounded-full bg-background border border-border flex items-center justify-center shadow-sm",children:x.jsx(s4,{className:"w-4 h-4 text-primary"})}),x.jsx("div",{className:"px-4 py-3 rounded-2xl rounded-tl-none bg-card border border-border shadow-sm",children:x.jsx("div",{className:"flex gap-1",children:[0,1,2].map(g=>x.jsx(Ot.div,{className:"w-2 h-2 rounded-full bg-primary/40",animate:{y:[0,-4,0]},transition:{duration:.6,repeat:1/0,delay:g*.2}},g))})})]}),x.jsx("div",{ref:d})]}),x.jsx("div",{className:"px-4 py-3 border-t border-border flex gap-2 overflow-x-auto bg-card",children:m1e.map(g=>x.jsx("button",{onClick:()=>y(g),className:"px-3 py-1.5 rounded-full bg-secondary/80 text-secondary-foreground text-xs font-semibold whitespace-nowrap hover:bg-primary hover:text-primary-foreground transition-all border border-border/50",children:g},g))}),x.jsx("div",{className:"p-4 border-t border-border bg-card",children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",value:s,onChange:g=>i(g.target.value),onKeyDown:g=>g.key==="Enter"&&m(),placeholder:"Type your message...",className:"flex-1 px-4 py-3 rounded-xl bg-secondary/50 text-foreground placeholder:text-muted-foreground outline-none border border-transparent focus:border-primary/30 focus:ring-4 focus:ring-primary/5 transition-all text-sm"}),x.jsx(Ft,{onClick:m,size:"icon",className:"bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl h-[46px] w-[46px] shadow-lg shadow-primary/20",disabled:!s.trim(),children:x.jsx(Que,{className:"w-4 h-4"})})]})})]})})]})},g1e=()=>{const[t,e]=P.useState(()=>!sessionStorage.getItem("hasSeenPreloader")),n=()=>{sessionStorage.setItem("hasSeenPreloader","true"),e(!1)};return x.jsxs(x.Fragment,{children:[x.jsx(e_,{mode:"wait",children:t&&x.jsx(a1e,{onComplete:n})}),x.jsx(e_,{children:!t&&x.jsxs(Ot.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[x.jsx($m,{}),x.jsxs("main",{children:[x.jsx(c1e,{}),x.jsx(A1e,{}),x.jsx(h1e,{}),x.jsx(f1e,{}),x.jsx(p1e,{})]}),x.jsx(_y,{}),x.jsx(Ny,{})]})})]})},Wo=P.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:tr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Wo.displayName="Input";const y1e=()=>{const t=la(),{login:e}=If(),[n,r]=P.useState(!0),[s,i]=P.useState("user"),[o,a]=P.useState(!1),[l,c]=P.useState(!1),{cities:u}=Wx(),[A,d]=P.useState({name:"",email:"",phone:"",password:"",city:"Ahmedabad"}),h=async p=>{if(p.preventDefault(),c(!0),n)await e(A.email,A.password,s)?(On.success("Welcome back!"),t(s==="turf_owner"?"/owner-dashboard":"/dashboard")):On.error("Invalid credentials. Please try again.");else{const m=JSON.parse(localStorage.getItem("playpal_registered_users")||"[]");m.some(y=>y.email===A.email)?On.error("Email already registered"):(m.push({...A,role:"user",id:`user_${Date.now()}`,points:100,createdAt:new Date().toISOString()}),localStorage.setItem("playpal_registered_users",JSON.stringify(m)),await e(A.email,A.password,"user")&&(On.success("Account created! Welcome to PlayPal!"),t("/dashboard")))}c(!1)};return x.jsxs("div",{className:"min-h-screen flex",children:[x.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:x.jsxs(Ot.div,{className:"w-full max-w-md",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[x.jsx(Jg,{to:"/",className:"inline-block mb-8",children:x.jsxs("span",{className:"text-3xl font-bold",children:[x.jsx("span",{className:"text-foreground",children:"P"}),x.jsx("span",{className:"text-primary",children:"l"}),x.jsx("span",{className:"text-foreground",children:"ayPal"})]})}),x.jsx("h1",{className:"text-3xl font-bold mb-2",children:n?"Welcome back!":"Create account"}),x.jsx("p",{className:"text-muted-foreground mb-8",children:n?"Sign in to continue your sports journey":"Start your sports journey today"}),x.jsxs("div",{className:"flex gap-2 mb-6 p-1 bg-secondary rounded-lg",children:[x.jsx("button",{className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all ${s==="user"?"bg-primary text-primary-foreground":"text-muted-foreground"}`,onClick:()=>i("user"),children:"Player"}),x.jsx("button",{className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all ${s==="turf_owner"?"bg-primary text-primary-foreground":"text-muted-foreground"}`,onClick:()=>i("turf_owner"),children:"Turf Owner"})]}),x.jsxs("form",{onSubmit:h,className:"space-y-4",children:[!n&&s==="user"&&x.jsxs("div",{className:"relative",children:[x.jsx(cv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),x.jsx(Wo,{placeholder:"Full Name",className:"pl-10",value:A.name,onChange:p=>d({...A,name:p.target.value}),required:!0})]}),x.jsxs("div",{className:"relative",children:[x.jsx(pG,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),x.jsx(Wo,{type:"email",placeholder:"Email address",className:"pl-10",value:A.email,onChange:p=>d({...A,email:p.target.value}),required:!0})]}),!n&&s==="user"&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"relative",children:[x.jsx(OD,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),x.jsx(Wo,{placeholder:"Phone Number",className:"pl-10",value:A.phone,onChange:p=>d({...A,phone:p.target.value}),required:!0})]}),x.jsxs("div",{className:"relative",children:[x.jsx(uu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),x.jsx("select",{className:"w-full h-10 pl-10 pr-4 rounded-md border border-input bg-background text-foreground",value:A.city,onChange:p=>d({...A,city:p.target.value}),children:u.map(p=>x.jsx("option",{value:p.name,children:p.name},p.name))})]})]}),x.jsxs("div",{className:"relative",children:[x.jsx(Oue,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),x.jsx(Wo,{type:o?"text":"password",placeholder:"Password",className:"pl-10 pr-10",value:A.password,onChange:p=>d({...A,password:p.target.value}),required:!0}),x.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>a(!o),children:o?x.jsx(Tue,{className:"w-5 h-5 text-muted-foreground"}):x.jsx(Fue,{className:"w-5 h-5 text-muted-foreground"})})]}),x.jsxs(Ft,{type:"submit",className:"w-full",disabled:l,children:[l?"Please wait...":n?"Sign In":"Create Account",x.jsx(RD,{className:"w-4 h-4 ml-2"})]})]}),x.jsxs("p",{className:"mt-6 text-center text-muted-foreground",children:[n?"Don't have an account?":"Already have an account?"," ",x.jsx("button",{className:"text-primary font-medium hover:underline",onClick:()=>r(!n),children:n?"Sign up":"Sign in"})]}),s==="turf_owner"&&n&&x.jsx("div",{className:"mt-6 p-4 bg-secondary rounded-lg",children:x.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.jsx("strong",{children:"Demo Credentials:"}),x.jsx("br",{}),"Email: elite@playpal.com",x.jsx("br",{}),"Password: elite123"]})})]})}),x.jsx("div",{className:"hidden lg:flex flex-1 gradient-hero items-center justify-center p-12",children:x.jsxs(Ot.div,{className:"text-center text-primary-foreground",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},children:[x.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Your one stop for sports & sport partners"}),x.jsx("p",{className:"text-xl opacity-90",children:"Book venues, find players, join tournaments - all in one place!"})]})})]})},w1e=()=>{const t=la(),{user:e,logout:n}=If(),{getBookingsByUser:r}=FN(),[s,i]=P.useState("upcoming");if(!e)return t("/login"),null;const o=r(e.id),a=o.filter(u=>u.status==="Confirmed"),l=o.filter(u=>u.status==="Completed"||u.status==="Cancelled"),c=[{points:500,reward:"10% Discount",status:e.points>=500?"unlocked":"locked"},{points:1e3,reward:"1 Hour Free",status:e.points>=1e3?"unlocked":"locked"},{points:2e3,reward:"Free Tournament Entry",status:e.points>=2e3?"unlocked":"locked"},{points:5e3,reward:"Premium Membership",status:e.points>=5e3?"unlocked":"locked"}];return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx($m,{}),x.jsx("main",{className:"pt-20 pb-12",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[x.jsxs("div",{children:[x.jsxs("h1",{className:"text-3xl font-bold",children:["Welcome, ",e.name,"! "]}),x.jsxs("p",{className:"text-muted-foreground",children:[e.city,", Gujarat"]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("div",{className:"px-4 py-2 rounded-xl bg-primary/10",children:[x.jsx("span",{className:"text-primary font-bold text-xl",children:e.points}),x.jsx("span",{className:"text-muted-foreground ml-1",children:"points"})]}),x.jsxs(Ft,{variant:"outline",onClick:()=>{n(),t("/")},children:[x.jsx(fG,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}),x.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[x.jsxs("div",{className:"lg:col-span-2",children:[x.jsxs("div",{className:"flex gap-4 mb-6",children:[x.jsxs("button",{className:`px-4 py-2 rounded-lg font-medium ${s==="upcoming"?"bg-primary text-primary-foreground":"bg-secondary"}`,onClick:()=>i("upcoming"),children:["Upcoming (",a.length,")"]}),x.jsxs("button",{className:`px-4 py-2 rounded-lg font-medium ${s==="past"?"bg-primary text-primary-foreground":"bg-secondary"}`,onClick:()=>i("past"),children:["Past Bookings (",l.length,")"]})]}),x.jsxs("div",{className:"space-y-4",children:[(s==="upcoming"?a:l).map(u=>x.jsxs(Ot.div,{className:"p-4 bg-card border rounded-xl",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold text-lg",children:u.venueName}),x.jsx("p",{className:"text-muted-foreground",children:u.sport})]}),x.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${u.status==="Confirmed"?"bg-primary/10 text-primary":u.status==="Completed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:u.status})]}),x.jsxs("div",{className:"mt-3 flex flex-wrap gap-4 text-sm text-muted-foreground",children:[x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(nu,{className:"w-4 h-4"}),new Date(u.date).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short"})]}),x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(Tp,{className:"w-4 h-4"}),u.timeSlot]}),x.jsxs("span",{className:"font-medium text-foreground",children:["",u.totalAmount]})]}),s==="upcoming"&&x.jsxs("div",{className:"flex gap-2 w-full mt-4",children:[x.jsx(Ft,{className:"flex-1",variant:"outline",onClick:()=>t(`/invoice/${u.id}`),children:"View Invoice"}),x.jsxs(Ft,{className:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 border-0 text-white shadow-lg shadow-orange-500/20",onClick:()=>t(`/match/${u.id}`),children:[x.jsx(lv,{className:"w-4 h-4 mr-2 fill-white"})," Start Match"]})]}),s!=="upcoming"&&x.jsx(Ft,{className:"w-full mt-4",variant:"outline",onClick:()=>t(`/invoice/${u.id}`),children:"View Invoice"})]},u.id)),(s==="upcoming"?a:l).length===0&&x.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[x.jsx(nu,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),x.jsxs("p",{children:["No ",s," bookings"]}),x.jsx(Ft,{className:"mt-4",onClick:()=>t("/venues"),children:"Book Now"})]})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"bg-card border rounded-xl p-6",children:[x.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[x.jsx(dG,{className:"w-5 h-5 text-primary"}),"Rewards Progress"]}),x.jsx("div",{className:"space-y-3",children:c.map((u,A)=>x.jsx("div",{className:`p-3 rounded-lg ${u.status==="unlocked"?"bg-primary/10":"bg-secondary"}`,children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:u.status==="unlocked"?"text-primary font-medium":"text-muted-foreground",children:u.reward}),x.jsxs("span",{className:"text-sm",children:[u.points," pts"]})]})},A))})]}),x.jsxs("div",{className:"bg-card border rounded-xl p-6",children:[x.jsx("h3",{className:"font-semibold mb-4",children:"Quick Actions"}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs(Ft,{className:"w-full justify-between bg-primary text-primary-foreground hover:bg-primary/90 shadow-md",onClick:()=>t("/venues"),children:["Book New Slot ",x.jsx(Fw,{className:"w-4 h-4"})]}),x.jsxs(Ft,{variant:"outline",className:"w-full justify-between",onClick:()=>t("/venues"),children:["Find Venues ",x.jsx(Fw,{className:"w-4 h-4"})]}),x.jsxs(Ft,{variant:"outline",className:"w-full justify-between",onClick:()=>t("/players"),children:["Find Players ",x.jsx(Fw,{className:"w-4 h-4"})]}),x.jsxs(Ft,{variant:"outline",className:"w-full justify-between",onClick:()=>t("/tournaments"),children:["Tournaments ",x.jsx(Fw,{className:"w-4 h-4"})]})]})]})]})]})]})}),x.jsx(_y,{}),x.jsx(Ny,{})]})},v1e=()=>{la();const{selectedCity:t,cities:e,setSelectedCity:n}=Wx(),[r,s]=P.useState(""),[i,o]=P.useState(null),a=["Cricket","Football","Badminton","Tennis","Pickleball"],l=Kv.filter(u=>{const A=u.city.toLowerCase()===t.name.toLowerCase(),d=!r||u.name.toLowerCase().includes(r.toLowerCase())||u.location.toLowerCase().includes(r.toLowerCase()),h=!i||u.sports.includes(i);return A&&d&&h}),c=r?Kv.filter(u=>{const A=u.name.toLowerCase().includes(r.toLowerCase())||u.location.toLowerCase().includes(r.toLowerCase())||u.city.toLowerCase().includes(r.toLowerCase()),d=u.city.toLowerCase()!==t.name.toLowerCase(),h=!i||u.sports.includes(i);return d&&A&&h}):[];return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx($m,{}),x.jsx("main",{className:"pt-20 pb-12",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs("div",{className:"mb-8",children:[x.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Sports Venues"}),x.jsx("p",{className:"text-muted-foreground",children:"Find and book the best sports facilities near you"})]}),x.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[x.jsxs("div",{className:"relative flex-1",children:[x.jsx(W0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),x.jsx(Wo,{placeholder:"Search venues, sports, or cities...",className:"pl-10",value:r,onChange:u=>s(u.target.value)})]}),x.jsx("select",{className:"h-10 px-4 rounded-md border bg-background",value:t.name,onChange:u=>{const A=e.find(d=>d.name===u.target.value);A&&n(A)},children:e.map(u=>x.jsx("option",{value:u.name,children:u.name},u.name))})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[x.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${i?"bg-secondary hover:bg-secondary/80":"bg-primary text-primary-foreground"}`,onClick:()=>o(null),children:"All Sports"}),a.map(u=>x.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${i===u?"bg-primary text-primary-foreground":"bg-secondary hover:bg-secondary/80"}`,onClick:()=>o(u),children:u},u))]}),x.jsxs("div",{className:"mb-8",children:[x.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Venues in ",t.name]}),l.length>0?x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((u,A)=>x.jsx(Ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.05},className:"h-full",children:x.jsx($4,{...u,sport:u.sports[0],price:u.pricePerHour})},u.id))}):x.jsx("div",{className:"text-center py-12 text-muted-foreground",children:x.jsxs("p",{children:["No venues found in ",t.name]})})]}),c.length>0&&x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Venues in Other Cities"}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((u,A)=>x.jsx(Ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.05},className:"h-full",children:x.jsx($4,{...u,sport:u.sports[0],price:u.pricePerHour})},u.id))})]})]})}),x.jsx(_y,{}),x.jsx(Ny,{})]})},x1e=()=>{const{id:t}=eR(),e=la(),n=BK(t||""),{user:r,isAuthenticated:s,addPoints:i}=If(),{getAvailableSlots:o,addBooking:a}=FN(),[l,c]=P.useState(0),[u,A]=P.useState(new Date().toISOString().split("T")[0]),[d,h]=P.useState(null);if(!n)return x.jsx("div",{className:"min-h-screen flex items-center justify-center",children:x.jsx("p",{children:"Venue not found"})});const p=o(n.id,u),m=()=>{if(!s){On.error("Please login to book"),e("/login");return}if(!d){On.error("Please select a time slot");return}const g=parseInt(d.split(":")[0]),v=g>=20||g<4,_=n.pricePerHour+(v?200:0),I=a({venueId:n.id,venueName:n.name,sport:n.sports[0],date:u,timeSlot:d,duration:1,totalAmount:_,paidAmount:Math.round(_*.85),remainingAmount:_-Math.round(_*.85),status:"Confirmed",userId:r.id,userName:r.name,userPhone:r.phone});i(10),On.success("Booking confirmed! +10 Points earned "),e(`/invoice/${I.id}`)},y=Array.from({length:7},(g,v)=>{const b=new Date;return b.setDate(b.getDate()+v),b.toISOString().split("T")[0]});return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx($m,{}),x.jsx("main",{className:"pt-20 pb-12",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs("div",{className:"relative h-[250px] md:h-[400px] rounded-2xl overflow-hidden mb-6 md:mb-8",children:[x.jsx("img",{src:n.images[l],alt:n.name,className:"w-full h-full object-cover"}),n.images.length>1&&x.jsxs(x.Fragment,{children:[x.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-background/80 hover:bg-background",onClick:()=>c(g=>g===0?n.images.length-1:g-1),children:x.jsx(Nue,{className:"w-6 h-6"})}),x.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-background/80 hover:bg-background",onClick:()=>c(g=>g===n.images.length-1?0:g+1),children:x.jsx(Fw,{className:"w-6 h-6"})})]}),n.isVerified&&x.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2 px-3 py-1.5 rounded-full bg-primary text-primary-foreground",children:[x.jsx(r4,{className:"w-4 h-4"}),"Verified Venue"]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8",children:[x.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[x.jsxs("div",{children:[x.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:n.sports.map(g=>x.jsx("span",{className:"px-3 py-1 rounded-full bg-primary/10 text-primary text-sm font-medium",children:g},g))}),x.jsx("h1",{className:"text-3xl font-bold mb-2",children:n.name}),x.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx(uu,{className:"w-4 h-4"}),n.address]}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx(vh,{className:"w-4 h-4 text-sport-cricket fill-sport-cricket"}),n.rating," (",n.reviews," reviews)"]})]})]}),x.jsx("p",{className:"text-muted-foreground",children:n.description}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold mb-3",children:"Facilities"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:n.facilities.map(g=>x.jsx("span",{className:"px-3 py-1.5 rounded-lg bg-secondary text-sm",children:g},g))})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold mb-3",children:"Rules"}),x.jsx("ul",{className:"space-y-2",children:n.rules.map((g,v)=>x.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground",children:[x.jsx(r4,{className:"w-4 h-4 text-primary mt-0.5"}),g]},v))})]})]}),x.jsxs(Ot.div,{className:"bg-card border rounded-2xl p-4 md:p-6 h-fit lg:sticky lg:top-24",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsxs("div",{children:[x.jsxs("span",{className:"text-3xl font-bold text-primary",children:["",n.pricePerHour]}),x.jsx("span",{className:"text-muted-foreground",children:"/hour"})]}),x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx(oA,{className:"w-4 h-4"}),n.crowdLevel," Crowd"]})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Date"}),x.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:y.map(g=>{const v=new Date(g);return x.jsxs("button",{className:`flex-shrink-0 px-3 py-2 rounded-lg text-center ${u===g?"bg-primary text-primary-foreground":"bg-secondary"}`,onClick:()=>{A(g),h(null)},children:[x.jsx("div",{className:"text-xs",children:v.toLocaleDateString("en",{weekday:"short"})}),x.jsx("div",{className:"font-semibold",children:v.getDate()})]},g)})})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Time"}),x.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-2 max-h-48 overflow-y-auto",children:p.map(g=>x.jsx("button",{disabled:!g.isAvailable,className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${g.isAvailable?d===g.time?"bg-primary text-primary-foreground":"bg-secondary hover:bg-secondary/80":"bg-muted text-muted-foreground cursor-not-allowed line-through"}`,onClick:()=>h(g.time),children:g.time},g.time))})]}),d&&x.jsxs("div",{className:"mb-6 p-4 bg-secondary rounded-lg border border-border",children:[x.jsxs("div",{className:"flex justify-between mb-2",children:[x.jsx("span",{className:"text-muted-foreground",children:"Rate per hour"}),x.jsxs("span",{className:"font-semibold",children:["",n.pricePerHour]})]}),(parseInt(d.split(":")[0])>=20||parseInt(d.split(":")[0])<4)&&x.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2 text-amber-600",children:[x.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium",children:[x.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse"}),"Peak Hour Charge"]}),x.jsx("span",{className:"font-semibold",children:"+200"})]}),x.jsx("div",{className:"h-px bg-border/50 my-2"}),x.jsxs("div",{className:"flex justify-between mb-2 text-lg font-bold text-foreground",children:[x.jsx("span",{children:"Total Amount"}),x.jsxs("span",{children:["",n.pricePerHour+(parseInt(d.split(":")[0])>=20||parseInt(d.split(":")[0])<4?200:0)]})]}),x.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground bg-background/50 p-2 rounded",children:[x.jsx("span",{children:"Pay Now (85%)"}),x.jsxs("span",{className:"text-primary font-bold",children:["",Math.round((n.pricePerHour+(parseInt(d.split(":")[0])>=20||parseInt(d.split(":")[0])<4?200:0))*.85)]})]})]}),x.jsx(Ft,{className:"w-full",size:"lg",onClick:m,children:"Book Now"}),x.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[x.jsx(OD,{className:"w-4 h-4"}),n.contactPhone]})]})]})]})}),x.jsx(_y,{}),x.jsx(Ny,{})]})};var PT="focusScope.autoFocusOnMount",OT="focusScope.autoFocusOnUnmount",PQ={bubbles:!1,cancelable:!0},b1e="FocusScope",TR=P.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=P.useState(null),c=cc(s),u=cc(i),A=P.useRef(null),d=zr(e,m=>l(m)),h=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(r){let m=function(b){if(h.paused||!a)return;const C=b.target;a.contains(C)?A.current=C:Ah(A.current,{select:!0})},y=function(b){if(h.paused||!a)return;const C=b.relatedTarget;C!==null&&(a.contains(C)||Ah(A.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&Ah(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const v=new MutationObserver(g);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),v.disconnect()}}},[r,a,h.paused]),P.useEffect(()=>{if(a){$Q.add(h);const m=document.activeElement;if(!a.contains(m)){const g=new CustomEvent(PT,PQ);a.addEventListener(PT,c),a.dispatchEvent(g),g.defaultPrevented||(C1e(I1e(cq(a)),{select:!0}),document.activeElement===m&&Ah(a))}return()=>{a.removeEventListener(PT,c),setTimeout(()=>{const g=new CustomEvent(OT,PQ);a.addEventListener(OT,u),a.dispatchEvent(g),g.defaultPrevented||Ah(m??document.body,{select:!0}),a.removeEventListener(OT,u),$Q.remove(h)},0)}}},[a,c,u,h]);const p=P.useCallback(m=>{if(!n&&!r||h.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(y&&g){const v=m.currentTarget,[b,C]=S1e(v);b&&C?!m.shiftKey&&g===C?(m.preventDefault(),n&&Ah(b,{select:!0})):m.shiftKey&&g===b&&(m.preventDefault(),n&&Ah(C,{select:!0})):g===v&&m.preventDefault()}},[n,r,h.paused]);return x.jsx(In.div,{tabIndex:-1,...o,ref:d,onKeyDown:p})});TR.displayName=b1e;function C1e(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ah(r,{select:e}),document.activeElement!==n)return}function S1e(t){const e=cq(t),n=OQ(e,t),r=OQ(e.reverse(),t);return[n,r]}function cq(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function OQ(t,e){for(const n of t)if(!B1e(n,{upTo:e}))return n}function B1e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function _1e(t){return t instanceof HTMLInputElement&&"select"in t}function Ah(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&_1e(t)&&e&&t.select()}}var $Q=N1e();function N1e(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=UQ(t,e),t.unshift(e)},remove(e){var n;t=UQ(t,e),(n=t[0])==null||n.resume()}}}function UQ(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function I1e(t){return t.filter(e=>e.tagName!=="A")}var $T=0;function uq(){P.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??MQ()),document.body.insertAdjacentElement("beforeend",t[1]??MQ()),$T++,()=>{$T===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),$T--}},[])}function MQ(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Zu=function(){return Zu=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zu.apply(this,arguments)};function Aq(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function E1e(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var eB="right-scroll-bar-position",tB="width-before-scroll-bar",k1e="with-scroll-bars-hidden",T1e="--removed-body-scroll-bar-size";function UT(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function F1e(t,e){var n=P.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var L1e=typeof window<"u"?P.useLayoutEffect:P.useEffect,QQ=new WeakMap;function D1e(t,e){var n=F1e(null,function(r){return t.forEach(function(s){return UT(s,r)})});return L1e(function(){var r=QQ.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||UT(a,null)}),i.forEach(function(a){s.has(a)||UT(a,o)})}QQ.set(n,t)},[t]),n}function R1e(t){return t}function P1e(t,e){e===void 0&&(e=R1e);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function O1e(t){t===void 0&&(t={});var e=P1e(null);return e.options=Zu({async:!0,ssr:!1},t),e}var dq=function(t){var e=t.sideCar,n=Aq(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return P.createElement(r,Zu({},n))};dq.isSideCarExport=!0;function $1e(t,e){return t.useMedium(e),dq}var hq=O1e(),MT=function(){},UN=P.forwardRef(function(t,e){var n=P.useRef(null),r=P.useState({onScrollCapture:MT,onWheelCapture:MT,onTouchMoveCapture:MT}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,A=t.shards,d=t.sideCar,h=t.noRelative,p=t.noIsolation,m=t.inert,y=t.allowPinchZoom,g=t.as,v=g===void 0?"div":g,b=t.gapMode,C=Aq(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=d,I=D1e([n,e]),T=Zu(Zu({},C),s);return P.createElement(P.Fragment,null,u&&P.createElement(_,{sideCar:hq,removeScrollBar:c,shards:A,noRelative:h,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:b}),o?P.cloneElement(P.Children.only(a),Zu(Zu({},T),{ref:I})):P.createElement(v,Zu({},T,{className:l,ref:I}),a))});UN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};UN.classNames={fullWidth:tB,zeroRight:eB};var U1e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function M1e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=U1e();return e&&t.setAttribute("nonce",e),t}function Q1e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function j1e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var H1e=function(){var t=0,e=null;return{add:function(n){t==0&&(e=M1e())&&(Q1e(e,n),j1e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},z1e=function(){var t=H1e();return function(e,n){P.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},fq=function(){var t=z1e(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},V1e={left:0,top:0,right:0,gap:0},QT=function(t){return parseInt(t||"",10)||0},W1e=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[QT(n),QT(r),QT(s)]},G1e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return V1e;var e=W1e(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},K1e=fq(),g0="data-scroll-locked",q1e=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(k1e,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(g0,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(eB,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(tB,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(eB," .").concat(eB,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(tB," .").concat(tB,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(g0,`] {
    `).concat(T1e,": ").concat(a,`px;
  }
`)},jQ=function(){var t=parseInt(document.body.getAttribute(g0)||"0",10);return isFinite(t)?t:0},X1e=function(){P.useEffect(function(){return document.body.setAttribute(g0,(jQ()+1).toString()),function(){var t=jQ()-1;t<=0?document.body.removeAttribute(g0):document.body.setAttribute(g0,t.toString())}},[])},Y1e=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;X1e();var i=P.useMemo(function(){return G1e(s)},[s]);return P.createElement(K1e,{styles:q1e(i,!e,s,n?"":"!important")})},U4=!1;if(typeof window<"u")try{var OC=Object.defineProperty({},"passive",{get:function(){return U4=!0,!0}});window.addEventListener("test",OC,OC),window.removeEventListener("test",OC,OC)}catch{U4=!1}var wg=U4?{passive:!1}:!1,Z1e=function(t){return t.tagName==="TEXTAREA"},pq=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Z1e(t)&&n[e]==="visible")},J1e=function(t){return pq(t,"overflowY")},ewe=function(t){return pq(t,"overflowX")},HQ=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=mq(t,r);if(s){var i=gq(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},twe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},nwe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},mq=function(t,e){return t==="v"?J1e(e):ewe(e)},gq=function(t,e){return t==="v"?twe(e):nwe(e)},rwe=function(t,e){return t==="h"&&e==="rtl"?-1:1},swe=function(t,e,n,r,s){var i=rwe(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,A=0,d=0;do{if(!a)break;var h=gq(t,a),p=h[0],m=h[1],y=h[2],g=m-y-i*p;(p||g)&&mq(t,a)&&(A+=g,d+=p);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(A)<1||!s)||!u&&(Math.abs(d)<1||!s))&&(c=!0),c},$C=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zQ=function(t){return[t.deltaX,t.deltaY]},VQ=function(t){return t&&"current"in t?t.current:t},iwe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},owe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},awe=0,vg=[];function lwe(t){var e=P.useRef([]),n=P.useRef([0,0]),r=P.useRef(),s=P.useState(awe++)[0],i=P.useState(fq)[0],o=P.useRef(t);P.useEffect(function(){o.current=t},[t]),P.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=E1e([t.lockRef.current],(t.shards||[]).map(VQ),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=P.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var g=$C(m),v=n.current,b="deltaX"in m?m.deltaX:v[0]-g[0],C="deltaY"in m?m.deltaY:v[1]-g[1],_,I=m.target,T=Math.abs(b)>Math.abs(C)?"h":"v";if("touches"in m&&T==="h"&&I.type==="range")return!1;var F=HQ(T,I);if(!F)return!0;if(F?_=T:(_=T==="v"?"h":"v",F=HQ(T,I)),!F)return!1;if(!r.current&&"changedTouches"in m&&(b||C)&&(r.current=_),!_)return!0;var D=r.current||_;return swe(D,y,m,D==="h"?b:C,!0)},[]),l=P.useCallback(function(m){var y=m;if(!(!vg.length||vg[vg.length-1]!==i)){var g="deltaY"in y?zQ(y):$C(y),v=e.current.filter(function(_){return _.name===y.type&&(_.target===y.target||y.target===_.shadowParent)&&iwe(_.delta,g)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(VQ).filter(Boolean).filter(function(_){return _.contains(y.target)}),C=b.length>0?a(y,b[0]):!o.current.noIsolation;C&&y.cancelable&&y.preventDefault()}}},[]),c=P.useCallback(function(m,y,g,v){var b={name:m,delta:y,target:g,should:v,shadowParent:cwe(g)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(C){return C!==b})},1)},[]),u=P.useCallback(function(m){n.current=$C(m),r.current=void 0},[]),A=P.useCallback(function(m){c(m.type,zQ(m),m.target,a(m,t.lockRef.current))},[]),d=P.useCallback(function(m){c(m.type,$C(m),m.target,a(m,t.lockRef.current))},[]);P.useEffect(function(){return vg.push(i),t.setCallbacks({onScrollCapture:A,onWheelCapture:A,onTouchMoveCapture:d}),document.addEventListener("wheel",l,wg),document.addEventListener("touchmove",l,wg),document.addEventListener("touchstart",u,wg),function(){vg=vg.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,wg),document.removeEventListener("touchmove",l,wg),document.removeEventListener("touchstart",u,wg)}},[]);var h=t.removeScrollBar,p=t.inert;return P.createElement(P.Fragment,null,p?P.createElement(i,{styles:owe(s)}):null,h?P.createElement(Y1e,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function cwe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const uwe=$1e(hq,lwe);var FR=P.forwardRef(function(t,e){return P.createElement(UN,Zu({},t,{ref:e,sideCar:uwe}))});FR.classNames=UN.classNames;var Awe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xg=new WeakMap,UC=new WeakMap,MC={},jT=0,yq=function(t){return t&&(t.host||yq(t.parentNode))},dwe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=yq(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},hwe=function(t,e,n,r){var s=dwe(e,Array.isArray(t)?t:[t]);MC[n]||(MC[n]=new WeakMap);var i=MC[n],o=[],a=new Set,l=new Set(s),c=function(A){!A||a.has(A)||(a.add(A),c(A.parentNode))};s.forEach(c);var u=function(A){!A||l.has(A)||Array.prototype.forEach.call(A.children,function(d){if(a.has(d))u(d);else try{var h=d.getAttribute(r),p=h!==null&&h!=="false",m=(xg.get(d)||0)+1,y=(i.get(d)||0)+1;xg.set(d,m),i.set(d,y),o.push(d),m===1&&p&&UC.set(d,!0),y===1&&d.setAttribute(n,"true"),p||d.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",d,g)}})};return u(e),a.clear(),jT++,function(){o.forEach(function(A){var d=xg.get(A)-1,h=i.get(A)-1;xg.set(A,d),i.set(A,h),d||(UC.has(A)||A.removeAttribute(r),UC.delete(A)),h||A.removeAttribute(n)}),jT--,jT||(xg=new WeakMap,xg=new WeakMap,UC=new WeakMap,MC={})}},wq=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Awe(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),hwe(r,s,n,"aria-hidden")):function(){return null}},MN="Dialog",[vq,Unt]=_f(MN),[fwe,yu]=vq(MN),xq=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=P.useRef(null),l=P.useRef(null),[c,u]=V0({prop:r,defaultProp:s??!1,onChange:i,caller:MN});return x.jsx(fwe,{scope:e,triggerRef:a,contentRef:l,contentId:Gh(),titleId:Gh(),descriptionId:Gh(),open:c,onOpenChange:u,onOpenToggle:P.useCallback(()=>u(A=>!A),[u]),modal:o,children:n})};xq.displayName=MN;var bq="DialogTrigger",Cq=P.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yu(bq,n),i=zr(e,s.triggerRef);return x.jsx(In.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":RR(s.open),...r,ref:i,onClick:on(t.onClick,s.onOpenToggle)})});Cq.displayName=bq;var LR="DialogPortal",[pwe,Sq]=vq(LR,{forceMount:void 0}),Bq=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=yu(LR,e);return x.jsx(pwe,{scope:e,forceMount:n,children:P.Children.map(r,o=>x.jsx(Pm,{present:n||i.open,children:x.jsx(vN,{asChild:!0,container:s,children:o})}))})};Bq.displayName=LR;var i_="DialogOverlay",_q=P.forwardRef((t,e)=>{const n=Sq(i_,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=yu(i_,t.__scopeDialog);return i.modal?x.jsx(Pm,{present:r||i.open,children:x.jsx(gwe,{...s,ref:e})}):null});_q.displayName=i_;var mwe=z0("DialogOverlay.RemoveScroll"),gwe=P.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yu(i_,n);return x.jsx(FR,{as:mwe,allowPinchZoom:!0,shards:[s.contentRef],children:x.jsx(In.div,{"data-state":RR(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Am="DialogContent",Nq=P.forwardRef((t,e)=>{const n=Sq(Am,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=yu(Am,t.__scopeDialog);return x.jsx(Pm,{present:r||i.open,children:i.modal?x.jsx(ywe,{...s,ref:e}):x.jsx(wwe,{...s,ref:e})})});Nq.displayName=Am;var ywe=P.forwardRef((t,e)=>{const n=yu(Am,t.__scopeDialog),r=P.useRef(null),s=zr(e,n.contentRef,r);return P.useEffect(()=>{const i=r.current;if(i)return wq(i)},[]),x.jsx(Iq,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:on(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:on(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:on(t.onFocusOutside,i=>i.preventDefault())})}),wwe=P.forwardRef((t,e)=>{const n=yu(Am,t.__scopeDialog),r=P.useRef(!1),s=P.useRef(!1);return x.jsx(Iq,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Iq=P.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=yu(Am,n),l=P.useRef(null),c=zr(e,l);return uq(),x.jsxs(x.Fragment,{children:[x.jsx(TR,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:x.jsx(Mx,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":RR(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),x.jsxs(x.Fragment,{children:[x.jsx(vwe,{titleId:a.titleId}),x.jsx(bwe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),DR="DialogTitle",Eq=P.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yu(DR,n);return x.jsx(In.h2,{id:s.titleId,...r,ref:e})});Eq.displayName=DR;var kq="DialogDescription",Tq=P.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yu(kq,n);return x.jsx(In.p,{id:s.descriptionId,...r,ref:e})});Tq.displayName=kq;var Fq="DialogClose",Lq=P.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yu(Fq,n);return x.jsx(In.button,{type:"button",...r,ref:e,onClick:on(t.onClick,()=>s.onOpenChange(!1))})});Lq.displayName=Fq;function RR(t){return t?"open":"closed"}var Dq="DialogTitleWarning",[Mnt,Rq]=Fce(Dq,{contentName:Am,titleName:DR,docsSlug:"dialog"}),vwe=({titleId:t})=>{const e=Rq(Dq),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return P.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},xwe="DialogDescriptionWarning",bwe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Rq(xwe).contentName}}.`;return P.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Cwe=xq,Swe=Cq,Bwe=Bq,Pq=_q,Oq=Nq,$q=Eq,Uq=Tq,_we=Lq;const Nwe=Cwe,Iwe=Swe,Ewe=Bwe,Mq=P.forwardRef(({className:t,...e},n)=>x.jsx(Pq,{ref:n,className:tr("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Mq.displayName=Pq.displayName;const Qq=P.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(Ewe,{children:[x.jsx(Mq,{}),x.jsxs(Oq,{ref:r,className:tr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,x.jsxs(_we,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[x.jsx(jx,{className:"h-4 w-4"}),x.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qq.displayName=Oq.displayName;const jq=({className:t,...e})=>x.jsx("div",{className:tr("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});jq.displayName="DialogHeader";const Hq=P.forwardRef(({className:t,...e},n)=>x.jsx($q,{ref:n,className:tr("text-lg font-semibold leading-none tracking-tight",t),...e}));Hq.displayName=$q.displayName;const kwe=P.forwardRef(({className:t,...e},n)=>x.jsx(Uq,{ref:n,className:tr("text-sm text-muted-foreground",t),...e}));kwe.displayName=Uq.displayName;var Twe="Label",zq=P.forwardRef((t,e)=>x.jsx(In.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));zq.displayName=Twe;var Vq=zq;const Fwe=DD("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qA=P.forwardRef(({className:t,...e},n)=>x.jsx(Vq,{ref:n,className:tr(Fwe(),t),...e}));qA.displayName=Vq.displayName;function WQ(t,[e,n]){return Math.min(n,Math.max(e,t))}var Lwe=P.createContext(void 0);function PR(t){const e=P.useContext(Lwe);return t||e||"ltr"}function Dwe(t){const e=P.useRef({value:t,previous:t});return P.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Rwe=[" ","Enter","ArrowUp","ArrowDown"],Pwe=[" ","Enter"],dm="Select",[QN,jN,Owe]=kD(dm),[Iy,Qnt]=_f(dm,[Owe,_N]),HN=_N(),[$we,kf]=Iy(dm),[Uwe,Mwe]=Iy(dm),Wq=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:A,disabled:d,required:h,form:p}=t,m=HN(e),[y,g]=P.useState(null),[v,b]=P.useState(null),[C,_]=P.useState(!1),I=PR(c),[T,F]=V0({prop:r,defaultProp:s??!1,onChange:i,caller:dm}),[D,j]=V0({prop:o,defaultProp:a,onChange:l,caller:dm}),O=P.useRef(null),U=y?p||!!y.closest("form"):!0,[W,$]=P.useState(new Set),J=Array.from(W).map(Z=>Z.props.value).join(";");return x.jsx(Ehe,{...m,children:x.jsxs($we,{required:h,scope:e,trigger:y,onTriggerChange:g,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:C,onValueNodeHasChildrenChange:_,contentId:Gh(),value:D,onValueChange:j,open:T,onOpenChange:F,dir:I,triggerPointerDownPosRef:O,disabled:d,children:[x.jsx(QN.Provider,{scope:e,children:x.jsx(Uwe,{scope:t.__scopeSelect,onNativeOptionAdd:P.useCallback(Z=>{$(oe=>new Set(oe).add(Z))},[]),onNativeOptionRemove:P.useCallback(Z=>{$(oe=>{const V=new Set(oe);return V.delete(Z),V})},[]),children:n})}),U?x.jsxs(mX,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:A,value:D,onChange:Z=>j(Z.target.value),disabled:d,form:p,children:[D===void 0?x.jsx("option",{value:""}):null,Array.from(W)]},J):null]})})};Wq.displayName=dm;var Gq="SelectTrigger",Kq=P.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=HN(n),o=kf(Gq,n),a=o.disabled||r,l=zr(e,o.onTriggerChange),c=jN(n),u=P.useRef("touch"),[A,d,h]=yX(m=>{const y=c().filter(b=>!b.disabled),g=y.find(b=>b.value===o.value),v=wX(y,m,g);v!==void 0&&o.onValueChange(v.value)}),p=m=>{a||(o.onOpenChange(!0),h()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return x.jsx(KG,{asChild:!0,...i,children:x.jsx(In.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":gX(o.value)?"":void 0,...s,ref:l,onClick:on(s.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&p(m)}),onPointerDown:on(s.onPointerDown,m=>{u.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(p(m),m.preventDefault())}),onKeyDown:on(s.onKeyDown,m=>{const y=A.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&d(m.key),!(y&&m.key===" ")&&Rwe.includes(m.key)&&(p(),m.preventDefault())})})})});Kq.displayName=Gq;var qq="SelectValue",Xq=P.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=kf(qq,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,A=zr(e,l.onValueNodeChange);return to(()=>{c(u)},[c,u]),x.jsx(In.span,{...a,ref:A,style:{pointerEvents:"none"},children:gX(l.value)?x.jsx(x.Fragment,{children:o}):i})});Xq.displayName=qq;var Qwe="SelectIcon",Yq=P.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return x.jsx(In.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});Yq.displayName=Qwe;var jwe="SelectPortal",Zq=t=>x.jsx(vN,{asChild:!0,...t});Zq.displayName=jwe;var hm="SelectContent",Jq=P.forwardRef((t,e)=>{const n=kf(hm,t.__scopeSelect),[r,s]=P.useState();if(to(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Rm.createPortal(x.jsx(eX,{scope:t.__scopeSelect,children:x.jsx(QN.Slot,{scope:t.__scopeSelect,children:x.jsx("div",{children:t.children})})}),i):null}return x.jsx(tX,{...t,ref:e})});Jq.displayName=hm;var zc=10,[eX,Tf]=Iy(hm),Hwe="SelectContentImpl",zwe=z0("SelectContent.RemoveScroll"),tX=P.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:A,collisionBoundary:d,collisionPadding:h,sticky:p,hideWhenDetached:m,avoidCollisions:y,...g}=t,v=kf(hm,n),[b,C]=P.useState(null),[_,I]=P.useState(null),T=zr(e,Ae=>C(Ae)),[F,D]=P.useState(null),[j,O]=P.useState(null),U=jN(n),[W,$]=P.useState(!1),J=P.useRef(!1);P.useEffect(()=>{if(b)return wq(b)},[b]),uq();const Z=P.useCallback(Ae=>{const[we,...Ce]=U().map(je=>je.ref.current),[Ne]=Ce.slice(-1),ke=document.activeElement;for(const je of Ae)if(je===ke||(je==null||je.scrollIntoView({block:"nearest"}),je===we&&_&&(_.scrollTop=0),je===Ne&&_&&(_.scrollTop=_.scrollHeight),je==null||je.focus(),document.activeElement!==ke))return},[U,_]),oe=P.useCallback(()=>Z([F,b]),[Z,F,b]);P.useEffect(()=>{W&&oe()},[W,oe]);const{onOpenChange:V,triggerPointerDownPosRef:Y}=v;P.useEffect(()=>{if(b){let Ae={x:0,y:0};const we=Ne=>{var ke,je;Ae={x:Math.abs(Math.round(Ne.pageX)-(((ke=Y.current)==null?void 0:ke.x)??0)),y:Math.abs(Math.round(Ne.pageY)-(((je=Y.current)==null?void 0:je.y)??0))}},Ce=Ne=>{Ae.x<=10&&Ae.y<=10?Ne.preventDefault():b.contains(Ne.target)||V(!1),document.removeEventListener("pointermove",we),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Ce,{capture:!0})}}},[b,V,Y]),P.useEffect(()=>{const Ae=()=>V(!1);return window.addEventListener("blur",Ae),window.addEventListener("resize",Ae),()=>{window.removeEventListener("blur",Ae),window.removeEventListener("resize",Ae)}},[V]);const[ce,he]=yX(Ae=>{const we=U().filter(ke=>!ke.disabled),Ce=we.find(ke=>ke.ref.current===document.activeElement),Ne=wX(we,Ae,Ce);Ne&&setTimeout(()=>Ne.ref.current.focus())}),z=P.useCallback((Ae,we,Ce)=>{const Ne=!J.current&&!Ce;(v.value!==void 0&&v.value===we||Ne)&&(D(Ae),Ne&&(J.current=!0))},[v.value]),G=P.useCallback(()=>b==null?void 0:b.focus(),[b]),X=P.useCallback((Ae,we,Ce)=>{const Ne=!J.current&&!Ce;(v.value!==void 0&&v.value===we||Ne)&&O(Ae)},[v.value]),re=r==="popper"?M4:nX,ue=re===M4?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:A,collisionBoundary:d,collisionPadding:h,sticky:p,hideWhenDetached:m,avoidCollisions:y}:{};return x.jsx(eX,{scope:n,content:b,viewport:_,onViewportChange:I,itemRefCallback:z,selectedItem:F,onItemLeave:G,itemTextRefCallback:X,focusSelectedItem:oe,selectedItemText:j,position:r,isPositioned:W,searchRef:ce,children:x.jsx(FR,{as:zwe,allowPinchZoom:!0,children:x.jsx(TR,{asChild:!0,trapped:v.open,onMountAutoFocus:Ae=>{Ae.preventDefault()},onUnmountAutoFocus:on(s,Ae=>{var we;(we=v.trigger)==null||we.focus({preventScroll:!0}),Ae.preventDefault()}),children:x.jsx(Mx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Ae=>Ae.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:x.jsx(re,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Ae=>Ae.preventDefault(),...g,...ue,onPlaced:()=>$(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:on(g.onKeyDown,Ae=>{const we=Ae.ctrlKey||Ae.altKey||Ae.metaKey;if(Ae.key==="Tab"&&Ae.preventDefault(),!we&&Ae.key.length===1&&he(Ae.key),["ArrowUp","ArrowDown","Home","End"].includes(Ae.key)){let Ne=U().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);if(["ArrowUp","End"].includes(Ae.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ae.key)){const ke=Ae.target,je=Ne.indexOf(ke);Ne=Ne.slice(je+1)}setTimeout(()=>Z(Ne)),Ae.preventDefault()}})})})})})})});tX.displayName=Hwe;var Vwe="SelectItemAlignedPosition",nX=P.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=kf(hm,n),o=Tf(hm,n),[a,l]=P.useState(null),[c,u]=P.useState(null),A=zr(e,T=>u(T)),d=jN(n),h=P.useRef(!1),p=P.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:g,focusSelectedItem:v}=o,b=P.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&m&&y&&g){const T=i.trigger.getBoundingClientRect(),F=c.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),j=g.getBoundingClientRect();if(i.dir!=="rtl"){const ke=j.left-F.left,je=D.left-ke,Ge=T.left-je,ot=T.width+Ge,le=Math.max(ot,F.width),Xe=window.innerWidth-zc,dt=WQ(je,[zc,Math.max(zc,Xe-le)]);a.style.minWidth=ot+"px",a.style.left=dt+"px"}else{const ke=F.right-j.right,je=window.innerWidth-D.right-ke,Ge=window.innerWidth-T.right-je,ot=T.width+Ge,le=Math.max(ot,F.width),Xe=window.innerWidth-zc,dt=WQ(je,[zc,Math.max(zc,Xe-le)]);a.style.minWidth=ot+"px",a.style.right=dt+"px"}const O=d(),U=window.innerHeight-zc*2,W=m.scrollHeight,$=window.getComputedStyle(c),J=parseInt($.borderTopWidth,10),Z=parseInt($.paddingTop,10),oe=parseInt($.borderBottomWidth,10),V=parseInt($.paddingBottom,10),Y=J+Z+W+V+oe,ce=Math.min(y.offsetHeight*5,Y),he=window.getComputedStyle(m),z=parseInt(he.paddingTop,10),G=parseInt(he.paddingBottom,10),X=T.top+T.height/2-zc,re=U-X,ue=y.offsetHeight/2,Ae=y.offsetTop+ue,we=J+Z+Ae,Ce=Y-we;if(we<=X){const ke=O.length>0&&y===O[O.length-1].ref.current;a.style.bottom="0px";const je=c.clientHeight-m.offsetTop-m.offsetHeight,Ge=Math.max(re,ue+(ke?G:0)+je+oe),ot=we+Ge;a.style.height=ot+"px"}else{const ke=O.length>0&&y===O[0].ref.current;a.style.top="0px";const Ge=Math.max(X,J+m.offsetTop+(ke?z:0)+ue)+Ce;a.style.height=Ge+"px",m.scrollTop=we-X+m.offsetTop}a.style.margin=`${zc}px 0`,a.style.minHeight=ce+"px",a.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[d,i.trigger,i.valueNode,a,c,m,y,g,i.dir,r]);to(()=>b(),[b]);const[C,_]=P.useState();to(()=>{c&&_(window.getComputedStyle(c).zIndex)},[c]);const I=P.useCallback(T=>{T&&p.current===!0&&(b(),v==null||v(),p.current=!1)},[b,v]);return x.jsx(Gwe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:I,children:x.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:x.jsx(In.div,{...s,ref:A,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});nX.displayName=Vwe;var Wwe="SelectPopperPosition",M4=P.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=zc,...i}=t,o=HN(n);return x.jsx(qG,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});M4.displayName=Wwe;var[Gwe,OR]=Iy(hm,{}),Q4="SelectViewport",rX=P.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Tf(Q4,n),o=OR(Q4,n),a=zr(e,i.onViewportChange),l=P.useRef(0);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),x.jsx(QN.Slot,{scope:n,children:x.jsx(In.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:on(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:A,shouldExpandOnScrollRef:d}=o;if(d!=null&&d.current&&A){const h=Math.abs(l.current-u.scrollTop);if(h>0){const p=window.innerHeight-zc*2,m=parseFloat(A.style.minHeight),y=parseFloat(A.style.height),g=Math.max(m,y);if(g<p){const v=g+h,b=Math.min(p,v),C=v-b;A.style.height=b+"px",A.style.bottom==="0px"&&(u.scrollTop=C>0?C:0,A.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});rX.displayName=Q4;var sX="SelectGroup",[Kwe,qwe]=Iy(sX),Xwe=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Gh();return x.jsx(Kwe,{scope:n,id:s,children:x.jsx(In.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Xwe.displayName=sX;var iX="SelectLabel",oX=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=qwe(iX,n);return x.jsx(In.div,{id:s.id,...r,ref:e})});oX.displayName=iX;var o_="SelectItem",[Ywe,aX]=Iy(o_),lX=P.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=kf(o_,n),l=Tf(o_,n),c=a.value===r,[u,A]=P.useState(i??""),[d,h]=P.useState(!1),p=zr(e,v=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,v,r,s)}),m=Gh(),y=P.useRef("touch"),g=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.jsx(Ywe,{scope:n,value:r,disabled:s,textId:m,isSelected:c,onItemTextChange:P.useCallback(v=>{A(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:x.jsx(QN.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:x.jsx(In.div,{role:"option","aria-labelledby":m,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:p,onFocus:on(o.onFocus,()=>h(!0)),onBlur:on(o.onBlur,()=>h(!1)),onClick:on(o.onClick,()=>{y.current!=="mouse"&&g()}),onPointerUp:on(o.onPointerUp,()=>{y.current==="mouse"&&g()}),onPointerDown:on(o.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:on(o.onPointerMove,v=>{var b;y.current=v.pointerType,s?(b=l.onItemLeave)==null||b.call(l):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:on(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:on(o.onKeyDown,v=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&v.key===" "||(Pwe.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});lX.displayName=o_;var Pw="SelectItemText",cX=P.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=kf(Pw,n),a=Tf(Pw,n),l=aX(Pw,n),c=Mwe(Pw,n),[u,A]=P.useState(null),d=zr(e,g=>A(g),l.onItemTextChange,g=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,g,l.value,l.disabled)}),h=u==null?void 0:u.textContent,p=P.useMemo(()=>x.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=c;return to(()=>(m(p),()=>y(p)),[m,y,p]),x.jsxs(x.Fragment,{children:[x.jsx(In.span,{id:l.textId,...i,ref:d}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Rm.createPortal(i.children,o.valueNode):null]})});cX.displayName=Pw;var uX="SelectItemIndicator",AX=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return aX(uX,n).isSelected?x.jsx(In.span,{"aria-hidden":!0,...r,ref:e}):null});AX.displayName=uX;var j4="SelectScrollUpButton",dX=P.forwardRef((t,e)=>{const n=Tf(j4,t.__scopeSelect),r=OR(j4,t.__scopeSelect),[s,i]=P.useState(!1),o=zr(e,r.onScrollButtonChange);return to(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?x.jsx(fX,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});dX.displayName=j4;var H4="SelectScrollDownButton",hX=P.forwardRef((t,e)=>{const n=Tf(H4,t.__scopeSelect),r=OR(H4,t.__scopeSelect),[s,i]=P.useState(!1),o=zr(e,r.onScrollButtonChange);return to(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?x.jsx(fX,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});hX.displayName=H4;var fX=P.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Tf("SelectScrollButton",n),o=P.useRef(null),a=jN(n),l=P.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return P.useEffect(()=>()=>l(),[l]),to(()=>{var u;const c=a().find(A=>A.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),x.jsx(In.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:on(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:on(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:on(s.onPointerLeave,()=>{l()})})}),Zwe="SelectSeparator",pX=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return x.jsx(In.div,{"aria-hidden":!0,...r,ref:e})});pX.displayName=Zwe;var z4="SelectArrow",Jwe=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=HN(n),i=kf(z4,n),o=Tf(z4,n);return i.open&&o.position==="popper"?x.jsx(XG,{...s,...r,ref:e}):null});Jwe.displayName=z4;var eve="SelectBubbleInput",mX=P.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=P.useRef(null),i=zr(r,s),o=Dwe(e);return P.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const A=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(A)}},[o,e]),x.jsx(In.select,{...n,style:{...MW,...n.style},ref:i,defaultValue:e})});mX.displayName=eve;function gX(t){return t===""||t===void 0}function yX(t){const e=cc(t),n=P.useRef(""),r=P.useRef(0),s=P.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=P.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function wX(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=tve(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function tve(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var nve=Wq,vX=Kq,rve=Xq,sve=Yq,ive=Zq,xX=Jq,ove=rX,bX=oX,CX=lX,ave=cX,lve=AX,SX=dX,BX=hX,_X=pX;const V4=nve,W4=rve,a_=P.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(vX,{ref:r,className:tr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,x.jsx(sve,{asChild:!0,children:x.jsx(PD,{className:"h-4 w-4 opacity-50"})})]}));a_.displayName=vX.displayName;const NX=P.forwardRef(({className:t,...e},n)=>x.jsx(SX,{ref:n,className:tr("flex cursor-default items-center justify-center py-1",t),...e,children:x.jsx(Iue,{className:"h-4 w-4"})}));NX.displayName=SX.displayName;const IX=P.forwardRef(({className:t,...e},n)=>x.jsx(BX,{ref:n,className:tr("flex cursor-default items-center justify-center py-1",t),...e,children:x.jsx(PD,{className:"h-4 w-4"})}));IX.displayName=BX.displayName;const l_=P.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>x.jsx(ive,{children:x.jsxs(xX,{ref:s,className:tr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[x.jsx(NX,{}),x.jsx(ove,{className:tr("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),x.jsx(IX,{})]})}));l_.displayName=xX.displayName;const cve=P.forwardRef(({className:t,...e},n)=>x.jsx(bX,{ref:n,className:tr("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));cve.displayName=bX.displayName;const c_=P.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(CX,{ref:r,className:tr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(lve,{children:x.jsx(uG,{className:"h-4 w-4"})})}),x.jsx(ave,{children:e})]}));c_.displayName=CX.displayName;const uve=P.forwardRef(({className:t,...e},n)=>x.jsx(_X,{ref:n,className:tr("-mx-1 my-1 h-px bg-muted",t),...e}));uve.displayName=_X.displayName;const Ave=[{id:"p001",name:"Arjun Patel",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&auto=format&fit=crop",city:"Ahmedabad",sports:["Cricket","Football"],skillLevel:"Advanced",playStyle:"Competitive",age:28,gender:"Male",matchesPlayed:156,rating:4.8,badges:["Tournament Winner","Century Scorer","Team Captain"],points:2450,bio:"Weekend warrior looking for quality cricket matches. Love competitive games!",availability:["Evening","Weekend"],lookingFor:["Cricket","Football"],isOnline:!0},{id:"p002",name:"Priya Sharma",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200&auto=format&fit=crop",city:"Ahmedabad",sports:["Badminton","Tennis"],skillLevel:"Intermediate",playStyle:"Casual",age:25,gender:"Female",matchesPlayed:89,rating:4.6,badges:["Rising Star","Consistent Player"],points:1200,bio:"Love playing badminton after work. Always up for a friendly match!",availability:["Evening","Night"],lookingFor:["Badminton"],isOnline:!0},{id:"p003",name:"Rahul Mehta",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=200&auto=format&fit=crop",city:"Ahmedabad",sports:["Football"],skillLevel:"Pro",playStyle:"Competitive",age:30,gender:"Male",matchesPlayed:234,rating:4.9,badges:["Pro Player","Tournament Winner","Goal Machine"],points:3800,bio:"Ex-college football captain. Looking for serious players for weekend matches.",availability:["Weekend","Morning"],lookingFor:["Football"],isOnline:!1},{id:"p004",name:"Sneha Desai",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=200&auto=format&fit=crop",city:"Surat",sports:["Tennis","Pickleball"],skillLevel:"Advanced",playStyle:"Competitive",age:27,gender:"Female",matchesPlayed:145,rating:4.7,badges:["Tennis Pro","Quick Learner"],points:2100,bio:"Tennis enthusiast exploring pickleball. Let's play!",availability:["Morning","Evening"],lookingFor:["Tennis","Pickleball"],isOnline:!0},{id:"p005",name:"Vikram Singh",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=200&auto=format&fit=crop",city:"Vadodara",sports:["Cricket"],skillLevel:"Intermediate",playStyle:"Casual",age:32,gender:"Male",matchesPlayed:78,rating:4.4,badges:["Team Player","Reliable"],points:980,bio:"Cricket lover since childhood. Looking for weekend gully cricket matches!",availability:["Weekend"],lookingFor:["Cricket"],isOnline:!1},{id:"p006",name:"Kavya Joshi",avatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=200&auto=format&fit=crop",city:"Ahmedabad",sports:["Badminton"],skillLevel:"Beginner",playStyle:"Casual",age:23,gender:"Female",matchesPlayed:34,rating:4.2,badges:["New Player","Enthusiast"],points:450,bio:"Just started playing badminton. Looking for patient partners to learn with!",availability:["Evening","Weekend"],lookingFor:["Badminton"],isOnline:!0},{id:"p007",name:"Nikhil Agarwal",avatar:"https://images.unsplash.com/photo-1519345182560-3f2917c472ef?w=200&auto=format&fit=crop",city:"Rajkot",sports:["Cricket","Tennis"],skillLevel:"Advanced",playStyle:"Competitive",age:29,gender:"Male",matchesPlayed:189,rating:4.8,badges:["All-Rounder","Tournament Regular"],points:2890,bio:"Play both cricket and tennis at competitive level. Always looking for worthy opponents!",availability:["Morning","Evening","Weekend"],lookingFor:["Cricket","Tennis"],isOnline:!0},{id:"p008",name:"Ananya Reddy",avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=200&auto=format&fit=crop",city:"Gandhinagar",sports:["Football","Badminton"],skillLevel:"Intermediate",playStyle:"Casual",age:26,gender:"Female",matchesPlayed:67,rating:4.5,badges:["Versatile Player","Team Spirit"],points:890,bio:"Love team sports! Looking for mixed football teams and badminton partners.",availability:["Evening","Weekend"],lookingFor:["Football","Badminton"],isOnline:!1},{id:"p009",name:"Harsh Trivedi",avatar:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=200&auto=format&fit=crop",city:"Surat",sports:["Cricket"],skillLevel:"Pro",playStyle:"Competitive",age:35,gender:"Male",matchesPlayed:312,rating:4.9,badges:["Veteran","Coach","Tournament Winner"],points:5200,bio:"Former district level player. Now coaching and playing for fun. Can help beginners!",availability:["Morning","Weekend"],lookingFor:["Cricket"],isOnline:!0},{id:"p010",name:"Riya Shah",avatar:"https://images.unsplash.com/photo-1580489944761-15a19d654956?w=200&auto=format&fit=crop",city:"Ahmedabad",sports:["Pickleball","Tennis"],skillLevel:"Beginner",playStyle:"Casual",age:24,gender:"Female",matchesPlayed:23,rating:4.3,badges:["Quick Learner","Positive Energy"],points:320,bio:"New to racket sports but loving every moment. Weekends are for sports!",availability:["Weekend"],lookingFor:["Pickleball"],isOnline:!0},{id:"p011",name:"Dev Patel",avatar:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?w=200&auto=format&fit=crop",city:"Bhavnagar",sports:["Football","Cricket"],skillLevel:"Intermediate",playStyle:"Competitive",age:27,gender:"Male",matchesPlayed:112,rating:4.6,badges:["Goal Scorer","Team Player"],points:1560,bio:"Football first, cricket second. Looking for regular weekend games!",availability:["Evening","Weekend"],lookingFor:["Football"],isOnline:!1},{id:"p012",name:"Meera Iyer",avatar:"https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=200&auto=format&fit=crop",city:"Vadodara",sports:["Badminton","Tennis"],skillLevel:"Advanced",playStyle:"Competitive",age:28,gender:"Female",matchesPlayed:178,rating:4.7,badges:["Smash Queen","Tournament Regular"],points:2340,bio:"Competitive badminton player. State level qualifier. Looking for serious matches!",availability:["Morning","Evening"],lookingFor:["Badminton"],isOnline:!0}];var HT="rovingFocusGroup.onEntryFocus",dve={bubbles:!1,cancelable:!0},Jx="RovingFocusGroup",[G4,EX,hve]=kD(Jx),[fve,kX]=_f(Jx,[hve]),[pve,mve]=fve(Jx),TX=P.forwardRef((t,e)=>x.jsx(G4.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(G4.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(gve,{...t,ref:e})})}));TX.displayName=Jx;var gve=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...A}=t,d=P.useRef(null),h=zr(e,d),p=PR(i),[m,y]=V0({prop:o,defaultProp:a??null,onChange:l,caller:Jx}),[g,v]=P.useState(!1),b=cc(c),C=EX(n),_=P.useRef(!1),[I,T]=P.useState(0);return P.useEffect(()=>{const F=d.current;if(F)return F.addEventListener(HT,b),()=>F.removeEventListener(HT,b)},[b]),x.jsx(pve,{scope:n,orientation:r,dir:p,loop:s,currentTabStopId:m,onItemFocus:P.useCallback(F=>y(F),[y]),onItemShiftTab:P.useCallback(()=>v(!0),[]),onFocusableItemAdd:P.useCallback(()=>T(F=>F+1),[]),onFocusableItemRemove:P.useCallback(()=>T(F=>F-1),[]),children:x.jsx(In.div,{tabIndex:g||I===0?-1:0,"data-orientation":r,...A,ref:h,style:{outline:"none",...t.style},onMouseDown:on(t.onMouseDown,()=>{_.current=!0}),onFocus:on(t.onFocus,F=>{const D=!_.current;if(F.target===F.currentTarget&&D&&!g){const j=new CustomEvent(HT,dve);if(F.currentTarget.dispatchEvent(j),!j.defaultPrevented){const O=C().filter(Z=>Z.focusable),U=O.find(Z=>Z.active),W=O.find(Z=>Z.id===m),J=[U,W,...O].filter(Boolean).map(Z=>Z.ref.current);DX(J,u)}}_.current=!1}),onBlur:on(t.onBlur,()=>v(!1))})})}),FX="RovingFocusGroupItem",LX=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Gh(),c=i||l,u=mve(FX,n),A=u.currentTabStopId===c,d=EX(n),{onFocusableItemAdd:h,onFocusableItemRemove:p,currentTabStopId:m}=u;return P.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),x.jsx(G4.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:x.jsx(In.span,{tabIndex:A?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:on(t.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:on(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:on(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=vve(y,u.orientation,u.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=d().filter(C=>C.focusable).map(C=>C.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const C=b.indexOf(y.currentTarget);b=u.loop?xve(b,C+1):b.slice(C+1)}setTimeout(()=>DX(b))}}),children:typeof o=="function"?o({isCurrentTabStop:A,hasTabStop:m!=null}):o})})});LX.displayName=FX;var yve={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wve(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function vve(t,e,n){const r=wve(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return yve[r]}function DX(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function xve(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var bve=TX,Cve=LX,zN="Tabs",[Sve,jnt]=_f(zN,[kX]),RX=kX(),[Bve,$R]=Sve(zN),PX=P.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=PR(a),[A,d]=V0({prop:r,onChange:s,defaultProp:i??"",caller:zN});return x.jsx(Bve,{scope:n,baseId:Gh(),value:A,onValueChange:d,orientation:o,dir:u,activationMode:l,children:x.jsx(In.div,{dir:u,"data-orientation":o,...c,ref:e})})});PX.displayName=zN;var OX="TabsList",$X=P.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=$R(OX,n),o=RX(n);return x.jsx(bve,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:x.jsx(In.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});$X.displayName=OX;var UX="TabsTrigger",MX=P.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=$R(UX,n),a=RX(n),l=HX(o.baseId,r),c=zX(o.baseId,r),u=r===o.value;return x.jsx(Cve,{asChild:!0,...a,focusable:!s,active:u,children:x.jsx(In.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:on(t.onMouseDown,A=>{!s&&A.button===0&&A.ctrlKey===!1?o.onValueChange(r):A.preventDefault()}),onKeyDown:on(t.onKeyDown,A=>{[" ","Enter"].includes(A.key)&&o.onValueChange(r)}),onFocus:on(t.onFocus,()=>{const A=o.activationMode!=="manual";!u&&!s&&A&&o.onValueChange(r)})})})});MX.displayName=UX;var QX="TabsContent",jX=P.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=$R(QX,n),l=HX(a.baseId,r),c=zX(a.baseId,r),u=r===a.value,A=P.useRef(u);return P.useEffect(()=>{const d=requestAnimationFrame(()=>A.current=!1);return()=>cancelAnimationFrame(d)},[]),x.jsx(Pm,{present:s||u,children:({present:d})=>x.jsx(In.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:A.current?"0s":void 0},children:d&&i})})});jX.displayName=QX;function HX(t,e){return`${t}-trigger-${e}`}function zX(t,e){return`${t}-content-${e}`}var _ve=PX,VX=$X,WX=MX,GX=jX;const Nve=_ve,KX=P.forwardRef(({className:t,...e},n)=>x.jsx(VX,{ref:n,className:tr("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));KX.displayName=VX.displayName;const nB=P.forwardRef(({className:t,...e},n)=>x.jsx(WX,{ref:n,className:tr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));nB.displayName=WX.displayName;const rB=P.forwardRef(({className:t,...e},n)=>x.jsx(GX,{ref:n,className:tr("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));rB.displayName=GX.displayName;function Ive(t,e){const n=P.useRef(e);P.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const Eve=1;function kve(t){return Object.freeze({__version:Eve,map:t})}function Tve(t,e){return Object.freeze({...t,...e})}const qX=P.createContext(null),XX=qX.Provider;function YX(){const t=P.useContext(qX);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Fve(t){function e(n,r){const{instance:s,context:i}=t(n).current;return P.useImperativeHandle(r,()=>s),n.children==null?null:ut.createElement(XX,{value:i},n.children)}return P.forwardRef(e)}function Lve(t){function e(n,r){const{instance:s}=t(n).current;return P.useImperativeHandle(r,()=>s),null}return P.forwardRef(e)}function Dve(t,e){const n=P.useRef();P.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function ZX(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}var K4={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(_A,function(n){var r="1.9.4";function s(f){var w,B,k,H;for(B=1,k=arguments.length;B<k;B++){H=arguments[B];for(w in H)f[w]=H[w]}return f}var i=Object.create||function(){function f(){}return function(w){return f.prototype=w,new f}}();function o(f,w){var B=Array.prototype.slice;if(f.bind)return f.bind.apply(f,B.call(arguments,1));var k=B.call(arguments,2);return function(){return f.apply(w,k.length?k.concat(B.call(arguments)):arguments)}}var a=0;function l(f){return"_leaflet_id"in f||(f._leaflet_id=++a),f._leaflet_id}function c(f,w,B){var k,H,ne,ve;return ve=function(){k=!1,H&&(ne.apply(B,H),H=!1)},ne=function(){k?H=arguments:(f.apply(B,arguments),setTimeout(ve,w),k=!0)},ne}function u(f,w,B){var k=w[1],H=w[0],ne=k-H;return f===k&&B?f:((f-H)%ne+ne)%ne+H}function A(){return!1}function d(f,w){if(w===!1)return f;var B=Math.pow(10,w===void 0?6:w);return Math.round(f*B)/B}function h(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function p(f){return h(f).split(/\s+/)}function m(f,w){Object.prototype.hasOwnProperty.call(f,"options")||(f.options=f.options?i(f.options):{});for(var B in w)f.options[B]=w[B];return f.options}function y(f,w,B){var k=[];for(var H in f)k.push(encodeURIComponent(B?H.toUpperCase():H)+"="+encodeURIComponent(f[H]));return(!w||w.indexOf("?")===-1?"?":"&")+k.join("&")}var g=/\{ *([\w_ -]+) *\}/g;function v(f,w){return f.replace(g,function(B,k){var H=w[k];if(H===void 0)throw new Error("No value provided for variable "+B);return typeof H=="function"&&(H=H(w)),H})}var b=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function C(f,w){for(var B=0;B<f.length;B++)if(f[B]===w)return B;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(f){return window["webkit"+f]||window["moz"+f]||window["ms"+f]}var T=0;function F(f){var w=+new Date,B=Math.max(0,16-(w-T));return T=w+B,window.setTimeout(f,B)}var D=window.requestAnimationFrame||I("RequestAnimationFrame")||F,j=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(f){window.clearTimeout(f)};function O(f,w,B){if(B&&D===F)f.call(w);else return D.call(window,o(f,w))}function U(f){f&&j.call(window,f)}var W={__proto__:null,extend:s,create:i,bind:o,get lastId(){return a},stamp:l,throttle:c,wrapNum:u,falseFn:A,formatNum:d,trim:h,splitWords:p,setOptions:m,getParamString:y,template:v,isArray:b,indexOf:C,emptyImageUrl:_,requestFn:D,cancelFn:j,requestAnimFrame:O,cancelAnimFrame:U};function $(){}$.extend=function(f){var w=function(){m(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},B=w.__super__=this.prototype,k=i(B);k.constructor=w,w.prototype=k;for(var H in this)Object.prototype.hasOwnProperty.call(this,H)&&H!=="prototype"&&H!=="__super__"&&(w[H]=this[H]);return f.statics&&s(w,f.statics),f.includes&&(J(f.includes),s.apply(null,[k].concat(f.includes))),s(k,f),delete k.statics,delete k.includes,k.options&&(k.options=B.options?i(B.options):{},s(k.options,f.options)),k._initHooks=[],k.callInitHooks=function(){if(!this._initHooksCalled){B.callInitHooks&&B.callInitHooks.call(this),this._initHooksCalled=!0;for(var ne=0,ve=k._initHooks.length;ne<ve;ne++)k._initHooks[ne].call(this)}},w},$.include=function(f){var w=this.prototype.options;return s(this.prototype,f),f.options&&(this.prototype.options=w,this.mergeOptions(f.options)),this},$.mergeOptions=function(f){return s(this.prototype.options,f),this},$.addInitHook=function(f){var w=Array.prototype.slice.call(arguments,1),B=typeof f=="function"?f:function(){this[f].apply(this,w)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(B),this};function J(f){if(!(typeof L>"u"||!L||!L.Mixin)){f=b(f)?f:[f];for(var w=0;w<f.length;w++)f[w]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(f,w,B){if(typeof f=="object")for(var k in f)this._on(k,f[k],w);else{f=p(f);for(var H=0,ne=f.length;H<ne;H++)this._on(f[H],w,B)}return this},off:function(f,w,B){if(!arguments.length)delete this._events;else if(typeof f=="object")for(var k in f)this._off(k,f[k],w);else{f=p(f);for(var H=arguments.length===1,ne=0,ve=f.length;ne<ve;ne++)H?this._off(f[ne]):this._off(f[ne],w,B)}return this},_on:function(f,w,B,k){if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}if(this._listens(f,w,B)===!1){B===this&&(B=void 0);var H={fn:w,ctx:B};k&&(H.once=!0),this._events=this._events||{},this._events[f]=this._events[f]||[],this._events[f].push(H)}},_off:function(f,w,B){var k,H,ne;if(this._events&&(k=this._events[f],!!k)){if(arguments.length===1){if(this._firingCount)for(H=0,ne=k.length;H<ne;H++)k[H].fn=A;delete this._events[f];return}if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}var ve=this._listens(f,w,B);if(ve!==!1){var De=k[ve];this._firingCount&&(De.fn=A,this._events[f]=k=k.slice()),k.splice(ve,1)}}},fire:function(f,w,B){if(!this.listens(f,B))return this;var k=s({},w,{type:f,target:this,sourceTarget:w&&w.sourceTarget||this});if(this._events){var H=this._events[f];if(H){this._firingCount=this._firingCount+1||1;for(var ne=0,ve=H.length;ne<ve;ne++){var De=H[ne],Qe=De.fn;De.once&&this.off(f,Qe,De.ctx),Qe.call(De.ctx||this,k)}this._firingCount--}}return B&&this._propagateEvent(k),this},listens:function(f,w,B,k){typeof f!="string"&&console.warn('"string" type argument expected');var H=w;typeof w!="function"&&(k=!!w,H=void 0,B=void 0);var ne=this._events&&this._events[f];if(ne&&ne.length&&this._listens(f,H,B)!==!1)return!0;if(k){for(var ve in this._eventParents)if(this._eventParents[ve].listens(f,w,B,k))return!0}return!1},_listens:function(f,w,B){if(!this._events)return!1;var k=this._events[f]||[];if(!w)return!!k.length;B===this&&(B=void 0);for(var H=0,ne=k.length;H<ne;H++)if(k[H].fn===w&&k[H].ctx===B)return H;return!1},once:function(f,w,B){if(typeof f=="object")for(var k in f)this._on(k,f[k],w,!0);else{f=p(f);for(var H=0,ne=f.length;H<ne;H++)this._on(f[H],w,B,!0)}return this},addEventParent:function(f){return this._eventParents=this._eventParents||{},this._eventParents[l(f)]=f,this},removeEventParent:function(f){return this._eventParents&&delete this._eventParents[l(f)],this},_propagateEvent:function(f){for(var w in this._eventParents)this._eventParents[w].fire(f.type,s({layer:f.target,propagatedFrom:f.target},f),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var oe=$.extend(Z);function V(f,w,B){this.x=B?Math.round(f):f,this.y=B?Math.round(w):w}var Y=Math.trunc||function(f){return f>0?Math.floor(f):Math.ceil(f)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(f){return this.clone()._add(ce(f))},_add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.clone()._subtract(ce(f))},_subtract:function(f){return this.x-=f.x,this.y-=f.y,this},divideBy:function(f){return this.clone()._divideBy(f)},_divideBy:function(f){return this.x/=f,this.y/=f,this},multiplyBy:function(f){return this.clone()._multiplyBy(f)},_multiplyBy:function(f){return this.x*=f,this.y*=f,this},scaleBy:function(f){return new V(this.x*f.x,this.y*f.y)},unscaleBy:function(f){return new V(this.x/f.x,this.y/f.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Y(this.x),this.y=Y(this.y),this},distanceTo:function(f){f=ce(f);var w=f.x-this.x,B=f.y-this.y;return Math.sqrt(w*w+B*B)},equals:function(f){return f=ce(f),f.x===this.x&&f.y===this.y},contains:function(f){return f=ce(f),Math.abs(f.x)<=Math.abs(this.x)&&Math.abs(f.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}};function ce(f,w,B){return f instanceof V?f:b(f)?new V(f[0],f[1]):f==null?f:typeof f=="object"&&"x"in f&&"y"in f?new V(f.x,f.y):new V(f,w,B)}function he(f,w){if(f)for(var B=w?[f,w]:f,k=0,H=B.length;k<H;k++)this.extend(B[k])}he.prototype={extend:function(f){var w,B;if(!f)return this;if(f instanceof V||typeof f[0]=="number"||"x"in f)w=B=ce(f);else if(f=z(f),w=f.min,B=f.max,!w||!B)return this;return!this.min&&!this.max?(this.min=w.clone(),this.max=B.clone()):(this.min.x=Math.min(w.x,this.min.x),this.max.x=Math.max(B.x,this.max.x),this.min.y=Math.min(w.y,this.min.y),this.max.y=Math.max(B.y,this.max.y)),this},getCenter:function(f){return ce((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,f)},getBottomLeft:function(){return ce(this.min.x,this.max.y)},getTopRight:function(){return ce(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(f){var w,B;return typeof f[0]=="number"||f instanceof V?f=ce(f):f=z(f),f instanceof he?(w=f.min,B=f.max):w=B=f,w.x>=this.min.x&&B.x<=this.max.x&&w.y>=this.min.y&&B.y<=this.max.y},intersects:function(f){f=z(f);var w=this.min,B=this.max,k=f.min,H=f.max,ne=H.x>=w.x&&k.x<=B.x,ve=H.y>=w.y&&k.y<=B.y;return ne&&ve},overlaps:function(f){f=z(f);var w=this.min,B=this.max,k=f.min,H=f.max,ne=H.x>w.x&&k.x<B.x,ve=H.y>w.y&&k.y<B.y;return ne&&ve},isValid:function(){return!!(this.min&&this.max)},pad:function(f){var w=this.min,B=this.max,k=Math.abs(w.x-B.x)*f,H=Math.abs(w.y-B.y)*f;return z(ce(w.x-k,w.y-H),ce(B.x+k,B.y+H))},equals:function(f){return f?(f=z(f),this.min.equals(f.getTopLeft())&&this.max.equals(f.getBottomRight())):!1}};function z(f,w){return!f||f instanceof he?f:new he(f,w)}function G(f,w){if(f)for(var B=w?[f,w]:f,k=0,H=B.length;k<H;k++)this.extend(B[k])}G.prototype={extend:function(f){var w=this._southWest,B=this._northEast,k,H;if(f instanceof re)k=f,H=f;else if(f instanceof G){if(k=f._southWest,H=f._northEast,!k||!H)return this}else return f?this.extend(ue(f)||X(f)):this;return!w&&!B?(this._southWest=new re(k.lat,k.lng),this._northEast=new re(H.lat,H.lng)):(w.lat=Math.min(k.lat,w.lat),w.lng=Math.min(k.lng,w.lng),B.lat=Math.max(H.lat,B.lat),B.lng=Math.max(H.lng,B.lng)),this},pad:function(f){var w=this._southWest,B=this._northEast,k=Math.abs(w.lat-B.lat)*f,H=Math.abs(w.lng-B.lng)*f;return new G(new re(w.lat-k,w.lng-H),new re(B.lat+k,B.lng+H))},getCenter:function(){return new re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new re(this.getNorth(),this.getWest())},getSouthEast:function(){return new re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(f){typeof f[0]=="number"||f instanceof re||"lat"in f?f=ue(f):f=X(f);var w=this._southWest,B=this._northEast,k,H;return f instanceof G?(k=f.getSouthWest(),H=f.getNorthEast()):k=H=f,k.lat>=w.lat&&H.lat<=B.lat&&k.lng>=w.lng&&H.lng<=B.lng},intersects:function(f){f=X(f);var w=this._southWest,B=this._northEast,k=f.getSouthWest(),H=f.getNorthEast(),ne=H.lat>=w.lat&&k.lat<=B.lat,ve=H.lng>=w.lng&&k.lng<=B.lng;return ne&&ve},overlaps:function(f){f=X(f);var w=this._southWest,B=this._northEast,k=f.getSouthWest(),H=f.getNorthEast(),ne=H.lat>w.lat&&k.lat<B.lat,ve=H.lng>w.lng&&k.lng<B.lng;return ne&&ve},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(f,w){return f?(f=X(f),this._southWest.equals(f.getSouthWest(),w)&&this._northEast.equals(f.getNorthEast(),w)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function X(f,w){return f instanceof G?f:new G(f,w)}function re(f,w,B){if(isNaN(f)||isNaN(w))throw new Error("Invalid LatLng object: ("+f+", "+w+")");this.lat=+f,this.lng=+w,B!==void 0&&(this.alt=+B)}re.prototype={equals:function(f,w){if(!f)return!1;f=ue(f);var B=Math.max(Math.abs(this.lat-f.lat),Math.abs(this.lng-f.lng));return B<=(w===void 0?1e-9:w)},toString:function(f){return"LatLng("+d(this.lat,f)+", "+d(this.lng,f)+")"},distanceTo:function(f){return we.distance(this,ue(f))},wrap:function(){return we.wrapLatLng(this)},toBounds:function(f){var w=180*f/40075017,B=w/Math.cos(Math.PI/180*this.lat);return X([this.lat-w,this.lng-B],[this.lat+w,this.lng+B])},clone:function(){return new re(this.lat,this.lng,this.alt)}};function ue(f,w,B){return f instanceof re?f:b(f)&&typeof f[0]!="object"?f.length===3?new re(f[0],f[1],f[2]):f.length===2?new re(f[0],f[1]):null:f==null?f:typeof f=="object"&&"lat"in f?new re(f.lat,"lng"in f?f.lng:f.lon,f.alt):w===void 0?null:new re(f,w,B)}var Ae={latLngToPoint:function(f,w){var B=this.projection.project(f),k=this.scale(w);return this.transformation._transform(B,k)},pointToLatLng:function(f,w){var B=this.scale(w),k=this.transformation.untransform(f,B);return this.projection.unproject(k)},project:function(f){return this.projection.project(f)},unproject:function(f){return this.projection.unproject(f)},scale:function(f){return 256*Math.pow(2,f)},zoom:function(f){return Math.log(f/256)/Math.LN2},getProjectedBounds:function(f){if(this.infinite)return null;var w=this.projection.bounds,B=this.scale(f),k=this.transformation.transform(w.min,B),H=this.transformation.transform(w.max,B);return new he(k,H)},infinite:!1,wrapLatLng:function(f){var w=this.wrapLng?u(f.lng,this.wrapLng,!0):f.lng,B=this.wrapLat?u(f.lat,this.wrapLat,!0):f.lat,k=f.alt;return new re(B,w,k)},wrapLatLngBounds:function(f){var w=f.getCenter(),B=this.wrapLatLng(w),k=w.lat-B.lat,H=w.lng-B.lng;if(k===0&&H===0)return f;var ne=f.getSouthWest(),ve=f.getNorthEast(),De=new re(ne.lat-k,ne.lng-H),Qe=new re(ve.lat-k,ve.lng-H);return new G(De,Qe)}},we=s({},Ae,{wrapLng:[-180,180],R:6371e3,distance:function(f,w){var B=Math.PI/180,k=f.lat*B,H=w.lat*B,ne=Math.sin((w.lat-f.lat)*B/2),ve=Math.sin((w.lng-f.lng)*B/2),De=ne*ne+Math.cos(k)*Math.cos(H)*ve*ve,Qe=2*Math.atan2(Math.sqrt(De),Math.sqrt(1-De));return this.R*Qe}}),Ce=6378137,Ne={R:Ce,MAX_LATITUDE:85.0511287798,project:function(f){var w=Math.PI/180,B=this.MAX_LATITUDE,k=Math.max(Math.min(B,f.lat),-B),H=Math.sin(k*w);return new V(this.R*f.lng*w,this.R*Math.log((1+H)/(1-H))/2)},unproject:function(f){var w=180/Math.PI;return new re((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*w,f.x*w/this.R)},bounds:function(){var f=Ce*Math.PI;return new he([-f,-f],[f,f])}()};function ke(f,w,B,k){if(b(f)){this._a=f[0],this._b=f[1],this._c=f[2],this._d=f[3];return}this._a=f,this._b=w,this._c=B,this._d=k}ke.prototype={transform:function(f,w){return this._transform(f.clone(),w)},_transform:function(f,w){return w=w||1,f.x=w*(this._a*f.x+this._b),f.y=w*(this._c*f.y+this._d),f},untransform:function(f,w){return w=w||1,new V((f.x/w-this._b)/this._a,(f.y/w-this._d)/this._c)}};function je(f,w,B,k){return new ke(f,w,B,k)}var Ge=s({},we,{code:"EPSG:3857",projection:Ne,transformation:function(){var f=.5/(Math.PI*Ne.R);return je(f,.5,-f,.5)}()}),ot=s({},Ge,{code:"EPSG:900913"});function le(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function Xe(f,w){var B="",k,H,ne,ve,De,Qe;for(k=0,ne=f.length;k<ne;k++){for(De=f[k],H=0,ve=De.length;H<ve;H++)Qe=De[H],B+=(H?"L":"M")+Qe.x+" "+Qe.y;B+=w?ht.svg?"z":"x":""}return B||"M0 0"}var dt=document.documentElement.style,Ue="ActiveXObject"in window,Re=Ue&&!document.addEventListener,Ke="msLaunchUri"in navigator&&!("documentMode"in document),Ze=Fn("webkit"),st=Fn("android"),Me=Fn("android 2")||Fn("android 3"),St=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Bt=st&&Fn("Google")&&St<537&&!("AudioNode"in window),ct=!!window.opera,Nt=!Ke&&Fn("chrome"),Dt=Fn("gecko")&&!Ze&&!ct&&!Ue,gt=!Nt&&Fn("safari"),Vt=Fn("phantom"),xt="OTransition"in dt,kn=navigator.platform.indexOf("Win")===0,dn=Ue&&"transition"in dt,Wt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Me,Jt="MozPerspective"in dt,Tn=!window.L_DISABLE_3D&&(dn||Wt||Jt)&&!xt&&!Vt,Rt=typeof orientation<"u"||Fn("mobile"),Vn=Rt&&Ze,Yt=Rt&&Wt,rn=!window.PointerEvent&&window.MSPointerEvent,nr=!!(window.PointerEvent||rn),ln="ontouchstart"in window||!!window.TouchEvent,Et=!window.L_NO_TOUCH&&(ln||nr),sn=Rt&&ct,Kt=Rt&&Dt,tn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,vn=function(){var f=!1;try{var w=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("testPassiveEventSupport",A,w),window.removeEventListener("testPassiveEventSupport",A,w)}catch{}return f}(),qn=function(){return!!document.createElement("canvas").getContext}(),yt=!!(document.createElementNS&&le("svg").createSVGRect),Br=!!yt&&function(){var f=document.createElement("div");return f.innerHTML="<svg/>",(f.firstChild&&f.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ir=!yt&&function(){try{var f=document.createElement("div");f.innerHTML='<v:shape adj="1"/>';var w=f.firstChild;return w.style.behavior="url(#default#VML)",w&&typeof w.adj=="object"}catch{return!1}}(),Zn=navigator.platform.indexOf("Mac")===0,cr=navigator.platform.indexOf("Linux")===0;function Fn(f){return navigator.userAgent.toLowerCase().indexOf(f)>=0}var ht={ie:Ue,ielt9:Re,edge:Ke,webkit:Ze,android:st,android23:Me,androidStock:Bt,opera:ct,chrome:Nt,gecko:Dt,safari:gt,phantom:Vt,opera12:xt,win:kn,ie3d:dn,webkit3d:Wt,gecko3d:Jt,any3d:Tn,mobile:Rt,mobileWebkit:Vn,mobileWebkit3d:Yt,msPointer:rn,pointer:nr,touch:Et,touchNative:ln,mobileOpera:sn,mobileGecko:Kt,retina:tn,passiveEvents:vn,canvas:qn,svg:yt,vml:Ir,inlineSvg:Br,mac:Zn,linux:cr},Er=ht.msPointer?"MSPointerDown":"pointerdown",ua=ht.msPointer?"MSPointerMove":"pointermove",ja=ht.msPointer?"MSPointerUp":"pointerup",so=ht.msPointer?"MSPointerCancel":"pointercancel",Ui={touchstart:Er,touchmove:ua,touchend:ja,touchcancel:so},rr={touchstart:Hf,touchmove:Od,touchend:Od,touchcancel:Od},Vr={},oi=!1;function pc(f,w,B){return w==="touchstart"&&Pd(),rr[w]?(B=rr[w].bind(this,B),f.addEventListener(Ui[w],B,!1),B):(console.warn("wrong event specified:",w),A)}function Lo(f,w,B){if(!Ui[w]){console.warn("wrong event specified:",w);return}f.removeEventListener(Ui[w],B,!1)}function Sl(f){Vr[f.pointerId]=f}function Rd(f){Vr[f.pointerId]&&(Vr[f.pointerId]=f)}function LA(f){delete Vr[f.pointerId]}function Pd(){oi||(document.addEventListener(Er,Sl,!0),document.addEventListener(ua,Rd,!0),document.addEventListener(ja,LA,!0),document.addEventListener(so,LA,!0),oi=!0)}function Od(f,w){if(w.pointerType!==(w.MSPOINTER_TYPE_MOUSE||"mouse")){w.touches=[];for(var B in Vr)w.touches.push(Vr[B]);w.changedTouches=[w],f(w)}}function Hf(f,w){w.MSPOINTER_TYPE_TOUCH&&w.pointerType===w.MSPOINTER_TYPE_TOUCH&&Wr(w),Od(f,w)}function rg(f){var w={},B,k;for(k in f)B=f[k],w[k]=B&&B.bind?B.bind(f):B;return f=w,w.type="dblclick",w.detail=2,w.isTrusted=!1,w._simulated=!0,w}var sg=200;function Aa(f,w){f.addEventListener("dblclick",w);var B=0,k;function H(ne){if(ne.detail!==1){k=ne.detail;return}if(!(ne.pointerType==="mouse"||ne.sourceCapabilities&&!ne.sourceCapabilities.firesTouchEvents)){var ve=Nl(ne);if(!(ve.some(function(Qe){return Qe instanceof HTMLLabelElement&&Qe.attributes.for})&&!ve.some(function(Qe){return Qe instanceof HTMLInputElement||Qe instanceof HTMLSelectElement}))){var De=Date.now();De-B<=sg?(k++,k===2&&w(rg(ne))):k=1,B=De}}}return f.addEventListener("click",H),{dblclick:w,simDblclick:H}}function zf(f,w){f.removeEventListener("dblclick",w.dblclick),f.removeEventListener("click",w.simDblclick)}var $d=Md(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),mc=Md(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Vf=mc==="webkitTransition"||mc==="OTransition"?mc+"End":"transitionend";function Wf(f){return typeof f=="string"?document.getElementById(f):f}function Nu(f,w){var B=f.style[w]||f.currentStyle&&f.currentStyle[w];if((!B||B==="auto")&&document.defaultView){var k=document.defaultView.getComputedStyle(f,null);B=k?k[w]:null}return B==="auto"?null:B}function mn(f,w,B){var k=document.createElement(f);return k.className=w||"",B&&B.appendChild(k),k}function ur(f){var w=f.parentNode;w&&w.removeChild(f)}function Ud(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function kr(f){var w=f.parentNode;w&&w.lastChild!==f&&w.appendChild(f)}function gc(f){var w=f.parentNode;w&&w.firstChild!==f&&w.insertBefore(f,w.firstChild)}function da(f,w){if(f.classList!==void 0)return f.classList.contains(w);var B=ts(f);return B.length>0&&new RegExp("(^|\\s)"+w+"(\\s|$)").test(B)}function un(f,w){if(f.classList!==void 0)for(var B=p(w),k=0,H=B.length;k<H;k++)f.classList.add(B[k]);else if(!da(f,w)){var ne=ts(f);io(f,(ne?ne+" ":"")+w)}}function $r(f,w){f.classList!==void 0?f.classList.remove(w):io(f,h((" "+ts(f)+" ").replace(" "+w+" "," ")))}function io(f,w){f.className.baseVal===void 0?f.className=w:f.className.baseVal=w}function ts(f){return f.correspondingElement&&(f=f.correspondingElement),f.className.baseVal===void 0?f.className:f.className.baseVal}function ws(f,w){"opacity"in f.style?f.style.opacity=w:"filter"in f.style&&ig(f,w)}function ig(f,w){var B=!1,k="DXImageTransform.Microsoft.Alpha";try{B=f.filters.item(k)}catch{if(w===1)return}w=Math.round(w*100),B?(B.Enabled=w!==100,B.Opacity=w):f.style.filter+=" progid:"+k+"(opacity="+w+")"}function Md(f){for(var w=document.documentElement.style,B=0;B<f.length;B++)if(f[B]in w)return f[B];return!1}function yc(f,w,B){var k=w||new V(0,0);f.style[$d]=(ht.ie3d?"translate("+k.x+"px,"+k.y+"px)":"translate3d("+k.x+"px,"+k.y+"px,0)")+(B?" scale("+B+")":"")}function or(f,w){f._leaflet_pos=w,ht.any3d?yc(f,w):(f.style.left=w.x+"px",f.style.top=w.y+"px")}function Bl(f){return f._leaflet_pos||new V(0,0)}var Iu,_l,wc;if("onselectstart"in document)Iu=function(){lt(window,"selectstart",Wr)},_l=function(){Ar(window,"selectstart",Wr)};else{var DA=Md(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Iu=function(){if(DA){var f=document.documentElement.style;wc=f[DA],f[DA]="none"}},_l=function(){DA&&(document.documentElement.style[DA]=wc,wc=void 0)}}function Gf(){lt(window,"dragstart",Wr)}function Kf(){Ar(window,"dragstart",Wr)}var Eu,Qd;function Do(f){for(;f.tabIndex===-1;)f=f.parentNode;f.style&&(jd(),Eu=f,Qd=f.style.outlineStyle,f.style.outlineStyle="none",lt(window,"keydown",jd))}function jd(){Eu&&(Eu.style.outlineStyle=Qd,Eu=void 0,Qd=void 0,Ar(window,"keydown",jd))}function ku(f){do f=f.parentNode;while((!f.offsetWidth||!f.offsetHeight)&&f!==document.body);return f}function RA(f){var w=f.getBoundingClientRect();return{x:w.width/f.offsetWidth||1,y:w.height/f.offsetHeight||1,boundingClientRect:w}}var z1={__proto__:null,TRANSFORM:$d,TRANSITION:mc,TRANSITION_END:Vf,get:Wf,getStyle:Nu,create:mn,remove:ur,empty:Ud,toFront:kr,toBack:gc,hasClass:da,addClass:un,removeClass:$r,setClass:io,getClass:ts,setOpacity:ws,testProp:Md,setTransform:yc,setPosition:or,getPosition:Bl,get disableTextSelection(){return Iu},get enableTextSelection(){return _l},disableImageDrag:Gf,enableImageDrag:Kf,preventOutline:Do,restoreOutline:jd,getSizedParentNode:ku,getScale:RA};function lt(f,w,B,k){if(w&&typeof w=="object")for(var H in w)za(f,H,w[H],B);else{w=p(w);for(var ne=0,ve=w.length;ne<ve;ne++)za(f,w[ne],B,k)}return this}var ha="_leaflet_events";function Ar(f,w,B,k){if(arguments.length===1)og(f),delete f[ha];else if(w&&typeof w=="object")for(var H in w)qf(f,H,w[H],B);else if(w=p(w),arguments.length===2)og(f,function(De){return C(w,De)!==-1});else for(var ne=0,ve=w.length;ne<ve;ne++)qf(f,w[ne],B,k);return this}function og(f,w){for(var B in f[ha]){var k=B.split(/\d/)[0];(!w||w(k))&&qf(f,k,null,null,B)}}var Ha={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function za(f,w,B,k){var H=w+l(B)+(k?"_"+l(k):"");if(f[ha]&&f[ha][H])return this;var ne=function(De){return B.call(k||f,De||window.event)},ve=ne;!ht.touchNative&&ht.pointer&&w.indexOf("touch")===0?ne=pc(f,w,ne):ht.touch&&w==="dblclick"?ne=Aa(f,ne):"addEventListener"in f?w==="touchstart"||w==="touchmove"||w==="wheel"||w==="mousewheel"?f.addEventListener(Ha[w]||w,ne,ht.passiveEvents?{passive:!1}:!1):w==="mouseenter"||w==="mouseleave"?(ne=function(De){De=De||window.event,zd(f,De)&&ve(De)},f.addEventListener(Ha[w],ne,!1)):f.addEventListener(w,ve,!1):f.attachEvent("on"+w,ne),f[ha]=f[ha]||{},f[ha][H]=ne}function qf(f,w,B,k,H){H=H||w+l(B)+(k?"_"+l(k):"");var ne=f[ha]&&f[ha][H];if(!ne)return this;!ht.touchNative&&ht.pointer&&w.indexOf("touch")===0?Lo(f,w,ne):ht.touch&&w==="dblclick"?zf(f,ne):"removeEventListener"in f?f.removeEventListener(Ha[w]||w,ne,!1):f.detachEvent("on"+w,ne),f[ha][H]=null}function vc(f){return f.stopPropagation?f.stopPropagation():f.originalEvent?f.originalEvent._stopped=!0:f.cancelBubble=!0,this}function Tu(f){return za(f,"wheel",vc),this}function xc(f){return lt(f,"mousedown touchstart dblclick contextmenu",vc),f._leaflet_disable_click=!0,this}function Wr(f){return f.preventDefault?f.preventDefault():f.returnValue=!1,this}function bc(f){return Wr(f),vc(f),this}function Nl(f){if(f.composedPath)return f.composedPath();for(var w=[],B=f.target;B;)w.push(B),B=B.parentNode;return w}function ag(f,w){if(!w)return new V(f.clientX,f.clientY);var B=RA(w),k=B.boundingClientRect;return new V((f.clientX-k.left)/B.x-w.clientLeft,(f.clientY-k.top)/B.y-w.clientTop)}var Xf=ht.linux&&ht.chrome?window.devicePixelRatio:ht.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Hd(f){return ht.edge?f.wheelDeltaY/2:f.deltaY&&f.deltaMode===0?-f.deltaY/Xf:f.deltaY&&f.deltaMode===1?-f.deltaY*20:f.deltaY&&f.deltaMode===2?-f.deltaY*60:f.deltaX||f.deltaZ?0:f.wheelDelta?(f.wheelDeltaY||f.wheelDelta)/2:f.detail&&Math.abs(f.detail)<32765?-f.detail*20:f.detail?f.detail/-32765*60:0}function zd(f,w){var B=w.relatedTarget;if(!B)return!0;try{for(;B&&B!==f;)B=B.parentNode}catch{return!1}return B!==f}var Cc={__proto__:null,on:lt,off:Ar,stopPropagation:vc,disableScrollPropagation:Tu,disableClickPropagation:xc,preventDefault:Wr,stop:bc,getPropagationPath:Nl,getMousePosition:ag,getWheelDelta:Hd,isExternalTarget:zd,addListener:lt,removeListener:Ar},Vd=oe.extend({run:function(f,w,B,k){this.stop(),this._el=f,this._inProgress=!0,this._duration=B||.25,this._easeOutPower=1/Math.max(k||.5,.2),this._startPos=Bl(f),this._offset=w.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=O(this._animate,this),this._step()},_step:function(f){var w=+new Date-this._startTime,B=this._duration*1e3;w<B?this._runFrame(this._easeOut(w/B),f):(this._runFrame(1),this._complete())},_runFrame:function(f,w){var B=this._startPos.add(this._offset.multiplyBy(f));w&&B._round(),or(this._el,B),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(f){return 1-Math.pow(1-f,this._easeOutPower)}}),bn=oe.extend({options:{crs:Ge,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,w){w=m(this,w),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(f),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),w.maxBounds&&this.setMaxBounds(w.maxBounds),w.zoom!==void 0&&(this._zoom=this._limitZoom(w.zoom)),w.center&&w.zoom!==void 0&&this.setView(ue(w.center),w.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=mc&&ht.any3d&&!ht.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),lt(this._proxy,Vf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(f,w,B){if(w=w===void 0?this._zoom:this._limitZoom(w),f=this._limitCenter(ue(f),w,this.options.maxBounds),B=B||{},this._stop(),this._loaded&&!B.reset&&B!==!0){B.animate!==void 0&&(B.zoom=s({animate:B.animate},B.zoom),B.pan=s({animate:B.animate,duration:B.duration},B.pan));var k=this._zoom!==w?this._tryAnimatedZoom&&this._tryAnimatedZoom(f,w,B.zoom):this._tryAnimatedPan(f,B.pan);if(k)return clearTimeout(this._sizeTimer),this}return this._resetView(f,w,B.pan&&B.pan.noMoveStart),this},setZoom:function(f,w){return this._loaded?this.setView(this.getCenter(),f,{zoom:w}):(this._zoom=f,this)},zoomIn:function(f,w){return f=f||(ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+f,w)},zoomOut:function(f,w){return f=f||(ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-f,w)},setZoomAround:function(f,w,B){var k=this.getZoomScale(w),H=this.getSize().divideBy(2),ne=f instanceof V?f:this.latLngToContainerPoint(f),ve=ne.subtract(H).multiplyBy(1-1/k),De=this.containerPointToLatLng(H.add(ve));return this.setView(De,w,{zoom:B})},_getBoundsCenterZoom:function(f,w){w=w||{},f=f.getBounds?f.getBounds():X(f);var B=ce(w.paddingTopLeft||w.padding||[0,0]),k=ce(w.paddingBottomRight||w.padding||[0,0]),H=this.getBoundsZoom(f,!1,B.add(k));if(H=typeof w.maxZoom=="number"?Math.min(w.maxZoom,H):H,H===1/0)return{center:f.getCenter(),zoom:H};var ne=k.subtract(B).divideBy(2),ve=this.project(f.getSouthWest(),H),De=this.project(f.getNorthEast(),H),Qe=this.unproject(ve.add(De).divideBy(2).add(ne),H);return{center:Qe,zoom:H}},fitBounds:function(f,w){if(f=X(f),!f.isValid())throw new Error("Bounds are not valid.");var B=this._getBoundsCenterZoom(f,w);return this.setView(B.center,B.zoom,w)},fitWorld:function(f){return this.fitBounds([[-90,-180],[90,180]],f)},panTo:function(f,w){return this.setView(f,this._zoom,{pan:w})},panBy:function(f,w){if(f=ce(f).round(),w=w||{},!f.x&&!f.y)return this.fire("moveend");if(w.animate!==!0&&!this.getSize().contains(f))return this._resetView(this.unproject(this.project(this.getCenter()).add(f)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Vd,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),w.noMoveStart||this.fire("movestart"),w.animate!==!1){un(this._mapPane,"leaflet-pan-anim");var B=this._getMapPanePos().subtract(f).round();this._panAnim.run(this._mapPane,B,w.duration||.25,w.easeLinearity)}else this._rawPanBy(f),this.fire("move").fire("moveend");return this},flyTo:function(f,w,B){if(B=B||{},B.animate===!1||!ht.any3d)return this.setView(f,w,B);this._stop();var k=this.project(this.getCenter()),H=this.project(f),ne=this.getSize(),ve=this._zoom;f=ue(f),w=w===void 0?ve:w;var De=Math.max(ne.x,ne.y),Qe=De*this.getZoomScale(ve,w),tt=H.distanceTo(k)||1,wt=1.42,en=wt*wt;function Ln(gr){var Qi=gr?-1:1,Bk=gr?Qe:De,_k=Qe*Qe-De*De+Qi*en*en*tt*tt,Z2=2*Bk*en*tt,mg=_k/Z2,Z1=Math.sqrt(mg*mg+1)-mg,J2=Z1<1e-9?-18:Math.log(Z1);return J2}function Mi(gr){return(Math.exp(gr)-Math.exp(-gr))/2}function Rs(gr){return(Math.exp(gr)+Math.exp(-gr))/2}function wa(gr){return Mi(gr)/Rs(gr)}var uo=Ln(0);function Zd(gr){return De*(Rs(uo)/Rs(uo+wt*gr))}function Ck(gr){return De*(Rs(uo)*wa(uo+wt*gr)-Mi(uo))/en}function Ou(gr){return 1-Math.pow(1-gr,1.5)}var Ka=Date.now(),Ol=(Ln(1)-uo)/wt,Sk=B.duration?1e3*B.duration:1e3*Ol*.8;function Y1(){var gr=(Date.now()-Ka)/Sk,Qi=Ou(gr)*Ol;gr<=1?(this._flyToFrame=O(Y1,this),this._move(this.unproject(k.add(H.subtract(k).multiplyBy(Ck(Qi)/tt)),ve),this.getScaleZoom(De/Zd(Qi),ve),{flyTo:!0})):this._move(f,w)._moveEnd(!0)}return this._moveStart(!0,B.noMoveStart),Y1.call(this),this},flyToBounds:function(f,w){var B=this._getBoundsCenterZoom(f,w);return this.flyTo(B.center,B.zoom,w)},setMaxBounds:function(f){return f=X(f),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),f.isValid()?(this.options.maxBounds=f,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(f){var w=this.options.minZoom;return this.options.minZoom=f,this._loaded&&w!==f&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(f):this},setMaxZoom:function(f){var w=this.options.maxZoom;return this.options.maxZoom=f,this._loaded&&w!==f&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(f):this},panInsideBounds:function(f,w){this._enforcingBounds=!0;var B=this.getCenter(),k=this._limitCenter(B,this._zoom,X(f));return B.equals(k)||this.panTo(k,w),this._enforcingBounds=!1,this},panInside:function(f,w){w=w||{};var B=ce(w.paddingTopLeft||w.padding||[0,0]),k=ce(w.paddingBottomRight||w.padding||[0,0]),H=this.project(this.getCenter()),ne=this.project(f),ve=this.getPixelBounds(),De=z([ve.min.add(B),ve.max.subtract(k)]),Qe=De.getSize();if(!De.contains(ne)){this._enforcingBounds=!0;var tt=ne.subtract(De.getCenter()),wt=De.extend(ne).getSize().subtract(Qe);H.x+=tt.x<0?-wt.x:wt.x,H.y+=tt.y<0?-wt.y:wt.y,this.panTo(this.unproject(H),w),this._enforcingBounds=!1}return this},invalidateSize:function(f){if(!this._loaded)return this;f=s({animate:!1,pan:!0},f===!0?{animate:!0}:f);var w=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var B=this.getSize(),k=w.divideBy(2).round(),H=B.divideBy(2).round(),ne=k.subtract(H);return!ne.x&&!ne.y?this:(f.animate&&f.pan?this.panBy(ne):(f.pan&&this._rawPanBy(ne),this.fire("move"),f.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:w,newSize:B}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(f){if(f=this._locateOptions=s({timeout:1e4,watch:!1},f),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var w=o(this._handleGeolocationResponse,this),B=o(this._handleGeolocationError,this);return f.watch?this._locationWatchId=navigator.geolocation.watchPosition(w,B,f):navigator.geolocation.getCurrentPosition(w,B,f),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(f){if(this._container._leaflet_id){var w=f.code,B=f.message||(w===1?"permission denied":w===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:w,message:"Geolocation error: "+B+"."})}},_handleGeolocationResponse:function(f){if(this._container._leaflet_id){var w=f.coords.latitude,B=f.coords.longitude,k=new re(w,B),H=k.toBounds(f.coords.accuracy*2),ne=this._locateOptions;if(ne.setView){var ve=this.getBoundsZoom(H);this.setView(k,ne.maxZoom?Math.min(ve,ne.maxZoom):ve)}var De={latlng:k,bounds:H,timestamp:f.timestamp};for(var Qe in f.coords)typeof f.coords[Qe]=="number"&&(De[Qe]=f.coords[Qe]);this.fire("locationfound",De)}},addHandler:function(f,w){if(!w)return this;var B=this[f]=new w(this);return this._handlers.push(B),this.options[f]&&B.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ur(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var f;for(f in this._layers)this._layers[f].remove();for(f in this._panes)ur(this._panes[f]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(f,w){var B="leaflet-pane"+(f?" leaflet-"+f.replace("Pane","")+"-pane":""),k=mn("div",B,w||this._mapPane);return f&&(this._panes[f]=k),k},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var f=this.getPixelBounds(),w=this.unproject(f.getBottomLeft()),B=this.unproject(f.getTopRight());return new G(w,B)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(f,w,B){f=X(f),B=ce(B||[0,0]);var k=this.getZoom()||0,H=this.getMinZoom(),ne=this.getMaxZoom(),ve=f.getNorthWest(),De=f.getSouthEast(),Qe=this.getSize().subtract(B),tt=z(this.project(De,k),this.project(ve,k)).getSize(),wt=ht.any3d?this.options.zoomSnap:1,en=Qe.x/tt.x,Ln=Qe.y/tt.y,Mi=w?Math.max(en,Ln):Math.min(en,Ln);return k=this.getScaleZoom(Mi,k),wt&&(k=Math.round(k/(wt/100))*(wt/100),k=w?Math.ceil(k/wt)*wt:Math.floor(k/wt)*wt),Math.max(H,Math.min(ne,k))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(f,w){var B=this._getTopLeftPoint(f,w);return new he(B,B.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(f){return this.options.crs.getProjectedBounds(f===void 0?this.getZoom():f)},getPane:function(f){return typeof f=="string"?this._panes[f]:f},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,w){var B=this.options.crs;return w=w===void 0?this._zoom:w,B.scale(f)/B.scale(w)},getScaleZoom:function(f,w){var B=this.options.crs;w=w===void 0?this._zoom:w;var k=B.zoom(f*B.scale(w));return isNaN(k)?1/0:k},project:function(f,w){return w=w===void 0?this._zoom:w,this.options.crs.latLngToPoint(ue(f),w)},unproject:function(f,w){return w=w===void 0?this._zoom:w,this.options.crs.pointToLatLng(ce(f),w)},layerPointToLatLng:function(f){var w=ce(f).add(this.getPixelOrigin());return this.unproject(w)},latLngToLayerPoint:function(f){var w=this.project(ue(f))._round();return w._subtract(this.getPixelOrigin())},wrapLatLng:function(f){return this.options.crs.wrapLatLng(ue(f))},wrapLatLngBounds:function(f){return this.options.crs.wrapLatLngBounds(X(f))},distance:function(f,w){return this.options.crs.distance(ue(f),ue(w))},containerPointToLayerPoint:function(f){return ce(f).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(f){return ce(f).add(this._getMapPanePos())},containerPointToLatLng:function(f){var w=this.containerPointToLayerPoint(ce(f));return this.layerPointToLatLng(w)},latLngToContainerPoint:function(f){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ue(f)))},mouseEventToContainerPoint:function(f){return ag(f,this._container)},mouseEventToLayerPoint:function(f){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(f))},mouseEventToLatLng:function(f){return this.layerPointToLatLng(this.mouseEventToLayerPoint(f))},_initContainer:function(f){var w=this._container=Wf(f);if(w){if(w._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");lt(w,"scroll",this._onScroll,this),this._containerId=l(w)},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&ht.any3d,un(f,"leaflet-container"+(ht.touch?" leaflet-touch":"")+(ht.retina?" leaflet-retina":"")+(ht.ielt9?" leaflet-oldie":"")+(ht.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var w=Nu(f,"position");w!=="absolute"&&w!=="relative"&&w!=="fixed"&&w!=="sticky"&&(f.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var f=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),or(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(un(f.markerPane,"leaflet-zoom-hide"),un(f.shadowPane,"leaflet-zoom-hide"))},_resetView:function(f,w,B){or(this._mapPane,new V(0,0));var k=!this._loaded;this._loaded=!0,w=this._limitZoom(w),this.fire("viewprereset");var H=this._zoom!==w;this._moveStart(H,B)._move(f,w)._moveEnd(H),this.fire("viewreset"),k&&this.fire("load")},_moveStart:function(f,w){return f&&this.fire("zoomstart"),w||this.fire("movestart"),this},_move:function(f,w,B,k){w===void 0&&(w=this._zoom);var H=this._zoom!==w;return this._zoom=w,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),k?B&&B.pinch&&this.fire("zoom",B):((H||B&&B.pinch)&&this.fire("zoom",B),this.fire("move",B)),this},_moveEnd:function(f){return f&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(f){or(this._mapPane,this._getMapPanePos().subtract(f))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(f){this._targets={},this._targets[l(this._container)]=this;var w=f?Ar:lt;w(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&w(window,"resize",this._onResize,this),ht.any3d&&this.options.transform3DLimit&&(f?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=O(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var f=this._getMapPanePos();Math.max(Math.abs(f.x),Math.abs(f.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(f,w){for(var B=[],k,H=w==="mouseout"||w==="mouseover",ne=f.target||f.srcElement,ve=!1;ne;){if(k=this._targets[l(ne)],k&&(w==="click"||w==="preclick")&&this._draggableMoved(k)){ve=!0;break}if(k&&k.listens(w,!0)&&(H&&!zd(ne,f)||(B.push(k),H))||ne===this._container)break;ne=ne.parentNode}return!B.length&&!ve&&!H&&this.listens(w,!0)&&(B=[this]),B},_isClickDisabled:function(f){for(;f&&f!==this._container;){if(f._leaflet_disable_click)return!0;f=f.parentNode}},_handleDOMEvent:function(f){var w=f.target||f.srcElement;if(!(!this._loaded||w._leaflet_disable_events||f.type==="click"&&this._isClickDisabled(w))){var B=f.type;B==="mousedown"&&Do(w),this._fireDOMEvent(f,B)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(f,w,B){if(f.type==="click"){var k=s({},f);k.type="preclick",this._fireDOMEvent(k,k.type,B)}var H=this._findEventTargets(f,w);if(B){for(var ne=[],ve=0;ve<B.length;ve++)B[ve].listens(w,!0)&&ne.push(B[ve]);H=ne.concat(H)}if(H.length){w==="contextmenu"&&Wr(f);var De=H[0],Qe={originalEvent:f};if(f.type!=="keypress"&&f.type!=="keydown"&&f.type!=="keyup"){var tt=De.getLatLng&&(!De._radius||De._radius<=10);Qe.containerPoint=tt?this.latLngToContainerPoint(De.getLatLng()):this.mouseEventToContainerPoint(f),Qe.layerPoint=this.containerPointToLayerPoint(Qe.containerPoint),Qe.latlng=tt?De.getLatLng():this.layerPointToLatLng(Qe.layerPoint)}for(ve=0;ve<H.length;ve++)if(H[ve].fire(w,Qe,!0),Qe.originalEvent._stopped||H[ve].options.bubblingMouseEvents===!1&&C(this._mouseEvents,w)!==-1)return}},_draggableMoved:function(f){return f=f.dragging&&f.dragging.enabled()?f:this,f.dragging&&f.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var f=0,w=this._handlers.length;f<w;f++)this._handlers[f].disable()},whenReady:function(f,w){return this._loaded?f.call(w||this,{target:this}):this.on("load",f,w),this},_getMapPanePos:function(){return Bl(this._mapPane)||new V(0,0)},_moved:function(){var f=this._getMapPanePos();return f&&!f.equals([0,0])},_getTopLeftPoint:function(f,w){var B=f&&w!==void 0?this._getNewPixelOrigin(f,w):this.getPixelOrigin();return B.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,w){var B=this.getSize()._divideBy(2);return this.project(f,w)._subtract(B)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(f,w,B){var k=this._getNewPixelOrigin(B,w);return this.project(f,w)._subtract(k)},_latLngBoundsToNewLayerBounds:function(f,w,B){var k=this._getNewPixelOrigin(B,w);return z([this.project(f.getSouthWest(),w)._subtract(k),this.project(f.getNorthWest(),w)._subtract(k),this.project(f.getSouthEast(),w)._subtract(k),this.project(f.getNorthEast(),w)._subtract(k)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(f){return this.latLngToLayerPoint(f).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,w,B){if(!B)return f;var k=this.project(f,w),H=this.getSize().divideBy(2),ne=new he(k.subtract(H),k.add(H)),ve=this._getBoundsOffset(ne,B,w);return Math.abs(ve.x)<=1&&Math.abs(ve.y)<=1?f:this.unproject(k.add(ve),w)},_limitOffset:function(f,w){if(!w)return f;var B=this.getPixelBounds(),k=new he(B.min.add(f),B.max.add(f));return f.add(this._getBoundsOffset(k,w))},_getBoundsOffset:function(f,w,B){var k=z(this.project(w.getNorthEast(),B),this.project(w.getSouthWest(),B)),H=k.min.subtract(f.min),ne=k.max.subtract(f.max),ve=this._rebound(H.x,-ne.x),De=this._rebound(H.y,-ne.y);return new V(ve,De)},_rebound:function(f,w){return f+w>0?Math.round(f-w)/2:Math.max(0,Math.ceil(f))-Math.max(0,Math.floor(w))},_limitZoom:function(f){var w=this.getMinZoom(),B=this.getMaxZoom(),k=ht.any3d?this.options.zoomSnap:1;return k&&(f=Math.round(f/k)*k),Math.max(w,Math.min(B,f))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){$r(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(f,w){var B=this._getCenterOffset(f)._trunc();return(w&&w.animate)!==!0&&!this.getSize().contains(B)?!1:(this.panBy(B,w),!0)},_createAnimProxy:function(){var f=this._proxy=mn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(f),this.on("zoomanim",function(w){var B=$d,k=this._proxy.style[B];yc(this._proxy,this.project(w.center,w.zoom),this.getZoomScale(w.zoom,1)),k===this._proxy.style[B]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ur(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var f=this.getCenter(),w=this.getZoom();yc(this._proxy,this.project(f,w),this.getZoomScale(w,1))},_catchTransitionEnd:function(f){this._animatingZoom&&f.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,w,B){if(this._animatingZoom)return!0;if(B=B||{},!this._zoomAnimated||B.animate===!1||this._nothingToAnimate()||Math.abs(w-this._zoom)>this.options.zoomAnimationThreshold)return!1;var k=this.getZoomScale(w),H=this._getCenterOffset(f)._divideBy(1-1/k);return B.animate!==!0&&!this.getSize().contains(H)?!1:(O(function(){this._moveStart(!0,B.noMoveStart||!1)._animateZoom(f,w,!0)},this),!0)},_animateZoom:function(f,w,B,k){this._mapPane&&(B&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=w,un(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:f,zoom:w,noUpdate:k}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&$r(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Yf(f,w){return new bn(f,w)}var ai=$.extend({options:{position:"topright"},initialize:function(f){m(this,f)},getPosition:function(){return this.options.position},setPosition:function(f){var w=this._map;return w&&w.removeControl(this),this.options.position=f,w&&w.addControl(this),this},getContainer:function(){return this._container},addTo:function(f){this.remove(),this._map=f;var w=this._container=this.onAdd(f),B=this.getPosition(),k=f._controlCorners[B];return un(w,"leaflet-control"),B.indexOf("bottom")!==-1?k.insertBefore(w,k.firstChild):k.appendChild(w),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ur(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(f){this._map&&f&&f.screenX>0&&f.screenY>0&&this._map.getContainer().focus()}}),Sc=function(f){return new ai(f)};bn.include({addControl:function(f){return f.addTo(this),this},removeControl:function(f){return f.remove(),this},_initControlPos:function(){var f=this._controlCorners={},w="leaflet-",B=this._controlContainer=mn("div",w+"control-container",this._container);function k(H,ne){var ve=w+H+" "+w+ne;f[H+ne]=mn("div",ve,B)}k("top","left"),k("top","right"),k("bottom","left"),k("bottom","right")},_clearControlPos:function(){for(var f in this._controlCorners)ur(this._controlCorners[f]);ur(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zf=ai.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(f,w,B,k){return B<k?-1:k<B?1:0}},initialize:function(f,w,B){m(this,B),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var k in f)this._addLayer(f[k],k);for(k in w)this._addLayer(w[k],k,!0)},onAdd:function(f){this._initLayout(),this._update(),this._map=f,f.on("zoomend",this._checkDisabledLayers,this);for(var w=0;w<this._layers.length;w++)this._layers[w].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(f){return ai.prototype.addTo.call(this,f),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(f,w){return this._addLayer(f,w),this._map?this._update():this},addOverlay:function(f,w){return this._addLayer(f,w,!0),this._map?this._update():this},removeLayer:function(f){f.off("add remove",this._onLayerChange,this);var w=this._getLayer(l(f));return w&&this._layers.splice(this._layers.indexOf(w),1),this._map?this._update():this},expand:function(){un(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var f=this._map.getSize().y-(this._container.offsetTop+50);return f<this._section.clientHeight?(un(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=f+"px"):$r(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return $r(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var f="leaflet-control-layers",w=this._container=mn("div",f),B=this.options.collapsed;w.setAttribute("aria-haspopup",!0),xc(w),Tu(w);var k=this._section=mn("section",f+"-list");B&&(this._map.on("click",this.collapse,this),lt(w,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var H=this._layersLink=mn("a",f+"-toggle",w);H.href="#",H.title="Layers",H.setAttribute("role","button"),lt(H,{keydown:function(ne){ne.keyCode===13&&this._expandSafely()},click:function(ne){Wr(ne),this._expandSafely()}},this),B||this.expand(),this._baseLayersList=mn("div",f+"-base",k),this._separator=mn("div",f+"-separator",k),this._overlaysList=mn("div",f+"-overlays",k),w.appendChild(k)},_getLayer:function(f){for(var w=0;w<this._layers.length;w++)if(this._layers[w]&&l(this._layers[w].layer)===f)return this._layers[w]},_addLayer:function(f,w,B){this._map&&f.on("add remove",this._onLayerChange,this),this._layers.push({layer:f,name:w,overlay:B}),this.options.sortLayers&&this._layers.sort(o(function(k,H){return this.options.sortFunction(k.layer,H.layer,k.name,H.name)},this)),this.options.autoZIndex&&f.setZIndex&&(this._lastZIndex++,f.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ud(this._baseLayersList),Ud(this._overlaysList),this._layerControlInputs=[];var f,w,B,k,H=0;for(B=0;B<this._layers.length;B++)k=this._layers[B],this._addItem(k),w=w||k.overlay,f=f||!k.overlay,H+=k.overlay?0:1;return this.options.hideSingleBase&&(f=f&&H>1,this._baseLayersList.style.display=f?"":"none"),this._separator.style.display=w&&f?"":"none",this},_onLayerChange:function(f){this._handlingClick||this._update();var w=this._getLayer(l(f.target)),B=w.overlay?f.type==="add"?"overlayadd":"overlayremove":f.type==="add"?"baselayerchange":null;B&&this._map.fire(B,w)},_createRadioElement:function(f,w){var B='<input type="radio" class="leaflet-control-layers-selector" name="'+f+'"'+(w?' checked="checked"':"")+"/>",k=document.createElement("div");return k.innerHTML=B,k.firstChild},_addItem:function(f){var w=document.createElement("label"),B=this._map.hasLayer(f.layer),k;f.overlay?(k=document.createElement("input"),k.type="checkbox",k.className="leaflet-control-layers-selector",k.defaultChecked=B):k=this._createRadioElement("leaflet-base-layers_"+l(this),B),this._layerControlInputs.push(k),k.layerId=l(f.layer),lt(k,"click",this._onInputClick,this);var H=document.createElement("span");H.innerHTML=" "+f.name;var ne=document.createElement("span");w.appendChild(ne),ne.appendChild(k),ne.appendChild(H);var ve=f.overlay?this._overlaysList:this._baseLayersList;return ve.appendChild(w),this._checkDisabledLayers(),w},_onInputClick:function(){if(!this._preventClick){var f=this._layerControlInputs,w,B,k=[],H=[];this._handlingClick=!0;for(var ne=f.length-1;ne>=0;ne--)w=f[ne],B=this._getLayer(w.layerId).layer,w.checked?k.push(B):w.checked||H.push(B);for(ne=0;ne<H.length;ne++)this._map.hasLayer(H[ne])&&this._map.removeLayer(H[ne]);for(ne=0;ne<k.length;ne++)this._map.hasLayer(k[ne])||this._map.addLayer(k[ne]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var f=this._layerControlInputs,w,B,k=this._map.getZoom(),H=f.length-1;H>=0;H--)w=f[H],B=this._getLayer(w.layerId).layer,w.disabled=B.options.minZoom!==void 0&&k<B.options.minZoom||B.options.maxZoom!==void 0&&k>B.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var f=this._section;this._preventClick=!0,lt(f,"click",Wr),this.expand();var w=this;setTimeout(function(){Ar(f,"click",Wr),w._preventClick=!1})}}),lg=function(f,w,B){return new Zf(f,w,B)},Va=ai.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(f){var w="leaflet-control-zoom",B=mn("div",w+" leaflet-bar"),k=this.options;return this._zoomInButton=this._createButton(k.zoomInText,k.zoomInTitle,w+"-in",B,this._zoomIn),this._zoomOutButton=this._createButton(k.zoomOutText,k.zoomOutTitle,w+"-out",B,this._zoomOut),this._updateDisabled(),f.on("zoomend zoomlevelschange",this._updateDisabled,this),B},onRemove:function(f){f.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(f){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(f.shiftKey?3:1))},_zoomOut:function(f){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(f.shiftKey?3:1))},_createButton:function(f,w,B,k,H){var ne=mn("a",B,k);return ne.innerHTML=f,ne.href="#",ne.title=w,ne.setAttribute("role","button"),ne.setAttribute("aria-label",w),xc(ne),lt(ne,"click",bc),lt(ne,"click",H,this),lt(ne,"click",this._refocusOnMap,this),ne},_updateDisabled:function(){var f=this._map,w="leaflet-disabled";$r(this._zoomInButton,w),$r(this._zoomOutButton,w),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||f._zoom===f.getMinZoom())&&(un(this._zoomOutButton,w),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||f._zoom===f.getMaxZoom())&&(un(this._zoomInButton,w),this._zoomInButton.setAttribute("aria-disabled","true"))}});bn.mergeOptions({zoomControl:!0}),bn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Va,this.addControl(this.zoomControl))});var Bc=function(f){return new Va(f)},Jf=ai.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(f){var w="leaflet-control-scale",B=mn("div",w),k=this.options;return this._addScales(k,w+"-line",B),f.on(k.updateWhenIdle?"moveend":"move",this._update,this),f.whenReady(this._update,this),B},onRemove:function(f){f.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(f,w,B){f.metric&&(this._mScale=mn("div",w,B)),f.imperial&&(this._iScale=mn("div",w,B))},_update:function(){var f=this._map,w=f.getSize().y/2,B=f.distance(f.containerPointToLatLng([0,w]),f.containerPointToLatLng([this.options.maxWidth,w]));this._updateScales(B)},_updateScales:function(f){this.options.metric&&f&&this._updateMetric(f),this.options.imperial&&f&&this._updateImperial(f)},_updateMetric:function(f){var w=this._getRoundNum(f),B=w<1e3?w+" m":w/1e3+" km";this._updateScale(this._mScale,B,w/f)},_updateImperial:function(f){var w=f*3.2808399,B,k,H;w>5280?(B=w/5280,k=this._getRoundNum(B),this._updateScale(this._iScale,k+" mi",k/B)):(H=this._getRoundNum(w),this._updateScale(this._iScale,H+" ft",H/w))},_updateScale:function(f,w,B){f.style.width=Math.round(this.options.maxWidth*B)+"px",f.innerHTML=w},_getRoundNum:function(f){var w=Math.pow(10,(Math.floor(f)+"").length-1),B=f/w;return B=B>=10?10:B>=5?5:B>=3?3:B>=2?2:1,w*B}}),PA=function(f){return new Jf(f)},cg='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',E=ai.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ht.inlineSvg?cg+" ":"")+"Leaflet</a>"},initialize:function(f){m(this,f),this._attributions={}},onAdd:function(f){f.attributionControl=this,this._container=mn("div","leaflet-control-attribution"),xc(this._container);for(var w in f._layers)f._layers[w].getAttribution&&this.addAttribution(f._layers[w].getAttribution());return this._update(),f.on("layeradd",this._addAttribution,this),this._container},onRemove:function(f){f.off("layeradd",this._addAttribution,this)},_addAttribution:function(f){f.layer.getAttribution&&(this.addAttribution(f.layer.getAttribution()),f.layer.once("remove",function(){this.removeAttribution(f.layer.getAttribution())},this))},setPrefix:function(f){return this.options.prefix=f,this._update(),this},addAttribution:function(f){return f?(this._attributions[f]||(this._attributions[f]=0),this._attributions[f]++,this._update(),this):this},removeAttribution:function(f){return f?(this._attributions[f]&&(this._attributions[f]--,this._update()),this):this},_update:function(){if(this._map){var f=[];for(var w in this._attributions)this._attributions[w]&&f.push(w);var B=[];this.options.prefix&&B.push(this.options.prefix),f.length&&B.push(f.join(", ")),this._container.innerHTML=B.join(' <span aria-hidden="true">|</span> ')}}});bn.mergeOptions({attributionControl:!0}),bn.addInitHook(function(){this.options.attributionControl&&new E().addTo(this)});var K=function(f){return new E(f)};ai.Layers=Zf,ai.Zoom=Va,ai.Scale=Jf,ai.Attribution=E,Sc.layers=lg,Sc.zoom=Bc,Sc.scale=PA,Sc.attribution=K;var fe=$.extend({initialize:function(f){this._map=f},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});fe.addTo=function(f,w){return f.addHandler(w,this),this};var be={Events:Z},Ee=ht.touch?"touchstart mousedown":"mousedown",ze=oe.extend({options:{clickTolerance:3},initialize:function(f,w,B,k){m(this,k),this._element=f,this._dragStartTarget=w||f,this._preventOutline=B},enable:function(){this._enabled||(lt(this._dragStartTarget,Ee,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ze._dragging===this&&this.finishDrag(!0),Ar(this._dragStartTarget,Ee,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(f){if(this._enabled&&(this._moved=!1,!da(this._element,"leaflet-zoom-anim"))){if(f.touches&&f.touches.length!==1){ze._dragging===this&&this.finishDrag();return}if(!(ze._dragging||f.shiftKey||f.which!==1&&f.button!==1&&!f.touches)&&(ze._dragging=this,this._preventOutline&&Do(this._element),Gf(),Iu(),!this._moving)){this.fire("down");var w=f.touches?f.touches[0]:f,B=ku(this._element);this._startPoint=new V(w.clientX,w.clientY),this._startPos=Bl(this._element),this._parentScale=RA(B);var k=f.type==="mousedown";lt(document,k?"mousemove":"touchmove",this._onMove,this),lt(document,k?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(f){if(this._enabled){if(f.touches&&f.touches.length>1){this._moved=!0;return}var w=f.touches&&f.touches.length===1?f.touches[0]:f,B=new V(w.clientX,w.clientY)._subtract(this._startPoint);!B.x&&!B.y||Math.abs(B.x)+Math.abs(B.y)<this.options.clickTolerance||(B.x/=this._parentScale.x,B.y/=this._parentScale.y,Wr(f),this._moved||(this.fire("dragstart"),this._moved=!0,un(document.body,"leaflet-dragging"),this._lastTarget=f.target||f.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),un(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(B),this._moving=!0,this._lastEvent=f,this._updatePosition())}},_updatePosition:function(){var f={originalEvent:this._lastEvent};this.fire("predrag",f),or(this._element,this._newPos),this.fire("drag",f)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(f){$r(document.body,"leaflet-dragging"),this._lastTarget&&($r(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ar(document,"mousemove touchmove",this._onMove,this),Ar(document,"mouseup touchend touchcancel",this._onUp,this),Kf(),_l();var w=this._moved&&this._moving;this._moving=!1,ze._dragging=!1,w&&this.fire("dragend",{noInertia:f,distance:this._newPos.distanceTo(this._startPos)})}});function et(f,w,B){var k,H=[1,4,2,8],ne,ve,De,Qe,tt,wt,en,Ln;for(ne=0,wt=f.length;ne<wt;ne++)f[ne]._code=li(f[ne],w);for(De=0;De<4;De++){for(en=H[De],k=[],ne=0,wt=f.length,ve=wt-1;ne<wt;ve=ne++)Qe=f[ne],tt=f[ve],Qe._code&en?tt._code&en||(Ln=fa(tt,Qe,en,w,B),Ln._code=li(Ln,w),k.push(Ln)):(tt._code&en&&(Ln=fa(tt,Qe,en,w,B),Ln._code=li(Ln,w),k.push(Ln)),k.push(Qe));f=k}return f}function kt(f,w){var B,k,H,ne,ve,De,Qe,tt,wt;if(!f||f.length===0)throw new Error("latlngs not passed");ci(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var en=ue([0,0]),Ln=X(f),Mi=Ln.getNorthWest().distanceTo(Ln.getSouthWest())*Ln.getNorthEast().distanceTo(Ln.getNorthWest());Mi<1700&&(en=Qt(f));var Rs=f.length,wa=[];for(B=0;B<Rs;B++){var uo=ue(f[B]);wa.push(w.project(ue([uo.lat-en.lat,uo.lng-en.lng])))}for(De=Qe=tt=0,B=0,k=Rs-1;B<Rs;k=B++)H=wa[B],ne=wa[k],ve=H.y*ne.x-ne.y*H.x,Qe+=(H.x+ne.x)*ve,tt+=(H.y+ne.y)*ve,De+=ve*3;De===0?wt=wa[0]:wt=[Qe/De,tt/De];var Zd=w.unproject(ce(wt));return ue([Zd.lat+en.lat,Zd.lng+en.lng])}function Qt(f){for(var w=0,B=0,k=0,H=0;H<f.length;H++){var ne=ue(f[H]);w+=ne.lat,B+=ne.lng,k++}return ue([w/k,B/k])}var cn={__proto__:null,clipPolygon:et,polygonCenter:kt,centroid:Qt};function fn(f,w){if(!w||!f.length)return f.slice();var B=w*w;return f=Ls(f,B),f=vs(f,B),f}function jn(f,w,B){return Math.sqrt(Nc(f,w,B,!0))}function Gr(f,w,B){return Nc(f,w,B)}function vs(f,w){var B=f.length,k=typeof Uint8Array<"u"?Uint8Array:Array,H=new k(B);H[0]=H[B-1]=1,dr(f,H,w,0,B-1);var ne,ve=[];for(ne=0;ne<B;ne++)H[ne]&&ve.push(f[ne]);return ve}function dr(f,w,B,k,H){var ne=0,ve,De,Qe;for(De=k+1;De<=H-1;De++)Qe=Nc(f[De],f[k],f[H],!0),Qe>ne&&(ve=De,ne=Qe);ne>B&&(w[ve]=1,dr(f,w,B,k,ve),dr(f,w,B,ve,H))}function Ls(f,w){for(var B=[f[0]],k=1,H=0,ne=f.length;k<ne;k++)_c(f[k],f[H])>w&&(B.push(f[k]),H=k);return H<ne-1&&B.push(f[ne-1]),B}var us;function Ks(f,w,B,k,H){var ne=k?us:li(f,B),ve=li(w,B),De,Qe,tt;for(us=ve;;){if(!(ne|ve))return[f,w];if(ne&ve)return!1;De=ne||ve,Qe=fa(f,w,De,B,H),tt=li(Qe,B),De===ne?(f=Qe,ne=tt):(w=Qe,ve=tt)}}function fa(f,w,B,k,H){var ne=w.x-f.x,ve=w.y-f.y,De=k.min,Qe=k.max,tt,wt;return B&8?(tt=f.x+ne*(Qe.y-f.y)/ve,wt=Qe.y):B&4?(tt=f.x+ne*(De.y-f.y)/ve,wt=De.y):B&2?(tt=Qe.x,wt=f.y+ve*(Qe.x-f.x)/ne):B&1&&(tt=De.x,wt=f.y+ve*(De.x-f.x)/ne),new V(tt,wt,H)}function li(f,w){var B=0;return f.x<w.min.x?B|=1:f.x>w.max.x&&(B|=2),f.y<w.min.y?B|=4:f.y>w.max.y&&(B|=8),B}function _c(f,w){var B=w.x-f.x,k=w.y-f.y;return B*B+k*k}function Nc(f,w,B,k){var H=w.x,ne=w.y,ve=B.x-H,De=B.y-ne,Qe=ve*ve+De*De,tt;return Qe>0&&(tt=((f.x-H)*ve+(f.y-ne)*De)/Qe,tt>1?(H=B.x,ne=B.y):tt>0&&(H+=ve*tt,ne+=De*tt)),ve=f.x-H,De=f.y-ne,k?ve*ve+De*De:new V(H,ne)}function ci(f){return!b(f[0])||typeof f[0][0]!="object"&&typeof f[0][0]<"u"}function Ic(f){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ci(f)}function Fu(f,w){var B,k,H,ne,ve,De,Qe,tt;if(!f||f.length===0)throw new Error("latlngs not passed");ci(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var wt=ue([0,0]),en=X(f),Ln=en.getNorthWest().distanceTo(en.getSouthWest())*en.getNorthEast().distanceTo(en.getNorthWest());Ln<1700&&(wt=Qt(f));var Mi=f.length,Rs=[];for(B=0;B<Mi;B++){var wa=ue(f[B]);Rs.push(w.project(ue([wa.lat-wt.lat,wa.lng-wt.lng])))}for(B=0,k=0;B<Mi-1;B++)k+=Rs[B].distanceTo(Rs[B+1])/2;if(k===0)tt=Rs[0];else for(B=0,ne=0;B<Mi-1;B++)if(ve=Rs[B],De=Rs[B+1],H=ve.distanceTo(De),ne+=H,ne>k){Qe=(ne-k)/H,tt=[De.x-Qe*(De.x-ve.x),De.y-Qe*(De.y-ve.y)];break}var uo=w.unproject(ce(tt));return ue([uo.lat+wt.lat,uo.lng+wt.lng])}var OA={__proto__:null,simplify:fn,pointToSegmentDistance:jn,closestPointOnSegment:Gr,clipSegment:Ks,_getEdgeIntersection:fa,_getBitCode:li,_sqClosestPointOnSegment:Nc,isFlat:ci,_flat:Ic,polylineCenter:Fu},Il={project:function(f){return new V(f.lng,f.lat)},unproject:function(f){return new re(f.y,f.x)},bounds:new he([-180,-90],[180,90])},Ds={R:6378137,R_MINOR:6356752314245179e-9,bounds:new he([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(f){var w=Math.PI/180,B=this.R,k=f.lat*w,H=this.R_MINOR/B,ne=Math.sqrt(1-H*H),ve=ne*Math.sin(k),De=Math.tan(Math.PI/4-k/2)/Math.pow((1-ve)/(1+ve),ne/2);return k=-B*Math.log(Math.max(De,1e-10)),new V(f.lng*w*B,k)},unproject:function(f){for(var w=180/Math.PI,B=this.R,k=this.R_MINOR/B,H=Math.sqrt(1-k*k),ne=Math.exp(-f.y/B),ve=Math.PI/2-2*Math.atan(ne),De=0,Qe=.1,tt;De<15&&Math.abs(Qe)>1e-7;De++)tt=H*Math.sin(ve),tt=Math.pow((1-tt)/(1+tt),H/2),Qe=Math.PI/2-2*Math.atan(ne*tt)-ve,ve+=Qe;return new re(ve*w,f.x*w/B)}},$A={__proto__:null,LonLat:Il,Mercator:Ds,SphericalMercator:Ne},UA=s({},we,{code:"EPSG:3395",projection:Ds,transformation:function(){var f=.5/(Math.PI*Ds.R);return je(f,.5,-f,.5)}()}),Wd=s({},we,{code:"EPSG:4326",projection:Il,transformation:je(1/180,1,-1/180,.5)}),ep=s({},Ae,{projection:Il,transformation:je(1,0,-1,0),scale:function(f){return Math.pow(2,f)},zoom:function(f){return Math.log(f)/Math.LN2},distance:function(f,w){var B=w.lng-f.lng,k=w.lat-f.lat;return Math.sqrt(B*B+k*k)},infinite:!0});Ae.Earth=we,Ae.EPSG3395=UA,Ae.EPSG3857=Ge,Ae.EPSG900913=ot,Ae.EPSG4326=Wd,Ae.Simple=ep;var Tr=oe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(f){return f.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(f){return f&&f.removeLayer(this),this},getPane:function(f){return this._map.getPane(f?this.options[f]||f:this.options.pane)},addInteractiveTarget:function(f){return this._map._targets[l(f)]=this,this},removeInteractiveTarget:function(f){return delete this._map._targets[l(f)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(f){var w=f.target;if(w.hasLayer(this)){if(this._map=w,this._zoomAnimated=w._zoomAnimated,this.getEvents){var B=this.getEvents();w.on(B,this),this.once("remove",function(){w.off(B,this)},this)}this.onAdd(w),this.fire("add"),w.fire("layeradd",{layer:this})}}});bn.include({addLayer:function(f){if(!f._layerAdd)throw new Error("The provided object is not a Layer.");var w=l(f);return this._layers[w]?this:(this._layers[w]=f,f._mapToAdd=this,f.beforeAdd&&f.beforeAdd(this),this.whenReady(f._layerAdd,f),this)},removeLayer:function(f){var w=l(f);return this._layers[w]?(this._loaded&&f.onRemove(this),delete this._layers[w],this._loaded&&(this.fire("layerremove",{layer:f}),f.fire("remove")),f._map=f._mapToAdd=null,this):this},hasLayer:function(f){return l(f)in this._layers},eachLayer:function(f,w){for(var B in this._layers)f.call(w,this._layers[B]);return this},_addLayers:function(f){f=f?b(f)?f:[f]:[];for(var w=0,B=f.length;w<B;w++)this.addLayer(f[w])},_addZoomLimit:function(f){(!isNaN(f.options.maxZoom)||!isNaN(f.options.minZoom))&&(this._zoomBoundLayers[l(f)]=f,this._updateZoomLevels())},_removeZoomLimit:function(f){var w=l(f);this._zoomBoundLayers[w]&&(delete this._zoomBoundLayers[w],this._updateZoomLevels())},_updateZoomLevels:function(){var f=1/0,w=-1/0,B=this._getZoomSpan();for(var k in this._zoomBoundLayers){var H=this._zoomBoundLayers[k].options;f=H.minZoom===void 0?f:Math.min(f,H.minZoom),w=H.maxZoom===void 0?w:Math.max(w,H.maxZoom)}this._layersMaxZoom=w===-1/0?void 0:w,this._layersMinZoom=f===1/0?void 0:f,B!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var oo=Tr.extend({initialize:function(f,w){m(this,w),this._layers={};var B,k;if(f)for(B=0,k=f.length;B<k;B++)this.addLayer(f[B])},addLayer:function(f){var w=this.getLayerId(f);return this._layers[w]=f,this._map&&this._map.addLayer(f),this},removeLayer:function(f){var w=f in this._layers?f:this.getLayerId(f);return this._map&&this._layers[w]&&this._map.removeLayer(this._layers[w]),delete this._layers[w],this},hasLayer:function(f){var w=typeof f=="number"?f:this.getLayerId(f);return w in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(f){var w=Array.prototype.slice.call(arguments,1),B,k;for(B in this._layers)k=this._layers[B],k[f]&&k[f].apply(k,w);return this},onAdd:function(f){this.eachLayer(f.addLayer,f)},onRemove:function(f){this.eachLayer(f.removeLayer,f)},eachLayer:function(f,w){for(var B in this._layers)f.call(w,this._layers[B]);return this},getLayer:function(f){return this._layers[f]},getLayers:function(){var f=[];return this.eachLayer(f.push,f),f},setZIndex:function(f){return this.invoke("setZIndex",f)},getLayerId:function(f){return l(f)}}),Gd=function(f,w){return new oo(f,w)},pa=oo.extend({addLayer:function(f){return this.hasLayer(f)?this:(f.addEventParent(this),oo.prototype.addLayer.call(this,f),this.fire("layeradd",{layer:f}))},removeLayer:function(f){return this.hasLayer(f)?(f in this._layers&&(f=this._layers[f]),f.removeEventParent(this),oo.prototype.removeLayer.call(this,f),this.fire("layerremove",{layer:f})):this},setStyle:function(f){return this.invoke("setStyle",f)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var f=new G;for(var w in this._layers){var B=this._layers[w];f.extend(B.getBounds?B.getBounds():B.getLatLng())}return f}}),ma=function(f,w){return new pa(f,w)},ga=$.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(f){m(this,f)},createIcon:function(f){return this._createIcon("icon",f)},createShadow:function(f){return this._createIcon("shadow",f)},_createIcon:function(f,w){var B=this._getIconUrl(f);if(!B){if(f==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var k=this._createImg(B,w&&w.tagName==="IMG"?w:null);return this._setIconStyles(k,f),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),k},_setIconStyles:function(f,w){var B=this.options,k=B[w+"Size"];typeof k=="number"&&(k=[k,k]);var H=ce(k),ne=ce(w==="shadow"&&B.shadowAnchor||B.iconAnchor||H&&H.divideBy(2,!0));f.className="leaflet-marker-"+w+" "+(B.className||""),ne&&(f.style.marginLeft=-ne.x+"px",f.style.marginTop=-ne.y+"px"),H&&(f.style.width=H.x+"px",f.style.height=H.y+"px")},_createImg:function(f,w){return w=w||document.createElement("img"),w.src=f,w},_getIconUrl:function(f){return ht.retina&&this.options[f+"RetinaUrl"]||this.options[f+"Url"]}});function tp(f){return new ga(f)}var Ec=ga.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(f){return typeof Ec.imagePath!="string"&&(Ec.imagePath=this._detectIconPath()),(this.options.imagePath||Ec.imagePath)+ga.prototype._getIconUrl.call(this,f)},_stripUrl:function(f){var w=function(B,k,H){var ne=k.exec(B);return ne&&ne[H]};return f=w(f,/^url\((['"])?(.+)\1\)$/,2),f&&w(f,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var f=mn("div","leaflet-default-icon-path",document.body),w=Nu(f,"background-image")||Nu(f,"backgroundImage");if(document.body.removeChild(f),w=this._stripUrl(w),w)return w;var B=document.querySelector('link[href$="leaflet.css"]');return B?B.href.substring(0,B.href.length-11-1):""}}),kc=fe.extend({initialize:function(f){this._marker=f},addHooks:function(){var f=this._marker._icon;this._draggable||(this._draggable=new ze(f,f,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),un(f,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&$r(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(f){var w=this._marker,B=w._map,k=this._marker.options.autoPanSpeed,H=this._marker.options.autoPanPadding,ne=Bl(w._icon),ve=B.getPixelBounds(),De=B.getPixelOrigin(),Qe=z(ve.min._subtract(De).add(H),ve.max._subtract(De).subtract(H));if(!Qe.contains(ne)){var tt=ce((Math.max(Qe.max.x,ne.x)-Qe.max.x)/(ve.max.x-Qe.max.x)-(Math.min(Qe.min.x,ne.x)-Qe.min.x)/(ve.min.x-Qe.min.x),(Math.max(Qe.max.y,ne.y)-Qe.max.y)/(ve.max.y-Qe.max.y)-(Math.min(Qe.min.y,ne.y)-Qe.min.y)/(ve.min.y-Qe.min.y)).multiplyBy(k);B.panBy(tt,{animate:!1}),this._draggable._newPos._add(tt),this._draggable._startPos._add(tt),or(w._icon,this._draggable._newPos),this._onDrag(f),this._panRequest=O(this._adjustPan.bind(this,f))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(f){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=O(this._adjustPan.bind(this,f)))},_onDrag:function(f){var w=this._marker,B=w._shadow,k=Bl(w._icon),H=w._map.layerPointToLatLng(k);B&&or(B,k),w._latlng=H,f.latlng=H,f.oldLatLng=this._oldLatLng,w.fire("move",f).fire("drag",f)},_onDragEnd:function(f){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",f)}}),El=Tr.extend({options:{icon:new Ec,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(f,w){m(this,w),this._latlng=ue(f)},onAdd:function(f){this._zoomAnimated=this._zoomAnimated&&f.options.markerZoomAnimation,this._zoomAnimated&&f.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(f){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&f.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(f){var w=this._latlng;return this._latlng=ue(f),this.update(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},setZIndexOffset:function(f){return this.options.zIndexOffset=f,this.update()},getIcon:function(){return this.options.icon},setIcon:function(f){return this.options.icon=f,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var f=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(f)}return this},_initIcon:function(){var f=this.options,w="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),B=f.icon.createIcon(this._icon),k=!1;B!==this._icon&&(this._icon&&this._removeIcon(),k=!0,f.title&&(B.title=f.title),B.tagName==="IMG"&&(B.alt=f.alt||"")),un(B,w),f.keyboard&&(B.tabIndex="0",B.setAttribute("role","button")),this._icon=B,f.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&lt(B,"focus",this._panOnFocus,this);var H=f.icon.createShadow(this._shadow),ne=!1;H!==this._shadow&&(this._removeShadow(),ne=!0),H&&(un(H,w),H.alt=""),this._shadow=H,f.opacity<1&&this._updateOpacity(),k&&this.getPane().appendChild(this._icon),this._initInteraction(),H&&ne&&this.getPane(f.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ar(this._icon,"focus",this._panOnFocus,this),ur(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ur(this._shadow),this._shadow=null},_setPos:function(f){this._icon&&or(this._icon,f),this._shadow&&or(this._shadow,f),this._zIndex=f.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(f){this._icon&&(this._icon.style.zIndex=this._zIndex+f)},_animateZoom:function(f){var w=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center).round();this._setPos(w)},_initInteraction:function(){if(this.options.interactive&&(un(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),kc)){var f=this.options.draggable;this.dragging&&(f=this.dragging.enabled(),this.dragging.disable()),this.dragging=new kc(this),f&&this.dragging.enable()}},setOpacity:function(f){return this.options.opacity=f,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var f=this.options.opacity;this._icon&&ws(this._icon,f),this._shadow&&ws(this._shadow,f)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var f=this._map;if(f){var w=this.options.icon.options,B=w.iconSize?ce(w.iconSize):ce(0,0),k=w.iconAnchor?ce(w.iconAnchor):ce(0,0);f.panInside(this._latlng,{paddingTopLeft:k,paddingBottomRight:B.subtract(k)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ro(f,w){return new El(f,w)}var xs=Tr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(f){this._renderer=f.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(f){return m(this,f),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&f&&Object.prototype.hasOwnProperty.call(f,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Wa=xs.extend({options:{fill:!0,radius:10},initialize:function(f,w){m(this,w),this._latlng=ue(f),this._radius=this.options.radius},setLatLng:function(f){var w=this._latlng;return this._latlng=ue(f),this.redraw(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(f){return this.options.radius=this._radius=f,this.redraw()},getRadius:function(){return this._radius},setStyle:function(f){var w=f&&f.radius||this._radius;return xs.prototype.setStyle.call(this,f),this.setRadius(w),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var f=this._radius,w=this._radiusY||f,B=this._clickTolerance(),k=[f+B,w+B];this._pxBounds=new he(this._point.subtract(k),this._point.add(k))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(f){return f.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Tc(f,w){return new Wa(f,w)}var kl=Wa.extend({initialize:function(f,w,B){if(typeof w=="number"&&(w=s({},B,{radius:w})),m(this,w),this._latlng=ue(f),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(f){return this._mRadius=f,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var f=[this._radius,this._radiusY||this._radius];return new G(this._map.layerPointToLatLng(this._point.subtract(f)),this._map.layerPointToLatLng(this._point.add(f)))},setStyle:xs.prototype.setStyle,_project:function(){var f=this._latlng.lng,w=this._latlng.lat,B=this._map,k=B.options.crs;if(k.distance===we.distance){var H=Math.PI/180,ne=this._mRadius/we.R/H,ve=B.project([w+ne,f]),De=B.project([w-ne,f]),Qe=ve.add(De).divideBy(2),tt=B.unproject(Qe).lat,wt=Math.acos((Math.cos(ne*H)-Math.sin(w*H)*Math.sin(tt*H))/(Math.cos(w*H)*Math.cos(tt*H)))/H;(isNaN(wt)||wt===0)&&(wt=ne/Math.cos(Math.PI/180*w)),this._point=Qe.subtract(B.getPixelOrigin()),this._radius=isNaN(wt)?0:Qe.x-B.project([tt,f-wt]).x,this._radiusY=Qe.y-ve.y}else{var en=k.unproject(k.project(this._latlng).subtract([this._mRadius,0]));this._point=B.latLngToLayerPoint(this._latlng),this._radius=this._point.x-B.latLngToLayerPoint(en).x}this._updateBounds()}});function np(f,w,B){return new kl(f,w,B)}var ao=xs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,w){m(this,w),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(f){return this._setLatLngs(f),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(f){for(var w=1/0,B=null,k=Nc,H,ne,ve=0,De=this._parts.length;ve<De;ve++)for(var Qe=this._parts[ve],tt=1,wt=Qe.length;tt<wt;tt++){H=Qe[tt-1],ne=Qe[tt];var en=k(f,H,ne,!0);en<w&&(w=en,B=k(f,H,ne))}return B&&(B.distance=Math.sqrt(w)),B},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fu(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(f,w){return w=w||this._defaultShape(),f=ue(f),w.push(f),this._bounds.extend(f),this.redraw()},_setLatLngs:function(f){this._bounds=new G,this._latlngs=this._convertLatLngs(f)},_defaultShape:function(){return ci(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(f){for(var w=[],B=ci(f),k=0,H=f.length;k<H;k++)B?(w[k]=ue(f[k]),this._bounds.extend(w[k])):w[k]=this._convertLatLngs(f[k]);return w},_project:function(){var f=new he;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,f),this._bounds.isValid()&&f.isValid()&&(this._rawPxBounds=f,this._updateBounds())},_updateBounds:function(){var f=this._clickTolerance(),w=new V(f,f);this._rawPxBounds&&(this._pxBounds=new he([this._rawPxBounds.min.subtract(w),this._rawPxBounds.max.add(w)]))},_projectLatlngs:function(f,w,B){var k=f[0]instanceof re,H=f.length,ne,ve;if(k){for(ve=[],ne=0;ne<H;ne++)ve[ne]=this._map.latLngToLayerPoint(f[ne]),B.extend(ve[ne]);w.push(ve)}else for(ne=0;ne<H;ne++)this._projectLatlngs(f[ne],w,B)},_clipPoints:function(){var f=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}var w=this._parts,B,k,H,ne,ve,De,Qe;for(B=0,H=0,ne=this._rings.length;B<ne;B++)for(Qe=this._rings[B],k=0,ve=Qe.length;k<ve-1;k++)De=Ks(Qe[k],Qe[k+1],f,k,!0),De&&(w[H]=w[H]||[],w[H].push(De[0]),(De[1]!==Qe[k+1]||k===ve-2)&&(w[H].push(De[1]),H++))}},_simplifyPoints:function(){for(var f=this._parts,w=this.options.smoothFactor,B=0,k=f.length;B<k;B++)f[B]=fn(f[B],w)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(f,w){var B,k,H,ne,ve,De,Qe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(B=0,ne=this._parts.length;B<ne;B++)for(De=this._parts[B],k=0,ve=De.length,H=ve-1;k<ve;H=k++)if(!(!w&&k===0)&&jn(f,De[H],De[k])<=Qe)return!0;return!1}});function As(f,w){return new ao(f,w)}ao._flat=Ic;var Fc=ao.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kt(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(f){var w=ao.prototype._convertLatLngs.call(this,f),B=w.length;return B>=2&&w[0]instanceof re&&w[0].equals(w[B-1])&&w.pop(),w},_setLatLngs:function(f){ao.prototype._setLatLngs.call(this,f),ci(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ci(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var f=this._renderer._bounds,w=this.options.weight,B=new V(w,w);if(f=new he(f.min.subtract(B),f.max.add(B)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}for(var k=0,H=this._rings.length,ne;k<H;k++)ne=et(this._rings[k],f,!0),ne.length&&this._parts.push(ne)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(f){var w=!1,B,k,H,ne,ve,De,Qe,tt;if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(ne=0,Qe=this._parts.length;ne<Qe;ne++)for(B=this._parts[ne],ve=0,tt=B.length,De=tt-1;ve<tt;De=ve++)k=B[ve],H=B[De],k.y>f.y!=H.y>f.y&&f.x<(H.x-k.x)*(f.y-k.y)/(H.y-k.y)+k.x&&(w=!w);return w||ao.prototype._containsPoint.call(this,f,!0)}});function Tl(f,w){return new Fc(f,w)}var qs=pa.extend({initialize:function(f,w){m(this,w),this._layers={},f&&this.addData(f)},addData:function(f){var w=b(f)?f:f.features,B,k,H;if(w){for(B=0,k=w.length;B<k;B++)H=w[B],(H.geometries||H.geometry||H.features||H.coordinates)&&this.addData(H);return this}var ne=this.options;if(ne.filter&&!ne.filter(f))return this;var ve=Lu(f,ne);return ve?(ve.feature=Ll(f),ve.defaultOptions=ve.options,this.resetStyle(ve),ne.onEachFeature&&ne.onEachFeature(f,ve),this.addLayer(ve)):this},resetStyle:function(f){return f===void 0?this.eachLayer(this.resetStyle,this):(f.options=s({},f.defaultOptions),this._setLayerStyle(f,this.options.style),this)},setStyle:function(f){return this.eachLayer(function(w){this._setLayerStyle(w,f)},this)},_setLayerStyle:function(f,w){f.setStyle&&(typeof w=="function"&&(w=w(f.feature)),f.setStyle(w))}});function Lu(f,w){var B=f.type==="Feature"?f.geometry:f,k=B?B.coordinates:null,H=[],ne=w&&w.pointToLayer,ve=w&&w.coordsToLatLng||MA,De,Qe,tt,wt;if(!k&&!B)return null;switch(B.type){case"Point":return De=ve(k),Kd(ne,f,De,w);case"MultiPoint":for(tt=0,wt=k.length;tt<wt;tt++)De=ve(k[tt]),H.push(Kd(ne,f,De,w));return new pa(H);case"LineString":case"MultiLineString":return Qe=Du(k,B.type==="LineString"?0:1,ve),new ao(Qe,w);case"Polygon":case"MultiPolygon":return Qe=Du(k,B.type==="Polygon"?1:2,ve),new Fc(Qe,w);case"GeometryCollection":for(tt=0,wt=B.geometries.length;tt<wt;tt++){var en=Lu({geometry:B.geometries[tt],type:"Feature",properties:f.properties},w);en&&H.push(en)}return new pa(H);case"FeatureCollection":for(tt=0,wt=B.features.length;tt<wt;tt++){var Ln=Lu(B.features[tt],w);Ln&&H.push(Ln)}return new pa(H);default:throw new Error("Invalid GeoJSON object.")}}function Kd(f,w,B,k){return f?f(w,B):new El(B,k&&k.markersInheritOptions&&k)}function MA(f){return new re(f[1],f[0],f[2])}function Du(f,w,B){for(var k=[],H=0,ne=f.length,ve;H<ne;H++)ve=w?Du(f[H],w-1,B):(B||MA)(f[H]),k.push(ve);return k}function Fl(f,w){return f=ue(f),f.alt!==void 0?[d(f.lng,w),d(f.lat,w),d(f.alt,w)]:[d(f.lng,w),d(f.lat,w)]}function Ga(f,w,B,k){for(var H=[],ne=0,ve=f.length;ne<ve;ne++)H.push(w?Ga(f[ne],ci(f[ne])?0:w-1,B,k):Fl(f[ne],k));return!w&&B&&H.length>0&&H.push(H[0].slice()),H}function Po(f,w){return f.feature?s({},f.feature,{geometry:w}):Ll(w)}function Ll(f){return f.type==="Feature"||f.type==="FeatureCollection"?f:{type:"Feature",properties:{},geometry:f}}var Dl={toGeoJSON:function(f){return Po(this,{type:"Point",coordinates:Fl(this.getLatLng(),f)})}};El.include(Dl),kl.include(Dl),Wa.include(Dl),ao.include({toGeoJSON:function(f){var w=!ci(this._latlngs),B=Ga(this._latlngs,w?1:0,!1,f);return Po(this,{type:(w?"Multi":"")+"LineString",coordinates:B})}}),Fc.include({toGeoJSON:function(f){var w=!ci(this._latlngs),B=w&&!ci(this._latlngs[0]),k=Ga(this._latlngs,B?2:w?1:0,!0,f);return w||(k=[k]),Po(this,{type:(B?"Multi":"")+"Polygon",coordinates:k})}}),oo.include({toMultiPoint:function(f){var w=[];return this.eachLayer(function(B){w.push(B.toGeoJSON(f).geometry.coordinates)}),Po(this,{type:"MultiPoint",coordinates:w})},toGeoJSON:function(f){var w=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(w==="MultiPoint")return this.toMultiPoint(f);var B=w==="GeometryCollection",k=[];return this.eachLayer(function(H){if(H.toGeoJSON){var ne=H.toGeoJSON(f);if(B)k.push(ne.geometry);else{var ve=Ll(ne);ve.type==="FeatureCollection"?k.push.apply(k,ve.features):k.push(ve)}}}),B?Po(this,{geometries:k,type:"GeometryCollection"}):{type:"FeatureCollection",features:k}}});function Ru(f,w){return new qs(f,w)}var ya=Ru,Oo=Tr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(f,w,B){this._url=f,this._bounds=X(w),m(this,B)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(un(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ur(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(f){return this.options.opacity=f,this._image&&this._updateOpacity(),this},setStyle:function(f){return f.opacity&&this.setOpacity(f.opacity),this},bringToFront:function(){return this._map&&kr(this._image),this},bringToBack:function(){return this._map&&gc(this._image),this},setUrl:function(f){return this._url=f,this._image&&(this._image.src=f),this},setBounds:function(f){return this._bounds=X(f),this._map&&this._reset(),this},getEvents:function(){var f={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var f=this._url.tagName==="IMG",w=this._image=f?this._url:mn("img");if(un(w,"leaflet-image-layer"),this._zoomAnimated&&un(w,"leaflet-zoom-animated"),this.options.className&&un(w,this.options.className),w.onselectstart=A,w.onmousemove=A,w.onload=o(this.fire,this,"load"),w.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),f){this._url=w.src;return}w.src=this._url,w.alt=this.options.alt},_animateZoom:function(f){var w=this._map.getZoomScale(f.zoom),B=this._map._latLngBoundsToNewLayerBounds(this._bounds,f.zoom,f.center).min;yc(this._image,B,w)},_reset:function(){var f=this._image,w=new he(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),B=w.getSize();or(f,w.min),f.style.width=B.x+"px",f.style.height=B.y+"px"},_updateOpacity:function(){ws(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var f=this.options.errorOverlayUrl;f&&this._url!==f&&(this._url=f,this._image.src=f)},getCenter:function(){return this._bounds.getCenter()}}),sr=function(f,w,B){return new Oo(f,w,B)},hr=Oo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var f=this._url.tagName==="VIDEO",w=this._image=f?this._url:mn("video");if(un(w,"leaflet-image-layer"),this._zoomAnimated&&un(w,"leaflet-zoom-animated"),this.options.className&&un(w,this.options.className),w.onselectstart=A,w.onmousemove=A,w.onloadeddata=o(this.fire,this,"load"),f){for(var B=w.getElementsByTagName("source"),k=[],H=0;H<B.length;H++)k.push(B[H].src);this._url=B.length>0?k:[w.src];return}b(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(w.style,"objectFit")&&(w.style.objectFit="fill"),w.autoplay=!!this.options.autoplay,w.loop=!!this.options.loop,w.muted=!!this.options.muted,w.playsInline=!!this.options.playsInline;for(var ne=0;ne<this._url.length;ne++){var ve=mn("source");ve.src=this._url[ne],w.appendChild(ve)}}});function ds(f,w,B){return new hr(f,w,B)}var bs=Oo.extend({_initImage:function(){var f=this._image=this._url;un(f,"leaflet-image-layer"),this._zoomAnimated&&un(f,"leaflet-zoom-animated"),this.options.className&&un(f,this.options.className),f.onselectstart=A,f.onmousemove=A}});function Lc(f,w,B){return new bs(f,w,B)}var lo=Tr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(f,w){f&&(f instanceof re||b(f))?(this._latlng=ue(f),m(this,w)):(m(this,f),this._source=w),this.options.content&&(this._content=this.options.content)},openOn:function(f){return f=arguments.length?f:this._source._map,f.hasLayer(this)||f.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(f){return this._map?this.close():(arguments.length?this._source=f:f=this._source,this._prepareOpen(),this.openOn(f._map)),this},onAdd:function(f){this._zoomAnimated=f._zoomAnimated,this._container||this._initLayout(),f._fadeAnimated&&ws(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),f._fadeAnimated&&ws(this._container,1),this.bringToFront(),this.options.interactive&&(un(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(f){f._fadeAnimated?(ws(this._container,0),this._removeTimeout=setTimeout(o(ur,void 0,this._container),200)):ur(this._container),this.options.interactive&&($r(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(f){return this._latlng=ue(f),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(f){return this._content=f,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var f={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&kr(this._container),this},bringToBack:function(){return this._map&&gc(this._container),this},_prepareOpen:function(f){var w=this._source;if(!w._map)return!1;if(w instanceof pa){w=null;var B=this._source._layers;for(var k in B)if(B[k]._map){w=B[k];break}if(!w)return!1;this._source=w}if(!f)if(w.getCenter)f=w.getCenter();else if(w.getLatLng)f=w.getLatLng();else if(w.getBounds)f=w.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(f),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var f=this._contentNode,w=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof w=="string")f.innerHTML=w;else{for(;f.hasChildNodes();)f.removeChild(f.firstChild);f.appendChild(w)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),w=ce(this.options.offset),B=this._getAnchor();this._zoomAnimated?or(this._container,f.add(B)):w=w.add(f).add(B);var k=this._containerBottom=-w.y,H=this._containerLeft=-Math.round(this._containerWidth/2)+w.x;this._container.style.bottom=k+"px",this._container.style.left=H+"px"}},_getAnchor:function(){return[0,0]}});bn.include({_initOverlay:function(f,w,B,k){var H=w;return H instanceof f||(H=new f(k).setContent(w)),B&&H.setLatLng(B),H}}),Tr.include({_initOverlay:function(f,w,B,k){var H=B;return H instanceof f?(m(H,k),H._source=this):(H=w&&!k?w:new f(k,this),H.setContent(B)),H}});var Dc=lo.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(f){return f=arguments.length?f:this._source._map,!f.hasLayer(this)&&f._popup&&f._popup.options.autoClose&&f.removeLayer(f._popup),f._popup=this,lo.prototype.openOn.call(this,f)},onAdd:function(f){lo.prototype.onAdd.call(this,f),f.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xs||this._source.on("preclick",vc))},onRemove:function(f){lo.prototype.onRemove.call(this,f),f.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xs||this._source.off("preclick",vc))},getEvents:function(){var f=lo.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(f.preclick=this.close),this.options.keepInView&&(f.moveend=this._adjustPan),f},_initLayout:function(){var f="leaflet-popup",w=this._container=mn("div",f+" "+(this.options.className||"")+" leaflet-zoom-animated"),B=this._wrapper=mn("div",f+"-content-wrapper",w);if(this._contentNode=mn("div",f+"-content",B),xc(w),Tu(this._contentNode),lt(w,"contextmenu",vc),this._tipContainer=mn("div",f+"-tip-container",w),this._tip=mn("div",f+"-tip",this._tipContainer),this.options.closeButton){var k=this._closeButton=mn("a",f+"-close-button",w);k.setAttribute("role","button"),k.setAttribute("aria-label","Close popup"),k.href="#close",k.innerHTML='<span aria-hidden="true">&#215;</span>',lt(k,"click",function(H){Wr(H),this.close()},this)}},_updateLayout:function(){var f=this._contentNode,w=f.style;w.width="",w.whiteSpace="nowrap";var B=f.offsetWidth;B=Math.min(B,this.options.maxWidth),B=Math.max(B,this.options.minWidth),w.width=B+1+"px",w.whiteSpace="",w.height="";var k=f.offsetHeight,H=this.options.maxHeight,ne="leaflet-popup-scrolled";H&&k>H?(w.height=H+"px",un(f,ne)):$r(f,ne),this._containerWidth=this._container.offsetWidth},_animateZoom:function(f){var w=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center),B=this._getAnchor();or(this._container,w.add(B))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var f=this._map,w=parseInt(Nu(this._container,"marginBottom"),10)||0,B=this._container.offsetHeight+w,k=this._containerWidth,H=new V(this._containerLeft,-B-this._containerBottom);H._add(Bl(this._container));var ne=f.layerPointToContainerPoint(H),ve=ce(this.options.autoPanPadding),De=ce(this.options.autoPanPaddingTopLeft||ve),Qe=ce(this.options.autoPanPaddingBottomRight||ve),tt=f.getSize(),wt=0,en=0;ne.x+k+Qe.x>tt.x&&(wt=ne.x+k-tt.x+Qe.x),ne.x-wt-De.x<0&&(wt=ne.x-De.x),ne.y+B+Qe.y>tt.y&&(en=ne.y+B-tt.y+Qe.y),ne.y-en-De.y<0&&(en=ne.y-De.y),(wt||en)&&(this.options.keepInView&&(this._autopanning=!0),f.fire("autopanstart").panBy([wt,en]))}},_getAnchor:function(){return ce(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ug=function(f,w){return new Dc(f,w)};bn.mergeOptions({closePopupOnClick:!0}),bn.include({openPopup:function(f,w,B){return this._initOverlay(Dc,f,w,B).openOn(this),this},closePopup:function(f){return f=arguments.length?f:this._popup,f&&f.close(),this}}),Tr.include({bindPopup:function(f,w){return this._popup=this._initOverlay(Dc,this._popup,f,w),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(f){return this._popup&&(this instanceof pa||(this._popup._source=this),this._popup._prepareOpen(f||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(f){return this._popup&&this._popup.setContent(f),this},getPopup:function(){return this._popup},_openPopup:function(f){if(!(!this._popup||!this._map)){bc(f);var w=f.layer||f.target;if(this._popup._source===w&&!(w instanceof xs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(f.latlng);return}this._popup._source=w,this.openPopup(f.latlng)}},_movePopup:function(f){this._popup.setLatLng(f.latlng)},_onKeyPress:function(f){f.originalEvent.keyCode===13&&this._openPopup(f)}});var rp=lo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(f){lo.prototype.onAdd.call(this,f),this.setOpacity(this.options.opacity),f.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(f){lo.prototype.onRemove.call(this,f),f.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var f=lo.prototype.getEvents.call(this);return this.options.permanent||(f.preclick=this.close),f},_initLayout:function(){var f="leaflet-tooltip",w=f+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=mn("div",w),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(f){var w,B,k=this._map,H=this._container,ne=k.latLngToContainerPoint(k.getCenter()),ve=k.layerPointToContainerPoint(f),De=this.options.direction,Qe=H.offsetWidth,tt=H.offsetHeight,wt=ce(this.options.offset),en=this._getAnchor();De==="top"?(w=Qe/2,B=tt):De==="bottom"?(w=Qe/2,B=0):De==="center"?(w=Qe/2,B=tt/2):De==="right"?(w=0,B=tt/2):De==="left"?(w=Qe,B=tt/2):ve.x<ne.x?(De="right",w=0,B=tt/2):(De="left",w=Qe+(wt.x+en.x)*2,B=tt/2),f=f.subtract(ce(w,B,!0)).add(wt).add(en),$r(H,"leaflet-tooltip-right"),$r(H,"leaflet-tooltip-left"),$r(H,"leaflet-tooltip-top"),$r(H,"leaflet-tooltip-bottom"),un(H,"leaflet-tooltip-"+De),or(H,f)},_updatePosition:function(){var f=this._map.latLngToLayerPoint(this._latlng);this._setPosition(f)},setOpacity:function(f){this.options.opacity=f,this._container&&ws(this._container,f)},_animateZoom:function(f){var w=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center);this._setPosition(w)},_getAnchor:function(){return ce(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),W2=function(f,w){return new rp(f,w)};bn.include({openTooltip:function(f,w,B){return this._initOverlay(rp,f,w,B).openOn(this),this},closeTooltip:function(f){return f.close(),this}}),Tr.include({bindTooltip:function(f,w){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(rp,this._tooltip,f,w),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(f){if(!(!f&&this._tooltipHandlersAdded)){var w=f?"off":"on",B={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?B.add=this._openTooltip:(B.mouseover=this._openTooltip,B.mouseout=this.closeTooltip,B.click=this._openTooltip,this._map?this._addFocusListeners():B.add=this._addFocusListeners),this._tooltip.options.sticky&&(B.mousemove=this._moveTooltip),this[w](B),this._tooltipHandlersAdded=!f}},openTooltip:function(f){return this._tooltip&&(this instanceof pa||(this._tooltip._source=this),this._tooltip._prepareOpen(f)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(f){return this._tooltip&&this._tooltip.setContent(f),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(f){var w=typeof f.getElement=="function"&&f.getElement();w&&(lt(w,"focus",function(){this._tooltip._source=f,this.openTooltip()},this),lt(w,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(f){var w=typeof f.getElement=="function"&&f.getElement();w&&w.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(f){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var w=this;this._map.once("moveend",function(){w._openOnceFlag=!1,w._openTooltip(f)});return}this._tooltip._source=f.layer||f.target,this.openTooltip(this._tooltip.options.sticky?f.latlng:void 0)}},_moveTooltip:function(f){var w=f.latlng,B,k;this._tooltip.options.sticky&&f.originalEvent&&(B=this._map.mouseEventToContainerPoint(f.originalEvent),k=this._map.containerPointToLayerPoint(B),w=this._map.layerPointToLatLng(k)),this._tooltip.setLatLng(w)}});var V1=ga.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(f){var w=f&&f.tagName==="DIV"?f:document.createElement("div"),B=this.options;if(B.html instanceof Element?(Ud(w),w.appendChild(B.html)):w.innerHTML=B.html!==!1?B.html:"",B.bgPos){var k=ce(B.bgPos);w.style.backgroundPosition=-k.x+"px "+-k.y+"px"}return this._setIconStyles(w,"icon"),w},createShadow:function(){return null}});function G2(f){return new V1(f)}ga.Default=Ec;var qd=Tr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ht.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(f){m(this,f)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(f){f._addZoomLimit(this)},onRemove:function(f){this._removeAllTiles(),ur(this._container),f._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(kr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(gc(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(f){return this.options.opacity=f,this._updateOpacity(),this},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var f=this._clampZoom(this._map.getZoom());f!==this._tileZoom&&(this._tileZoom=f,this._updateLevels()),this._update()}return this},getEvents:function(){var f={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),f.move=this._onMove),this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},createTile:function(){return document.createElement("div")},getTileSize:function(){var f=this.options.tileSize;return f instanceof V?f:new V(f,f)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(f){for(var w=this.getPane().children,B=-f(-1/0,1/0),k=0,H=w.length,ne;k<H;k++)ne=w[k].style.zIndex,w[k]!==this._container&&ne&&(B=f(B,+ne));isFinite(B)&&(this.options.zIndex=B+f(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ht.ielt9){ws(this._container,this.options.opacity);var f=+new Date,w=!1,B=!1;for(var k in this._tiles){var H=this._tiles[k];if(!(!H.current||!H.loaded)){var ne=Math.min(1,(f-H.loaded)/200);ws(H.el,ne),ne<1?w=!0:(H.active?B=!0:this._onOpaqueTile(H),H.active=!0)}}B&&!this._noPrune&&this._pruneTiles(),w&&(U(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=mn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var f=this._tileZoom,w=this.options.maxZoom;if(f!==void 0){for(var B in this._levels)B=Number(B),this._levels[B].el.children.length||B===f?(this._levels[B].el.style.zIndex=w-Math.abs(f-B),this._onUpdateLevel(B)):(ur(this._levels[B].el),this._removeTilesAtZoom(B),this._onRemoveLevel(B),delete this._levels[B]);var k=this._levels[f],H=this._map;return k||(k=this._levels[f]={},k.el=mn("div","leaflet-tile-container leaflet-zoom-animated",this._container),k.el.style.zIndex=w,k.origin=H.project(H.unproject(H.getPixelOrigin()),f).round(),k.zoom=f,this._setZoomTransform(k,H.getCenter(),H.getZoom()),A(k.el.offsetWidth),this._onCreateLevel(k)),this._level=k,k}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var f,w,B=this._map.getZoom();if(B>this.options.maxZoom||B<this.options.minZoom){this._removeAllTiles();return}for(f in this._tiles)w=this._tiles[f],w.retain=w.current;for(f in this._tiles)if(w=this._tiles[f],w.current&&!w.active){var k=w.coords;this._retainParent(k.x,k.y,k.z,k.z-5)||this._retainChildren(k.x,k.y,k.z,k.z+2)}for(f in this._tiles)this._tiles[f].retain||this._removeTile(f)}},_removeTilesAtZoom:function(f){for(var w in this._tiles)this._tiles[w].coords.z===f&&this._removeTile(w)},_removeAllTiles:function(){for(var f in this._tiles)this._removeTile(f)},_invalidateAll:function(){for(var f in this._levels)ur(this._levels[f].el),this._onRemoveLevel(Number(f)),delete this._levels[f];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(f,w,B,k){var H=Math.floor(f/2),ne=Math.floor(w/2),ve=B-1,De=new V(+H,+ne);De.z=+ve;var Qe=this._tileCoordsToKey(De),tt=this._tiles[Qe];return tt&&tt.active?(tt.retain=!0,!0):(tt&&tt.loaded&&(tt.retain=!0),ve>k?this._retainParent(H,ne,ve,k):!1)},_retainChildren:function(f,w,B,k){for(var H=2*f;H<2*f+2;H++)for(var ne=2*w;ne<2*w+2;ne++){var ve=new V(H,ne);ve.z=B+1;var De=this._tileCoordsToKey(ve),Qe=this._tiles[De];if(Qe&&Qe.active){Qe.retain=!0;continue}else Qe&&Qe.loaded&&(Qe.retain=!0);B+1<k&&this._retainChildren(H,ne,B+1,k)}},_resetView:function(f){var w=f&&(f.pinch||f.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),w,w)},_animateZoom:function(f){this._setView(f.center,f.zoom,!0,f.noUpdate)},_clampZoom:function(f){var w=this.options;return w.minNativeZoom!==void 0&&f<w.minNativeZoom?w.minNativeZoom:w.maxNativeZoom!==void 0&&w.maxNativeZoom<f?w.maxNativeZoom:f},_setView:function(f,w,B,k){var H=Math.round(w);this.options.maxZoom!==void 0&&H>this.options.maxZoom||this.options.minZoom!==void 0&&H<this.options.minZoom?H=void 0:H=this._clampZoom(H);var ne=this.options.updateWhenZooming&&H!==this._tileZoom;(!k||ne)&&(this._tileZoom=H,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),H!==void 0&&this._update(f),B||this._pruneTiles(),this._noPrune=!!B),this._setZoomTransforms(f,w)},_setZoomTransforms:function(f,w){for(var B in this._levels)this._setZoomTransform(this._levels[B],f,w)},_setZoomTransform:function(f,w,B){var k=this._map.getZoomScale(B,f.zoom),H=f.origin.multiplyBy(k).subtract(this._map._getNewPixelOrigin(w,B)).round();ht.any3d?yc(f.el,H,k):or(f.el,H)},_resetGrid:function(){var f=this._map,w=f.options.crs,B=this._tileSize=this.getTileSize(),k=this._tileZoom,H=this._map.getPixelWorldBounds(this._tileZoom);H&&(this._globalTileRange=this._pxBoundsToTileRange(H)),this._wrapX=w.wrapLng&&!this.options.noWrap&&[Math.floor(f.project([0,w.wrapLng[0]],k).x/B.x),Math.ceil(f.project([0,w.wrapLng[1]],k).x/B.y)],this._wrapY=w.wrapLat&&!this.options.noWrap&&[Math.floor(f.project([w.wrapLat[0],0],k).y/B.x),Math.ceil(f.project([w.wrapLat[1],0],k).y/B.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(f){var w=this._map,B=w._animatingZoom?Math.max(w._animateToZoom,w.getZoom()):w.getZoom(),k=w.getZoomScale(B,this._tileZoom),H=w.project(f,this._tileZoom).floor(),ne=w.getSize().divideBy(k*2);return new he(H.subtract(ne),H.add(ne))},_update:function(f){var w=this._map;if(w){var B=this._clampZoom(w.getZoom());if(f===void 0&&(f=w.getCenter()),this._tileZoom!==void 0){var k=this._getTiledPixelBounds(f),H=this._pxBoundsToTileRange(k),ne=H.getCenter(),ve=[],De=this.options.keepBuffer,Qe=new he(H.getBottomLeft().subtract([De,-De]),H.getTopRight().add([De,-De]));if(!(isFinite(H.min.x)&&isFinite(H.min.y)&&isFinite(H.max.x)&&isFinite(H.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var tt in this._tiles){var wt=this._tiles[tt].coords;(wt.z!==this._tileZoom||!Qe.contains(new V(wt.x,wt.y)))&&(this._tiles[tt].current=!1)}if(Math.abs(B-this._tileZoom)>1){this._setView(f,B);return}for(var en=H.min.y;en<=H.max.y;en++)for(var Ln=H.min.x;Ln<=H.max.x;Ln++){var Mi=new V(Ln,en);if(Mi.z=this._tileZoom,!!this._isValidTile(Mi)){var Rs=this._tiles[this._tileCoordsToKey(Mi)];Rs?Rs.current=!0:ve.push(Mi)}}if(ve.sort(function(uo,Zd){return uo.distanceTo(ne)-Zd.distanceTo(ne)}),ve.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var wa=document.createDocumentFragment();for(Ln=0;Ln<ve.length;Ln++)this._addTile(ve[Ln],wa);this._level.el.appendChild(wa)}}}},_isValidTile:function(f){var w=this._map.options.crs;if(!w.infinite){var B=this._globalTileRange;if(!w.wrapLng&&(f.x<B.min.x||f.x>B.max.x)||!w.wrapLat&&(f.y<B.min.y||f.y>B.max.y))return!1}if(!this.options.bounds)return!0;var k=this._tileCoordsToBounds(f);return X(this.options.bounds).overlaps(k)},_keyToBounds:function(f){return this._tileCoordsToBounds(this._keyToTileCoords(f))},_tileCoordsToNwSe:function(f){var w=this._map,B=this.getTileSize(),k=f.scaleBy(B),H=k.add(B),ne=w.unproject(k,f.z),ve=w.unproject(H,f.z);return[ne,ve]},_tileCoordsToBounds:function(f){var w=this._tileCoordsToNwSe(f),B=new G(w[0],w[1]);return this.options.noWrap||(B=this._map.wrapLatLngBounds(B)),B},_tileCoordsToKey:function(f){return f.x+":"+f.y+":"+f.z},_keyToTileCoords:function(f){var w=f.split(":"),B=new V(+w[0],+w[1]);return B.z=+w[2],B},_removeTile:function(f){var w=this._tiles[f];w&&(ur(w.el),delete this._tiles[f],this.fire("tileunload",{tile:w.el,coords:this._keyToTileCoords(f)}))},_initTile:function(f){un(f,"leaflet-tile");var w=this.getTileSize();f.style.width=w.x+"px",f.style.height=w.y+"px",f.onselectstart=A,f.onmousemove=A,ht.ielt9&&this.options.opacity<1&&ws(f,this.options.opacity)},_addTile:function(f,w){var B=this._getTilePos(f),k=this._tileCoordsToKey(f),H=this.createTile(this._wrapCoords(f),o(this._tileReady,this,f));this._initTile(H),this.createTile.length<2&&O(o(this._tileReady,this,f,null,H)),or(H,B),this._tiles[k]={el:H,coords:f,current:!0},w.appendChild(H),this.fire("tileloadstart",{tile:H,coords:f})},_tileReady:function(f,w,B){w&&this.fire("tileerror",{error:w,tile:B,coords:f});var k=this._tileCoordsToKey(f);B=this._tiles[k],B&&(B.loaded=+new Date,this._map._fadeAnimated?(ws(B.el,0),U(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this)):(B.active=!0,this._pruneTiles()),w||(un(B.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:B.el,coords:f})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ht.ielt9||!this._map._fadeAnimated?O(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(f){return f.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(f){var w=new V(this._wrapX?u(f.x,this._wrapX):f.x,this._wrapY?u(f.y,this._wrapY):f.y);return w.z=f.z,w},_pxBoundsToTileRange:function(f){var w=this.getTileSize();return new he(f.min.unscaleBy(w).floor(),f.max.unscaleBy(w).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var f in this._tiles)if(!this._tiles[f].loaded)return!1;return!0}});function K2(f){return new qd(f)}var Rl=qd.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(f,w){this._url=f,w=m(this,w),w.detectRetina&&ht.retina&&w.maxZoom>0?(w.tileSize=Math.floor(w.tileSize/2),w.zoomReverse?(w.zoomOffset--,w.minZoom=Math.min(w.maxZoom,w.minZoom+1)):(w.zoomOffset++,w.maxZoom=Math.max(w.minZoom,w.maxZoom-1)),w.minZoom=Math.max(0,w.minZoom)):w.zoomReverse?w.minZoom=Math.min(w.maxZoom,w.minZoom):w.maxZoom=Math.max(w.minZoom,w.maxZoom),typeof w.subdomains=="string"&&(w.subdomains=w.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(f,w){return this._url===f&&w===void 0&&(w=!0),this._url=f,w||this.redraw(),this},createTile:function(f,w){var B=document.createElement("img");return lt(B,"load",o(this._tileOnLoad,this,w,B)),lt(B,"error",o(this._tileOnError,this,w,B)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(B.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(B.referrerPolicy=this.options.referrerPolicy),B.alt="",B.src=this.getTileUrl(f),B},getTileUrl:function(f){var w={r:ht.retina?"@2x":"",s:this._getSubdomain(f),x:f.x,y:f.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var B=this._globalTileRange.max.y-f.y;this.options.tms&&(w.y=B),w["-y"]=B}return v(this._url,s(w,this.options))},_tileOnLoad:function(f,w){ht.ielt9?setTimeout(o(f,this,null,w),0):f(null,w)},_tileOnError:function(f,w,B){var k=this.options.errorTileUrl;k&&w.getAttribute("src")!==k&&(w.src=k),f(B,w)},_onTileRemove:function(f){f.tile.onload=null},_getZoomForUrl:function(){var f=this._tileZoom,w=this.options.maxZoom,B=this.options.zoomReverse,k=this.options.zoomOffset;return B&&(f=w-f),f+k},_getSubdomain:function(f){var w=Math.abs(f.x+f.y)%this.options.subdomains.length;return this.options.subdomains[w]},_abortLoading:function(){var f,w;for(f in this._tiles)if(this._tiles[f].coords.z!==this._tileZoom&&(w=this._tiles[f].el,w.onload=A,w.onerror=A,!w.complete)){w.src=_;var B=this._tiles[f].coords;ur(w),delete this._tiles[f],this.fire("tileabort",{tile:w,coords:B})}},_removeTile:function(f){var w=this._tiles[f];if(w)return w.el.setAttribute("src",_),qd.prototype._removeTile.call(this,f)},_tileReady:function(f,w,B){if(!(!this._map||B&&B.getAttribute("src")===_))return qd.prototype._tileReady.call(this,f,w,B)}});function W1(f,w){return new Rl(f,w)}var G1=Rl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,w){this._url=f;var B=s({},this.defaultWmsParams);for(var k in w)k in this.options||(B[k]=w[k]);w=m(this,w);var H=w.detectRetina&&ht.retina?2:1,ne=this.getTileSize();B.width=ne.x*H,B.height=ne.y*H,this.wmsParams=B},onAdd:function(f){this._crs=this.options.crs||f.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var w=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[w]=this._crs.code,Rl.prototype.onAdd.call(this,f)},getTileUrl:function(f){var w=this._tileCoordsToNwSe(f),B=this._crs,k=z(B.project(w[0]),B.project(w[1])),H=k.min,ne=k.max,ve=(this._wmsVersion>=1.3&&this._crs===Wd?[H.y,H.x,ne.y,ne.x]:[H.x,H.y,ne.x,ne.y]).join(","),De=Rl.prototype.getTileUrl.call(this,f);return De+y(this.wmsParams,De,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ve},setParams:function(f,w){return s(this.wmsParams,f),w||this.redraw(),this}});function q2(f,w){return new G1(f,w)}Rl.WMS=G1,W1.wms=q2;var Pl=Tr.extend({options:{padding:.1},initialize:function(f){m(this,f),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),un(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var f={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(f.zoomanim=this._onAnimZoom),f},_onAnimZoom:function(f){this._updateTransform(f.center,f.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(f,w){var B=this._map.getZoomScale(w,this._zoom),k=this._map.getSize().multiplyBy(.5+this.options.padding),H=this._map.project(this._center,w),ne=k.multiplyBy(-B).add(H).subtract(this._map._getNewPixelOrigin(f,w));ht.any3d?yc(this._container,ne,B):or(this._container,ne)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var f in this._layers)this._layers[f]._reset()},_onZoomEnd:function(){for(var f in this._layers)this._layers[f]._project()},_updatePaths:function(){for(var f in this._layers)this._layers[f]._update()},_update:function(){var f=this.options.padding,w=this._map.getSize(),B=this._map.containerPointToLayerPoint(w.multiplyBy(-f)).round();this._bounds=new he(B,B.add(w.multiplyBy(1+f*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),K1=Pl.extend({options:{tolerance:0},getEvents:function(){var f=Pl.prototype.getEvents.call(this);return f.viewprereset=this._onViewPreReset,f},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Pl.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var f=this._container=document.createElement("canvas");lt(f,"mousemove",this._onMouseMove,this),lt(f,"click dblclick mousedown mouseup contextmenu",this._onClick,this),lt(f,"mouseout",this._handleMouseOut,this),f._leaflet_disable_events=!0,this._ctx=f.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,ur(this._container),Ar(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var f;this._redrawBounds=null;for(var w in this._layers)f=this._layers[w],f._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pl.prototype._update.call(this);var f=this._bounds,w=this._container,B=f.getSize(),k=ht.retina?2:1;or(w,f.min),w.width=k*B.x,w.height=k*B.y,w.style.width=B.x+"px",w.style.height=B.y+"px",ht.retina&&this._ctx.scale(2,2),this._ctx.translate(-f.min.x,-f.min.y),this.fire("update")}},_reset:function(){Pl.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(f){this._updateDashArray(f),this._layers[l(f)]=f;var w=f._order={layer:f,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=w),this._drawLast=w,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(f){this._requestRedraw(f)},_removePath:function(f){var w=f._order,B=w.next,k=w.prev;B?B.prev=k:this._drawLast=k,k?k.next=B:this._drawFirst=B,delete f._order,delete this._layers[l(f)],this._requestRedraw(f)},_updatePath:function(f){this._extendRedrawBounds(f),f._project(),f._update(),this._requestRedraw(f)},_updateStyle:function(f){this._updateDashArray(f),this._requestRedraw(f)},_updateDashArray:function(f){if(typeof f.options.dashArray=="string"){var w=f.options.dashArray.split(/[, ]+/),B=[],k,H;for(H=0;H<w.length;H++){if(k=Number(w[H]),isNaN(k))return;B.push(k)}f.options._dashArray=B}else f.options._dashArray=f.options.dashArray},_requestRedraw:function(f){this._map&&(this._extendRedrawBounds(f),this._redrawRequest=this._redrawRequest||O(this._redraw,this))},_extendRedrawBounds:function(f){if(f._pxBounds){var w=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new he,this._redrawBounds.extend(f._pxBounds.min.subtract([w,w])),this._redrawBounds.extend(f._pxBounds.max.add([w,w]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var f=this._redrawBounds;if(f){var w=f.getSize();this._ctx.clearRect(f.min.x,f.min.y,w.x,w.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var f,w=this._redrawBounds;if(this._ctx.save(),w){var B=w.getSize();this._ctx.beginPath(),this._ctx.rect(w.min.x,w.min.y,B.x,B.y),this._ctx.clip()}this._drawing=!0;for(var k=this._drawFirst;k;k=k.next)f=k.layer,(!w||f._pxBounds&&f._pxBounds.intersects(w))&&f._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,w){if(this._drawing){var B,k,H,ne,ve=f._parts,De=ve.length,Qe=this._ctx;if(De){for(Qe.beginPath(),B=0;B<De;B++){for(k=0,H=ve[B].length;k<H;k++)ne=ve[B][k],Qe[k?"lineTo":"moveTo"](ne.x,ne.y);w&&Qe.closePath()}this._fillStroke(Qe,f)}}},_updateCircle:function(f){if(!(!this._drawing||f._empty())){var w=f._point,B=this._ctx,k=Math.max(Math.round(f._radius),1),H=(Math.max(Math.round(f._radiusY),1)||k)/k;H!==1&&(B.save(),B.scale(1,H)),B.beginPath(),B.arc(w.x,w.y/H,k,0,Math.PI*2,!1),H!==1&&B.restore(),this._fillStroke(B,f)}},_fillStroke:function(f,w){var B=w.options;B.fill&&(f.globalAlpha=B.fillOpacity,f.fillStyle=B.fillColor||B.color,f.fill(B.fillRule||"evenodd")),B.stroke&&B.weight!==0&&(f.setLineDash&&f.setLineDash(w.options&&w.options._dashArray||[]),f.globalAlpha=B.opacity,f.lineWidth=B.weight,f.strokeStyle=B.color,f.lineCap=B.lineCap,f.lineJoin=B.lineJoin,f.stroke())},_onClick:function(f){for(var w=this._map.mouseEventToLayerPoint(f),B,k,H=this._drawFirst;H;H=H.next)B=H.layer,B.options.interactive&&B._containsPoint(w)&&(!(f.type==="click"||f.type==="preclick")||!this._map._draggableMoved(B))&&(k=B);this._fireEvent(k?[k]:!1,f)},_onMouseMove:function(f){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var w=this._map.mouseEventToLayerPoint(f);this._handleMouseHover(f,w)}},_handleMouseOut:function(f){var w=this._hoveredLayer;w&&($r(this._container,"leaflet-interactive"),this._fireEvent([w],f,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(f,w){if(!this._mouseHoverThrottled){for(var B,k,H=this._drawFirst;H;H=H.next)B=H.layer,B.options.interactive&&B._containsPoint(w)&&(k=B);k!==this._hoveredLayer&&(this._handleMouseOut(f),k&&(un(this._container,"leaflet-interactive"),this._fireEvent([k],f,"mouseover"),this._hoveredLayer=k)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,f),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(f,w,B){this._map._fireDOMEvent(w,B||w.type,f)},_bringToFront:function(f){var w=f._order;if(w){var B=w.next,k=w.prev;if(B)B.prev=k;else return;k?k.next=B:B&&(this._drawFirst=B),w.prev=this._drawLast,this._drawLast.next=w,w.next=null,this._drawLast=w,this._requestRedraw(f)}},_bringToBack:function(f){var w=f._order;if(w){var B=w.next,k=w.prev;if(k)k.next=B;else return;B?B.prev=k:k&&(this._drawLast=k),w.prev=null,w.next=this._drawFirst,this._drawFirst.prev=w,this._drawFirst=w,this._requestRedraw(f)}}});function q1(f){return ht.canvas?new K1(f):null}var Xd=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(f){return document.createElement("<lvml:"+f+' class="lvml">')}}catch{}return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),X2={_initContainer:function(){this._container=mn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Pl.prototype._update.call(this),this.fire("update"))},_initPath:function(f){var w=f._container=Xd("shape");un(w,"leaflet-vml-shape "+(this.options.className||"")),w.coordsize="1 1",f._path=Xd("path"),w.appendChild(f._path),this._updateStyle(f),this._layers[l(f)]=f},_addPath:function(f){var w=f._container;this._container.appendChild(w),f.options.interactive&&f.addInteractiveTarget(w)},_removePath:function(f){var w=f._container;ur(w),f.removeInteractiveTarget(w),delete this._layers[l(f)]},_updateStyle:function(f){var w=f._stroke,B=f._fill,k=f.options,H=f._container;H.stroked=!!k.stroke,H.filled=!!k.fill,k.stroke?(w||(w=f._stroke=Xd("stroke")),H.appendChild(w),w.weight=k.weight+"px",w.color=k.color,w.opacity=k.opacity,k.dashArray?w.dashStyle=b(k.dashArray)?k.dashArray.join(" "):k.dashArray.replace(/( *, *)/g," "):w.dashStyle="",w.endcap=k.lineCap.replace("butt","flat"),w.joinstyle=k.lineJoin):w&&(H.removeChild(w),f._stroke=null),k.fill?(B||(B=f._fill=Xd("fill")),H.appendChild(B),B.color=k.fillColor||k.color,B.opacity=k.fillOpacity):B&&(H.removeChild(B),f._fill=null)},_updateCircle:function(f){var w=f._point.round(),B=Math.round(f._radius),k=Math.round(f._radiusY||B);this._setPath(f,f._empty()?"M0 0":"AL "+w.x+","+w.y+" "+B+","+k+" 0,"+65535*360)},_setPath:function(f,w){f._path.v=w},_bringToFront:function(f){kr(f._container)},_bringToBack:function(f){gc(f._container)}},Yd=ht.vml?Xd:le,Pu=Pl.extend({_initContainer:function(){this._container=Yd("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Yd("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ur(this._container),Ar(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pl.prototype._update.call(this);var f=this._bounds,w=f.getSize(),B=this._container;(!this._svgSize||!this._svgSize.equals(w))&&(this._svgSize=w,B.setAttribute("width",w.x),B.setAttribute("height",w.y)),or(B,f.min),B.setAttribute("viewBox",[f.min.x,f.min.y,w.x,w.y].join(" ")),this.fire("update")}},_initPath:function(f){var w=f._path=Yd("path");f.options.className&&un(w,f.options.className),f.options.interactive&&un(w,"leaflet-interactive"),this._updateStyle(f),this._layers[l(f)]=f},_addPath:function(f){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(f._path),f.addInteractiveTarget(f._path)},_removePath:function(f){ur(f._path),f.removeInteractiveTarget(f._path),delete this._layers[l(f)]},_updatePath:function(f){f._project(),f._update()},_updateStyle:function(f){var w=f._path,B=f.options;w&&(B.stroke?(w.setAttribute("stroke",B.color),w.setAttribute("stroke-opacity",B.opacity),w.setAttribute("stroke-width",B.weight),w.setAttribute("stroke-linecap",B.lineCap),w.setAttribute("stroke-linejoin",B.lineJoin),B.dashArray?w.setAttribute("stroke-dasharray",B.dashArray):w.removeAttribute("stroke-dasharray"),B.dashOffset?w.setAttribute("stroke-dashoffset",B.dashOffset):w.removeAttribute("stroke-dashoffset")):w.setAttribute("stroke","none"),B.fill?(w.setAttribute("fill",B.fillColor||B.color),w.setAttribute("fill-opacity",B.fillOpacity),w.setAttribute("fill-rule",B.fillRule||"evenodd")):w.setAttribute("fill","none"))},_updatePoly:function(f,w){this._setPath(f,Xe(f._parts,w))},_updateCircle:function(f){var w=f._point,B=Math.max(Math.round(f._radius),1),k=Math.max(Math.round(f._radiusY),1)||B,H="a"+B+","+k+" 0 1,0 ",ne=f._empty()?"M0 0":"M"+(w.x-B)+","+w.y+H+B*2+",0 "+H+-B*2+",0 ";this._setPath(f,ne)},_setPath:function(f,w){f._path.setAttribute("d",w)},_bringToFront:function(f){kr(f._path)},_bringToBack:function(f){gc(f._path)}});ht.vml&&Pu.include(X2);function co(f){return ht.svg||ht.vml?new Pu(f):null}bn.include({getRenderer:function(f){var w=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return w||(w=this._renderer=this._createRenderer()),this.hasLayer(w)||this.addLayer(w),w},_getPaneRenderer:function(f){if(f==="overlayPane"||f===void 0)return!1;var w=this._paneRenderers[f];return w===void 0&&(w=this._createRenderer({pane:f}),this._paneRenderers[f]=w),w},_createRenderer:function(f){return this.options.preferCanvas&&q1(f)||co(f)}});var $o=Fc.extend({initialize:function(f,w){Fc.prototype.initialize.call(this,this._boundsToLatLngs(f),w)},setBounds:function(f){return this.setLatLngs(this._boundsToLatLngs(f))},_boundsToLatLngs:function(f){return f=X(f),[f.getSouthWest(),f.getNorthWest(),f.getNorthEast(),f.getSouthEast()]}});function Ag(f,w){return new $o(f,w)}Pu.create=Yd,Pu.pointsToPath=Xe,qs.geometryToLayer=Lu,qs.coordsToLatLng=MA,qs.coordsToLatLngs=Du,qs.latLngToCoords=Fl,qs.latLngsToCoords=Ga,qs.getFeature=Po,qs.asFeature=Ll,bn.mergeOptions({boxZoom:!0});var sp=fe.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane,this._resetStateTimeout=0,f.on("unload",this._destroy,this)},addHooks:function(){lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ar(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ur(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(f){if(!f.shiftKey||f.which!==1&&f.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Iu(),Gf(),this._startPoint=this._map.mouseEventToContainerPoint(f),lt(document,{contextmenu:bc,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(f){this._moved||(this._moved=!0,this._box=mn("div","leaflet-zoom-box",this._container),un(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(f);var w=new he(this._point,this._startPoint),B=w.getSize();or(this._box,w.min),this._box.style.width=B.x+"px",this._box.style.height=B.y+"px"},_finish:function(){this._moved&&(ur(this._box),$r(this._container,"leaflet-crosshair")),_l(),Kf(),Ar(document,{contextmenu:bc,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if(!(f.which!==1&&f.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var w=new G(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(w).fire("boxzoomend",{boxZoomBounds:w})}},_onKeyDown:function(f){f.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});bn.addInitHook("addHandler","boxZoom",sp),bn.mergeOptions({doubleClickZoom:!0});var X1=fe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(f){var w=this._map,B=w.getZoom(),k=w.options.zoomDelta,H=f.originalEvent.shiftKey?B-k:B+k;w.options.doubleClickZoom==="center"?w.setZoom(H):w.setZoomAround(f.containerPoint,H)}});bn.addInitHook("addHandler","doubleClickZoom",X1),bn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ip=fe.extend({addHooks:function(){if(!this._draggable){var f=this._map;this._draggable=new ze(f._mapPane,f._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),f.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),f.on("zoomend",this._onZoomEnd,this),f.whenReady(this._onZoomEnd,this))}un(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){$r(this._map._container,"leaflet-grab"),$r(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var f=this._map;if(f._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var w=X(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(w.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(w.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;f.fire("movestart").fire("dragstart"),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(f){if(this._map.options.inertia){var w=this._lastTime=+new Date,B=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(B),this._times.push(w),this._prunePositions(w)}this._map.fire("move",f).fire("drag",f)},_prunePositions:function(f){for(;this._positions.length>1&&f-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var f=this._map.getSize().divideBy(2),w=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=w.subtract(f).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(f,w){return f-(f-w)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var f=this._draggable._newPos.subtract(this._draggable._startPos),w=this._offsetLimit;f.x<w.min.x&&(f.x=this._viscousLimit(f.x,w.min.x)),f.y<w.min.y&&(f.y=this._viscousLimit(f.y,w.min.y)),f.x>w.max.x&&(f.x=this._viscousLimit(f.x,w.max.x)),f.y>w.max.y&&(f.y=this._viscousLimit(f.y,w.max.y)),this._draggable._newPos=this._draggable._startPos.add(f)}},_onPreDragWrap:function(){var f=this._worldWidth,w=Math.round(f/2),B=this._initialWorldOffset,k=this._draggable._newPos.x,H=(k-w+B)%f+w-B,ne=(k+w+B)%f-w-B,ve=Math.abs(H+B)<Math.abs(ne+B)?H:ne;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ve},_onDragEnd:function(f){var w=this._map,B=w.options,k=!B.inertia||f.noInertia||this._times.length<2;if(w.fire("dragend",f),k)w.fire("moveend");else{this._prunePositions(+new Date);var H=this._lastPos.subtract(this._positions[0]),ne=(this._lastTime-this._times[0])/1e3,ve=B.easeLinearity,De=H.multiplyBy(ve/ne),Qe=De.distanceTo([0,0]),tt=Math.min(B.inertiaMaxSpeed,Qe),wt=De.multiplyBy(tt/Qe),en=tt/(B.inertiaDeceleration*ve),Ln=wt.multiplyBy(-en/2).round();!Ln.x&&!Ln.y?w.fire("moveend"):(Ln=w._limitOffset(Ln,w.options.maxBounds),O(function(){w.panBy(Ln,{duration:en,easeLinearity:ve,noMoveStart:!0,animate:!0})}))}}});bn.addInitHook("addHandler","dragging",ip),bn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var op=fe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(f){this._map=f,this._setPanDelta(f.options.keyboardPanDelta),this._setZoomDelta(f.options.zoomDelta)},addHooks:function(){var f=this._map._container;f.tabIndex<=0&&(f.tabIndex="0"),lt(f,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ar(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var f=document.body,w=document.documentElement,B=f.scrollTop||w.scrollTop,k=f.scrollLeft||w.scrollLeft;this._map._container.focus(),window.scrollTo(k,B)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(f){var w=this._panKeys={},B=this.keyCodes,k,H;for(k=0,H=B.left.length;k<H;k++)w[B.left[k]]=[-1*f,0];for(k=0,H=B.right.length;k<H;k++)w[B.right[k]]=[f,0];for(k=0,H=B.down.length;k<H;k++)w[B.down[k]]=[0,f];for(k=0,H=B.up.length;k<H;k++)w[B.up[k]]=[0,-1*f]},_setZoomDelta:function(f){var w=this._zoomKeys={},B=this.keyCodes,k,H;for(k=0,H=B.zoomIn.length;k<H;k++)w[B.zoomIn[k]]=f;for(k=0,H=B.zoomOut.length;k<H;k++)w[B.zoomOut[k]]=-f},_addHooks:function(){lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ar(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var w=f.keyCode,B=this._map,k;if(w in this._panKeys){if(!B._panAnim||!B._panAnim._inProgress)if(k=this._panKeys[w],f.shiftKey&&(k=ce(k).multiplyBy(3)),B.options.maxBounds&&(k=B._limitOffset(ce(k),B.options.maxBounds)),B.options.worldCopyJump){var H=B.wrapLatLng(B.unproject(B.project(B.getCenter()).add(k)));B.panTo(H)}else B.panBy(k)}else if(w in this._zoomKeys)B.setZoom(B.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[w]);else if(w===27&&B._popup&&B._popup.options.closeOnEscapeKey)B.closePopup();else return;bc(f)}}});bn.addInitHook("addHandler","keyboard",op),bn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var dg=fe.extend({addHooks:function(){lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ar(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(f){var w=Hd(f),B=this._map.options.wheelDebounceTime;this._delta+=w,this._lastMousePos=this._map.mouseEventToContainerPoint(f),this._startTime||(this._startTime=+new Date);var k=Math.max(B-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),k),bc(f)},_performZoom:function(){var f=this._map,w=f.getZoom(),B=this._map.options.zoomSnap||0;f._stop();var k=this._delta/(this._map.options.wheelPxPerZoomLevel*4),H=4*Math.log(2/(1+Math.exp(-Math.abs(k))))/Math.LN2,ne=B?Math.ceil(H/B)*B:H,ve=f._limitZoom(w+(this._delta>0?ne:-ne))-w;this._delta=0,this._startTime=null,ve&&(f.options.scrollWheelZoom==="center"?f.setZoom(w+ve):f.setZoomAround(this._lastMousePos,w+ve))}});bn.addInitHook("addHandler","scrollWheelZoom",dg);var Y2=600;bn.mergeOptions({tapHold:ht.touchNative&&ht.safari&&ht.mobile,tapTolerance:15});var hg=fe.extend({addHooks:function(){lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ar(this._map._container,"touchstart",this._onDown,this)},_onDown:function(f){if(clearTimeout(this._holdTimeout),f.touches.length===1){var w=f.touches[0];this._startPos=this._newPos=new V(w.clientX,w.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(lt(document,"touchend",Wr),lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",w))},this),Y2),lt(document,"touchend touchcancel contextmenu",this._cancel,this),lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function f(){Ar(document,"touchend",Wr),Ar(document,"touchend touchcancel",f)},_cancel:function(){clearTimeout(this._holdTimeout),Ar(document,"touchend touchcancel contextmenu",this._cancel,this),Ar(document,"touchmove",this._onMove,this)},_onMove:function(f){var w=f.touches[0];this._newPos=new V(w.clientX,w.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(f,w){var B=new MouseEvent(f,{bubbles:!0,cancelable:!0,view:window,screenX:w.screenX,screenY:w.screenY,clientX:w.clientX,clientY:w.clientY});B._simulated=!0,w.target.dispatchEvent(B)}});bn.addInitHook("addHandler","tapHold",hg),bn.mergeOptions({touchZoom:ht.touch,bounceAtZoomLimits:!0});var fg=fe.extend({addHooks:function(){un(this._map._container,"leaflet-touch-zoom"),lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){$r(this._map._container,"leaflet-touch-zoom"),Ar(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){var w=this._map;if(!(!f.touches||f.touches.length!==2||w._animatingZoom||this._zooming)){var B=w.mouseEventToContainerPoint(f.touches[0]),k=w.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=w.getSize()._divideBy(2),this._startLatLng=w.containerPointToLatLng(this._centerPoint),w.options.touchZoom!=="center"&&(this._pinchStartLatLng=w.containerPointToLatLng(B.add(k)._divideBy(2))),this._startDist=B.distanceTo(k),this._startZoom=w.getZoom(),this._moved=!1,this._zooming=!0,w._stop(),lt(document,"touchmove",this._onTouchMove,this),lt(document,"touchend touchcancel",this._onTouchEnd,this),Wr(f)}},_onTouchMove:function(f){if(!(!f.touches||f.touches.length!==2||!this._zooming)){var w=this._map,B=w.mouseEventToContainerPoint(f.touches[0]),k=w.mouseEventToContainerPoint(f.touches[1]),H=B.distanceTo(k)/this._startDist;if(this._zoom=w.getScaleZoom(H,this._startZoom),!w.options.bounceAtZoomLimits&&(this._zoom<w.getMinZoom()&&H<1||this._zoom>w.getMaxZoom()&&H>1)&&(this._zoom=w._limitZoom(this._zoom)),w.options.touchZoom==="center"){if(this._center=this._startLatLng,H===1)return}else{var ne=B._add(k)._divideBy(2)._subtract(this._centerPoint);if(H===1&&ne.x===0&&ne.y===0)return;this._center=w.unproject(w.project(this._pinchStartLatLng,this._zoom).subtract(ne),this._zoom)}this._moved||(w._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var ve=o(w._move,w,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=O(ve,this,!0),Wr(f)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Ar(document,"touchmove",this._onTouchMove,this),Ar(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});bn.addInitHook("addHandler","touchZoom",fg),bn.BoxZoom=sp,bn.DoubleClickZoom=X1,bn.Drag=ip,bn.Keyboard=op,bn.ScrollWheelZoom=dg,bn.TapHold=hg,bn.TouchZoom=fg,n.Bounds=he,n.Browser=ht,n.CRS=Ae,n.Canvas=K1,n.Circle=kl,n.CircleMarker=Wa,n.Class=$,n.Control=ai,n.DivIcon=V1,n.DivOverlay=lo,n.DomEvent=Cc,n.DomUtil=z1,n.Draggable=ze,n.Evented=oe,n.FeatureGroup=pa,n.GeoJSON=qs,n.GridLayer=qd,n.Handler=fe,n.Icon=ga,n.ImageOverlay=Oo,n.LatLng=re,n.LatLngBounds=G,n.Layer=Tr,n.LayerGroup=oo,n.LineUtil=OA,n.Map=bn,n.Marker=El,n.Mixin=be,n.Path=xs,n.Point=V,n.PolyUtil=cn,n.Polygon=Fc,n.Polyline=ao,n.Popup=Dc,n.PosAnimation=Vd,n.Projection=$A,n.Rectangle=$o,n.Renderer=Pl,n.SVG=Pu,n.SVGOverlay=bs,n.TileLayer=Rl,n.Tooltip=rp,n.Transformation=ke,n.Util=W,n.VideoOverlay=hr,n.bind=o,n.bounds=z,n.canvas=q1,n.circle=np,n.circleMarker=Tc,n.control=Sc,n.divIcon=G2,n.extend=s,n.featureGroup=ma,n.geoJSON=Ru,n.geoJson=ya,n.gridLayer=K2,n.icon=tp,n.imageOverlay=sr,n.latLng=ue,n.latLngBounds=X,n.layerGroup=Gd,n.map=Yf,n.marker=Ro,n.point=ce,n.polygon=Tl,n.polyline=As,n.popup=ug,n.rectangle=Ag,n.setOptions=m,n.stamp=l,n.svg=co,n.svgOverlay=Lc,n.tileLayer=W1,n.tooltip=W2,n.transformation=je,n.version=r,n.videoOverlay=ds;var pg=window.L;n.noConflict=function(){return window.L=pg,this},window.L=n})})(K4,K4.exports);var VN=K4.exports;const JX=Dx(VN);function eY(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function tY(t,e){return e==null?function(r,s){const i=P.useRef();return i.current||(i.current=t(r,s)),i}:function(r,s){const i=P.useRef();i.current||(i.current=t(r,s));const o=P.useRef(r),{instance:a}=i.current;return P.useEffect(function(){o.current!==r&&(e(a,r,o.current),o.current=r)},[a,r,s]),i}}function Rve(t,e){P.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var i;(i=e.layerContainer)==null||i.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function nY(t){return function(n){const r=YX(),s=t(ZX(n,r),r);return Ive(r.map,n.attribution),Dve(s.current,n.eventHandlers),Rve(s.current,r),s}}function Pve(t,e){const n=tY(t,e),r=nY(n);return Fve(r)}function Ove(t,e){const n=tY(t,e),r=nY(n);return Lve(r)}function $ve(t,e,n){const{opacity:r,zIndex:s}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),s!=null&&s!==n.zIndex&&t.setZIndex(s)}function UR(){return YX().map}function Uve(t){const e=UR();return P.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function q4(){return q4=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q4.apply(this,arguments)}function Mve({bounds:t,boundsOptions:e,center:n,children:r,className:s,id:i,placeholder:o,style:a,whenReady:l,zoom:c,...u},A){const[d]=P.useState({className:s,id:i,style:a}),[h,p]=P.useState(null);P.useImperativeHandle(A,()=>(h==null?void 0:h.map)??null,[h]);const m=P.useCallback(g=>{if(g!==null&&h===null){const v=new VN.Map(g,u);n!=null&&c!=null?v.setView(n,c):t!=null&&v.fitBounds(t,e),l!=null&&v.whenReady(l),p(kve(v))}},[]);P.useEffect(()=>()=>{h==null||h.map.remove()},[h]);const y=h?ut.createElement(XX,{value:h},r):o??null;return ut.createElement("div",q4({},d,{ref:m}),y)}const Qve=P.forwardRef(Mve),jve=Pve(function({position:e,...n},r){const s=new VN.Marker(e,n);return eY(s,Tve(r,{overlayContainer:s}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),Hve=Ove(function({url:e,...n},r){const s=new VN.TileLayer(e,ZX(n,r));return eY(s,r)},function(e,n,r){$ve(e,n,r);const{url:s}=n;s!=null&&s!==r.url&&e.setUrl(s)}),zve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",Vve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let Wve=JX.icon({iconUrl:zve,shadowUrl:Vve,iconSize:[25,41],iconAnchor:[12,41]});JX.Marker.prototype.options.icon=Wve;const Gve=({onLocationSelect:t})=>{const[e,n]=P.useState(null),r=UR();return Uve({click(s){n(s.latlng),t(s.latlng.lat,s.latlng.lng),r.flyTo(s.latlng,r.getZoom())}}),e===null?null:x.jsx(jve,{position:e})},Kve=({center:t})=>{const e=UR();return P.useEffect(()=>{e.flyTo(t,13)},[t,e]),null},qve=({onLocationSelect:t})=>{const[e,n]=P.useState(""),[r,s]=P.useState([20.5937,78.9629]),i=async()=>{if(e)try{const l=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(e)}`)).json();if(l&&l.length>0){const{lat:c,lon:u,display_name:A}=l[0],d=parseFloat(c),h=parseFloat(u);s([d,h]),t(d,h,A)}}catch(a){console.error("Error searching location:",a)}},o=async(a,l)=>{try{const u=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${l}`)).json();u&&(n(u.display_name),t(a,l,u.display_name))}catch(c){console.error("Error reverse geocoding:",c);const u=`${a.toFixed(4)}, ${l.toFixed(4)}`;n(u),t(a,l,u)}};return x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Wo,{placeholder:"Search for a location...",value:e,onChange:a=>n(a.target.value),onKeyDown:a=>a.key==="Enter"&&i()}),x.jsx(Ft,{onClick:i,size:"icon",variant:"secondary",children:x.jsx(W0,{className:"w-4 h-4"})})]}),x.jsxs("div",{className:"h-[300px] w-full rounded-md overflow-hidden border relative z-0",children:[x.jsxs(Qve,{center:r,zoom:5,style:{height:"100%",width:"100%"},children:[x.jsx(Hve,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),x.jsx(Gve,{onLocationSelect:o}),x.jsx(Kve,{center:r})]}),x.jsxs("div",{className:"absolute bottom-2 left-2 right-2 bg-background/80 backdrop-blur-sm p-2 rounded text-xs text-center border pointer-events-none z-[1000]",children:[x.jsx(uu,{className:"w-3 h-3 inline mr-1"}),"Click on the map to set precise location"]})]})]})},Xve=()=>{const{selectedCity:t}=Wx(),{user:e}=If(),{events:n,createEvent:r,joinEvent:s,getMyEvents:i,leaveEvent:o,acceptRequest:a,rejectRequest:l,cancelRequest:c}=_pe(),[u,A]=P.useState("events"),[d,h]=P.useState(""),[p,m]=P.useState(null),[y,g]=P.useState(!1),[v,b]=P.useState({sport:"",date:"",startTime:"",endTime:"",location:"",coordinates:void 0,requiredPlayers:1,description:"",skillLevel:"Intermediate"}),C=($,J,Z)=>{b({...v,location:Z,coordinates:{lat:$,lng:J}})},_=["Cricket","Football","Badminton","Tennis","Pickleball"],I=["Beginner","Intermediate","Advanced","Expert"],T=()=>{if(!v.sport||!v.date||!v.startTime||!v.endTime||!v.location){On.error("Please fill in all required fields");return}r({...v,requiredPlayers:Number(v.requiredPlayers)}),g(!1),On.success("Event created successfully! "),A("my-events")},F=$=>{if(!e){On.error("Please login to join events");return}s($),On.success("Request sent! Waiting for host approval. ")},D=n.filter($=>{const J=!d||$.sport.toLowerCase().includes(d.toLowerCase())||$.location.toLowerCase().includes(d.toLowerCase()),Z=!p||$.sport===p;return J&&Z&&$.status==="Open"}),j=Ave.filter($=>{const J=$.city.toLowerCase()===t.name.toLowerCase(),Z=!d||$.name.toLowerCase().includes(d.toLowerCase()),oe=!p||$.sports.includes(p);return J&&Z&&oe}),O=i(),U=()=>O.hosted.reduce(($,J)=>$+J.pendingRequests.length,0),W=()=>n.filter($=>$.pendingRequests.includes((e==null?void 0:e.id)||"")).length;return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx($m,{}),x.jsx("main",{className:"pt-20 pb-12",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 mb-8",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Community & Events"}),x.jsx("p",{className:"text-muted-foreground",children:"Find games, connect with players, and build your reputation."})]}),e&&x.jsxs(Nwe,{open:y,onOpenChange:g,children:[x.jsx(Iwe,{asChild:!0,children:x.jsxs(Ft,{className:"shadow-lg shadow-primary/20",children:[x.jsx(HB,{className:"w-4 h-4 mr-2"})," Create Event"]})}),x.jsxs(Qq,{className:"max-w-lg max-h-[85vh] overflow-y-auto",children:[x.jsx(jq,{children:x.jsx(Hq,{children:"Create New Event"})}),x.jsxs("div",{className:"space-y-4 py-4",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(qA,{children:"Sport"}),x.jsxs(V4,{onValueChange:$=>b({...v,sport:$}),children:[x.jsx(a_,{children:x.jsx(W4,{placeholder:"Select sport"})}),x.jsx(l_,{children:_.map($=>x.jsx(c_,{value:$,children:$},$))})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(qA,{children:"Skill Level"}),x.jsxs(V4,{onValueChange:$=>b({...v,skillLevel:$}),children:[x.jsx(a_,{children:x.jsx(W4,{placeholder:"Select Level"})}),x.jsx(l_,{children:I.map($=>x.jsx(c_,{value:$,children:$},$))})]})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(qA,{children:"Date"}),x.jsx(Wo,{type:"date",onChange:$=>b({...v,date:$.target.value})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(qA,{children:"Start Time"}),x.jsx(Wo,{type:"time",onChange:$=>b({...v,startTime:$.target.value})})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(qA,{children:"End Time"}),x.jsx(Wo,{type:"time",onChange:$=>b({...v,endTime:$.target.value})})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(qA,{children:"Location / Venue"}),x.jsx(qve,{onLocationSelect:C}),v.location&&x.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Selected: ",v.location]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(qA,{children:"Players Needed"}),x.jsx(Wo,{type:"number",min:"1",placeholder:"1",onChange:$=>b({...v,requiredPlayers:parseInt($.target.value)||1})})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(qA,{children:"Description"}),x.jsx(Wo,{placeholder:"e.g. Looking for intermediate players for doubles",onChange:$=>b({...v,description:$.target.value})})]}),x.jsx(Ft,{className:"w-full",onClick:T,children:"Create Event"})]})]})]})]}),x.jsx("div",{className:"flex justify-center mb-8",children:x.jsx("div",{className:"flex gap-2 p-1 bg-secondary/30 rounded-full",children:[{id:"events",label:"Find Events",icon:W0},{id:"players",label:"Find Players",icon:oA},{id:"my-events",label:"My Events",icon:nu}].map($=>x.jsxs("button",{onClick:()=>A($.id),className:`flex items-center gap-2 px-6 py-2 rounded-full font-medium text-sm transition-all ${u===$.id?"bg-primary text-primary-foreground shadow-md":"hover:bg-background/50 text-muted-foreground"}`,children:[x.jsx($.icon,{className:"w-4 h-4"}),$.label,$.id==="my-events"&&e&&U()>0&&x.jsx("span",{className:"ml-2 bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full",children:U()})]},$.id))})}),u!=="my-events"&&x.jsxs("div",{className:"space-y-4 mb-8",children:[x.jsx("div",{className:"flex gap-4",children:x.jsxs("div",{className:"relative flex-1 max-w-md mx-auto",children:[x.jsx(W0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),x.jsx(Wo,{placeholder:u==="events"?"Search by sport or location...":"Search players...",className:"pl-9 bg-card",value:d,onChange:$=>h($.target.value)})]})}),x.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:_.map($=>x.jsx("button",{className:`px-3 py-1 rounded-full text-xs font-medium border transition-colors ${p===$?"bg-primary text-primary-foreground border-primary":"bg-card hover:border-primary/50 text-muted-foreground"}`,onClick:()=>m(p===$?null:$),children:$},$))})]}),x.jsxs("div",{className:"min-h-[400px]",children:[u==="events"&&x.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[D.map($=>{const J=$.joinedPlayers.includes((e==null?void 0:e.id)||""),Z=$.pendingRequests.includes((e==null?void 0:e.id)||""),oe=(e==null?void 0:e.id)===$.creatorId;return x.jsxs(Ot.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-card border rounded-xl p-5 hover:border-primary/50 transition-all group",children:[x.jsxs("div",{className:"flex justify-between items-start mb-4",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-lg",children:$.sport}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:["Hosted by ",$.creatorName]})]}),x.jsx("span",{className:"bg-primary/10 text-primary text-[10px] uppercase tracking-wider font-bold px-2 py-1 rounded-full",children:$.skillLevel})]}),x.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground mb-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(nu,{className:"w-4 h-4 text-primary/70"}),x.jsx("span",{children:new Date($.date).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(Tp,{className:"w-4 h-4 text-primary/70"}),x.jsxs("span",{children:[$.startTime," - ",$.endTime]})]}),x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx(uu,{className:"w-4 h-4 text-primary/70 mt-1"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"line-clamp-2",children:$.location}),$.coordinates&&x.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${$.coordinates.lat},${$.coordinates.lng}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-blue-500 hover:underline flex items-center gap-1 mt-0.5",children:"View on Map"})]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(oA,{className:"w-4 h-4 text-primary/70"}),x.jsxs("span",{children:[$.joinedPlayers.length," / ",$.requiredPlayers+1," Players"]})]})]}),x.jsx(Ft,{className:`w-full transition-colors group-hover:shadow-lg ${Z?"bg-orange-100 text-orange-600 hover:bg-orange-200":J?"bg-green-100 text-green-600 hover:bg-green-200":""}`,onClick:()=>Z?c($.id):F($.id),disabled:oe||J,children:oe?"You are hosting":J?"Joined":Z?"Pending Approval (Cancel)":"Request to Join"})]},$.id)}),D.length===0&&x.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-16 text-muted-foreground bg-card/50 rounded-2xl border-dashed border-2",children:[x.jsx(gA,{className:"w-12 h-12 mb-4 opacity-20"}),x.jsx("p",{className:"font-medium",children:"No active events found"}),x.jsx("p",{className:"text-sm",children:"Be the first to create one!"})]})]}),u==="players"&&x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map($=>x.jsxs(Ot.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-card border rounded-xl p-6 group hover:shadow-lg transition-all",children:[x.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[x.jsx("img",{src:$.avatar,alt:$.name,className:"w-16 h-16 rounded-full object-cover border-2 border-border group-hover:border-primary transition-colors"}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-lg",children:$.name}),x.jsxs("div",{className:"flex items-center gap-1 text-yellow-500 text-sm font-medium",children:[x.jsx(vh,{className:"w-4 h-4 fill-current"})," ",$.rating," ",x.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",$.matchesPlayed," matches)"]})]}),x.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[x.jsx(uu,{className:"w-3 h-3"})," ",$.city]})]})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[$.sports.map(J=>x.jsx("span",{className:"text-xs font-medium bg-secondary px-2 py-1 rounded",children:J},J)),x.jsx("span",{className:"text-xs font-bold bg-primary/10 text-primary px-2 py-1 rounded",children:$.skillLevel})]}),x.jsx(Ft,{variant:"outline",className:"w-full group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:"Connect"})]},$.id))}),u==="my-events"&&x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[x.jsxs("div",{className:"bg-card border rounded-xl p-6 flex flex-col items-center justify-center text-center group hover:border-primary/50 transition-colors",children:[x.jsx("span",{className:"text-4xl font-bold text-primary mb-1 group-hover:scale-110 transition-transform",children:O.hosted.length}),x.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-widest",children:"Hosting"})]}),x.jsxs("div",{className:"bg-card border rounded-xl p-6 flex flex-col items-center justify-center text-center group hover:border-primary/50 transition-colors",children:[x.jsx("span",{className:"text-4xl font-bold text-orange-500 mb-1 group-hover:scale-110 transition-transform",children:U()+W()}),x.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-widest",children:"Pending Requests"})]}),x.jsxs("div",{className:"bg-card border rounded-xl p-6 flex flex-col items-center justify-center text-center group hover:border-primary/50 transition-colors",children:[x.jsx("span",{className:"text-4xl font-bold text-blue-500 mb-1 group-hover:scale-110 transition-transform",children:O.joined.length}),x.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-widest",children:"Joining"})]}),x.jsxs("div",{className:"bg-card border rounded-xl p-6 flex flex-col items-center justify-center text-center group hover:border-primary/50 transition-colors",children:[x.jsx("span",{className:"text-4xl font-bold text-slate-500 mb-1 group-hover:scale-110 transition-transform",children:"1"}),x.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-widest",children:"Past"})]})]}),x.jsxs(Nve,{defaultValue:"hosting",className:"w-full",children:[x.jsxs(KX,{className:"w-full justify-start bg-transparent border-b rounded-none p-0 h-auto gap-6",children:[x.jsxs(nB,{value:"hosting",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-0 pb-2 text-muted-foreground data-[state=active]:text-foreground",children:["Events I Created ",x.jsx("span",{className:"ml-2 bg-primary/10 text-primary text-xs px-2 py-0.5 rounded-full",children:O.hosted.length})]}),x.jsxs(nB,{value:"joined",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-0 pb-2 text-muted-foreground data-[state=active]:text-foreground",children:["Events I Joined ",x.jsx("span",{className:"ml-2 bg-blue-500/10 text-blue-600 text-xs px-2 py-0.5 rounded-full",children:O.joined.length})]}),x.jsxs(nB,{value:"pending",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-0 pb-2 text-muted-foreground data-[state=active]:text-foreground",children:["My Pending Requests ",x.jsx("span",{className:"ml-2 bg-orange-500/10 text-orange-600 text-xs px-2 py-0.5 rounded-full",children:W()})]})]}),x.jsxs(rB,{value:"hosting",className:"mt-6 space-y-4",children:[O.hosted.map($=>x.jsxs("div",{className:"bg-card border rounded-xl p-4 gap-6 group hover:border-primary/30 transition-all",children:[x.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 mb-4",children:[x.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center text-primary shrink-0",children:x.jsx(gA,{className:"w-6 h-6"})}),x.jsxs("div",{className:"flex-1 text-center md:text-left",children:[x.jsxs("h4",{className:"font-bold text-lg",children:[$.sport," ",x.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",$.joinedPlayers.length,"/",$.requiredPlayers+1,")"]})]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3 text-sm text-muted-foreground mt-1",children:[x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(nu,{className:"w-3 h-3"})," ",new Date($.date).toLocaleDateString()]}),x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(Tp,{className:"w-3 h-3"})," ",$.startTime," - ",$.endTime]})]})]}),x.jsx("div",{className:"flex items-center gap-3",children:x.jsx("span",{className:"text-xs font-bold bg-secondary px-3 py-1 rounded-full",children:$.status})})]}),$.pendingRequests.length>0&&x.jsxs("div",{className:"bg-orange-50/50 border border-orange-100 rounded-lg p-3 mt-4",children:[x.jsxs("h5",{className:"text-xs font-bold text-orange-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[x.jsx(oA,{className:"w-3 h-3"})," ",$.pendingRequests.length," Pending Requests"]}),x.jsx("div",{className:"space-y-2",children:$.pendingRequests.map(J=>x.jsxs("div",{className:"flex items-center justify-between bg-white/50 p-2 rounded-md",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-xs font-bold",children:"U"}),x.jsxs("span",{className:"text-sm font-medium",children:["User ",J]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Ft,{size:"sm",variant:"outline",className:"h-8 w-8 p-0 text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>l($.id,J),children:x.jsx(jx,{className:"w-4 h-4"})}),x.jsx(Ft,{size:"sm",className:"h-8 w-8 p-0 bg-green-500 hover:bg-green-600",onClick:()=>a($.id,J),children:x.jsx(uG,{className:"w-4 h-4"})})]})]},J))})]})]},$.id)),O.hosted.length===0&&x.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-xl",children:[x.jsx("p",{children:"You haven't created any events yet."}),x.jsx(Ft,{variant:"link",onClick:()=>g(!0),className:"text-primary",children:"Create one now"})]})]}),x.jsxs(rB,{value:"joined",className:"mt-6 space-y-4",children:[O.joined.map($=>x.jsxs("div",{className:"bg-card border rounded-xl p-4 flex flex-col md:flex-row items-center gap-6 group hover:border-blue-500/30 transition-all",children:[x.jsx("div",{className:"w-12 h-12 bg-blue-500/10 rounded-full flex items-center justify-center text-blue-600",children:x.jsx(Vue,{className:"w-6 h-6"})}),x.jsxs("div",{className:"flex-1 text-center md:text-left",children:[x.jsx("h4",{className:"font-bold text-lg",children:$.sport}),x.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:["Hosted by ",$.creatorName]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3 text-sm text-muted-foreground",children:[x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(nu,{className:"w-3 h-3"})," ",new Date($.date).toLocaleDateString()]}),x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(Tp,{className:"w-3 h-3"})," ",$.startTime," - ",$.endTime]})]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"bg-blue-50 text-blue-600 text-xs font-bold px-3 py-1 rounded-full",children:"Joined"}),x.jsx(Ft,{variant:"outline",className:"text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>o($.id),children:"Leave"})]})]},$.id)),O.joined.length===0&&x.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-xl",children:[x.jsx("p",{children:"You haven't joined any events yet."}),x.jsx(Ft,{variant:"link",onClick:()=>A("events"),className:"text-primary",children:"Find events"})]})]}),x.jsxs(rB,{value:"pending",className:"mt-6 space-y-4",children:[n.filter($=>$.pendingRequests.includes((e==null?void 0:e.id)||"")).map($=>x.jsxs("div",{className:"bg-card border rounded-xl p-4 flex flex-col md:flex-row items-center gap-6 group hover:border-orange-500/30 transition-all",children:[x.jsx("div",{className:"w-12 h-12 bg-orange-500/10 rounded-full flex items-center justify-center text-orange-600",children:x.jsx(Due,{className:"w-6 h-6"})}),x.jsxs("div",{className:"flex-1 text-center md:text-left",children:[x.jsx("h4",{className:"font-bold text-lg",children:$.sport}),x.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:["Hosted by ",$.creatorName]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3 text-sm text-muted-foreground",children:[x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(nu,{className:"w-3 h-3"})," ",new Date($.date).toLocaleDateString()]}),x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(Tp,{className:"w-3 h-3"})," ",$.startTime," - ",$.endTime]})]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"bg-orange-50 text-orange-600 text-xs font-bold px-3 py-1 rounded-full",children:"Request Sent"}),x.jsx(Ft,{variant:"outline",className:"text-muted-foreground hover:bg-secondary",onClick:()=>c($.id),children:"Cancel"})]})]},$.id)),n.filter($=>$.pendingRequests.includes((e==null?void 0:e.id)||"")).length===0&&x.jsx("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-xl",children:x.jsx("p",{children:"You have no pending join requests."})})]})]})]})]})]})}),x.jsx(_y,{}),x.jsx(Ny,{})]})},Yve=[{id:"t001",name:"Ahmedabad Premier Cricket League",sport:"Cricket",image:"https://images.unsplash.com/photo-1531415074968-036ba1b575da?w=800&auto=format&fit=crop",city:"Ahmedabad",venue:"Elite Cricket Arena, Satellite",date:"2025-02-15",time:"08:00 AM",entryFee:5e3,prizePool:1e5,maxTeams:16,registeredTeams:12,format:"T20",description:"The biggest cricket tournament in Ahmedabad! Teams from across the city compete for glory and massive prizes.",rules:["Team of 11 players + 4 substitutes","20 overs per side","DRS not available","Matches start sharp at scheduled time"],prizes:[{position:"1st",prize:"50,000 + Trophy"},{position:"2nd",prize:"25,000"},{position:"3rd",prize:"15,000"},{position:"Best Batsman",prize:"5,000"},{position:"Best Bowler",prize:"5,000"}],organizer:"PlayPal Sports",contactPhone:"+91 98765 11111",status:"Registration Open",registrationDeadline:"2025-02-10"},{id:"t002",name:"Gujarat Badminton Open",sport:"Badminton",image:"https://images.unsplash.com/photo-1626224583764-f87db24ac4ea?w=800&auto=format&fit=crop",city:"Ahmedabad",venue:"Shuttle Masters, Prahladnagar",date:"2025-02-08",time:"09:00 AM",entryFee:500,prizePool:25e3,maxTeams:64,registeredTeams:48,format:"Singles & Doubles",description:"Open badminton tournament for all skill levels. Separate categories for beginners and advanced players.",rules:["BWF rules apply","Best of 3 games","21 points per game","Own equipment required"],prizes:[{position:"Singles Winner",prize:"10,000 + Trophy"},{position:"Singles Runner-up",prize:"5,000"},{position:"Doubles Winner",prize:"6,000"},{position:"Doubles Runner-up",prize:"4,000"}],organizer:"Shuttle Masters Academy",contactPhone:"+91 98765 22222",status:"Registration Open",registrationDeadline:"2025-02-05"},{id:"t003",name:"5-A-Side Football Championship",sport:"Football",image:"https://images.unsplash.com/photo-1529900748604-07564a03e7a6?w=800&auto=format&fit=crop",city:"Surat",venue:"Diamond City Ground, Vesu",date:"2025-02-22",time:"06:00 PM",entryFee:3e3,prizePool:5e4,maxTeams:12,registeredTeams:8,format:"5-a-Side",description:"Fast-paced 5-a-side football tournament under floodlights. Perfect for corporate teams and friend groups!",rules:["5 players per team + 3 substitutes","20 minutes per half","Rolling substitutions","No offside rule"],prizes:[{position:"1st",prize:"25,000 + Trophy"},{position:"2nd",prize:"15,000"},{position:"3rd",prize:"10,000"}],organizer:"Surat Sports Club",contactPhone:"+91 98765 33333",status:"Registration Open",registrationDeadline:"2025-02-18"},{id:"t004",name:"Tennis Masters Vadodara",sport:"Tennis",image:"https://images.unsplash.com/photo-1622279457486-62dcc4a431d6?w=800&auto=format&fit=crop",city:"Vadodara",venue:"Baroda Sports Club",date:"2025-03-01",time:"07:00 AM",entryFee:1e3,prizePool:4e4,maxTeams:32,registeredTeams:18,format:"Singles",description:"Prestigious tennis tournament attracting players from across Gujarat.",rules:["ITF rules apply","Best of 3 sets","Tie-break at 6-6","White dress code preferred"],prizes:[{position:"Winner",prize:"20,000 + Trophy"},{position:"Runner-up",prize:"12,000"},{position:"Semi-finalists",prize:"4,000 each"}],organizer:"Vadodara Tennis Association",contactPhone:"+91 98765 44444",status:"Upcoming",registrationDeadline:"2025-02-25"},{id:"t005",name:"Corporate Cricket Cup",sport:"Cricket",image:"https://images.unsplash.com/photo-1540747913346-19e32dc3e97e?w=800&auto=format&fit=crop",city:"Gandhinagar",venue:"Capital Sports Arena",date:"2025-02-28",time:"08:00 AM",entryFee:8e3,prizePool:15e4,maxTeams:8,registeredTeams:6,format:"T10",description:"Exclusive tournament for corporate teams. Network while you play!",rules:["Corporate teams only","10 overs per side","Team of 8 players","Company ID required"],prizes:[{position:"1st",prize:"75,000 + Trophy"},{position:"2nd",prize:"40,000"},{position:"3rd",prize:"25,000"},{position:"MVP",prize:"10,000"}],organizer:"PlayPal Corporate",contactPhone:"+91 98765 55555",status:"Registration Open",registrationDeadline:"2025-02-22"},{id:"t006",name:"Pickleball Premiere League",sport:"Pickleball",image:"https://images.unsplash.com/photo-1554068865-24cecd4e34b8?w=800&auto=format&fit=crop",city:"Ahmedabad",venue:"Pickle Point Arena, Vastrapur",date:"2025-02-12",time:"10:00 AM",entryFee:300,prizePool:15e3,maxTeams:32,registeredTeams:24,format:"Doubles",description:"Gujarat's first major pickleball tournament! Perfect for beginners and enthusiasts.",rules:["USA Pickleball rules","Best of 3 games to 11","Paddles provided if needed","Mixed doubles category available"],prizes:[{position:"Winners",prize:"8,000 + Trophy"},{position:"Runners-up",prize:"4,000"},{position:"3rd Place",prize:"3,000"}],organizer:"Pickle Point Academy",contactPhone:"+91 98765 66666",status:"Registration Open",registrationDeadline:"2025-02-08"},{id:"t007",name:"Rajkot Football League",sport:"Football",image:"https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&auto=format&fit=crop",city:"Rajkot",venue:"Race Course Sports Club",date:"2025-03-10",time:"05:00 PM",entryFee:4e3,prizePool:6e4,maxTeams:10,registeredTeams:4,format:"7-a-Side",description:"Premier football league in Rajkot. League format with playoffs!",rules:["7 players per team","League + Knockout format","25 minutes per half","Yellow/Red card system"],prizes:[{position:"Champions",prize:"30,000 + Trophy"},{position:"Runners-up",prize:"18,000"},{position:"3rd Place",prize:"12,000"}],organizer:"Rajkot Football Club",contactPhone:"+91 98765 77777",status:"Upcoming",registrationDeadline:"2025-03-05"},{id:"t008",name:"Women's Badminton Championship",sport:"Badminton",image:"https://images.unsplash.com/photo-1613918431703-aa50889e3be4?w=800&auto=format&fit=crop",city:"Surat",venue:"Smash Badminton Hub, Adajan",date:"2025-02-20",time:"09:00 AM",entryFee:400,prizePool:2e4,maxTeams:48,registeredTeams:32,format:"Singles & Doubles",description:"Exclusive women's badminton tournament to encourage female participation in sports.",rules:["Women only","Age categories: U-18, Open, 35+","BWF rules apply","Medals for all finalists"],prizes:[{position:"Open Singles",prize:"8,000"},{position:"Open Doubles",prize:"6,000"},{position:"U-18 Winner",prize:"3,000"},{position:"35+ Winner",prize:"3,000"}],organizer:"Gujarat Women Sports Association",contactPhone:"+91 98765 88888",status:"Registration Open",registrationDeadline:"2025-02-15"}],Zve=()=>{const t=la();Wx();const{isAuthenticated:e}=If(),[n,r]=P.useState(null),s=["Cricket","Football","Badminton","Tennis","Pickleball"],i=Yve.filter(a=>!n||a.sport===n),o=a=>{if(!e){On.error("Please login to register"),t("/login");return}On.success(`Registered for ${a}! `)};return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx($m,{}),x.jsx("main",{className:"pt-20 pb-12",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs("div",{className:"mb-8",children:[x.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Tournaments"}),x.jsx("p",{className:"text-muted-foreground",children:"Compete, win, and earn rewards"})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[x.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium ${n?"bg-secondary":"bg-primary text-primary-foreground"}`,onClick:()=>r(null),children:"All Sports"}),s.map(a=>x.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium ${n===a?"bg-primary text-primary-foreground":"bg-secondary"}`,onClick:()=>r(a),children:a},a))]}),x.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:i.map((a,l)=>x.jsxs(Ot.div,{className:"bg-card border rounded-xl overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.05},children:[x.jsxs("div",{className:"relative h-48",children:[x.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),x.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[x.jsx("span",{className:"px-2 py-1 bg-primary text-primary-foreground rounded text-xs font-medium",children:a.sport}),x.jsx("h3",{className:"text-white font-bold text-xl mt-2",children:a.name})]}),x.jsx("div",{className:"absolute top-4 right-4 px-3 py-1 bg-accent text-accent-foreground rounded-full text-sm font-medium",children:a.status})]}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx(nu,{className:"w-4 h-4 text-primary"}),new Date(a.date).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short"})]}),x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx(Tp,{className:"w-4 h-4 text-primary"}),a.time]}),x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx(uu,{className:"w-4 h-4 text-primary"}),a.city]}),x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx(oA,{className:"w-4 h-4 text-primary"}),a.registeredTeams,"/",a.maxTeams," teams"]})]}),x.jsxs("div",{className:"flex items-center justify-between p-4 bg-secondary rounded-lg mb-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-muted-foreground",children:"Entry Fee"}),x.jsxs("p",{className:"font-bold flex items-center",children:[x.jsx(hG,{className:"w-4 h-4"}),a.entryFee]})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-sm text-muted-foreground",children:"Prize Pool"}),x.jsxs("p",{className:"font-bold text-primary flex items-center justify-end",children:[x.jsx(gA,{className:"w-4 h-4 mr-1"}),"",a.prizePool.toLocaleString()]})]})]}),x.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:a.description}),x.jsx(Ft,{className:"w-full",onClick:()=>o(a.name),disabled:a.registeredTeams>=a.maxTeams,children:a.registeredTeams>=a.maxTeams?"Fully Booked":"Register Now"})]})]},a.id))})]})}),x.jsx(_y,{}),x.jsx(Ny,{})]})},Jve=()=>{const t=la(),{user:e,logout:n}=If(),{getBookingsByVenue:r,addBooking:s,getAvailableSlots:i}=FN(),[o,a]=P.useState(new Date().toISOString().split("T")[0]),[l,c]=P.useState(!1),[u,A]=P.useState({name:"",phone:"",slot:""});if(!e||e.role!=="turf_owner")return t("/login"),null;const d=e,h=BK(d.turfId),p=r(d.turfId),m=p.filter(_=>_.date===o&&_.status!=="Cancelled"),y=i(d.turfId,o),g=p.filter(_=>_.status==="Completed"||_.status==="Confirmed").reduce((_,I)=>_+I.totalAmount,0),v=m.reduce((_,I)=>_+I.totalAmount,0),b=()=>{if(!u.name||!u.phone||!u.slot){On.error("Please fill all fields");return}s({venueId:d.turfId,venueName:(h==null?void 0:h.name)||d.turfName,sport:(h==null?void 0:h.sports[0])||"Cricket",date:o,timeSlot:u.slot,duration:1,totalAmount:(h==null?void 0:h.pricePerHour)||1e3,paidAmount:(h==null?void 0:h.pricePerHour)||1e3,remainingAmount:0,status:"Confirmed",userId:"manual",userName:u.name,userPhone:u.phone,isManual:!0}),On.success("Booking added successfully!"),A({name:"",phone:"",slot:""}),c(!1)},C=Array.from({length:7},(_,I)=>{const T=new Date;return T.setDate(T.getDate()+I),T.toISOString().split("T")[0]});return x.jsxs("div",{className:"min-h-screen bg-background",children:[x.jsx("header",{className:"bg-card border-b sticky top-0 z-40",children:x.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between gap-4",children:[x.jsxs("div",{className:"flex items-center gap-2 md:gap-4 overflow-hidden",children:[x.jsxs("span",{className:"text-xl font-bold shrink-0",children:[x.jsx("span",{className:"text-foreground",children:"P"}),x.jsx("span",{className:"text-primary",children:"l"}),x.jsx("span",{className:"hidden md:inline text-foreground",children:"ayPal"})]}),x.jsx("span",{className:"text-muted-foreground shrink-0",children:"|"}),x.jsx("span",{className:"font-medium truncate",children:d.turfName})]}),x.jsxs(Ft,{variant:"outline",size:"sm",onClick:()=>{n(),t("/")},className:"shrink-0",children:[x.jsx(fG,{className:"w-4 h-4 md:mr-2"}),x.jsx("span",{className:"hidden md:inline",children:"Logout"})]})]})}),x.jsxs("main",{className:"container mx-auto px-4 py-8",children:[x.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[x.jsxs("div",{className:"bg-card border rounded-xl p-4 md:p-6",children:[x.jsx("p",{className:"text-muted-foreground text-xs md:text-sm",children:"Today's Bookings"}),x.jsx("p",{className:"text-2xl md:text-3xl font-bold",children:m.length})]}),x.jsxs("div",{className:"bg-card border rounded-xl p-4 md:p-6",children:[x.jsx("p",{className:"text-muted-foreground text-xs md:text-sm",children:"Today's Revenue"}),x.jsxs("p",{className:"text-2xl md:text-3xl font-bold text-primary",children:["",v.toLocaleString()]})]}),x.jsxs("div",{className:"bg-card border rounded-xl p-4 md:p-6",children:[x.jsx("p",{className:"text-muted-foreground text-xs md:text-sm",children:"Total Bookings"}),x.jsx("p",{className:"text-2xl md:text-3xl font-bold",children:p.length})]}),x.jsxs("div",{className:"bg-card border rounded-xl p-4 md:p-6",children:[x.jsx("p",{className:"text-muted-foreground text-xs md:text-sm",children:"Total Revenue"}),x.jsxs("p",{className:"text-2xl md:text-3xl font-bold text-primary",children:["",g.toLocaleString()]})]})]}),x.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[x.jsxs("div",{className:"lg:col-span-2",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[x.jsx("h2",{className:"text-xl font-bold",children:"Booking Calendar"}),x.jsxs(Ft,{onClick:()=>c(!0),className:"w-full sm:w-auto",children:[x.jsx(HB,{className:"w-4 h-4 mr-2"}),"Add Manual Booking"]})]}),x.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:C.map(_=>{const I=new Date(_),T=p.filter(F=>F.date===_&&F.status!=="Cancelled").length;return x.jsxs("button",{className:`flex-shrink-0 px-4 py-3 rounded-xl text-center min-w-[80px] ${o===_?"bg-primary text-primary-foreground":"bg-card border"}`,onClick:()=>a(_),children:[x.jsx("div",{className:"text-xs",children:I.toLocaleDateString("en",{weekday:"short"})}),x.jsx("div",{className:"text-xl font-bold",children:I.getDate()}),x.jsxs("div",{className:"text-xs mt-1",children:[T," bookings"]})]},_)})}),x.jsxs("div",{className:"bg-card border rounded-xl p-6",children:[x.jsx("h3",{className:"font-semibold mb-4",children:"Time Slots"}),x.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:y.map(_=>{const I=m.find(T=>T.timeSlot===_.time);return x.jsxs("div",{className:`p-3 rounded-lg text-center ${I?"bg-primary/10 border-primary border":"bg-secondary"}`,children:[x.jsx("div",{className:"font-medium",children:_.time}),I&&x.jsx("div",{className:"text-xs mt-1 text-primary truncate",children:I.userName})]},_.time)})})]})]}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-bold mb-4",children:"Today's Schedule"}),x.jsx("div",{className:"space-y-3",children:m.length>0?m.map(_=>x.jsxs("div",{className:"bg-card border rounded-xl p-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"font-semibold",children:_.timeSlot}),x.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${_.isManual?"bg-accent/10 text-accent":"bg-primary/10 text-primary"}`,children:_.isManual?"Walk-in":"Online"})]}),x.jsx("p",{className:"font-medium",children:_.userName}),x.jsx("p",{className:"text-sm text-muted-foreground",children:_.userPhone}),x.jsxs("p",{className:"text-sm text-primary mt-1",children:["",_.paidAmount," paid"]})]},_.id)):x.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[x.jsx(nu,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),x.jsx("p",{children:"No bookings for this day"})]})})]})]}),l&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs(Ot.div,{className:"bg-card rounded-xl p-6 w-full max-w-md",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[x.jsx("h3",{className:"text-xl font-bold mb-4",children:"Add Manual Booking"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Customer Name"}),x.jsx(Wo,{value:u.name,onChange:_=>A({...u,name:_.target.value}),placeholder:"Enter customer name"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Phone Number"}),x.jsx(Wo,{value:u.phone,onChange:_=>A({...u,phone:_.target.value}),placeholder:"Enter phone number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Time Slot"}),x.jsxs("select",{className:"w-full h-10 px-3 rounded-md border bg-background",value:u.slot,onChange:_=>A({...u,slot:_.target.value}),children:[x.jsx("option",{value:"",children:"Select a slot"}),y.filter(_=>_.isAvailable).map(_=>x.jsx("option",{value:_.time,children:_.time},_.time))]})]})]}),x.jsxs("div",{className:"flex gap-3 mt-6",children:[x.jsx(Ft,{variant:"outline",className:"flex-1",onClick:()=>c(!1),children:"Cancel"}),x.jsx(Ft,{className:"flex-1",onClick:b,children:"Add Booking"})]})]})})]})]})},rY=P.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:tr("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));rY.displayName="Card";const exe=P.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:tr("flex flex-col space-y-1.5 p-6",t),...e}));exe.displayName="CardHeader";const txe=P.forwardRef(({className:t,...e},n)=>x.jsx("h3",{ref:n,className:tr("text-2xl font-semibold leading-none tracking-tight",t),...e}));txe.displayName="CardTitle";const nxe=P.forwardRef(({className:t,...e},n)=>x.jsx("p",{ref:n,className:tr("text-sm text-muted-foreground",t),...e}));nxe.displayName="CardDescription";const sY=P.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:tr("p-6 pt-0",t),...e}));sY.displayName="CardContent";const iY=P.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:tr("flex items-center p-6 pt-0",t),...e}));iY.displayName="CardFooter";var rxe="Separator",GQ="horizontal",sxe=["horizontal","vertical"],oY=P.forwardRef((t,e)=>{const{decorative:n,orientation:r=GQ,...s}=t,i=ixe(r)?r:GQ,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return x.jsx(In.div,{"data-orientation":i,...a,...s,ref:e})});oY.displayName=rxe;function ixe(t){return sxe.includes(t)}var aY=oY;const X4=P.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>x.jsx(aY,{ref:s,decorative:n,orientation:e,className:tr("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));X4.displayName=aY.displayName;function wu(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function fm(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const lY=6048e5,oxe=864e5;let axe={};function WN(){return axe}function ex(t,e){var a,l,c,u;const n=WN(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=wu(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function u_(t){return ex(t,{weekStartsOn:1})}function cY(t){const e=wu(t),n=e.getFullYear(),r=fm(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=u_(r),i=fm(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=u_(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function KQ(t){const e=wu(t);return e.setHours(0,0,0,0),e}function qQ(t){const e=wu(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function lxe(t,e){const n=KQ(t),r=KQ(e),s=+n-qQ(n),i=+r-qQ(r);return Math.round((s-i)/oxe)}function cxe(t){const e=cY(t),n=fm(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),u_(n)}function uxe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Axe(t){if(!uxe(t)&&typeof t!="number")return!1;const e=wu(t);return!isNaN(Number(e))}function dxe(t){const e=wu(t),n=fm(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const hxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fxe=(t,e,n)=>{let r;const s=hxe[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function zT(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const pxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yxe={date:zT({formats:pxe,defaultWidth:"full"}),time:zT({formats:mxe,defaultWidth:"full"}),dateTime:zT({formats:gxe,defaultWidth:"full"})},wxe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vxe=(t,e,n,r)=>wxe[t];function fw(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const xxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bxe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Cxe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Sxe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Bxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_xe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Nxe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ixe={ordinalNumber:Nxe,era:fw({values:xxe,defaultWidth:"wide"}),quarter:fw({values:bxe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:fw({values:Cxe,defaultWidth:"wide"}),day:fw({values:Sxe,defaultWidth:"wide"}),dayPeriod:fw({values:Bxe,defaultWidth:"wide",formattingValues:_xe,defaultFormattingWidth:"wide"})};function pw(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?kxe(a,A=>A.test(o)):Exe(a,A=>A.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function Exe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function kxe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Txe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const Fxe=/^(\d+)(th|st|nd|rd)?/i,Lxe=/\d+/i,Dxe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Rxe={any:[/^b/i,/^(a|c)/i]},Pxe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Oxe={any:[/1/i,/2/i,/3/i,/4/i]},$xe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Uxe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Mxe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Qxe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jxe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Hxe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zxe={ordinalNumber:Txe({matchPattern:Fxe,parsePattern:Lxe,valueCallback:t=>parseInt(t,10)}),era:pw({matchPatterns:Dxe,defaultMatchWidth:"wide",parsePatterns:Rxe,defaultParseWidth:"any"}),quarter:pw({matchPatterns:Pxe,defaultMatchWidth:"wide",parsePatterns:Oxe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:pw({matchPatterns:$xe,defaultMatchWidth:"wide",parsePatterns:Uxe,defaultParseWidth:"any"}),day:pw({matchPatterns:Mxe,defaultMatchWidth:"wide",parsePatterns:Qxe,defaultParseWidth:"any"}),dayPeriod:pw({matchPatterns:jxe,defaultMatchWidth:"any",parsePatterns:Hxe,defaultParseWidth:"any"})},Vxe={code:"en-US",formatDistance:fxe,formatLong:yxe,formatRelative:vxe,localize:Ixe,match:zxe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Wxe(t){const e=wu(t);return lxe(e,dxe(e))+1}function Gxe(t){const e=wu(t),n=+u_(e)-+cxe(e);return Math.round(n/lY)+1}function uY(t,e){var u,A,d,h;const n=wu(t),r=n.getFullYear(),s=WN(),i=(e==null?void 0:e.firstWeekContainsDate)??((A=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:A.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(d=s.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=fm(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=ex(o,e),l=fm(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=ex(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Kxe(t,e){var a,l,c,u;const n=WN(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,s=uY(t,e),i=fm(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),ex(i,e)}function qxe(t,e){const n=wu(t),r=+ex(n,e)-+Kxe(n,e);return Math.round(r/lY)+1}function vr(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const oh={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return vr(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):vr(n+1,2)},d(t,e){return vr(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return vr(t.getHours()%12||12,e.length)},H(t,e){return vr(t.getHours(),e.length)},m(t,e){return vr(t.getMinutes(),e.length)},s(t,e){return vr(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return vr(s,e.length)}},bg={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XQ={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return oh.y(t,e)},Y:function(t,e,n,r){const s=uY(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return vr(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):vr(i,e.length)},R:function(t,e){const n=cY(t);return vr(n,e.length)},u:function(t,e){const n=t.getFullYear();return vr(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return vr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return vr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return oh.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return vr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=qxe(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):vr(s,e.length)},I:function(t,e,n){const r=Gxe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):vr(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):oh.d(t,e)},D:function(t,e,n){const r=Wxe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):vr(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return vr(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return vr(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return vr(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=bg.noon:r===0?s=bg.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=bg.evening:r>=12?s=bg.afternoon:r>=4?s=bg.morning:s=bg.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return oh.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):oh.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):vr(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):vr(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):oh.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):oh.s(t,e)},S:function(t,e){return oh.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return ZQ(r);case"XXXX":case"XX":return mp(r);case"XXXXX":case"XXX":default:return mp(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return ZQ(r);case"xxxx":case"xx":return mp(r);case"xxxxx":case"xxx":default:return mp(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+YQ(r,":");case"OOOO":default:return"GMT"+mp(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+YQ(r,":");case"zzzz":default:return"GMT"+mp(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return vr(r,e.length)},T:function(t,e,n){const r=t.getTime();return vr(r,e.length)}};function YQ(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+vr(i,2)}function ZQ(t,e){return t%60===0?(t>0?"-":"+")+vr(Math.abs(t)/60,2):mp(t,e)}function mp(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=vr(Math.trunc(r/60),2),i=vr(r%60,2);return n+s+e+i}const JQ=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},AY=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Xxe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return JQ(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",JQ(r,e)).replace("{{time}}",AY(s,e))},Yxe={p:AY,P:Xxe},Zxe=/^D+$/,Jxe=/^Y+$/,ebe=["D","DD","YY","YYYY"];function tbe(t){return Zxe.test(t)}function nbe(t){return Jxe.test(t)}function rbe(t,e,n){const r=sbe(t,e,n);if(console.warn(r),ebe.includes(t))throw new RangeError(r)}function sbe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ibe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,obe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,abe=/^'([^]*?)'?$/,lbe=/''/g,cbe=/[a-zA-Z]/;function ej(t,e,n){var u,A,d,h;const r=WN(),s=r.locale??Vxe,i=r.firstWeekContainsDate??((A=(u=r.locale)==null?void 0:u.options)==null?void 0:A.firstWeekContainsDate)??1,o=r.weekStartsOn??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,a=wu(t);if(!Axe(a))throw new RangeError("Invalid time value");let l=e.match(obe).map(p=>{const m=p[0];if(m==="p"||m==="P"){const y=Yxe[m];return y(p,s.formatLong)}return p}).join("").match(ibe).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const m=p[0];if(m==="'")return{isToken:!1,value:ube(p)};if(XQ[m])return{isToken:!0,value:p};if(m.match(cbe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(p=>{if(!p.isToken)return p.value;const m=p.value;(nbe(m)||tbe(m))&&rbe(m,e,String(t));const y=XQ[m[0]];return y(a,m,s.localize,c)}).join("")}function ube(t){const e=t.match(abe);return e?e[1].replace(lbe,"'"):t}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Y4=function(t,e){return Y4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Y4(t,e)};function vu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Y4(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Z4=function(){return Z4=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Z4.apply(this,arguments)};function Ho(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(A){o(A)}}function l(u){try{c(r.throw(u))}catch(A){o(A)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function xo(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function QC(t,e,n){if(arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||e)}var wd=function(){function t(e,n,r,s){this.left=e,this.top=n,this.width=r,this.height=s}return t.prototype.add=function(e,n,r,s){return new t(this.left+e,this.top+n,this.width+r,this.height+s)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(s){return s.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),GN=function(t,e){return wd.fromClientRect(t,e.getBoundingClientRect())},Abe=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),s=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new wd(0,0,r,s)},KN=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},Us=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var o=t[s];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},tj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dbe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jC=0;jC<tj.length;jC++)dbe[tj.charCodeAt(jC)]=jC;var nj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ow=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var HC=0;HC<nj.length;HC++)Ow[nj.charCodeAt(HC)]=HC;var hbe=function(t){var e=t.length*.75,n=t.length,r,s=0,i,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)i=Ow[t.charCodeAt(r)],o=Ow[t.charCodeAt(r+1)],a=Ow[t.charCodeAt(r+2)],l=Ow[t.charCodeAt(r+3)],u[s++]=i<<2|o>>4,u[s++]=(o&15)<<4|a>>2,u[s++]=(a&3)<<6|l&63;return c},fbe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},pbe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Xp=5,MR=11,VT=2,mbe=MR-Xp,dY=65536>>Xp,gbe=1<<Xp,WT=gbe-1,ybe=1024>>Xp,wbe=dY+ybe,vbe=wbe,xbe=32,bbe=vbe+xbe,Cbe=65536>>MR,Sbe=1<<mbe,Bbe=Sbe-1,rj=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},_be=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},Nbe=function(t,e){var n=hbe(t),r=Array.isArray(n)?pbe(n):new Uint32Array(n),s=Array.isArray(n)?fbe(n):new Uint16Array(n),i=24,o=rj(s,i/2,r[4]/2),a=r[5]===2?rj(s,(i+r[4])/2):_be(r,Math.ceil((i+r[4])/4));return new Ibe(r[0],r[1],r[2],r[3],o,a)},Ibe=function(){function t(e,n,r,s,i,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Xp],n=(n<<VT)+(e&WT),this.data[n];if(e<=65535)return n=this.index[dY+(e-55296>>Xp)],n=(n<<VT)+(e&WT),this.data[n];if(e<this.highStart)return n=bbe-Cbe+(e>>MR),n=this.index[n],n+=e>>Xp&Bbe,n=this.index[n],n=(n<<VT)+(e&WT),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),sj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ebe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var zC=0;zC<sj.length;zC++)Ebe[sj.charCodeAt(zC)]=zC;var kbe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",ij=50,Tbe=1,hY=2,fY=3,Fbe=4,Lbe=5,oj=7,pY=8,aj=9,Th=10,J4=11,lj=12,e3=13,Dbe=14,$w=15,t3=16,VC=17,mw=18,Rbe=19,cj=20,n3=21,gw=22,GT=23,Cg=24,nl=25,Uw=26,Mw=27,Sg=28,Pbe=29,xp=30,Obe=31,WC=32,GC=33,r3=34,s3=35,i3=36,tx=37,o3=38,sB=39,iB=40,KT=41,mY=42,$be=43,Ube=[9001,65288],gY="!",zn="",KC="",a3=Nbe(kbe),zA=[xp,i3],l3=[Tbe,hY,fY,Lbe],yY=[Th,pY],uj=[Mw,Uw],Mbe=l3.concat(yY),Aj=[o3,sB,iB,r3,s3],Qbe=[$w,e3],jbe=function(t,e){e===void 0&&(e="strict");var n=[],r=[],s=[];return t.forEach(function(i,o){var a=a3.get(i);if(a>ij?(s.push(!0),a-=ij):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(o),n.push(t3);if(a===Fbe||a===J4){if(o===0)return r.push(o),n.push(xp);var l=n[o-1];return Mbe.indexOf(l)===-1?(r.push(r[o-1]),n.push(l)):(r.push(o),n.push(xp))}if(r.push(o),a===Obe)return n.push(e==="strict"?n3:tx);if(a===mY||a===Pbe)return n.push(xp);if(a===$be)return i>=131072&&i<=196605||i>=196608&&i<=262141?n.push(tx):n.push(xp);n.push(a)}),[r,n,s]},qT=function(t,e,n,r){var s=r[n];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=n;i<=r.length;){i++;var o=r[i];if(o===e)return!0;if(o!==Th)break}if(s===Th)for(var i=n;i>0;){i--;var a=r[i];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var l=n;l<=r.length;){l++;var o=r[l];if(o===e)return!0;if(o!==Th)break}if(a!==Th)break}return!1},dj=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===Th)n--;else return r}return 0},Hbe=function(t,e,n,r,s){if(n[r]===0)return zn;var i=r-1;if(Array.isArray(s)&&s[i]===!0)return zn;var o=i-1,a=i+1,l=e[i],c=o>=0?e[o]:0,u=e[a];if(l===hY&&u===fY)return zn;if(l3.indexOf(l)!==-1)return gY;if(l3.indexOf(u)!==-1||yY.indexOf(u)!==-1)return zn;if(dj(i,e)===pY)return KC;if(a3.get(t[i])===J4||(l===WC||l===GC)&&a3.get(t[a])===J4||l===oj||u===oj||l===aj||[Th,e3,$w].indexOf(l)===-1&&u===aj||[VC,mw,Rbe,Cg,Sg].indexOf(u)!==-1||dj(i,e)===gw||qT(GT,gw,i,e)||qT([VC,mw],n3,i,e)||qT(lj,lj,i,e))return zn;if(l===Th)return KC;if(l===GT||u===GT)return zn;if(u===t3||l===t3)return KC;if([e3,$w,n3].indexOf(u)!==-1||l===Dbe||c===i3&&Qbe.indexOf(l)!==-1||l===Sg&&u===i3||u===cj||zA.indexOf(u)!==-1&&l===nl||zA.indexOf(l)!==-1&&u===nl||l===Mw&&[tx,WC,GC].indexOf(u)!==-1||[tx,WC,GC].indexOf(l)!==-1&&u===Uw||zA.indexOf(l)!==-1&&uj.indexOf(u)!==-1||uj.indexOf(l)!==-1&&zA.indexOf(u)!==-1||[Mw,Uw].indexOf(l)!==-1&&(u===nl||[gw,$w].indexOf(u)!==-1&&e[a+1]===nl)||[gw,$w].indexOf(l)!==-1&&u===nl||l===nl&&[nl,Sg,Cg].indexOf(u)!==-1)return zn;if([nl,Sg,Cg,VC,mw].indexOf(u)!==-1)for(var A=i;A>=0;){var d=e[A];if(d===nl)return zn;if([Sg,Cg].indexOf(d)!==-1)A--;else break}if([Mw,Uw].indexOf(u)!==-1)for(var A=[VC,mw].indexOf(l)!==-1?o:i;A>=0;){var d=e[A];if(d===nl)return zn;if([Sg,Cg].indexOf(d)!==-1)A--;else break}if(o3===l&&[o3,sB,r3,s3].indexOf(u)!==-1||[sB,r3].indexOf(l)!==-1&&[sB,iB].indexOf(u)!==-1||[iB,s3].indexOf(l)!==-1&&u===iB||Aj.indexOf(l)!==-1&&[cj,Uw].indexOf(u)!==-1||Aj.indexOf(u)!==-1&&l===Mw||zA.indexOf(l)!==-1&&zA.indexOf(u)!==-1||l===Cg&&zA.indexOf(u)!==-1||zA.concat(nl).indexOf(l)!==-1&&u===gw&&Ube.indexOf(t[a])===-1||zA.concat(nl).indexOf(u)!==-1&&l===mw)return zn;if(l===KT&&u===KT){for(var h=n[i],p=1;h>0&&(h--,e[h]===KT);)p++;if(p%2!==0)return zn}return l===WC&&u===GC?zn:KC},zbe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=jbe(t,e.lineBreak),r=n[0],s=n[1],i=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(a){return[nl,xp,mY].indexOf(a)!==-1?tx:a}));var o=e.wordBreak==="keep-all"?i.map(function(a,l){return a&&t[l]>=19968&&t[l]<=40959}):void 0;return[r,s,o]},Vbe=function(){function t(e,n,r,s){this.codePoints=e,this.required=n===gY,this.start=r,this.end=s}return t.prototype.slice=function(){return Us.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),Wbe=function(t,e){var n=KN(t),r=zbe(n,e),s=r[0],i=r[1],o=r[2],a=n.length,l=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var u=zn;c<a&&(u=Hbe(n,i,s,++c,o))===zn;);if(u!==zn||c===a){var A=new Vbe(n,u,l,c);return l=c,{value:A,done:!1}}return{done:!0,value:null}}}},Gbe=1,Kbe=2,eb=4,hj=8,A_=10,fj=47,pv=92,qbe=9,Xbe=32,qC=34,yw=61,Ybe=35,Zbe=36,Jbe=37,XC=39,YC=40,ww=41,e2e=95,_a=45,t2e=33,n2e=60,r2e=62,s2e=64,i2e=91,o2e=93,a2e=61,l2e=123,ZC=63,c2e=125,pj=124,u2e=126,A2e=128,mj=65533,XT=42,Dp=43,d2e=44,h2e=58,f2e=59,nx=46,p2e=0,m2e=8,g2e=11,y2e=14,w2e=31,v2e=127,Uu=-1,wY=48,vY=97,xY=101,x2e=102,b2e=117,C2e=122,bY=65,CY=69,SY=70,S2e=85,B2e=90,bo=function(t){return t>=wY&&t<=57},_2e=function(t){return t>=55296&&t<=57343},Bg=function(t){return bo(t)||t>=bY&&t<=SY||t>=vY&&t<=x2e},N2e=function(t){return t>=vY&&t<=C2e},I2e=function(t){return t>=bY&&t<=B2e},E2e=function(t){return N2e(t)||I2e(t)},k2e=function(t){return t>=A2e},JC=function(t){return t===A_||t===qbe||t===Xbe},d_=function(t){return E2e(t)||k2e(t)||t===e2e},gj=function(t){return d_(t)||bo(t)||t===_a},T2e=function(t){return t>=p2e&&t<=m2e||t===g2e||t>=y2e&&t<=w2e||t===v2e},mh=function(t,e){return t!==pv?!1:e!==A_},eS=function(t,e,n){return t===_a?d_(e)||mh(e,n):d_(t)?!0:!!(t===pv&&mh(t,e))},YT=function(t,e,n){return t===Dp||t===_a?bo(e)?!0:e===nx&&bo(n):bo(t===nx?e:t)},F2e=function(t){var e=0,n=1;(t[e]===Dp||t[e]===_a)&&(t[e]===_a&&(n=-1),e++);for(var r=[];bo(t[e]);)r.push(t[e++]);var s=r.length?parseInt(Us.apply(void 0,r),10):0;t[e]===nx&&e++;for(var i=[];bo(t[e]);)i.push(t[e++]);var o=i.length,a=o?parseInt(Us.apply(void 0,i),10):0;(t[e]===CY||t[e]===xY)&&e++;var l=1;(t[e]===Dp||t[e]===_a)&&(t[e]===_a&&(l=-1),e++);for(var c=[];bo(t[e]);)c.push(t[e++]);var u=c.length?parseInt(Us.apply(void 0,c),10):0;return n*(s+a*Math.pow(10,-o))*Math.pow(10,l*u)},L2e={type:2},D2e={type:3},R2e={type:4},P2e={type:13},O2e={type:8},$2e={type:21},U2e={type:9},M2e={type:10},Q2e={type:11},j2e={type:12},H2e={type:14},tS={type:23},z2e={type:1},V2e={type:25},W2e={type:24},G2e={type:26},K2e={type:27},q2e={type:28},X2e={type:29},Y2e={type:31},c3={type:32},BY=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(KN(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==c3;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case qC:return this.consumeStringToken(qC);case Ybe:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if(gj(n)||mh(r,s)){var i=eS(n,r,s)?Kbe:Gbe,o=this.consumeName();return{type:5,value:o,flags:i}}break;case Zbe:if(this.peekCodePoint(0)===yw)return this.consumeCodePoint(),P2e;break;case XC:return this.consumeStringToken(XC);case YC:return L2e;case ww:return D2e;case XT:if(this.peekCodePoint(0)===yw)return this.consumeCodePoint(),H2e;break;case Dp:if(YT(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case d2e:return R2e;case _a:var a=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(YT(a,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(eS(a,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===_a&&c===r2e)return this.consumeCodePoint(),this.consumeCodePoint(),W2e;break;case nx:if(YT(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case fj:if(this.peekCodePoint(0)===XT)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===XT&&(u=this.consumeCodePoint(),u===fj))return this.consumeToken();if(u===Uu)return this.consumeToken()}break;case h2e:return G2e;case f2e:return K2e;case n2e:if(this.peekCodePoint(0)===t2e&&this.peekCodePoint(1)===_a&&this.peekCodePoint(2)===_a)return this.consumeCodePoint(),this.consumeCodePoint(),V2e;break;case s2e:var A=this.peekCodePoint(0),d=this.peekCodePoint(1),h=this.peekCodePoint(2);if(eS(A,d,h)){var o=this.consumeName();return{type:7,value:o}}break;case i2e:return q2e;case pv:if(mh(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case o2e:return X2e;case a2e:if(this.peekCodePoint(0)===yw)return this.consumeCodePoint(),O2e;break;case l2e:return Q2e;case c2e:return j2e;case b2e:case S2e:var p=this.peekCodePoint(0),m=this.peekCodePoint(1);return p===Dp&&(Bg(m)||m===ZC)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case pj:if(this.peekCodePoint(0)===yw)return this.consumeCodePoint(),U2e;if(this.peekCodePoint(0)===pj)return this.consumeCodePoint(),$2e;break;case u2e:if(this.peekCodePoint(0)===yw)return this.consumeCodePoint(),M2e;break;case Uu:return c3}return JC(e)?(this.consumeWhiteSpace(),Y2e):bo(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):d_(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Us(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();Bg(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===ZC&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var s=parseInt(Us.apply(void 0,e.map(function(l){return l===ZC?wY:l})),16),i=parseInt(Us.apply(void 0,e.map(function(l){return l===ZC?SY:l})),16);return{type:30,start:s,end:i}}var o=parseInt(Us.apply(void 0,e),16);if(this.peekCodePoint(0)===_a&&Bg(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var a=[];Bg(n)&&a.length<6;)a.push(n),n=this.consumeCodePoint();var i=parseInt(Us.apply(void 0,a),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===YC?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===YC?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Uu)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===XC||n===qC){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Uu||this.peekCodePoint(0)===ww)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),tS)}for(;;){var s=this.consumeCodePoint();if(s===Uu||s===ww)return{type:22,value:Us.apply(void 0,e)};if(JC(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Uu||this.peekCodePoint(0)===ww?(this.consumeCodePoint(),{type:22,value:Us.apply(void 0,e)}):(this.consumeBadUrlRemnants(),tS);if(s===qC||s===XC||s===YC||T2e(s))return this.consumeBadUrlRemnants(),tS;if(s===pv)if(mh(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),tS;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;JC(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===ww||e===Uu)return;mh(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var s=Math.min(n,e);r+=Us.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var s=this._value[r];if(s===Uu||s===void 0||s===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(s===A_)return this._value.splice(0,r),z2e;if(s===pv){var i=this._value[r+1];i!==Uu&&i!==void 0&&(i===A_?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):mh(s,i)&&(n+=this.consumeStringSlice(r),n+=Us(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=eb,r=this.peekCodePoint(0);for((r===Dp||r===_a)&&e.push(this.consumeCodePoint());bo(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(r===nx&&bo(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=hj;bo(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===CY||r===xY)&&((s===Dp||s===_a)&&bo(i)||bo(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=hj;bo(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[F2e(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(eS(s,i,o)){var a=this.consumeName();return{type:15,number:n,flags:r,unit:a}}return s===Jbe?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Bg(e)){for(var n=Us(e);Bg(this.peekCodePoint(0))&&n.length<6;)n+=Us(this.consumeCodePoint());JC(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||_2e(r)||r>1114111?mj:r}return e===Uu?mj:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(gj(n))e+=Us(n);else if(mh(n,this.peekCodePoint(0)))e+=Us(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),_Y=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new BY;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||J2e(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?c3:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),tb=function(t){return t.type===15},Ey=function(t){return t.type===17},_r=function(t){return t.type===20},Z2e=function(t){return t.type===0},u3=function(t,e){return _r(t)&&t.value===e},NY=function(t){return t.type!==31},Y0=function(t){return t.type!==31&&t.type!==4},IA=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},J2e=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},cf=function(t){return t.type===17||t.type===15},Ys=function(t){return t.type===16||cf(t)},IY=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Yi={type:17,number:0,flags:eb},QR={type:16,number:50,flags:eb},Fh={type:16,number:100,flags:eb},Qw=function(t,e,n){var r=t[0],s=t[1];return[Mr(r,e),Mr(typeof s<"u"?s:r,n)]},Mr=function(t,e){if(t.type===16)return t.number/100*e;if(tb(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},EY="deg",kY="grad",TY="rad",FY="turn",qN={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case EY:return Math.PI*e.number/180;case kY:return Math.PI/200*e.number;case TY:return e.number;case FY:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},LY=function(t){return t.type===15&&(t.unit===EY||t.unit===kY||t.unit===TY||t.unit===FY)},DY=function(t){var e=t.filter(_r).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Yi,Yi];case"to top":case"bottom":return Yl(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Yi,Fh];case"to right":case"left":return Yl(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Fh,Fh];case"to bottom":case"top":return Yl(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Fh,Yi];case"to left":case"right":return Yl(270)}return 0},Yl=function(t){return Math.PI*t/180},qh={name:"color",parse:function(t,e){if(e.type===18){var n=eCe[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return Lh(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),o=e.value.substring(3,4);return Lh(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return Lh(parseInt(r,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8);return Lh(parseInt(r,16),parseInt(s,16),parseInt(i,16),parseInt(o,16)/255)}}if(e.type===20){var a=cd[e.value.toUpperCase()];if(typeof a<"u")return a}return cd.TRANSPARENT}},Xh=function(t){return(255&t)===0},Si=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+r+","+n+","+e/255+")":"rgb("+s+","+r+","+n+")"},Lh=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},yj=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},wj=function(t,e){var n=e.filter(Y0);if(n.length===3){var r=n.map(yj),s=r[0],i=r[1],o=r[2];return Lh(s,i,o,1)}if(n.length===4){var a=n.map(yj),s=a[0],i=a[1],o=a[2],l=a[3];return Lh(s,i,o,l)}return 0};function ZT(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var vj=function(t,e){var n=e.filter(Y0),r=n[0],s=n[1],i=n[2],o=n[3],a=(r.type===17?Yl(r.number):qN.parse(t,r))/(Math.PI*2),l=Ys(s)?s.number/100:0,c=Ys(i)?i.number/100:0,u=typeof o<"u"&&Ys(o)?Mr(o,1):1;if(l===0)return Lh(c*255,c*255,c*255,1);var A=c<=.5?c*(l+1):c+l-c*l,d=c*2-A,h=ZT(d,A,a+1/3),p=ZT(d,A,a),m=ZT(d,A,a-1/3);return Lh(h*255,p*255,m*255,u)},eCe={hsl:vj,hsla:vj,rgb:wj,rgba:wj},mv=function(t,e){return qh.parse(t,_Y.create(e).parseComponentValue())},cd={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},tCe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(_r(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},nCe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},XN=function(t,e){var n=qh.parse(t,e[0]),r=e[1];return r&&Ys(r)?{color:n,stop:r}:{color:n,stop:null}},xj=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=Yi),r.stop===null&&(r.stop=Fh);for(var s=[],i=0,o=0;o<t.length;o++){var a=t[o].stop;if(a!==null){var l=Mr(a,e);l>i?s.push(l):s.push(i),i=l}else s.push(null)}for(var c=null,o=0;o<s.length;o++){var u=s[o];if(u===null)c===null&&(c=o);else if(c!==null){for(var A=o-c,d=s[c-1],h=(u-d)/(A+1),p=1;p<=A;p++)s[c+p-1]=h*p;c=null}}return t.map(function(m,y){var g=m.color;return{color:g,stop:Math.max(Math.min(1,s[y]/e),0)}})},rCe=function(t,e,n){var r=e/2,s=n/2,i=Mr(t[0],e)-r,o=s-Mr(t[1],n);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},sCe=function(t,e,n){var r=typeof t=="number"?t:rCe(t,e,n),s=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),i=e/2,o=n/2,a=s/2,l=Math.sin(r-Math.PI/2)*a,c=Math.cos(r-Math.PI/2)*a;return[s,i-c,i+c,o-l,o+l]},jc=function(t,e){return Math.sqrt(t*t+e*e)},bj=function(t,e,n,r,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(o,a){var l=a[0],c=a[1],u=jc(n-l,r-c);return(s?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:a,optimumDistance:u}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},iCe=function(t,e,n,r,s){var i=0,o=0;switch(t.size){case 0:t.shape===0?i=o=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-r)),o=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(t.shape===0)i=o=Math.min(jc(e,n),jc(e,n-s),jc(e-r,n),jc(e-r,n-s));else if(t.shape===1){var a=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(e),Math.abs(e-r)),l=bj(r,s,e,n,!0),c=l[0],u=l[1];i=jc(c-e,(u-n)/a),o=a*i}break;case 1:t.shape===0?i=o=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-r)),o=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(t.shape===0)i=o=Math.max(jc(e,n),jc(e,n-s),jc(e-r,n),jc(e-r,n-s));else if(t.shape===1){var a=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(e),Math.abs(e-r)),A=bj(r,s,e,n,!1),c=A[0],u=A[1];i=jc(c-e,(u-n)/a),o=a*i}break}return Array.isArray(t.size)&&(i=Mr(t.size[0],r),o=t.size.length===2?Mr(t.size[1],s):i),[i,o]},oCe=function(t,e){var n=Yl(180),r=[];return IA(e).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&o.value==="to"){n=DY(s);return}else if(LY(o)){n=qN.parse(t,o);return}}var a=XN(t,s);r.push(a)}),{angle:n,stops:r,type:1}},nS=function(t,e){var n=Yl(180),r=[];return IA(e).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=DY(s);return}else if(LY(o)){n=(qN.parse(t,o)+Yl(270))%Yl(360);return}}var a=XN(t,s);r.push(a)}),{angle:n,stops:r,type:1}},aCe=function(t,e){var n=Yl(180),r=[],s=1,i=0,o=3,a=[];return IA(e).forEach(function(l,c){var u=l[0];if(c===0){if(_r(u)&&u.value==="linear"){s=1;return}else if(_r(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var A=qh.parse(t,u.values[0]);r.push({stop:Yi,color:A})}else if(u.name==="to"){var A=qh.parse(t,u.values[0]);r.push({stop:Fh,color:A})}else if(u.name==="color-stop"){var d=u.values.filter(Y0);if(d.length===2){var A=qh.parse(t,d[1]),h=d[0];Ey(h)&&r.push({stop:{type:16,number:h.number*100,flags:h.flags},color:A})}}}}),s===1?{angle:(n+Yl(180))%Yl(360),stops:r,type:s}:{size:o,shape:i,stops:r,position:a,type:s}},RY="closest-side",PY="farthest-side",OY="closest-corner",$Y="farthest-corner",UY="circle",MY="ellipse",QY="cover",jY="contain",lCe=function(t,e){var n=0,r=3,s=[],i=[];return IA(e).forEach(function(o,a){var l=!0;if(a===0){var c=!1;l=o.reduce(function(A,d){if(c)if(_r(d))switch(d.value){case"center":return i.push(QR),A;case"top":case"left":return i.push(Yi),A;case"right":case"bottom":return i.push(Fh),A}else(Ys(d)||cf(d))&&i.push(d);else if(_r(d))switch(d.value){case UY:return n=0,!1;case MY:return n=1,!1;case"at":return c=!0,!1;case RY:return r=0,!1;case QY:case PY:return r=1,!1;case jY:case OY:return r=2,!1;case $Y:return r=3,!1}else if(cf(d)||Ys(d))return Array.isArray(r)||(r=[]),r.push(d),!1;return A},l)}if(l){var u=XN(t,o);s.push(u)}}),{size:r,shape:n,stops:s,position:i,type:2}},rS=function(t,e){var n=0,r=3,s=[],i=[];return IA(e).forEach(function(o,a){var l=!0;if(a===0?l=o.reduce(function(u,A){if(_r(A))switch(A.value){case"center":return i.push(QR),!1;case"top":case"left":return i.push(Yi),!1;case"right":case"bottom":return i.push(Fh),!1}else if(Ys(A)||cf(A))return i.push(A),!1;return u},l):a===1&&(l=o.reduce(function(u,A){if(_r(A))switch(A.value){case UY:return n=0,!1;case MY:return n=1,!1;case jY:case RY:return r=0,!1;case PY:return r=1,!1;case OY:return r=2,!1;case QY:case $Y:return r=3,!1}else if(cf(A)||Ys(A))return Array.isArray(r)||(r=[]),r.push(A),!1;return u},l)),l){var c=XN(t,o);s.push(c)}}),{size:r,shape:n,stops:s,position:i,type:2}},cCe=function(t){return t.type===1},uCe=function(t){return t.type===2},jR={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=HY[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function ACe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!HY[t.name])}var HY={"linear-gradient":oCe,"-moz-linear-gradient":nS,"-ms-linear-gradient":nS,"-o-linear-gradient":nS,"-webkit-linear-gradient":nS,"radial-gradient":lCe,"-moz-radial-gradient":rS,"-ms-radial-gradient":rS,"-o-radial-gradient":rS,"-webkit-radial-gradient":rS,"-webkit-gradient":aCe},dCe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return Y0(r)&&ACe(r)}).map(function(r){return jR.parse(t,r)})}},hCe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(_r(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fCe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return IA(e).map(function(n){return n.filter(Ys)}).map(IY)}},pCe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return IA(e).map(function(n){return n.filter(_r).map(function(r){return r.value}).join(" ")}).map(mCe)}},mCe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},y0;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(y0||(y0={}));var gCe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return IA(e).map(function(n){return n.filter(yCe)})}},yCe=function(t){return _r(t)||Ys(t)},YN=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},wCe=YN("top"),vCe=YN("right"),xCe=YN("bottom"),bCe=YN("left"),ZN=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return IY(n.filter(Ys))}}},CCe=ZN("top-left"),SCe=ZN("top-right"),BCe=ZN("bottom-right"),_Ce=ZN("bottom-left"),JN=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},NCe=JN("top"),ICe=JN("right"),ECe=JN("bottom"),kCe=JN("left"),eI=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return tb(n)?n.number:0}}},TCe=eI("top"),FCe=eI("right"),LCe=eI("bottom"),DCe=eI("left"),RCe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},PCe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},OCe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(_r).reduce(function(n,r){return n|$Ce(r.value)},0)}},$Ce=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},UCe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},MCe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},h_;(function(t){t.NORMAL="normal",t.STRICT="strict"})(h_||(h_={}));var QCe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return h_.STRICT;case"normal":default:return h_.NORMAL}}},jCe={name:"line-height",initialValue:"normal",prefix:!1,type:4},Cj=function(t,e){return _r(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Ys(t)?Mr(t,e):e},HCe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:jR.parse(t,e)}},zCe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},A3={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},tI=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},VCe=tI("top"),WCe=tI("right"),GCe=tI("bottom"),KCe=tI("left"),qCe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(_r).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},XCe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},nI=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},YCe=nI("top"),ZCe=nI("right"),JCe=nI("bottom"),eSe=nI("left"),tSe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},nSe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},rSe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&u3(e[0],"none")?[]:IA(e).map(function(n){for(var r={color:cd.TRANSPARENT,offsetX:Yi,offsetY:Yi,blur:Yi},s=0,i=0;i<n.length;i++){var o=n[i];cf(o)?(s===0?r.offsetX=o:s===1?r.offsetY=o:r.blur=o,s++):r.color=qh.parse(t,o)}return r})}},sSe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},iSe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=lSe[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},oSe=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},aSe=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=e[0],r=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],a=e[13];return e[14],e[15],e.length===16?[n,r,s,i,o,a]:null},lSe={matrix:oSe,matrix3d:aSe},Sj={type:16,number:50,flags:eb},cSe=[Sj,Sj],uSe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(Ys);return n.length!==2?cSe:[n[0],n[1]]}},ASe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},gv;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(gv||(gv={}));var dSe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return gv.BREAK_ALL;case"keep-all":return gv.KEEP_ALL;case"normal":default:return gv.NORMAL}}},hSe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Ey(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},zY={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},fSe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Ey(e)?e.number:1}},pSe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},mSe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(_r).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},gSe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(s){switch(s.type){case 20:case 0:n.push(s.value);break;case 17:n.push(s.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},ySe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},wSe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Ey(e))return e.number;if(_r(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},vSe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(_r).map(function(n){return n.value})}},xSe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},pi=function(t,e){return(t&e)!==0},bSe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},CSe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],s=e.filter(NY),i=0;i<s.length;i++){var o=s[i],a=s[i+1];if(o.type===20){var l=a&&Ey(a)?a.number:1;r.push({counter:o.value,increment:l})}}return r}},SSe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(NY),s=0;s<r.length;s++){var i=r[s],o=r[s+1];if(_r(i)&&i.value!=="none"){var a=o&&Ey(o)?o.number:0;n.push({counter:i.value,reset:a})}}return n}},BSe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(tb).map(function(n){return zY.parse(t,n)})}},_Se={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],s=e.filter(Z2e);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var o=s[i].value,a=s[i+1].value;r.push({open:o,close:a})}return r}},Bj=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},NSe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&u3(e[0],"none")?[]:IA(e).map(function(n){for(var r={color:255,offsetX:Yi,offsetY:Yi,blur:Yi,spread:Yi,inset:!1},s=0,i=0;i<n.length;i++){var o=n[i];u3(o,"inset")?r.inset=!0:cf(o)?(s===0?r.offsetX=o:s===1?r.offsetY=o:s===2?r.blur=o:r.spread=o,s++):r.color=qh.parse(t,o)}return r})}},ISe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(_r).forEach(function(s){switch(s.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(s){r.indexOf(s)===-1&&r.push(s)}),r}},ESe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},kSe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return tb(e)?e.number:0}},TSe=function(){function t(e,n){var r,s;this.animationDuration=_t(e,BSe,n.animationDuration),this.backgroundClip=_t(e,tCe,n.backgroundClip),this.backgroundColor=_t(e,nCe,n.backgroundColor),this.backgroundImage=_t(e,dCe,n.backgroundImage),this.backgroundOrigin=_t(e,hCe,n.backgroundOrigin),this.backgroundPosition=_t(e,fCe,n.backgroundPosition),this.backgroundRepeat=_t(e,pCe,n.backgroundRepeat),this.backgroundSize=_t(e,gCe,n.backgroundSize),this.borderTopColor=_t(e,wCe,n.borderTopColor),this.borderRightColor=_t(e,vCe,n.borderRightColor),this.borderBottomColor=_t(e,xCe,n.borderBottomColor),this.borderLeftColor=_t(e,bCe,n.borderLeftColor),this.borderTopLeftRadius=_t(e,CCe,n.borderTopLeftRadius),this.borderTopRightRadius=_t(e,SCe,n.borderTopRightRadius),this.borderBottomRightRadius=_t(e,BCe,n.borderBottomRightRadius),this.borderBottomLeftRadius=_t(e,_Ce,n.borderBottomLeftRadius),this.borderTopStyle=_t(e,NCe,n.borderTopStyle),this.borderRightStyle=_t(e,ICe,n.borderRightStyle),this.borderBottomStyle=_t(e,ECe,n.borderBottomStyle),this.borderLeftStyle=_t(e,kCe,n.borderLeftStyle),this.borderTopWidth=_t(e,TCe,n.borderTopWidth),this.borderRightWidth=_t(e,FCe,n.borderRightWidth),this.borderBottomWidth=_t(e,LCe,n.borderBottomWidth),this.borderLeftWidth=_t(e,DCe,n.borderLeftWidth),this.boxShadow=_t(e,NSe,n.boxShadow),this.color=_t(e,RCe,n.color),this.direction=_t(e,PCe,n.direction),this.display=_t(e,OCe,n.display),this.float=_t(e,UCe,n.cssFloat),this.fontFamily=_t(e,gSe,n.fontFamily),this.fontSize=_t(e,ySe,n.fontSize),this.fontStyle=_t(e,xSe,n.fontStyle),this.fontVariant=_t(e,vSe,n.fontVariant),this.fontWeight=_t(e,wSe,n.fontWeight),this.letterSpacing=_t(e,MCe,n.letterSpacing),this.lineBreak=_t(e,QCe,n.lineBreak),this.lineHeight=_t(e,jCe,n.lineHeight),this.listStyleImage=_t(e,HCe,n.listStyleImage),this.listStylePosition=_t(e,zCe,n.listStylePosition),this.listStyleType=_t(e,A3,n.listStyleType),this.marginTop=_t(e,VCe,n.marginTop),this.marginRight=_t(e,WCe,n.marginRight),this.marginBottom=_t(e,GCe,n.marginBottom),this.marginLeft=_t(e,KCe,n.marginLeft),this.opacity=_t(e,fSe,n.opacity);var i=_t(e,qCe,n.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=_t(e,XCe,n.overflowWrap),this.paddingTop=_t(e,YCe,n.paddingTop),this.paddingRight=_t(e,ZCe,n.paddingRight),this.paddingBottom=_t(e,JCe,n.paddingBottom),this.paddingLeft=_t(e,eSe,n.paddingLeft),this.paintOrder=_t(e,ISe,n.paintOrder),this.position=_t(e,nSe,n.position),this.textAlign=_t(e,tSe,n.textAlign),this.textDecorationColor=_t(e,pSe,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=_t(e,mSe,(s=n.textDecorationLine)!==null&&s!==void 0?s:n.textDecoration),this.textShadow=_t(e,rSe,n.textShadow),this.textTransform=_t(e,sSe,n.textTransform),this.transform=_t(e,iSe,n.transform),this.transformOrigin=_t(e,uSe,n.transformOrigin),this.visibility=_t(e,ASe,n.visibility),this.webkitTextStrokeColor=_t(e,ESe,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=_t(e,kSe,n.webkitTextStrokeWidth),this.wordBreak=_t(e,dSe,n.wordBreak),this.zIndex=_t(e,hSe,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Xh(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return pi(this.display,4)||pi(this.display,33554432)||pi(this.display,268435456)||pi(this.display,536870912)||pi(this.display,67108864)||pi(this.display,134217728)},t}(),FSe=function(){function t(e,n){this.content=_t(e,bSe,n.content),this.quotes=_t(e,_Se,n.quotes)}return t}(),_j=function(){function t(e,n){this.counterIncrement=_t(e,CSe,n.counterIncrement),this.counterReset=_t(e,SSe,n.counterReset)}return t}(),_t=function(t,e,n){var r=new BY,s=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(s);var i=new _Y(r.read());switch(e.type){case 2:var o=i.parseComponentValue();return e.parse(t,_r(o)?o.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return qN.parse(t,i.parseComponentValue());case"color":return qh.parse(t,i.parseComponentValue());case"image":return jR.parse(t,i.parseComponentValue());case"length":var a=i.parseComponentValue();return cf(a)?a:Yi;case"length-percentage":var l=i.parseComponentValue();return Ys(l)?l:Yi;case"time":return zY.parse(t,i.parseComponentValue())}break}},LSe="data-html2canvas-debug",DSe=function(t){var e=t.getAttribute(LSe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},d3=function(t,e){var n=DSe(t);return n===1||e===n},EA=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,d3(n,3))debugger;this.styles=new TSe(e,window.getComputedStyle(n,null)),p3(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=GN(this.context,n),d3(n,4)&&(this.flags|=16)}return t}(),RSe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Nj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sS=0;sS<Nj.length;sS++)jw[Nj.charCodeAt(sS)]=sS;var PSe=function(t){var e=t.length*.75,n=t.length,r,s=0,i,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)i=jw[t.charCodeAt(r)],o=jw[t.charCodeAt(r+1)],a=jw[t.charCodeAt(r+2)],l=jw[t.charCodeAt(r+3)],u[s++]=i<<2|o>>4,u[s++]=(o&15)<<4|a>>2,u[s++]=(a&3)<<6|l&63;return c},OSe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},$Se=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Yp=5,HR=11,JT=2,USe=HR-Yp,VY=65536>>Yp,MSe=1<<Yp,e5=MSe-1,QSe=1024>>Yp,jSe=VY+QSe,HSe=jSe,zSe=32,VSe=HSe+zSe,WSe=65536>>HR,GSe=1<<USe,KSe=GSe-1,Ij=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},qSe=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},XSe=function(t,e){var n=PSe(t),r=Array.isArray(n)?$Se(n):new Uint32Array(n),s=Array.isArray(n)?OSe(n):new Uint16Array(n),i=24,o=Ij(s,i/2,r[4]/2),a=r[5]===2?Ij(s,(i+r[4])/2):qSe(r,Math.ceil((i+r[4])/4));return new YSe(r[0],r[1],r[2],r[3],o,a)},YSe=function(){function t(e,n,r,s,i,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Yp],n=(n<<JT)+(e&e5),this.data[n];if(e<=65535)return n=this.index[VY+(e-55296>>Yp)],n=(n<<JT)+(e&e5),this.data[n];if(e<this.highStart)return n=VSe-WSe+(e>>HR),n=this.index[n],n+=e>>Yp&KSe,n=this.index[n],n=(n<<JT)+(e&e5),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Ej="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ZSe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var iS=0;iS<Ej.length;iS++)ZSe[Ej.charCodeAt(iS)]=iS;var JSe=1,t5=2,n5=3,kj=4,Tj=5,eBe=7,Fj=8,r5=9,s5=10,Lj=11,Dj=12,Rj=13,Pj=14,i5=15,tBe=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},nBe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var o=t[s];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},rBe=XSe(RSe),Ql="",o5="",sBe=function(t){return rBe.get(t)},iBe=function(t,e,n){var r=n-2,s=e[r],i=e[n-1],o=e[n];if(i===t5&&o===n5)return Ql;if(i===t5||i===n5||i===kj||o===t5||o===n5||o===kj)return o5;if(i===Fj&&[Fj,r5,Lj,Dj].indexOf(o)!==-1||(i===Lj||i===r5)&&(o===r5||o===s5)||(i===Dj||i===s5)&&o===s5||o===Rj||o===Tj||o===eBe||i===JSe)return Ql;if(i===Rj&&o===Pj){for(;s===Tj;)s=e[--r];if(s===Pj)return Ql}if(i===i5&&o===i5){for(var a=0;s===i5;)a++,s=e[--r];if(a%2===0)return Ql}return o5},oBe=function(t){var e=tBe(t),n=e.length,r=0,s=0,i=e.map(sBe);return{next:function(){if(r>=n)return{done:!0,value:null};for(var o=Ql;r<n&&(o=iBe(e,i,++r))===Ql;);if(o!==Ql||r===n){var a=nBe.apply(null,e.slice(s,r));return s=r,{value:a,done:!1}}return{done:!0,value:null}}}},aBe=function(t){for(var e=oBe(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},lBe=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(r),i===e)return!0}}return!1},cBe=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,s=KN(r.data).map(function(l){return Us(l)}),i=0,o={},a=s.every(function(l,c){n.setStart(r,i),n.setEnd(r,i+l.length);var u=n.getBoundingClientRect();i+=l.length;var A=u.x>o.x||u.y>o.y;return o=u,c===0?!0:A});return t.body.removeChild(e),a},uBe=function(){return typeof new Image().crossOrigin<"u"},ABe=function(){return typeof new XMLHttpRequest().responseType=="string"},dBe=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},Oj=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},hBe=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,i=e.toDataURL();s.src=i;var o=h3(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),$j(o).then(function(a){r.drawImage(a,0,0);var l=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var c=t.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=n+"px",Oj(l)?$j(h3(n,n,0,0,c)):Promise.reject(!1)}).then(function(a){return r.drawImage(a,0,0),Oj(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},h3=function(t,e,n,r,s){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(s),o},$j=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},qi={get SUPPORT_RANGE_BOUNDS(){var t=lBe(document);return Object.defineProperty(qi,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=qi.SUPPORT_RANGE_BOUNDS&&cBe(document);return Object.defineProperty(qi,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=dBe(document);return Object.defineProperty(qi,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?hBe(document):Promise.resolve(!1);return Object.defineProperty(qi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=uBe();return Object.defineProperty(qi,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=ABe();return Object.defineProperty(qi,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(qi,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(qi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},yv=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),fBe=function(t,e,n,r){var s=gBe(e,n),i=[],o=0;return s.forEach(function(a){if(n.textDecorationLine.length||a.trim().length>0)if(qi.SUPPORT_RANGE_BOUNDS){var l=Uj(r,o,a.length).getClientRects();if(l.length>1){var c=zR(a),u=0;c.forEach(function(d){i.push(new yv(d,wd.fromDOMRectList(t,Uj(r,u+o,d.length).getClientRects()))),u+=d.length})}else i.push(new yv(a,wd.fromDOMRectList(t,l)))}else{var A=r.splitText(a.length);i.push(new yv(a,pBe(t,r))),r=A}else qi.SUPPORT_RANGE_BOUNDS||(r=r.splitText(a.length));o+=a.length}),i},pBe=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(r,e);var i=GN(t,r);return r.firstChild&&s.replaceChild(r.firstChild,r),i}}return wd.EMPTY},Uj=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(t,e),s.setEnd(t,e+n),s},zR=function(t){if(qi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return aBe(t)},mBe=function(t,e){if(qi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return wBe(t,e)},gBe=function(t,e){return e.letterSpacing!==0?zR(t):mBe(t,e)},yBe=[32,160,4961,65792,65793,4153,4241],wBe=function(t,e){for(var n=Wbe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],s,i=function(){if(s.value){var o=s.value.slice(),a=KN(o),l="";a.forEach(function(c){yBe.indexOf(c)===-1?l+=Us(c):(l.length&&r.push(l),r.push(Us(c)),l="")}),l.length&&r.push(l)}};!(s=n.next()).done;)i();return r},vBe=function(){function t(e,n,r){this.text=xBe(n.data,r.textTransform),this.textBounds=fBe(e,this.text,r,n)}return t}(),xBe=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(bBe,CBe);case 2:return t.toUpperCase();default:return t}},bBe=/(^|\s|:|-|\(|\))([a-z])/g,CBe=function(t,e,n){return t.length>0?e+n.toUpperCase():t},WY=function(t){vu(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.src=r.currentSrc||r.src,s.intrinsicWidth=r.naturalWidth,s.intrinsicHeight=r.naturalHeight,s.context.cache.addImage(s.src),s}return e}(EA),GY=function(t){vu(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r,s.intrinsicWidth=r.width,s.intrinsicHeight=r.height,s}return e}(EA),KY=function(t){vu(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=new XMLSerializer,o=GN(n,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),s.intrinsicWidth=r.width.baseVal.value,s.intrinsicHeight=r.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(EA),qY=function(t){vu(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(EA),f3=function(t){vu(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.start=r.start,s.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,s}return e}(EA),SBe=[{type:15,flags:0,unit:"px",number:3}],BBe=[{type:16,flags:0,number:50}],_Be=function(t){return t.width>t.height?new wd(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new wd(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},NBe=function(t){var e=t.type===IBe?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},f_="checkbox",p_="radio",IBe="password",Mj=707406591,VR=function(t){vu(e,t);function e(n,r){var s=t.call(this,n,r)||this;switch(s.type=r.type.toLowerCase(),s.checked=r.checked,s.value=NBe(r),(s.type===f_||s.type===p_)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=_Be(s.bounds)),s.type){case f_:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=SBe;break;case p_:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=BBe;break}return s}return e}(EA),XY=function(t){vu(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=r.options[r.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(EA),YY=function(t){vu(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(EA),ZY=function(t){vu(e,t);function e(n,r){var s=t.call(this,n,r)||this;s.src=r.src,s.width=parseInt(r.width,10)||0,s.height=parseInt(r.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){s.tree=eZ(n,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?mv(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):cd.TRANSPARENT,o=r.contentWindow.document.body?mv(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):cd.TRANSPARENT;s.backgroundColor=Xh(i)?Xh(o)?s.styles.backgroundColor:o:i}}catch{}return s}return e}(EA),EBe=["OL","UL","MENU"],oB=function(t,e,n,r){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,tZ(s)&&s.data.trim().length>0)n.textNodes.push(new vBe(t,s,n.styles));else if(s0(s))if(iZ(s)&&s.assignedNodes)s.assignedNodes().forEach(function(a){return oB(t,a,n,r)});else{var o=JY(t,s);o.styles.isVisible()&&(kBe(s,o,r)?o.flags|=4:TBe(o.styles)&&(o.flags|=2),EBe.indexOf(s.tagName)!==-1&&(o.flags|=8),n.elements.push(o),s.slot,s.shadowRoot?oB(t,s.shadowRoot,o,r):!m_(s)&&!nZ(s)&&!g_(s)&&oB(t,s,o,r))}},JY=function(t,e){return m3(e)?new WY(t,e):rZ(e)?new GY(t,e):nZ(e)?new KY(t,e):FBe(e)?new qY(t,e):LBe(e)?new f3(t,e):DBe(e)?new VR(t,e):g_(e)?new XY(t,e):m_(e)?new YY(t,e):sZ(e)?new ZY(t,e):new EA(t,e)},eZ=function(t,e){var n=JY(t,e);return n.flags|=4,oB(t,e,n,n),n},kBe=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||WR(t)&&n.styles.isTransparent()},TBe=function(t){return t.isPositioned()||t.isFloating()},tZ=function(t){return t.nodeType===Node.TEXT_NODE},s0=function(t){return t.nodeType===Node.ELEMENT_NODE},p3=function(t){return s0(t)&&typeof t.style<"u"&&!aB(t)},aB=function(t){return typeof t.className=="object"},FBe=function(t){return t.tagName==="LI"},LBe=function(t){return t.tagName==="OL"},DBe=function(t){return t.tagName==="INPUT"},RBe=function(t){return t.tagName==="HTML"},nZ=function(t){return t.tagName==="svg"},WR=function(t){return t.tagName==="BODY"},rZ=function(t){return t.tagName==="CANVAS"},Qj=function(t){return t.tagName==="VIDEO"},m3=function(t){return t.tagName==="IMG"},sZ=function(t){return t.tagName==="IFRAME"},jj=function(t){return t.tagName==="STYLE"},PBe=function(t){return t.tagName==="SCRIPT"},m_=function(t){return t.tagName==="TEXTAREA"},g_=function(t){return t.tagName==="SELECT"},iZ=function(t){return t.tagName==="SLOT"},Hj=function(t){return t.tagName.indexOf("-")>0},OBe=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,s=e.counterReset,i=!0;r!==null&&r.forEach(function(a){var l=n.counters[a.counter];l&&a.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=a.increment)});var o=[];return i&&s.forEach(function(a){var l=n.counters[a.counter];o.push(a.counter),l||(l=n.counters[a.counter]=[]),l.push(a.reset)}),o},t}(),zj={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Vj={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},$Be={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},UBe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},_g=function(t,e,n,r,s,i){return t<e||t>n?rx(t,s,i.length>0):r.integers.reduce(function(o,a,l){for(;t>=a;)t-=a,o+=r.values[l];return o},"")+i},oZ=function(t,e,n,r){var s="";do n||t--,s=r(t)+s,t/=e;while(t*e>=e);return s},$s=function(t,e,n,r,s){var i=n-e+1;return(t<0?"-":"")+(oZ(Math.abs(t),i,r,function(o){return Us(Math.floor(o%i)+e)})+s)},cp=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return oZ(Math.abs(t),r,!1,function(s){return e[Math.floor(s%r)]})+n},Rg=1,dh=2,hh=4,Hw=8,VA=function(t,e,n,r,s,i){if(t<-9999||t>9999)return rx(t,4,s.length>0);var o=Math.abs(t),a=s;if(o===0)return e[0]+a;for(var l=0;o>0&&l<=4;l++){var c=o%10;c===0&&pi(i,Rg)&&a!==""?a=e[c]+a:c>1||c===1&&l===0||c===1&&l===1&&pi(i,dh)||c===1&&l===1&&pi(i,hh)&&t>100||c===1&&l>1&&pi(i,Hw)?a=e[c]+(l>0?n[l-1]:"")+a:c===1&&l>0&&(a=n[l-1]+a),o=Math.floor(o/10)}return(t<0?r:"")+a},Wj="",Gj="",Kj="",a5="",rx=function(t,e,n){var r=n?". ":"",s=n?"":"",i=n?", ":"",o=n?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var a=$s(t,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return cp(t,"",s);case 6:return _g(t,1,3999,zj,3,r).toLowerCase();case 7:return _g(t,1,3999,zj,3,r);case 8:return $s(t,945,969,!1,r);case 9:return $s(t,97,122,!1,r);case 10:return $s(t,65,90,!1,r);case 11:return $s(t,1632,1641,!0,r);case 12:case 49:return _g(t,1,9999,Vj,3,r);case 35:return _g(t,1,9999,Vj,3,r).toLowerCase();case 13:return $s(t,2534,2543,!0,r);case 14:case 30:return $s(t,6112,6121,!0,r);case 15:return cp(t,"",s);case 16:return cp(t,"",s);case 17:case 48:return VA(t,"",Wj,"",s,dh|hh|Hw);case 47:return VA(t,"",Gj,"",s,Rg|dh|hh|Hw);case 42:return VA(t,"",Wj,"",s,dh|hh|Hw);case 41:return VA(t,"",Gj,"",s,Rg|dh|hh|Hw);case 26:return VA(t,"","",Kj,s,0);case 25:return VA(t,"","",Kj,s,Rg|dh|hh);case 31:return VA(t,"","",a5,i,Rg|dh|hh);case 33:return VA(t,"","",a5,i,0);case 32:return VA(t,"","",a5,i,Rg|dh|hh);case 18:return $s(t,2406,2415,!0,r);case 20:return _g(t,1,19999,UBe,3,r);case 21:return $s(t,2790,2799,!0,r);case 22:return $s(t,2662,2671,!0,r);case 22:return _g(t,1,10999,$Be,3,r);case 23:return cp(t,"");case 24:return cp(t,"");case 27:return $s(t,3302,3311,!0,r);case 28:return cp(t,"",s);case 29:return cp(t,"",s);case 34:return $s(t,3792,3801,!0,r);case 37:return $s(t,6160,6169,!0,r);case 38:return $s(t,4160,4169,!0,r);case 39:return $s(t,2918,2927,!0,r);case 40:return $s(t,1776,1785,!0,r);case 43:return $s(t,3046,3055,!0,r);case 44:return $s(t,3174,3183,!0,r);case 45:return $s(t,3664,3673,!0,r);case 46:return $s(t,3872,3881,!0,r);case 3:default:return $s(t,48,57,!0,r)}},aZ="data-html2canvas-ignore",qj=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new OBe,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,s=MBe(e,n);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=s.contentWindow,l=a.document,c=HBe(s).then(function(){return Ho(r,void 0,void 0,function(){var u,A;return xo(this,function(d){switch(d.label){case 0:return this.scrolledElements.forEach(GBe),a&&(a.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==n.top||a.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-n.left,a.scrollY-n.top,0,0))),u=this.options.onclone,A=this.clonedReferenceElement,typeof A>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:d.sent(),d.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,jBe(l)]:[3,4];case 3:d.sent(),d.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,A)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(VBe(document.doctype)+"<html></html>"),WBe(this.referenceElement.ownerDocument,i,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(d3(e,2))debugger;if(rZ(e))return this.createCanvasClone(e);if(Qj(e))return this.createVideoClone(e);if(jj(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return m3(n)&&(m3(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),Hj(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return l5(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),s=e.cloneNode(!1);return s.textContent=r,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var a=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(a){var l=a.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,n,r){(!s0(n)||!PBe(n)&&!n.hasAttribute(aZ)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!s0(n)||!jj(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(s0(i)&&iZ(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(a){return s.appendChildNode(n,a,r)})}else this.appendChildNode(n,i,r)},t.prototype.cloneNode=function(e,n){if(tZ(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&s0(e)&&(p3(e)||aB(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=r.getComputedStyle(e),o=r.getComputedStyle(e,":before"),a=r.getComputedStyle(e,":after");this.referenceElement===e&&p3(s)&&(this.clonedReferenceElement=s),WR(s)&&XBe(s);var l=this.counters.parse(new _j(this.context,i)),c=this.resolvePseudoContent(e,s,o,wv.BEFORE);Hj(e)&&(n=!0),Qj(e)||this.cloneChildNodes(e,s,n),c&&s.insertBefore(c,s.firstChild);var u=this.resolvePseudoContent(e,s,a,wv.AFTER);return u&&s.appendChild(u),this.counters.pop(l),(i&&(this.options.copyStyles||aB(e))&&!sZ(e)||n)&&l5(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(m_(e)||g_(e))&&(m_(s)||g_(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,s){var i=this;if(r){var o=r.content,a=n.ownerDocument;if(!(!a||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new _j(this.context,r));var l=new FSe(this.context,r),c=a.createElement("html2canvaspseudoelement");l5(r,c),l.content.forEach(function(A){if(A.type===0)c.appendChild(a.createTextNode(A.value));else if(A.type===22){var d=a.createElement("img");d.src=A.value,d.style.opacity="1",c.appendChild(d)}else if(A.type===18){if(A.name==="attr"){var h=A.values.filter(_r);h.length&&c.appendChild(a.createTextNode(e.getAttribute(h[0].value)||""))}else if(A.name==="counter"){var p=A.values.filter(Y0),m=p[0],y=p[1];if(m&&_r(m)){var g=i.counters.getCounterValue(m.value),v=y&&_r(y)?A3.parse(i.context,y.value):3;c.appendChild(a.createTextNode(rx(g,v,!1)))}}else if(A.name==="counters"){var b=A.values.filter(Y0),m=b[0],C=b[1],y=b[2];if(m&&_r(m)){var _=i.counters.getCounterValues(m.value),I=y&&_r(y)?A3.parse(i.context,y.value):3,T=C&&C.type===0?C.value:"",F=_.map(function(O){return rx(O,I,!1)}).join(T);c.appendChild(a.createTextNode(F))}}}else if(A.type===20)switch(A.value){case"open-quote":c.appendChild(a.createTextNode(Bj(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(a.createTextNode(Bj(l.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(a.createTextNode(A.value))}}),c.className=g3+" "+y3;var u=s===wv.BEFORE?" "+g3:" "+y3;return aB(n)?n.className.baseValue+=u:n.className+=u,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),wv;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(wv||(wv={}));var MBe=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(aZ,"true"),t.body.appendChild(n),n},QBe=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},jBe=function(t){return Promise.all([].slice.call(t.images,0).map(QBe))},HBe=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},zBe=["all","d","content"],l5=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);zBe.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},VBe=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},WBe=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},GBe=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},KBe=":before",qBe=":after",g3="___html2canvas___pseudoelement_before",y3="___html2canvas___pseudoelement_after",Xj=`{
    content: "" !important;
    display: none !important;
}`,XBe=function(t){YBe(t,"."+g3+KBe+Xj+`
         .`+y3+qBe+Xj)},YBe=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},lZ=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),ZBe=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(u5(e)||n_e(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Ho(this,void 0,void 0,function(){var n,r,s,i,o=this;return xo(this,function(a){switch(a.label){case 0:return n=lZ.isSameOrigin(e),r=!c5(e)&&this._options.useCORS===!0&&qi.SUPPORT_CORS_IMAGES&&!n,s=!c5(e)&&!n&&!u5(e)&&typeof this._options.proxy=="string"&&qi.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!c5(e)&&!u5(e)&&!s&&!r?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(r_e(i)||r)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return l(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,o){var a=qi.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(a==="text")i(l.response);else{var A=new FileReader;A.addEventListener("load",function(){return i(A.result)},!1),A.addEventListener("error",function(d){return o(d)},!1),A.readAsDataURL(l.response)}else o("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=o;var c=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+c+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=a),n._options.imageTimeout){var u=n._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+s)}}l.send()})},t}(),JBe=/^data:image\/svg\+xml/i,e_e=/^data:image\/.*;base64,/i,t_e=/^data:image\/.*/i,n_e=function(t){return qi.SUPPORT_SVG_DRAWING||!s_e(t)},c5=function(t){return t_e.test(t)},r_e=function(t){return e_e.test(t)},u5=function(t){return t.substr(0,4)==="blob"},s_e=function(t){return t.substr(-3).toLowerCase()==="svg"||JBe.test(t)},bt=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Ng=function(t,e,n){return new bt(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},oS=function(){function t(e,n,r,s){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=s}return t.prototype.subdivide=function(e,n){var r=Ng(this.start,this.startControl,e),s=Ng(this.startControl,this.endControl,e),i=Ng(this.endControl,this.end,e),o=Ng(r,s,e),a=Ng(s,i,e),l=Ng(o,a,e);return n?new t(this.start,r,o,l):new t(l,a,i,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Gl=function(t){return t.type===1},i_e=function(){function t(e){var n=e.styles,r=e.bounds,s=Qw(n.borderTopLeftRadius,r.width,r.height),i=s[0],o=s[1],a=Qw(n.borderTopRightRadius,r.width,r.height),l=a[0],c=a[1],u=Qw(n.borderBottomRightRadius,r.width,r.height),A=u[0],d=u[1],h=Qw(n.borderBottomLeftRadius,r.width,r.height),p=h[0],m=h[1],y=[];y.push((i+l)/r.width),y.push((p+A)/r.width),y.push((o+m)/r.height),y.push((c+d)/r.height);var g=Math.max.apply(Math,y);g>1&&(i/=g,o/=g,l/=g,c/=g,A/=g,d/=g,p/=g,m/=g);var v=r.width-l,b=r.height-d,C=r.width-A,_=r.height-m,I=n.borderTopWidth,T=n.borderRightWidth,F=n.borderBottomWidth,D=n.borderLeftWidth,j=Mr(n.paddingTop,e.bounds.width),O=Mr(n.paddingRight,e.bounds.width),U=Mr(n.paddingBottom,e.bounds.width),W=Mr(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?ns(r.left+D/3,r.top+I/3,i-D/3,o-I/3,fr.TOP_LEFT):new bt(r.left+D/3,r.top+I/3),this.topRightBorderDoubleOuterBox=i>0||o>0?ns(r.left+v,r.top+I/3,l-T/3,c-I/3,fr.TOP_RIGHT):new bt(r.left+r.width-T/3,r.top+I/3),this.bottomRightBorderDoubleOuterBox=A>0||d>0?ns(r.left+C,r.top+b,A-T/3,d-F/3,fr.BOTTOM_RIGHT):new bt(r.left+r.width-T/3,r.top+r.height-F/3),this.bottomLeftBorderDoubleOuterBox=p>0||m>0?ns(r.left+D/3,r.top+_,p-D/3,m-F/3,fr.BOTTOM_LEFT):new bt(r.left+D/3,r.top+r.height-F/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?ns(r.left+D*2/3,r.top+I*2/3,i-D*2/3,o-I*2/3,fr.TOP_LEFT):new bt(r.left+D*2/3,r.top+I*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?ns(r.left+v,r.top+I*2/3,l-T*2/3,c-I*2/3,fr.TOP_RIGHT):new bt(r.left+r.width-T*2/3,r.top+I*2/3),this.bottomRightBorderDoubleInnerBox=A>0||d>0?ns(r.left+C,r.top+b,A-T*2/3,d-F*2/3,fr.BOTTOM_RIGHT):new bt(r.left+r.width-T*2/3,r.top+r.height-F*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||m>0?ns(r.left+D*2/3,r.top+_,p-D*2/3,m-F*2/3,fr.BOTTOM_LEFT):new bt(r.left+D*2/3,r.top+r.height-F*2/3),this.topLeftBorderStroke=i>0||o>0?ns(r.left+D/2,r.top+I/2,i-D/2,o-I/2,fr.TOP_LEFT):new bt(r.left+D/2,r.top+I/2),this.topRightBorderStroke=i>0||o>0?ns(r.left+v,r.top+I/2,l-T/2,c-I/2,fr.TOP_RIGHT):new bt(r.left+r.width-T/2,r.top+I/2),this.bottomRightBorderStroke=A>0||d>0?ns(r.left+C,r.top+b,A-T/2,d-F/2,fr.BOTTOM_RIGHT):new bt(r.left+r.width-T/2,r.top+r.height-F/2),this.bottomLeftBorderStroke=p>0||m>0?ns(r.left+D/2,r.top+_,p-D/2,m-F/2,fr.BOTTOM_LEFT):new bt(r.left+D/2,r.top+r.height-F/2),this.topLeftBorderBox=i>0||o>0?ns(r.left,r.top,i,o,fr.TOP_LEFT):new bt(r.left,r.top),this.topRightBorderBox=l>0||c>0?ns(r.left+v,r.top,l,c,fr.TOP_RIGHT):new bt(r.left+r.width,r.top),this.bottomRightBorderBox=A>0||d>0?ns(r.left+C,r.top+b,A,d,fr.BOTTOM_RIGHT):new bt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=p>0||m>0?ns(r.left,r.top+_,p,m,fr.BOTTOM_LEFT):new bt(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||o>0?ns(r.left+D,r.top+I,Math.max(0,i-D),Math.max(0,o-I),fr.TOP_LEFT):new bt(r.left+D,r.top+I),this.topRightPaddingBox=l>0||c>0?ns(r.left+Math.min(v,r.width-T),r.top+I,v>r.width+T?0:Math.max(0,l-T),Math.max(0,c-I),fr.TOP_RIGHT):new bt(r.left+r.width-T,r.top+I),this.bottomRightPaddingBox=A>0||d>0?ns(r.left+Math.min(C,r.width-D),r.top+Math.min(b,r.height-F),Math.max(0,A-T),Math.max(0,d-F),fr.BOTTOM_RIGHT):new bt(r.left+r.width-T,r.top+r.height-F),this.bottomLeftPaddingBox=p>0||m>0?ns(r.left+D,r.top+Math.min(_,r.height-F),Math.max(0,p-D),Math.max(0,m-F),fr.BOTTOM_LEFT):new bt(r.left+D,r.top+r.height-F),this.topLeftContentBox=i>0||o>0?ns(r.left+D+W,r.top+I+j,Math.max(0,i-(D+W)),Math.max(0,o-(I+j)),fr.TOP_LEFT):new bt(r.left+D+W,r.top+I+j),this.topRightContentBox=l>0||c>0?ns(r.left+Math.min(v,r.width+D+W),r.top+I+j,v>r.width+D+W?0:l-D+W,c-(I+j),fr.TOP_RIGHT):new bt(r.left+r.width-(T+O),r.top+I+j),this.bottomRightContentBox=A>0||d>0?ns(r.left+Math.min(C,r.width-(D+W)),r.top+Math.min(b,r.height+I+j),Math.max(0,A-(T+O)),d-(F+U),fr.BOTTOM_RIGHT):new bt(r.left+r.width-(T+O),r.top+r.height-(F+U)),this.bottomLeftContentBox=p>0||m>0?ns(r.left+D+W,r.top+_,Math.max(0,p-(D+W)),m-(F+U),fr.BOTTOM_LEFT):new bt(r.left+D+W,r.top+r.height-(F+U))}return t}(),fr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(fr||(fr={}));var ns=function(t,e,n,r,s){var i=4*((Math.sqrt(2)-1)/3),o=n*i,a=r*i,l=t+n,c=e+r;switch(s){case fr.TOP_LEFT:return new oS(new bt(t,c),new bt(t,c-a),new bt(l-o,e),new bt(l,e));case fr.TOP_RIGHT:return new oS(new bt(t,e),new bt(t+o,e),new bt(l,c-a),new bt(l,c));case fr.BOTTOM_RIGHT:return new oS(new bt(l,e),new bt(l,e+a),new bt(t+o,c),new bt(t,c));case fr.BOTTOM_LEFT:default:return new oS(new bt(l,c),new bt(l-o,c),new bt(t,e+a),new bt(t,e))}},y_=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},o_e=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},w_=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},a_e=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),aS=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),l_e=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),c_e=function(t){return t.type===0},cZ=function(t){return t.type===1},u_e=function(t){return t.type===2},Yj=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},A_e=function(t,e,n,r,s){return t.map(function(i,o){switch(o){case 0:return i.add(e,n);case 1:return i.add(e+r,n);case 2:return i.add(e+r,n+s);case 3:return i.add(e,n+s)}return i})},uZ=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),AZ=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new i_e(this.container),this.container.styles.opacity<1&&this.effects.push(new l_e(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new a_e(r,s,i))}if(this.container.styles.overflowX!==0){var o=y_(this.curves),a=w_(this.curves);Yj(o,a)?this.effects.push(new aS(o,6)):(this.effects.push(new aS(o,2)),this.effects.push(new aS(a,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,s=this.effects.slice(0);r;){var i=r.effects.filter(function(l){return!cZ(l)});if(n||r.container.styles.position!==0||!r.parent){if(s.unshift.apply(s,i),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=y_(r.curves),a=w_(r.curves);Yj(o,a)||s.unshift(new aS(a,6))}}else s.unshift.apply(s,i);r=r.parent}return s.filter(function(l){return pi(l.target,e)})},t}(),w3=function(t,e,n,r){t.container.elements.forEach(function(s){var i=pi(s.flags,4),o=pi(s.flags,2),a=new AZ(s,t);pi(s.styles.display,2048)&&r.push(a);var l=pi(s.flags,8)?[]:r;if(i||o){var c=i||s.styles.isPositioned()?n:e,u=new uZ(a);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var A=s.styles.zIndex.order;if(A<0){var d=0;c.negativeZIndex.some(function(p,m){return A>p.element.container.styles.zIndex.order?(d=m,!1):d>0}),c.negativeZIndex.splice(d,0,u)}else if(A>0){var h=0;c.positiveZIndex.some(function(p,m){return A>=p.element.container.styles.zIndex.order?(h=m+1,!1):h>0}),c.positiveZIndex.splice(h,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);w3(a,u,i?u:n,l)}else s.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),w3(a,e,n,l);pi(s.flags,8)&&dZ(s,l)})},dZ=function(t,e){for(var n=t instanceof f3?t.start:1,r=t instanceof f3?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof qY&&typeof i.container.value=="number"&&i.container.value!==0&&(n=i.container.value),i.listValue=rx(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},d_e=function(t){var e=new AZ(t,null),n=new uZ(e),r=[];return w3(e,n,n,r),dZ(e.container,r),n},Zj=function(t,e){switch(e){case 0:return Zl(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Zl(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Zl(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Zl(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},h_e=function(t,e){switch(e){case 0:return Zl(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Zl(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Zl(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Zl(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},f_e=function(t,e){switch(e){case 0:return Zl(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Zl(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Zl(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Zl(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},p_e=function(t,e){switch(e){case 0:return lS(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return lS(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return lS(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return lS(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},lS=function(t,e){var n=[];return Gl(t)?n.push(t.subdivide(.5,!1)):n.push(t),Gl(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},Zl=function(t,e,n,r){var s=[];return Gl(t)?s.push(t.subdivide(.5,!1)):s.push(t),Gl(n)?s.push(n.subdivide(.5,!0)):s.push(n),Gl(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),Gl(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},hZ=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},v_=function(t){var e=t.styles,n=t.bounds,r=Mr(e.paddingLeft,n.width),s=Mr(e.paddingRight,n.width),i=Mr(e.paddingTop,n.width),o=Mr(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+s),-(e.borderTopWidth+e.borderBottomWidth+i+o))},m_e=function(t,e){return t===0?e.bounds:t===2?v_(e):hZ(e)},g_e=function(t,e){return t===0?e.bounds:t===2?v_(e):hZ(e)},A5=function(t,e,n){var r=m_e(Pg(t.styles.backgroundOrigin,e),t),s=g_e(Pg(t.styles.backgroundClip,e),t),i=y_e(Pg(t.styles.backgroundSize,e),n,r),o=i[0],a=i[1],l=Qw(Pg(t.styles.backgroundPosition,e),r.width-o,r.height-a),c=w_e(Pg(t.styles.backgroundRepeat,e),l,i,r,s),u=Math.round(r.left+l[0]),A=Math.round(r.top+l[1]);return[c,u,A,o,a]},Ig=function(t){return _r(t)&&t.value===y0.AUTO},cS=function(t){return typeof t=="number"},y_e=function(t,e,n){var r=e[0],s=e[1],i=e[2],o=t[0],a=t[1];if(!o)return[0,0];if(Ys(o)&&a&&Ys(a))return[Mr(o,n.width),Mr(a,n.height)];var l=cS(i);if(_r(o)&&(o.value===y0.CONTAIN||o.value===y0.COVER)){if(cS(i)){var c=n.width/n.height;return c<i!=(o.value===y0.COVER)?[n.width,n.width/i]:[n.height*i,n.height]}return[n.width,n.height]}var u=cS(r),A=cS(s),d=u||A;if(Ig(o)&&(!a||Ig(a))){if(u&&A)return[r,s];if(!l&&!d)return[n.width,n.height];if(d&&l){var h=u?r:s*i,p=A?s:r/i;return[h,p]}var m=u?r:n.width,y=A?s:n.height;return[m,y]}if(l){var g=0,v=0;return Ys(o)?g=Mr(o,n.width):Ys(a)&&(v=Mr(a,n.height)),Ig(o)?g=v*i:(!a||Ig(a))&&(v=g/i),[g,v]}var b=null,C=null;if(Ys(o)?b=Mr(o,n.width):a&&Ys(a)&&(C=Mr(a,n.height)),b!==null&&(!a||Ig(a))&&(C=u&&A?b/r*s:n.height),C!==null&&Ig(o)&&(b=u&&A?C/s*r:n.width),b!==null&&C!==null)return[b,C];throw new Error("Unable to calculate background-size for element")},Pg=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},w_e=function(t,e,n,r,s){var i=e[0],o=e[1],a=n[0],l=n[1];switch(t){case 2:return[new bt(Math.round(r.left),Math.round(r.top+o)),new bt(Math.round(r.left+r.width),Math.round(r.top+o)),new bt(Math.round(r.left+r.width),Math.round(l+r.top+o)),new bt(Math.round(r.left),Math.round(l+r.top+o))];case 3:return[new bt(Math.round(r.left+i),Math.round(r.top)),new bt(Math.round(r.left+i+a),Math.round(r.top)),new bt(Math.round(r.left+i+a),Math.round(r.height+r.top)),new bt(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new bt(Math.round(r.left+i),Math.round(r.top+o)),new bt(Math.round(r.left+i+a),Math.round(r.top+o)),new bt(Math.round(r.left+i+a),Math.round(r.top+o+l)),new bt(Math.round(r.left+i),Math.round(r.top+o+l))];default:return[new bt(Math.round(s.left),Math.round(s.top)),new bt(Math.round(s.left+s.width),Math.round(s.top)),new bt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new bt(Math.round(s.left),Math.round(s.height+s.top))]}},v_e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Jj="Hidden Text",x_e=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),s.src=v_e,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=n,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(Jj)),r.appendChild(i),r.appendChild(s);var a=s.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(Jj)),r.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:a,middle:l}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),fZ=function(){function t(e,n){this.context=e,this.options=n}return t}(),b_e=1e4,C_e=function(t){vu(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s._activeEffects=[],s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),r.canvas||(s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px"),s.fontMetrics=new x_e(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),s}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(s){return r.applyEffect(s)})},e.prototype.applyEffect=function(n){this.ctx.save(),u_e(n)&&(this.ctx.globalAlpha=n.opacity),c_e(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),cZ(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return Ho(this,void 0,void 0,function(){var r;return xo(this,function(s){switch(s.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return Ho(this,void 0,void 0,function(){return xo(this,function(r){switch(r.label){case 0:if(pi(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,s){var i=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+s);else{var o=zR(n.text);o.reduce(function(a,l){return i.ctx.fillText(l,a,n.bounds.top+s),a+i.ctx.measureText(l).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=I_e(n.fontFamily).join(", "),i=tb(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(n,r){return Ho(this,void 0,void 0,function(){var s,i,o,a,l,c,u,A,d=this;return xo(this,function(h){return s=this.createFontStyle(r),i=s[0],o=s[1],a=s[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,a),c=l.baseline,u=l.middle,A=r.paintOrder,n.textBounds.forEach(function(p){A.forEach(function(m){switch(m){case 0:d.ctx.fillStyle=Si(r.color),d.renderTextWithLetterSpacing(p,r.letterSpacing,c);var y=r.textShadow;y.length&&p.text.trim().length&&(y.slice(0).reverse().forEach(function(g){d.ctx.shadowColor=Si(g.color),d.ctx.shadowOffsetX=g.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=g.offsetY.number*d.options.scale,d.ctx.shadowBlur=g.blur.number,d.renderTextWithLetterSpacing(p,r.letterSpacing,c)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),r.textDecorationLine.length&&(d.ctx.fillStyle=Si(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(g){switch(g){case 1:d.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+c),p.bounds.width,1);break;case 2:d.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:d.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+u),p.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&p.text.trim().length&&(d.ctx.strokeStyle=Si(r.webkitTextStrokeColor),d.ctx.lineWidth=r.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+c)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,s){if(s&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var i=v_(n),o=w_(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,n.intrinsicWidth,n.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return Ho(this,void 0,void 0,function(){var r,s,i,o,a,l,v,v,c,u,A,d,C,h,p,_,m,y,g,v,b,C,_;return xo(this,function(I){switch(I.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,s=n.curves,i=r.styles,o=0,a=r.textNodes,I.label=1;case 1:return o<a.length?(l=a[o],[4,this.renderTextNode(l,i)]):[3,4];case 2:I.sent(),I.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof WY))return[3,8];I.label=5;case 5:return I.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return v=I.sent(),this.renderReplacedElement(r,s,v),[3,8];case 7:return I.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof GY&&this.renderReplacedElement(r,s,r.canvas),!(r instanceof KY))return[3,12];I.label=9;case 9:return I.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return v=I.sent(),this.renderReplacedElement(r,s,v),[3,12];case 11:return I.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof ZY&&r.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:u=I.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),I.label=14;case 14:if(r instanceof VR&&(A=Math.min(r.bounds.width,r.bounds.height),r.type===f_?r.checked&&(this.ctx.save(),this.path([new bt(r.bounds.left+A*.39363,r.bounds.top+A*.79),new bt(r.bounds.left+A*.16,r.bounds.top+A*.5549),new bt(r.bounds.left+A*.27347,r.bounds.top+A*.44071),new bt(r.bounds.left+A*.39694,r.bounds.top+A*.5649),new bt(r.bounds.left+A*.72983,r.bounds.top+A*.23),new bt(r.bounds.left+A*.84,r.bounds.top+A*.34085),new bt(r.bounds.left+A*.39363,r.bounds.top+A*.79)]),this.ctx.fillStyle=Si(Mj),this.ctx.fill(),this.ctx.restore()):r.type===p_&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+A/2,r.bounds.top+A/2,A/4,0,Math.PI*2,!0),this.ctx.fillStyle=Si(Mj),this.ctx.fill(),this.ctx.restore())),S_e(r)&&r.value.length){switch(d=this.createFontStyle(i),C=d[0],h=d[1],p=this.fontMetrics.getMetrics(C,h).baseline,this.ctx.font=C,this.ctx.fillStyle=Si(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=__e(r.styles.textAlign),_=v_(r),m=0,r.styles.textAlign){case 1:m+=_.width/2;break;case 2:m+=_.width;break}y=_.add(m,0,0,-_.height/2+1),this.ctx.save(),this.path([new bt(_.left,_.top),new bt(_.left+_.width,_.top),new bt(_.left+_.width,_.top+_.height),new bt(_.left,_.top+_.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new yv(r.value,y),i.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!pi(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(g=r.styles.listStyleImage,g.type!==0)return[3,18];v=void 0,b=g.url,I.label=15;case 15:return I.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return v=I.sent(),this.ctx.drawImage(v,r.bounds.left-(v.width+10),r.bounds.top),[3,18];case 17:return I.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(C=this.createFontStyle(i)[0],this.ctx.font=C,this.ctx.fillStyle=Si(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",_=new wd(r.bounds.left,r.bounds.top+Mr(r.styles.paddingTop,r.bounds.width),r.bounds.width,Cj(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new yv(n.listValue,_),i.letterSpacing,Cj(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),I.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return Ho(this,void 0,void 0,function(){var r,s,g,i,o,g,a,l,g,c,u,g,A,d,g,h,p,g,m,y,g;return xo(this,function(v){switch(v.label){case 0:if(pi(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:v.sent(),r=0,s=n.negativeZIndex,v.label=2;case 2:return r<s.length?(g=s[r],[4,this.renderStack(g)]):[3,5];case 3:v.sent(),v.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:v.sent(),i=0,o=n.nonInlineLevel,v.label=7;case 7:return i<o.length?(g=o[i],[4,this.renderNode(g)]):[3,10];case 8:v.sent(),v.label=9;case 9:return i++,[3,7];case 10:a=0,l=n.nonPositionedFloats,v.label=11;case 11:return a<l.length?(g=l[a],[4,this.renderStack(g)]):[3,14];case 12:v.sent(),v.label=13;case 13:return a++,[3,11];case 14:c=0,u=n.nonPositionedInlineLevel,v.label=15;case 15:return c<u.length?(g=u[c],[4,this.renderStack(g)]):[3,18];case 16:v.sent(),v.label=17;case 17:return c++,[3,15];case 18:A=0,d=n.inlineLevel,v.label=19;case 19:return A<d.length?(g=d[A],[4,this.renderNode(g)]):[3,22];case 20:v.sent(),v.label=21;case 21:return A++,[3,19];case 22:h=0,p=n.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return h<p.length?(g=p[h],[4,this.renderStack(g)]):[3,26];case 24:v.sent(),v.label=25;case 25:return h++,[3,23];case 26:m=0,y=n.positiveZIndex,v.label=27;case 27:return m<y.length?(g=y[m],[4,this.renderStack(g)]):[3,30];case 28:v.sent(),v.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(s,i){var o=Gl(s)?s.start:s;i===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),Gl(s)&&r.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(n,r,s,i){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(n,r,s){var i;if(n.width===r&&n.height===s)return n;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,a=o.createElement("canvas");a.width=Math.max(1,r),a.height=Math.max(1,s);var l=a.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,r,s),a},e.prototype.renderBackgroundImage=function(n){return Ho(this,void 0,void 0,function(){var r,s,i,o,a,l;return xo(this,function(c){switch(c.label){case 0:r=n.styles.backgroundImage.length-1,s=function(u){var A,d,h,j,Z,oe,W,$,F,p,j,Z,oe,W,$,m,y,g,v,b,C,_,I,T,F,D,j,O,U,W,$,J,Z,oe,V,Y,ce,he,z,G,X,re;return xo(this,function(ue){switch(ue.label){case 0:if(u.type!==0)return[3,5];A=void 0,d=u.url,ue.label=1;case 1:return ue.trys.push([1,3,,4]),[4,i.context.cache.match(d)];case 2:return A=ue.sent(),[3,4];case 3:return ue.sent(),i.context.logger.error("Error loading background-image "+d),[3,4];case 4:return A&&(h=A5(n,r,[A.width,A.height,A.width/A.height]),j=h[0],Z=h[1],oe=h[2],W=h[3],$=h[4],F=i.ctx.createPattern(i.resizeImage(A,W,$),"repeat"),i.renderRepeat(j,F,Z,oe)),[3,6];case 5:cCe(u)?(p=A5(n,r,[null,null,null]),j=p[0],Z=p[1],oe=p[2],W=p[3],$=p[4],m=sCe(u.angle,W,$),y=m[0],g=m[1],v=m[2],b=m[3],C=m[4],_=document.createElement("canvas"),_.width=W,_.height=$,I=_.getContext("2d"),T=I.createLinearGradient(g,b,v,C),xj(u.stops,y).forEach(function(Ae){return T.addColorStop(Ae.stop,Si(Ae.color))}),I.fillStyle=T,I.fillRect(0,0,W,$),W>0&&$>0&&(F=i.ctx.createPattern(_,"repeat"),i.renderRepeat(j,F,Z,oe))):uCe(u)&&(D=A5(n,r,[null,null,null]),j=D[0],O=D[1],U=D[2],W=D[3],$=D[4],J=u.position.length===0?[QR]:u.position,Z=Mr(J[0],W),oe=Mr(J[J.length-1],$),V=iCe(u,Z,oe,W,$),Y=V[0],ce=V[1],Y>0&&ce>0&&(he=i.ctx.createRadialGradient(O+Z,U+oe,0,O+Z,U+oe,Y),xj(u.stops,Y*2).forEach(function(Ae){return he.addColorStop(Ae.stop,Si(Ae.color))}),i.path(j),i.ctx.fillStyle=he,Y!==ce?(z=n.bounds.left+.5*n.bounds.width,G=n.bounds.top+.5*n.bounds.height,X=ce/Y,re=1/X,i.ctx.save(),i.ctx.translate(z,G),i.ctx.transform(1,0,0,X,0,0),i.ctx.translate(-z,-G),i.ctx.fillRect(O,re*(U-G)+G,W,$*re),i.ctx.restore()):i.ctx.fill())),ue.label=6;case 6:return r--,[2]}})},i=this,o=0,a=n.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<a.length?(l=a[o],[5,s(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,s){return Ho(this,void 0,void 0,function(){return xo(this,function(i){return this.path(Zj(s,r)),this.ctx.fillStyle=Si(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,s,i){return Ho(this,void 0,void 0,function(){var o,a;return xo(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(n,s,i)]:[3,2];case 1:return l.sent(),[2];case 2:return o=h_e(i,s),this.path(o),this.ctx.fillStyle=Si(n),this.ctx.fill(),a=f_e(i,s),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return Ho(this,void 0,void 0,function(){var r,s,i,o,a,l,c,u,A=this;return xo(this,function(d){switch(d.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,s=!Xh(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=B_e(Pg(r.backgroundClip,0),n.curves),s||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Xh(r.backgroundColor)||(this.ctx.fillStyle=Si(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:d.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(h){A.ctx.save();var p=y_(n.curves),m=h.inset?0:b_e,y=A_e(p,-m+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(A.path(p),A.ctx.clip(),A.mask(y)):(A.mask(p),A.ctx.clip(),A.path(y)),A.ctx.shadowOffsetX=h.offsetX.number+m,A.ctx.shadowOffsetY=h.offsetY.number,A.ctx.shadowColor=Si(h.color),A.ctx.shadowBlur=h.blur.number,A.ctx.fillStyle=h.inset?Si(h.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()}),d.label=2;case 2:a=0,l=0,c=i,d.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!Xh(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,2)]:[3,11]):[3,13];case 4:return d.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,3)];case 6:return d.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,n.curves)];case 8:return d.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,n.curves)];case 10:d.sent(),d.label=11;case 11:a++,d.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,s,i,o){return Ho(this,void 0,void 0,function(){var a,l,c,u,A,d,h,p,m,y,g,v,b,C,_,I,_,I;return xo(this,function(T){return this.ctx.save(),a=p_e(i,s),l=Zj(i,s),o===2&&(this.path(l),this.ctx.clip()),Gl(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),Gl(l[1])?(A=l[1].end.x,d=l[1].end.y):(A=l[1].x,d=l[1].y),s===0||s===2?h=Math.abs(c-A):h=Math.abs(u-d),this.ctx.beginPath(),o===3?this.formatPath(a):this.formatPath(l.slice(0,2)),p=r<3?r*3:r*2,m=r<3?r*2:r,o===3&&(p=r,m=r),y=!0,h<=p*2?y=!1:h<=p*2+m?(g=h/(2*p+m),p*=g,m*=g):(v=Math.floor((h+m)/(p+m)),b=(h-v*p)/(v-1),C=(h-(v+1)*p)/v,m=C<=0||Math.abs(m-b)<Math.abs(m-C)?b:C),y&&(o===3?this.ctx.setLineDash([0,p+m]):this.ctx.setLineDash([p,m])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Si(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Gl(l[0])&&(_=l[3],I=l[0],this.ctx.beginPath(),this.formatPath([new bt(_.end.x,_.end.y),new bt(I.start.x,I.start.y)]),this.ctx.stroke()),Gl(l[1])&&(_=l[1],I=l[2],this.ctx.beginPath(),this.formatPath([new bt(_.end.x,_.end.y),new bt(I.start.x,I.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return Ho(this,void 0,void 0,function(){var r;return xo(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Si(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=d_e(n),[4,this.renderStack(r)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(fZ),S_e=function(t){return t instanceof YY||t instanceof XY?!0:t instanceof VR&&t.type!==p_&&t.type!==f_},B_e=function(t,e){switch(t){case 0:return y_(e);case 2:return o_e(e);case 1:default:return w_(e)}},__e=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},N_e=["-apple-system","system-ui"],I_e=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return N_e.indexOf(e)===-1}):t},E_e=function(t){vu(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=r,s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),s}return e.prototype.render=function(n){return Ho(this,void 0,void 0,function(){var r,s;return xo(this,function(i){switch(i.label){case 0:return r=h3(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,k_e(r)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Si(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(fZ),k_e=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},T_e=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,QC([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,QC([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,QC([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,QC([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),F_e=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new T_e({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new ZBe(this,e)}return t.instanceCount=1,t}(),pZ=function(t,e){return e===void 0&&(e={}),L_e(t,e)};typeof window<"u"&&lZ.setContext(window);var L_e=function(t,e){return Ho(void 0,void 0,void 0,function(){var n,r,s,i,o,a,l,c,u,A,d,h,p,m,y,g,v,b,C,_,T,I,T,F,D,j,O,U,W,$,J,Z,oe,V,Y,ce,he,z,G,X;return xo(this,function(re){switch(re.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return s={allowTaint:(F=e.allowTaint)!==null&&F!==void 0?F:!1,imageTimeout:(D=e.imageTimeout)!==null&&D!==void 0?D:15e3,proxy:e.proxy,useCORS:(j=e.useCORS)!==null&&j!==void 0?j:!1},i=Z4({logging:(O=e.logging)!==null&&O!==void 0?O:!0,cache:e.cache},s),o={windowWidth:(U=e.windowWidth)!==null&&U!==void 0?U:r.innerWidth,windowHeight:(W=e.windowHeight)!==null&&W!==void 0?W:r.innerHeight,scrollX:($=e.scrollX)!==null&&$!==void 0?$:r.pageXOffset,scrollY:(J=e.scrollY)!==null&&J!==void 0?J:r.pageYOffset},a=new wd(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new F_e(i,a),c=(Z=e.foreignObjectRendering)!==null&&Z!==void 0?Z:!1,u={allowTaint:(oe=e.allowTaint)!==null&&oe!==void 0?oe:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),A=new qj(l,t,u),d=A.clonedReferenceElement,d?[4,A.toIFrame(n,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=re.sent(),p=WR(d)||RBe(d)?Abe(d.ownerDocument):GN(l,d),m=p.width,y=p.height,g=p.left,v=p.top,b=D_e(l,d,e.backgroundColor),C={canvas:e.canvas,backgroundColor:b,scale:(Y=(V=e.scale)!==null&&V!==void 0?V:r.devicePixelRatio)!==null&&Y!==void 0?Y:1,x:((ce=e.x)!==null&&ce!==void 0?ce:0)+g,y:((he=e.y)!==null&&he!==void 0?he:0)+v,width:(z=e.width)!==null&&z!==void 0?z:Math.ceil(m),height:(G=e.height)!==null&&G!==void 0?G:Math.ceil(y)},c?(l.logger.debug("Document cloned, using foreign object rendering"),T=new E_e(l,C),[4,T.render(d)]):[3,3];case 2:return _=re.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+g+","+v+" with size "+m+"x"+y+" using computed rendering"),l.logger.debug("Starting DOM parsing"),I=eZ(l,d),b===I.styles.backgroundColor&&(I.styles.backgroundColor=cd.TRANSPARENT),l.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),T=new C_e(l,C),[4,T.render(I)];case 4:_=re.sent(),re.label=5;case 5:return(!((X=e.removeContainer)!==null&&X!==void 0)||X)&&(qj.destroy(h)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,_]}})})},D_e=function(t,e,n){var r=e.ownerDocument,s=r.documentElement?mv(t,getComputedStyle(r.documentElement).backgroundColor):cd.TRANSPARENT,i=r.body?mv(t,getComputedStyle(r.body).backgroundColor):cd.TRANSPARENT,o=typeof n=="string"?mv(t,n):n===null?cd.TRANSPARENT:4294967295;return e===r.documentElement?Xh(s)?Xh(i)?o:i:s:o};const R_e=Object.freeze(Object.defineProperty({__proto__:null,default:pZ},Symbol.toStringTag,{value:"Module"})),P_e="modulepreload",O_e=function(t){return"/"+t},e8={},d5=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=O_e(l),l in e8)return;e8[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const A=document.createElement("link");if(A.rel=c?"stylesheet":P_e,c||(A.as="script"),A.crossOrigin="",A.href=l,a&&A.setAttribute("nonce",a),document.head.appendChild(A),c)return new Promise((d,h)=>{A.addEventListener("load",d),A.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function xr(t){"@babel/helpers - typeof";return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xr(t)}var hu=Uint8Array,ul=Uint16Array,GR=Int32Array,KR=new hu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qR=new hu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),t8=new hu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mZ=function(t,e){for(var n=new ul(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var s=new GR(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},gZ=mZ(KR,2),$_e=gZ.b,v3=gZ.r;$_e[28]=258,v3[258]=28;var U_e=mZ(qR,0),n8=U_e.r,x3=new ul(32768);for(var Yr=0;Yr<32768;++Yr){var ah=(Yr&43690)>>1|(Yr&21845)<<1;ah=(ah&52428)>>2|(ah&13107)<<2,ah=(ah&61680)>>4|(ah&3855)<<4,x3[Yr]=((ah&65280)>>8|(ah&255)<<8)>>1}var vv=function(t,e,n){for(var r=t.length,s=0,i=new ul(e);s<r;++s)t[s]&&++i[t[s]-1];var o=new ul(e);for(s=1;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var a;if(n){a=new ul(1<<e);var l=15-e;for(s=0;s<r;++s)if(t[s])for(var c=s<<4|t[s],u=e-t[s],A=o[t[s]-1]++<<u,d=A|(1<<u)-1;A<=d;++A)a[x3[A]>>l]=c}else for(a=new ul(r),s=0;s<r;++s)t[s]&&(a[s]=x3[o[t[s]-1]++]>>15-t[s]);return a},pm=new hu(288);for(var Yr=0;Yr<144;++Yr)pm[Yr]=8;for(var Yr=144;Yr<256;++Yr)pm[Yr]=9;for(var Yr=256;Yr<280;++Yr)pm[Yr]=7;for(var Yr=280;Yr<288;++Yr)pm[Yr]=8;var x_=new hu(32);for(var Yr=0;Yr<32;++Yr)x_[Yr]=5;var M_e=vv(pm,9,0),Q_e=vv(x_,5,0),yZ=function(t){return(t+7)/8|0},j_e=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new hu(t.subarray(e,n))},WA=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},vw=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},h5=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,i=n.slice();if(!s)return{t:vZ,l:0};if(s==1){var o=new hu(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(_,I){return _.f-I.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,A=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=s-1;)a=n[n[c].f<n[A].f?c++:A++],l=n[c!=u&&n[c].f<n[A].f?c++:A++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var d=i[0].s,r=1;r<s;++r)i[r].s>d&&(d=i[r].s);var h=new ul(d+1),p=b3(n[u-1],h,0);if(p>e){var r=0,m=0,y=p-e,g=1<<y;for(i.sort(function(I,T){return h[T.s]-h[I.s]||I.f-T.f});r<s;++r){var v=i[r].s;if(h[v]>e)m+=g-(1<<p-h[v]),h[v]=e;else break}for(m>>=y;m>0;){var b=i[r].s;h[b]<e?m-=1<<e-h[b]++-1:++r}for(;r>=0&&m;--r){var C=i[r].s;h[C]==e&&(--h[C],++m)}p=e}return{t:new hu(h),l:p}},b3=function(t,e,n){return t.s==-1?Math.max(b3(t.l,e,n+1),b3(t.r,e,n+1)):e[t.s]=n},r8=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ul(++e),r=0,s=t[0],i=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[a]}return{c:n.subarray(0,r),n:e}},xw=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},wZ=function(t,e,n){var r=n.length,s=yZ(e+2);t[s]=r&255,t[s+1]=r>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<r;++i)t[s+i+4]=n[i];return(s+4+r)*8},s8=function(t,e,n,r,s,i,o,a,l,c,u){WA(e,u++,n),++s[256];for(var A=h5(s,15),d=A.t,h=A.l,p=h5(i,15),m=p.t,y=p.l,g=r8(d),v=g.c,b=g.n,C=r8(m),_=C.c,I=C.n,T=new ul(19),F=0;F<v.length;++F)++T[v[F]&31];for(var F=0;F<_.length;++F)++T[_[F]&31];for(var D=h5(T,7),j=D.t,O=D.l,U=19;U>4&&!j[t8[U-1]];--U);var W=c+5<<3,$=xw(s,pm)+xw(i,x_)+o,J=xw(s,d)+xw(i,m)+o+14+3*U+xw(T,j)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&W<=$&&W<=J)return wZ(e,u,t.subarray(l,l+c));var Z,oe,V,Y;if(WA(e,u,1+(J<$)),u+=2,J<$){Z=vv(d,h,0),oe=d,V=vv(m,y,0),Y=m;var ce=vv(j,O,0);WA(e,u,b-257),WA(e,u+5,I-1),WA(e,u+10,U-4),u+=14;for(var F=0;F<U;++F)WA(e,u+3*F,j[t8[F]]);u+=3*U;for(var he=[v,_],z=0;z<2;++z)for(var G=he[z],F=0;F<G.length;++F){var X=G[F]&31;WA(e,u,ce[X]),u+=j[X],X>15&&(WA(e,u,G[F]>>5&127),u+=G[F]>>12)}}else Z=M_e,oe=pm,V=Q_e,Y=x_;for(var F=0;F<a;++F){var re=r[F];if(re>255){var X=re>>18&31;vw(e,u,Z[X+257]),u+=oe[X+257],X>7&&(WA(e,u,re>>23&31),u+=KR[X]);var ue=re&31;vw(e,u,V[ue]),u+=Y[ue],ue>3&&(vw(e,u,re>>5&8191),u+=qR[ue])}else vw(e,u,Z[re]),u+=oe[re]}return vw(e,u,Z[256]),u+oe[256]},H_e=new GR([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),vZ=new hu(0),z_e=function(t,e,n,r,s,i){var o=i.z||t.length,a=new hu(r+o+5*(1+Math.ceil(o/7e3))+s),l=a.subarray(r,a.length-s),c=i.l,u=(i.r||0)&7;if(e){u&&(l[0]=i.r>>3);for(var A=H_e[e-1],d=A>>13,h=A&8191,p=(1<<n)-1,m=i.p||new ul(32768),y=i.h||new ul(p+1),g=Math.ceil(n/3),v=2*g,b=function(ot){return(t[ot]^t[ot+1]<<g^t[ot+2]<<v)&p},C=new GR(25e3),_=new ul(288),I=new ul(32),T=0,F=0,D=i.i||0,j=0,O=i.w||0,U=0;D+2<o;++D){var W=b(D),$=D&32767,J=y[W];if(m[$]=J,y[W]=$,O<=D){var Z=o-D;if((T>7e3||j>24576)&&(Z>423||!c)){u=s8(t,l,0,C,_,I,F,j,U,D-U,u),j=T=F=0,U=D;for(var oe=0;oe<286;++oe)_[oe]=0;for(var oe=0;oe<30;++oe)I[oe]=0}var V=2,Y=0,ce=h,he=$-J&32767;if(Z>2&&W==b(D-he))for(var z=Math.min(d,Z)-1,G=Math.min(32767,D),X=Math.min(258,Z);he<=G&&--ce&&$!=J;){if(t[D+V]==t[D+V-he]){for(var re=0;re<X&&t[D+re]==t[D+re-he];++re);if(re>V){if(V=re,Y=he,re>z)break;for(var ue=Math.min(he,re-2),Ae=0,oe=0;oe<ue;++oe){var we=D-he+oe&32767,Ce=m[we],Ne=we-Ce&32767;Ne>Ae&&(Ae=Ne,J=we)}}}$=J,J=m[$],he+=$-J&32767}if(Y){C[j++]=268435456|v3[V]<<18|n8[Y];var ke=v3[V]&31,je=n8[Y]&31;F+=KR[ke]+qR[je],++_[257+ke],++I[je],O=D+V,++T}else C[j++]=t[D],++_[t[D]]}}for(D=Math.max(D,O);D<o;++D)C[j++]=t[D],++_[t[D]];u=s8(t,l,c,C,_,I,F,j,U,D-U,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=y,i.p=m,i.i=D,i.w=O)}else{for(var D=i.w||0;D<o+c;D+=65535){var Ge=D+65535;Ge>=o&&(l[u/8|0]=c,Ge=o),u=wZ(l,u+1,t.subarray(D,Ge))}i.i=o}return j_e(a,0,r+yZ(u)+s)},xZ=function(){var t=1,e=0;return{p:function(n){for(var r=t,s=e,i=n.length|0,o=0;o!=i;){for(var a=Math.min(o+2655,i);o<a;++o)s+=r+=n[o];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}t=r,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},V_e=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new hu(i.length+t.length);o.set(i),o.set(t,i.length),t=o,s.w=i.length}return z_e(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,s)},bZ=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},W_e=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=xZ();s.p(e.dictionary),bZ(t,2,s.d())}};function C3(t,e){e||(e={});var n=xZ();n.p(t);var r=V_e(t,e,e.dictionary?6:2,4);return W_e(r,e),bZ(r,r.length-4,n.d()),r}var G_e=typeof TextDecoder<"u"&&new TextDecoder,K_e=0;try{G_e.decode(vZ,{stream:!0}),K_e=1}catch{}function q_e(t){if(Array.isArray(t))return t}function X_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function i8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Y_e(t,e){if(t){if(typeof t=="string")return i8(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i8(t,e):void 0}}function Z_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o8(t,e){return q_e(t)||X_e(t,e)||Y_e(t,e)||Z_e()}function a8(t,e="utf8"){return new TextDecoder(e).decode(t)}const J_e=new TextEncoder;function eNe(t){return J_e.encode(t)}const tNe=1024*8,nNe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),f5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class XR{constructor(e=tNe,n={}){Hn(this,"buffer");Hn(this,"byteLength");Hn(this,"byteOffset");Hn(this,"length");Hn(this,"offset");Hn(this,"lastWrittenByte");Hn(this,"littleEndian");Hn(this,"_data");Hn(this,"_mark");Hn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=n.offset?n.offset>>>0:0,i=e.byteLength-s;let o=s;(ArrayBuffer.isView(e)||e instanceof XR)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=f5[n].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+r);if(this.littleEndian===nNe&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(s,s+r));a.reverse();const l=new f5[n](a.buffer);return this.offset+=r,l.reverse(),l}const o=new f5[n](i);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return a8(this.readBytes(e))}decodeText(e=1,n="utf8"){return a8(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(eNe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const rNe=4,l8=0,c8=1,sNe=2;function ky(t){let e=t.length;for(;--e>=0;)t[e]=0}const iNe=0,CZ=1,oNe=2,aNe=3,lNe=258,YR=29,nb=256,sx=nb+1+YR,w0=30,ZR=19,SZ=2*sx+1,Rp=15,p5=16,cNe=7,JR=256,BZ=16,_Z=17,NZ=18,S3=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),lB=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),uNe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),IZ=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ANe=512,ZA=new Array((sx+2)*2);ky(ZA);const xv=new Array(w0*2);ky(xv);const ix=new Array(ANe);ky(ix);const ox=new Array(lNe-aNe+1);ky(ox);const eP=new Array(YR);ky(eP);const b_=new Array(w0);ky(b_);function m5(t,e,n,r,s){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=s,this.has_stree=t&&t.length}let EZ,kZ,TZ;function g5(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const FZ=t=>t<256?ix[t]:ix[256+(t>>>7)],ax=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},ka=(t,e,n)=>{t.bi_valid>p5-n?(t.bi_buf|=e<<t.bi_valid&65535,ax(t,t.bi_buf),t.bi_buf=e>>p5-t.bi_valid,t.bi_valid+=n-p5):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},Ju=(t,e,n)=>{ka(t,n[e*2],n[e*2+1])},LZ=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},dNe=t=>{t.bi_valid===16?(ax(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},hNe=(t,e)=>{const n=e.dyn_tree,r=e.max_code,s=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,u,A,d,h,p,m=0;for(d=0;d<=Rp;d++)t.bl_count[d]=0;for(n[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<SZ;c++)u=t.heap[c],d=n[n[u*2+1]*2+1]+1,d>l&&(d=l,m++),n[u*2+1]=d,!(u>r)&&(t.bl_count[d]++,h=0,u>=a&&(h=o[u-a]),p=n[u*2],t.opt_len+=p*(d+h),i&&(t.static_len+=p*(s[u*2+1]+h)));if(m!==0){do{for(d=l-1;t.bl_count[d]===0;)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[l]--,m-=2}while(m>0);for(d=l;d!==0;d--)for(u=t.bl_count[d];u!==0;)A=t.heap[--c],!(A>r)&&(n[A*2+1]!==d&&(t.opt_len+=(d-n[A*2+1])*n[A*2],n[A*2+1]=d),u--)}},DZ=(t,e,n)=>{const r=new Array(Rp+1);let s=0,i,o;for(i=1;i<=Rp;i++)s=s+n[i-1]<<1,r[i]=s;for(o=0;o<=e;o++){let a=t[o*2+1];a!==0&&(t[o*2]=LZ(r[a]++,a))}},fNe=()=>{let t,e,n,r,s;const i=new Array(Rp+1);for(n=0,r=0;r<YR-1;r++)for(eP[r]=n,t=0;t<1<<S3[r];t++)ox[n++]=r;for(ox[n-1]=r,s=0,r=0;r<16;r++)for(b_[r]=s,t=0;t<1<<lB[r];t++)ix[s++]=r;for(s>>=7;r<w0;r++)for(b_[r]=s<<7,t=0;t<1<<lB[r]-7;t++)ix[256+s++]=r;for(e=0;e<=Rp;e++)i[e]=0;for(t=0;t<=143;)ZA[t*2+1]=8,t++,i[8]++;for(;t<=255;)ZA[t*2+1]=9,t++,i[9]++;for(;t<=279;)ZA[t*2+1]=7,t++,i[7]++;for(;t<=287;)ZA[t*2+1]=8,t++,i[8]++;for(DZ(ZA,sx+1,i),t=0;t<w0;t++)xv[t*2+1]=5,xv[t*2]=LZ(t,5);EZ=new m5(ZA,S3,nb+1,sx,Rp),kZ=new m5(xv,lB,0,w0,Rp),TZ=new m5(new Array(0),uNe,0,ZR,cNe)},RZ=t=>{let e;for(e=0;e<sx;e++)t.dyn_ltree[e*2]=0;for(e=0;e<w0;e++)t.dyn_dtree[e*2]=0;for(e=0;e<ZR;e++)t.bl_tree[e*2]=0;t.dyn_ltree[JR*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},PZ=t=>{t.bi_valid>8?ax(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},u8=(t,e,n,r)=>{const s=e*2,i=n*2;return t[s]<t[i]||t[s]===t[i]&&r[e]<=r[n]},y5=(t,e,n)=>{const r=t.heap[n];let s=n<<1;for(;s<=t.heap_len&&(s<t.heap_len&&u8(e,t.heap[s+1],t.heap[s],t.depth)&&s++,!u8(e,r,t.heap[s],t.depth));)t.heap[n]=t.heap[s],n=s,s<<=1;t.heap[n]=r},A8=(t,e,n)=>{let r,s,i=0,o,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+i++]&255,r+=(t.pending_buf[t.sym_buf+i++]&255)<<8,s=t.pending_buf[t.sym_buf+i++],r===0?Ju(t,s,e):(o=ox[s],Ju(t,o+nb+1,e),a=S3[o],a!==0&&(s-=eP[o],ka(t,s,a)),r--,o=FZ(r),Ju(t,o,n),a=lB[o],a!==0&&(r-=b_[o],ka(t,r,a)));while(i<t.sym_next);Ju(t,JR,e)},B3=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,s=e.stat_desc.has_stree,i=e.stat_desc.elems;let o,a,l=-1,c;for(t.heap_len=0,t.heap_max=SZ,o=0;o<i;o++)n[o*2]!==0?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):n[o*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,n[c*2]=1,t.depth[c]=0,t.opt_len--,s&&(t.static_len-=r[c*2+1]);for(e.max_code=l,o=t.heap_len>>1;o>=1;o--)y5(t,n,o);c=i;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],y5(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,n[c*2]=n[o*2]+n[a*2],t.depth[c]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,n[o*2+1]=n[a*2+1]=c,t.heap[1]=c++,y5(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],hNe(t,e),DZ(n,l,t.bl_count)},d8=(t,e,n)=>{let r,s=-1,i,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)i=o,o=e[(r+1)*2+1],!(++a<l&&i===o)&&(a<c?t.bl_tree[i*2]+=a:i!==0?(i!==s&&t.bl_tree[i*2]++,t.bl_tree[BZ*2]++):a<=10?t.bl_tree[_Z*2]++:t.bl_tree[NZ*2]++,a=0,s=i,o===0?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4))},h8=(t,e,n)=>{let r,s=-1,i,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),r=0;r<=n;r++)if(i=o,o=e[(r+1)*2+1],!(++a<l&&i===o)){if(a<c)do Ju(t,i,t.bl_tree);while(--a!==0);else i!==0?(i!==s&&(Ju(t,i,t.bl_tree),a--),Ju(t,BZ,t.bl_tree),ka(t,a-3,2)):a<=10?(Ju(t,_Z,t.bl_tree),ka(t,a-3,3)):(Ju(t,NZ,t.bl_tree),ka(t,a-11,7));a=0,s=i,o===0?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4)}},pNe=t=>{let e;for(d8(t,t.dyn_ltree,t.l_desc.max_code),d8(t,t.dyn_dtree,t.d_desc.max_code),B3(t,t.bl_desc),e=ZR-1;e>=3&&t.bl_tree[IZ[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},mNe=(t,e,n,r)=>{let s;for(ka(t,e-257,5),ka(t,n-1,5),ka(t,r-4,4),s=0;s<r;s++)ka(t,t.bl_tree[IZ[s]*2+1],3);h8(t,t.dyn_ltree,e-1),h8(t,t.dyn_dtree,n-1)},gNe=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return l8;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return c8;for(n=32;n<nb;n++)if(t.dyn_ltree[n*2]!==0)return c8;return l8};let f8=!1;const yNe=t=>{f8||(fNe(),f8=!0),t.l_desc=new g5(t.dyn_ltree,EZ),t.d_desc=new g5(t.dyn_dtree,kZ),t.bl_desc=new g5(t.bl_tree,TZ),t.bi_buf=0,t.bi_valid=0,RZ(t)},OZ=(t,e,n,r)=>{ka(t,(iNe<<1)+(r?1:0),3),PZ(t),ax(t,n),ax(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},wNe=t=>{ka(t,CZ<<1,3),Ju(t,JR,ZA),dNe(t)},vNe=(t,e,n,r)=>{let s,i,o=0;t.level>0?(t.strm.data_type===sNe&&(t.strm.data_type=gNe(t)),B3(t,t.l_desc),B3(t,t.d_desc),o=pNe(t),s=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=s&&(s=i)):s=i=n+5,n+4<=s&&e!==-1?OZ(t,e,n,r):t.strategy===rNe||i===s?(ka(t,(CZ<<1)+(r?1:0),3),A8(t,ZA,xv)):(ka(t,(oNe<<1)+(r?1:0),3),mNe(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),A8(t,t.dyn_ltree,t.dyn_dtree)),RZ(t),r&&PZ(t)},xNe=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(ox[n]+nb+1)*2]++,t.dyn_dtree[FZ(e)*2]++),t.sym_next===t.sym_end);var bNe=yNe,CNe=OZ,SNe=vNe,BNe=xNe,_Ne=wNe,NNe={_tr_init:bNe,_tr_stored_block:CNe,_tr_flush_block:SNe,_tr_tally:BNe,_tr_align:_Ne};const INe=(t,e,n,r)=>{let s=t&65535|0,i=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do s=s+e[r++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var lx=INe;const ENe=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},kNe=new Uint32Array(ENe()),TNe=(t,e,n,r)=>{const s=kNe,i=r+n;t^=-1;for(let o=r;o<i;o++)t=t>>>8^s[(t^e[o])&255];return t^-1};var Bi=TNe,Z0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},rb={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:FNe,_tr_stored_block:_3,_tr_flush_block:LNe,_tr_tally:Yh,_tr_align:DNe}=NNe,{Z_NO_FLUSH:Zh,Z_PARTIAL_FLUSH:RNe,Z_FULL_FLUSH:PNe,Z_FINISH:Kl,Z_BLOCK:p8,Z_OK:Gi,Z_STREAM_END:m8,Z_STREAM_ERROR:uA,Z_DATA_ERROR:ONe,Z_BUF_ERROR:w5,Z_DEFAULT_COMPRESSION:$Ne,Z_FILTERED:UNe,Z_HUFFMAN_ONLY:uS,Z_RLE:MNe,Z_FIXED:QNe,Z_DEFAULT_STRATEGY:jNe,Z_UNKNOWN:HNe,Z_DEFLATED:rI}=rb,zNe=9,VNe=15,WNe=8,GNe=29,KNe=256,N3=KNe+1+GNe,qNe=30,XNe=19,YNe=2*N3+1,ZNe=15,Gn=3,Dh=258,AA=Dh+Gn+1,JNe=32,J0=42,tP=57,I3=69,E3=73,k3=91,T3=103,Pp=113,zw=666,Xo=1,Ty=2,mm=3,Fy=4,eIe=3,Op=(t,e)=>(t.msg=Z0[e],e),g8=t=>t*2-(t>4?9:0),xh=t=>{let e=t.length;for(;--e>=0;)t[e]=0},tIe=t=>{let e,n,r,s=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=s?n-s:0;while(--e);e=s,r=e;do n=t.prev[--r],t.prev[r]=n>=s?n-s:0;while(--e)};let nIe=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,Jh=nIe;const rl=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},Al=(t,e)=>{LNe(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,rl(t.strm)},ar=(t,e)=>{t.pending_buf[t.pending++]=e},bw=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},F3=(t,e,n,r)=>{let s=t.avail_in;return s>r&&(s=r),s===0?0:(t.avail_in-=s,e.set(t.input.subarray(t.next_in,t.next_in+s),n),t.state.wrap===1?t.adler=lx(t.adler,e,s,n):t.state.wrap===2&&(t.adler=Bi(t.adler,e,s,n)),t.next_in+=s,t.total_in+=s,s)},$Z=(t,e)=>{let n=t.max_chain_length,r=t.strstart,s,i,o=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-AA?t.strstart-(t.w_size-AA):0,c=t.window,u=t.w_mask,A=t.prev,d=t.strstart+Dh;let h=c[r+o-1],p=c[r+o];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(s=e,!(c[s+o]!==p||c[s+o-1]!==h||c[s]!==c[r]||c[++s]!==c[r+1])){r+=2,s++;do;while(c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&r<d);if(i=Dh-(d-r),r=d-Dh,i>o){if(t.match_start=e,o=i,i>=a)break;h=c[r+o-1],p=c[r+o]}}while((e=A[e&u])>l&&--n!==0);return o<=t.lookahead?o:t.lookahead},ey=t=>{const e=t.w_size;let n,r,s;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-AA)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),tIe(t),r+=e),t.strm.avail_in===0)break;if(n=F3(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=Gn)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=Jh(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=Jh(t,t.ins_h,t.window[s+Gn-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<Gn)););}while(t.lookahead<AA&&t.strm.avail_in!==0)},UZ=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,s,i,o=0,a=t.strm.avail_in;do{if(r=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i||(i=t.strm.avail_out-i,s=t.strstart-t.block_start,r>s+t.strm.avail_in&&(r=s+t.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&e!==Kl||e===Zh||r!==s+t.strm.avail_in)))break;o=e===Kl&&r===s+t.strm.avail_in?1:0,_3(t,0,0,o),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,rl(t.strm),s&&(s>r&&(s=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+s),t.strm.next_out),t.strm.next_out+=s,t.strm.avail_out-=s,t.strm.total_out+=s,t.block_start+=s,r-=s),r&&(F3(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(o===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?Fy:e!==Zh&&e!==Kl&&t.strm.avail_in===0&&t.strstart===t.block_start?Ty:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(F3(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,n=i>t.w_size?t.w_size:i,s=t.strstart-t.block_start,(s>=n||(s||e===Kl)&&e!==Zh&&t.strm.avail_in===0&&s<=i)&&(r=s>i?i:s,o=e===Kl&&t.strm.avail_in===0&&r===s?1:0,_3(t,t.block_start,r,o),t.block_start+=r,rl(t.strm)),o?mm:Xo)},v5=(t,e)=>{let n,r;for(;;){if(t.lookahead<AA){if(ey(t),t.lookahead<AA&&e===Zh)return Xo;if(t.lookahead===0)break}if(n=0,t.lookahead>=Gn&&(t.ins_h=Jh(t,t.ins_h,t.window[t.strstart+Gn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-AA&&(t.match_length=$Z(t,n)),t.match_length>=Gn)if(r=Yh(t,t.strstart-t.match_start,t.match_length-Gn),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Gn){t.match_length--;do t.strstart++,t.ins_h=Jh(t,t.ins_h,t.window[t.strstart+Gn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Jh(t,t.ins_h,t.window[t.strstart+1]);else r=Yh(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Al(t,!1),t.strm.avail_out===0))return Xo}return t.insert=t.strstart<Gn-1?t.strstart:Gn-1,e===Kl?(Al(t,!0),t.strm.avail_out===0?mm:Fy):t.sym_next&&(Al(t,!1),t.strm.avail_out===0)?Xo:Ty},Eg=(t,e)=>{let n,r,s;for(;;){if(t.lookahead<AA){if(ey(t),t.lookahead<AA&&e===Zh)return Xo;if(t.lookahead===0)break}if(n=0,t.lookahead>=Gn&&(t.ins_h=Jh(t,t.ins_h,t.window[t.strstart+Gn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Gn-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-AA&&(t.match_length=$Z(t,n),t.match_length<=5&&(t.strategy===UNe||t.match_length===Gn&&t.strstart-t.match_start>4096)&&(t.match_length=Gn-1)),t.prev_length>=Gn&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-Gn,r=Yh(t,t.strstart-1-t.prev_match,t.prev_length-Gn),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=s&&(t.ins_h=Jh(t,t.ins_h,t.window[t.strstart+Gn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Gn-1,t.strstart++,r&&(Al(t,!1),t.strm.avail_out===0))return Xo}else if(t.match_available){if(r=Yh(t,0,t.window[t.strstart-1]),r&&Al(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Xo}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Yh(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Gn-1?t.strstart:Gn-1,e===Kl?(Al(t,!0),t.strm.avail_out===0?mm:Fy):t.sym_next&&(Al(t,!1),t.strm.avail_out===0)?Xo:Ty},rIe=(t,e)=>{let n,r,s,i;const o=t.window;for(;;){if(t.lookahead<=Dh){if(ey(t),t.lookahead<=Dh&&e===Zh)return Xo;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Gn&&t.strstart>0&&(s=t.strstart-1,r=o[s],r===o[++s]&&r===o[++s]&&r===o[++s])){i=t.strstart+Dh;do;while(r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&s<i);t.match_length=Dh-(i-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Gn?(n=Yh(t,1,t.match_length-Gn),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Yh(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Al(t,!1),t.strm.avail_out===0))return Xo}return t.insert=0,e===Kl?(Al(t,!0),t.strm.avail_out===0?mm:Fy):t.sym_next&&(Al(t,!1),t.strm.avail_out===0)?Xo:Ty},sIe=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(ey(t),t.lookahead===0)){if(e===Zh)return Xo;break}if(t.match_length=0,n=Yh(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Al(t,!1),t.strm.avail_out===0))return Xo}return t.insert=0,e===Kl?(Al(t,!0),t.strm.avail_out===0?mm:Fy):t.sym_next&&(Al(t,!1),t.strm.avail_out===0)?Xo:Ty};function Mu(t,e,n,r,s){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=s}const Vw=[new Mu(0,0,0,0,UZ),new Mu(4,4,8,4,v5),new Mu(4,5,16,8,v5),new Mu(4,6,32,32,v5),new Mu(4,4,16,16,Eg),new Mu(8,16,32,32,Eg),new Mu(8,16,128,128,Eg),new Mu(8,32,128,256,Eg),new Mu(32,128,258,1024,Eg),new Mu(32,258,258,4096,Eg)],iIe=t=>{t.window_size=2*t.w_size,xh(t.head),t.max_lazy_match=Vw[t.level].max_lazy,t.good_match=Vw[t.level].good_length,t.nice_match=Vw[t.level].nice_length,t.max_chain_length=Vw[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Gn-1,t.match_available=0,t.ins_h=0};function oIe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=rI,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(YNe*2),this.dyn_dtree=new Uint16Array((2*qNe+1)*2),this.bl_tree=new Uint16Array((2*XNe+1)*2),xh(this.dyn_ltree),xh(this.dyn_dtree),xh(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(ZNe+1),this.heap=new Uint16Array(2*N3+1),xh(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*N3+1),xh(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const sb=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==J0&&e.status!==tP&&e.status!==I3&&e.status!==E3&&e.status!==k3&&e.status!==T3&&e.status!==Pp&&e.status!==zw?1:0},MZ=t=>{if(sb(t))return Op(t,uA);t.total_in=t.total_out=0,t.data_type=HNe;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?tP:e.wrap?J0:Pp,t.adler=e.wrap===2?0:1,e.last_flush=-2,FNe(e),Gi},QZ=t=>{const e=MZ(t);return e===Gi&&iIe(t.state),e},aIe=(t,e)=>sb(t)||t.state.wrap!==2?uA:(t.state.gzhead=e,Gi),jZ=(t,e,n,r,s,i)=>{if(!t)return uA;let o=1;if(e===$Ne&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),s<1||s>zNe||n!==rI||r<8||r>15||e<0||e>9||i<0||i>QNe||r===8&&o!==1)return Op(t,uA);r===8&&(r=9);const a=new oIe;return t.state=a,a.strm=t,a.status=J0,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=s+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Gn-1)/Gn),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<s+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=i,a.method=n,QZ(t)},lIe=(t,e)=>jZ(t,e,rI,VNe,WNe,jNe),cIe=(t,e)=>{if(sb(t)||e>p8||e<0)return t?Op(t,uA):uA;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===zw&&e!==Kl)return Op(t,t.avail_out===0?w5:uA);const r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(rl(t),t.avail_out===0)return n.last_flush=-1,Gi}else if(t.avail_in===0&&g8(e)<=g8(r)&&e!==Kl)return Op(t,w5);if(n.status===zw&&t.avail_in!==0)return Op(t,w5);if(n.status===J0&&n.wrap===0&&(n.status=Pp),n.status===J0){let s=rI+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=uS||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,s|=i<<6,n.strstart!==0&&(s|=JNe),s+=31-s%31,bw(n,s),n.strstart!==0&&(bw(n,t.adler>>>16),bw(n,t.adler&65535)),t.adler=1,n.status=Pp,rl(t),n.pending!==0)return n.last_flush=-1,Gi}if(n.status===tP){if(t.adler=0,ar(n,31),ar(n,139),ar(n,8),n.gzhead)ar(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ar(n,n.gzhead.time&255),ar(n,n.gzhead.time>>8&255),ar(n,n.gzhead.time>>16&255),ar(n,n.gzhead.time>>24&255),ar(n,n.level===9?2:n.strategy>=uS||n.level<2?4:0),ar(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(ar(n,n.gzhead.extra.length&255),ar(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Bi(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=I3;else if(ar(n,0),ar(n,0),ar(n,0),ar(n,0),ar(n,0),ar(n,n.level===9?2:n.strategy>=uS||n.level<2?4:0),ar(n,eIe),n.status=Pp,rl(t),n.pending!==0)return n.last_flush=-1,Gi}if(n.status===I3){if(n.gzhead.extra){let s=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>s&&(t.adler=Bi(t.adler,n.pending_buf,n.pending-s,s)),n.gzindex+=a,rl(t),n.pending!==0)return n.last_flush=-1,Gi;s=0,i-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>s&&(t.adler=Bi(t.adler,n.pending_buf,n.pending-s,s)),n.gzindex=0}n.status=E3}if(n.status===E3){if(n.gzhead.name){let s=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>s&&(t.adler=Bi(t.adler,n.pending_buf,n.pending-s,s)),rl(t),n.pending!==0)return n.last_flush=-1,Gi;s=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,ar(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>s&&(t.adler=Bi(t.adler,n.pending_buf,n.pending-s,s)),n.gzindex=0}n.status=k3}if(n.status===k3){if(n.gzhead.comment){let s=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>s&&(t.adler=Bi(t.adler,n.pending_buf,n.pending-s,s)),rl(t),n.pending!==0)return n.last_flush=-1,Gi;s=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,ar(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>s&&(t.adler=Bi(t.adler,n.pending_buf,n.pending-s,s))}n.status=T3}if(n.status===T3){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(rl(t),n.pending!==0))return n.last_flush=-1,Gi;ar(n,t.adler&255),ar(n,t.adler>>8&255),t.adler=0}if(n.status=Pp,rl(t),n.pending!==0)return n.last_flush=-1,Gi}if(t.avail_in!==0||n.lookahead!==0||e!==Zh&&n.status!==zw){let s=n.level===0?UZ(n,e):n.strategy===uS?sIe(n,e):n.strategy===MNe?rIe(n,e):Vw[n.level].func(n,e);if((s===mm||s===Fy)&&(n.status=zw),s===Xo||s===mm)return t.avail_out===0&&(n.last_flush=-1),Gi;if(s===Ty&&(e===RNe?DNe(n):e!==p8&&(_3(n,0,0,!1),e===PNe&&(xh(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),rl(t),t.avail_out===0))return n.last_flush=-1,Gi}return e!==Kl?Gi:n.wrap<=0?m8:(n.wrap===2?(ar(n,t.adler&255),ar(n,t.adler>>8&255),ar(n,t.adler>>16&255),ar(n,t.adler>>24&255),ar(n,t.total_in&255),ar(n,t.total_in>>8&255),ar(n,t.total_in>>16&255),ar(n,t.total_in>>24&255)):(bw(n,t.adler>>>16),bw(n,t.adler&65535)),rl(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Gi:m8)},uIe=t=>{if(sb(t))return uA;const e=t.state.status;return t.state=null,e===Pp?Op(t,ONe):Gi},AIe=(t,e)=>{let n=e.length;if(sb(t))return uA;const r=t.state,s=r.wrap;if(s===2||s===1&&r.status!==J0||r.lookahead)return uA;if(s===1&&(t.adler=lx(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){s===0&&(xh(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(n-r.w_size,n),0),e=l,n=r.w_size}const i=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,ey(r);r.lookahead>=Gn;){let l=r.strstart,c=r.lookahead-(Gn-1);do r.ins_h=Jh(r,r.ins_h,r.window[l+Gn-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=Gn-1,ey(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Gn-1,r.match_available=0,t.next_in=o,t.input=a,t.avail_in=i,r.wrap=s,Gi};var dIe=lIe,hIe=jZ,fIe=QZ,pIe=MZ,mIe=aIe,gIe=cIe,yIe=uIe,wIe=AIe,vIe="pako deflate (from Nodeca project)",bv={deflateInit:dIe,deflateInit2:hIe,deflateReset:fIe,deflateResetKeep:pIe,deflateSetHeader:mIe,deflate:gIe,deflateEnd:yIe,deflateSetDictionary:wIe,deflateInfo:vIe};const xIe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var bIe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)xIe(n,r)&&(t[r]=n[r])}}return t},CIe=t=>{let e=0;for(let r=0,s=t.length;r<s;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,s=0,i=t.length;r<i;r++){let o=t[r];n.set(o,s),s+=o.length}return n},sI={assign:bIe,flattenChunks:CIe};let HZ=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{HZ=!1}const cx=new Uint8Array(256);for(let t=0;t<256;t++)cx[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;cx[254]=cx[254]=1;var SIe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,s,i,o=t.length,a=0;for(s=0;s<o;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<o&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),i=0,s=0;i<a;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<o&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|n&63):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|n&63):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|n&63);return e};const BIe=(t,e)=>{if(e<65534&&t.subarray&&HZ)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var _Ie=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,s;const i=new Array(n*2);for(s=0,r=0;r<n;){let o=t[r++];if(o<128){i[s++]=o;continue}let a=cx[o];if(a>4){i[s++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return BIe(i,s)},NIe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+cx[t[n]]>e?n:e},ux={string2buf:SIe,buf2string:_Ie,utf8border:NIe};function IIe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zZ=IIe;const VZ=Object.prototype.toString,{Z_NO_FLUSH:EIe,Z_SYNC_FLUSH:kIe,Z_FULL_FLUSH:TIe,Z_FINISH:FIe,Z_OK:C_,Z_STREAM_END:LIe,Z_DEFAULT_COMPRESSION:DIe,Z_DEFAULT_STRATEGY:RIe,Z_DEFLATED:PIe}=rb;function nP(t){this.options=sI.assign({level:DIe,method:PIe,chunkSize:16384,windowBits:15,memLevel:8,strategy:RIe},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zZ,this.strm.avail_out=0;let n=bv.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==C_)throw new Error(Z0[n]);if(e.header&&bv.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=ux.string2buf(e.dictionary):VZ.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=bv.deflateSetDictionary(this.strm,r),n!==C_)throw new Error(Z0[n]);this._dict_set=!0}}nP.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let s,i;if(this.ended)return!1;for(e===~~e?i=e:i=e===!0?FIe:EIe,typeof t=="string"?n.input=ux.string2buf(t):VZ.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===kIe||i===TIe)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(s=bv.deflate(n,i),s===LIe)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),s=bv.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===C_;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};nP.prototype.onData=function(t){this.chunks.push(t)};nP.prototype.onEnd=function(t){t===C_&&(this.result=sI.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const AS=16209,OIe=16191;var $Ie=function(e,n){let r,s,i,o,a,l,c,u,A,d,h,p,m,y,g,v,b,C,_,I,T,F,D,j;const O=e.state;r=e.next_in,D=e.input,s=r+(e.avail_in-5),i=e.next_out,j=e.output,o=i-(n-e.avail_out),a=i+(e.avail_out-257),l=O.dmax,c=O.wsize,u=O.whave,A=O.wnext,d=O.window,h=O.hold,p=O.bits,m=O.lencode,y=O.distcode,g=(1<<O.lenbits)-1,v=(1<<O.distbits)-1;e:do{p<15&&(h+=D[r++]<<p,p+=8,h+=D[r++]<<p,p+=8),b=m[h&g];t:for(;;){if(C=b>>>24,h>>>=C,p-=C,C=b>>>16&255,C===0)j[i++]=b&65535;else if(C&16){_=b&65535,C&=15,C&&(p<C&&(h+=D[r++]<<p,p+=8),_+=h&(1<<C)-1,h>>>=C,p-=C),p<15&&(h+=D[r++]<<p,p+=8,h+=D[r++]<<p,p+=8),b=y[h&v];n:for(;;){if(C=b>>>24,h>>>=C,p-=C,C=b>>>16&255,C&16){if(I=b&65535,C&=15,p<C&&(h+=D[r++]<<p,p+=8,p<C&&(h+=D[r++]<<p,p+=8)),I+=h&(1<<C)-1,I>l){e.msg="invalid distance too far back",O.mode=AS;break e}if(h>>>=C,p-=C,C=i-o,I>C){if(C=I-C,C>u&&O.sane){e.msg="invalid distance too far back",O.mode=AS;break e}if(T=0,F=d,A===0){if(T+=c-C,C<_){_-=C;do j[i++]=d[T++];while(--C);T=i-I,F=j}}else if(A<C){if(T+=c+A-C,C-=A,C<_){_-=C;do j[i++]=d[T++];while(--C);if(T=0,A<_){C=A,_-=C;do j[i++]=d[T++];while(--C);T=i-I,F=j}}}else if(T+=A-C,C<_){_-=C;do j[i++]=d[T++];while(--C);T=i-I,F=j}for(;_>2;)j[i++]=F[T++],j[i++]=F[T++],j[i++]=F[T++],_-=3;_&&(j[i++]=F[T++],_>1&&(j[i++]=F[T++]))}else{T=i-I;do j[i++]=j[T++],j[i++]=j[T++],j[i++]=j[T++],_-=3;while(_>2);_&&(j[i++]=j[T++],_>1&&(j[i++]=j[T++]))}}else if(C&64){e.msg="invalid distance code",O.mode=AS;break e}else{b=y[(b&65535)+(h&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){O.mode=OIe;break e}else{e.msg="invalid literal/length code",O.mode=AS;break e}else{b=m[(b&65535)+(h&(1<<C)-1)];continue t}break}}while(r<s&&i<a);_=p>>3,r-=_,p-=_<<3,h&=(1<<p)-1,e.next_in=r,e.next_out=i,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=i<a?257+(a-i):257-(i-a),O.hold=h,O.bits=p};const kg=15,y8=852,w8=592,v8=0,x5=1,x8=2,UIe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),MIe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),QIe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),jIe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),HIe=(t,e,n,r,s,i,o,a)=>{const l=a.bits;let c=0,u=0,A=0,d=0,h=0,p=0,m=0,y=0,g=0,v=0,b,C,_,I,T,F=null,D;const j=new Uint16Array(kg+1),O=new Uint16Array(kg+1);let U=null,W,$,J;for(c=0;c<=kg;c++)j[c]=0;for(u=0;u<r;u++)j[e[n+u]]++;for(h=l,d=kg;d>=1&&j[d]===0;d--);if(h>d&&(h=d),d===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,a.bits=1,0;for(A=1;A<d&&j[A]===0;A++);for(h<A&&(h=A),y=1,c=1;c<=kg;c++)if(y<<=1,y-=j[c],y<0)return-1;if(y>0&&(t===v8||d!==1))return-1;for(O[1]=0,c=1;c<kg;c++)O[c+1]=O[c]+j[c];for(u=0;u<r;u++)e[n+u]!==0&&(o[O[e[n+u]]++]=u);if(t===v8?(F=U=o,D=20):t===x5?(F=UIe,U=MIe,D=257):(F=QIe,U=jIe,D=0),v=0,u=0,c=A,T=i,p=h,m=0,_=-1,g=1<<h,I=g-1,t===x5&&g>y8||t===x8&&g>w8)return 1;for(;;){W=c-m,o[u]+1<D?($=0,J=o[u]):o[u]>=D?($=U[o[u]-D],J=F[o[u]-D]):($=96,J=0),b=1<<c-m,C=1<<p,A=C;do C-=b,s[T+(v>>m)+C]=W<<24|$<<16|J|0;while(C!==0);for(b=1<<c-1;v&b;)b>>=1;if(b!==0?(v&=b-1,v+=b):v=0,u++,--j[c]===0){if(c===d)break;c=e[n+o[u]]}if(c>h&&(v&I)!==_){for(m===0&&(m=h),T+=A,p=c-m,y=1<<p;p+m<d&&(y-=j[p+m],!(y<=0));)p++,y<<=1;if(g+=1<<p,t===x5&&g>y8||t===x8&&g>w8)return 1;_=v&I,s[_]=h<<24|p<<16|T-i|0}}return v!==0&&(s[T+v]=c-m<<24|64<<16|0),a.bits=h,0};var Cv=HIe;const zIe=0,WZ=1,GZ=2,{Z_FINISH:b8,Z_BLOCK:VIe,Z_TREES:dS,Z_OK:gm,Z_STREAM_END:WIe,Z_NEED_DICT:GIe,Z_STREAM_ERROR:uc,Z_DATA_ERROR:KZ,Z_MEM_ERROR:qZ,Z_BUF_ERROR:KIe,Z_DEFLATED:C8}=rb,iI=16180,S8=16181,B8=16182,_8=16183,N8=16184,I8=16185,E8=16186,k8=16187,T8=16188,F8=16189,S_=16190,GA=16191,b5=16192,L8=16193,C5=16194,D8=16195,R8=16196,P8=16197,O8=16198,hS=16199,fS=16200,$8=16201,U8=16202,M8=16203,Q8=16204,j8=16205,S5=16206,H8=16207,z8=16208,rs=16209,XZ=16210,YZ=16211,qIe=852,XIe=592,YIe=15,ZIe=YIe,V8=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function JIe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Um=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<iI||e.mode>YZ?1:0},ZZ=t=>{if(Um(t))return uc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=iI,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(qIe),e.distcode=e.distdyn=new Int32Array(XIe),e.sane=1,e.back=-1,gm},JZ=t=>{if(Um(t))return uc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ZZ(t)},eJ=(t,e)=>{let n;if(Um(t))return uc;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?uc:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,JZ(t))},tJ=(t,e)=>{if(!t)return uc;const n=new JIe;t.state=n,n.strm=t,n.window=null,n.mode=iI;const r=eJ(t,e);return r!==gm&&(t.state=null),r},eEe=t=>tJ(t,ZIe);let W8=!0,B5,_5;const tEe=t=>{if(W8){B5=new Int32Array(512),_5=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Cv(WZ,t.lens,0,288,B5,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Cv(GZ,t.lens,0,32,_5,0,t.work,{bits:5}),W8=!1}t.lencode=B5,t.lenbits=9,t.distcode=_5,t.distbits=5},nJ=(t,e,n,r)=>{let s;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>r&&(s=r),i.window.set(e.subarray(n-r,n-r+s),i.wnext),r-=s,r?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},nEe=(t,e)=>{let n,r,s,i,o,a,l,c,u,A,d,h,p,m,y=0,g,v,b,C,_,I,T,F;const D=new Uint8Array(4);let j,O;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Um(t)||!t.output||!t.input&&t.avail_in!==0)return uc;n=t.state,n.mode===GA&&(n.mode=b5),o=t.next_out,s=t.output,l=t.avail_out,i=t.next_in,r=t.input,a=t.avail_in,c=n.hold,u=n.bits,A=a,d=l,F=gm;e:for(;;)switch(n.mode){case iI:if(n.wrap===0){n.mode=b5;break}for(;u<16;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,D[0]=c&255,D[1]=c>>>8&255,n.check=Bi(n.check,D,2,0),c=0,u=0,n.mode=S8;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=rs;break}if((c&15)!==C8){t.msg="unknown compression method",n.mode=rs;break}if(c>>>=4,u-=4,T=(c&15)+8,n.wbits===0&&(n.wbits=T),T>15||T>n.wbits){t.msg="invalid window size",n.mode=rs;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?F8:GA,c=0,u=0;break;case S8:for(;u<16;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==C8){t.msg="unknown compression method",n.mode=rs;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=rs;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,n.check=Bi(n.check,D,2,0)),c=0,u=0,n.mode=B8;case B8:for(;u<32;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,D[2]=c>>>16&255,D[3]=c>>>24&255,n.check=Bi(n.check,D,4,0)),c=0,u=0,n.mode=_8;case _8:for(;u<16;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,n.check=Bi(n.check,D,2,0)),c=0,u=0,n.mode=N8;case N8:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,n.check=Bi(n.check,D,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=I8;case I8:if(n.flags&1024&&(h=n.length,h>a&&(h=a),h&&(n.head&&(T=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+h),T)),n.flags&512&&n.wrap&4&&(n.check=Bi(n.check,r,h,i)),a-=h,i+=h,n.length-=h),n.length))break e;n.length=0,n.mode=E8;case E8:if(n.flags&2048){if(a===0)break e;h=0;do T=r[i+h++],n.head&&T&&n.length<65536&&(n.head.name+=String.fromCharCode(T));while(T&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=Bi(n.check,r,h,i)),a-=h,i+=h,T)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=k8;case k8:if(n.flags&4096){if(a===0)break e;h=0;do T=r[i+h++],n.head&&T&&n.length<65536&&(n.head.comment+=String.fromCharCode(T));while(T&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=Bi(n.check,r,h,i)),a-=h,i+=h,T)break e}else n.head&&(n.head.comment=null);n.mode=T8;case T8:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=rs;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=GA;break;case F8:for(;u<32;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}t.adler=n.check=V8(c),c=0,u=0,n.mode=S_;case S_:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=i,t.avail_in=a,n.hold=c,n.bits=u,GIe;t.adler=n.check=1,n.mode=GA;case GA:if(e===VIe||e===dS)break e;case b5:if(n.last){c>>>=u&7,u-=u&7,n.mode=S5;break}for(;u<3;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=L8;break;case 1:if(tEe(n),n.mode=hS,e===dS){c>>>=2,u-=2;break e}break;case 2:n.mode=R8;break;case 3:t.msg="invalid block type",n.mode=rs}c>>>=2,u-=2;break;case L8:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=rs;break}if(n.length=c&65535,c=0,u=0,n.mode=C5,e===dS)break e;case C5:n.mode=D8;case D8:if(h=n.length,h){if(h>a&&(h=a),h>l&&(h=l),h===0)break e;s.set(r.subarray(i,i+h),o),a-=h,i+=h,l-=h,o+=h,n.length-=h;break}n.mode=GA;break;case R8:for(;u<14;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=rs;break}n.have=0,n.mode=P8;case P8:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}n.lens[U[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,j={bits:n.lenbits},F=Cv(zIe,n.lens,0,19,n.lencode,0,n.work,j),n.lenbits=j.bits,F){t.msg="invalid code lengths set",n.mode=rs;break}n.have=0,n.mode=O8;case O8:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[c&(1<<n.lenbits)-1],g=y>>>24,v=y>>>16&255,b=y&65535,!(g<=u);){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(b<16)c>>>=g,u-=g,n.lens[n.have++]=b;else{if(b===16){for(O=g+2;u<O;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(c>>>=g,u-=g,n.have===0){t.msg="invalid bit length repeat",n.mode=rs;break}T=n.lens[n.have-1],h=3+(c&3),c>>>=2,u-=2}else if(b===17){for(O=g+3;u<O;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}c>>>=g,u-=g,T=0,h=3+(c&7),c>>>=3,u-=3}else{for(O=g+7;u<O;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}c>>>=g,u-=g,T=0,h=11+(c&127),c>>>=7,u-=7}if(n.have+h>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=rs;break}for(;h--;)n.lens[n.have++]=T}}if(n.mode===rs)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=rs;break}if(n.lenbits=9,j={bits:n.lenbits},F=Cv(WZ,n.lens,0,n.nlen,n.lencode,0,n.work,j),n.lenbits=j.bits,F){t.msg="invalid literal/lengths set",n.mode=rs;break}if(n.distbits=6,n.distcode=n.distdyn,j={bits:n.distbits},F=Cv(GZ,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,j),n.distbits=j.bits,F){t.msg="invalid distances set",n.mode=rs;break}if(n.mode=hS,e===dS)break e;case hS:n.mode=fS;case fS:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=i,t.avail_in=a,n.hold=c,n.bits=u,$Ie(t,d),o=t.next_out,s=t.output,l=t.avail_out,i=t.next_in,r=t.input,a=t.avail_in,c=n.hold,u=n.bits,n.mode===GA&&(n.back=-1);break}for(n.back=0;y=n.lencode[c&(1<<n.lenbits)-1],g=y>>>24,v=y>>>16&255,b=y&65535,!(g<=u);){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(v&&!(v&240)){for(C=g,_=v,I=b;y=n.lencode[I+((c&(1<<C+_)-1)>>C)],g=y>>>24,v=y>>>16&255,b=y&65535,!(C+g<=u);){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}c>>>=C,u-=C,n.back+=C}if(c>>>=g,u-=g,n.back+=g,n.length=b,v===0){n.mode=j8;break}if(v&32){n.back=-1,n.mode=GA;break}if(v&64){t.msg="invalid literal/length code",n.mode=rs;break}n.extra=v&15,n.mode=$8;case $8:if(n.extra){for(O=n.extra;u<O;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=U8;case U8:for(;y=n.distcode[c&(1<<n.distbits)-1],g=y>>>24,v=y>>>16&255,b=y&65535,!(g<=u);){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(!(v&240)){for(C=g,_=v,I=b;y=n.distcode[I+((c&(1<<C+_)-1)>>C)],g=y>>>24,v=y>>>16&255,b=y&65535,!(C+g<=u);){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}c>>>=C,u-=C,n.back+=C}if(c>>>=g,u-=g,n.back+=g,v&64){t.msg="invalid distance code",n.mode=rs;break}n.offset=b,n.extra=v&15,n.mode=M8;case M8:if(n.extra){for(O=n.extra;u<O;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=rs;break}n.mode=Q8;case Q8:if(l===0)break e;if(h=d-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=rs;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),m=n.window}else m=s,p=o-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do s[o++]=m[p++];while(--h);n.length===0&&(n.mode=fS);break;case j8:if(l===0)break e;s[o++]=n.length,l--,n.mode=fS;break;case S5:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[i++]<<u,u+=8}if(d-=l,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?Bi(n.check,s,d,o-d):lx(n.check,s,d,o-d)),d=l,n.wrap&4&&(n.flags?c:V8(c))!==n.check){t.msg="incorrect data check",n.mode=rs;break}c=0,u=0}n.mode=H8;case H8:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=rs;break}c=0,u=0}n.mode=z8;case z8:F=WIe;break e;case rs:F=KZ;break e;case XZ:return qZ;case YZ:default:return uc}return t.next_out=o,t.avail_out=l,t.next_in=i,t.avail_in=a,n.hold=c,n.bits=u,(n.wsize||d!==t.avail_out&&n.mode<rs&&(n.mode<S5||e!==b8))&&nJ(t,t.output,t.next_out,d-t.avail_out),A-=t.avail_in,d-=t.avail_out,t.total_in+=A,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?Bi(n.check,s,d,t.next_out-d):lx(n.check,s,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===GA?128:0)+(n.mode===hS||n.mode===C5?256:0),(A===0&&d===0||e===b8)&&F===gm&&(F=KIe),F},rEe=t=>{if(Um(t))return uc;let e=t.state;return e.window&&(e.window=null),t.state=null,gm},sEe=(t,e)=>{if(Um(t))return uc;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,gm):uc},iEe=(t,e)=>{const n=e.length;let r,s,i;return Um(t)||(r=t.state,r.wrap!==0&&r.mode!==S_)?uc:r.mode===S_&&(s=1,s=lx(s,e,n,0),s!==r.check)?KZ:(i=nJ(t,e,n,n),i?(r.mode=XZ,qZ):(r.havedict=1,gm))};var oEe=JZ,aEe=eJ,lEe=ZZ,cEe=eEe,uEe=tJ,AEe=nEe,dEe=rEe,hEe=sEe,fEe=iEe,pEe="pako inflate (from Nodeca project)",JA={inflateReset:oEe,inflateReset2:aEe,inflateResetKeep:lEe,inflateInit:cEe,inflateInit2:uEe,inflate:AEe,inflateEnd:dEe,inflateGetHeader:hEe,inflateSetDictionary:fEe,inflateInfo:pEe};function mEe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gEe=mEe;const rJ=Object.prototype.toString,{Z_NO_FLUSH:yEe,Z_FINISH:wEe,Z_OK:Ax,Z_STREAM_END:N5,Z_NEED_DICT:I5,Z_STREAM_ERROR:vEe,Z_DATA_ERROR:G8,Z_MEM_ERROR:xEe}=rb;function ib(t){this.options=sI.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zZ,this.strm.avail_out=0;let n=JA.inflateInit2(this.strm,e.windowBits);if(n!==Ax)throw new Error(Z0[n]);if(this.header=new gEe,JA.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=ux.string2buf(e.dictionary):rJ.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=JA.inflateSetDictionary(this.strm,e.dictionary),n!==Ax)))throw new Error(Z0[n])}ib.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let i,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?wEe:yEe,rJ.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=JA.inflate(n,o),i===I5&&s&&(i=JA.inflateSetDictionary(n,s),i===Ax?i=JA.inflate(n,o):i===G8&&(i=I5));n.avail_in>0&&i===N5&&n.state.wrap>0&&t[n.next_in]!==0;)JA.inflateReset(n),i=JA.inflate(n,o);switch(i){case vEe:case G8:case I5:case xEe:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||i===N5))if(this.options.to==="string"){let l=ux.utf8border(n.output,n.next_out),c=n.next_out-l,u=ux.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===Ax&&a===0)){if(i===N5)return i=JA.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};ib.prototype.onData=function(t){this.chunks.push(t)};ib.prototype.onEnd=function(t){t===Ax&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=sI.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function rP(t,e){const n=new ib(e);if(n.push(t),n.err)throw n.msg||Z0[n.err];return n.result}function bEe(t,e){return e=e||{},e.raw=!0,rP(t,e)}var CEe=ib,SEe=rP,BEe=bEe,_Ee=rP,NEe=rb,IEe={Inflate:CEe,inflate:SEe,inflateRaw:BEe,ungzip:_Ee,constants:NEe};const{Inflate:EEe,inflate:kEe,inflateRaw:Hnt,ungzip:znt}=IEe;var K8=EEe,TEe=kEe;const sJ=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;sJ[t]=e}const q8=4294967295;function FEe(t,e,n){let r=t;for(let s=0;s<n;s++)r=sJ[(r^e[s])&255]^r>>>8;return r}function LEe(t,e){return(FEe(q8,t,e)^q8)>>>0}function X8(t,e,n){const r=t.readUint32(),s=LEe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${s}`)}function iJ(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function oJ(t,e,n,r){let s=0;for(;s<r;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-r]&255}function aJ(t,e,n,r){let s=0;if(n.length===0)for(;s<r;s++)e[s]=t[s];else for(;s<r;s++)e[s]=t[s]+n[s]&255}function lJ(t,e,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+(e[i-s]>>1)&255}else{for(;i<s;i++)e[i]=t[i]+(n[i]>>1)&255;for(;i<r;i++)e[i]=t[i]+(e[i-s]+n[i]>>1)&255}}function cJ(t,e,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-s]&255}else{for(;i<s;i++)e[i]=t[i]+n[i]&255;for(;i<r;i++)e[i]=t[i]+DEe(e[i-s],n[i],n[i-s])&255}}function DEe(t,e,n){const r=t+e-n,s=Math.abs(r-t),i=Math.abs(r-e),o=Math.abs(r-n);return s<=i&&s<=o?t:i<=o?e:n}function REe(t,e,n,r,s,i){switch(t){case 0:iJ(e,n,s);break;case 1:oJ(e,n,s,i);break;case 2:aJ(e,n,r,s);break;case 3:lJ(e,n,r,s,i);break;case 4:cJ(e,n,r,s,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const PEe=new Uint16Array([255]),OEe=new Uint8Array(PEe.buffer),$Ee=OEe[0]===255;function UEe(t){const{data:e,width:n,height:r,channels:s,depth:i}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(i/8)*s,l=new Uint8Array(r*n*a);let c=0;for(let u=0;u<7;u++){const A=o[u],d=Math.ceil((n-A.x)/A.xStep),h=Math.ceil((r-A.y)/A.yStep);if(d<=0||h<=0)continue;const p=d*a,m=new Uint8Array(p);for(let y=0;y<h;y++){const g=e[c++],v=e.subarray(c,c+p);c+=p;const b=new Uint8Array(p);REe(g,v,b,m,p,a),m.set(b);for(let C=0;C<d;C++){const _=A.x+C*A.xStep,I=A.y+y*A.yStep;if(!(_>=n||I>=r))for(let T=0;T<a;T++)l[(I*n+_)*a+T]=b[C*a+T]}}}if(i===16){const u=new Uint16Array(l.buffer);if($Ee)for(let A=0;A<u.length;A++)u[A]=MEe(u[A]);return u}else return l}function MEe(t){return(t&255)<<8|t>>8&255}const QEe=new Uint16Array([255]),jEe=new Uint8Array(QEe.buffer),HEe=jEe[0]===255,zEe=new Uint8Array(0);function Y8(t){const{data:e,width:n,height:r,channels:s,depth:i}=t,o=Math.ceil(i/8)*s,a=Math.ceil(i/8*s*n),l=new Uint8Array(r*a);let c=zEe,u=0,A,d;for(let h=0;h<r;h++){switch(A=e.subarray(u+1,u+1+a),d=l.subarray(h*a,(h+1)*a),e[u]){case 0:iJ(A,d,a);break;case 1:oJ(A,d,a,o);break;case 2:aJ(A,d,c,a);break;case 3:lJ(A,d,c,a,o);break;case 4:cJ(A,d,c,a,o);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=d,u+=a+1}if(i===16){const h=new Uint16Array(l.buffer);if(HEe)for(let p=0;p<h.length;p++)h[p]=VEe(h[p]);return h}else return l}function VEe(t){return(t&255)<<8|t>>8&255}const cB=Uint8Array.of(137,80,78,71,13,10,26,10);function Z8(t){if(!WEe(t.readBytes(cB.length)))throw new Error("wrong PNG signature")}function WEe(t){if(t.length<cB.length)return!1;for(let e=0;e<cB.length;e++)if(t[e]!==cB[e])return!1;return!0}const GEe="tEXt",KEe=0,uJ=new TextDecoder("latin1");function qEe(t){if(YEe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const XEe=/^[\u0000-\u00FF]*$/;function YEe(t){if(!XEe.test(t))throw new Error("invalid latin1 text")}function ZEe(t,e,n){const r=AJ(e);t[r]=JEe(e,n-r.length-1)}function AJ(t){for(t.mark();t.readByte()!==KEe;);const e=t.offset;t.reset();const n=uJ.decode(t.readBytes(e-t.offset-1));return t.skip(1),qEe(n),n}function JEe(t,e){return uJ.decode(t.readBytes(e))}const el={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},E5={UNKNOWN:-1,DEFLATE:0},J8={UNKNOWN:-1,ADAPTIVE:0},k5={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},pS={NONE:0,BACKGROUND:1,PREVIOUS:2},T5={SOURCE:0,OVER:1};class eke extends XR{constructor(n,r={}){super(n);Hn(this,"_checkCrc");Hn(this,"_inflator");Hn(this,"_png");Hn(this,"_apng");Hn(this,"_end");Hn(this,"_hasPalette");Hn(this,"_palette");Hn(this,"_hasTransparency");Hn(this,"_transparency");Hn(this,"_compressionMethod");Hn(this,"_filterMethod");Hn(this,"_interlaceMethod");Hn(this,"_colorType");Hn(this,"_isAnimated");Hn(this,"_numberOfFrames");Hn(this,"_numberOfPlays");Hn(this,"_frames");Hn(this,"_writingDataChunks");const{checkCrc:s=!1}=r;this._checkCrc=s,this._inflator=new K8,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=E5.UNKNOWN,this._filterMethod=J8.UNKNOWN,this._interlaceMethod=k5.UNKNOWN,this._colorType=el.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Z8(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(Z8(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const s=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case GEe:ZEe(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?X8(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const s=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=s+n;break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?X8(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=tke(this.readUint8());const r=this.readUint8();this._colorType=r;let s;switch(r){case el.GREYSCALE:s=1;break;case el.TRUECOLOUR:s=3;break;case el.INDEXED_COLOUR:s=1;break;case el.GREYSCALE_ALPHA:s=2;break;case el.TRUECOLOUR_ALPHA:s=4;break;case el.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==E5.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<r;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,s=this.offset+this.byteOffset;if(s+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case el.GREYSCALE:case el.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case el.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const s=this.readByte();this._palette[r].push(s)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case el.UNKNOWN:case el.GREYSCALE_ALPHA:case el.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=AJ(this),s=this.readUint8();if(s!==E5.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:TEe(i)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),s=this.readByte();this._png.resolution={x:n,y:r,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(n);if(s){if(s.data=Y8({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)r.data=s.data;else{const i=this._apng.frames.at(n-1);this.disposeFrame(s,i,r),this.addFrameDataToCanvas(r,s)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,s){switch(n.disposeOp){case pS.NONE:break;case pS.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const a=(i*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)s.data[a+l]=0}break;case pS.PREVIOUS:s.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const s=1<<this._png.depth,i=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,c=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case T5.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=i(o,a);for(let u=0;u<this._png.channels;u++)n.data[l+u]=r.data[c+u]}break;case T5.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=i(o,a);for(let u=0;u<this._png.channels;u++){const A=r.data[c+this._png.channels-1]/s,d=u%(this._png.channels-1)===0?1:r.data[c+u],h=Math.floor(A*d+(1-A)*n.data[l+u]);n.data[l+u]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==J8.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===k5.NO_INTERLACE)this._png.data=Y8({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===k5.ADAM7)this._png.data=UEe({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:pS.NONE,blendOp:T5.SOURCE,data:n}),this._inflator=new K8,this._writingDataChunks=!1}}function tke(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var eH;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(eH||(eH={}));function nke(t,e){return new eke(t,e).decode()}var An=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function F5(){An.console&&typeof An.console.log=="function"&&An.console.log.apply(An.console,arguments)}var Lr={log:F5,warn:function(t){An.console&&(typeof An.console.warn=="function"?An.console.warn.apply(An.console,arguments):F5.call(null,arguments))},error:function(t){An.console&&(typeof An.console.error=="function"?An.console.error.apply(An.console,arguments):F5(t))}};function L5(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){gp(r.response,e,n)},r.onerror=function(){Lr.error("could not download file")},r.send()}function tH(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function mS(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var gp=An.saveAs||((typeof window>"u"?"undefined":xr(window))!=="object"||window!==An?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=An.URL||An.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?tH(s.href)?L5(t,e,n):mS(s,s.target="_blank"):mS(s)):(s.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){mS(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(tH(t))L5(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){mS(r)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:xr(i)!=="object"&&(Lr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return L5(t,e,n);var s=t.type==="application/octet-stream",i=/constructor/i.test(An.HTMLElement)||An.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":xr(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(t)}else{var l=An.URL||An.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function dJ(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,o=s.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var uB=An.atob.bind(An),nH=An.btoa.bind(An);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function D5(t,e){var n=t[0],r=t[1],s=t[2],i=t[3];n=mo(n,r,s,i,e[0],7,-680876936),i=mo(i,n,r,s,e[1],12,-389564586),s=mo(s,i,n,r,e[2],17,606105819),r=mo(r,s,i,n,e[3],22,-1044525330),n=mo(n,r,s,i,e[4],7,-176418897),i=mo(i,n,r,s,e[5],12,1200080426),s=mo(s,i,n,r,e[6],17,-1473231341),r=mo(r,s,i,n,e[7],22,-45705983),n=mo(n,r,s,i,e[8],7,1770035416),i=mo(i,n,r,s,e[9],12,-1958414417),s=mo(s,i,n,r,e[10],17,-42063),r=mo(r,s,i,n,e[11],22,-1990404162),n=mo(n,r,s,i,e[12],7,1804603682),i=mo(i,n,r,s,e[13],12,-40341101),s=mo(s,i,n,r,e[14],17,-1502002290),n=go(n,r=mo(r,s,i,n,e[15],22,1236535329),s,i,e[1],5,-165796510),i=go(i,n,r,s,e[6],9,-1069501632),s=go(s,i,n,r,e[11],14,643717713),r=go(r,s,i,n,e[0],20,-373897302),n=go(n,r,s,i,e[5],5,-701558691),i=go(i,n,r,s,e[10],9,38016083),s=go(s,i,n,r,e[15],14,-660478335),r=go(r,s,i,n,e[4],20,-405537848),n=go(n,r,s,i,e[9],5,568446438),i=go(i,n,r,s,e[14],9,-1019803690),s=go(s,i,n,r,e[3],14,-187363961),r=go(r,s,i,n,e[8],20,1163531501),n=go(n,r,s,i,e[13],5,-1444681467),i=go(i,n,r,s,e[2],9,-51403784),s=go(s,i,n,r,e[7],14,1735328473),n=yo(n,r=go(r,s,i,n,e[12],20,-1926607734),s,i,e[5],4,-378558),i=yo(i,n,r,s,e[8],11,-2022574463),s=yo(s,i,n,r,e[11],16,1839030562),r=yo(r,s,i,n,e[14],23,-35309556),n=yo(n,r,s,i,e[1],4,-1530992060),i=yo(i,n,r,s,e[4],11,1272893353),s=yo(s,i,n,r,e[7],16,-155497632),r=yo(r,s,i,n,e[10],23,-1094730640),n=yo(n,r,s,i,e[13],4,681279174),i=yo(i,n,r,s,e[0],11,-358537222),s=yo(s,i,n,r,e[3],16,-722521979),r=yo(r,s,i,n,e[6],23,76029189),n=yo(n,r,s,i,e[9],4,-640364487),i=yo(i,n,r,s,e[12],11,-421815835),s=yo(s,i,n,r,e[15],16,530742520),n=wo(n,r=yo(r,s,i,n,e[2],23,-995338651),s,i,e[0],6,-198630844),i=wo(i,n,r,s,e[7],10,1126891415),s=wo(s,i,n,r,e[14],15,-1416354905),r=wo(r,s,i,n,e[5],21,-57434055),n=wo(n,r,s,i,e[12],6,1700485571),i=wo(i,n,r,s,e[3],10,-1894986606),s=wo(s,i,n,r,e[10],15,-1051523),r=wo(r,s,i,n,e[1],21,-2054922799),n=wo(n,r,s,i,e[8],6,1873313359),i=wo(i,n,r,s,e[15],10,-30611744),s=wo(s,i,n,r,e[6],15,-1560198380),r=wo(r,s,i,n,e[13],21,1309151649),n=wo(n,r,s,i,e[4],6,-145523070),i=wo(i,n,r,s,e[11],10,-1120210379),s=wo(s,i,n,r,e[2],15,718787259),r=wo(r,s,i,n,e[9],21,-343485551),t[0]=Rh(n,t[0]),t[1]=Rh(r,t[1]),t[2]=Rh(s,t[2]),t[3]=Rh(i,t[3])}function oI(t,e,n,r,s,i){return e=Rh(Rh(e,t),Rh(r,i)),Rh(e<<s|e>>>32-s,n)}function mo(t,e,n,r,s,i,o){return oI(e&n|~e&r,t,e,s,i,o)}function go(t,e,n,r,s,i,o){return oI(e&r|n&~r,t,e,s,i,o)}function yo(t,e,n,r,s,i,o){return oI(e^n^r,t,e,s,i,o)}function wo(t,e,n,r,s,i,o){return oI(n^(e|~r),t,e,s,i,o)}function hJ(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)D5(r,rke(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(D5(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,D5(r,s),r}function rke(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var rH="0123456789abcdef".split("");function ske(t){for(var e="",n=0;n<4;n++)e+=rH[t>>8*n+4&15]+rH[t>>8*n&15];return e}function ike(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function L3(t){return hJ(t).map(ike).join("")}var oke=function(t){for(var e=0;e<t.length;e++)t[e]=ske(t[e]);return t.join("")}(hJ("hello"))!="5d41402abc4b2a76b9719d911017c592";function Rh(t,e){if(oke){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function D3(t,e){var n,r,s,i;if(t!==n){for(var o=(s=t,i=1+(256/t.length|0),new Array(i+1).join(s)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=t,r=a}else a=r;var A=e.length,d=0,h=0,p="";for(l=0;l<A;l++)h=(h+(u=a[d=(d+1)%256]))%256,a[d]=a[h],a[h]=u,o=a[(a[d]+a[h])%256],p+=String.fromCharCode(e.charCodeAt(l)^o);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var sH={print:4,modify:8,copy:16,"annot-forms":32};function Og(t,e,n,r){this.v=1,this.r=2;var s=192;t.forEach(function(a){if(sH.perm!==void 0)throw new Error("Invalid permission: "+a);s+=sH[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=L3(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=D3(this.encryptionKey,this.padding)}function $g(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var s=t.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[r]}return e}function iH(t){if(xr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var i=Math.random().toString(35);return e[n][i]=[r,!!s],i},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[n]){var o=e[n][i];try{o[0].apply(t,r)}catch(a){An.console&&Lr.error("jsPDF PubSub Error",a.message,a)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function B_(t){if(!(this instanceof B_))return new B_(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function fJ(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function bp(t,e,n,r,s){if(!(this instanceof bp))return new bp(t,e,n,r,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,fJ.call(this,r,s)}function i0(t,e,n,r,s){if(!(this instanceof i0))return new i0(t,e,n,r,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,fJ.call(this,r,s)}function Zt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],o=[],a=1,l=16,c="S",u=null;xr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,s=t.format||s,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var A=t.putOnlyUsedFonts||!1,d={},h={internal:{},__private__:{}};h.__private__.PubSub=iH;var p="1.3",m=h.__private__.getPdfVersion=function(){return p};h.__private__.setPdfVersion=function(E){p=E};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return y};var g=h.__private__.getPageFormat=function(E){return y[E]};s=s||"a4";var v="compat",b="advanced",C=v;function _(){this.saveGraphicsState(),le(new yt(Vt,0,0,-Vt,0,PA()*Vt).toString()+" cm"),this.setFontSize(this.getFontSize()/Vt),c="n",C=b}function I(){this.restoreGraphicsState(),c="S",C=v}var T=h.__private__.combineFontStyleAndFontWeight=function(E,K){if(E=="bold"&&K=="normal"||E=="bold"&&K==400||E=="normal"&&K=="italic"||E=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(E=K==400||K==="normal"?E==="italic"?"italic":"normal":K!=700&&K!=="bold"||E!=="normal"?(K==700?"bold":K)+""+E:"bold"),E};h.advancedAPI=function(E){var K=C===v;return K&&_.call(this),typeof E!="function"||(E(this),K&&I.call(this)),this},h.compatAPI=function(E){var K=C===b;return K&&I.call(this),typeof E!="function"||(E(this),K&&_.call(this)),this},h.isAdvancedAPI=function(){return C===b};var F,D=function(E){if(C!==b)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},j=h.roundToPrecision=h.__private__.roundToPrecision=function(E,K){var fe=e||K;if(isNaN(E)||isNaN(fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(fe).replace(/0+$/,"")};F=h.hpf=h.__private__.hpf=typeof l=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return j(E,l)}:l==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return j(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return j(E,16)};var O=h.f2=h.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return j(E,2)},U=h.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return j(E,3)},W=h.scale=h.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return C===v?E*Vt:C===b?E:void 0},$=function(E){return W(function(K){return C===v?PA()-K:C===b?K:void 0}(E))};h.__private__.setPrecision=h.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(e=parseInt(E,10))};var J,Z="00000000000000000000000000000000",oe=h.__private__.getFileId=function(){return Z},V=h.__private__.setFileId=function(E){return Z=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(ts=new Og(u.userPermissions,u.userPassword,u.ownerPassword,Z)),Z};h.setFileId=function(E){return V(E),this},h.getFileId=function(){return oe()};var Y=h.__private__.convertDateToPDFDate=function(E){var K=E.getTimezoneOffset(),fe=K<0?"+":"-",be=Math.floor(Math.abs(K/60)),Ee=Math.abs(K%60),ze=[fe,X(be),"'",X(Ee),"'"].join("");return["D:",E.getFullYear(),X(E.getMonth()+1),X(E.getDate()),X(E.getHours()),X(E.getMinutes()),X(E.getSeconds()),ze].join("")},ce=h.__private__.convertPDFDateToDate=function(E){var K=parseInt(E.substr(2,4),10),fe=parseInt(E.substr(6,2),10)-1,be=parseInt(E.substr(8,2),10),Ee=parseInt(E.substr(10,2),10),ze=parseInt(E.substr(12,2),10),et=parseInt(E.substr(14,2),10);return new Date(K,fe,be,Ee,ze,et,0)},he=h.__private__.setCreationDate=function(E){var K;if(E===void 0&&(E=new Date),E instanceof Date)K=Y(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=E}return J=K},z=h.__private__.getCreationDate=function(E){var K=J;return E==="jsDate"&&(K=ce(J)),K};h.setCreationDate=function(E){return he(E),this},h.getCreationDate=function(E){return z(E)};var G,X=h.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},re=h.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},ue=0,Ae=[],we=[],Ce=0,Ne=[],ke=[],je=!1,Ge=we;h.__private__.setCustomOutputDestination=function(E){je=!0,Ge=E};var ot=function(E){je||(Ge=E)};h.__private__.resetCustomOutputDestination=function(){je=!1,Ge=we};var le=h.__private__.out=function(E){return E=E.toString(),Ce+=E.length+1,Ge.push(E),Ge},Xe=h.__private__.write=function(E){return le(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},dt=h.__private__.getArrayBuffer=function(E){for(var K=E.length,fe=new ArrayBuffer(K),be=new Uint8Array(fe);K--;)be[K]=E.charCodeAt(K);return fe},Ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Ue};var Re=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(E){return Re=C===b?E/Vt:E,this};var Ke,Ze=h.__private__.getFontSize=h.getFontSize=function(){return C===v?Re:Re*Vt},st=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(E){return st=E,this},h.__private__.getR2L=h.getR2L=function(){return st};var Me,St=h.__private__.setZoomMode=function(E){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))Ke=E;else if(isNaN(E)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');Ke=E}else Ke=parseInt(E,10)};h.__private__.getZoomMode=function(){return Ke};var Bt,ct=h.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');Me=E};h.__private__.getPageMode=function(){return Me};var Nt=h.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');Bt=E};h.__private__.getLayoutMode=function(){return Bt},h.__private__.setDisplayMode=h.setDisplayMode=function(E,K,fe){return St(E),Nt(K),ct(fe),this};var Dt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(E){if(Object.keys(Dt).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Dt[E]},h.__private__.getDocumentProperties=function(){return Dt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(E){for(var K in Dt)Dt.hasOwnProperty(K)&&E[K]&&(Dt[K]=E[K]);return this},h.__private__.setDocumentProperty=function(E,K){if(Object.keys(Dt).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Dt[E]=K};var gt,Vt,xt,kn,dn,Wt={},Jt={},Tn=[],Rt={},Vn={},Yt={},rn={},nr=null,ln=0,Et=[],sn=new iH(h),Kt=t.hotfixes||[],tn={},vn={},qn=[],yt=function E(K,fe,be,Ee,ze,et){if(!(this instanceof E))return new E(K,fe,be,Ee,ze,et);isNaN(K)&&(K=1),isNaN(fe)&&(fe=0),isNaN(be)&&(be=0),isNaN(Ee)&&(Ee=1),isNaN(ze)&&(ze=0),isNaN(et)&&(et=0),this._matrix=[K,fe,be,Ee,ze,et]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(E)},yt.prototype.multiply=function(E){var K=E.sx*this.sx+E.shy*this.shx,fe=E.sx*this.shy+E.shy*this.sy,be=E.shx*this.sx+E.sy*this.shx,Ee=E.shx*this.shy+E.sy*this.sy,ze=E.tx*this.sx+E.ty*this.shx+this.tx,et=E.tx*this.shy+E.ty*this.sy+this.ty;return new yt(K,fe,be,Ee,ze,et)},yt.prototype.decompose=function(){var E=this.sx,K=this.shy,fe=this.shx,be=this.sy,Ee=this.tx,ze=this.ty,et=Math.sqrt(E*E+K*K),kt=(E/=et)*fe+(K/=et)*be;fe-=E*kt,be-=K*kt;var Qt=Math.sqrt(fe*fe+be*be);return kt/=Qt,E*(be/=Qt)<K*(fe/=Qt)&&(E=-E,K=-K,kt=-kt,et=-et),{scale:new yt(et,0,0,Qt,0,0),translate:new yt(1,0,0,1,Ee,ze),rotate:new yt(E,K,-K,E,0,0),skew:new yt(1,0,kt,1,0,0)}},yt.prototype.toString=function(E){return this.join(" ")},yt.prototype.inversed=function(){var E=this.sx,K=this.shy,fe=this.shx,be=this.sy,Ee=this.tx,ze=this.ty,et=1/(E*be-K*fe),kt=be*et,Qt=-K*et,cn=-fe*et,fn=E*et;return new yt(kt,Qt,cn,fn,-kt*Ee-cn*ze,-Qt*Ee-fn*ze)},yt.prototype.applyToPoint=function(E){var K=E.x*this.sx+E.y*this.shx+this.tx,fe=E.x*this.shy+E.y*this.sy+this.ty;return new Cc(K,fe)},yt.prototype.applyToRectangle=function(E){var K=this.applyToPoint(E),fe=this.applyToPoint(new Cc(E.x+E.w,E.y+E.h));return new Vd(K.x,K.y,fe.x-K.x,fe.y-K.y)},yt.prototype.clone=function(){var E=this.sx,K=this.shy,fe=this.shx,be=this.sy,Ee=this.tx,ze=this.ty;return new yt(E,K,fe,be,Ee,ze)},h.Matrix=yt;var Br=h.matrixMult=function(E,K){return K.multiply(E)},Ir=new yt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Ir;var Zn=function(E,K){if(!Vn[E]){var fe=(K instanceof bp?"Sh":"P")+(Object.keys(Rt).length+1).toString(10);K.id=fe,Vn[E]=fe,Rt[fe]=K,sn.publish("addPattern",K)}};h.ShadingPattern=bp,h.TilingPattern=i0,h.addShadingPattern=function(E,K){return D("addShadingPattern()"),Zn(E,K),this},h.beginTilingPattern=function(E){D("beginTilingPattern()"),Yf(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},h.endTilingPattern=function(E,K){D("endTilingPattern()"),K.stream=ke[G].join(`
`),Zn(E,K),sn.publish("endTilingPattern",K),qn.pop().restore()};var cr,Fn=h.__private__.newObject=function(){var E=ht();return Er(E,!0),E},ht=h.__private__.newObjectDeferred=function(){return ue++,Ae[ue]=function(){return Ce},ue},Er=function(E,K){return K=typeof K=="boolean"&&K,Ae[E]=Ce,K&&le(E+" 0 obj"),E},ua=h.__private__.newAdditionalObject=function(){var E={objId:ht(),content:""};return Ne.push(E),E},ja=ht(),so=ht(),Ui=h.__private__.decodeColorString=function(E){var K=E.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length!==5||K[4]!=="k"&&K[4]!=="K"||(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var fe=parseFloat(K[0]);K=[fe,fe,fe,"r"]}for(var be="#",Ee=0;Ee<3;Ee++)be+=("0"+Math.floor(255*parseFloat(K[Ee])).toString(16)).slice(-2);return be},rr=h.__private__.encodeColorString=function(E){var K;typeof E=="string"&&(E={ch1:E});var fe=E.ch1,be=E.ch2,Ee=E.ch3,ze=E.ch4,et=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof fe=="string"&&fe.charAt(0)!=="#"){var kt=new dJ(fe);if(kt.ok)fe=kt.toHex();else if(!/^\d*\.?\d*$/.test(fe))throw new Error('Invalid color "'+fe+'" passed to jsPDF.encodeColorString.')}if(typeof fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(fe)&&(fe="#"+fe[1]+fe[1]+fe[2]+fe[2]+fe[3]+fe[3]),typeof fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fe)){var Qt=parseInt(fe.substr(1),16);fe=Qt>>16&255,be=Qt>>8&255,Ee=255&Qt}if(be===void 0||ze===void 0&&fe===be&&be===Ee)K=typeof fe=="string"?fe+" "+et[0]:E.precision===2?O(fe/255)+" "+et[0]:U(fe/255)+" "+et[0];else if(ze===void 0||xr(ze)==="object"){if(ze&&!isNaN(ze.a)&&ze.a===0)return["1.","1.","1.",et[1]].join(" ");K=typeof fe=="string"?[fe,be,Ee,et[1]].join(" "):E.precision===2?[O(fe/255),O(be/255),O(Ee/255),et[1]].join(" "):[U(fe/255),U(be/255),U(Ee/255),et[1]].join(" ")}else K=typeof fe=="string"?[fe,be,Ee,ze,et[2]].join(" "):E.precision===2?[O(fe),O(be),O(Ee),O(ze),et[2]].join(" "):[U(fe),U(be),U(Ee),U(ze),et[2]].join(" ");return K},Vr=h.__private__.getFilters=function(){return o},oi=h.__private__.putStream=function(E){var K=(E=E||{}).data||"",fe=E.filters||Vr(),be=E.alreadyAppliedFilters||[],Ee=E.addLength1||!1,ze=K.length,et=E.objectId,kt=function(Ls){return Ls};if(u!==null&&et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(kt=ts.encryptor(et,0));var Qt={};fe===!0&&(fe=["FlateEncode"]);var cn=E.additionalKeyValues||[],fn=(Qt=Zt.API.processDataByFilters!==void 0?Zt.API.processDataByFilters(K,fe):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(be)?be.join(" "):be.toString());if(Qt.data.length!==0&&(cn.push({key:"Length",value:Qt.data.length}),Ee===!0&&cn.push({key:"Length1",value:ze})),fn.length!=0)if(fn.split("/").length-1==1)cn.push({key:"Filter",value:fn});else{cn.push({key:"Filter",value:"["+fn+"]"});for(var jn=0;jn<cn.length;jn+=1)if(cn[jn].key==="DecodeParms"){for(var Gr=[],vs=0;vs<Qt.reverseChain.split("/").length-1;vs+=1)Gr.push("null");Gr.push(cn[jn].value),cn[jn].value="["+Gr.join(" ")+"]"}}le("<<");for(var dr=0;dr<cn.length;dr++)le("/"+cn[dr].key+" "+cn[dr].value);le(">>"),Qt.data.length!==0&&(le("stream"),le(kt(Qt.data)),le("endstream"))},pc=h.__private__.putPage=function(E){var K=E.number,fe=E.data,be=E.objId,Ee=E.contentsObjId;Er(be,!0),le("<</Type /Page"),le("/Parent "+E.rootDictionaryObjId+" 0 R"),le("/Resources "+E.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(F(E.mediaBox.bottomLeftX))+" "+parseFloat(F(E.mediaBox.bottomLeftY))+" "+F(E.mediaBox.topRightX)+" "+F(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&le("/CropBox ["+F(E.cropBox.bottomLeftX)+" "+F(E.cropBox.bottomLeftY)+" "+F(E.cropBox.topRightX)+" "+F(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&le("/BleedBox ["+F(E.bleedBox.bottomLeftX)+" "+F(E.bleedBox.bottomLeftY)+" "+F(E.bleedBox.topRightX)+" "+F(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&le("/TrimBox ["+F(E.trimBox.bottomLeftX)+" "+F(E.trimBox.bottomLeftY)+" "+F(E.trimBox.topRightX)+" "+F(E.trimBox.topRightY)+"]"),E.artBox!==null&&le("/ArtBox ["+F(E.artBox.bottomLeftX)+" "+F(E.artBox.bottomLeftY)+" "+F(E.artBox.topRightX)+" "+F(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&le("/UserUnit "+E.userUnit),sn.publish("putPage",{objId:be,pageContext:Et[K],pageNumber:K,page:fe}),le("/Contents "+Ee+" 0 R"),le(">>"),le("endobj");var ze=fe.join(`
`);return C===b&&(ze+=`
Q`),Er(Ee,!0),oi({data:ze,filters:Vr(),objectId:Ee}),le("endobj"),be},Lo=h.__private__.putPages=function(){var E,K,fe=[];for(E=1;E<=ln;E++)Et[E].objId=ht(),Et[E].contentsObjId=ht();for(E=1;E<=ln;E++)fe.push(pc({number:E,data:ke[E],objId:Et[E].objId,contentsObjId:Et[E].contentsObjId,mediaBox:Et[E].mediaBox,cropBox:Et[E].cropBox,bleedBox:Et[E].bleedBox,trimBox:Et[E].trimBox,artBox:Et[E].artBox,userUnit:Et[E].userUnit,rootDictionaryObjId:ja,resourceDictionaryObjId:so}));Er(ja,!0),le("<</Type /Pages");var be="/Kids [";for(K=0;K<ln;K++)be+=fe[K]+" 0 R ";le(be+"]"),le("/Count "+ln),le(">>"),le("endobj"),sn.publish("postPutPages")},Sl=function(E){sn.publish("putFont",{font:E,out:le,newObject:Fn,putStream:oi}),E.isAlreadyPutted!==!0&&(E.objectNumber=Fn(),le("<<"),le("/Type /Font"),le("/BaseFont /"+$g(E.postScriptName)),le("/Subtype /Type1"),typeof E.encoding=="string"&&le("/Encoding /"+E.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},Rd=function(E){E.objectNumber=Fn();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[F(E.x),F(E.y),F(E.x+E.width),F(E.y+E.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var fe=E.pages[1].join(`
`);oi({data:fe,additionalKeyValues:K,objectId:E.objectNumber}),le("endobj")},LA=function(E,K){K||(K=21);var fe=Fn(),be=function(et,kt){var Qt,cn=[],fn=1/(kt-1);for(Qt=0;Qt<1;Qt+=fn)cn.push(Qt);if(cn.push(1),et[0].offset!=0){var jn={offset:0,color:et[0].color};et.unshift(jn)}if(et[et.length-1].offset!=1){var Gr={offset:1,color:et[et.length-1].color};et.push(Gr)}for(var vs="",dr=0,Ls=0;Ls<cn.length;Ls++){for(Qt=cn[Ls];Qt>et[dr+1].offset;)dr++;var us=et[dr].offset,Ks=(Qt-us)/(et[dr+1].offset-us),fa=et[dr].color,li=et[dr+1].color;vs+=re(Math.round((1-Ks)*fa[0]+Ks*li[0]).toString(16))+re(Math.round((1-Ks)*fa[1]+Ks*li[1]).toString(16))+re(Math.round((1-Ks)*fa[2]+Ks*li[2]).toString(16))}return vs.trim()}(E.colors,K),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+K+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),oi({data:be,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fe}),le("endobj"),E.objectNumber=Fn(),le("<< /ShadingType "+E.type),le("/ColorSpace /DeviceRGB");var ze="/Coords ["+F(parseFloat(E.coords[0]))+" "+F(parseFloat(E.coords[1]))+" ";E.type===2?ze+=F(parseFloat(E.coords[2]))+" "+F(parseFloat(E.coords[3])):ze+=F(parseFloat(E.coords[2]))+" "+F(parseFloat(E.coords[3]))+" "+F(parseFloat(E.coords[4]))+" "+F(parseFloat(E.coords[5])),le(ze+="]"),E.matrix&&le("/Matrix ["+E.matrix.toString()+"]"),le("/Function "+fe+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},Pd=function(E,K){var fe=ht(),be=Fn();K.push({resourcesOid:fe,objectOid:be}),E.objectNumber=be;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+E.boundingBox.map(F).join(" ")+"]"}),Ee.push({key:"XStep",value:F(E.xStep)}),Ee.push({key:"YStep",value:F(E.yStep)}),Ee.push({key:"Resources",value:fe+" 0 R"}),E.matrix&&Ee.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),oi({data:E.stream,additionalKeyValues:Ee,objectId:E.objectNumber}),le("endobj")},Od=function(E){for(var K in E.objectNumber=Fn(),le("<<"),E)switch(K){case"opacity":le("/ca "+O(E[K]));break;case"stroke-opacity":le("/CA "+O(E[K]))}le(">>"),le("endobj")},Hf=function(E){Er(E.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var K in le("/Font <<"),Wt)Wt.hasOwnProperty(K)&&(A===!1||A===!0&&d.hasOwnProperty(K))&&le("/"+K+" "+Wt[K].objectNumber+" 0 R");le(">>")}(),function(){if(Object.keys(Rt).length>0){for(var K in le("/Shading <<"),Rt)Rt.hasOwnProperty(K)&&Rt[K]instanceof bp&&Rt[K].objectNumber>=0&&le("/"+K+" "+Rt[K].objectNumber+" 0 R");sn.publish("putShadingPatternDict"),le(">>")}}(),function(K){if(Object.keys(Rt).length>0){for(var fe in le("/Pattern <<"),Rt)Rt.hasOwnProperty(fe)&&Rt[fe]instanceof h.TilingPattern&&Rt[fe].objectNumber>=0&&Rt[fe].objectNumber<K&&le("/"+fe+" "+Rt[fe].objectNumber+" 0 R");sn.publish("putTilingPatternDict"),le(">>")}}(E.objectOid),function(){if(Object.keys(Yt).length>0){var K;for(K in le("/ExtGState <<"),Yt)Yt.hasOwnProperty(K)&&Yt[K].objectNumber>=0&&le("/"+K+" "+Yt[K].objectNumber+" 0 R");sn.publish("putGStateDict"),le(">>")}}(),function(){for(var K in le("/XObject <<"),tn)tn.hasOwnProperty(K)&&tn[K].objectNumber>=0&&le("/"+K+" "+tn[K].objectNumber+" 0 R");sn.publish("putXobjectDict"),le(">>")}(),le(">>"),le("endobj")},rg=function(E){Jt[E.fontName]=Jt[E.fontName]||{},Jt[E.fontName][E.fontStyle]=E.id},sg=function(E,K,fe,be,Ee){var ze={id:"F"+(Object.keys(Wt).length+1).toString(10),postScriptName:E,fontName:K,fontStyle:fe,encoding:be,isStandardFont:Ee||!1,metadata:{}};return sn.publish("addFont",{font:ze,instance:this}),Wt[ze.id]=ze,rg(ze),ze.id},Aa=h.__private__.pdfEscape=h.pdfEscape=function(E,K){return function(fe,be){var Ee,ze,et,kt,Qt,cn,fn,jn,Gr;if(et=(be=be||{}).sourceEncoding||"Unicode",Qt=be.outputEncoding,(be.autoencode||Qt)&&Wt[gt].metadata&&Wt[gt].metadata[et]&&Wt[gt].metadata[et].encoding&&(kt=Wt[gt].metadata[et].encoding,!Qt&&Wt[gt].encoding&&(Qt=Wt[gt].encoding),!Qt&&kt.codePages&&(Qt=kt.codePages[0]),typeof Qt=="string"&&(Qt=kt[Qt]),Qt)){for(fn=!1,cn=[],Ee=0,ze=fe.length;Ee<ze;Ee++)(jn=Qt[fe.charCodeAt(Ee)])?cn.push(String.fromCharCode(jn)):cn.push(fe[Ee]),cn[Ee].charCodeAt(0)>>8&&(fn=!0);fe=cn.join("")}for(Ee=fe.length;fn===void 0&&Ee!==0;)fe.charCodeAt(Ee-1)>>8&&(fn=!0),Ee--;if(!fn)return fe;for(cn=be.noBOM?[]:[254,255],Ee=0,ze=fe.length;Ee<ze;Ee++){if((Gr=(jn=fe.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+fe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");cn.push(Gr),cn.push(jn-(Gr<<8))}return String.fromCharCode.apply(void 0,cn)}(E,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zf=h.__private__.beginPage=function(E){ke[++ln]=[],Et[ln]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Vf(ln),ot(ke[G])},$d=function(E,K){var fe,be,Ee;switch(n=K||n,typeof E=="string"&&(fe=g(E.toLowerCase()),Array.isArray(fe)&&(be=fe[0],Ee=fe[1])),Array.isArray(E)&&(be=E[0]*Vt,Ee=E[1]*Vt),isNaN(be)&&(be=s[0],Ee=s[1]),(be>14400||Ee>14400)&&(Lr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),be=Math.min(14400,be),Ee=Math.min(14400,Ee)),s=[be,Ee],n.substr(0,1)){case"l":Ee>be&&(s=[Ee,be]);break;case"p":be>Ee&&(s=[Ee,be])}zf(s),lt(RA),le(Tu),Xf!==0&&le(Xf+" J"),Hd!==0&&le(Hd+" j"),sn.publish("addPage",{pageNumber:ln})},mc=function(E){E>0&&E<=ln&&(ke.splice(E,1),Et.splice(E,1),ln--,G>ln&&(G=ln),this.setPage(G))},Vf=function(E){E>0&&E<=ln&&(G=E)},Wf=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ke.length-1},Nu=function(E,K,fe){var be,Ee=void 0;return fe=fe||{},E=E!==void 0?E:Wt[gt].fontName,K=K!==void 0?K:Wt[gt].fontStyle,be=E.toLowerCase(),Jt[be]!==void 0&&Jt[be][K]!==void 0?Ee=Jt[be][K]:Jt[E]!==void 0&&Jt[E][K]!==void 0?Ee=Jt[E][K]:fe.disableWarning===!1&&Lr.warn("Unable to look up font label for font '"+E+"', '"+K+"'. Refer to getFontList() for available fonts."),Ee||fe.noFallback||(Ee=Jt.times[K])==null&&(Ee=Jt.times.normal),Ee},mn=h.__private__.putInfo=function(){var E=Fn(),K=function(be){return be};for(var fe in u!==null&&(K=ts.encryptor(E,0)),le("<<"),le("/Producer ("+Aa(K("jsPDF "+Zt.version))+")"),Dt)Dt.hasOwnProperty(fe)&&Dt[fe]&&le("/"+fe.substr(0,1).toUpperCase()+fe.substr(1)+" ("+Aa(K(Dt[fe]))+")");le("/CreationDate ("+Aa(K(J))+")"),le(">>"),le("endobj")},ur=h.__private__.putCatalog=function(E){var K=(E=E||{}).rootDictionaryObjId||ja;switch(Fn(),le("<<"),le("/Type /Catalog"),le("/Pages "+K+" 0 R"),Ke||(Ke="fullwidth"),Ke){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fe=""+Ke;fe.substr(fe.length-1)==="%"&&(Ke=parseInt(Ke)/100),typeof Ke=="number"&&le("/OpenAction [3 0 R /XYZ null null "+O(Ke)+"]")}switch(Bt||(Bt="continuous"),Bt){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}Me&&le("/PageMode /"+Me),sn.publish("putCatalog"),le(">>"),le("endobj")},Ud=h.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(ue+1)),le("/Root "+ue+" 0 R"),le("/Info "+(ue-1)+" 0 R"),u!==null&&le("/Encrypt "+ts.oid+" 0 R"),le("/ID [ <"+Z+"> <"+Z+"> ]"),le(">>")},kr=h.__private__.putHeader=function(){le("%PDF-"+p),le("%")},gc=h.__private__.putXRef=function(){var E="0000000000";le("xref"),le("0 "+(ue+1)),le("0000000000 65535 f ");for(var K=1;K<=ue;K++)typeof Ae[K]=="function"?le((E+Ae[K]()).slice(-10)+" 00000 n "):Ae[K]!==void 0?le((E+Ae[K]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},da=h.__private__.buildDocument=function(){var E;ue=0,Ce=0,we=[],Ae=[],Ne=[],ja=ht(),so=ht(),ot(we),sn.publish("buildDocument"),kr(),Lo(),function(){sn.publish("putAdditionalObjects");for(var fe=0;fe<Ne.length;fe++){var be=Ne[fe];Er(be.objId,!0),le(be.content),le("endobj")}sn.publish("postPutAdditionalObjects")}(),E=[],function(){for(var fe in Wt)Wt.hasOwnProperty(fe)&&(A===!1||A===!0&&d.hasOwnProperty(fe))&&Sl(Wt[fe])}(),function(){var fe;for(fe in Yt)Yt.hasOwnProperty(fe)&&Od(Yt[fe])}(),function(){for(var fe in tn)tn.hasOwnProperty(fe)&&Rd(tn[fe])}(),function(fe){var be;for(be in Rt)Rt.hasOwnProperty(be)&&(Rt[be]instanceof bp?LA(Rt[be]):Rt[be]instanceof i0&&Pd(Rt[be],fe))}(E),sn.publish("putResources"),E.forEach(Hf),Hf({resourcesOid:so,objectOid:Number.MAX_SAFE_INTEGER}),sn.publish("postPutResources"),u!==null&&(ts.oid=Fn(),le("<<"),le("/Filter /Standard"),le("/V "+ts.v),le("/R "+ts.r),le("/U <"+ts.toHexString(ts.U)+">"),le("/O <"+ts.toHexString(ts.O)+">"),le("/P "+ts.P),le(">>"),le("endobj")),mn(),ur();var K=Ce;return gc(),Ud(),le("startxref"),le(""+K),le("%%EOF"),ot(ke[G]),we.join(`
`)},un=h.__private__.getBlob=function(E){return new Blob([dt(E)],{type:"application/pdf"})},$r=h.output=h.__private__.output=(cr=function(E,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",E){case void 0:return da();case"save":h.save(K.filename);break;case"arraybuffer":return dt(da());case"blob":return un(da());case"bloburi":case"bloburl":if(An.URL!==void 0&&typeof An.URL.createObjectURL=="function")return An.URL&&An.URL.createObjectURL(un(da()))||void 0;Lr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fe="",be=da();try{fe=nH(be)}catch{fe=nH(unescape(encodeURIComponent(be)))}return"data:application/pdf;filename="+K.filename+";base64,"+fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(An)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(Ee=K.pdfObjectUrl,ze="");var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",kt=An.open();return kt!==null&&kt.document.write(et),kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(An)==="[object Window]"){var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',cn=An.open();if(cn!==null){cn.document.write(Qt);var fn=this;cn.document.documentElement.querySelector("#pdfViewer").onload=function(){cn.document.title=K.filename,cn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(fn.output("bloburl"))}}return cn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(An)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var jn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',Gr=An.open();if(Gr!==null&&(Gr.document.write(jn),Gr.document.title=K.filename),Gr||typeof safari>"u")return Gr;break;case"datauri":case"dataurl":return An.document.location.href=this.output("datauristring",K);default:return null}},cr.foo=function(){try{return cr.apply(this,arguments)}catch(fe){var E=fe.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var K="Error in function "+E.split(`
`)[0].split("<")[0]+": "+fe.message;if(!An.console)throw new Error(K);An.console.error(K,fe),An.alert&&alert(K)}},cr.foo.bar=cr,cr.foo),io=function(E){return Array.isArray(Kt)===!0&&Kt.indexOf(E)>-1};switch(r){case"pt":Vt=1;break;case"mm":Vt=72/25.4;break;case"cm":Vt=72/2.54;break;case"in":Vt=72;break;case"px":Vt=io("px_scaling")==1?.75:96/72;break;case"pc":case"em":Vt=12;break;case"ex":Vt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Vt=r}var ts=null;he(),V();var ws=h.__private__.getPageInfo=h.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Et[E].objId,pageNumber:E,pageContext:Et[E]}},ig=h.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in Et)if(Et[K].objId===E)break;return ws(K)},Md=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Et[G].objId,pageNumber:G,pageContext:Et[G]}};h.addPage=function(){return $d.apply(this,arguments),this},h.setPage=function(){return Vf.apply(this,arguments),ot.call(this,ke[G]),this},h.insertPage=function(E){return this.addPage(),this.movePage(G,E),this},h.movePage=function(E,K){var fe,be;if(E>K){fe=ke[E],be=Et[E];for(var Ee=E;Ee>K;Ee--)ke[Ee]=ke[Ee-1],Et[Ee]=Et[Ee-1];ke[K]=fe,Et[K]=be,this.setPage(K)}else if(E<K){fe=ke[E],be=Et[E];for(var ze=E;ze<K;ze++)ke[ze]=ke[ze+1],Et[ze]=Et[ze+1];ke[K]=fe,Et[K]=be,this.setPage(K)}return this},h.deletePage=function(){return mc.apply(this,arguments),this},h.__private__.text=h.text=function(E,K,fe,be,Ee){var ze,et,kt,Qt,cn,fn,jn,Gr,vs,dr=(be=be||{}).scope||this;if(typeof E=="number"&&typeof K=="number"&&(typeof fe=="string"||Array.isArray(fe))){var Ls=fe;fe=K,K=E,E=Ls}if(arguments[3]instanceof yt==0?(kt=arguments[4],Qt=arguments[5],xr(jn=arguments[3])==="object"&&jn!==null||(typeof kt=="string"&&(Qt=kt,kt=null),typeof jn=="string"&&(Qt=jn,jn=null),typeof jn=="number"&&(kt=jn,jn=null),be={flags:jn,angle:kt,align:Qt})):(D("The transform parameter of text() with a Matrix value"),vs=Ee),isNaN(K)||isNaN(fe)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return dr;var us,Ks="",fa=typeof be.lineHeightFactor=="number"?be.lineHeightFactor:ku,li=dr.internal.scaleFactor;function _c(sr){return sr=sr.split("	").join(Array(be.TabLen||9).join(" ")),Aa(sr,jn)}function Nc(sr){for(var hr,ds=sr.concat(),bs=[],Lc=ds.length;Lc--;)typeof(hr=ds.shift())=="string"?bs.push(hr):Array.isArray(sr)&&(hr.length===1||hr[1]===void 0&&hr[2]===void 0)?bs.push(hr[0]):bs.push([hr[0],hr[1],hr[2]]);return bs}function ci(sr,hr){var ds;if(typeof sr=="string")ds=hr(sr)[0];else if(Array.isArray(sr)){for(var bs,Lc,lo=sr.concat(),Dc=[],ug=lo.length;ug--;)typeof(bs=lo.shift())=="string"?Dc.push(hr(bs)[0]):Array.isArray(bs)&&typeof bs[0]=="string"&&(Lc=hr(bs[0],bs[1],bs[2]),Dc.push([Lc[0],Lc[1],Lc[2]]));ds=Dc}return ds}var Ic=!1,Fu=!0;if(typeof E=="string")Ic=!0;else if(Array.isArray(E)){var OA=E.concat();et=[];for(var Il,Ds=OA.length;Ds--;)(typeof(Il=OA.shift())!="string"||Array.isArray(Il)&&typeof Il[0]!="string")&&(Fu=!1);Ic=Fu}if(Ic===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var $A=Re/dr.internal.scaleFactor,UA=$A*(fa-1);switch(be.baseline){case"bottom":fe-=UA;break;case"top":fe+=$A-UA;break;case"hanging":fe+=$A-2*UA;break;case"middle":fe+=$A/2-UA}if((fn=be.maxWidth||0)>0&&(typeof E=="string"?E=dr.splitTextToSize(E,fn):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(sr,hr){return sr.concat(dr.splitTextToSize(hr,fn))},[]))),ze={text:E,x:K,y:fe,options:be,mutex:{pdfEscape:Aa,activeFontKey:gt,fonts:Wt,activeFontSize:Re}},sn.publish("preProcessText",ze),E=ze.text,kt=(be=ze.options).angle,vs instanceof yt==0&&kt&&typeof kt=="number"){kt*=Math.PI/180,be.rotationDirection===0&&(kt=-kt),C===b&&(kt=-kt);var Wd=Math.cos(kt),ep=Math.sin(kt);vs=new yt(Wd,ep,-ep,Wd,0,0)}else kt&&kt instanceof yt&&(vs=kt);C!==b||vs||(vs=Ir),(cn=be.charSpace||Nl)!==void 0&&(Ks+=F(W(cn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Gr=be.horizontalScale)!==void 0&&(Ks+=F(100*Gr)+` Tz
`),be.lang;var Tr=-1,oo=be.renderingMode!==void 0?be.renderingMode:be.stroke,Gd=dr.internal.getCurrentPageInfo().pageContext;switch(oo){case 0:case!1:case"fill":Tr=0;break;case 1:case!0:case"stroke":Tr=1;break;case 2:case"fillThenStroke":Tr=2;break;case 3:case"invisible":Tr=3;break;case 4:case"fillAndAddForClipping":Tr=4;break;case 5:case"strokeAndAddPathForClipping":Tr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Tr=6;break;case 7:case"addToPathForClipping":Tr=7}var pa=Gd.usedRenderingMode!==void 0?Gd.usedRenderingMode:-1;Tr!==-1?Ks+=Tr+` Tr
`:pa!==-1&&(Ks+=`0 Tr
`),Tr!==-1&&(Gd.usedRenderingMode=Tr),Qt=be.align||"left";var ma,ga=Re*fa,tp=dr.internal.pageSize.getWidth(),Ec=Wt[gt];cn=be.charSpace||Nl,fn=be.maxWidth||0,jn=Object.assign({autoencode:!0,noBOM:!0},be.flags);var kc=[],El=function(sr){return dr.getStringUnitWidth(sr,{font:Ec,charSpace:cn,fontSize:Re,doKerning:!1})*Re/li};if(Object.prototype.toString.call(E)==="[object Array]"){var Ro;et=Nc(E),Qt!=="left"&&(ma=et.map(El));var xs,Wa=0;if(Qt==="right"){K-=ma[0],E=[],Ds=et.length;for(var Tc=0;Tc<Ds;Tc++)Tc===0?(xs=Ha(K),Ro=za(fe)):(xs=W(Wa-ma[Tc]),Ro=-ga),E.push([et[Tc],xs,Ro]),Wa=ma[Tc]}else if(Qt==="center"){K-=ma[0]/2,E=[],Ds=et.length;for(var kl=0;kl<Ds;kl++)kl===0?(xs=Ha(K),Ro=za(fe)):(xs=W((Wa-ma[kl])/2),Ro=-ga),E.push([et[kl],xs,Ro]),Wa=ma[kl]}else if(Qt==="left"){E=[],Ds=et.length;for(var np=0;np<Ds;np++)E.push(et[np])}else if(Qt==="justify"&&Ec.encoding==="Identity-H"){E=[],Ds=et.length,fn=fn!==0?fn:tp;for(var ao=0,As=0;As<Ds;As++)if(Ro=As===0?za(fe):-ga,xs=As===0?Ha(K):ao,As<Ds-1){var Fc=W((fn-ma[As])/(et[As].split(" ").length-1)),Tl=et[As].split(" ");E.push([Tl[0]+" ",xs,Ro]),ao=0;for(var qs=1;qs<Tl.length;qs++){var Lu=(El(Tl[qs-1]+" "+Tl[qs])-El(Tl[qs]))*li+Fc;qs==Tl.length-1?E.push([Tl[qs],Lu,0]):E.push([Tl[qs]+" ",Lu,0]),ao-=Lu}}else E.push([et[As],xs,Ro]);E.push(["",ao,0])}else{if(Qt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],Ds=et.length,fn=fn!==0?fn:tp,As=0;As<Ds;As++){Ro=As===0?za(fe):-ga,xs=As===0?Ha(K):0;var Kd=et[As].split(" ").length-1,MA=Kd>0?(fn-ma[As])/Kd:0;As<Ds-1?kc.push(F(W(MA))):kc.push(0),E.push([et[As],xs,Ro])}}}(typeof be.R2L=="boolean"?be.R2L:st)===!0&&(E=ci(E,function(sr,hr,ds){return[sr.split("").reverse().join(""),hr,ds]})),ze={text:E,x:K,y:fe,options:be,mutex:{pdfEscape:Aa,activeFontKey:gt,fonts:Wt,activeFontSize:Re}},sn.publish("postProcessText",ze),E=ze.text,us=ze.mutex.isHex||!1;var Du=Wt[gt].encoding;Du!=="WinAnsiEncoding"&&Du!=="StandardEncoding"||(E=ci(E,function(sr,hr,ds){return[_c(sr),hr,ds]})),et=Nc(E),E=[];for(var Fl,Ga,Po,Ll=Array.isArray(et[0])?1:0,Dl="",Ru=function(sr,hr,ds){var bs="";return ds instanceof yt?(ds=typeof be.angle=="number"?Br(ds,new yt(1,0,0,1,sr,hr)):Br(new yt(1,0,0,1,sr,hr),ds),C===b&&(ds=Br(new yt(1,0,0,-1,0,0),ds)),bs=ds.join(" ")+` Tm
`):bs=F(sr)+" "+F(hr)+` Td
`,bs},ya=0;ya<et.length;ya++){switch(Dl="",Ll){case 1:Po=(us?"<":"(")+et[ya][0]+(us?">":")"),Fl=parseFloat(et[ya][1]),Ga=parseFloat(et[ya][2]);break;case 0:Po=(us?"<":"(")+et[ya]+(us?">":")"),Fl=Ha(K),Ga=za(fe)}kc!==void 0&&kc[ya]!==void 0&&(Dl=kc[ya]+` Tw
`),ya===0?E.push(Dl+Ru(Fl,Ga,vs)+Po):Ll===0?E.push(Dl+Po):Ll===1&&E.push(Dl+Ru(Fl,Ga,vs)+Po)}E=Ll===0?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var Oo=`BT
/`;return Oo+=gt+" "+Re+` Tf
`,Oo+=F(Re*fa)+` TL
`,Oo+=Wr+`
`,Oo+=Ks,Oo+=E,le(Oo+="ET"),d[gt]=!0,dr};var yc=h.__private__.clip=h.clip=function(E){return le(E==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return yc("evenodd")},h.__private__.discardPath=h.discardPath=function(){return le("n"),this};var or=h.__private__.isValidStyle=function(E){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(K=!0),K};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(E){return or(E)&&(c=E),this};var Bl=h.__private__.getStyle=h.getStyle=function(E){var K=c;switch(E){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=E}return K},Iu=h.close=function(){return le("h"),this};h.stroke=function(){return le("S"),this},h.fill=function(E){return _l("f",E),this},h.fillEvenOdd=function(E){return _l("f*",E),this},h.fillStroke=function(E){return _l("B",E),this},h.fillStrokeEvenOdd=function(E){return _l("B*",E),this};var _l=function(E,K){xr(K)==="object"?Gf(K,E):le(E)},wc=function(E){E===null||C===b&&E===void 0||(E=Bl(E),le(E))};function DA(E,K,fe,be,Ee){var ze=new i0(K||this.boundingBox,fe||this.xStep,be||this.yStep,this.gState,Ee||this.matrix);ze.stream=this.stream;var et=E+"$$"+this.cloneIndex+++"$$";return Zn(et,ze),ze}var Gf=function(E,K){var fe=Vn[E.key],be=Rt[fe];if(be instanceof bp)le("q"),le(Kf(K)),be.gState&&h.setGState(be.gState),le(E.matrix.toString()+" cm"),le("/"+fe+" sh"),le("Q");else if(be instanceof i0){var Ee=new yt(1,0,0,-1,0,PA());E.matrix&&(Ee=Ee.multiply(E.matrix||Ir),fe=DA.call(be,E.key,E.boundingBox,E.xStep,E.yStep,Ee).id),le("q"),le("/Pattern cs"),le("/"+fe+" scn"),be.gState&&h.setGState(be.gState),le(K),le("Q")}},Kf=function(E){switch(E){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Eu=h.moveTo=function(E,K){return le(F(W(E))+" "+F($(K))+" m"),this},Qd=h.lineTo=function(E,K){return le(F(W(E))+" "+F($(K))+" l"),this},Do=h.curveTo=function(E,K,fe,be,Ee,ze){return le([F(W(E)),F($(K)),F(W(fe)),F($(be)),F(W(Ee)),F($(ze)),"c"].join(" ")),this};h.__private__.line=h.line=function(E,K,fe,be,Ee){if(isNaN(E)||isNaN(K)||isNaN(fe)||isNaN(be)||!or(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return C===v?this.lines([[fe-E,be-K]],E,K,[1,1],Ee||"S"):this.lines([[fe-E,be-K]],E,K,[1,1]).stroke()},h.__private__.lines=h.lines=function(E,K,fe,be,Ee,ze){var et,kt,Qt,cn,fn,jn,Gr,vs,dr,Ls,us,Ks;if(typeof E=="number"&&(Ks=fe,fe=K,K=E,E=Ks),be=be||[1,1],ze=ze||!1,isNaN(K)||isNaN(fe)||!Array.isArray(E)||!Array.isArray(be)||!or(Ee)||typeof ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Eu(K,fe),et=be[0],kt=be[1],cn=E.length,Ls=K,us=fe,Qt=0;Qt<cn;Qt++)(fn=E[Qt]).length===2?(Ls=fn[0]*et+Ls,us=fn[1]*kt+us,Qd(Ls,us)):(jn=fn[0]*et+Ls,Gr=fn[1]*kt+us,vs=fn[2]*et+Ls,dr=fn[3]*kt+us,Ls=fn[4]*et+Ls,us=fn[5]*kt+us,Do(jn,Gr,vs,dr,Ls,us));return ze&&Iu(),wc(Ee),this},h.path=function(E){for(var K=0;K<E.length;K++){var fe=E[K],be=fe.c;switch(fe.op){case"m":Eu(be[0],be[1]);break;case"l":Qd(be[0],be[1]);break;case"c":Do.apply(this,be);break;case"h":Iu()}}return this},h.__private__.rect=h.rect=function(E,K,fe,be,Ee){if(isNaN(E)||isNaN(K)||isNaN(fe)||isNaN(be)||!or(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return C===v&&(be=-be),le([F(W(E)),F($(K)),F(W(fe)),F(W(be)),"re"].join(" ")),wc(Ee),this},h.__private__.triangle=h.triangle=function(E,K,fe,be,Ee,ze,et){if(isNaN(E)||isNaN(K)||isNaN(fe)||isNaN(be)||isNaN(Ee)||isNaN(ze)||!or(et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fe-E,be-K],[Ee-fe,ze-be],[E-Ee,K-ze]],E,K,[1,1],et,!0),this},h.__private__.roundedRect=h.roundedRect=function(E,K,fe,be,Ee,ze,et){if(isNaN(E)||isNaN(K)||isNaN(fe)||isNaN(be)||isNaN(Ee)||isNaN(ze)||!or(et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kt=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*fe),ze=Math.min(ze,.5*be),this.lines([[fe-2*Ee,0],[Ee*kt,0,Ee,ze-ze*kt,Ee,ze],[0,be-2*ze],[0,ze*kt,-Ee*kt,ze,-Ee,ze],[2*Ee-fe,0],[-Ee*kt,0,-Ee,-ze*kt,-Ee,-ze],[0,2*ze-be],[0,-ze*kt,Ee*kt,-ze,Ee,-ze]],E+Ee,K,[1,1],et,!0),this},h.__private__.ellipse=h.ellipse=function(E,K,fe,be,Ee){if(isNaN(E)||isNaN(K)||isNaN(fe)||isNaN(be)||!or(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ze=4/3*(Math.SQRT2-1)*fe,et=4/3*(Math.SQRT2-1)*be;return Eu(E+fe,K),Do(E+fe,K-et,E+ze,K-be,E,K-be),Do(E-ze,K-be,E-fe,K-et,E-fe,K),Do(E-fe,K+et,E-ze,K+be,E,K+be),Do(E+ze,K+be,E+fe,K+et,E+fe,K),wc(Ee),this},h.__private__.circle=h.circle=function(E,K,fe,be){if(isNaN(E)||isNaN(K)||isNaN(fe)||!or(be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,K,fe,fe,be)},h.setFont=function(E,K,fe){return fe&&(K=T(K,fe)),gt=Nu(E,K,{disableWarning:!1}),this};var jd=h.__private__.getFont=h.getFont=function(){return Wt[Nu.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var E,K,fe={};for(E in Jt)if(Jt.hasOwnProperty(E))for(K in fe[E]=[],Jt[E])Jt[E].hasOwnProperty(K)&&fe[E].push(K);return fe},h.addFont=function(E,K,fe,be,Ee){var ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ze.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&ze.indexOf(arguments[3])==-1&&(fe=T(fe,be)),sg.call(this,E,K,fe,Ee=Ee||"Identity-H")};var ku,RA=t.lineWidth||.200025,z1=h.__private__.getLineWidth=h.getLineWidth=function(){return RA},lt=h.__private__.setLineWidth=h.setLineWidth=function(E){return RA=E,le(F(W(E))+" w"),this};h.__private__.setLineDash=Zt.API.setLineDash=Zt.API.setLineDashPattern=function(E,K){if(E=E||[],K=K||0,isNaN(K)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(fe){return F(W(fe))}).join(" "),K=F(W(K)),le("["+E+"] "+K+" d"),this};var ha=h.__private__.getLineHeight=h.getLineHeight=function(){return Re*ku};h.__private__.getLineHeight=h.getLineHeight=function(){return Re*ku};var Ar=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(ku=E),this},og=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return ku};Ar(t.lineHeight);var Ha=h.__private__.getHorizontalCoordinate=function(E){return W(E)},za=h.__private__.getVerticalCoordinate=function(E){return C===b?E:Et[G].mediaBox.topRightY-Et[G].mediaBox.bottomLeftY-W(E)},qf=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(E){return F(Ha(E))},vc=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(E){return F(za(E))},Tu=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ui(Tu)},h.__private__.setStrokeColor=h.setDrawColor=function(E,K,fe,be){return Tu=rr({ch1:E,ch2:K,ch3:fe,ch4:be,pdfColorType:"draw",precision:2}),le(Tu),this};var xc=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ui(xc)},h.__private__.setFillColor=h.setFillColor=function(E,K,fe,be){return xc=rr({ch1:E,ch2:K,ch3:fe,ch4:be,pdfColorType:"fill",precision:2}),le(xc),this};var Wr=t.textColor||"0 g",bc=h.__private__.getTextColor=h.getTextColor=function(){return Ui(Wr)};h.__private__.setTextColor=h.setTextColor=function(E,K,fe,be){return Wr=rr({ch1:E,ch2:K,ch3:fe,ch4:be,pdfColorType:"text",precision:3}),this};var Nl=t.charSpace,ag=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Nl||0)};h.__private__.setCharSpace=h.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Nl=E,this};var Xf=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(E){var K=h.CapJoinStyles[E];if(K===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xf=K,le(K+" J"),this};var Hd=0;h.__private__.setLineJoin=h.setLineJoin=function(E){var K=h.CapJoinStyles[E];if(K===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hd=K,le(K+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(F(W(E))+" M"),this},h.GState=B_,h.setGState=function(E){(E=typeof E=="string"?Yt[rn[E]]:zd(null,E)).equals(nr)||(le("/"+E.id+" gs"),nr=E)};var zd=function(E,K){if(!E||!rn[E]){var fe=!1;for(var be in Yt)if(Yt.hasOwnProperty(be)&&Yt[be].equals(K)){fe=!0;break}if(fe)K=Yt[be];else{var Ee="GS"+(Object.keys(Yt).length+1).toString(10);Yt[Ee]=K,K.id=Ee}return E&&(rn[E]=K.id),sn.publish("addGState",K),K}};h.addGState=function(E,K){return zd(E,K),this},h.saveGraphicsState=function(){return le("q"),Tn.push({key:gt,size:Re,color:Wr}),this},h.restoreGraphicsState=function(){le("Q");var E=Tn.pop();return gt=E.key,Re=E.size,Wr=E.color,nr=null,this},h.setCurrentTransformationMatrix=function(E){return le(E.toString()+" cm"),this},h.comment=function(E){return le("#"+E),this};var Cc=function(E,K){var fe=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function(ze){isNaN(ze)||(fe=parseFloat(ze))}});var be=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return be},set:function(ze){isNaN(ze)||(be=parseFloat(ze))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function(ze){Ee=ze.toString()}}),this},Vd=function(E,K,fe,be){Cc.call(this,E,K),this.type="rect";var Ee=fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(et){isNaN(et)||(Ee=parseFloat(et))}});var ze=be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ze},set:function(et){isNaN(et)||(ze=parseFloat(et))}}),this},bn=function(){this.page=ln,this.currentPage=G,this.pages=ke.slice(0),this.pagesContext=Et.slice(0),this.x=xt,this.y=kn,this.matrix=dn,this.width=Sc(G),this.height=lg(G),this.outputDestination=Ge,this.id="",this.objectNumber=-1};bn.prototype.restore=function(){ln=this.page,G=this.currentPage,Et=this.pagesContext,ke=this.pages,xt=this.x,kn=this.y,dn=this.matrix,Zf(G,this.width),Va(G,this.height),Ge=this.outputDestination};var Yf=function(E,K,fe,be,Ee){qn.push(new bn),ln=G=0,ke=[],xt=E,kn=K,dn=Ee,zf([fe,be])};for(var ai in h.beginFormObject=function(E,K,fe,be,Ee){return Yf(E,K,fe,be,Ee),this},h.endFormObject=function(E){return function(K){if(vn[K])qn.pop().restore();else{var fe=new bn,be="Xo"+(Object.keys(tn).length+1).toString(10);fe.id=be,vn[K]=be,tn[be]=fe,sn.publish("addFormObject",fe),qn.pop().restore()}}(E),this},h.doFormObject=function(E,K){var fe=tn[vn[E]];return le("q"),le(K.toString()+" cm"),le("/"+fe.id+" Do"),le("Q"),this},h.getFormObject=function(E){var K=tn[vn[E]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},h.save=function(E,K){return E=E||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(gp(un(da()),E),typeof gp.unload=="function"&&An.setTimeout&&setTimeout(gp.unload,911),this):new Promise(function(fe,be){try{var Ee=gp(un(da()),E);typeof gp.unload=="function"&&An.setTimeout&&setTimeout(gp.unload,911),fe(Ee)}catch(ze){be(ze.message)}})},Zt.API)Zt.API.hasOwnProperty(ai)&&(ai==="events"&&Zt.API.events.length?function(E,K){var fe,be,Ee;for(Ee=K.length-1;Ee!==-1;Ee--)fe=K[Ee][0],be=K[Ee][1],E.subscribe.apply(E,[fe].concat(typeof be=="function"?[be]:be))}(sn,Zt.API.events):h[ai]=Zt.API[ai]);function Sc(E){return Et[E].mediaBox.topRightX-Et[E].mediaBox.bottomLeftX}function Zf(E,K){Et[E].mediaBox.topRightX=K+Et[E].mediaBox.bottomLeftX}function lg(E){return Et[E].mediaBox.topRightY-Et[E].mediaBox.bottomLeftY}function Va(E,K){Et[E].mediaBox.topRightY=K+Et[E].mediaBox.bottomLeftY}var Bc=h.getPageWidth=function(E){return Sc(E=E||G)/Vt},Jf=h.setPageWidth=function(E,K){Zf(E,K*Vt)},PA=h.getPageHeight=function(E){return lg(E=E||G)/Vt},cg=h.setPageHeight=function(E,K){Va(E,K*Vt)};return h.internal={pdfEscape:Aa,getStyle:Bl,getFont:jd,getFontSize:Ze,getCharSpace:ag,getTextColor:bc,getLineHeight:ha,getLineHeightFactor:og,getLineWidth:z1,write:Xe,getHorizontalCoordinate:Ha,getVerticalCoordinate:za,getCoordinateString:qf,getVerticalCoordinateString:vc,collections:{},newObject:Fn,newAdditionalObject:ua,newObjectDeferred:ht,newObjectDeferredBegin:Er,getFilters:Vr,putStream:oi,events:sn,scaleFactor:Vt,pageSize:{getWidth:function(){return Bc(G)},setWidth:function(E){Jf(G,E)},getHeight:function(){return PA(G)},setHeight:function(E){cg(G,E)}},encryptionOptions:u,encryption:ts,getEncryptor:function(E){return u!==null?ts.encryptor(E,0):function(K){return K}},output:$r,getNumberOfPages:Wf,get pages(){return ke},out:le,f2:O,f3:U,getPageInfo:ws,getPageInfoByObjId:ig,getCurrentPageInfo:Md,getPDFVersion:m,Point:Cc,Rectangle:Vd,Matrix:yt,hasHotfix:io},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Bc(G)},set:function(E){Jf(G,E)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return PA(G)},set:function(E){cg(G,E)},enumerable:!0,configurable:!0}),(function(E){for(var K=0,fe=Ue.length;K<fe;K++){var be=sg.call(this,E[K][0],E[K][1],E[K][2],Ue[K][3],!0);A===!1&&(d[be]=!0);var Ee=E[K][0].split("-");rg({id:be,fontName:Ee[0],fontStyle:Ee[1]||""})}sn.publish("addFonts",{fonts:Wt,dictionary:Jt})}).call(h,Ue),gt="F1",$d(s,n),sn.publish("initialized"),h}Og.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Og.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Og.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Og.prototype.processOwnerPassword=function(t,e){return D3(L3(e).substr(0,5),t)},Og.prototype.encryptor=function(t,e){var n=L3(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return D3(n,r)}},B_.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||xr(t)!==xr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Zt.API={events:[]},Zt.version="4.0.0";var _s=Zt.API,sP=1,Mm=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tg=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pn=function(t){return t.toFixed(2)},lh=function(t){return t.toFixed(5)};_s.__acroform__={};var Ua=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},oH=function(t){return t*sP},Qu=function(t){var e=new mJ,n=Ut.internal.getHeight(t)||0,r=Ut.internal.getWidth(t)||0;return e.BBox=[0,0,Number(pn(r)),Number(pn(n))],e},ake=_s.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},lke=_s.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},cke=_s.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},js=_s.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return cke(t,e-1)},Hs=_s.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ake(t,e-1)},zs=_s.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return lke(t,e-1)},uke=_s.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=t[0],i=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(s)||0,l.lowerLeft_Y=r(i+a)||0,l.upperRight_X=n(s+o)||0,l.upperRight_Y=r(i)||0,[Number(pn(l.lowerLeft_X)),Number(pn(l.lowerLeft_Y)),Number(pn(l.upperRight_X)),Number(pn(l.upperRight_Y))]},Ake=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=R3(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+pn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Qu(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},R3=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(O){return O.split(`
`)}):s.map(function(O){return[O]});var i=n,o=Ut.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ut.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(O,U,W){if(O+1<s.length){var $=U+" "+s[O+1][0];return gS($,t,W).width<=a-4}return!1};i++;e:for(;i>0;){e="",i--;var c,u,A=gS("3",t,i).height,d=t.multiline?o-i:(o-A)/2,h=d+=2,p=0,m=0,y=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+gS(e,t,i=12).width+", FieldWidth:"+a+`
`;break}for(var g="",v=0,b=0;b<s.length;b++)if(s.hasOwnProperty(b)){var C=!1;if(s[b].length!==1&&y!==s[b].length-1){if((A+2)*(v+2)+2>o)continue e;g+=s[b][y],C=!0,m=b,b--}else{g=(g+=s[b][y]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var _=parseInt(b),I=l(_,g,i),T=b>=s.length-1;if(I&&!T){g+=" ",y=0;continue}if(I||T){if(T)m=_;else if(t.multiline&&(A+2)*(v+2)+2>o)continue e}else{if(!t.multiline||(A+2)*(v+2)+2>o)continue e;m=_}}for(var F="",D=p;D<=m;D++){var j=s[D];if(t.multiline){if(D===m){F+=j[y]+" ",y=(y+1)%j.length;continue}if(D===p){F+=j[j.length-1]+" ";continue}}F+=j[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,u=gS(F,t,i).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=pn(c)+" "+pn(h)+` Td
`,e+="("+Mm(F)+`) Tj
`,e+=-pn(c)+` 0 Td
`,h=-(i+2),u=0,p=C?m:m+1,v++,g=""}break}return r.text=e,r.fontSize=i,r},gS=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},dke={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hke=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},fke=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(xu.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(dke)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");sP=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new gJ,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&hke(i,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,s){var i=!r;for(var o in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=uke(a.Rect,s)),s.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ut.createDefaultAppearanceStream(a),xr(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=Ake(a);l.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var A="";for(var d in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(d)){var h=a.appearanceStreamContent[d];if(A+="/"+d+" ",A+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var p=h[o];typeof p=="function"&&(p=p.call(s,a)),A+="/"+o+" "+p+" ",s.internal.acroformPlugin.xForms.indexOf(p)>=0||s.internal.acroformPlugin.xForms.push(p)}}else typeof(p=h)=="function"&&(p=p.call(s,a)),A+="/"+o+" "+p,s.internal.acroformPlugin.xForms.indexOf(p)>=0||s.internal.acroformPlugin.xForms.push(p);A+=">>"}l.push({key:"AP",value:`<<
`+A+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:a.objId}),s.internal.out("endobj")}i&&function(m,y){for(var g in m)if(m.hasOwnProperty(g)){var v=g,b=m[g];y.internal.newObjectDeferredBegin(b.objId,!0),xr(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete m[v]}}(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},pJ=_s.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),xr(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),s+="("+Mm(r(t[i].toString()))+")"):s+=t[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},R5=function(t,e,n){var r=function(s){return s};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Mm(r(t))+")"},tA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};tA.prototype.toString=function(){return this.objId+" 0 R"},tA.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},tA.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],s=this[r];s&&(Array.isArray(s)?t.push({key:r,value:pJ(s,this.objId,this.scope)}):s instanceof tA?(s.scope=this.scope,t.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:r,value:s}))}return t};var mJ=function(){tA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ua(mJ,tA);var gJ=function(){tA.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Mm(n(t))+")"}},set:function(n){t=n}})};Ua(gJ,tA);var xu=function t(){tA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!js(e,3)},set:function(g){g?this.F=Hs(e,3):this.F=zs(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');n=g}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(g){r=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(g){r[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(g){r[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(g){r[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(g){r[3]=g}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof __)return;i="FieldObject"+t.FieldNum++}var g=function(v){return v};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+Mm(g(i))+")"},set:function(g){i=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(g){i=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(g){a=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/sP:c},set:function(g){c=g}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof __||this instanceof Zp))return R5(A,this.objId,this.scope)},set:function(g){g=g.toString(),A=g}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Ni==0?R5(d,this.objId,this.scope):d},set:function(g){g=g.toString(),d=this instanceof Ni==0?g.substr(0,1)==="("?Tg(g.substr(1,g.length-2)):Tg(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ni==1?Tg(d.substr(1,d.length-1)):d},set:function(g){g=g.toString(),d=this instanceof Ni==1?"/"+g:g}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ni==0?R5(h,this.objId,this.scope):h},set:function(g){g=g.toString(),h=this instanceof Ni==0?g.substr(0,1)==="("?Tg(g.substr(1,g.length-2)):Tg(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ni==1?Tg(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof Ni==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(g){p=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,1)},set:function(g){g?this.Ff=Hs(this.Ff,1):this.Ff=zs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,2)},set:function(g){g?this.Ff=Hs(this.Ff,2):this.Ff=zs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,3)},set:function(g){g?this.Ff=Hs(this.Ff,3):this.Ff=zs(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');y=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(y){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};Ua(xu,tA);var v0=function(){xu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return pJ(e,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(i,o,a){a||(a=1);for(var l,c=[];l=o.exec(i);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,18)},set:function(n){n?this.Ff=Hs(this.Ff,18):this.Ff=zs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Hs(this.Ff,19):this.Ff=zs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,20)},set:function(n){n?(this.Ff=Hs(this.Ff,20),e.sort()):this.Ff=zs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,22)},set:function(n){n?this.Ff=Hs(this.Ff,22):this.Ff=zs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,23)},set:function(n){n?this.Ff=Hs(this.Ff,23):this.Ff=zs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,27)},set:function(n){n?this.Ff=Hs(this.Ff,27):this.Ff=zs(this.Ff,27)}}),this.hasAppearanceStream=!1};Ua(v0,xu);var x0=function(){v0.call(this),this.fontName="helvetica",this.combo=!1};Ua(x0,v0);var b0=function(){x0.call(this),this.combo=!0};Ua(b0,x0);var AB=function(){b0.call(this),this.edit=!0};Ua(AB,b0);var Ni=function(){xu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,15)},set:function(n){n?this.Ff=Hs(this.Ff,15):this.Ff=zs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,16)},set:function(n){n?this.Ff=Hs(this.Ff,16):this.Ff=zs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,17)},set:function(n){n?this.Ff=Hs(this.Ff,17):this.Ff=zs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,26)},set:function(n){n?this.Ff=Hs(this.Ff,26):this.Ff=zs(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+Mm(n(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){xr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ua(Ni,xu);var dB=function(){Ni.call(this),this.pushButton=!0};Ua(dB,Ni);var C0=function(){Ni.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ua(C0,Ni);var __=function(){var t,e;xu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(a){return a};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),r)o.push("/"+i+" ("+Mm(s(r[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){xr(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ua(__,xu),C0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},C0.prototype.createOption=function(t){var e=new __;return e.Parent=this,e.optionName=t,this.Kids.push(e),pke.call(this.scope,e),e};var hB=function(){Ni.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ut.CheckBox.createAppearanceStream()};Ua(hB,Ni);var Zp=function(){xu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,13)},set:function(e){e?this.Ff=Hs(this.Ff,13):this.Ff=zs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,21)},set:function(e){e?this.Ff=Hs(this.Ff,21):this.Ff=zs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,23)},set:function(e){e?this.Ff=Hs(this.Ff,23):this.Ff=zs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,24)},set:function(e){e?this.Ff=Hs(this.Ff,24):this.Ff=zs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,25)},set:function(e){e?this.Ff=Hs(this.Ff,25):this.Ff=zs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,26)},set:function(e){e?this.Ff=Hs(this.Ff,26):this.Ff=zs(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ua(Zp,xu);var fB=function(){Zp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!js(this.Ff,14)},set:function(t){t?this.Ff=Hs(this.Ff,14):this.Ff=zs(this.Ff,14)}}),this.password=!0};Ua(fB,Zp);var Ut={CheckBox:{createAppearanceStream:function(){return{N:{On:Ut.CheckBox.YesNormal},D:{On:Ut.CheckBox.YesPushDown,Off:Ut.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Qu(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=R3(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+pn(Ut.internal.getWidth(t))+" "+pn(Ut.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+pn(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Qu(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=[],i=Ut.internal.getHeight(t),o=Ut.internal.getWidth(t),a=R3(t,t.caption);return s.push("1 g"),s.push("0 0 "+pn(o)+" "+pn(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+pn(o-1)+" "+pn(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+pn(a.fontSize)+" Tf "+r),s.push(a.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Qu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+pn(Ut.internal.getWidth(t))+" "+pn(Ut.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ut.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ut.RadioButton.Circle.YesNormal,e.D[t]=Ut.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Qu(t);e.scope=t.scope;var n=[],r=Ut.internal.getWidth(t)<=Ut.internal.getHeight(t)?Ut.internal.getWidth(t)/4:Ut.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Ut.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+lh(Ut.internal.getWidth(t)/2)+" "+lh(Ut.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Qu(t);e.scope=t.scope;var n=[],r=Ut.internal.getWidth(t)<=Ut.internal.getHeight(t)?Ut.internal.getWidth(t)/4:Ut.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*Ut.internal.Bezier_C).toFixed(5)),o=Number((r*Ut.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+lh(Ut.internal.getWidth(t)/2)+" "+lh(Ut.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+lh(Ut.internal.getWidth(t)/2)+" "+lh(Ut.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Qu(t);e.scope=t.scope;var n=[],r=Ut.internal.getWidth(t)<=Ut.internal.getHeight(t)?Ut.internal.getWidth(t)/4:Ut.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*Ut.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+lh(Ut.internal.getWidth(t)/2)+" "+lh(Ut.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ut.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ut.RadioButton.Cross.YesNormal,e.D[t]=Ut.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Qu(t);e.scope=t.scope;var n=[],r=Ut.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+pn(Ut.internal.getWidth(t)-2)+" "+pn(Ut.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(pn(r.x1.x)+" "+pn(r.x1.y)+" m"),n.push(pn(r.x2.x)+" "+pn(r.x2.y)+" l"),n.push(pn(r.x4.x)+" "+pn(r.x4.y)+" m"),n.push(pn(r.x3.x)+" "+pn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Qu(t);e.scope=t.scope;var n=Ut.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+pn(Ut.internal.getWidth(t))+" "+pn(Ut.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+pn(Ut.internal.getWidth(t)-2)+" "+pn(Ut.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(pn(n.x1.x)+" "+pn(n.x1.y)+" m"),r.push(pn(n.x2.x)+" "+pn(n.x2.y)+" l"),r.push(pn(n.x4.x)+" "+pn(n.x4.y)+" m"),r.push(pn(n.x3.x)+" "+pn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Qu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+pn(Ut.internal.getWidth(t))+" "+pn(Ut.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ut.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ut.internal.getWidth(t),n=Ut.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ut.internal.getWidth=function(t){var e=0;return xr(t)==="object"&&(e=oH(t.Rect[2])),e},Ut.internal.getHeight=function(t){var e=0;return xr(t)==="object"&&(e=oH(t.Rect[3])),e};var pke=_s.addField=function(t){if(fke(this,t),!(t instanceof xu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};_s.AcroFormChoiceField=v0,_s.AcroFormListBox=x0,_s.AcroFormComboBox=b0,_s.AcroFormEditBox=AB,_s.AcroFormButton=Ni,_s.AcroFormPushButton=dB,_s.AcroFormRadioButton=C0,_s.AcroFormCheckBox=hB,_s.AcroFormTextField=Zp,_s.AcroFormPasswordField=fB,_s.AcroFormAppearance=Ut,_s.AcroForm={ChoiceField:v0,ListBox:x0,ComboBox:b0,EditBox:AB,Button:Ni,PushButton:dB,RadioButton:C0,CheckBox:hB,TextField:Zp,PasswordField:fB,Appearance:Ut},Zt.AcroForm={ChoiceField:v0,ListBox:x0,ComboBox:b0,EditBox:AB,Button:Ni,PushButton:dB,RadioButton:C0,CheckBox:hB,TextField:Zp,PasswordField:fB,Appearance:Ut};function yJ(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(O,U){var W,$,J,Z,oe,V=n;if((U=U||n)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(I(O))for(oe in r)for(J=r[oe],W=0;W<J.length;W+=1){for(Z=!0,$=0;$<J[W].length;$+=1)if(J[W][$]!==void 0&&J[W][$]!==O[$]){Z=!1;break}if(Z===!0){V=oe;break}}else for(oe in r)for(J=r[oe],W=0;W<J.length;W+=1){for(Z=!0,$=0;$<J[W].length;$+=1)if(J[W][$]!==void 0&&J[W][$]!==O.charCodeAt($)){Z=!1;break}if(Z===!0){V=oe;break}}return V===n&&U!==n&&(V=U),V},i=function O(U){for(var W=this.internal.write,$=this.internal.putStream,J=(0,this.internal.getFilters)();J.indexOf("FlateEncode")!==-1;)J.splice(J.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:U.width}),Z.push({key:"Height",value:U.height}),U.colorSpace===g.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===g.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)&&U.transparency.length>0){for(var oe="",V=0,Y=U.transparency.length;V<Y;V++)oe+=U.transparency[V]+" "+U.transparency[V]+" ";Z.push({key:"Mask",value:"["+oe+"]"})}U.sMask!==void 0&&Z.push({key:"SMask",value:U.objectId+1+" 0 R"});var ce=U.filter!==void 0?["/"+U.filter]:void 0;if($({data:U.data,additionalKeyValues:Z,alreadyAppliedFilters:ce,objectId:U.objectId}),W("endobj"),"sMask"in U&&U.sMask!==void 0){var he,z=(he=U.sMaskBitsPerComponent)!==null&&he!==void 0?he:U.bitsPerComponent,G={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:z,data:U.sMask};"filter"in U&&(G.decodeParameters="/Predictor ".concat(U.predictor," /Colors 1 /BitsPerComponent ").concat(z," /Columns ").concat(U.width),G.filter=U.filter),O.call(this,G)}if(U.colorSpace===g.INDEXED){var X=this.internal.newObject();$({data:F(new Uint8Array(U.palette)),objectId:X}),W("endobj")}},o=function(){var O=this.internal.collections[e+"images"];for(var U in O)i.call(this,O[U])},a=function(){var O,U=this.internal.collections[e+"images"],W=this.internal.write;for(var $ in U)W("/I"+(O=U[$]).index,O.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var O=this.internal.collections[e+"images"];return l.call(this),O},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},A=function(O){return typeof t["process"+O.toUpperCase()]=="function"},d=function(O){return xr(O)==="object"&&O.nodeType===1},h=function(O,U){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var W=""+O.getAttribute("src");if(W.indexOf("data:image/")===0)return uB(unescape(W).split("base64,").pop());var $=t.loadFile(W,!0);if($!==void 0)return $}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var J;switch(U){case"PNG":J="image/png";break;case"WEBP":J="image/webp";break;default:J="image/jpeg"}return uB(O.toDataURL(J,1).split("base64,").pop())}},p=function(O){var U=this.internal.collections[e+"images"];if(U){for(var W in U)if(O===U[W].alias)return U[W]}},m=function(O,U,W){return O||U||(O=-96,U=-96),O<0&&(O=-1*W.width*72/O/this.internal.scaleFactor),U<0&&(U=-1*W.height*72/U/this.internal.scaleFactor),O===0&&(O=U*W.width/W.height),U===0&&(U=O*W.height/W.width),[O,U]},y=function(O,U,W,$,J,Z){var oe=m.call(this,W,$,J),V=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,ce=c.call(this);if(W=oe[0],$=oe[1],ce[J.index]=J,Z){Z*=Math.PI/180;var he=Math.cos(Z),z=Math.sin(Z),G=function(re){return re.toFixed(4)},X=[G(he),G(z),G(-1*z),G(he),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,V(O),Y(U+$),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([V(W),"0","0",V($),"0","0","cm"].join(" "))):this.internal.write([V(W),"0","0",V($),V(O),Y(U+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+J.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(O){var U,W,$=0;if(typeof O=="string")for(W=O.length,U=0;U<W;U++)$=($<<5)-$+O.charCodeAt(U),$|=0;else if(I(O))for(W=O.byteLength/2,U=0;U<W;U++)$=($<<5)-$+O[U],$|=0;return $},C=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var U=!0;return O.length===0&&(U=!1),O.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(U=!1),U},_=t.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var U=O.indexOf(",");return U<0?null:O.substring(0,U).trim().endsWith("base64")?O.substring(U+1):null};t.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var I=t.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},T=t.__addimage__.binaryStringToUint8Array=function(O){for(var U=O.length,W=new Uint8Array(U),$=0;$<U;$++)W[$]=O.charCodeAt($);return W},F=t.__addimage__.arrayBufferToBinaryString=function(O){for(var U="",W=I(O)?O:new Uint8Array(O),$=0;$<W.length;$+=8192)U+=String.fromCharCode.apply(null,W.subarray($,$+8192));return U};t.addImage=function(){var O,U,W,$,J,Z,oe,V,Y;if(typeof arguments[1]=="number"?(U=n,W=arguments[1],$=arguments[2],J=arguments[3],Z=arguments[4],oe=arguments[5],V=arguments[6],Y=arguments[7]):(U=arguments[1],W=arguments[2],$=arguments[3],J=arguments[4],Z=arguments[5],oe=arguments[6],V=arguments[7],Y=arguments[8]),xr(O=arguments[0])==="object"&&!d(O)&&"imageData"in O){var ce=O;O=ce.imageData,U=ce.format||U||n,W=ce.x||W||0,$=ce.y||$||0,J=ce.w||ce.width||J,Z=ce.h||ce.height||Z,oe=ce.alias||oe,V=ce.compression||V,Y=ce.rotation||ce.angle||Y}var he=this.internal.getFilters();if(V===void 0&&he.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(W)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var z=D.call(this,O,U,oe,V);return y.call(this,W,$,J,Z,z,Y),this};var D=function(O,U,W,$){var J,Z,oe;if(typeof O=="string"&&s(O)===n){O=unescape(O);var V=j(O,!1);(V!==""||(V=t.loadFile(O,!0))!==void 0)&&(O=V)}if(d(O)&&(O=h(O,U)),U=s(O,U),!A(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((oe=W)==null||oe.length===0)&&(W=function(Y){return typeof Y=="string"||I(Y)?b(Y):I(Y.data)?b(Y.data):null}(O)),(J=p.call(this,W))||(O instanceof Uint8Array||U==="RGBA"||(Z=O,O=T(O)),J=this["process"+U.toUpperCase()](O,u.call(this),W,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in t.image_compression?Y:v.NONE}($),Z)),!J)throw new Error("An unknown error occurred whilst processing the image.");return J},j=t.__addimage__.convertBase64ToBinaryString=function(O,U){U=typeof U!="boolean"||U;var W,$="";if(typeof O=="string"){var J;W=(J=_(O))!==null&&J!==void 0?J:O;try{$=uB(W)}catch(Z){if(U)throw C(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};t.getImageProperties=function(O){var U,W,$="";if(d(O)&&(O=h(O)),typeof O=="string"&&s(O)===n&&(($=j(O,!1))===""&&($=t.loadFile(O)||""),O=$),W=s(O),!A(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(O instanceof Uint8Array||(O=T(O)),!(U=this["process"+W.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=W,U}})(Zt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Zt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,s,i,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,A=0;A<c.length&&!u;A++)switch((r=c[A]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var d=0;d<c.length;d++){r=c[d];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),v=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+h(g(r.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+h(g(v))+") >>",m.content=i;var b=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+b,r.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(m.objId,"0 R",y.objId,"0 R");break;case"freetext":s="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var C=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+h(p(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var _=this.annotations._nameMap[r.options.name];r.options.pageNumber=_.page,r.options.top=_.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var I=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+I+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,s,i,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+s),h:c(r+i)},options:o,type:"link"})},t.textWithLink=function(n,r,s,i){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){a=i.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(n,r,s,i),s+=.2*c,i.align==="center"&&(r-=l/2),i.align==="right"&&(r-=l),this.link(r,s-c,a,o,i),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Zt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},a=t.__arabicParser__.isArabicEndLetter=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return o(m)&&s.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length==4},A=t.__arabicParser__.resolveLigatures=function(m){var y=0,g=n,v="",b=0;for(y=0;y<m.length;y+=1)g[m.charCodeAt(y)]!==void 0?(b++,typeof(g=g[m.charCodeAt(y)])=="number"&&(v+=String.fromCharCode(g),g=n,b=0),y===m.length-1&&(g=n,v+=m.charAt(y-(b-1)),y-=b-1,b=0)):(g=n,v+=m.charAt(y-b),y-=b,b=0);return v};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&r[m.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(m,y,g){return o(m)?i(m)===!1?-1:!c(m)||!o(y)&&!o(g)||!o(g)&&a(y)||a(m)&&!o(y)||a(m)&&l(y)||a(m)&&a(y)?0:u(m)&&o(y)&&!a(y)&&o(g)&&c(g)?3:a(m)||!o(g)?1:2:-1},h=function(m){var y=0,g=0,v=0,b="",C="",_="",I=(m=m||"").split("\\s+"),T=[];for(y=0;y<I.length;y+=1){for(T.push(""),g=0;g<I[y].length;g+=1)b=I[y][g],C=I[y][g-1],_=I[y][g+1],o(b)?(v=d(b,C,_),T[y]+=v!==-1?String.fromCharCode(e[b.charCodeAt(0)][v]):b):T[y]+=b;T[y]=A(T[y])}return T.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var m,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(y)){var v=0;for(g=[],v=0;v<y.length;v+=1)Array.isArray(y[v])?g.push([h(y[v][0]),y[v][1],y[v][2]]):g.push([h(y[v])]);m=g}else m=h(y);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",p])}(Zt.API),Zt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(a){s=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(a){i=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Zt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(m){A=m}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(m){p=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),A=c.font||this.getFont(),d=c.scaleFactor||this.internal.scaleFactor,h=0,p=0,m=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=c.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,C){return b.concat(y.splitTextToSize(C,g))},[])):l=Array.isArray(l)?l:[l];for(var v=0;v<l.length;v++)h<(m=this.getStringUnitWidth(l[v],{font:A})*u)&&(h=m);return h!==0&&(p=l.length),{w:h/=d,h:Math.max((p*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,A=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=A.top,h&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,A,d){if(r.call(this),!u)throw new Error("No data for PDF table.");var h,p,m,y,g=[],v=[],b=[],C={},_={},I=[],T=[],F=(d=d||{}).autoSize||!1,D=d.printHeaders!==!1,j=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,O=d.margins||Object.assign({width:this.getPageWidth()},e),U=typeof d.padding=="number"?d.padding:3,W=d.headerBackgroundColor||"#c8c8c8",$=d.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=$,this.setFontSize(j),A==null)v=g=Object.keys(u[0]),b=g.map(function(){return"left"});else if(Array.isArray(A)&&xr(A[0])==="object")for(g=A.map(function(ce){return ce.name}),v=A.map(function(ce){return ce.prompt||ce.name||""}),b=A.map(function(ce){return ce.align||"left"}),h=0;h<A.length;h+=1)_[A[h].name]=.7499990551181103*A[h].width;else Array.isArray(A)&&typeof A[0]=="string"&&(v=g=A,b=g.map(function(){return"left"}));if(F||Array.isArray(A)&&typeof A[0]=="string")for(h=0;h<g.length;h+=1){for(C[y=g[h]]=u.map(function(ce){return ce[y]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(v[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=C[y],this.setFont(void 0,"normal"),m=0;m<p.length;m+=1)I.push(this.getTextDimensions(p[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[y]=Math.max.apply(null,I)+U+U,I=[]}if(D){var J={};for(h=0;h<g.length;h+=1)J[g[h]]={},J[g[h]].text=v[h],J[g[h]].align=b[h];var Z=a.call(this,J,_);T=g.map(function(ce){return new i(l,c,_[ce],Z,J[ce].text,void 0,J[ce].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var oe=A.reduce(function(ce,he){return ce[he.name]=he.align,ce},{});for(h=0;h<u.length;h+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:h,data:u[h]},this);var V=a.call(this,u[h],_);for(m=0;m<g.length;m+=1){var Y=u[h][g[m]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:h,col:m,data:Y},this),o.call(this,new i(l,c,_[g[m]],V,Y,h+2,oe[g[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(h){var p=l[h];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*A/d+u+u},this).reduce(function(h,p){return Math.max(h,p)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,d.push(u)),u.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(p)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),n=!1}}(Zt.API);var wJ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vJ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],P3=yJ(vJ),xJ=[100,200,300,400,500,600,700,800,900],mke=yJ(xJ);function P5(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return wJ[i=i||"normal"]?i:"normal"}(t.style),r=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(t.weight),s=function(i){return typeof P3[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,r].join(" ")}}}function aH(t,e,n,r){var s;for(s=n;s>=0&&s<e.length;s+=r)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=r)if(t[e[s]])return t[e[s]]}var gke={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},lH={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function cH(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function uH(t){return t.trimLeft()}function yke(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function wke(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var yS,AH,dH,Fg,wS,hH,fH,pH,O5=["times"];function mH(t,e,n,r,s){var i=4,o=yH;switch(s){case Zt.API.image_compression.FAST:i=1,o=gH;break;case Zt.API.image_compression.MEDIUM:i=6,o=wH;break;case Zt.API.image_compression.SLOW:i=9,o=vH}t=function(l,c,u,A){for(var d,h=l.length/c,p=new Uint8Array(l.length+h),m=[vke,gH,yH,wH,vH],y=0;y<h;y+=1){var g=y*c,v=l.subarray(g,g+c);if(A)p.set(A(v,u,d),g+y);else{for(var b=m.length,C=[],_=0;_<b;_+=1)C[_]=m[_](v,u,d);var I=bke(C.concat());p.set(C[I],g+y)}d=v}return p}(t,e,Math.ceil(n*r/8),o);var a=C3(t,{level:i});return Zt.API.__addimage__.arrayBufferToBinaryString(a)}function vke(t){var e=Array.apply([],t);return e.unshift(0),e}function gH(t,e){var n=t.length,r=[];r[0]=1;for(var s=0;s<n;s+=1){var i=t[s-e]||0;r[s+1]=t[s]-i+256&255}return r}function yH(t,e,n){var r=t.length,s=[];s[0]=2;for(var i=0;i<r;i+=1){var o=n&&n[i]||0;s[i+1]=t[i]-o+256&255}return s}function wH(t,e,n){var r=t.length,s=[];s[0]=3;for(var i=0;i<r;i+=1){var o=t[i-e]||0,a=n&&n[i]||0;s[i+1]=t[i]+256-(o+a>>>1)&255}return s}function vH(t,e,n){var r=t.length,s=[];s[0]=4;for(var i=0;i<r;i+=1){var o=xke(t[i-e]||0,n&&n[i]||0,n&&n[i-e]||0);s[i+1]=t[i]-o+256&255}return s}function xke(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),s=Math.abs(t-n),i=Math.abs(t+e-n-n);return r<=s&&r<=i?t:s<=i?e:n}function bke(t){var e=t.map(function(n){return n.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function $5(t,e,n){var r=e*n,s=Math.floor(r/8),i=16-(r-8*s+n),o=(1<<n)-1;return bJ(t,s)>>i&o}function xH(t,e,n,r){var s=n*r,i=Math.floor(s/8),o=16-(s-8*i+r),a=(1<<r)-1,l=(e&a)<<o;(function(c,u,A){if(u+1<c.byteLength)c.setUint16(u,A,!1);else{var d=A>>8&255;c.setUint8(u,d)}})(t,i,bJ(t,i)&~(a<<o)&65535|l)}function bJ(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Cke(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,o=1<<1+(7&s);t[e++],t[e++];var a=null,l=null;i&&(a=e,l=o,e+=3*o);var c=!0,u=[],A=0,d=null,h=0,p=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];A=t[e++]|t[e++]<<8,d=t[e++],1&m||(d=null),h=m>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,C=t[e++],_=C>>6&1,I=1<<1+(7&C),T=a,F=l,D=!1;C>>7&&(D=!0,T=e,F=I,e+=3*I);var j=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}u.push({x:y,y:g,width:v,height:b,has_local_palette:D,palette_offset:T,palette_size:F,data_offset:j,data_length:e-j,transparent_index:d,interlaced:!!_,delay:A,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(U){if(U<0||U>=u.length)throw new Error("Frame index out of range.");return u[U]},this.decodeAndBlitFrameBGRA=function(U,W){var $=this.frameInfo(U),J=$.width*$.height,Z=new Uint8Array(J);bH(t,$.data_offset,Z,J);var oe=$.palette_offset,V=$.transparent_index;V===null&&(V=256);var Y=$.width,ce=n-Y,he=Y,z=4*($.y*n+$.x),G=4*(($.y+$.height)*n+$.x),X=z,re=4*ce;$.interlaced===!0&&(re+=4*n*7);for(var ue=8,Ae=0,we=Z.length;Ae<we;++Ae){var Ce=Z[Ae];if(he===0&&(he=Y,(X+=re)>=G&&(re=4*ce+4*n*(ue-1),X=z+(Y+ce)*(ue<<1),ue>>=1)),Ce===V)X+=4;else{var Ne=t[oe+3*Ce],ke=t[oe+3*Ce+1],je=t[oe+3*Ce+2];W[X++]=je,W[X++]=ke,W[X++]=Ne,W[X++]=255}--he}},this.decodeAndBlitFrameRGBA=function(U,W){var $=this.frameInfo(U),J=$.width*$.height,Z=new Uint8Array(J);bH(t,$.data_offset,Z,J);var oe=$.palette_offset,V=$.transparent_index;V===null&&(V=256);var Y=$.width,ce=n-Y,he=Y,z=4*($.y*n+$.x),G=4*(($.y+$.height)*n+$.x),X=z,re=4*ce;$.interlaced===!0&&(re+=4*n*7);for(var ue=8,Ae=0,we=Z.length;Ae<we;++Ae){var Ce=Z[Ae];if(he===0&&(he=Y,(X+=re)>=G&&(re=4*ce+4*n*(ue-1),X=z+(Y+ce)*(ue<<1),ue>>=1)),Ce===V)X+=4;else{var Ne=t[oe+3*Ce],ke=t[oe+3*Ce+1],je=t[oe+3*Ce+2];W[X++]=Ne,W[X++]=ke,W[X++]=je,W[X++]=255}--he}}}function bH(t,e,n,r){for(var s=t[e++],i=1<<s,o=i+1,a=o+1,l=s+1,c=(1<<l)-1,u=0,A=0,d=0,h=t[e++],p=new Int32Array(4096),m=null;;){for(;u<16&&h!==0;)A|=t[e++]<<u,u+=8,h===1?h=t[e++]:--h;if(u<l)break;var y=A&c;if(A>>=l,u-=l,y!==i){if(y===o)break;for(var g=y<a?y:m,v=0,b=g;b>i;)b=p[b]>>8,++v;var C=b;if(d+v+(g!==y?1:0)>r)return void Lr.log("Warning, gif stream longer than expected.");n[d++]=C;var _=d+=v;for(g!==y&&(n[d++]=C),b=g;v--;)b=p[b],n[--_]=255&b,b>>=8;m!==null&&a<4096&&(p[a++]=m<<8|C,a>=c+1&&l<12&&(++l,c=c<<1|1)),m=y}else a=o+1,c=(1<<(l=s+1))-1,m=null}return d!==r&&Lr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function U5(t){var e,n,r,s,i,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),A=new Array(65535),d=new Array(65535),h=new Array(64),p=new Array(64),m=[],y=0,g=7,v=new Array(64),b=new Array(64),C=new Array(64),_=new Array(256),I=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],J=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(z,G){for(var X=0,re=0,ue=new Array,Ae=1;Ae<=16;Ae++){for(var we=1;we<=z[Ae];we++)ue[G[re]]=[],ue[G[re]][0]=X,ue[G[re]][1]=Ae,re++,X++;X*=2}return ue}function oe(z){for(var G=z[0],X=z[1]-1;X>=0;)G&1<<X&&(y|=1<<g),X--,--g<0&&(y==255?(V(255),V(0)):V(y),g=7,y=0)}function V(z){m.push(z)}function Y(z){V(z>>8&255),V(255&z)}function ce(z,G,X,re,ue){for(var Ae,we=ue[0],Ce=ue[240],Ne=function(Re,Ke){var Ze,st,Me,St,Bt,ct,Nt,Dt,gt,Vt,xt=0;for(gt=0;gt<8;++gt){Ze=Re[xt],st=Re[xt+1],Me=Re[xt+2],St=Re[xt+3],Bt=Re[xt+4],ct=Re[xt+5],Nt=Re[xt+6];var kn=Ze+(Dt=Re[xt+7]),dn=Ze-Dt,Wt=st+Nt,Jt=st-Nt,Tn=Me+ct,Rt=Me-ct,Vn=St+Bt,Yt=St-Bt,rn=kn+Vn,nr=kn-Vn,ln=Wt+Tn,Et=Wt-Tn;Re[xt]=rn+ln,Re[xt+4]=rn-ln;var sn=.707106781*(Et+nr);Re[xt+2]=nr+sn,Re[xt+6]=nr-sn;var Kt=.382683433*((rn=Yt+Rt)-(Et=Jt+dn)),tn=.5411961*rn+Kt,vn=1.306562965*Et+Kt,qn=.707106781*(ln=Rt+Jt),yt=dn+qn,Br=dn-qn;Re[xt+5]=Br+tn,Re[xt+3]=Br-tn,Re[xt+1]=yt+vn,Re[xt+7]=yt-vn,xt+=8}for(xt=0,gt=0;gt<8;++gt){Ze=Re[xt],st=Re[xt+8],Me=Re[xt+16],St=Re[xt+24],Bt=Re[xt+32],ct=Re[xt+40],Nt=Re[xt+48];var Ir=Ze+(Dt=Re[xt+56]),Zn=Ze-Dt,cr=st+Nt,Fn=st-Nt,ht=Me+ct,Er=Me-ct,ua=St+Bt,ja=St-Bt,so=Ir+ua,Ui=Ir-ua,rr=cr+ht,Vr=cr-ht;Re[xt]=so+rr,Re[xt+32]=so-rr;var oi=.707106781*(Vr+Ui);Re[xt+16]=Ui+oi,Re[xt+48]=Ui-oi;var pc=.382683433*((so=ja+Er)-(Vr=Fn+Zn)),Lo=.5411961*so+pc,Sl=1.306562965*Vr+pc,Rd=.707106781*(rr=Er+Fn),LA=Zn+Rd,Pd=Zn-Rd;Re[xt+40]=Pd+Lo,Re[xt+24]=Pd-Lo,Re[xt+8]=LA+Sl,Re[xt+56]=LA-Sl,xt++}for(gt=0;gt<64;++gt)Vt=Re[gt]*Ke[gt],h[gt]=Vt>0?Vt+.5|0:Vt-.5|0;return h}(z,G),ke=0;ke<64;++ke)p[T[ke]]=Ne[ke];var je=p[0]-X;X=p[0],je==0?oe(re[0]):(oe(re[d[Ae=32767+je]]),oe(A[Ae]));for(var Ge=63;Ge>0&&p[Ge]==0;)Ge--;if(Ge==0)return oe(we),X;for(var ot,le=1;le<=Ge;){for(var Xe=le;p[le]==0&&le<=Ge;)++le;var dt=le-Xe;if(dt>=16){ot=dt>>4;for(var Ue=1;Ue<=ot;++Ue)oe(Ce);dt&=15}Ae=32767+p[le],oe(ue[(dt<<4)+d[Ae]]),oe(A[Ae]),le++}return Ge!=63&&oe(we),X}function he(z){z=Math.min(Math.max(z,1),100),i!=z&&(function(G){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var ue=o((X[re]*G+50)/100);ue=Math.min(Math.max(ue,1),255),a[T[re]]=ue}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var Ce=o((Ae[we]*G+50)/100);Ce=Math.min(Math.max(Ce,1),255),l[T[we]]=Ce}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,je=0;je<8;je++)for(var Ge=0;Ge<8;Ge++)c[ke]=1/(a[T[ke]]*Ne[je]*Ne[Ge]*8),u[ke]=1/(l[T[ke]]*Ne[je]*Ne[Ge]*8),ke++}(z<50?Math.floor(5e3/z):Math.floor(200-2*z)),i=z)}this.encode=function(z,G){G&&he(G),m=new Array,y=0,g=7,Y(65496),Y(65504),Y(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),Y(1),Y(1),V(0),V(0),function(){Y(65499),Y(132),V(0);for(var st=0;st<64;st++)V(a[st]);V(1);for(var Me=0;Me<64;Me++)V(l[Me])}(),function(st,Me){Y(65472),Y(17),V(8),Y(Me),Y(st),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(z.width,z.height),function(){Y(65476),Y(418),V(0);for(var st=0;st<16;st++)V(F[st+1]);for(var Me=0;Me<=11;Me++)V(D[Me]);V(16);for(var St=0;St<16;St++)V(j[St+1]);for(var Bt=0;Bt<=161;Bt++)V(O[Bt]);V(1);for(var ct=0;ct<16;ct++)V(U[ct+1]);for(var Nt=0;Nt<=11;Nt++)V(W[Nt]);V(17);for(var Dt=0;Dt<16;Dt++)V($[Dt+1]);for(var gt=0;gt<=161;gt++)V(J[gt])}(),Y(65498),Y(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var X=0,re=0,ue=0;y=0,g=7,this.encode.displayName="_encode_";for(var Ae,we,Ce,Ne,ke,je,Ge,ot,le,Xe=z.data,dt=z.width,Ue=z.height,Re=4*dt,Ke=0;Ke<Ue;){for(Ae=0;Ae<Re;){for(ke=Re*Ke+Ae,Ge=-1,ot=0,le=0;le<64;le++)je=ke+(ot=le>>3)*Re+(Ge=4*(7&le)),Ke+ot>=Ue&&(je-=Re*(Ke+1+ot-Ue)),Ae+Ge>=Re&&(je-=Ae+Ge-Re+4),we=Xe[je++],Ce=Xe[je++],Ne=Xe[je++],v[le]=(I[we]+I[Ce+256|0]+I[Ne+512|0]>>16)-128,b[le]=(I[we+768|0]+I[Ce+1024|0]+I[Ne+1280|0]>>16)-128,C[le]=(I[we+1280|0]+I[Ce+1536|0]+I[Ne+1792|0]>>16)-128;X=ce(v,c,X,e,r),re=ce(b,u,re,n,s),ue=ce(C,u,ue,n,s),Ae+=32}Ke+=8}if(g>=0){var Ze=[];Ze[1]=g+1,Ze[0]=(1<<g+1)-1,oe(Ze)}return Y(65497),new Uint8Array(m)},t=t||50,function(){for(var z=String.fromCharCode,G=0;G<256;G++)_[G]=z(G)}(),e=Z(F,D),n=Z(U,W),r=Z(j,O),s=Z($,J),function(){for(var z=1,G=2,X=1;X<=15;X++){for(var re=z;re<G;re++)d[32767+re]=X,A[32767+re]=[],A[32767+re][1]=X,A[32767+re][0]=re;for(var ue=-(G-1);ue<=-z;ue++)d[32767+ue]=X,A[32767+ue]=[],A[32767+ue][1]=X,A[32767+ue][0]=G-1+ue;z<<=1,G<<=1}}(),function(){for(var z=0;z<256;z++)I[z]=19595*z,I[z+256|0]=38470*z,I[z+512|0]=7471*z+32768,I[z+768|0]=-11059*z,I[z+1024|0]=-21709*z,I[z+1280|0]=32768*z+8421375,I[z+1536|0]=-27439*z,I[z+1792|0]=-5329*z}(),he(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Mc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function CH(t){function e(D){if(!D)throw Error("assert :P")}function n(D,j,O){for(var U=0;4>U;U++)if(D[j+U]!=O.charCodeAt(U))return!0;return!1}function r(D,j,O,U,W){for(var $=0;$<W;$++)D[j+$]=O[U+$]}function s(D,j,O,U){for(var W=0;W<U;W++)D[j+W]=O}function i(D){return new Int32Array(D)}function o(D,j){for(var O=[],U=0;U<D;U++)O.push(new j);return O}function a(D,j){var O=[];return function U(W,$,J){for(var Z=J[$],oe=0;oe<Z&&(W.push(J.length>$+1?[]:new j),!(J.length<$+1));oe++)U(W[oe],$+1,J)}(O,0,D),O}var l=function(){var D=this;function j(S,N){for(var R=1<<N-1>>>0;S&R;)R>>>=1;return R?(S&R-1)+R:S}function O(S,N,R,Q,q){e(!(Q%R));do S[N+(Q-=R)]=q;while(0<Q)}function U(S,N,R,Q,q){if(e(2328>=q),512>=q)var te=i(512);else if((te=i(q))==null)return 0;return function(se,ae,de,pe,_e,Oe){var me,Ie,Fe=ae,Ve=1<<de,Pe=i(16),We=i(16);for(e(_e!=0),e(pe!=null),e(se!=null),e(0<de),Ie=0;Ie<_e;++Ie){if(15<pe[Ie])return 0;++Pe[pe[Ie]]}if(Pe[0]==_e)return 0;for(We[1]=0,me=1;15>me;++me){if(Pe[me]>1<<me)return 0;We[me+1]=We[me]+Pe[me]}for(Ie=0;Ie<_e;++Ie)me=pe[Ie],0<pe[Ie]&&(Oe[We[me]++]=Ie);if(We[15]==1)return(pe=new W).g=0,pe.value=Oe[0],O(se,Fe,1,Ve,pe),Ve;var qe,it=-1,rt=Ve-1,qt=0,Pt=1,Cn=1,Ht=1<<de;for(Ie=0,me=1,_e=2;me<=de;++me,_e<<=1){if(Pt+=Cn<<=1,0>(Cn-=Pe[me]))return 0;for(;0<Pe[me];--Pe[me])(pe=new W).g=me,pe.value=Oe[Ie++],O(se,Fe+qt,_e,Ht,pe),qt=j(qt,me)}for(me=de+1,_e=2;15>=me;++me,_e<<=1){if(Pt+=Cn<<=1,0>(Cn-=Pe[me]))return 0;for(;0<Pe[me];--Pe[me]){if(pe=new W,(qt&rt)!=it){for(Fe+=Ht,qe=1<<(it=me)-de;15>it&&!(0>=(qe-=Pe[it]));)++it,qe<<=1;Ve+=Ht=1<<(qe=it-de),se[ae+(it=qt&rt)].g=qe+de,se[ae+it].value=Fe-ae-it}pe.g=me-de,pe.value=Oe[Ie++],O(se,Fe+(qt>>de),_e,Ht,pe),qt=j(qt,me)}}return Pt!=2*We[15]-1?0:Ve}(S,N,R,Q,q,te)}function W(){this.value=this.g=0}function $(){this.value=this.g=0}function J(){this.G=o(5,W),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(El,$)}function Z(S,N,R,Q){e(S!=null),e(N!=null),e(2147483648>Q),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=N,S.pa=R,S.Jd=N,S.Yc=R+Q,S.Zc=4<=Q?R+Q-4+1:R,we(S)}function oe(S,N){for(var R=0;0<N--;)R|=Ne(S,128)<<N;return R}function V(S,N){var R=oe(S,N);return Ce(S)?-R:R}function Y(S,N,R,Q){var q,te=0;for(e(S!=null),e(N!=null),e(4294967288>Q),S.Sb=Q,S.Ra=0,S.u=0,S.h=0,4<Q&&(Q=4),q=0;q<Q;++q)te+=N[R+q]<<8*q;S.Ra=te,S.bb=Q,S.oa=N,S.pa=R}function ce(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<Wa-8>>>0,++S.bb,S.u-=8;re(S)&&(S.h=1,S.u=0)}function he(S,N){if(e(0<=N),!S.h&&N<=xs){var R=X(S)&Ro[N];return S.u+=N,ce(S),R}return S.h=1,S.u=0}function z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(S){return S.Ra>>>(S.u&Wa-1)>>>0}function re(S){return e(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>Wa}function ue(S,N){S.u=N,S.h=re(S)}function Ae(S){S.u>=Tc&&(e(S.u>=Tc),ce(S))}function we(S){e(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(e(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function Ce(S){return oe(S,1)}function Ne(S,N){var R=S.Ca;0>S.b&&we(S);var Q=S.b,q=R*N>>>8,te=(S.I>>>Q>q)+0;for(te?(R-=q,S.I-=q+1<<Q>>>0):R=q+1,Q=R,q=0;256<=Q;)q+=8,Q>>=8;return Q=7^q+kl[Q],S.b-=Q,S.Ca=(R<<Q)-1,te}function ke(S,N,R){S[N+0]=R>>24&255,S[N+1]=R>>16&255,S[N+2]=R>>8&255,S[N+3]=255&R}function je(S,N){return S[N+0]|S[N+1]<<8}function Ge(S,N){return je(S,N)|S[N+2]<<16}function ot(S,N){return je(S,N)|je(S,N+2)<<16}function le(S,N){var R=1<<N;return e(S!=null),e(0<N),S.X=i(R),S.X==null?0:(S.Mb=32-N,S.Xa=N,1)}function Xe(S,N){e(S!=null),e(N!=null),e(S.Xa==N.Xa),r(N.X,0,S.X,0,1<<N.Xa)}function dt(){this.X=[],this.Xa=this.Mb=0}function Ue(S,N,R,Q){e(R!=null),e(Q!=null);var q=R[0],te=Q[0];return q==0&&(q=(S*te+N/2)/N),te==0&&(te=(N*q+S/2)/S),0>=q||0>=te?0:(R[0]=q,Q[0]=te,1)}function Re(S,N){return S+(1<<N)-1>>>N}function Ke(S,N){return((4278255360&S)+(4278255360&N)>>>0&4278255360)+((16711935&S)+(16711935&N)>>>0&16711935)>>>0}function Ze(S,N){D[N]=function(R,Q,q,te,se,ae,de){var pe;for(pe=0;pe<se;++pe){var _e=D[S](ae[de+pe-1],q,te+pe);ae[de+pe]=Ke(R[Q+pe],_e)}}}function st(){this.ud=this.hd=this.jd=0}function Me(S,N){return((4278124286&(S^N))>>>1)+(S&N)>>>0}function St(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function Bt(S,N){return St(S+(S-N+.5>>1))}function ct(S,N,R){return Math.abs(N-R)-Math.abs(S-R)}function Nt(S,N,R,Q,q,te,se){for(Q=te[se-1],R=0;R<q;++R)te[se+R]=Q=Ke(S[N+R],Q)}function Dt(S,N,R,Q,q){var te;for(te=0;te<R;++te){var se=S[N+te],ae=se>>8&255,de=16711935&(de=(de=16711935&se)+((ae<<16)+ae));Q[q+te]=(4278255360&se)+de>>>0}}function gt(S,N){N.jd=255&S,N.hd=S>>8&255,N.ud=S>>16&255}function Vt(S,N,R,Q,q,te){var se;for(se=0;se<Q;++se){var ae=N[R+se],de=ae>>>8,pe=ae,_e=255&(_e=(_e=ae>>>16)+((S.jd<<24>>24)*(de<<24>>24)>>>5));pe=255&(pe=(pe+=(S.hd<<24>>24)*(de<<24>>24)>>>5)+((S.ud<<24>>24)*(_e<<24>>24)>>>5)),q[te+se]=(4278255360&ae)+(_e<<16)+pe}}function xt(S,N,R,Q,q){D[N]=function(te,se,ae,de,pe,_e,Oe,me,Ie){for(de=Oe;de<me;++de)for(Oe=0;Oe<Ie;++Oe)pe[_e++]=q(ae[Q(te[se++])])},D[S]=function(te,se,ae,de,pe,_e,Oe){var me=8>>te.b,Ie=te.Ea,Fe=te.K[0],Ve=te.w;if(8>me)for(te=(1<<te.b)-1,Ve=(1<<me)-1;se<ae;++se){var Pe,We=0;for(Pe=0;Pe<Ie;++Pe)Pe&te||(We=Q(de[pe++])),_e[Oe++]=q(Fe[We&Ve]),We>>=me}else D["VP8LMapColor"+R](de,pe,Fe,Ve,_e,Oe,se,ae,Ie)}}function kn(S,N,R,Q,q){for(R=N+R;N<R;){var te=S[N++];Q[q++]=te>>16&255,Q[q++]=te>>8&255,Q[q++]=255&te}}function dn(S,N,R,Q,q){for(R=N+R;N<R;){var te=S[N++];Q[q++]=te>>16&255,Q[q++]=te>>8&255,Q[q++]=255&te,Q[q++]=te>>24&255}}function Wt(S,N,R,Q,q){for(R=N+R;N<R;){var te=(se=S[N++])>>16&240|se>>12&15,se=240&se|se>>28&15;Q[q++]=te,Q[q++]=se}}function Jt(S,N,R,Q,q){for(R=N+R;N<R;){var te=(se=S[N++])>>16&248|se>>13&7,se=se>>5&224|se>>3&31;Q[q++]=te,Q[q++]=se}}function Tn(S,N,R,Q,q){for(R=N+R;N<R;){var te=S[N++];Q[q++]=255&te,Q[q++]=te>>8&255,Q[q++]=te>>16&255}}function Rt(S,N,R,Q,q,te){if(te==0)for(R=N+R;N<R;)ke(Q,((te=S[N++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),q+=32;else r(Q,q,S,N,R)}function Vn(S,N){D[N][0]=D[S+"0"],D[N][1]=D[S+"1"],D[N][2]=D[S+"2"],D[N][3]=D[S+"3"],D[N][4]=D[S+"4"],D[N][5]=D[S+"5"],D[N][6]=D[S+"6"],D[N][7]=D[S+"7"],D[N][8]=D[S+"8"],D[N][9]=D[S+"9"],D[N][10]=D[S+"10"],D[N][11]=D[S+"11"],D[N][12]=D[S+"12"],D[N][13]=D[S+"13"],D[N][14]=D[S+"0"],D[N][15]=D[S+"0"]}function Yt(S){return S==hg||S==fg||S==pg||S==f}function rn(){this.eb=[],this.size=this.A=this.fb=0}function nr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ln(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new rn,this.f.kb=new nr,this.sd=null}function Et(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function sn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Kt(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function tn(S,N){var R=S.T,Q=N.ba.f.RGBA,q=Q.eb,te=Q.fb+S.ka*Q.A,se=Qi[N.ba.S],ae=S.y,de=S.O,pe=S.f,_e=S.N,Oe=S.ea,me=S.W,Ie=N.cc,Fe=N.dc,Ve=N.Mc,Pe=N.Nc,We=S.ka,qe=S.ka+S.T,it=S.U,rt=it+1>>1;for(We==0?se(ae,de,null,null,pe,_e,Oe,me,pe,_e,Oe,me,q,te,null,null,it):(se(N.ec,N.fc,ae,de,Ie,Fe,Ve,Pe,pe,_e,Oe,me,q,te-Q.A,q,te,it),++R);We+2<qe;We+=2)Ie=pe,Fe=_e,Ve=Oe,Pe=me,_e+=S.Rc,me+=S.Rc,te+=2*Q.A,se(ae,(de+=2*S.fa)-S.fa,ae,de,Ie,Fe,Ve,Pe,pe,_e,Oe,me,q,te-Q.A,q,te,it);return de+=S.fa,S.j+qe<S.o?(r(N.ec,N.fc,ae,de,it),r(N.cc,N.dc,pe,_e,rt),r(N.Mc,N.Nc,Oe,me,rt),R--):1&qe||se(ae,de,null,null,pe,_e,Oe,me,pe,_e,Oe,me,q,te+Q.A,null,null,it),R}function vn(S,N,R){var Q=S.F,q=[S.J];if(Q!=null){var te=S.U,se=N.ba.S,ae=se==op||se==pg;N=N.ba.f.RGBA;var de=[0],pe=S.ka;de[0]=S.T,S.Kb&&(pe==0?--de[0]:(--pe,q[0]-=S.width),S.j+S.ka+S.T==S.o&&(de[0]=S.o-S.j-pe));var _e=N.eb;pe=N.fb+pe*N.A,S=G1(Q,q[0],S.width,te,de,_e,pe+(ae?0:3),N.A),e(R==de),S&&Yt(se)&&Rl(_e,pe,ae,te,de,N.A)}return 0}function qn(S){var N=S.ma,R=N.ba.S,Q=11>R,q=R==sp||R==ip||R==op||R==dg||R==12||Yt(R);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!tp(N.Oa,S,q?11:12))return 0;if(q&&Yt(R)&&Nc(),S.da)alert("todo:use_scaling");else{if(Q){if(N.Ib=Kt,S.Kb){if(R=S.U+1>>1,N.memory=i(S.U+2*R),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+S.U,N.Mc=N.cc,N.Nc=N.dc+R,N.Ib=tn,Nc()}}else alert("todo:EmitYUV");q&&(N.Jb=vn,Q&&li())}if(Q&&!sU){for(S=0;256>S;++S)Doe[S]=89858*(S-128)+tC>>eC,Ooe[S]=-22014*(S-128)+tC,Poe[S]=-45773*(S-128),Roe[S]=113618*(S-128)+tC>>eC;for(S=J1;S<Nk;++S)N=76283*(S-16)+tC>>eC,$oe[S-J1]=mn(N,255),Uoe[S-J1]=mn(N+8>>4,15);sU=1}return 1}function yt(S){var N=S.ma,R=S.U,Q=S.T;return e(!(1&S.ka)),0>=R||0>=Q?0:(R=N.Ib(S,N),N.Jb!=null&&N.Jb(S,N,R),N.Dc+=R,1)}function Br(S){S.ma.memory=null}function Ir(S,N,R,Q){return he(S,8)!=47?0:(N[0]=he(S,14)+1,R[0]=he(S,14)+1,Q[0]=he(S,1),he(S,3)!=0?0:!S.h)}function Zn(S,N){if(4>S)return S+1;var R=S-2>>1;return(2+(1&S)<<R)+he(N,R)+1}function cr(S,N){return 120<N?N-120:1<=(R=((R=ve[N-1])>>4)*S+(8-(15&R)))?R:1;var R}function Fn(S,N,R){var Q=X(R),q=S[N+=255&Q].g-8;return 0<q&&(ue(R,R.u+8),Q=X(R),N+=S[N].value,N+=Q&(1<<q)-1),ue(R,R.u+S[N].g),S[N].value}function ht(S,N,R){return R.g+=S.g,R.value+=S.value<<N>>>0,e(8>=R.g),S.g}function Er(S,N,R){var Q=S.xc;return e((N=Q==0?0:S.vc[S.md*(R>>Q)+(N>>Q)])<S.Wb),S.Ya[N]}function ua(S,N,R,Q){var q=S.ab,te=S.c*N,se=S.C;N=se+N;var ae=R,de=Q;for(Q=S.Ta,R=S.Ua;0<q--;){var pe=S.gc[q],_e=se,Oe=N,me=ae,Ie=de,Fe=(de=Q,ae=R,pe.Ea);switch(e(_e<Oe),e(Oe<=pe.nc),pe.hc){case 2:As(me,Ie,(Oe-_e)*Fe,de,ae);break;case 0:var Ve=_e,Pe=Oe,We=de,qe=ae,it=(Ht=pe).Ea;Ve==0&&(np(me,Ie,null,null,1,We,qe),Nt(me,Ie+1,0,0,it-1,We,qe+1),Ie+=it,qe+=it,++Ve);for(var rt=1<<Ht.b,qt=rt-1,Pt=Re(it,Ht.b),Cn=Ht.K,Ht=Ht.w+(Ve>>Ht.b)*Pt;Ve<Pe;){var Wn=Cn,ui=Ht,Sn=1;for(ao(me,Ie,We,qe-it,1,We,qe);Sn<it;){var zt=(Sn&~qt)+rt;zt>it&&(zt=it),(0,Kd[Wn[ui++]>>8&15])(me,Ie+ +Sn,We,qe+Sn-it,zt-Sn,We,qe+Sn),Sn=zt}Ie+=it,qe+=it,++Ve&qt||(Ht+=Pt)}Oe!=pe.nc&&r(de,ae-Fe,de,ae+(Oe-_e-1)*Fe,Fe);break;case 1:for(Fe=me,Pe=Ie,it=(me=pe.Ea)-(qe=me&~(We=(Ie=1<<pe.b)-1)),Ve=Re(me,pe.b),rt=pe.K,pe=pe.w+(_e>>pe.b)*Ve;_e<Oe;){for(qt=rt,Pt=pe,Cn=new st,Ht=Pe+qe,Wn=Pe+me;Pe<Ht;)gt(qt[Pt++],Cn),MA(Cn,Fe,Pe,Ie,de,ae),Pe+=Ie,ae+=Ie;Pe<Wn&&(gt(qt[Pt++],Cn),MA(Cn,Fe,Pe,it,de,ae),Pe+=it,ae+=it),++_e&We||(pe+=Ve)}break;case 3:if(me==de&&Ie==ae&&0<pe.b){for(Pe=de,me=Fe=ae+(Oe-_e)*Fe-(qe=(Oe-_e)*Re(pe.Ea,pe.b)),Ie=de,We=ae,Ve=[],qe=(it=qe)-1;0<=qe;--qe)Ve[qe]=Ie[We+qe];for(qe=it-1;0<=qe;--qe)Pe[me+qe]=Ve[qe];Fc(pe,_e,Oe,de,Fe,de,ae)}else Fc(pe,_e,Oe,me,Ie,de,ae)}ae=Q,de=R}de!=R&&r(Q,R,ae,de,te)}function ja(S,N){var R=S.V,Q=S.Ba+S.c*S.C,q=N-S.C;if(e(N<=S.l.o),e(16>=q),0<q){var te=S.l,se=S.Ta,ae=S.Ua,de=te.width;if(ua(S,q,R,Q),q=ae=[ae],e((R=S.C)<(Q=N)),e(te.v<te.va),Q>te.o&&(Q=te.o),R<te.j){var pe=te.j-R;R=te.j,q[0]+=pe*de}if(R>=Q?R=0:(q[0]+=4*te.v,te.ka=R-te.j,te.U=te.va-te.v,te.T=Q-R,R=1),R){if(ae=ae[0],11>(R=S.ca).S){var _e=R.f.RGBA,Oe=(Q=R.S,q=te.U,te=te.T,pe=_e.eb,_e.A),me=te;for(_e=_e.fb+S.Ma*_e.A;0<me--;){var Ie=se,Fe=ae,Ve=q,Pe=pe,We=_e;switch(Q){case Ag:Du(Ie,Fe,Ve,Pe,We);break;case sp:Fl(Ie,Fe,Ve,Pe,We);break;case hg:Fl(Ie,Fe,Ve,Pe,We),Rl(Pe,We,0,Ve,1,0);break;case X1:Ll(Ie,Fe,Ve,Pe,We);break;case ip:Rt(Ie,Fe,Ve,Pe,We,1);break;case fg:Rt(Ie,Fe,Ve,Pe,We,1),Rl(Pe,We,0,Ve,1,0);break;case op:Rt(Ie,Fe,Ve,Pe,We,0);break;case pg:Rt(Ie,Fe,Ve,Pe,We,0),Rl(Pe,We,1,Ve,1,0);break;case dg:Ga(Ie,Fe,Ve,Pe,We);break;case f:Ga(Ie,Fe,Ve,Pe,We),W1(Pe,We,Ve,1,0);break;case Y2:Po(Ie,Fe,Ve,Pe,We);break;default:e(0)}ae+=de,_e+=Oe}S.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");e(S.Ma<=R.height)}}S.C=N,e(S.C<=S.i)}function so(S){var N;if(0<S.ua)return 0;for(N=0;N<S.Wb;++N){var R=S.Ya[N].G,Q=S.Ya[N].H;if(0<R[1][Q[1]+0].g||0<R[2][Q[2]+0].g||0<R[3][Q[3]+0].g)return 0}return 1}function Ui(S,N,R,Q,q,te){if(S.Z!=0){var se=S.qd,ae=S.rd;for(e(gr[S.Z]!=null);N<R;++N)gr[S.Z](se,ae,Q,q,Q,q,te),se=Q,ae=q,q+=te;S.qd=se,S.rd=ae}}function rr(S,N){var R=S.l.ma,Q=R.Z==0||R.Z==1?S.l.j:S.C;if(Q=S.C<Q?Q:S.C,e(N<=S.l.o),N>Q){var q=S.l.width,te=R.ca,se=R.tb+q*Q,ae=S.V,de=S.Ba+S.c*Q,pe=S.gc;e(S.ab==1),e(pe[0].hc==3),qs(pe[0],Q,N,ae,de,te,se),Ui(R,Q,N,te,se,q)}S.C=S.Ma=N}function Vr(S,N,R,Q,q,te,se){var ae=S.$/Q,de=S.$%Q,pe=S.m,_e=S.s,Oe=R+S.$,me=Oe;q=R+Q*q;var Ie=R+Q*te,Fe=280+_e.ua,Ve=S.Pb?ae:16777216,Pe=0<_e.ua?_e.Wa:null,We=_e.wc,qe=Oe<Ie?Er(_e,de,ae):null;e(S.C<te),e(Ie<=q);var it=!1;e:for(;;){for(;it||Oe<Ie;){var rt=0;if(ae>=Ve){var qt=Oe-R;e((Ve=S).Pb),Ve.wd=Ve.m,Ve.xd=qt,0<Ve.s.ua&&Xe(Ve.s.Wa,Ve.s.vb),Ve=ae+Qe}if(de&We||(qe=Er(_e,de,ae)),e(qe!=null),qe.Qb&&(N[Oe]=qe.qb,it=!0),!it)if(Ae(pe),qe.jc){rt=pe,qt=N;var Pt=Oe,Cn=qe.pd[X(rt)&El-1];e(qe.jc),256>Cn.g?(ue(rt,rt.u+Cn.g),qt[Pt]=Cn.value,rt=0):(ue(rt,rt.u+Cn.g-256),e(256<=Cn.value),rt=Cn.value),rt==0&&(it=!0)}else rt=Fn(qe.G[0],qe.H[0],pe);if(pe.h)break;if(it||256>rt){if(!it)if(qe.nd)N[Oe]=(qe.qb|rt<<8)>>>0;else{if(Ae(pe),it=Fn(qe.G[1],qe.H[1],pe),Ae(pe),qt=Fn(qe.G[2],qe.H[2],pe),Pt=Fn(qe.G[3],qe.H[3],pe),pe.h)break;N[Oe]=(Pt<<24|it<<16|rt<<8|qt)>>>0}if(it=!1,++Oe,++de>=Q&&(de=0,++ae,se!=null&&ae<=te&&!(ae%16)&&se(S,ae),Pe!=null))for(;me<Oe;)rt=N[me++],Pe.X[(506832829*rt&4294967295)>>>Pe.Mb]=rt}else if(280>rt){if(rt=Zn(rt-256,pe),qt=Fn(qe.G[4],qe.H[4],pe),Ae(pe),qt=cr(Q,qt=Zn(qt,pe)),pe.h)break;if(Oe-R<qt||q-Oe<rt)break e;for(Pt=0;Pt<rt;++Pt)N[Oe+Pt]=N[Oe+Pt-qt];for(Oe+=rt,de+=rt;de>=Q;)de-=Q,++ae,se!=null&&ae<=te&&!(ae%16)&&se(S,ae);if(e(Oe<=q),de&We&&(qe=Er(_e,de,ae)),Pe!=null)for(;me<Oe;)rt=N[me++],Pe.X[(506832829*rt&4294967295)>>>Pe.Mb]=rt}else{if(!(rt<Fe))break e;for(it=rt-280,e(Pe!=null);me<Oe;)rt=N[me++],Pe.X[(506832829*rt&4294967295)>>>Pe.Mb]=rt;rt=Oe,e(!(it>>>(qt=Pe).Xa)),N[rt]=qt.X[it],it=!0}it||e(pe.h==re(pe))}if(S.Pb&&pe.h&&Oe<q)e(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&Xe(S.s.vb,S.s.Wa);else{if(pe.h)break e;se!=null&&se(S,ae>te?te:ae),S.a=0,S.$=Oe-R}return 1}return S.a=3,0}function oi(S){e(S!=null),S.vc=null,S.yc=null,S.Ya=null;var N=S.Wa;N!=null&&(N.X=null),S.vb=null,e(S!=null)}function pc(){var S=new cn;return S==null?null:(S.a=0,S.xb=Y1,Vn("Predictor","VP8LPredictors"),Vn("Predictor","VP8LPredictors_C"),Vn("PredictorAdd","VP8LPredictorsAdd"),Vn("PredictorAdd","VP8LPredictorsAdd_C"),As=Dt,MA=Vt,Du=kn,Fl=dn,Ga=Wt,Po=Jt,Ll=Tn,D.VP8LMapColor32b=Tl,D.VP8LMapColor8b=Lu,S)}function Lo(S,N,R,Q,q){var te=1,se=[S],ae=[N],de=Q.m,pe=Q.s,_e=null,Oe=0;e:for(;;){if(R)for(;te&&he(de,1);){var me=se,Ie=ae,Fe=Q,Ve=1,Pe=Fe.m,We=Fe.gc[Fe.ab],qe=he(Pe,2);if(Fe.Oc&1<<qe)te=0;else{switch(Fe.Oc|=1<<qe,We.hc=qe,We.Ea=me[0],We.nc=Ie[0],We.K=[null],++Fe.ab,e(4>=Fe.ab),qe){case 0:case 1:We.b=he(Pe,3)+2,Ve=Lo(Re(We.Ea,We.b),Re(We.nc,We.b),0,Fe,We.K),We.K=We.K[0];break;case 3:var it,rt=he(Pe,8)+1,qt=16<rt?0:4<rt?1:2<rt?2:3;if(me[0]=Re(We.Ea,qt),We.b=qt,it=Ve=Lo(rt,1,0,Fe,We.K)){var Pt,Cn=rt,Ht=We,Wn=1<<(8>>Ht.b),ui=i(Wn);if(ui==null)it=0;else{var Sn=Ht.K[0],zt=Ht.w;for(ui[0]=Ht.K[0][0],Pt=1;Pt<1*Cn;++Pt)ui[Pt]=Ke(Sn[zt+Pt],ui[Pt-1]);for(;Pt<4*Wn;++Pt)ui[Pt]=0;Ht.K[0]=null,Ht.K[0]=ui,it=1}}Ve=it;break;case 2:break;default:e(0)}te=Ve}}if(se=se[0],ae=ae[0],te&&he(de,1)&&!(te=1<=(Oe=he(de,4))&&11>=Oe)){Q.a=3;break e}var mt;if(mt=te)t:{var Ps,gn,Xn,Kr=Q,ji=se,Uo=ae,Cs=Oe,Ao=R,Mo=Kr.m,Ai=Kr.s,Jn=[null],yr=1,Ss=0,wr=De[Cs];n:for(;;){if(Ao&&he(Mo,1)){var Hi=he(Mo,3)+2,Rc=Re(ji,Hi),Os=Re(Uo,Hi),va=Rc*Os;if(!Lo(Rc,Os,0,Kr,Jn))break n;for(Jn=Jn[0],Ai.xc=Hi,Ps=0;Ps<va;++Ps){var Fr=Jn[Ps]>>8&65535;Jn[Ps]=Fr,Fr>=yr&&(yr=Fr+1)}}if(Mo.h)break n;for(gn=0;5>gn;++gn){var di=k[gn];!gn&&0<Cs&&(di+=1<<Cs),Ss<di&&(Ss=di)}var qa=o(yr*wr,W),Qo=yr,Xa=o(Qo,J);if(Xa==null)var Ya=null;else e(65536>=Qo),Ya=Xa;var xa=i(Ss);if(Ya==null||xa==null||qa==null){Kr.a=1;break n}var Za=qa;for(Ps=Xn=0;Ps<yr;++Ps){var Ur=Ya[Ps],Ja=Ur.G,Pc=Ur.H,ap=0,QA=1,zi=0;for(gn=0;5>gn;++gn){di=k[gn],Ja[gn]=Za,Pc[gn]=Xn,!gn&&0<Cs&&(di+=1<<Cs);s:{var rC,Ik=di,sC=Kr,ew=xa,joe=Za,Hoe=Xn,Ek=0,Jd=sC.m,zoe=he(Jd,1);if(s(ew,0,0,Ik),zoe){var Voe=he(Jd,1)+1,Woe=he(Jd,1),aU=he(Jd,Woe==0?1:8);ew[aU]=1,Voe==2&&(ew[aU=he(Jd,8)]=1);var iC=1}else{var lU=i(19),cU=he(Jd,4)+4;if(19<cU){sC.a=3;var oC=0;break s}for(rC=0;rC<cU;++rC)lU[ne[rC]]=he(Jd,3);var kk=void 0,tw=void 0,uU=sC,Goe=lU,aC=Ik,AU=ew,Tk=0,eh=uU.m,dU=8,hU=o(128,W);r:for(;U(hU,0,7,Goe,19);){if(he(eh,1)){var Koe=2+2*he(eh,3);if((kk=2+he(eh,Koe))>aC)break r}else kk=aC;for(tw=0;tw<aC&&kk--;){Ae(eh);var fU=hU[0+(127&X(eh))];ue(eh,eh.u+fU.g);var gg=fU.value;if(16>gg)AU[tw++]=gg,gg!=0&&(dU=gg);else{var qoe=gg==16,pU=gg-16,Xoe=B[pU],mU=he(eh,w[pU])+Xoe;if(tw+mU>aC)break r;for(var Yoe=qoe?dU:0;0<mU--;)AU[tw++]=Yoe}}Tk=1;break r}Tk||(uU.a=3),iC=Tk}(iC=iC&&!Jd.h)&&(Ek=U(joe,Hoe,8,ew,Ik)),iC&&Ek!=0?oC=Ek:(sC.a=3,oC=0)}if(oC==0)break n;if(QA&&H[gn]==1&&(QA=Za[Xn].g==0),ap+=Za[Xn].g,Xn+=oC,3>=gn){var nw,Fk=xa[0];for(nw=1;nw<di;++nw)xa[nw]>Fk&&(Fk=xa[nw]);zi+=Fk}}if(Ur.nd=QA,Ur.Qb=0,QA&&(Ur.qb=(Ja[3][Pc[3]+0].value<<24|Ja[1][Pc[1]+0].value<<16|Ja[2][Pc[2]+0].value)>>>0,ap==0&&256>Ja[0][Pc[0]+0].value&&(Ur.Qb=1,Ur.qb+=Ja[0][Pc[0]+0].value<<8)),Ur.jc=!Ur.Qb&&6>zi,Ur.jc){var lC,jA=Ur;for(lC=0;lC<El;++lC){var th=lC,nh=jA.pd[th],cC=jA.G[0][jA.H[0]+th];256<=cC.value?(nh.g=cC.g+256,nh.value=cC.value):(nh.g=0,nh.value=0,th>>=ht(cC,8,nh),th>>=ht(jA.G[1][jA.H[1]+th],16,nh),th>>=ht(jA.G[2][jA.H[2]+th],0,nh),ht(jA.G[3][jA.H[3]+th],24,nh))}}}Ai.vc=Jn,Ai.Wb=yr,Ai.Ya=Ya,Ai.yc=qa,mt=1;break t}mt=0}if(!(te=mt)){Q.a=3;break e}if(0<Oe){if(pe.ua=1<<Oe,!le(pe.Wa,Oe)){Q.a=1,te=0;break e}}else pe.ua=0;var Lk=Q,gU=se,Zoe=ae,Dk=Lk.s,Rk=Dk.xc;if(Lk.c=gU,Lk.i=Zoe,Dk.md=Re(gU,Rk),Dk.wc=Rk==0?-1:(1<<Rk)-1,R){Q.xb=Sk;break e}if((_e=i(se*ae))==null){Q.a=1,te=0;break e}te=(te=Vr(Q,_e,0,se,ae,ae,null))&&!de.h;break e}return te?(q!=null?q[0]=_e:(e(_e==null),e(R)),Q.$=0,R||oi(pe)):oi(pe),te}function Sl(S,N){var R=S.c*S.i,Q=R+N+16*N;return e(S.c<=N),S.V=i(Q),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+R+N,1)}function Rd(S,N){var R=S.C,Q=N-R,q=S.V,te=S.Ba+S.c*R;for(e(N<=S.l.o);0<Q;){var se=16<Q?16:Q,ae=S.l.ma,de=S.l.width,pe=de*se,_e=ae.ca,Oe=ae.tb+de*R,me=S.Ta,Ie=S.Ua;ua(S,se,q,te),q2(me,Ie,_e,Oe,pe),Ui(ae,R,R+se,_e,Oe,de),Q-=se,q+=se*S.c,R+=se}e(R==N),S.C=S.Ma=N}function LA(){this.ub=this.yd=this.td=this.Rb=0}function Pd(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Od(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Hf(){this.Yb=function(){var S=[];return function N(R,Q,q){for(var te=q[Q],se=0;se<te&&(R.push(q.length>Q+1?[]:0),!(q.length<Q+1));se++)N(R[se],Q+1,q)}(S,0,[3,11]),S}()}function rg(){this.jb=i(3),this.Wc=a([4,8],Hf),this.Xc=a([4,17],Hf)}function sg(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Aa(){this.ld=this.La=this.dd=this.tc=0}function zf(){this.Na=this.la=0}function $d(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function mc(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vf(){this.uc=this.M=this.Nb=0,this.wa=Array(new Aa),this.Y=0,this.ya=Array(new mc),this.aa=0,this.l=new ur}function Wf(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Nu(){this.cb=this.a=0,this.sc="",this.m=new z,this.Od=new LA,this.Kc=new Pd,this.ed=new sg,this.Qa=new Od,this.Ic=this.$c=this.Aa=0,this.D=new Vf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,z),this.ia=0,this.pb=o(4,$d),this.Pa=new rg,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wf),this.Hd=0,this.rb=Array(new zf),this.sb=0,this.wa=Array(new Aa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new mc),this.L=this.aa=0,this.gd=a([4,2],Aa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function mn(S,N){return 0>S?0:S>N?N:S}function ur(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ud(){var S=new Nu;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,en||(en=un)),S}function kr(S,N,R){return S.a==0&&(S.a=N,S.sc=R,S.cb=0),0}function gc(S,N,R){return 3<=R&&S[N+0]==157&&S[N+1]==1&&S[N+2]==42}function da(S,N){if(S==null)return 0;if(S.a=0,S.sc="OK",N==null)return kr(S,2,"null VP8Io passed to VP8GetHeaders()");var R=N.data,Q=N.w,q=N.ha;if(4>q)return kr(S,7,"Truncated header.");var te=R[Q+0]|R[Q+1]<<8|R[Q+2]<<16,se=S.Od;if(se.Rb=!(1&te),se.td=te>>1&7,se.yd=te>>4&1,se.ub=te>>5,3<se.td)return kr(S,3,"Incorrect keyframe parameters.");if(!se.yd)return kr(S,4,"Frame not displayable.");Q+=3,q-=3;var ae=S.Kc;if(se.Rb){if(7>q)return kr(S,7,"cannot parse picture header");if(!gc(R,Q,q))return kr(S,3,"Bad code word");ae.c=16383&(R[Q+4]<<8|R[Q+3]),ae.Td=R[Q+4]>>6,ae.i=16383&(R[Q+6]<<8|R[Q+5]),ae.Ud=R[Q+6]>>6,Q+=7,q-=7,S.za=ae.c+15>>4,S.Ub=ae.i+15>>4,N.width=ae.c,N.height=ae.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,s((te=S.Pa).jb,0,255,te.jb.length),e((te=S.Qa)!=null),te.Cb=0,te.Bb=0,te.Fb=1,s(te.Zb,0,0,te.Zb.length),s(te.Lb,0,0,te.Lb)}if(se.ub>q)return kr(S,7,"bad partition length");Z(te=S.m,R,Q,se.ub),Q+=se.ub,q-=se.ub,se.Rb&&(ae.Ld=Ce(te),ae.Kd=Ce(te)),ae=S.Qa;var de,pe=S.Pa;if(e(te!=null),e(ae!=null),ae.Cb=Ce(te),ae.Cb){if(ae.Bb=Ce(te),Ce(te)){for(ae.Fb=Ce(te),de=0;4>de;++de)ae.Zb[de]=Ce(te)?V(te,7):0;for(de=0;4>de;++de)ae.Lb[de]=Ce(te)?V(te,6):0}if(ae.Bb)for(de=0;3>de;++de)pe.jb[de]=Ce(te)?oe(te,8):255}else ae.Bb=0;if(te.Ka)return kr(S,3,"cannot parse segment header");if((ae=S.ed).zd=Ce(te),ae.Tb=oe(te,6),ae.wb=oe(te,3),ae.Pc=Ce(te),ae.Pc&&Ce(te)){for(pe=0;4>pe;++pe)Ce(te)&&(ae.vd[pe]=V(te,6));for(pe=0;4>pe;++pe)Ce(te)&&(ae.od[pe]=V(te,6))}if(S.L=ae.Tb==0?0:ae.zd?1:2,te.Ka)return kr(S,3,"cannot parse filter header");var _e=q;if(q=de=Q,Q=de+_e,ae=_e,S.Xb=(1<<oe(S.m,2))-1,_e<3*(pe=S.Xb))R=7;else{for(de+=3*pe,ae-=3*pe,_e=0;_e<pe;++_e){var Oe=R[q+0]|R[q+1]<<8|R[q+2]<<16;Oe>ae&&(Oe=ae),Z(S.Jc[+_e],R,de,Oe),de+=Oe,ae-=Oe,q+=3}Z(S.Jc[+pe],R,de,ae),R=de<Q?0:5}if(R!=0)return kr(S,R,"cannot parse partitions");for(R=oe(de=S.m,7),q=Ce(de)?V(de,4):0,Q=Ce(de)?V(de,4):0,ae=Ce(de)?V(de,4):0,pe=Ce(de)?V(de,4):0,de=Ce(de)?V(de,4):0,_e=S.Qa,Oe=0;4>Oe;++Oe){if(_e.Cb){var me=_e.Zb[Oe];_e.Fb||(me+=R)}else{if(0<Oe){S.pb[Oe]=S.pb[0];continue}me=R}var Ie=S.pb[Oe];Ie.Sc[0]=tt[mn(me+q,127)],Ie.Sc[1]=wt[mn(me+0,127)],Ie.Eb[0]=2*tt[mn(me+Q,127)],Ie.Eb[1]=101581*wt[mn(me+ae,127)]>>16,8>Ie.Eb[1]&&(Ie.Eb[1]=8),Ie.Qc[0]=tt[mn(me+pe,117)],Ie.Qc[1]=wt[mn(me+de,127)],Ie.lc=me+de}if(!se.Rb)return kr(S,4,"Not a key frame.");for(Ce(te),se=S.Pa,R=0;4>R;++R){for(q=0;8>q;++q)for(Q=0;3>Q;++Q)for(ae=0;11>ae;++ae)pe=Ne(te,Zd[R][q][Q][ae])?oe(te,8):wa[R][q][Q][ae],se.Wc[R][q].Yb[Q][ae]=pe;for(q=0;17>q;++q)se.Xc[R][q]=se.Wc[R][Ck[q]]}return S.kc=Ce(te),S.kc&&(S.Bd=oe(te,8)),S.cb=1}function un(S,N,R,Q,q,te,se){var ae=N[q].Yb[R];for(R=0;16>q;++q){if(!Ne(S,ae[R+0]))return q;for(;!Ne(S,ae[R+1]);)if(ae=N[++q].Yb[0],R=0,q==16)return 16;var de=N[q+1].Yb;if(Ne(S,ae[R+2])){var pe=S,_e=0;if(Ne(pe,(me=ae)[(Oe=R)+3]))if(Ne(pe,me[Oe+6])){for(ae=0,Oe=2*(_e=Ne(pe,me[Oe+8]))+(me=Ne(pe,me[Oe+9+_e])),_e=0,me=Ln[Oe];me[ae];++ae)_e+=_e+Ne(pe,me[ae]);_e+=3+(8<<Oe)}else Ne(pe,me[Oe+7])?(_e=7+2*Ne(pe,165),_e+=Ne(pe,145)):_e=5+Ne(pe,159);else _e=Ne(pe,me[Oe+4])?3+Ne(pe,me[Oe+5]):2;ae=de[2]}else _e=1,ae=de[1];de=se+Mi[q],0>(pe=S).b&&we(pe);var Oe,me=pe.b,Ie=(Oe=pe.Ca>>1)-(pe.I>>me)>>31;--pe.b,pe.Ca+=Ie,pe.Ca|=1,pe.I-=(Oe+1&Ie)<<me,te[de]=((_e^Ie)-Ie)*Q[(0<q)+0]}return 16}function $r(S){var N=S.rb[S.sb-1];N.la=0,N.Na=0,s(S.zc,0,0,S.zc.length),S.ja=0}function io(S,N,R,Q,q){q=S[N+R+32*Q]+(q>>3),S[N+R+32*Q]=-256&q?0>q?0:255:q}function ts(S,N,R,Q,q,te){io(S,N,0,R,Q+q),io(S,N,1,R,Q+te),io(S,N,2,R,Q-te),io(S,N,3,R,Q-q)}function ws(S){return(20091*S>>16)+S}function ig(S,N,R,Q){var q,te=0,se=i(16);for(q=0;4>q;++q){var ae=S[N+0]+S[N+8],de=S[N+0]-S[N+8],pe=(35468*S[N+4]>>16)-ws(S[N+12]),_e=ws(S[N+4])+(35468*S[N+12]>>16);se[te+0]=ae+_e,se[te+1]=de+pe,se[te+2]=de-pe,se[te+3]=ae-_e,te+=4,N++}for(q=te=0;4>q;++q)ae=(S=se[te+0]+4)+se[te+8],de=S-se[te+8],pe=(35468*se[te+4]>>16)-ws(se[te+12]),io(R,Q,0,0,ae+(_e=ws(se[te+4])+(35468*se[te+12]>>16))),io(R,Q,1,0,de+pe),io(R,Q,2,0,de-pe),io(R,Q,3,0,ae-_e),te++,Q+=32}function Md(S,N,R,Q){var q=S[N+0]+4,te=35468*S[N+4]>>16,se=ws(S[N+4]),ae=35468*S[N+1]>>16;ts(R,Q,0,q+se,S=ws(S[N+1]),ae),ts(R,Q,1,q+te,S,ae),ts(R,Q,2,q-te,S,ae),ts(R,Q,3,q-se,S,ae)}function yc(S,N,R,Q,q){ig(S,N,R,Q),q&&ig(S,N+16,R,Q+4)}function or(S,N,R,Q){Ru(S,N+0,R,Q,1),Ru(S,N+32,R,Q+128,1)}function Bl(S,N,R,Q){var q;for(S=S[N+0]+4,q=0;4>q;++q)for(N=0;4>N;++N)io(R,Q,N,q,S)}function Iu(S,N,R,Q){S[N+0]&&sr(S,N+0,R,Q),S[N+16]&&sr(S,N+16,R,Q+4),S[N+32]&&sr(S,N+32,R,Q+128),S[N+48]&&sr(S,N+48,R,Q+128+4)}function _l(S,N,R,Q){var q,te=i(16);for(q=0;4>q;++q){var se=S[N+0+q]+S[N+12+q],ae=S[N+4+q]+S[N+8+q],de=S[N+4+q]-S[N+8+q],pe=S[N+0+q]-S[N+12+q];te[0+q]=se+ae,te[8+q]=se-ae,te[4+q]=pe+de,te[12+q]=pe-de}for(q=0;4>q;++q)se=(S=te[0+4*q]+3)+te[3+4*q],ae=te[1+4*q]+te[2+4*q],de=te[1+4*q]-te[2+4*q],pe=S-te[3+4*q],R[Q+0]=se+ae>>3,R[Q+16]=pe+de>>3,R[Q+32]=se-ae>>3,R[Q+48]=pe-de>>3,Q+=64}function wc(S,N,R){var Q,q=N-32,te=co,se=255-S[q-1];for(Q=0;Q<R;++Q){var ae,de=te,pe=se+S[N-1];for(ae=0;ae<R;++ae)S[N+ae]=de[pe+S[q+ae]];N+=32}}function DA(S,N){wc(S,N,4)}function Gf(S,N){wc(S,N,8)}function Kf(S,N){wc(S,N,16)}function Eu(S,N){var R;for(R=0;16>R;++R)r(S,N+32*R,S,N-32,16)}function Qd(S,N){var R;for(R=16;0<R;--R)s(S,N,S[N-1],16),N+=32}function Do(S,N,R){var Q;for(Q=0;16>Q;++Q)s(N,R+32*Q,S,16)}function jd(S,N){var R,Q=16;for(R=0;16>R;++R)Q+=S[N-1+32*R]+S[N+R-32];Do(Q>>5,S,N)}function ku(S,N){var R,Q=8;for(R=0;16>R;++R)Q+=S[N-1+32*R];Do(Q>>4,S,N)}function RA(S,N){var R,Q=8;for(R=0;16>R;++R)Q+=S[N+R-32];Do(Q>>4,S,N)}function z1(S,N){Do(128,S,N)}function lt(S,N,R){return S+2*N+R+2>>2}function ha(S,N){var R,Q=N-32;for(Q=new Uint8Array([lt(S[Q-1],S[Q+0],S[Q+1]),lt(S[Q+0],S[Q+1],S[Q+2]),lt(S[Q+1],S[Q+2],S[Q+3]),lt(S[Q+2],S[Q+3],S[Q+4])]),R=0;4>R;++R)r(S,N+32*R,Q,0,Q.length)}function Ar(S,N){var R=S[N-1],Q=S[N-1+32],q=S[N-1+64],te=S[N-1+96];ke(S,N+0,16843009*lt(S[N-1-32],R,Q)),ke(S,N+32,16843009*lt(R,Q,q)),ke(S,N+64,16843009*lt(Q,q,te)),ke(S,N+96,16843009*lt(q,te,te))}function og(S,N){var R,Q=4;for(R=0;4>R;++R)Q+=S[N+R-32]+S[N-1+32*R];for(Q>>=3,R=0;4>R;++R)s(S,N+32*R,Q,4)}function Ha(S,N){var R=S[N-1+0],Q=S[N-1+32],q=S[N-1+64],te=S[N-1-32],se=S[N+0-32],ae=S[N+1-32],de=S[N+2-32],pe=S[N+3-32];S[N+0+96]=lt(Q,q,S[N-1+96]),S[N+1+96]=S[N+0+64]=lt(R,Q,q),S[N+2+96]=S[N+1+64]=S[N+0+32]=lt(te,R,Q),S[N+3+96]=S[N+2+64]=S[N+1+32]=S[N+0+0]=lt(se,te,R),S[N+3+64]=S[N+2+32]=S[N+1+0]=lt(ae,se,te),S[N+3+32]=S[N+2+0]=lt(de,ae,se),S[N+3+0]=lt(pe,de,ae)}function za(S,N){var R=S[N+1-32],Q=S[N+2-32],q=S[N+3-32],te=S[N+4-32],se=S[N+5-32],ae=S[N+6-32],de=S[N+7-32];S[N+0+0]=lt(S[N+0-32],R,Q),S[N+1+0]=S[N+0+32]=lt(R,Q,q),S[N+2+0]=S[N+1+32]=S[N+0+64]=lt(Q,q,te),S[N+3+0]=S[N+2+32]=S[N+1+64]=S[N+0+96]=lt(q,te,se),S[N+3+32]=S[N+2+64]=S[N+1+96]=lt(te,se,ae),S[N+3+64]=S[N+2+96]=lt(se,ae,de),S[N+3+96]=lt(ae,de,de)}function qf(S,N){var R=S[N-1+0],Q=S[N-1+32],q=S[N-1+64],te=S[N-1-32],se=S[N+0-32],ae=S[N+1-32],de=S[N+2-32],pe=S[N+3-32];S[N+0+0]=S[N+1+64]=te+se+1>>1,S[N+1+0]=S[N+2+64]=se+ae+1>>1,S[N+2+0]=S[N+3+64]=ae+de+1>>1,S[N+3+0]=de+pe+1>>1,S[N+0+96]=lt(q,Q,R),S[N+0+64]=lt(Q,R,te),S[N+0+32]=S[N+1+96]=lt(R,te,se),S[N+1+32]=S[N+2+96]=lt(te,se,ae),S[N+2+32]=S[N+3+96]=lt(se,ae,de),S[N+3+32]=lt(ae,de,pe)}function vc(S,N){var R=S[N+0-32],Q=S[N+1-32],q=S[N+2-32],te=S[N+3-32],se=S[N+4-32],ae=S[N+5-32],de=S[N+6-32],pe=S[N+7-32];S[N+0+0]=R+Q+1>>1,S[N+1+0]=S[N+0+64]=Q+q+1>>1,S[N+2+0]=S[N+1+64]=q+te+1>>1,S[N+3+0]=S[N+2+64]=te+se+1>>1,S[N+0+32]=lt(R,Q,q),S[N+1+32]=S[N+0+96]=lt(Q,q,te),S[N+2+32]=S[N+1+96]=lt(q,te,se),S[N+3+32]=S[N+2+96]=lt(te,se,ae),S[N+3+64]=lt(se,ae,de),S[N+3+96]=lt(ae,de,pe)}function Tu(S,N){var R=S[N-1+0],Q=S[N-1+32],q=S[N-1+64],te=S[N-1+96];S[N+0+0]=R+Q+1>>1,S[N+2+0]=S[N+0+32]=Q+q+1>>1,S[N+2+32]=S[N+0+64]=q+te+1>>1,S[N+1+0]=lt(R,Q,q),S[N+3+0]=S[N+1+32]=lt(Q,q,te),S[N+3+32]=S[N+1+64]=lt(q,te,te),S[N+3+64]=S[N+2+64]=S[N+0+96]=S[N+1+96]=S[N+2+96]=S[N+3+96]=te}function xc(S,N){var R=S[N-1+0],Q=S[N-1+32],q=S[N-1+64],te=S[N-1+96],se=S[N-1-32],ae=S[N+0-32],de=S[N+1-32],pe=S[N+2-32];S[N+0+0]=S[N+2+32]=R+se+1>>1,S[N+0+32]=S[N+2+64]=Q+R+1>>1,S[N+0+64]=S[N+2+96]=q+Q+1>>1,S[N+0+96]=te+q+1>>1,S[N+3+0]=lt(ae,de,pe),S[N+2+0]=lt(se,ae,de),S[N+1+0]=S[N+3+32]=lt(R,se,ae),S[N+1+32]=S[N+3+64]=lt(Q,R,se),S[N+1+64]=S[N+3+96]=lt(q,Q,R),S[N+1+96]=lt(te,q,Q)}function Wr(S,N){var R;for(R=0;8>R;++R)r(S,N+32*R,S,N-32,8)}function bc(S,N){var R;for(R=0;8>R;++R)s(S,N,S[N-1],8),N+=32}function Nl(S,N,R){var Q;for(Q=0;8>Q;++Q)s(N,R+32*Q,S,8)}function ag(S,N){var R,Q=8;for(R=0;8>R;++R)Q+=S[N+R-32]+S[N-1+32*R];Nl(Q>>4,S,N)}function Xf(S,N){var R,Q=4;for(R=0;8>R;++R)Q+=S[N+R-32];Nl(Q>>3,S,N)}function Hd(S,N){var R,Q=4;for(R=0;8>R;++R)Q+=S[N-1+32*R];Nl(Q>>3,S,N)}function zd(S,N){Nl(128,S,N)}function Cc(S,N,R){var Q=S[N-R],q=S[N+0],te=3*(q-Q)+Yd[1020+S[N-2*R]-S[N+R]],se=Pu[112+(te+4>>3)];S[N-R]=co[255+Q+Pu[112+(te+3>>3)]],S[N+0]=co[255+q-se]}function Vd(S,N,R,Q){var q=S[N+0],te=S[N+R];return $o[255+S[N-2*R]-S[N-R]]>Q||$o[255+te-q]>Q}function bn(S,N,R,Q){return 4*$o[255+S[N-R]-S[N+0]]+$o[255+S[N-2*R]-S[N+R]]<=Q}function Yf(S,N,R,Q,q){var te=S[N-3*R],se=S[N-2*R],ae=S[N-R],de=S[N+0],pe=S[N+R],_e=S[N+2*R],Oe=S[N+3*R];return 4*$o[255+ae-de]+$o[255+se-pe]>Q?0:$o[255+S[N-4*R]-te]<=q&&$o[255+te-se]<=q&&$o[255+se-ae]<=q&&$o[255+Oe-_e]<=q&&$o[255+_e-pe]<=q&&$o[255+pe-de]<=q}function ai(S,N,R,Q){var q=2*Q+1;for(Q=0;16>Q;++Q)bn(S,N+Q,R,q)&&Cc(S,N+Q,R)}function Sc(S,N,R,Q){var q=2*Q+1;for(Q=0;16>Q;++Q)bn(S,N+Q*R,1,q)&&Cc(S,N+Q*R,1)}function Zf(S,N,R,Q){var q;for(q=3;0<q;--q)ai(S,N+=4*R,R,Q)}function lg(S,N,R,Q){var q;for(q=3;0<q;--q)Sc(S,N+=4,R,Q)}function Va(S,N,R,Q,q,te,se,ae){for(te=2*te+1;0<q--;){if(Yf(S,N,R,te,se))if(Vd(S,N,R,ae))Cc(S,N,R);else{var de=S,pe=N,_e=R,Oe=de[pe-2*_e],me=de[pe-_e],Ie=de[pe+0],Fe=de[pe+_e],Ve=de[pe+2*_e],Pe=27*(qe=Yd[1020+3*(Ie-me)+Yd[1020+Oe-Fe]])+63>>7,We=18*qe+63>>7,qe=9*qe+63>>7;de[pe-3*_e]=co[255+de[pe-3*_e]+qe],de[pe-2*_e]=co[255+Oe+We],de[pe-_e]=co[255+me+Pe],de[pe+0]=co[255+Ie-Pe],de[pe+_e]=co[255+Fe-We],de[pe+2*_e]=co[255+Ve-qe]}N+=Q}}function Bc(S,N,R,Q,q,te,se,ae){for(te=2*te+1;0<q--;){if(Yf(S,N,R,te,se))if(Vd(S,N,R,ae))Cc(S,N,R);else{var de=S,pe=N,_e=R,Oe=de[pe-_e],me=de[pe+0],Ie=de[pe+_e],Fe=Pu[112+(4+(Ve=3*(me-Oe))>>3)],Ve=Pu[112+(Ve+3>>3)],Pe=Fe+1>>1;de[pe-2*_e]=co[255+de[pe-2*_e]+Pe],de[pe-_e]=co[255+Oe+Ve],de[pe+0]=co[255+me-Fe],de[pe+_e]=co[255+Ie-Pe]}N+=Q}}function Jf(S,N,R,Q,q,te){Va(S,N,R,1,16,Q,q,te)}function PA(S,N,R,Q,q,te){Va(S,N,1,R,16,Q,q,te)}function cg(S,N,R,Q,q,te){var se;for(se=3;0<se;--se)Bc(S,N+=4*R,R,1,16,Q,q,te)}function E(S,N,R,Q,q,te){var se;for(se=3;0<se;--se)Bc(S,N+=4,1,R,16,Q,q,te)}function K(S,N,R,Q,q,te,se,ae){Va(S,N,q,1,8,te,se,ae),Va(R,Q,q,1,8,te,se,ae)}function fe(S,N,R,Q,q,te,se,ae){Va(S,N,1,q,8,te,se,ae),Va(R,Q,1,q,8,te,se,ae)}function be(S,N,R,Q,q,te,se,ae){Bc(S,N+4*q,q,1,8,te,se,ae),Bc(R,Q+4*q,q,1,8,te,se,ae)}function Ee(S,N,R,Q,q,te,se,ae){Bc(S,N+4,1,q,8,te,se,ae),Bc(R,Q+4,1,q,8,te,se,ae)}function ze(){this.ba=new ln,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new sn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function et(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function kt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Qt(){this.ua=0,this.Wa=new dt,this.vb=new dt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new J,this.yc=new W}function cn(){this.xb=this.a=0,this.l=new ur,this.ca=new ln,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Qt,this.ab=0,this.gc=o(4,kt),this.Oc=0}function fn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ur,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function jn(S,N,R,Q,q,te,se){for(S=S==null?0:S[N+0],N=0;N<se;++N)q[te+N]=S+R[Q+N]&255,S=q[te+N]}function Gr(S,N,R,Q,q,te,se){var ae;if(S==null)jn(null,null,R,Q,q,te,se);else for(ae=0;ae<se;++ae)q[te+ae]=S[N+ae]+R[Q+ae]&255}function vs(S,N,R,Q,q,te,se){if(S==null)jn(null,null,R,Q,q,te,se);else{var ae,de=S[N+0],pe=de,_e=de;for(ae=0;ae<se;++ae)pe=_e+(de=S[N+ae])-pe,_e=R[Q+ae]+(-256&pe?0>pe?0:255:pe)&255,pe=de,q[te+ae]=_e}}function dr(S,N,R,Q){var q=N.width,te=N.o;if(e(S!=null&&N!=null),0>R||0>=Q||R+Q>te)return null;if(!S.Cc){if(S.ga==null){var se;if(S.ga=new fn,(se=S.ga==null)||(se=N.width*N.o,e(S.Gb.length==0),S.Gb=i(se),S.Uc=0,S.Gb==null?se=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,se=1),se=!se),!se){se=S.ga;var ae=S.Fa,de=S.P,pe=S.qc,_e=S.mb,Oe=S.nb,me=de+1,Ie=pe-1,Fe=se.l;if(e(ae!=null&&_e!=null&&N!=null),gr[0]=null,gr[1]=jn,gr[2]=Gr,gr[3]=vs,se.ca=_e,se.tb=Oe,se.c=N.width,se.i=N.height,e(0<se.c&&0<se.i),1>=pe)N=0;else if(se.$a=3&ae[de+0],se.Z=ae[de+0]>>2&3,se.Lc=ae[de+0]>>4&3,de=ae[de+0]>>6&3,0>se.$a||1<se.$a||4<=se.Z||1<se.Lc||de)N=0;else if(Fe.put=yt,Fe.ac=qn,Fe.bc=Br,Fe.ma=se,Fe.width=N.width,Fe.height=N.height,Fe.Da=N.Da,Fe.v=N.v,Fe.va=N.va,Fe.j=N.j,Fe.o=N.o,se.$a)e:{e(se.$a==1),N=pc();t:for(;;){if(N==null){N=0;break e}if(e(se!=null),se.mc=N,N.c=se.c,N.i=se.i,N.l=se.l,N.l.ma=se,N.l.width=se.c,N.l.height=se.i,N.a=0,Y(N.m,ae,me,Ie),!Lo(se.c,se.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&so(N.s)?(se.ic=1,ae=N.c*N.i,N.Ta=null,N.Ua=0,N.V=i(ae),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(se.ic=0,N=Sl(N,se.c)),!N))break t;N=1;break e}se.mc=null,N=0}else N=Ie>=se.c*se.i;se=!N}if(se)return null;S.ga.Lc!=1?S.Ga=0:Q=te-R}e(S.ga!=null),e(R+Q<=te);e:{if(N=(ae=S.ga).c,te=ae.l.o,ae.$a==0){if(me=S.rc,Ie=S.Vc,Fe=S.Fa,de=S.P+1+R*N,pe=S.mb,_e=S.nb+R*N,e(de<=S.P+S.qc),ae.Z!=0)for(e(gr[ae.Z]!=null),se=0;se<Q;++se)gr[ae.Z](me,Ie,Fe,de,pe,_e,N),me=pe,Ie=_e,_e+=N,de+=N;else for(se=0;se<Q;++se)r(pe,_e,Fe,de,N),me=pe,Ie=_e,_e+=N,de+=N;S.rc=me,S.Vc=Ie}else{if(e(ae.mc!=null),N=R+Q,e((se=ae.mc)!=null),e(N<=se.i),se.C>=N)N=1;else if(ae.ic||li(),ae.ic){ae=se.V,me=se.Ba,Ie=se.c;var Ve=se.i,Pe=(Fe=1,de=se.$/Ie,pe=se.$%Ie,_e=se.m,Oe=se.s,se.$),We=Ie*Ve,qe=Ie*N,it=Oe.wc,rt=Pe<qe?Er(Oe,pe,de):null;e(Pe<=We),e(N<=Ve),e(so(Oe));t:for(;;){for(;!_e.h&&Pe<qe;){if(pe&it||(rt=Er(Oe,pe,de)),e(rt!=null),Ae(_e),256>(Ve=Fn(rt.G[0],rt.H[0],_e)))ae[me+Pe]=Ve,++Pe,++pe>=Ie&&(pe=0,++de<=N&&!(de%16)&&rr(se,de));else{if(!(280>Ve)){Fe=0;break t}Ve=Zn(Ve-256,_e);var qt,Pt=Fn(rt.G[4],rt.H[4],_e);if(Ae(_e),!(Pe>=(Pt=cr(Ie,Pt=Zn(Pt,_e)))&&We-Pe>=Ve)){Fe=0;break t}for(qt=0;qt<Ve;++qt)ae[me+Pe+qt]=ae[me+Pe+qt-Pt];for(Pe+=Ve,pe+=Ve;pe>=Ie;)pe-=Ie,++de<=N&&!(de%16)&&rr(se,de);Pe<qe&&pe&it&&(rt=Er(Oe,pe,de))}e(_e.h==re(_e))}rr(se,de>N?N:de);break t}!Fe||_e.h&&Pe<We?(Fe=0,se.a=_e.h?5:3):se.$=Pe,N=Fe}else N=Vr(se,se.V,se.Ba,se.c,se.i,N,Rd);if(!N){Q=0;break e}}R+Q>=te&&(S.Cc=1),Q=1}if(!Q)return null;if(S.Cc&&((Q=S.ga)!=null&&(Q.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+R*q}function Ls(S,N,R,Q,q,te){for(;0<q--;){var se,ae=S,de=N+(R?1:0),pe=S,_e=N+(R?0:3);for(se=0;se<Q;++se){var Oe=pe[_e+4*se];Oe!=255&&(Oe*=32897,ae[de+4*se+0]=ae[de+4*se+0]*Oe>>23,ae[de+4*se+1]=ae[de+4*se+1]*Oe>>23,ae[de+4*se+2]=ae[de+4*se+2]*Oe>>23)}N+=te}}function us(S,N,R,Q,q){for(;0<Q--;){var te;for(te=0;te<R;++te){var se=S[N+2*te+0],ae=15&(pe=S[N+2*te+1]),de=4369*ae,pe=(240&pe|pe>>4)*de>>16;S[N+2*te+0]=(240&se|se>>4)*de>>16&240|(15&se|se<<4)*de>>16>>4&15,S[N+2*te+1]=240&pe|ae}N+=q}}function Ks(S,N,R,Q,q,te,se,ae){var de,pe,_e=255;for(pe=0;pe<q;++pe){for(de=0;de<Q;++de){var Oe=S[N+de];te[se+4*de]=Oe,_e&=Oe}N+=R,se+=ae}return _e!=255}function fa(S,N,R,Q,q){var te;for(te=0;te<q;++te)R[Q+te]=S[N+te]>>8}function li(){Rl=Ls,W1=us,G1=Ks,q2=fa}function _c(S,N,R){D[S]=function(Q,q,te,se,ae,de,pe,_e,Oe,me,Ie,Fe,Ve,Pe,We,qe,it){var rt,qt=it-1>>1,Pt=ae[de+0]|pe[_e+0]<<16,Cn=Oe[me+0]|Ie[Fe+0]<<16;e(Q!=null);var Ht=3*Pt+Cn+131074>>2;for(N(Q[q+0],255&Ht,Ht>>16,Ve,Pe),te!=null&&(Ht=3*Cn+Pt+131074>>2,N(te[se+0],255&Ht,Ht>>16,We,qe)),rt=1;rt<=qt;++rt){var Wn=ae[de+rt]|pe[_e+rt]<<16,ui=Oe[me+rt]|Ie[Fe+rt]<<16,Sn=Pt+Wn+Cn+ui+524296,zt=Sn+2*(Wn+Cn)>>3;Ht=zt+Pt>>1,Pt=(Sn=Sn+2*(Pt+ui)>>3)+Wn>>1,N(Q[q+2*rt-1],255&Ht,Ht>>16,Ve,Pe+(2*rt-1)*R),N(Q[q+2*rt-0],255&Pt,Pt>>16,Ve,Pe+(2*rt-0)*R),te!=null&&(Ht=Sn+Cn>>1,Pt=zt+ui>>1,N(te[se+2*rt-1],255&Ht,Ht>>16,We,qe+(2*rt-1)*R),N(te[se+2*rt+0],255&Pt,Pt>>16,We,qe+(2*rt+0)*R)),Pt=Wn,Cn=ui}1&it||(Ht=3*Pt+Cn+131074>>2,N(Q[q+it-1],255&Ht,Ht>>16,Ve,Pe+(it-1)*R),te!=null&&(Ht=3*Cn+Pt+131074>>2,N(te[se+it-1],255&Ht,Ht>>16,We,qe+(it-1)*R)))}}function Nc(){Qi[Ag]=Bk,Qi[sp]=Z2,Qi[X1]=_k,Qi[ip]=mg,Qi[op]=Z1,Qi[dg]=J2,Qi[Y2]=Foe,Qi[hg]=Z2,Qi[fg]=mg,Qi[pg]=Z1,Qi[f]=J2}function ci(S){return S&~Loe?0>S?0:255:S>>rU}function Ic(S,N){return ci((19077*S>>8)+(26149*N>>8)-14234)}function Fu(S,N,R){return ci((19077*S>>8)-(6419*N>>8)-(13320*R>>8)+8708)}function OA(S,N){return ci((19077*S>>8)+(33050*N>>8)-17685)}function Il(S,N,R,Q,q){Q[q+0]=Ic(S,R),Q[q+1]=Fu(S,N,R),Q[q+2]=OA(S,N)}function Ds(S,N,R,Q,q){Q[q+0]=OA(S,N),Q[q+1]=Fu(S,N,R),Q[q+2]=Ic(S,R)}function $A(S,N,R,Q,q){var te=Fu(S,N,R);N=te<<3&224|OA(S,N)>>3,Q[q+0]=248&Ic(S,R)|te>>5,Q[q+1]=N}function UA(S,N,R,Q,q){var te=240&OA(S,N)|15;Q[q+0]=240&Ic(S,R)|Fu(S,N,R)>>4,Q[q+1]=te}function Wd(S,N,R,Q,q){Q[q+0]=255,Il(S,N,R,Q,q+1)}function ep(S,N,R,Q,q){Ds(S,N,R,Q,q),Q[q+3]=255}function Tr(S,N,R,Q,q){Il(S,N,R,Q,q),Q[q+3]=255}function oo(S,N,R){D[S]=function(Q,q,te,se,ae,de,pe,_e,Oe){for(var me=_e+(-2&Oe)*R;_e!=me;)N(Q[q+0],te[se+0],ae[de+0],pe,_e),N(Q[q+1],te[se+0],ae[de+0],pe,_e+R),q+=2,++se,++de,_e+=2*R;1&Oe&&N(Q[q+0],te[se+0],ae[de+0],pe,_e)}}function Gd(S,N,R){return R==0?S==0?N==0?6:5:N==0?4:0:R}function pa(S,N,R,Q,q){switch(S>>>30){case 3:Ru(N,R,Q,q,0);break;case 2:ya(N,R,Q,q);break;case 1:sr(N,R,Q,q)}}function ma(S,N){var R,Q,q=N.M,te=N.Nb,se=S.oc,ae=S.pc+40,de=S.oc,pe=S.pc+584,_e=S.oc,Oe=S.pc+600;for(R=0;16>R;++R)se[ae+32*R-1]=129;for(R=0;8>R;++R)de[pe+32*R-1]=129,_e[Oe+32*R-1]=129;for(0<q?se[ae-1-32]=de[pe-1-32]=_e[Oe-1-32]=129:(s(se,ae-32-1,127,21),s(de,pe-32-1,127,9),s(_e,Oe-32-1,127,9)),Q=0;Q<S.za;++Q){var me=N.ya[N.aa+Q];if(0<Q){for(R=-1;16>R;++R)r(se,ae+32*R-4,se,ae+32*R+12,4);for(R=-1;8>R;++R)r(de,pe+32*R-4,de,pe+32*R+4,4),r(_e,Oe+32*R-4,_e,Oe+32*R+4,4)}var Ie=S.Gd,Fe=S.Hd+Q,Ve=me.ad,Pe=me.Hc;if(0<q&&(r(se,ae-32,Ie[Fe].y,0,16),r(de,pe-32,Ie[Fe].f,0,8),r(_e,Oe-32,Ie[Fe].ea,0,8)),me.Za){var We=se,qe=ae-32+16;for(0<q&&(Q>=S.za-1?s(We,qe,Ie[Fe].y[15],4):r(We,qe,Ie[Fe+1].y,0,4)),R=0;4>R;R++)We[qe+128+R]=We[qe+256+R]=We[qe+384+R]=We[qe+0+R];for(R=0;16>R;++R,Pe<<=2)We=se,qe=ae+iU[R],Ka[me.Ob[R]](We,qe),pa(Pe,Ve,16*+R,We,qe)}else if(We=Gd(Q,q,me.Ob[0]),Ou[We](se,ae),Pe!=0)for(R=0;16>R;++R,Pe<<=2)pa(Pe,Ve,16*+R,se,ae+iU[R]);for(R=me.Gc,We=Gd(Q,q,me.Dd),Ol[We](de,pe),Ol[We](_e,Oe),Pe=Ve,We=de,qe=pe,255&(me=0|R)&&(170&me?Oo(Pe,256,We,qe):hr(Pe,256,We,qe)),me=_e,Pe=Oe,255&(R>>=8)&&(170&R?Oo(Ve,320,me,Pe):hr(Ve,320,me,Pe)),q<S.Ub-1&&(r(Ie[Fe].y,0,se,ae+480,16),r(Ie[Fe].f,0,de,pe+224,8),r(Ie[Fe].ea,0,_e,Oe+224,8)),R=8*te*S.B,Ie=S.sa,Fe=S.ta+16*Q+16*te*S.R,Ve=S.qa,me=S.ra+8*Q+R,Pe=S.Ha,We=S.Ia+8*Q+R,R=0;16>R;++R)r(Ie,Fe+R*S.R,se,ae+32*R,16);for(R=0;8>R;++R)r(Ve,me+R*S.B,de,pe+32*R,8),r(Pe,We+R*S.B,_e,Oe+32*R,8)}}function ga(S,N,R,Q,q,te,se,ae,de){var pe=[0],_e=[0],Oe=0,me=de!=null?de.kd:0,Ie=de??new et;if(S==null||12>R)return 7;Ie.data=S,Ie.w=N,Ie.ha=R,N=[N],R=[R],Ie.gb=[Ie.gb];e:{var Fe=N,Ve=R,Pe=Ie.gb;if(e(S!=null),e(Ve!=null),e(Pe!=null),Pe[0]=0,12<=Ve[0]&&!n(S,Fe[0],"RIFF")){if(n(S,Fe[0]+8,"WEBP")){Pe=3;break e}var We=ot(S,Fe[0]+4);if(12>We||4294967286<We){Pe=3;break e}if(me&&We>Ve[0]-8){Pe=7;break e}Pe[0]=We,Fe[0]+=12,Ve[0]-=12}Pe=0}if(Pe!=0)return Pe;for(We=0<Ie.gb[0],R=R[0];;){e:{var qe=S;Ve=N,Pe=R;var it=pe,rt=_e,qt=Fe=[0];if((Ht=Oe=[Oe])[0]=0,8>Pe[0])Pe=7;else{if(!n(qe,Ve[0],"VP8X")){if(ot(qe,Ve[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var Pt=ot(qe,Ve[0]+8),Cn=1+Ge(qe,Ve[0]+12);if(2147483648<=Cn*(qe=1+Ge(qe,Ve[0]+15))){Pe=3;break e}qt!=null&&(qt[0]=Pt),it!=null&&(it[0]=Cn),rt!=null&&(rt[0]=qe),Ve[0]+=18,Pe[0]-=18,Ht[0]=1}Pe=0}}if(Oe=Oe[0],Fe=Fe[0],Pe!=0)return Pe;if(Ve=!!(2&Fe),!We&&Oe)return 3;if(te!=null&&(te[0]=!!(16&Fe)),se!=null&&(se[0]=Ve),ae!=null&&(ae[0]=0),se=pe[0],Fe=_e[0],Oe&&Ve&&de==null){Pe=0;break}if(4>R){Pe=7;break}if(We&&Oe||!We&&!Oe&&!n(S,N[0],"ALPH")){R=[R],Ie.na=[Ie.na],Ie.P=[Ie.P],Ie.Sa=[Ie.Sa];e:{Pt=S,Pe=N,We=R;var Ht=Ie.gb;it=Ie.na,rt=Ie.P,qt=Ie.Sa,Cn=22,e(Pt!=null),e(We!=null),qe=Pe[0];var Wn=We[0];for(e(it!=null),e(qt!=null),it[0]=null,rt[0]=null,qt[0]=0;;){if(Pe[0]=qe,We[0]=Wn,8>Wn){Pe=7;break e}var ui=ot(Pt,qe+4);if(4294967286<ui){Pe=3;break e}var Sn=8+ui+1&-2;if(Cn+=Sn,0<Ht&&Cn>Ht){Pe=3;break e}if(!n(Pt,qe,"VP8 ")||!n(Pt,qe,"VP8L")){Pe=0;break e}if(Wn[0]<Sn){Pe=7;break e}n(Pt,qe,"ALPH")||(it[0]=Pt,rt[0]=qe+8,qt[0]=ui),qe+=Sn,Wn-=Sn}}if(R=R[0],Ie.na=Ie.na[0],Ie.P=Ie.P[0],Ie.Sa=Ie.Sa[0],Pe!=0)break}R=[R],Ie.Ja=[Ie.Ja],Ie.xa=[Ie.xa];e:if(Ht=S,Pe=N,We=R,it=Ie.gb[0],rt=Ie.Ja,qt=Ie.xa,Pt=Pe[0],qe=!n(Ht,Pt,"VP8 "),Cn=!n(Ht,Pt,"VP8L"),e(Ht!=null),e(We!=null),e(rt!=null),e(qt!=null),8>We[0])Pe=7;else{if(qe||Cn){if(Ht=ot(Ht,Pt+4),12<=it&&Ht>it-12){Pe=3;break e}if(me&&Ht>We[0]-8){Pe=7;break e}rt[0]=Ht,Pe[0]+=8,We[0]-=8,qt[0]=Cn}else qt[0]=5<=We[0]&&Ht[Pt+0]==47&&!(Ht[Pt+4]>>5),rt[0]=We[0];Pe=0}if(R=R[0],Ie.Ja=Ie.Ja[0],Ie.xa=Ie.xa[0],N=N[0],Pe!=0)break;if(4294967286<Ie.Ja)return 3;if(ae==null||Ve||(ae[0]=Ie.xa?2:1),se=[se],Fe=[Fe],Ie.xa){if(5>R){Pe=7;break}ae=se,me=Fe,Ve=te,S==null||5>R?S=0:5<=R&&S[N+0]==47&&!(S[N+4]>>5)?(We=[0],Ht=[0],it=[0],Y(rt=new G,S,N,R),Ir(rt,We,Ht,it)?(ae!=null&&(ae[0]=We[0]),me!=null&&(me[0]=Ht[0]),Ve!=null&&(Ve[0]=it[0]),S=1):S=0):S=0}else{if(10>R){Pe=7;break}ae=Fe,S==null||10>R||!gc(S,N+3,R-3)?S=0:(me=S[N+0]|S[N+1]<<8|S[N+2]<<16,Ve=16383&(S[N+7]<<8|S[N+6]),S=16383&(S[N+9]<<8|S[N+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=Ie.Ja||!Ve||!S?S=0:(se&&(se[0]=Ve),ae&&(ae[0]=S),S=1))}if(!S||(se=se[0],Fe=Fe[0],Oe&&(pe[0]!=se||_e[0]!=Fe)))return 3;de!=null&&(de[0]=Ie,de.offset=N-de.w,e(4294967286>N-de.w),e(de.offset==de.ha-R));break}return Pe==0||Pe==7&&Oe&&de==null?(te!=null&&(te[0]|=Ie.na!=null&&0<Ie.na.length),Q!=null&&(Q[0]=se),q!=null&&(q[0]=Fe),0):Pe}function tp(S,N,R){var Q=N.width,q=N.height,te=0,se=0,ae=Q,de=q;if(N.Da=S!=null&&0<S.Da,N.Da&&(ae=S.cd,de=S.bd,te=S.v,se=S.j,11>R||(te&=-2,se&=-2),0>te||0>se||0>=ae||0>=de||te+ae>Q||se+de>q))return 0;if(N.v=te,N.j=se,N.va=te+ae,N.o=se+de,N.U=ae,N.T=de,N.da=S!=null&&0<S.da,N.da){if(!Ue(ae,de,R=[S.ib],te=[S.hb]))return 0;N.ib=R[0],N.hb=te[0]}return N.ob=S!=null&&S.ob,N.Kb=S==null||!S.Sd,N.da&&(N.ob=N.ib<3*Q/4&&N.hb<3*q/4,N.Kb=0),1}function Ec(S){if(S==null)return 2;if(11>S.S){var N=S.f.RGBA;N.fb+=(S.height-1)*N.A,N.A=-N.A}else N=S.f.kb,S=S.height,N.O+=(S-1)*N.fa,N.fa=-N.fa,N.N+=(S-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(S-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(S-1)*N.lb,N.lb=-N.lb);return 0}function kc(S,N,R,Q){if(Q==null||0>=S||0>=N)return 2;if(R!=null){if(R.Da){var q=R.cd,te=R.bd,se=-2&R.v,ae=-2&R.j;if(0>se||0>ae||0>=q||0>=te||se+q>S||ae+te>N)return 2;S=q,N=te}if(R.da){if(!Ue(S,N,q=[R.ib],te=[R.hb]))return 2;S=q[0],N=te[0]}}Q.width=S,Q.height=N;e:{var de=Q.width,pe=Q.height;if(S=Q.S,0>=de||0>=pe||!(S>=Ag&&13>S))S=2;else{if(0>=Q.Rd&&Q.sd==null){se=te=q=N=0;var _e=(ae=de*oU[S])*pe;if(11>S||(te=(pe+1)/2*(N=(de+1)/2),S==12&&(se=(q=de)*pe)),(pe=i(_e+2*te+se))==null){S=1;break e}Q.sd=pe,11>S?((de=Q.f.RGBA).eb=pe,de.fb=0,de.A=ae,de.size=_e):((de=Q.f.kb).y=pe,de.O=0,de.fa=ae,de.Fd=_e,de.f=pe,de.N=0+_e,de.Ab=N,de.Cd=te,de.ea=pe,de.W=0+_e+te,de.Db=N,de.Ed=te,S==12&&(de.F=pe,de.J=0+_e+2*te),de.Tc=se,de.lb=q)}if(N=1,q=Q.S,te=Q.width,se=Q.height,q>=Ag&&13>q)if(11>q)S=Q.f.RGBA,N&=(ae=Math.abs(S.A))*(se-1)+te<=S.size,N&=ae>=te*oU[q],N&=S.eb!=null;else{S=Q.f.kb,ae=(te+1)/2,_e=(se+1)/2,de=Math.abs(S.fa),pe=Math.abs(S.Ab);var Oe=Math.abs(S.Db),me=Math.abs(S.lb),Ie=me*(se-1)+te;N&=de*(se-1)+te<=S.Fd,N&=pe*(_e-1)+ae<=S.Cd,N=(N&=Oe*(_e-1)+ae<=S.Ed)&de>=te&pe>=ae&Oe>=ae,N&=S.y!=null,N&=S.f!=null,N&=S.ea!=null,q==12&&(N&=me>=te,N&=Ie<=S.Tc,N&=S.F!=null)}else N=0;S=N?0:2}}return S!=0||R!=null&&R.fd&&(S=Ec(Q)),S}var El=64,Ro=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xs=24,Wa=32,Tc=8,kl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(S){return S},D.Predictor2=function(S,N,R){return N[R+0]},D.Predictor3=function(S,N,R){return N[R+1]},D.Predictor4=function(S,N,R){return N[R-1]},D.Predictor5=function(S,N,R){return Me(Me(S,N[R+1]),N[R+0])},D.Predictor6=function(S,N,R){return Me(S,N[R-1])},D.Predictor7=function(S,N,R){return Me(S,N[R+0])},D.Predictor8=function(S,N,R){return Me(N[R-1],N[R+0])},D.Predictor9=function(S,N,R){return Me(N[R+0],N[R+1])},D.Predictor10=function(S,N,R){return Me(Me(S,N[R-1]),Me(N[R+0],N[R+1]))},D.Predictor11=function(S,N,R){var Q=N[R+0];return 0>=ct(Q>>24&255,S>>24&255,(N=N[R-1])>>24&255)+ct(Q>>16&255,S>>16&255,N>>16&255)+ct(Q>>8&255,S>>8&255,N>>8&255)+ct(255&Q,255&S,255&N)?Q:S},D.Predictor12=function(S,N,R){var Q=N[R+0];return(St((S>>24&255)+(Q>>24&255)-((N=N[R-1])>>24&255))<<24|St((S>>16&255)+(Q>>16&255)-(N>>16&255))<<16|St((S>>8&255)+(Q>>8&255)-(N>>8&255))<<8|St((255&S)+(255&Q)-(255&N)))>>>0},D.Predictor13=function(S,N,R){var Q=N[R-1];return(Bt((S=Me(S,N[R+0]))>>24&255,Q>>24&255)<<24|Bt(S>>16&255,Q>>16&255)<<16|Bt(S>>8&255,Q>>8&255)<<8|Bt(255&S,255&Q))>>>0};var np=D.PredictorAdd0;D.PredictorAdd1=Nt,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var ao=D.PredictorAdd2;xt("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var As,Fc=D.ColorIndexInverseTransform,Tl=D.MapARGB,qs=D.VP8LColorIndexInverseTransformAlpha,Lu=D.MapAlpha,Kd=D.VP8LPredictorsAdd=[];Kd.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var MA,Du,Fl,Ga,Po,Ll,Dl,Ru,ya,Oo,sr,hr,ds,bs,Lc,lo,Dc,ug,rp,W2,V1,G2,qd,K2,Rl,W1,G1,q2,Pl=i(511),K1=i(2041),q1=i(225),Xd=i(767),X2=0,Yd=K1,Pu=q1,co=Xd,$o=Pl,Ag=0,sp=1,X1=2,ip=3,op=4,dg=5,Y2=6,hg=7,fg=8,pg=9,f=10,w=[2,3,7],B=[3,3,11],k=[280,256,256,256,40],H=[0,1,1,1,0],ne=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ve=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],De=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Qe=8,tt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],wt=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],en=null,Ln=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Mi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Rs=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],wa=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],uo=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Zd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ck=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ou=[],Ka=[],Ol=[],Sk=1,Y1=2,gr=[],Qi=[];_c("UpsampleRgbLinePair",Il,3),_c("UpsampleBgrLinePair",Ds,3),_c("UpsampleRgbaLinePair",Tr,4),_c("UpsampleBgraLinePair",ep,4),_c("UpsampleArgbLinePair",Wd,4),_c("UpsampleRgba4444LinePair",UA,2),_c("UpsampleRgb565LinePair",$A,2);var Bk=D.UpsampleRgbLinePair,_k=D.UpsampleBgrLinePair,Z2=D.UpsampleRgbaLinePair,mg=D.UpsampleBgraLinePair,Z1=D.UpsampleArgbLinePair,J2=D.UpsampleRgba4444LinePair,Foe=D.UpsampleRgb565LinePair,eC=16,tC=1<<eC-1,J1=-227,Nk=482,rU=6,Loe=(256<<rU)-1,sU=0,Doe=i(256),Roe=i(256),Poe=i(256),Ooe=i(256),$oe=i(Nk-J1),Uoe=i(Nk-J1);oo("YuvToRgbRow",Il,3),oo("YuvToBgrRow",Ds,3),oo("YuvToRgbaRow",Tr,4),oo("YuvToBgraRow",ep,4),oo("YuvToArgbRow",Wd,4),oo("YuvToRgba4444Row",UA,2),oo("YuvToRgb565Row",$A,2);var iU=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nC=[0,2,8],Moe=[8,7,6,4,4,2,2,2,1,1,1,1],Qoe=1;this.WebPDecodeRGBA=function(S,N,R,Q,q){var te=sp,se=new ze,ae=new ln;se.ba=ae,ae.S=te,ae.width=[ae.width],ae.height=[ae.height];var de=ae.width,pe=ae.height,_e=new Et;if(_e==null||S==null)var Oe=2;else e(_e!=null),Oe=ga(S,N,R,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(Oe!=0?de=0:(de!=null&&(de[0]=_e.width[0]),pe!=null&&(pe[0]=_e.height[0]),de=1),de){ae.width=ae.width[0],ae.height=ae.height[0],Q!=null&&(Q[0]=ae.width),q!=null&&(q[0]=ae.height);e:{if(Q=new ur,(q=new et).data=S,q.w=N,q.ha=R,q.kd=1,N=[0],e(q!=null),((S=ga(q.data,q.w,q.ha,null,null,null,N,null,q))==0||S==7)&&N[0]&&(S=4),(N=S)==0){if(e(se!=null),Q.data=q.data,Q.w=q.w+q.offset,Q.ha=q.ha-q.offset,Q.put=yt,Q.ac=qn,Q.bc=Br,Q.ma=se,q.xa){if((S=pc())==null){se=1;break e}if(function(me,Ie){var Fe=[0],Ve=[0],Pe=[0];t:for(;;){if(me==null)return 0;if(Ie==null)return me.a=2,0;if(me.l=Ie,me.a=0,Y(me.m,Ie.data,Ie.w,Ie.ha),!Ir(me.m,Fe,Ve,Pe)){me.a=3;break t}if(me.xb=Y1,Ie.width=Fe[0],Ie.height=Ve[0],!Lo(Fe[0],Ve[0],1,me,null))break t;return 1}return e(me.a!=0),0}(S,Q)){if(Q=(N=kc(Q.width,Q.height,se.Oa,se.ba))==0){t:{Q=S;n:for(;;){if(Q==null){Q=0;break t}if(e(Q.s.yc!=null),e(Q.s.Ya!=null),e(0<Q.s.Wb),e((R=Q.l)!=null),e((q=R.ma)!=null),Q.xb!=0){if(Q.ca=q.ba,Q.tb=q.tb,e(Q.ca!=null),!tp(q.Oa,R,ip)){Q.a=2;break n}if(!Sl(Q,R.width)||R.da)break n;if((R.da||Yt(Q.ca.S))&&li(),11>Q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Q.ca.f.kb.F!=null&&li()),Q.Pb&&0<Q.s.ua&&Q.s.vb.X==null&&!le(Q.s.vb,Q.s.Wa.Xa)){Q.a=1;break n}Q.xb=0}if(!Vr(Q,Q.V,Q.Ba,Q.c,Q.i,R.o,ja))break n;q.Dc=Q.Ma,Q=1;break t}e(Q.a!=0),Q=0}Q=!Q}Q&&(N=S.a)}else N=S.a}else{if((S=new Ud)==null){se=1;break e}if(S.Fa=q.na,S.P=q.P,S.qc=q.Sa,da(S,Q)){if((N=kc(Q.width,Q.height,se.Oa,se.ba))==0){if(S.Aa=0,R=se.Oa,e((q=S)!=null),R!=null){if(0<(de=0>(de=R.Md)?0:100<de?255:255*de/100)){for(pe=_e=0;4>pe;++pe)12>(Oe=q.pb[pe]).lc&&(Oe.ia=de*Moe[0>Oe.lc?0:Oe.lc]>>3),_e|=Oe.ia;_e&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=R.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}(function(me,Ie){if(me==null)return 0;if(Ie==null)return kr(me,2,"NULL VP8Io parameter in VP8Decode().");if(!me.cb&&!da(me,Ie))return 0;if(e(me.cb),Ie.ac==null||Ie.ac(Ie)){Ie.ob&&(me.L=0);var Fe=nC[me.L];if(me.L==2?(me.yb=0,me.zb=0):(me.yb=Ie.v-Fe>>4,me.zb=Ie.j-Fe>>4,0>me.yb&&(me.yb=0),0>me.zb&&(me.zb=0)),me.Va=Ie.o+15+Fe>>4,me.Hb=Ie.va+15+Fe>>4,me.Hb>me.za&&(me.Hb=me.za),me.Va>me.Ub&&(me.Va=me.Ub),0<me.L){var Ve=me.ed;for(Fe=0;4>Fe;++Fe){var Pe;if(me.Qa.Cb){var We=me.Qa.Lb[Fe];me.Qa.Fb||(We+=Ve.Tb)}else We=Ve.Tb;for(Pe=0;1>=Pe;++Pe){var qe=me.gd[Fe][Pe],it=We;if(Ve.Pc&&(it+=Ve.vd[0],Pe&&(it+=Ve.od[0])),0<(it=0>it?0:63<it?63:it)){var rt=it;0<Ve.wb&&(rt=4<Ve.wb?rt>>2:rt>>1)>9-Ve.wb&&(rt=9-Ve.wb),1>rt&&(rt=1),qe.dd=rt,qe.tc=2*it+rt,qe.ld=40<=it?2:15<=it?1:0}else qe.tc=0;qe.La=Pe}}}Fe=0}else kr(me,6,"Frame setup failed"),Fe=me.a;if(Fe=Fe==0){if(Fe){me.$c=0,0<me.Aa||(me.Ic=Qoe);t:{Fe=me.Ic,Ve=4*(rt=me.za);var qt=32*rt,Pt=rt+1,Cn=0<me.L?rt*(0<me.Aa?2:1):0,Ht=(me.Aa==2?2:1)*rt;if((qe=Ve+832+(Pe=3*(16*Fe+nC[me.L])/2*qt)+(We=me.Fa!=null&&0<me.Fa.length?me.Kc.c*me.Kc.i:0))!=qe)Fe=0;else{if(qe>me.Vb){if(me.Vb=0,me.Ec=i(qe),me.Fc=0,me.Ec==null){Fe=kr(me,1,"no memory during frame initialization.");break t}me.Vb=qe}qe=me.Ec,it=me.Fc,me.Ac=qe,me.Bc=it,it+=Ve,me.Gd=o(qt,Wf),me.Hd=0,me.rb=o(Pt+1,zf),me.sb=1,me.wa=Cn?o(Cn,Aa):null,me.Y=0,me.D.Nb=0,me.D.wa=me.wa,me.D.Y=me.Y,0<me.Aa&&(me.D.Y+=rt),e(!0),me.oc=qe,me.pc=it,it+=832,me.ya=o(Ht,mc),me.aa=0,me.D.ya=me.ya,me.D.aa=me.aa,me.Aa==2&&(me.D.aa+=rt),me.R=16*rt,me.B=8*rt,rt=(qt=nC[me.L])*me.R,qt=qt/2*me.B,me.sa=qe,me.ta=it+rt,me.qa=me.sa,me.ra=me.ta+16*Fe*me.R+qt,me.Ha=me.qa,me.Ia=me.ra+8*Fe*me.B+qt,me.$c=0,it+=Pe,me.mb=We?qe:null,me.nb=We?it:null,e(it+We<=me.Fc+me.Vb),$r(me),s(me.Ac,me.Bc,0,Ve),Fe=1}}if(Fe){if(Ie.ka=0,Ie.y=me.sa,Ie.O=me.ta,Ie.f=me.qa,Ie.N=me.ra,Ie.ea=me.Ha,Ie.Vd=me.Ia,Ie.fa=me.R,Ie.Rc=me.B,Ie.F=null,Ie.J=0,!X2){for(Fe=-255;255>=Fe;++Fe)Pl[255+Fe]=0>Fe?-Fe:Fe;for(Fe=-1020;1020>=Fe;++Fe)K1[1020+Fe]=-128>Fe?-128:127<Fe?127:Fe;for(Fe=-112;112>=Fe;++Fe)q1[112+Fe]=-16>Fe?-16:15<Fe?15:Fe;for(Fe=-255;510>=Fe;++Fe)Xd[255+Fe]=0>Fe?0:255<Fe?255:Fe;X2=1}Dl=_l,Ru=yc,Oo=or,sr=Bl,hr=Iu,ya=Md,ds=Jf,bs=PA,Lc=K,lo=fe,Dc=cg,ug=E,rp=be,W2=Ee,V1=ai,G2=Sc,qd=Zf,K2=lg,Ka[0]=og,Ka[1]=DA,Ka[2]=ha,Ka[3]=Ar,Ka[4]=Ha,Ka[5]=qf,Ka[6]=za,Ka[7]=vc,Ka[8]=xc,Ka[9]=Tu,Ou[0]=jd,Ou[1]=Kf,Ou[2]=Eu,Ou[3]=Qd,Ou[4]=ku,Ou[5]=RA,Ou[6]=z1,Ol[0]=ag,Ol[1]=Gf,Ol[2]=Wr,Ol[3]=bc,Ol[4]=Hd,Ol[5]=Xf,Ol[6]=zd,Fe=1}else Fe=0}Fe&&(Fe=function(Wn,ui){for(Wn.M=0;Wn.M<Wn.Va;++Wn.M){var Sn,zt=Wn.Jc[Wn.M&Wn.Xb],mt=Wn.m,Ps=Wn;for(Sn=0;Sn<Ps.za;++Sn){var gn=mt,Xn=Ps,Kr=Xn.Ac,ji=Xn.Bc+4*Sn,Uo=Xn.zc,Cs=Xn.ya[Xn.aa+Sn];if(Xn.Qa.Bb?Cs.$b=Ne(gn,Xn.Pa.jb[0])?2+Ne(gn,Xn.Pa.jb[2]):Ne(gn,Xn.Pa.jb[1]):Cs.$b=0,Xn.kc&&(Cs.Ad=Ne(gn,Xn.Bd)),Cs.Za=!Ne(gn,145)+0,Cs.Za){var Ao=Cs.Ob,Mo=0;for(Xn=0;4>Xn;++Xn){var Ai,Jn=Uo[0+Xn];for(Ai=0;4>Ai;++Ai){Jn=uo[Kr[ji+Ai]][Jn];for(var yr=Rs[Ne(gn,Jn[0])];0<yr;)yr=Rs[2*yr+Ne(gn,Jn[yr])];Jn=-yr,Kr[ji+Ai]=Jn}r(Ao,Mo,Kr,ji,4),Mo+=4,Uo[0+Xn]=Jn}}else Jn=Ne(gn,156)?Ne(gn,128)?1:3:Ne(gn,163)?2:0,Cs.Ob[0]=Jn,s(Kr,ji,Jn,4),s(Uo,0,Jn,4);Cs.Dd=Ne(gn,142)?Ne(gn,114)?Ne(gn,183)?1:3:2:0}if(Ps.m.Ka)return kr(Wn,7,"Premature end-of-partition0 encountered.");for(;Wn.ja<Wn.za;++Wn.ja){if(Ps=zt,gn=(mt=Wn).rb[mt.sb-1],Kr=mt.rb[mt.sb+mt.ja],Sn=mt.ya[mt.aa+mt.ja],ji=mt.kc?Sn.Ad:0)gn.la=Kr.la=0,Sn.Za||(gn.Na=Kr.Na=0),Sn.Hc=0,Sn.Gc=0,Sn.ia=0;else{var Ss,wr;if(gn=Kr,Kr=Ps,ji=mt.Pa.Xc,Uo=mt.ya[mt.aa+mt.ja],Cs=mt.pb[Uo.$b],Xn=Uo.ad,Ao=0,Mo=mt.rb[mt.sb-1],Jn=Ai=0,s(Xn,Ao,0,384),Uo.Za)var Hi=0,Rc=ji[3];else{yr=i(16);var Os=gn.Na+Mo.Na;if(Os=en(Kr,ji[1],Os,Cs.Eb,0,yr,0),gn.Na=Mo.Na=(0<Os)+0,1<Os)Dl(yr,0,Xn,Ao);else{var va=yr[0]+3>>3;for(yr=0;256>yr;yr+=16)Xn[Ao+yr]=va}Hi=1,Rc=ji[0]}var Fr=15&gn.la,di=15&Mo.la;for(yr=0;4>yr;++yr){var qa=1&di;for(va=wr=0;4>va;++va)Fr=Fr>>1|(qa=(Os=en(Kr,Rc,Os=qa+(1&Fr),Cs.Sc,Hi,Xn,Ao))>Hi)<<7,wr=wr<<2|(3<Os?3:1<Os?2:Xn[Ao+0]!=0),Ao+=16;Fr>>=4,di=di>>1|qa<<7,Ai=(Ai<<8|wr)>>>0}for(Rc=Fr,Hi=di>>4,Ss=0;4>Ss;Ss+=2){for(wr=0,Fr=gn.la>>4+Ss,di=Mo.la>>4+Ss,yr=0;2>yr;++yr){for(qa=1&di,va=0;2>va;++va)Os=qa+(1&Fr),Fr=Fr>>1|(qa=0<(Os=en(Kr,ji[2],Os,Cs.Qc,0,Xn,Ao)))<<3,wr=wr<<2|(3<Os?3:1<Os?2:Xn[Ao+0]!=0),Ao+=16;Fr>>=2,di=di>>1|qa<<5}Jn|=wr<<4*Ss,Rc|=Fr<<4<<Ss,Hi|=(240&di)<<Ss}gn.la=Rc,Mo.la=Hi,Uo.Hc=Ai,Uo.Gc=Jn,Uo.ia=43690&Jn?0:Cs.ia,ji=!(Ai|Jn)}if(0<mt.L&&(mt.wa[mt.Y+mt.ja]=mt.gd[Sn.$b][Sn.Za],mt.wa[mt.Y+mt.ja].La|=!ji),Ps.Ka)return kr(Wn,7,"Premature end-of-file encountered.")}if($r(Wn),mt=ui,Ps=1,Sn=(zt=Wn).D,gn=0<zt.L&&zt.M>=zt.zb&&zt.M<=zt.Va,zt.Aa==0)t:{if(Sn.M=zt.M,Sn.uc=gn,ma(zt,Sn),Ps=1,Sn=(wr=zt.D).Nb,gn=(Jn=nC[zt.L])*zt.R,Kr=Jn/2*zt.B,yr=16*Sn*zt.R,va=8*Sn*zt.B,ji=zt.sa,Uo=zt.ta-gn+yr,Cs=zt.qa,Xn=zt.ra-Kr+va,Ao=zt.Ha,Mo=zt.Ia-Kr+va,di=(Fr=wr.M)==0,Ai=Fr>=zt.Va-1,zt.Aa==2&&ma(zt,wr),wr.uc)for(qa=(Os=zt).D.M,e(Os.D.uc),wr=Os.yb;wr<Os.Hb;++wr){Hi=wr,Rc=qa;var Qo=(Xa=(zi=Os).D).Nb;Ss=zi.R;var Xa=Xa.wa[Xa.Y+Hi],Ya=zi.sa,xa=zi.ta+16*Qo*Ss+16*Hi,Za=Xa.dd,Ur=Xa.tc;if(Ur!=0)if(e(3<=Ur),zi.L==1)0<Hi&&G2(Ya,xa,Ss,Ur+4),Xa.La&&K2(Ya,xa,Ss,Ur),0<Rc&&V1(Ya,xa,Ss,Ur+4),Xa.La&&qd(Ya,xa,Ss,Ur);else{var Ja=zi.B,Pc=zi.qa,ap=zi.ra+8*Qo*Ja+8*Hi,QA=zi.Ha,zi=zi.Ia+8*Qo*Ja+8*Hi;Qo=Xa.ld,0<Hi&&(bs(Ya,xa,Ss,Ur+4,Za,Qo),lo(Pc,ap,QA,zi,Ja,Ur+4,Za,Qo)),Xa.La&&(ug(Ya,xa,Ss,Ur,Za,Qo),W2(Pc,ap,QA,zi,Ja,Ur,Za,Qo)),0<Rc&&(ds(Ya,xa,Ss,Ur+4,Za,Qo),Lc(Pc,ap,QA,zi,Ja,Ur+4,Za,Qo)),Xa.La&&(Dc(Ya,xa,Ss,Ur,Za,Qo),rp(Pc,ap,QA,zi,Ja,Ur,Za,Qo))}}if(zt.ia&&alert("todo:DitherRow"),mt.put!=null){if(wr=16*Fr,Fr=16*(Fr+1),di?(mt.y=zt.sa,mt.O=zt.ta+yr,mt.f=zt.qa,mt.N=zt.ra+va,mt.ea=zt.Ha,mt.W=zt.Ia+va):(wr-=Jn,mt.y=ji,mt.O=Uo,mt.f=Cs,mt.N=Xn,mt.ea=Ao,mt.W=Mo),Ai||(Fr-=Jn),Fr>mt.o&&(Fr=mt.o),mt.F=null,mt.J=null,zt.Fa!=null&&0<zt.Fa.length&&wr<Fr&&(mt.J=dr(zt,mt,wr,Fr-wr),mt.F=zt.mb,mt.F==null&&mt.F.length==0)){Ps=kr(zt,3,"Could not decode alpha data.");break t}wr<mt.j&&(Jn=mt.j-wr,wr=mt.j,e(!(1&Jn)),mt.O+=zt.R*Jn,mt.N+=zt.B*(Jn>>1),mt.W+=zt.B*(Jn>>1),mt.F!=null&&(mt.J+=mt.width*Jn)),wr<Fr&&(mt.O+=mt.v,mt.N+=mt.v>>1,mt.W+=mt.v>>1,mt.F!=null&&(mt.J+=mt.v),mt.ka=wr-mt.j,mt.U=mt.va-mt.v,mt.T=Fr-wr,Ps=mt.put(mt))}Sn+1!=zt.Ic||Ai||(r(zt.sa,zt.ta-gn,ji,Uo+16*zt.R,gn),r(zt.qa,zt.ra-Kr,Cs,Xn+8*zt.B,Kr),r(zt.Ha,zt.Ia-Kr,Ao,Mo+8*zt.B,Kr))}if(!Ps)return kr(Wn,6,"Output aborted.")}return 1}(me,Ie)),Ie.bc!=null&&Ie.bc(Ie),Fe&=1}return Fe?(me.cb=0,Fe):0})(S,Q)||(N=S.a)}}else N=S.a}N==0&&se.Oa!=null&&se.Oa.fd&&(N=Ec(se.ba))}se=N}te=se!=0?null:11>te?ae.f.RGBA.eb:ae.f.kb.y}else te=null;return te};var oU=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(D,j){for(var O="",U=0;U<4;U++)O+=String.fromCharCode(D[j++]);return O}function u(D,j){return D[j+0]|D[j+1]<<8}function A(D,j){return(D[j+0]|D[j+1]<<8|D[j+2]<<16)>>>0}function d(D,j){return(D[j+0]|D[j+1]<<8|D[j+2]<<16|D[j+3]<<24)>>>0}new l;var h=[0],p=[0],m=[],y=new l,g=t,v=function(D,j){var O={},U=0,W=!1,$=0,J=0;if(O.frames=[],!function(z,G){for(var X=0;X<4;X++)if(z[G+X]!="RIFF".charCodeAt(X))return!0;return!1}(D,j)){for(d(D,j+=4),j+=8;j<D.length;){var Z=c(D,j),oe=d(D,j+=4);j+=4;var V=oe+(1&oe);switch(Z){case"VP8 ":case"VP8L":O.frames[U]===void 0&&(O.frames[U]={}),(he=O.frames[U]).src_off=W?J:j-8,he.src_size=$+oe+8,U++,W&&(W=!1,$=0,J=0);break;case"VP8X":(he=O.header={}).feature_flags=D[j];var Y=j+4;he.canvas_width=1+A(D,Y),Y+=3,he.canvas_height=1+A(D,Y),Y+=3;break;case"ALPH":W=!0,$=V+8,J=j-8;break;case"ANIM":(he=O.header).bgcolor=d(D,j),Y=j+4,he.loop_count=u(D,Y),Y+=2;break;case"ANMF":var ce,he;(he=O.frames[U]={}).offset_x=2*A(D,j),j+=3,he.offset_y=2*A(D,j),j+=3,he.width=1+A(D,j),j+=3,he.height=1+A(D,j),j+=3,he.duration=A(D,j),j+=3,ce=D[j++],he.dispose=1&ce,he.blend=ce>>1&1}Z!="ANMF"&&(j+=V)}return O}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var b=v.header?v.header:null,C=v.frames?v.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],p=[b.canvas_width];for(var _=0;_<C.length&&C[_].blend!=0;_++);}var I=C[0],T=y.WebPDecodeRGBA(g,I.src_off,I.src_size,p,h);I.rgba=T,I.imgwidth=p[0],I.imgheight=h[0];for(var F=0;F<p[0]*h[0]*4;F++)m[F]=T[F];return this.width=p,this.height=h,this.data=m,this}(function(t){var e,n,r,s,i,o,a,l,c,u=function(z){return z=z||{},this.isStrokeTransparent=z.isStrokeTransparent||!1,this.strokeOpacity=z.strokeOpacity||1,this.strokeStyle=z.strokeStyle||"#000000",this.fillStyle=z.fillStyle||"#000000",this.isFillTransparent=z.isFillTransparent||!1,this.fillOpacity=z.fillOpacity||1,this.font=z.font||"10px sans-serif",this.textBaseline=z.textBaseline||"alphabetic",this.textAlign=z.textAlign||"left",this.lineWidth=z.lineWidth||1,this.lineJoin=z.lineJoin||"miter",this.lineCap=z.lineCap||"butt",this.path=z.path||[],this.transform=z.transform!==void 0?z.transform.clone():new l,this.globalCompositeOperation=z.globalCompositeOperation||"normal",this.globalAlpha=z.globalAlpha||1,this.clip_path=z.clip_path||[],this.currentPoint=z.currentPoint||new o,this.miterLimit=z.miterLimit||10,this.lastPoint=z.lastPoint||new o,this.lineDashOffset=z.lineDashOffset||0,this.lineDash=z.lineDash||[],this.margin=z.margin||[0,0,0,0],this.prevPageLastElemOffset=z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof z.ignoreClearRect!="boolean"||z.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new A(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var A=function(z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=z;Object.defineProperty(this,"pdf",{get:function(){return G}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(le){X=!!le}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(le){re=!!le}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(le){isNaN(le)||(ue=le)}});var Ae=0;Object.defineProperty(this,"posY",{get:function(){return Ae},set:function(le){isNaN(le)||(Ae=le)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(le){var Xe;typeof le=="number"?Xe=[le,le,le,le]:((Xe=new Array(4))[0]=le[0],Xe[1]=le.length>=2?le[1]:Xe[0],Xe[2]=le.length>=3?le[2]:Xe[0],Xe[3]=le.length>=4?le[3]:Xe[1]),c.margin=Xe}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(le){we=le}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(le){Ce=le}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(le){Ne=le}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(le){le instanceof u&&(c=le)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(le){c.path=le}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(le){ke=le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(le){var Xe;Xe=d(le),this.ctx.fillStyle=Xe.style,this.ctx.isFillTransparent=Xe.a===0,this.ctx.fillOpacity=Xe.a,this.pdf.setFillColor(Xe.r,Xe.g,Xe.b,{a:Xe.a}),this.pdf.setTextColor(Xe.r,Xe.g,Xe.b,{a:Xe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(le){var Xe=d(le);this.ctx.strokeStyle=Xe.style,this.ctx.isStrokeTransparent=Xe.a===0,this.ctx.strokeOpacity=Xe.a,Xe.a===0?this.pdf.setDrawColor(255,255,255):(Xe.a,this.pdf.setDrawColor(Xe.r,Xe.g,Xe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(le){["butt","round","square"].indexOf(le)!==-1&&(this.ctx.lineCap=le,this.pdf.setLineCap(le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(le){isNaN(le)||(this.ctx.lineWidth=le,this.pdf.setLineWidth(le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(le){["bevel","round","miter"].indexOf(le)!==-1&&(this.ctx.lineJoin=le,this.pdf.setLineJoin(le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(le){isNaN(le)||(this.ctx.miterLimit=le,this.pdf.setMiterLimit(le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(le){this.ctx.textBaseline=le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(le){["right","end","center","left","start"].indexOf(le)!==-1&&(this.ctx.textAlign=le)}});var je=null,Ge=null,ot=null;Object.defineProperty(this,"fontFaces",{get:function(){return ot},set:function(le){je=null,Ge=null,ot=le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(le){var Xe;if(this.ctx.font=le,(Xe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(le))!==null){var dt=Xe[1];Xe[2];var Ue=Xe[3],Re=Xe[4];Xe[5];var Ke=Xe[6],Ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Re)[2];Re=Math.floor(Ze==="px"?parseFloat(Re)*this.pdf.internal.scaleFactor:Ze==="em"?parseFloat(Re)*this.pdf.getFontSize():parseFloat(Re)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Re);var st=function(xt){var kn,dn,Wt=[],Jt=xt.trim();if(Jt==="")return O5;if(Jt in lH)return[lH[Jt]];for(;Jt!=="";){switch(dn=null,kn=(Jt=uH(Jt)).charAt(0)){case'"':case"'":dn=yke(Jt.substring(1),kn);break;default:dn=wke(Jt)}if(dn===null||(Wt.push(dn[0]),(Jt=uH(dn[1]))!==""&&Jt.charAt(0)!==","))return O5;Jt=Jt.replace(/^,/,"")}return Wt}(Ke);if(this.fontFaces){var Me=function(xt,kn){var dn=xt.getFontList(),Wt=JSON.stringify(dn);if(je===null||Ge!==Wt){var Jt=function(Tn){var Rt=[];return Object.keys(Tn).forEach(function(Vn){Tn[Vn].forEach(function(Yt){var rn=null;switch(Yt){case"bold":rn={family:Vn,weight:"bold"};break;case"italic":rn={family:Vn,style:"italic"};break;case"bolditalic":rn={family:Vn,weight:"bold",style:"italic"};break;case"":case"normal":rn={family:Vn}}rn!==null&&(rn.ref={name:Vn,style:Yt},Rt.push(rn))})}),Rt}(dn);je=function(Tn){for(var Rt={},Vn=0;Vn<Tn.length;++Vn){var Yt=P5(Tn[Vn]),rn=Yt.family,nr=Yt.stretch,ln=Yt.style,Et=Yt.weight;Rt[rn]=Rt[rn]||{},Rt[rn][nr]=Rt[rn][nr]||{},Rt[rn][nr][ln]=Rt[rn][nr][ln]||{},Rt[rn][nr][ln][Et]=Yt}return Rt}(Jt.concat(kn)),Ge=Wt}return je}(this.pdf,this.fontFaces),St=st.map(function(xt){return{family:xt,stretch:"normal",weight:Ue,style:dt}}),Bt=function(xt,kn,dn){for(var Wt=(dn=dn||{}).defaultFontFamily||"times",Jt=Object.assign({},gke,dn.genericFontFamilies||{}),Tn=null,Rt=null,Vn=0;Vn<kn.length;++Vn)if(Jt[(Tn=P5(kn[Vn])).family]&&(Tn.family=Jt[Tn.family]),xt.hasOwnProperty(Tn.family)){Rt=xt[Tn.family];break}if(!(Rt=Rt||xt[Wt]))throw new Error("Could not find a font-family for the rule '"+cH(Tn)+"' and default family '"+Wt+"'.");if(Rt=function(Yt,rn){if(rn[Yt])return rn[Yt];var nr=P3[Yt],ln=nr<=P3.normal?-1:1,Et=aH(rn,vJ,nr,ln);if(!Et)throw new Error("Could not find a matching font-stretch value for "+Yt);return Et}(Tn.stretch,Rt),Rt=function(Yt,rn){if(rn[Yt])return rn[Yt];for(var nr=wJ[Yt],ln=0;ln<nr.length;++ln)if(rn[nr[ln]])return rn[nr[ln]];throw new Error("Could not find a matching font-style for "+Yt)}(Tn.style,Rt),!(Rt=function(Yt,rn){if(rn[Yt])return rn[Yt];if(Yt===400&&rn[500])return rn[500];if(Yt===500&&rn[400])return rn[400];var nr=mke[Yt],ln=aH(rn,xJ,nr,Yt<400?-1:1);if(!ln)throw new Error("Could not find a matching font-weight for value "+Yt);return ln}(Tn.weight,Rt)))throw new Error("Failed to resolve a font for the rule '"+cH(Tn)+"'.");return Rt}(Me,St);this.pdf.setFont(Bt.ref.name,Bt.ref.style)}else{var ct="";(Ue==="bold"||parseInt(Ue,10)>=700||dt==="bold")&&(ct="bold"),dt==="italic"&&(ct+="italic"),ct.length===0&&(ct="normal");for(var Nt="",Dt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<st.length;gt++){if(this.pdf.internal.getFont(st[gt],ct,{noFallback:!0,disableWarning:!0})!==void 0){Nt=st[gt];break}if(ct==="bolditalic"&&this.pdf.internal.getFont(st[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=st[gt],ct="bold";else if(this.pdf.internal.getFont(st[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=st[gt],ct="normal";break}}if(Nt===""){for(var Vt=0;Vt<st.length;Vt++)if(Dt[st[Vt]]){Nt=Dt[st[Vt]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(le){this.ctx.globalCompositeOperation=le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(le){this.ctx.globalAlpha=le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(le){this.ctx.lineDashOffset=le,he.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(le){this.ctx.lineDash=le,he.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(le){this.ctx.ignoreClearRect=!!le}})};A.prototype.setLineDash=function(z){this.lineDash=z},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){C.call(this,"fill",!1)},A.prototype.stroke=function(){C.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(z,G){if(isNaN(z)||isNaN(G))throw Lr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new o(z,G));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(z,G)},A.prototype.closePath=function(){var z=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&xr(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){z=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(z.x,z.y)},A.prototype.lineTo=function(z,G){if(isNaN(z)||isNaN(G))throw Lr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new o(z,G));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},A.prototype.quadraticCurveTo=function(z,G,X,re){if(isNaN(X)||isNaN(re)||isNaN(z)||isNaN(G))throw Lr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new o(X,re)),Ae=this.ctx.transform.applyToPoint(new o(z,G));this.path.push({type:"qct",x1:Ae.x,y1:Ae.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},A.prototype.bezierCurveTo=function(z,G,X,re,ue,Ae){if(isNaN(ue)||isNaN(Ae)||isNaN(z)||isNaN(G)||isNaN(X)||isNaN(re))throw Lr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new o(ue,Ae)),Ce=this.ctx.transform.applyToPoint(new o(z,G)),Ne=this.ctx.transform.applyToPoint(new o(X,re));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:Ne.x,y2:Ne.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},A.prototype.arc=function(z,G,X,re,ue,Ae){if(isNaN(z)||isNaN(G)||isNaN(X)||isNaN(re)||isNaN(ue))throw Lr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ae=!!Ae,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new o(z,G));z=we.x,G=we.y;var Ce=this.ctx.transform.applyToPoint(new o(0,X)),Ne=this.ctx.transform.applyToPoint(new o(0,0));X=Math.sqrt(Math.pow(Ce.x-Ne.x,2)+Math.pow(Ce.y-Ne.y,2))}Math.abs(ue-re)>=2*Math.PI&&(re=0,ue=2*Math.PI),this.path.push({type:"arc",x:z,y:G,radius:X,startAngle:re,endAngle:ue,counterclockwise:Ae})},A.prototype.arcTo=function(z,G,X,re,ue){throw new Error("arcTo not implemented.")},A.prototype.rect=function(z,G,X,re){if(isNaN(z)||isNaN(G)||isNaN(X)||isNaN(re))throw Lr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(z,G),this.lineTo(z+X,G),this.lineTo(z+X,G+re),this.lineTo(z,G+re),this.lineTo(z,G),this.lineTo(z+X,G),this.lineTo(z,G)},A.prototype.fillRect=function(z,G,X,re){if(isNaN(z)||isNaN(G)||isNaN(X)||isNaN(re))throw Lr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(z,G,X,re),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},A.prototype.strokeRect=function(z,G,X,re){if(isNaN(z)||isNaN(G)||isNaN(X)||isNaN(re))throw Lr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(z,G,X,re),this.stroke())},A.prototype.clearRect=function(z,G,X,re){if(isNaN(z)||isNaN(G)||isNaN(X)||isNaN(re))throw Lr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(z,G,X,re))},A.prototype.save=function(z){z=typeof z!="boolean"||z;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),z){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},A.prototype.restore=function(z){z=typeof z!="boolean"||z;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(G),z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(z){var G,X,re,ue;if(z.isCanvasGradient===!0&&(z=z.getColor()),!z)return{r:0,g:0,b:0,a:0,style:z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(z))G=0,X=0,re=0,ue=0;else{var Ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(z);if(Ae!==null)G=parseInt(Ae[1]),X=parseInt(Ae[2]),re=parseInt(Ae[3]),ue=1;else if((Ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(z))!==null)G=parseInt(Ae[1]),X=parseInt(Ae[2]),re=parseInt(Ae[3]),ue=parseFloat(Ae[4]);else{if(ue=1,typeof z=="string"&&z.charAt(0)!=="#"){var we=new dJ(z);z=we.ok?we.toHex():"#000000"}z.length===4?(G=z.substring(1,2),G+=G,X=z.substring(2,3),X+=X,re=z.substring(3,4),re+=re):(G=z.substring(1,3),X=z.substring(3,5),re=z.substring(5,7)),G=parseInt(G,16),X=parseInt(X,16),re=parseInt(re,16)}}return{r:G,g:X,b:re,a:ue,style:z}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(z,G,X,re){if(isNaN(G)||isNaN(X)||typeof z!="string")throw Lr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!h.call(this)){var ue=V(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;U.call(this,{text:z,x:G,y:X,scale:Ae,angle:ue,align:this.textAlign,maxWidth:re})}},A.prototype.strokeText=function(z,G,X,re){if(isNaN(G)||isNaN(X)||typeof z!="string")throw Lr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){re=isNaN(re)?void 0:re;var ue=V(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;U.call(this,{text:z,x:G,y:X,scale:Ae,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:re})}},A.prototype.measureText=function(z){if(typeof z!="string")throw Lr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,X=this.pdf.internal.scaleFactor,re=G.internal.getFontSize(),ue=G.getStringUnitWidth(z)*re/G.internal.scaleFactor;return new function(Ae){var we=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this}({width:ue*=Math.round(96*X/72*1e4)/1e4})},A.prototype.scale=function(z,G){if(isNaN(z)||isNaN(G))throw Lr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(z,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},A.prototype.rotate=function(z){if(isNaN(z))throw Lr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new l(Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},A.prototype.translate=function(z,G){if(isNaN(z)||isNaN(G))throw Lr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,z,G);this.ctx.transform=this.ctx.transform.multiply(X)},A.prototype.transform=function(z,G,X,re,ue,Ae){if(isNaN(z)||isNaN(G)||isNaN(X)||isNaN(re)||isNaN(ue)||isNaN(Ae))throw Lr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new l(z,G,X,re,ue,Ae);this.ctx.transform=this.ctx.transform.multiply(we)},A.prototype.setTransform=function(z,G,X,re,ue,Ae){z=isNaN(z)?1:z,G=isNaN(G)?0:G,X=isNaN(X)?0:X,re=isNaN(re)?1:re,ue=isNaN(ue)?0:ue,Ae=isNaN(Ae)?0:Ae,this.ctx.transform=new l(z,G,X,re,ue,Ae)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(z,G,X,re,ue,Ae,we,Ce,Ne){var ke=this.pdf.getImageProperties(z),je=1,Ge=1,ot=1,le=1;re!==void 0&&Ce!==void 0&&(ot=Ce/re,le=Ne/ue,je=ke.width/re*Ce/re,Ge=ke.height/ue*Ne/ue),Ae===void 0&&(Ae=G,we=X,G=0,X=0),re!==void 0&&Ce===void 0&&(Ce=re,Ne=ue),re===void 0&&Ce===void 0&&(Ce=ke.width,Ne=ke.height);var Xe=this.ctx.transform.decompose(),dt=V(Xe.rotate.shx),Ue=new l,Re=(Ue=(Ue=(Ue=Ue.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale)).applyToRectangle(new a(Ae-G*ot,we-X*le,re*je,ue*Ge));if(this.autoPaging){for(var Ke,Ze=y.call(this,Re),st=[],Me=0;Me<Ze.length;Me+=1)st.indexOf(Ze[Me])===-1&&st.push(Ze[Me]);b(st);for(var St=st[0],Bt=st[st.length-1],ct=St;ct<Bt+1;ct++){this.pdf.setPage(ct);var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Dt=ct===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xt=ct===1?0:gt+(ct-2)*Vt;if(this.ctx.clip_path.length!==0){var kn=this.path;Ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Ke,this.posX+this.margin[3],-xt+Dt+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=kn}var dn=JSON.parse(JSON.stringify(Re));dn=v([dn],this.posX+this.margin[3],-xt+Dt+this.ctx.prevPageLastElemOffset)[0];var Wt=(ct>St||ct<Bt)&&m.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,Vt,null).clip().discardPath()),this.pdf.addImage(z,"JPEG",dn.x,dn.y,dn.w,dn.h,null,null,dt),Wt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(z,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,dt)};var y=function(z,G,X){var re=[];G=G||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(z.type){default:case"mt":case"lt":re.push(Math.floor((z.y+ue)/X)+1);break;case"arc":re.push(Math.floor((z.y+ue-z.radius)/X)+1),re.push(Math.floor((z.y+ue+z.radius)/X)+1);break;case"qct":var Ae=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x,z.y);re.push(Math.floor((Ae.y+ue)/X)+1),re.push(Math.floor((Ae.y+Ae.h+ue)/X)+1);break;case"bct":var we=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x2,z.y2,z.x,z.y);re.push(Math.floor((we.y+ue)/X)+1),re.push(Math.floor((we.y+we.h+ue)/X)+1);break;case"rect":re.push(Math.floor((z.y+ue)/X)+1),re.push(Math.floor((z.y+z.h+ue)/X)+1)}for(var Ce=0;Ce<re.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<re[Ce];)g.call(this);return re},g=function(){var z=this.fillStyle,G=this.strokeStyle,X=this.font,re=this.lineCap,ue=this.lineWidth,Ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=z,this.strokeStyle=G,this.font=X,this.lineCap=re,this.lineWidth=ue,this.lineJoin=Ae},v=function(z,G,X){for(var re=0;re<z.length;re++)switch(z[re].type){case"bct":z[re].x2+=G,z[re].y2+=X;case"qct":z[re].x1+=G,z[re].y1+=X;default:z[re].x+=G,z[re].y+=X}return z},b=function(z){return z.sort(function(G,X){return G-X})},C=function(z,G){var X=this.fillStyle,re=this.strokeStyle,ue=this.lineCap,Ae=this.lineWidth,we=Math.abs(Ae*this.ctx.transform.scaleX),Ce=this.lineJoin;if(this.autoPaging){for(var Ne,ke,je=JSON.parse(JSON.stringify(this.path)),Ge=JSON.parse(JSON.stringify(this.path)),ot=[],le=0;le<Ge.length;le++)if(Ge[le].x!==void 0)for(var Xe=y.call(this,Ge[le]),dt=0;dt<Xe.length;dt+=1)ot.indexOf(Xe[dt])===-1&&ot.push(Xe[dt]);for(var Ue=0;Ue<ot.length;Ue++)for(;this.pdf.internal.getNumberOfPages()<ot[Ue];)g.call(this);b(ot);for(var Re=ot[0],Ke=ot[ot.length-1],Ze=Re;Ze<Ke+1;Ze++){this.pdf.setPage(Ze),this.fillStyle=X,this.strokeStyle=re,this.lineCap=ue,this.lineWidth=we,this.lineJoin=Ce;var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Me=Ze===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=Ze===1?0:St+(Ze-2)*Bt;if(this.ctx.clip_path.length!==0){var Nt=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Ne,this.posX+this.margin[3],-ct+Me+this.ctx.prevPageLastElemOffset),_.call(this,z,!0),this.path=Nt}if(ke=JSON.parse(JSON.stringify(je)),this.path=v(ke,this.posX+this.margin[3],-ct+Me+this.ctx.prevPageLastElemOffset),G===!1||Ze===0){var Dt=(Ze>Re||Ze<Ke)&&m.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Bt,null).clip().discardPath()),_.call(this,z,G),Dt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}this.path=je}else this.lineWidth=we,_.call(this,z,G),this.lineWidth=Ae},_=function(z,G){if((z!=="stroke"||G||!p.call(this))&&(z==="stroke"||G||!h.call(this))){for(var X,re,ue=[],Ae=this.path,we=0;we<Ae.length;we++){var Ce=Ae[we];switch(Ce.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:Ce,deltas:[],abs:[]});break;case"lt":var Ne=ue.length;if(Ae[we-1]&&!isNaN(Ae[we-1].x)&&(X=[Ce.x-Ae[we-1].x,Ce.y-Ae[we-1].y],Ne>0)){for(;Ne>=0;Ne--)if(ue[Ne-1].close!==!0&&ue[Ne-1].begin!==!0){ue[Ne-1].deltas.push(X),ue[Ne-1].abs.push(Ce);break}}break;case"bct":X=[Ce.x1-Ae[we-1].x,Ce.y1-Ae[we-1].y,Ce.x2-Ae[we-1].x,Ce.y2-Ae[we-1].y,Ce.x-Ae[we-1].x,Ce.y-Ae[we-1].y],ue[ue.length-1].deltas.push(X);break;case"qct":var ke=Ae[we-1].x+2/3*(Ce.x1-Ae[we-1].x),je=Ae[we-1].y+2/3*(Ce.y1-Ae[we-1].y),Ge=Ce.x+2/3*(Ce.x1-Ce.x),ot=Ce.y+2/3*(Ce.y1-Ce.y),le=Ce.x,Xe=Ce.y;X=[ke-Ae[we-1].x,je-Ae[we-1].y,Ge-Ae[we-1].x,ot-Ae[we-1].y,le-Ae[we-1].x,Xe-Ae[we-1].y],ue[ue.length-1].deltas.push(X);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(Ce)}}re=G?null:z==="stroke"?"stroke":"fill";for(var dt=!1,Ue=0;Ue<ue.length;Ue++)if(ue[Ue].arc)for(var Re=ue[Ue].abs,Ke=0;Ke<Re.length;Ke++){var Ze=Re[Ke];Ze.type==="arc"?F.call(this,Ze.x,Ze.y,Ze.radius,Ze.startAngle,Ze.endAngle,Ze.counterclockwise,void 0,G,!dt):W.call(this,Ze.x,Ze.y),dt=!0}else if(ue[Ue].close===!0)this.pdf.internal.out("h"),dt=!1;else if(ue[Ue].begin!==!0){var st=ue[Ue].start.x,Me=ue[Ue].start.y;$.call(this,ue[Ue].deltas,st,Me),dt=!0}re&&D.call(this,re),G&&j.call(this)}},I=function(z){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return z-X;case"top":return z+G-X;case"hanging":return z+G-2*X;case"middle":return z+G/2-X;default:return z}},T=function(z){return z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var z=function(){};return z.colorStops=[],z.addColorStop=function(G,X){this.colorStops.push([G,X])},z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},z.isCanvasGradient=!0,z},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(z,G,X,re,ue,Ae,we,Ce,Ne){for(var ke=Z.call(this,X,re,ue,Ae),je=0;je<ke.length;je++){var Ge=ke[je];je===0&&(Ne?O.call(this,Ge.x1+z,Ge.y1+G):W.call(this,Ge.x1+z,Ge.y1+G)),J.call(this,z,G,Ge.x2,Ge.y2,Ge.x3,Ge.y3,Ge.x4,Ge.y4)}Ce?j.call(this):D.call(this,we)},D=function(z){switch(z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(z,G){this.pdf.internal.out(n(z)+" "+r(G)+" m")},U=function(z){var G;switch(z.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var X,re,ue,Ae=this.pdf.getTextDimensions(z.text),we=I.call(this,z.y),Ce=T.call(this,we)-Ae.h,Ne=this.ctx.transform.applyToPoint(new o(z.x,we));if(this.autoPaging){var ke=this.ctx.transform.decompose(),je=new l;je=(je=(je=je.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var Ge=this.ctx.transform.applyToRectangle(new a(z.x,we,Ae.w,Ae.h)),ot=je.applyToRectangle(new a(z.x,Ce,Ae.w,Ae.h)),le=y.call(this,ot),Xe=[],dt=0;dt<le.length;dt+=1)Xe.indexOf(le[dt])===-1&&Xe.push(le[dt]);b(Xe);for(var Ue=Xe[0],Re=Xe[Xe.length-1],Ke=Ue;Ke<Re+1;Ke++){this.pdf.setPage(Ke);var Ze=Ke===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Me=this.pdf.internal.pageSize.height-this.margin[2],St=Me-this.margin[0],Bt=this.pdf.internal.pageSize.width-this.margin[1],ct=Bt-this.margin[3],Nt=Ke===1?0:st+(Ke-2)*St;if(this.ctx.clip_path.length!==0){var Dt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(X,this.posX+this.margin[3],-1*Nt+Ze),_.call(this,"fill",!0),this.path=Dt}var gt=v([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-Nt+Ze+this.ctx.prevPageLastElemOffset)[0];z.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*z.scale),ue=this.lineWidth,this.lineWidth=ue*z.scale);var Vt=this.autoPaging!=="text";if(Vt||gt.y+gt.h<=Me){if(Vt||gt.y>=Ze&&gt.x<=Bt){var xt=Vt?z.text:this.pdf.splitTextToSize(z.text,z.maxWidth||Bt-gt.x)[0],kn=v([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-Nt+Ze+this.ctx.prevPageLastElemOffset)[0],dn=Vt&&(Ke>Ue||Ke<Re)&&m.call(this);dn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,St,null).clip().discardPath()),this.pdf.text(xt,kn.x,kn.y,{angle:z.angle,align:G,renderingMode:z.renderingMode}),dn&&this.pdf.restoreGraphicsState()}}else gt.y<Me&&(this.ctx.prevPageLastElemOffset+=Me-gt.y);z.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ue)}}else z.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*z.scale),ue=this.lineWidth,this.lineWidth=ue*z.scale),this.pdf.text(z.text,Ne.x+this.posX,Ne.y+this.posY,{angle:z.angle,align:G,renderingMode:z.renderingMode,maxWidth:z.maxWidth}),z.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ue)},W=function(z,G,X,re){X=X||0,re=re||0,this.pdf.internal.out(n(z+X)+" "+r(G+re)+" l")},$=function(z,G,X){return this.pdf.lines(z,G,X,null,null)},J=function(z,G,X,re,ue,Ae,we,Ce){this.pdf.internal.out([e(s(X+z)),e(i(re+G)),e(s(ue+z)),e(i(Ae+G)),e(s(we+z)),e(i(Ce+G)),"c"].join(" "))},Z=function(z,G,X,re){for(var ue=2*Math.PI,Ae=Math.PI/2;G>X;)G-=ue;var we=Math.abs(X-G);we<ue&&re&&(we=ue-we);for(var Ce=[],Ne=re?-1:1,ke=G;we>1e-5;){var je=ke+Ne*Math.min(we,Ae);Ce.push(oe.call(this,z,ke,je)),we-=Math.abs(je-ke),ke=je}return Ce},oe=function(z,G,X){var re=(X-G)/2,ue=z*Math.cos(re),Ae=z*Math.sin(re),we=ue,Ce=-Ae,Ne=we*we+Ce*Ce,ke=Ne+we*ue+Ce*Ae,je=4/3*(Math.sqrt(2*Ne*ke)-ke)/(we*Ae-Ce*ue),Ge=we-je*Ce,ot=Ce+je*we,le=Ge,Xe=-ot,dt=re+G,Ue=Math.cos(dt),Re=Math.sin(dt);return{x1:z*Math.cos(G),y1:z*Math.sin(G),x2:Ge*Ue-ot*Re,y2:Ge*Re+ot*Ue,x3:le*Ue-Xe*Re,y3:le*Re+Xe*Ue,x4:z*Math.cos(X),y4:z*Math.sin(X)}},V=function(z){return 180*z/Math.PI},Y=function(z,G,X,re,ue,Ae){var we=z+.5*(X-z),Ce=G+.5*(re-G),Ne=ue+.5*(X-ue),ke=Ae+.5*(re-Ae),je=Math.min(z,ue,we,Ne),Ge=Math.max(z,ue,we,Ne),ot=Math.min(G,Ae,Ce,ke),le=Math.max(G,Ae,Ce,ke);return new a(je,ot,Ge-je,le-ot)},ce=function(z,G,X,re,ue,Ae,we,Ce){var Ne,ke,je,Ge,ot,le,Xe,dt,Ue,Re,Ke,Ze,st,Me,St=X-z,Bt=re-G,ct=ue-X,Nt=Ae-re,Dt=we-ue,gt=Ce-Ae;for(ke=0;ke<41;ke++)Ue=(Xe=(je=z+(Ne=ke/40)*St)+Ne*((ot=X+Ne*ct)-je))+Ne*(ot+Ne*(ue+Ne*Dt-ot)-Xe),Re=(dt=(Ge=G+Ne*Bt)+Ne*((le=re+Ne*Nt)-Ge))+Ne*(le+Ne*(Ae+Ne*gt-le)-dt),ke==0?(Ke=Ue,Ze=Re,st=Ue,Me=Re):(Ke=Math.min(Ke,Ue),Ze=Math.min(Ze,Re),st=Math.max(st,Ue),Me=Math.max(Me,Re));return new a(Math.round(Ke),Math.round(Ze),Math.round(st-Ke),Math.round(Me-Ze))},he=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z,G,X=(z=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:z,lineDashOffset:G}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Zt.API),function(t){var e=function(o){var a,l,c,u,A,d,h,p,m,y;for(l=[],c=0,u=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;u>c;c+=4)(A=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(d=(A=((A=((A=((A=(A-(y=A%85))/85)-(m=A%85))/85)-(p=A%85))/85)-(h=A%85))/85)%85,l.push(d+33,h+33,p+33,m+33,y+33)):l.push(122);return function(g,v){for(var b=v;b>0;b--)g.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,c,u,A,d=String,h="length",p=255,m="charCodeAt",y="slice",g="replace";for(o[y](-2),o=o[y](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],u=0,A=(o+=a="uuuuu"[y](o[h]%5||5))[h];A>u;u+=5)l=52200625*(o[m](u)-33)+614125*(o[m](u+1)-33)+7225*(o[m](u+2)-33)+85*(o[m](u+3)-33)+(o[m](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(v,b){for(var C=b;C>0;C--)v.pop()}(c,a[h]),d.fromCharCode.apply(d,c)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},i=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=C3(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(o,a){var l=0,c=o||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=s(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Zt.API),function(t){t.loadFile=function(e,n,r){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var A=new XMLHttpRequest,d=0,h=function(p){var m=p.length,y=[],g=String.fromCharCode;for(d=0;d<m;d+=1)y.push(g(255&p.charCodeAt(d)));return y.join("")};if(A.open("GET",l,!c),A.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(A.onload=function(){A.status===200?u(h(this.responseText)):u(void 0)}),A.send(null),c&&A.status===200)return h(A.responseText)}(s,i,o)}catch{}return a}(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(Zt.API),function(t){function e(){return(An.html2canvas?Promise.resolve(An.html2canvas):d5(()=>Promise.resolve().then(()=>R_e),void 0)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(An.DOMPurify?Promise.resolve(An.DOMPurify):d5(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=xr(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),A=l.firstChild;A;A=A.nextSibling)c!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||u.appendChild(a(A,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(c){return this.set({src:s("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],m=p.src.find(function(y){return y.format==="truetype"});m&&c.addFont(m.url,p.ref.name,p.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,c.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||Zt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,A){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return c.updateProgress(null,u),d}).then(u,A).then(function(d){return c.updateProgress(1),d})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),d=c.call(A,a,l);return o.convert(d,u.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Zt.getPageSize=function(a,l,c){if(xr(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var A,d=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+l}var p,m=0,y=0;if(h.hasOwnProperty(d))m=h[d][1]/A,y=h[d][0]/A;else try{m=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",y>m&&(p=y,y=m,m=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",m>y&&(p=y,y=m,m=p)}return{width:y,height:m,unit:l,k:A,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(P5):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(Zt.API),Zt.API.addJS=function(t){return dH=t,this.internal.events.subscribe("postPutResources",function(){yS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(yS+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),AH=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+dH+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){yS!==void 0&&AH!==void 0&&this.internal.out("/Names <</JavaScript "+yS+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var A=n.internal.newObject();u.push(A);var d=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<u.length;i++)n.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,i){var o={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var o=r.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])}(Zt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,s,i,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(A){for(var d,h=256*A.charCodeAt(4)+A.charCodeAt(5),p=A.length,m={width:0,height:0,numcomponents:1},y=4;y<p;y+=2){if(y+=h,e.indexOf(A.charCodeAt(y+1))!==-1){d=256*A.charCodeAt(y+5)+A.charCodeAt(y+6),m={width:256*A.charCodeAt(y+7)+A.charCodeAt(y+8),height:d,numcomponents:A.charCodeAt(y+9)};break}h=256*A.charCodeAt(y+2)+A.charCodeAt(y+3)}return m}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:s}}return u}}(Zt.API),Zt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,i=nke(t,{checkCrc:!0}),o=i.width,a=i.height,l=i.channels,c=i.palette,u=i.depth;s=c&&l===1?function(F){for(var D=F.width,j=F.height,O=F.data,U=F.palette,W=F.depth,$=!1,J=[],Z=[],oe=void 0,V=!1,Y=0,ce=0;ce<U.length;ce++){var he=o8(U[ce],4),z=he[0],G=he[1],X=he[2],re=he[3];J.push(z,G,X),re!=null&&(re===0?(Y++,Z.length<1&&Z.push(ce)):re<255&&(V=!0))}if(V||Y>1){$=!0,Z=void 0;var ue=D*j;oe=new Uint8Array(ue);for(var Ae=new DataView(O.buffer),we=0;we<ue;we++){var Ce=$5(Ae,we,W),Ne=o8(U[Ce],4)[3];oe[we]=Ne}}else Y===0&&(Z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:O,alphaBytes:oe,needSMask:$,palette:J,mask:Z}}(i):l===2||l===4?function(F){for(var D=F.data,j=F.width,O=F.height,U=F.channels,W=F.depth,$=U===2?"DeviceGray":"DeviceRGB",J=U-1,Z=j*O,oe=J,V=Z*oe,Y=1*Z,ce=Math.ceil(V*W/8),he=Math.ceil(Y*W/8),z=new Uint8Array(ce),G=new Uint8Array(he),X=new DataView(D.buffer),re=new DataView(z.buffer),ue=new DataView(G.buffer),Ae=!1,we=0;we<Z;we++){for(var Ce=we*U,Ne=0;Ne<oe;Ne++)xH(re,$5(X,Ce+Ne,W),we*oe+Ne,W);var ke=$5(X,Ce+oe,W);ke<(1<<W)-1&&(Ae=!0),xH(ue,ke,1*we,W)}return{colorSpace:$,colorsPerPixel:J,sMaskBitsPerComponent:Ae?W:void 0,colorBytes:z,alphaBytes:G,needSMask:Ae}}(i):function(F){var D=F.data,j=F.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:j,colorsPerPixel:j==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?function(O){for(var U=O.length,W=new Uint8Array(2*U),$=new DataView(W.buffer,W.byteOffset,W.byteLength),J=0;J<U;J++)$.setUint16(2*J,O[J],!1);return W}(D):D,needSMask:!1}}(i);var A,d,h,p=s,m=p.colorSpace,y=p.colorsPerPixel,g=p.sMaskBitsPerComponent,v=p.colorBytes,b=p.alphaBytes,C=p.needSMask,_=p.palette,I=p.mask,T=null;return r!==Zt.API.image_compression.NONE&&typeof C3=="function"?(T=function(F){var D;switch(F){case Zt.API.image_compression.FAST:D=11;break;case Zt.API.image_compression.MEDIUM:D=13;break;case Zt.API.image_compression.SLOW:D=14;break;default:D=12}return D}(r),A=this.decode.FLATE_DECODE,d="/Predictor ".concat(T," /Colors ").concat(y," /BitsPerComponent ").concat(u," /Columns ").concat(o),t=mH(v,Math.ceil(o*y*u/8),y,u,r),C&&(h=mH(b,Math.ceil(o*g/8),1,g,r))):(A=void 0,d=void 0,t=v,C&&(h=b)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:t,index:e,filter:A,decodeParameters:d,transparency:I,palette:_,sMask:h,predictor:T,width:o,height:a,bitsPerComponent:u,sMaskBitsPerComponent:g,colorSpace:m}}},function(t){t.processGIF89A=function(e,n,r,s){var i=new Cke(e),o=i.width,a=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new U5(100).encode(c,100);return t.processJPEG.call(this,u,n,r,s)},t.processGIF87A=t.processGIF89A}(Zt.API),Mc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Mc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Lr.log("bit decode error:"+n)}},Mc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*s*4,a=0;a<8&&8*s+a<this.width;a++){var l=this.palette[i>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Mc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*s*4,a=i>>4,l=15&i,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Mc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Mc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,a=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,u=r*this.width*4+4*s;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=t}},Mc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,u=s*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},Mc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Mc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=r,this.data[a+3]=o}},Mc.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,s){var i=new Mc(e,!1),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},c=new U5(100).encode(l,100);return t.processJPEG.call(this,c,n,r,s)}}(Zt.API),CH.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,s){var i=new CH(e),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},c=new U5(100).encode(l,100);return t.processJPEG.call(this,c,n,r,s)}}(Zt.API),Zt.API.processRGBA=function(t,e,n){for(var r=t.data,s=r.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),a=0,l=0,c=0;c<s;c+=4){var u=r[c],A=r[c+1],d=r[c+2],h=r[c+3];i[a++]=u,i[a++]=A,i[a++]=d,o[l++]=h}var p=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Zt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Fg=Zt.API,wS=Fg.getCharWidthsArray=function(t,e){var n,r,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:s.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,u=c.fof?c.fof:1,A=e.doKerning!==!1,d=0,h=t.length,p=0,m=a[0]||l,y=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?y.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+o*(1e3/i)||0)/1e3):(d=A&&xr(c[r])==="object"&&!isNaN(parseInt(c[r][p],10))?c[r][p]/u:0,y.push((a[r]||m)/l+d)),p=r;return y},hH=Fg.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Fg.processArabic&&(t=Fg.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,s)/n:wS.apply(this,arguments).reduce(function(i,o){return i+o},0)},fH=function(t,e,n,r){for(var s=[],i=0,o=t.length,a=0;i!==o&&a+e[i]<n;)a+=e[i],i++;s.push(t.slice(0,i));var l=i;for(a=0;i!==o;)a+e[i]>r&&(s.push(t.slice(l,i)),a=0,l=i),a+=e[i],i++;return l!==i&&s.push(t.slice(l,i)),s},pH=function(t,e,n){n||(n={});var r,s,i,o,a,l,c,u=[],A=[u],d=n.textIndent||0,h=0,p=0,m=t.split(" "),y=wS.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?m[0].length+2:n.lineIndent||0){var g=Array(l).join(" "),v=[];m.map(function(C){(C=C.split(/\s*\n/)).length>1?v=v.concat(C.map(function(_,I){return(I&&_.length?`
`:"")+_})):v.push(C[0])}),m=v,l=hH.apply(this,[g,n])}for(i=0,o=m.length;i<o;i++){var b=0;if(r=m[i],l&&r[0]==`
`&&(r=r.substr(1),b=1),d+h+(p=(s=wS.apply(this,[r,n])).reduce(function(C,_){return C+_},0))>e||b){if(p>e){for(a=fH.apply(this,[r,s,e-(d+h),e]),u.push(a.shift()),u=[a.pop()];a.length;)A.push([a.shift()]);p=s.slice(r.length-(u[0]?u[0].length:0)).reduce(function(C,_){return C+_},0)}else u=[r];A.push(u),d=p+l,h=y}else u.push(r),d+=h+p,h=y}return c=l?function(C,_){return(_?g:"")+C.join(" ")}:function(C){return C.join(" ")},A.map(c)},Fg.splitTextToSize=function(t,e,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var A=this.internal.getFont(u.fontName,u.fontStyle),d="Unicode";return A.metadata[d]?{widths:A.metadata[d].widths||{0:1},kerning:A.metadata[d].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(pH.apply(this,[r[a],o,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},s={},i=0;i<16;i++)r[n[i]]=e[i],s[e[i]]=n[i];var o=function(d){return"0x"+parseInt(d,10).toString(16)},a=t.__fontmetrics__.compress=function(d){var h,p,m,y,g=["{"];for(var v in d){if(h=d[v],isNaN(parseInt(v,10))?p="'"+v+"'":(v=parseInt(v,10),p=(p=o(v).slice(2)).slice(0,-1)+s[p.slice(-1)]),typeof h=="number")h<0?(m=o(h).slice(3),y="-"):(m=o(h).slice(2),y=""),m=y+m.slice(0,-1)+s[m.slice(-1)];else{if(xr(h)!=="object")throw new Error("Don't know what to do with value type "+xr(h)+".");m=a(h)}g.push(p+m)}return g.push("}"),g.join("")},l=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,m,y,g={},v=1,b=g,C=[],_="",I="",T=d.length-1,F=1;F<T;F+=1)(y=d[F])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(y):y=="{"?(C.push([b,m]),b={},m=void 0):y=="}"?((p=C.pop())[0][p[1]]=b,m=void 0,b=p[0]):y=="-"?v=-1:m===void 0?r.hasOwnProperty(y)?(_+=r[y],m=parseInt(_,16)*v,v=1,_=""):_+=y:r.hasOwnProperty(y)?(I+=r[y],b[m]=parseInt(I,16)*v,v=1,m=void 0,I=""):I+=y;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},A={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var h=d.font,p=A.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var m=u.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(Zt.API),function(t){var e=function(n){for(var r=n.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=n.charCodeAt(i);return s};t.API.events.push(["addFont",function(n){var r=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(uB(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,r)}}])}(Zt),Zt.API.addSvgAsImage=function(t,e,n,r,s,i,o,a){if(isNaN(e)||isNaN(n))throw Lr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw Lr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=s;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(An.canvg?Promise.resolve(An.canvg):d5(()=>import("./index.es-BrPkxOWk.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(u)}).then(function(){A.addImage(l.toDataURL("image/jpeg",1),e,n,r,s,o,a)})},Zt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,n);return this},Zt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,A=0;function d(p,m){var y,g=!1;for(y=0;y<p.length;y+=1)p[y]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=a.length;for(A=0;A<h;A+=1)n[a[A]].value=n[a[A]].defaultValue,n[a[A]].explicitSet=!1}if(xr(t)==="object"){for(s in t)if(i=t[s],d(a,s)&&i!==void 0){if(n[s].type==="boolean"&&typeof i=="boolean")n[s].value=i;else if(n[s].type==="name"&&d(n[s].valueSet,i))n[s].value=i;else if(n[s].type==="integer"&&Number.isInteger(i))n[s].value=i;else if(n[s].type==="array"){for(c=0;c<i.length;c+=1)if(r=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(r=!1);r===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}n[s].value="["+l.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,m=[];for(p in n)n[p].explicitSet===!0&&(n[p].type==="name"?m.push("/"+p+" /"+n[p].value):m.push("/"+p+" "+n[p].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+o.length+a.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Zt.API),function(t){var e=t.API,n=e.pdfEscape16=function(i,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],A=0,d=i.length;A<d;++A){if(a=o.metadata.characterToGlyph(i.charCodeAt(A)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=i.charCodeAt(A),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(i){var o,a,l,c,u,A,d;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],A=0,d=(a=Object.keys(i).sort(function(h,p){return h-p})).length;A<d;A++)o=a[A],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(c=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var A=a.metadata.Unicode.widths,d=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),h="",p=0;p<d.length;p++)h+=String.fromCharCode(d[p]);var m=c();u({data:h,addLength1:!0,objectId:m}),l("endobj");var y=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var g=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+$g(a.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var v=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+$g(a.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+t.API.PDFObject.convert(A)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+$g(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+v+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var A=a.metadata.rawData,d="",h=0;h<A.length;h++)d+=String.fromCharCode(A[h]);var p=c();u({data:d,addLength1:!0,objectId:p}),l("endobj");var m=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var y=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+$g(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var g=0;g<a.metadata.hmtx.widths.length;g++)a.metadata.hmtx.widths[g]=parseInt(a.metadata.hmtx.widths[g]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+$g(a.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,a=i.text||"",l=i.x,c=i.y,u=i.options||{},A=i.mutex||{},d=A.pdfEscape,h=A.activeFontKey,p=A.fonts,m=h,y="",g=0,v="",b=p[m].encoding;if(p[m].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:A};for(v=a,m=h,Array.isArray(a)&&(v=a[0]),g=0;g<v.length;g+=1)p[m].metadata.hasOwnProperty("cmap")&&(o=p[m].metadata.cmap.unicode.codeMap[v[g].charCodeAt(0)]),o||v[g].charCodeAt(0)<256&&p[m].metadata.hasOwnProperty("Unicode")?y+=v[g]:y+="";var C="";return parseInt(m.slice(1))<14||b==="WinAnsiEncoding"?C=d(y,m).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(C=n(y,p[m])),A.isHex=!0,{text:C,x:l,y:c,options:u,mutex:A}};e.events.push(["postProcessText",function(i){var o=i.text||"",a=[],l={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([s(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(s(Object.assign({},l,{text:o[c]})).text);i.text=a}else i.text=s(Object.assign({},l,{text:o})).text}])}(Zt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Zt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var s,i,o,a,l,c,u,A=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,b=0;this.__bidiEngine__={};var C=function(O){var U=O.charCodeAt(),W=U>>8,$=m[W];return $!==void 0?A[256*$+(255&U)]:W===252||W===253?"AL":g.test(W)?"L":W===8?"R":"N"},_=function(O){for(var U,W=0;W<O.length;W++){if((U=C(O.charAt(W)))==="L")return!1;if(U==="R")return!0}return!1},I=function(O,U,W,$){var J,Z,oe,V,Y=U[$];switch(Y){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"N":case"AN":break;case"EN":v&&(Y="AN");break;case"AL":v=!0,Y="R";break;case"WS":case"BN":Y="N";break;case"CS":$<1||$+1>=U.length||(J=W[$-1])!=="EN"&&J!=="AN"||(Z=U[$+1])!=="EN"&&Z!=="AN"?Y="N":v&&(Z="AN"),Y=Z===J?Z:"N";break;case"ES":Y=(J=$>0?W[$-1]:"B")==="EN"&&$+1<U.length&&U[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&W[$-1]==="EN"){Y="EN";break}if(v){Y="N";break}for(oe=$+1,V=U.length;oe<V&&U[oe]==="ET";)oe++;Y=oe<V&&U[oe]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(V=U.length,oe=$+1;oe<V&&U[oe]==="NSM";)oe++;if(oe<V){var ce=O[$],he=ce>=1425&&ce<=2303||ce===64286;if(J=U[oe],he&&(J==="R"||J==="AL")){Y="R";break}}}Y=$<1||(J=U[$-1])==="B"?"N":W[$-1];break;case"B":v=!1,s=!0,Y=b;break;case"S":i=!0,Y="N"}return Y},T=function(O,U,W){var $=O.split("");return W&&F($,W,{hiLevel:b}),$.reverse(),U&&U.reverse(),$.join("")},F=function(O,U,W){var $,J,Z,oe,V,Y=-1,ce=O.length,he=0,z=[],G=b?h:d,X=[];for(v=!1,s=!1,i=!1,J=0;J<ce;J++)X[J]=C(O[J]);for(Z=0;Z<ce;Z++){if(V=he,z[Z]=I(O,X,z,Z),$=240&(he=G[V][p[z[Z]]]),he&=15,U[Z]=oe=G[he][5],$>0)if($===16){for(J=Y;J<Z;J++)U[J]=1;Y=-1}else Y=-1;if(G[he][6])Y===-1&&(Y=Z);else if(Y>-1){for(J=Y;J<Z;J++)U[J]=oe;Y=-1}X[Z]==="B"&&(U[Z]=0),W.hiLevel|=oe}i&&function(re,ue,Ae){for(var we=0;we<Ae;we++)if(re[we]==="S"){ue[we]=b;for(var Ce=we-1;Ce>=0&&re[Ce]==="WS";Ce--)ue[Ce]=b}}(X,U,ce)},D=function(O,U,W,$,J){if(!(J.hiLevel<O)){if(O===1&&b===1&&!s)return U.reverse(),void(W&&W.reverse());for(var Z,oe,V,Y,ce=U.length,he=0;he<ce;){if($[he]>=O){for(V=he+1;V<ce&&$[V]>=O;)V++;for(Y=he,oe=V-1;Y<oe;Y++,oe--)Z=U[Y],U[Y]=U[oe],U[oe]=Z,W&&(Z=W[Y],W[Y]=W[oe],W[oe]=Z);he=V}he++}}},j=function(O,U,W){var $=O.split(""),J={hiLevel:b};return W||(W=[]),F($,W,J),function(Z,oe,V){if(V.hiLevel!==0&&u)for(var Y,ce=0;ce<Z.length;ce++)oe[ce]===1&&(Y=y.indexOf(Z[ce]))>=0&&(Z[ce]=y[Y+1])}($,W,J),D(2,$,U,W,J),D(1,$,U,W,J),$.join("")};return this.__bidiEngine__.doBidiReorder=function(O,U,W){if(function(J,Z){if(Z)for(var oe=0;oe<J.length;oe++)Z[oe]=oe;a===void 0&&(a=_(J)),c===void 0&&(c=_(J))}(O,U),o||!l||c)if(o&&l&&a^c)b=a?1:0,O=T(O,U,W);else if(!o&&l&&c)b=a?1:0,O=j(O,U,W),O=T(O,U);else if(!o||a||l||c){if(o&&!l&&a^c)O=T(O,U),a?(b=0,O=j(O,U,W)):(b=1,O=j(O,U,W),O=T(O,U));else if(o&&a&&!l&&c)b=1,O=j(O,U,W),O=T(O,U);else if(!o&&!l&&a^c){var $=u;a?(b=1,O=j(O,U,W),b=0,u=!1,O=j(O,U,W),u=$):(b=0,O=j(O,U,W),O=T(O,U),b=1,u=!1,O=j(O,U,W),u=$,O=T(O,U))}}else b=0,O=j(O,U,W);else b=a?1:0,O=j(O,U,W);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,l=O.isOutputVisual,a=O.isInputRtl,c=O.isOutputRtl,u=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var a=0;for(o=[],a=0;a<s.length;a+=1)Object.prototype.toString.call(s[a])==="[object Array]"?o.push([n.doBidiReorder(s[a][0]),s[a][1],s[a][2]]):o.push([n.doBidiReorder(s[a])]);r.text=o}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(Zt),Zt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new uf(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new $ke(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Ske(this.contents),this.head=new _ke(this),this.name=new Tke(this),this.cmap=new CJ(this),this.toUnicode={},this.hhea=new Nke(this),this.maxp=new Fke(this),this.hmtx=new Lke(this),this.post=new Eke(this),this.os2=new Ike(this),this.loca=new Oke(this),this.glyf=new Dke(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var s,i,o,a;for(o=0,i=0,a=(e=""+e).length;0<=a?i<a:i>a;i=0<=a?++i:--i)s=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var bu,uf=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,s;for(s=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,s,i,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*s+16777216*i+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,s,i;for(i=[],r=0,s=e.length;r<s;r++)n=e[r],i.push(this.writeByte(n));return i},t}(),Ske=function(){var t;function e(n){var r,s,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,s,i,o,a,l,c,u,A,d,h,p,m;for(m in h=Object.keys(n).length,l=Math.log(2),A=16*Math.floor(Math.log(h)/l),o=Math.floor(A/l),u=16*h-A,(s=new uf).writeInt(this.scalarType),s.writeShort(h),s.writeShort(A),s.writeShort(o),s.writeShort(u),i=16*h,c=s.pos+i,a=null,p=[],n)for(d=n[m],s.writeString(m),s.writeInt(t(d)),s.writeInt(c),s.writeInt(d.length),p=p.concat(d),m==="head"&&(a=c),c+=d.length;c%4;)p.push(0),c++;return s.write(p),r=2981146554-t(s.data),s.pos=a+8,s.writeUInt32(r),s.data},t=function(n){var r,s,i,o;for(n=SJ.call(n);n.length%4;)n.push(0);for(i=new uf(n),s=0,r=0,o=n.length;r<o;r=r+=4)s+=i.readUInt32();return 4294967295&s},e}(),Bke={}.hasOwnProperty,kA=function(t,e){for(var n in e)Bke.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};bu=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var _ke=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kA(t,bu),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new uf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),SH=function(){function t(e,n){var r,s,i,o,a,l,c,u,A,d,h,p,m,y,g,v,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),d=h/2,e.pos+=6,i=function(){var C,_;for(_=[],l=C=0;0<=d?C<d:C>d;l=0<=d?++C:--C)_.push(e.readUInt16());return _}(),e.pos+=2,m=function(){var C,_;for(_=[],l=C=0;0<=d?C<d:C>d;l=0<=d?++C:--C)_.push(e.readUInt16());return _}(),c=function(){var C,_;for(_=[],l=C=0;0<=d?C<d:C>d;l=0<=d?++C:--C)_.push(e.readUInt16());return _}(),u=function(){var C,_;for(_=[],l=C=0;0<=d?C<d:C>d;l=0<=d?++C:--C)_.push(e.readUInt16());return _}(),s=(this.length-e.pos+this.offset)/2,a=function(){var C,_;for(_=[],l=C=0;0<=s?C<s:C>s;l=0<=s?++C:--C)_.push(e.readUInt16());return _}(),l=g=0,b=i.length;g<b;l=++g)for(y=i[l],r=v=p=m[l];p<=y?v<=y:v>=y;r=p<=y?++v:--v)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-p)-(d-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=A}return t.encode=function(e,n){var r,s,i,o,a,l,c,u,A,d,h,p,m,y,g,v,b,C,_,I,T,F,D,j,O,U,W,$,J,Z,oe,V,Y,ce,he,z,G,X,re,ue,Ae,we,Ce,Ne,ke,je;switch($=new uf,o=Object.keys(e).sort(function(Ge,ot){return Ge-ot}),n){case"macroman":for(m=0,y=function(){var Ge=[];for(p=0;p<256;++p)Ge.push(0);return Ge}(),v={0:0},i={},J=0,Y=o.length;J<Y;J++)v[Ce=e[s=o[J]]]==null&&(v[Ce]=++m),i[s]={old:e[s],new:v[e[s]]},y[s]=v[e[s]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(y),{charMap:i,subtable:$.data,maxGlyphID:m+1};case"unicode":for(U=[],A=[],b=0,v={},r={},g=c=null,Z=0,ce=o.length;Z<ce;Z++)v[_=e[s=o[Z]]]==null&&(v[_]=++b),r[s]={old:_,new:v[_]},a=v[_]-s,g!=null&&a===c||(g&&A.push(g),U.push(s),c=a),g=s;for(g&&A.push(g),A.push(65535),U.push(65535),j=2*(D=U.length),F=2*Math.pow(Math.log(D)/Math.LN2,2),d=Math.log(F/2)/Math.LN2,T=2*D-F,l=[],I=[],h=[],p=oe=0,he=U.length;oe<he;p=++oe){if(O=U[p],u=A[p],O===65535){l.push(0),I.push(0);break}if(O-(W=r[O].new)>=32768)for(l.push(0),I.push(2*(h.length+D-p)),s=V=O;O<=u?V<=u:V>=u;s=O<=u?++V:--V)h.push(r[s].new);else l.push(W-O),I.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*D+2*h.length),$.writeUInt16(0),$.writeUInt16(j),$.writeUInt16(F),$.writeUInt16(d),$.writeUInt16(T),Ae=0,z=A.length;Ae<z;Ae++)s=A[Ae],$.writeUInt16(s);for($.writeUInt16(0),we=0,G=U.length;we<G;we++)s=U[we],$.writeUInt16(s);for(Ne=0,X=l.length;Ne<X;Ne++)a=l[Ne],$.writeUInt16(a);for(ke=0,re=I.length;ke<re;ke++)C=I[ke],$.writeUInt16(C);for(je=0,ue=h.length;je<ue;je++)m=h[je],$.writeUInt16(m);return{charMap:r,subtable:$.data,maxGlyphID:b+1}}},t}(),CJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kA(t,bu),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)n=new SH(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,s;return n==null&&(n="macroman"),r=SH.encode(e,n),(s=new uf).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t}(),Nke=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kA(t,bu),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Ike=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kA(t,bu),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Eke=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kA(t,bu),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],i=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;i=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),kke=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Tke=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kA(t,bu),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,s,i,o,a,l,c,u,A,d;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},i=u=0,A=r.length;u<A;i=++u)s=r[i],e.pos=s.offset,c=e.readString(s.length),o=new kke(c,s),l[d=s.nameID]==null&&(l[d]=[]),l[s.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),Fke=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kA(t,bu),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Lke=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kA(t,bu),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,s,i,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=s?c<s:c>s;n=0<=s?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,A,d;for(d=[],c=0,u=(A=this.metrics).length;c<u;c++)i=A[c],d.push(i.advance);return d}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),SJ=[].slice,Dke=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kA(t,bu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,s,i,o,a,l,c,u,A;return e in this.cache?this.cache[e]:(i=this.file.loca,n=this.file.contents,r=i.indexOf(e),(s=i.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new uf(n.read(s))).readShort(),c=a.readShort(),A=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[e]=o===-1?new Pke(a,c,A,l,u):new Rke(a,o,c,A,l,u),this.cache[e]))},t.prototype.encode=function(e,n,r){var s,i,o,a,l;for(o=[],i=[],a=0,l=n.length;a<l;a++)s=e[n[a]],i.push(o.length),s&&(o=o.concat(s.encode(r)));return i.push(o.length),{table:o,offsets:i}},t}(),Rke=function(){function t(e,n,r,s,i,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Pke=function(){function t(e,n,r,s,i){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new uf(SJ.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),Oke=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kA(t,bu),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<r.length;++o)if(r[o]=s,i<n.length&&n[i]==o){++i,r[o]=s;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(s+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},t}(),$ke=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,s,i;for(n in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[n],e[n]=s[r];return e},t.prototype.glyphsFor=function(e){var n,r,s,i,o,a,l;for(s={},o=0,a=e.length;o<a;o++)s[i=e[o]]=this.font.glyf.glyphFor(i);for(i in n=[],s)(r=s[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in l=this.glyphsFor(n))r=l[i],s[i]=r;return s},t.prototype.encode=function(e,n){var r,s,i,o,a,l,c,u,A,d,h,p,m,y,g;for(s in r=CJ.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},g=r.charMap)h[(l=g[s]).old]=l.new;for(p in d=r.maxGlyphID,o)p in h||(h[p]=d++);return u=function(v){var b,C;for(b in C={},v)C[v[b]]=b;return C}(h),A=Object.keys(u).sort(function(v,b){return v-b}),m=function(){var v,b,C;for(C=[],v=0,b=A.length;v<b;v++)a=A[v],C.push(u[a]);return C}(),i=this.font.glyf.encode(o,m,h),c=this.font.loca.encode(i.offsets,m),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t}();Zt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,s,i,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in i=["<<"],n)o=n[s],i.push("/"+s+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+n},e}();const Uke=()=>{const{id:t}=eR(),e=la(),{bookings:n}=FN(),[r,s]=P.useState(null),i=P.useRef(null);P.useEffect(()=>{if(t){const a=n.find(l=>l.id===t);a?s(a):(On.error("Booking not found"),e("/dashboard"))}},[t,n,e]);const o=async()=>{if(i.current)try{const a=await pZ(i.current,{logging:!1,useCORS:!0,background:"#ffffff"}),l=a.toDataURL("image/png"),c=new Zt({orientation:"portrait",unit:"mm",format:"a4"}),u=210,A=a.height*u/a.width;c.addImage(l,"PNG",0,0,u,A),c.save(`PlayPal-Invoice-${(r==null?void 0:r.id)||"download"}.pdf`),On.success("Invoice downloaded successfully")}catch(a){console.error("Error generating PDF:",a),On.error("Failed to generate PDF")}};return r?x.jsx("div",{className:"min-h-screen bg-secondary/30 py-12 px-4 sm:px-6 lg:px-8 flex flex-col items-center justify-center",children:x.jsxs(Ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-2xl",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx(Ot.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:20,delay:.2},className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:x.jsx(Eue,{className:"w-8 h-8 text-white"})}),x.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Booking Confirmed!"}),x.jsxs("p",{className:"text-muted-foreground mt-2",children:["Your booking at ",r.venueName," has been successfully confirmed."]})]}),x.jsxs(rY,{className:"shadow-lg border-border/50 overflow-hidden",ref:i,children:[x.jsx("div",{className:"bg-primary/5 p-6 border-b border-border/50",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-primary",children:"PlayPal"}),x.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Sports Booking Platform"})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"INVOICE"}),x.jsxs("p",{className:"text-lg font-bold font-mono",children:["#",r.id.slice(-6).toUpperCase()]}),x.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:ej(new Date(r.createdAt),"PPP")})]})]})}),x.jsxs(sY,{className:"p-6 md:p-8 space-y-8",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Customer Details"}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("p",{className:"font-medium text-lg",children:r.userName}),x.jsx("p",{className:"text-muted-foreground text-sm",children:r.userPhone}),x.jsx("div",{className:"mt-2 text-xs px-2 py-1 bg-primary/10 text-primary rounded inline-block",children:"Verified Customer"})]})]}),x.jsxs("div",{className:"md:text-right",children:[x.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Booking Details"}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("p",{className:"font-semibold",children:r.venueName}),x.jsx("p",{className:"text-sm",children:r.sport}),x.jsxs("p",{className:"text-sm",children:[ej(new Date(r.date),"PPP"),"  ",r.timeSlot]}),x.jsx("div",{className:"mt-2 text-xs px-2 py-1 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded inline-block",children:r.status})]})]})]}),x.jsx(X4,{}),x.jsxs("div",{children:[x.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-4",children:"Payment Summary"}),x.jsxs("div",{className:"bg-secondary/20 rounded-lg p-4 space-y-3",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-muted-foreground",children:"Court Fee (1 Hour)"}),x.jsxs("span",{children:["",r.totalAmount]})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-muted-foreground",children:"Service Fee"}),x.jsx("span",{children:"0.00"})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-muted-foreground",children:"Tax"}),x.jsx("span",{children:"0.00"})]}),x.jsx(X4,{className:"my-2"}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-semibold",children:"Total Amount"}),x.jsxs("span",{className:"text-xl font-bold text-primary",children:["",r.totalAmount]})]})]})]}),x.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:[x.jsx("p",{children:"Thank you for booking with PlayPal. Please show this invoice at the venue."}),x.jsx("p",{className:"mt-1",children:"For support, contact help@playpal.com"})]})]}),x.jsxs(iY,{className:"bg-secondary/10 p-6 flex flex-col sm:flex-row gap-3 justify-between border-t border-border/50",children:[x.jsxs(Ft,{variant:"outline",className:"w-full sm:w-auto",onClick:()=>e("/"),children:[x.jsx(Rue,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),x.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[x.jsxs(Ft,{className:"flex-1 sm:flex-none bg-orange-600 hover:bg-orange-700 text-white",onClick:()=>{On.success("Starting match..."),e(`/match/${r.id}`)},children:[x.jsx(lv,{className:"w-4 h-4 mr-2 fill-white"}),"Start Match"]}),x.jsxs(Ft,{className:"flex-1 sm:flex-none",onClick:o,children:[x.jsx(kue,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]})]})]})]})}):x.jsx("div",{className:"flex items-center justify-center min-h-screen",children:x.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})})},Mke=()=>{const t=Vx();return P.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),x.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),x.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})};var BJ={exports:{}};(function(t,e){(function(r,s){t.exports=s(P)})(_A,function(n){return function(r){var s={};function i(o){if(s[o])return s[o].exports;var a=s[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=s,i.d=function(o,a,l){i.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,a){if(a&1&&(o=i(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var c in o)i.d(l,c,(function(u){return o[u]}).bind(null,c));return l},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,s,i){i.r(s);var o=i("react"),a=function(){var d=function(h,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var g in y)y.hasOwnProperty(g)&&(m[g]=y[g])},d(h,p)};return function(h,p){d(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),l=function(){return l=Object.assign||function(d){for(var h,p=1,m=arguments.length;p<m;p++){h=arguments[p];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(d[y]=h[y])}return d},l.apply(this,arguments)},c=function(d,h){var p={};for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&h.indexOf(m)<0&&(p[m]=d[m]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,m=Object.getOwnPropertySymbols(d);y<m.length;y++)h.indexOf(m[y])<0&&Object.prototype.propertyIsEnumerable.call(d,m[y])&&(p[m[y]]=d[m[y]]);return p};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(h){var p=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return p?new Promise(function(m,y){p.call(navigator,h,m,y)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function u(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var A=function(d){a(h,d);function h(p){var m=d.call(this,p)||this;return m.canvas=null,m.ctx=null,m.requestUserMediaId=0,m.unmounted=!1,m.state={hasUserMedia:!1},m}return h.prototype.componentDidMount=function(){var p=this,m=p.state,y=p.props;if(this.unmounted=!1,!u()){y.onUserMediaError("getUserMedia not supported");return}m.hasUserMedia||this.requestUserMedia(),y.children&&typeof y.children!="function"&&console.warn("children must be a function")},h.prototype.componentDidUpdate=function(p){var m=this.props;if(!u()){m.onUserMediaError("getUserMedia not supported");return}var y=JSON.stringify(p.audioConstraints)!==JSON.stringify(m.audioConstraints),g=JSON.stringify(p.videoConstraints)!==JSON.stringify(m.videoConstraints),v=p.minScreenshotWidth!==m.minScreenshotWidth,b=p.minScreenshotHeight!==m.minScreenshotHeight;(g||v||b)&&(this.canvas=null,this.ctx=null),(y||g)&&(this.stopAndCleanup(),this.requestUserMedia())},h.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},h.stopMediaStream=function(p){p&&(p.getVideoTracks&&p.getAudioTracks?(p.getVideoTracks().map(function(m){p.removeTrack(m),m.stop()}),p.getAudioTracks().map(function(m){p.removeTrack(m),m.stop()})):p.stop())},h.prototype.stopAndCleanup=function(){var p=this.state;p.hasUserMedia&&(h.stopMediaStream(this.stream),p.src&&window.URL.revokeObjectURL(p.src))},h.prototype.getScreenshot=function(p){var m=this,y=m.state,g=m.props;if(!y.hasUserMedia)return null;var v=this.getCanvas(p);return v&&v.toDataURL(g.screenshotFormat,g.screenshotQuality)},h.prototype.getCanvas=function(p){var m=this,y=m.state,g=m.props;if(!this.video||!y.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var v=this.video.videoWidth,b=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var C=v/b;v=g.minScreenshotWidth||this.video.clientWidth,b=v/C,g.minScreenshotHeight&&b<g.minScreenshotHeight&&(b=g.minScreenshotHeight,v=b*C)}this.canvas=document.createElement("canvas"),this.canvas.width=(p==null?void 0:p.width)||v,this.canvas.height=(p==null?void 0:p.height)||b,this.ctx=this.canvas.getContext("2d")}var _=this,I=_.ctx,T=_.canvas;return I&&T&&(T.width=(p==null?void 0:p.width)||T.width,T.height=(p==null?void 0:p.height)||T.height,g.mirrored&&(I.translate(T.width,0),I.scale(-1,1)),I.imageSmoothingEnabled=g.imageSmoothing,I.drawImage(this.video,0,0,(p==null?void 0:p.width)||T.width,(p==null?void 0:p.height)||T.height),g.mirrored&&(I.scale(-1,1),I.translate(-T.width,0))),T},h.prototype.requestUserMedia=function(){var p=this,m=this.props,y=function(b,C){var _={video:typeof C<"u"?C:!0};m.audio&&(_.audio=typeof b<"u"?b:!0),p.requestUserMediaId++;var I=p.requestUserMediaId;navigator.mediaDevices.getUserMedia(_).then(function(T){p.unmounted||I!==p.requestUserMediaId?h.stopMediaStream(T):p.handleUserMedia(null,T)}).catch(function(T){p.handleUserMedia(T)})};if("mediaDevices"in navigator)y(m.audioConstraints,m.videoConstraints);else{var g=function(b){return{optional:[{sourceId:b}]}},v=function(b){var C=b.deviceId;return typeof C=="string"?C:Array.isArray(C)&&C.length>0?C[0]:typeof C=="object"&&C.ideal?C.ideal:null};MediaStreamTrack.getSources(function(b){var C=null,_=null;b.forEach(function(F){F.kind==="audio"?C=F.id:F.kind==="video"&&(_=F.id)});var I=v(m.audioConstraints);I&&(C=I);var T=v(m.videoConstraints);T&&(_=T),y(g(C),g(_))})}},h.prototype.handleUserMedia=function(p,m){var y=this.props;if(p||!m){this.setState({hasUserMedia:!1}),y.onUserMediaError(p);return}this.stream=m;try{this.video&&(this.video.srcObject=m),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(m)})}y.onUserMedia(m)},h.prototype.render=function(){var p=this,m=this,y=m.state,g=m.props,v=g.audio;g.forceScreenshotSourceSize;var b=g.disablePictureInPicture;g.onUserMedia,g.onUserMediaError,g.screenshotFormat,g.screenshotQuality,g.minScreenshotWidth,g.minScreenshotHeight,g.audioConstraints,g.videoConstraints,g.imageSmoothing;var C=g.mirrored,_=g.style,I=_===void 0?{}:_,T=g.children,F=c(g,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),D=C?l(l({},I),{transform:(I.transform||"")+" scaleX(-1)"}):I,j={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,disablePictureInPicture:b,src:y.src,muted:!v,playsInline:!0,ref:function(O){p.video=O},style:D},F)),T&&T(j))},h.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},h}(o.Component);s.default=A},react:function(r,s){r.exports=n}}).default})})(BJ);var Qke=BJ.exports;const jke=Dx(Qke);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hke=1e-7,zke=1e-4;class iP{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class aI{refCount(e){return ba("refCount")}incRef(e){return ba("incRef")}timerAvailable(){return!0}time(e){return ba("time")}read(e){return ba("read")}readSync(e){return ba("readSync")}readToGPU(e,n){return ba("readToGPU")}numDataIds(){return ba("numDataIds")}disposeData(e,n){return ba("disposeData")}write(e,n,r){return ba("write")}move(e,n,r,s,i){return ba("move")}createTensorFromGPUData(e,n,r){return ba("createTensorFromGPUData")}memory(){return ba("memory")}floatPrecision(){return ba("floatPrecision")}epsilon(){return this.floatPrecision()===32?Hke:zke}dispose(){return ba("dispose")}}function ba(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oP(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,sd(t,e,n)}function Vke(t,e){if(t.length!==e.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${t.length}Second array length was ${e.length}`);let n=t.length,r=0;for(;n>0;)r=Math.random()*n|0,n--,sd(t,n,r),sd(e,n,r)}function Af(t,e,n){return Math.max(t,Math.min(e,n))}function lI(t){return t%2===0?t:t+1}function sd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function _J(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function Wke(t,e){const n=Math.random();return e*n+(1-n)*t}function Gke(t,e){let n=0;for(let r=0;r<t.length;r++){const s=Number(t[r])-Number(e[r]);n+=s*s}return n}function ee(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function Di(t,e,n=""){ee(Pn(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function Qm(t){ee(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function $e(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function Kke(t){return t.length===0}function NJ(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==null&&e[n]!==null&&t[n]!==e[n])return!1;return!0}function Pn(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function ym(t){return t%1===0}function qke(t){if(Math.tanh!=null)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;{const e=Math.exp(2*t);return(e-1)/(e+1)}}function N_(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function Xke(t){const e=new Uint32Array(t);for(let n=0;n<t;++n)e[n]=n;return oP(e),e}function Jp(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function O3(t,e=s=>0,n,r){return new Promise((s,i)=>{let o=0;const a=()=>{if(t()){s();return}o++;const l=e(o);if(n!=null&&o>=n){i();return}r!=null?r(a,l):setTimeout(a,l)};a()})}function aP(t,e){let n=1,r=-1;for(let i=0;i<t.length;++i)if(t[i]>=0)n*=t[i];else if(t[i]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${i}`);r=i}else if(t[i]<0)throw Error(`Shapes can not be < 0. Found ${t[i]} at dim ${i}`);if(r===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const s=t.slice();return s[r]=e/n,s}function En(t,e){const n=e.length;return t=t==null?e.map((r,s)=>s):[].concat(t),ee(t.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),ee(t.every(r=>ym(r)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(r=>r<0?n+r:r)}function _d(t,e){const n=[],r=[],s=e!=null&&Array.isArray(e)&&e.length===0,i=e==null||s?null:En(e,t).sort();let o=0;for(let a=0;a<t.length;++a){if(i!=null){if(i[o]===a&&t[a]!==1)throw new Error(`Can't squeeze axis ${a} since its dim '${t[a]}' is not 1`);(i[o]==null||i[o]>a)&&t[a]===1&&(n.push(t[a]),r.push(a)),i[o]<=a&&o++}t[a]!==1&&(n.push(t[a]),r.push(a))}return{newShape:n,keptDims:r}}function vi(t,e){return ms(t,e)}function ms(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function IJ(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}function EJ(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function lP(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function dx(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function kJ(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function nA(t){return typeof t=="string"||t instanceof String}function TJ(t){return typeof t=="boolean"}function I_(t){return typeof t=="number"}function jm(t){return Array.isArray(t)?jm(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":I_(t)?"float32":nA(t)?"string":TJ(t)?"bool":"float32"}function df(t){return!!(t&&t.constructor&&t.call&&t.apply)}function E_(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function Gt(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function FJ(t,e,n,r=!1){const s=new Array;if(e.length===1){const i=e[0]*(r?2:1);for(let o=0;o<i;o++)s[o]=n[t+o]}else{const i=e[0],o=e.slice(1),a=o.reduce((l,c)=>l*c)*(r?2:1);for(let l=0;l<i;l++)s[l]=FJ(t+l*a,o,n,r)}return s}function ml(t,e,n=!1){if(t.length===0)return e[0];const r=t.reduce((s,i)=>s*i)*(n?2:1);if(r===0)return[];if(r!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return FJ(0,t,e,n)}function LJ(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error(`Unknown dtype ${e}`)}function cI(t,e){const n=Li(t,e);for(let r=0;r<n.length;r++)n[r]=1;return n}function Li(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function cP(t,e){const n=t.reduce((r,s)=>r*s,1);if(e==null||e==="float32")return ml(t,new Float32Array(n));if(e==="int32")return ml(t,new Int32Array(n));if(e==="bool")return ml(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function Ma(t){t.forEach(e=>{ee(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function ou(t,e,n){if(e===0)return 0;if(e===1)return t[0];let r=t[t.length-1];for(let s=0;s<t.length-1;++s)r+=n[s]*t[s];return r}function Hm(t,e,n){if(e===0)return[];if(e===1)return[t];const r=new Array(e);for(let s=0;s<r.length-1;++s)r[s]=Math.floor(t/n[s]),t-=r[s]*n[s];return r[r.length-1]=t,r}function hf(t){return t&&t.then&&typeof t.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BH="tfjsflags";class DJ{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Yke,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(Le().getBool("IS_TEST")||Le().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},this.urlFlags[e]!=null){const s=this.urlFlags[e];Le().getBool("IS_TEST")||Le().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${s}.`),this.set(e,s)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(hf(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);BH in e&&e[BH].split(",").forEach(r=>{const[s,i]=r.split(":");this.urlFlags[s]=Jke(s,i)})}}function Yke(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(Zke(e,r[0],r[1]),r.join("="))),e}function Zke(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function Jke(t,e){const n=e.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:e}function Le(){return uP}let uP=null;function eTe(t){uP=t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let M5;function RJ(){if(M5==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");M5=t}return M5}function tTe(){const t=RJ();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function AP(t,e){const n=tTe();if(n.has(t))return n.get(t);{const r=e();return n.set(t,r),n.get(t)}}const ob="Abs",Ly="Acos",Dy="Acosh",zm="Add",ab="AddN",uI="All",AI="Any",lb="ArgMax",cb="ArgMin",Ry="Asin",Py="Asinh",Oy="Atan",$y="Atanh",Uy="Atan2",ub="AvgPool",dI="AvgPoolGrad",Ab="AvgPool3D",hI="AvgPool3DGrad",db="BatchMatMul",hb="BatchToSpaceND",fI="Bincount",fb="BitwiseAnd",PJ="BroadcastTo",pI="BroadcastArgs",My="Cast",Qy="Ceil",jy="ClipByValue",mI="Complex",pb="ComplexAbs",mb="Concat",gb="Conv2D",gI="Conv2DBackpropFilter",yb="Conv2DBackpropInput",wb="Conv3D",yI="Conv3DBackpropFilterV2",wI="Conv3DBackpropInputV2",Hy="Cos",zy="Cosh",vI="Cumprod",vb="Cumsum",xI="CropAndResize",bI="DenseBincount",CI="DepthToSpace",xb="DepthwiseConv2dNative",SI="DepthwiseConv2dNativeBackpropFilter",BI="DepthwiseConv2dNativeBackpropInput",_I="Diag",bb="Dilation2D",k_="Dilation2DBackpropInput",T_="Dilation2DBackpropFilter",NI="Draw",Vy="RealDiv",II="Einsum",Wy="Elu",EI="EluGrad",Gy="Erf",Cb="Equal",Ky="Exp",Sb="ExpandDims",qy="Expm1",kI="FFT",TI="Fill",FI="FlipLeftRight",Xy="Floor",Yy="FloorDiv",Bb="FusedBatchNorm",_b="GatherV2",LI="GatherNd",Nb="Greater",Zy="GreaterEqual",Jy="Identity",DI="IFFT",RI="Imag",e1="IsFinite",t1="IsInf",n1="IsNan",Ib="LeakyRelu",Eb="Less",kb="LessEqual",PI="LinSpace",r1="Log",s1="Log1p",Tb="LogicalAnd",Fb="LogicalNot",Lb="LogicalOr",nTe="LogicalXor",OJ="LogSoftmax",rTe="LowerBound",Db="LRN",OI="LRNGrad",sTe="MatrixBandPart",Rb="Max",i1="Maximum",Pb="MaxPool",$I="MaxPoolGrad",Ob="MaxPool3D",UI="MaxPool3DGrad",MI="MaxPoolWithArgmax",$b="Mean",Ub="Min",o1="Minimum",Mb="MirrorPad",a1="Mod",QI="Multinomial",l1="Multiply",Qb="Neg",jb="NotEqual",jI="NonMaxSuppressionV3",HI="NonMaxSuppressionV4",zI="NonMaxSuppressionV5",Hb="OnesLike",zb="OneHot",Vb="Pack",Wb="PadV2",iTe="Pool",c1="Pow",Gb="Prelu",Kb="Prod",VI="RaggedGather",WI="RaggedRange",GI="RaggedTensorToTensor",KI="Range",qI="Real",u1="Reciprocal",A1="Relu",qb="Reshape",Xb="ResizeNearestNeighbor",XI="ResizeNearestNeighborGrad",Yb="ResizeBilinear",YI="ResizeBilinearGrad",d1="Relu6",Zb="Reverse",h1="Round",f1="Rsqrt",ZI="ScatterNd",JI="TensorScatterUpdate",eE="SearchSorted",Jb="Select",p1="Selu",e2="Slice",m1="Sin",g1="Sinh",y1="Sign",w1="Sigmoid",v1="Softplus",x1="Sqrt",t2="Sum",n2="SpaceToBatchND",r2="SplitV",s2="Softmax",tE="SparseFillEmptyRows",nE="SparseReshape",rE="SparseSegmentMean",sE="SparseSegmentSum",iE="SparseToDense",b1="SquaredDifference",oE="Square",i2="StaticRegexReplace",aE="StridedSlice",lE="StringNGrams",cE="StringSplit",uE="StringToHashBucketFast",C1="Sub",S1="Tan",B1="Tanh",_1="Tile",AE="TopK",dE="Transform",em="Transpose",hE="Unique",o2="Unpack",a2="UnsortedSegmentSum",oTe="UpperBound",l2="ZerosLike",N1="Step",F_="FromPixels",fE="RotateWithOffset",hx="_FusedMatMul",fx="FusedConv2D",px="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function al(...t){Le().getBool("IS_TEST")||Le().getBool("PROD")||console.warn(...t)}function aTe(...t){Le().getBool("IS_TEST")||Le().getBool("PROD")||console.log(...t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ty=AP("kernelRegistry",()=>new Map),mx=AP("gradRegistry",()=>new Map);function gx(t,e){const n=dP(t,e);return ty.get(n)}function $3(t){return mx.get(t)}function L_(t){const e=ty.entries(),n=[];for(;;){const{done:r,value:s}=e.next();if(r)break;const[i,o]=s,[a]=i.split("_");a===t&&n.push(o)}return n}function pE(t){const{kernelName:e,backendName:n}=t,r=dP(e,n);ty.has(r)&&al(`The kernel '${e}' for backend '${n}' is already registered`),ty.set(r,t)}function $J(t){const{kernelName:e}=t;mx.has(e)&&Le().getBool("DEBUG")&&al(`Overriding the gradient for '${e}'`),mx.set(e,t)}function lTe(t,e){const n=dP(t,e);if(!ty.has(n))throw new Error(`The kernel '${t}' for backend '${e}' is not registered`);ty.delete(n)}function cTe(t){if(!mx.has(t))throw new Error(`The gradient '${t}' for backend is not registered`);mx.delete(t)}function uTe(t,e){L_(t).forEach(r=>{const s=Object.assign({},r,{backendName:e});pE(s)})}function dP(t,e){return`${e}_${t}`}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UJ(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}var MJ=jr,Jl=null;try{Jl=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function jr(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}jr.prototype.__isLong__;Object.defineProperty(jr.prototype,"__isLong__",{value:!0});function Qa(t){return(t&&t.__isLong__)===!0}jr.isLong=Qa;var _H={},NH={};function Vm(t,e){var n,r,s;return e?(t>>>=0,(s=0<=t&&t<256)&&(r=NH[t],r)?r:(n=Hr(t,(t|0)<0?-1:0,!0),s&&(NH[t]=n),n)):(t|=0,(s=-128<=t&&t<128)&&(r=_H[t],r)?r:(n=Hr(t,t<0?-1:0,!1),s&&(_H[t]=n),n))}jr.fromInt=Vm;function ec(t,e){if(isNaN(t))return e?$p:tc;if(e){if(t<0)return $p;if(t>=QJ)return zJ}else{if(t<=-EH)return Ta;if(t+1>=EH)return HJ}return t<0?ec(-t,e).neg():Hr(t%ny|0,t/ny|0,e)}jr.fromNumber=ec;function Hr(t,e,n){return new jr(t,e,n)}jr.fromBits=Hr;var D_=Math.pow;function hP(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return tc;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return hP(t.substring(1),e,n).neg();for(var s=ec(D_(n,8)),i=tc,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),l=parseInt(t.substring(o,o+a),n);if(a<8){var c=ec(D_(n,a));i=i.mul(c).add(ec(l))}else i=i.mul(s),i=i.add(ec(l))}return i.unsigned=e,i}jr.fromString=hP;function Cu(t,e){return typeof t=="number"?ec(t,e):typeof t=="string"?hP(t,e):Hr(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}jr.fromValue=Cu;var IH=65536,ATe=1<<24,ny=IH*IH,QJ=ny*ny,EH=QJ/2,kH=Vm(ATe),tc=Vm(0);jr.ZERO=tc;var $p=Vm(0,!0);jr.UZERO=$p;var o0=Vm(1);jr.ONE=o0;var jJ=Vm(1,!0);jr.UONE=jJ;var U3=Vm(-1);jr.NEG_ONE=U3;var HJ=Hr(-1,2147483647,!1);jr.MAX_VALUE=HJ;var zJ=Hr(-1,-1,!0);jr.MAX_UNSIGNED_VALUE=zJ;var Ta=Hr(0,-2147483648,!1);jr.MIN_VALUE=Ta;var pt=jr.prototype;pt.toInt=function(){return this.unsigned?this.low>>>0:this.low};pt.toNumber=function(){return this.unsigned?(this.high>>>0)*ny+(this.low>>>0):this.high*ny+(this.low>>>0)};pt.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Ta)){var n=ec(e),r=this.div(n),s=r.mul(n).sub(this);return r.toString(e)+s.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var i=ec(D_(e,6),this.unsigned),o=this,a="";;){var l=o.div(i),c=o.sub(l.mul(i)).toInt()>>>0,u=c.toString(e);if(o=l,o.isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}};pt.getHighBits=function(){return this.high};pt.getHighBitsUnsigned=function(){return this.high>>>0};pt.getLowBits=function(){return this.low};pt.getLowBitsUnsigned=function(){return this.low>>>0};pt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ta)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1};pt.isZero=function(){return this.high===0&&this.low===0};pt.eqz=pt.isZero;pt.isNegative=function(){return!this.unsigned&&this.high<0};pt.isPositive=function(){return this.unsigned||this.high>=0};pt.isOdd=function(){return(this.low&1)===1};pt.isEven=function(){return(this.low&1)===0};pt.equals=function(e){return Qa(e)||(e=Cu(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};pt.eq=pt.equals;pt.notEquals=function(e){return!this.eq(e)};pt.neq=pt.notEquals;pt.ne=pt.notEquals;pt.lessThan=function(e){return this.comp(e)<0};pt.lt=pt.lessThan;pt.lessThanOrEqual=function(e){return this.comp(e)<=0};pt.lte=pt.lessThanOrEqual;pt.le=pt.lessThanOrEqual;pt.greaterThan=function(e){return this.comp(e)>0};pt.gt=pt.greaterThan;pt.greaterThanOrEqual=function(e){return this.comp(e)>=0};pt.gte=pt.greaterThanOrEqual;pt.ge=pt.greaterThanOrEqual;pt.compare=function(e){if(Qa(e)||(e=Cu(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};pt.comp=pt.compare;pt.negate=function(){return!this.unsigned&&this.eq(Ta)?Ta:this.not().add(o0)};pt.neg=pt.negate;pt.add=function(e){Qa(e)||(e=Cu(e));var n=this.high>>>16,r=this.high&65535,s=this.low>>>16,i=this.low&65535,o=e.high>>>16,a=e.high&65535,l=e.low>>>16,c=e.low&65535,u=0,A=0,d=0,h=0;return h+=i+c,d+=h>>>16,h&=65535,d+=s+l,A+=d>>>16,d&=65535,A+=r+a,u+=A>>>16,A&=65535,u+=n+o,u&=65535,Hr(d<<16|h,u<<16|A,this.unsigned)};pt.subtract=function(e){return Qa(e)||(e=Cu(e)),this.add(e.neg())};pt.sub=pt.subtract;pt.multiply=function(e){if(this.isZero())return tc;if(Qa(e)||(e=Cu(e)),Jl){var n=Jl.mul(this.low,this.high,e.low,e.high);return Hr(n,Jl.get_high(),this.unsigned)}if(e.isZero())return tc;if(this.eq(Ta))return e.isOdd()?Ta:tc;if(e.eq(Ta))return this.isOdd()?Ta:tc;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(kH)&&e.lt(kH))return ec(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,s=this.high&65535,i=this.low>>>16,o=this.low&65535,a=e.high>>>16,l=e.high&65535,c=e.low>>>16,u=e.low&65535,A=0,d=0,h=0,p=0;return p+=o*u,h+=p>>>16,p&=65535,h+=i*u,d+=h>>>16,h&=65535,h+=o*c,d+=h>>>16,h&=65535,d+=s*u,A+=d>>>16,d&=65535,d+=i*c,A+=d>>>16,d&=65535,d+=o*l,A+=d>>>16,d&=65535,A+=r*u+s*c+i*l+o*a,A&=65535,Hr(h<<16|p,A<<16|d,this.unsigned)};pt.mul=pt.multiply;pt.divide=function(e){if(Qa(e)||(e=Cu(e)),e.isZero())throw Error("division by zero");if(Jl){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?Jl.div_u:Jl.div_s)(this.low,this.high,e.low,e.high);return Hr(n,Jl.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?$p:tc;var r,s,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return $p;if(e.gt(this.shru(1)))return jJ;i=$p}else{if(this.eq(Ta)){if(e.eq(o0)||e.eq(U3))return Ta;if(e.eq(Ta))return o0;var o=this.shr(1);return r=o.div(e).shl(1),r.eq(tc)?e.isNegative()?o0:U3:(s=this.sub(e.mul(r)),i=r.add(s.div(e)),i)}else if(e.eq(Ta))return this.unsigned?$p:tc;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=tc}for(s=this;s.gte(e);){r=Math.max(1,Math.floor(s.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),l=a<=48?1:D_(2,a-48),c=ec(r),u=c.mul(e);u.isNegative()||u.gt(s);)r-=l,c=ec(r,this.unsigned),u=c.mul(e);c.isZero()&&(c=o0),i=i.add(c),s=s.sub(u)}return i};pt.div=pt.divide;pt.modulo=function(e){if(Qa(e)||(e=Cu(e)),Jl){var n=(this.unsigned?Jl.rem_u:Jl.rem_s)(this.low,this.high,e.low,e.high);return Hr(n,Jl.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};pt.mod=pt.modulo;pt.rem=pt.modulo;pt.not=function(){return Hr(~this.low,~this.high,this.unsigned)};pt.and=function(e){return Qa(e)||(e=Cu(e)),Hr(this.low&e.low,this.high&e.high,this.unsigned)};pt.or=function(e){return Qa(e)||(e=Cu(e)),Hr(this.low|e.low,this.high|e.high,this.unsigned)};pt.xor=function(e){return Qa(e)||(e=Cu(e)),Hr(this.low^e.low,this.high^e.high,this.unsigned)};pt.shiftLeft=function(e){return Qa(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Hr(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Hr(0,this.low<<e-32,this.unsigned)};pt.shl=pt.shiftLeft;pt.shiftRight=function(e){return Qa(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Hr(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Hr(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};pt.shr=pt.shiftRight;pt.shiftRightUnsigned=function(e){if(Qa(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var r=this.low;return Hr(r>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?Hr(n,0,this.unsigned):Hr(n>>>e-32,0,this.unsigned)};pt.shru=pt.shiftRightUnsigned;pt.shr_u=pt.shiftRightUnsigned;pt.toSigned=function(){return this.unsigned?Hr(this.low,this.high,!1):this};pt.toUnsigned=function(){return this.unsigned?this:Hr(this.low,this.high,!0)};pt.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};pt.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};pt.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};jr.fromBytes=function(e,n,r){return r?jr.fromBytesLE(e,n):jr.fromBytesBE(e,n)};jr.fromBytesLE=function(e,n){return new jr(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};jr.fromBytesBE=function(e,n){return new jr(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const VJ=Dx(MJ),dTe=wV({__proto__:null,default:VJ},[MJ]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cp=VJ||dTe;function c2(t){return Cp.fromString(t,!0,16)}const WJ=c2("c3a5c85c97cb3127"),yp=c2("b492b66fbe98f273"),_o=c2("9ae16a3b2f90404f");function M3(t){return t.xor(t.shru(47))}function GJ(t,e,n){const r=t.slice(e,e+n);return Cp.fromBytes(Array.from(r),!0,!0)}function Dr(t,e){return GJ(t,e,8)}function TH(t,e){return GJ(t,e,4)}function mi(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function ef(t,e,n=c2("9ddfea08eb382d69")){let r=t.xor(e).mul(n);r=r.xor(r.shru(47));let s=e.xor(r).mul(n);return s=s.xor(s.shru(47)),s=s.mul(n),s}function hTe(t,e,n,r,s,i){s=s.add(t),i=mi(i.add(s).add(r),21);const o=s;return s=s.add(e),s=s.add(n),i=i.add(mi(s,44)),[s.add(r),i.add(o)]}function vS(t,e,n,r){return hTe(Dr(t,e),Dr(t,e+8),Dr(t,e+16),Dr(t,e+24),n,r)}function fTe(t,e=t.length){if(e>=8){const n=_o.add(e*2),r=Dr(t,0).add(_o),s=Dr(t,e-8),i=mi(s,37).mul(n).add(r),o=mi(r,25).add(s).mul(n);return ef(i,o,n)}if(e>=4){const n=_o.add(e*2),r=TH(t,0);return ef(r.shl(3).add(e),TH(t,e-4),n)}if(e>0){const n=t[0],r=t[e>>1],s=t[e-1],i=n+(r<<8),o=e+(s<<2);return M3(_o.mul(i).xor(WJ.mul(o))).mul(_o)}return _o}function pTe(t,e=t.length){const n=_o.add(e*2),r=Dr(t,0).mul(yp),s=Dr(t,8),i=Dr(t,e-8).mul(n),o=Dr(t,e-16).mul(_o);return ef(mi(r.add(s),43).add(mi(i,30)).add(o),r.add(mi(s.add(_o),18)).add(i),n)}function mTe(t,e=t.length){const n=_o.add(e*2),r=Dr(t,0).mul(_o),s=Dr(t,8),i=Dr(t,e-8).mul(n),o=Dr(t,e-16).mul(_o),a=mi(r.add(s),43).add(mi(i,30)).add(o),l=ef(a,r.add(mi(s.add(_o),18)).add(i),n),c=Dr(t,16).mul(n),u=Dr(t,24),A=a.add(Dr(t,e-32)).mul(n),d=l.add(Dr(t,e-24)).mul(n);return ef(mi(c.add(u),43).add(mi(A,30)).add(d),c.add(mi(u.add(r),18)).add(A),n)}function KJ(t,e=t.length){const n=Cp.fromNumber(81,!0);if(e<=32)return e<=16?fTe(t,e):pTe(t,e);if(e<=64)return mTe(t,e);let r=n,s=n.mul(yp).add(113),i=M3(s.mul(_o).add(113)).mul(_o),o=[Cp.UZERO,Cp.UZERO],a=[Cp.UZERO,Cp.UZERO];r=r.mul(_o).add(Dr(t,0));let l=0;const c=(e-1>>6)*64,u=c+(e-1&63)-63;do r=mi(r.add(s).add(o[0]).add(Dr(t,l+8)),37).mul(yp),s=mi(s.add(o[1]).add(Dr(t,l+48)),42).mul(yp),r=r.xor(a[1]),s=s.add(o[0]).add(Dr(t,l+40)),i=mi(i.add(a[0]),33).mul(yp),o=vS(t,l,o[1].mul(yp),r.add(a[0])),a=vS(t,l+32,i.add(a[1]),s.add(Dr(t,l+16))),[i,r]=[r,i],l+=64;while(l!==c);const A=yp.add(i.and(255).shl(1));return l=u,a[0]=a[0].add(e-1&63),o[0]=o[0].add(a[0]),a[0]=a[0].add(o[0]),r=mi(r.add(s).add(o[0]).add(Dr(t,l+8)),37).mul(A),s=mi(s.add(o[1]).add(Dr(t,l+48)),42).mul(A),r=r.xor(a[1].mul(9)),s=s.add(o[0].mul(9).add(Dr(t,l+40))),i=mi(i.add(a[0]),33).mul(A),o=vS(t,l,o[1].mul(A),r.add(a[0])),a=vS(t,l+32,i.add(a[1]),s.add(Dr(t,l+16))),[i,r]=[r,i],ef(ef(o[0],a[0],A).add(M3(s).mul(WJ)).add(i),ef(o[1],a[1],A).add(r),A)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nd(t,e){return e==="string"?dA(t):Ff([t],e)}function gTe(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function Ff(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=vA(t)),Le().getBool("DEBUG")&&IJ(t,e),gTe(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let r=0;r<n.length;++r)Math.round(t[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${e}`)}function Co(){return Le().platform.now()}function yTe(t,e){return Le().platform.fetch(t,e)}function dA(t,e="utf-8"){return e=e||"utf-8",Le().platform.encode(t,e)}function vd(t,e="utf-8"){return e=e||"utf-8",Le().platform.decode(t,e)}function gi(t){return Le().platform.isTypedArray!=null?Le().platform.isTypedArray(t):UJ(t)}function vA(t,e=[],n=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||hf(t)||t==null||gi(t)&&n)e.push(t);else if(Array.isArray(t)||gi(t))for(let r=0;r<t.length;++r)vA(t[r],e,n);else{let r=-1;for(const s of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(s)&&(r=Math.max(r,Number(s)));for(let s=0;s<=r;s++)vA(t[s],e,n)}return e}const wTe=Object.freeze(Object.defineProperty({__proto__:null,arraysEqual:Pn,arraysEqualWithNull:NJ,assert:ee,assertNonNegativeIntegerDimensions:Ma,assertNonNull:Qm,assertShapesMatch:Di,bytesFromStringArray:kJ,bytesPerElement:dx,checkConversionForErrors:IJ,clamp:Af,computeStrides:Gt,convertBackendValuesAndArrayBuffer:LJ,createScalarValue:Nd,createShuffledIndices:Xke,decodeString:vd,distSquared:Gke,encodeString:dA,fetch:yTe,fingerPrint64:KJ,flatten:vA,getArrayFromDType:ms,getTypedArrayFromDType:vi,hasEncodingLoss:lP,hexToLong:c2,indexToLoc:Hm,inferDtype:jm,inferFromImplicitShape:aP,isBoolean:TJ,isFunction:df,isInt:ym,isNumber:I_,isPromise:hf,isScalarShape:Kke,isString:nA,isTypedArray:gi,isValidDtype:EJ,locToIndex:ou,makeOnesTypedArray:cI,makeZerosNestedTypedArray:cP,makeZerosTypedArray:Li,nearestDivisor:E_,nearestLargerEven:lI,now:Co,parseAxisParam:En,randUniform:Wke,repeatedTry:O3,rightPad:Jp,shuffle:oP,shuffleCombo:Vke,sizeFromShape:$e,sizeToSquarishShape:N_,squeezeShape:_d,sum:_J,swap:sd,tanh:qke,toNestedArray:ml,toTypedArray:Ff},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vTe{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new bTe)}profileKernel(e,n,r){let s;const i=()=>{s=r()};let o;const a=Co();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(i);else{i();for(const c of s)c.dataSync();o=Promise.resolve({kernelMs:Co()-a})}if(Le().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let c=0;c<s.length;c++){const u=s[c];u.data().then(A=>{xTe(A,u.dtype,e)})}return{kernelName:e,outputs:s,inputs:n,timeMs:o.then(c=>c.kernelMs),extraInfo:o.then(c=>c.getExtraProfileInfo!=null?c.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:r,timeMs:s,inputs:i,extraInfo:o}=e;r.forEach(a=>{Promise.all([a.data(),s,o]).then(l=>{this.logger.logKernelProfile(n,a,l[0],l[1],i,l[2])})})}}function xTe(t,e,n){if(e!=="float32")return!1;for(let r=0;r<t.length;r++){const s=t[r];if(isNaN(s)||!isFinite(s))return console.warn(`Found ${s} in the result of '${n}'`),!0}return!1}class bTe{logKernelProfile(e,n,r,s,i,o){const a=typeof s=="number"?Jp(`${s}ms`,9):s.error,l=Jp(e,25),c=n.rank,u=n.size,A=Jp(n.shape.toString(),14);let d="";for(const h in i){const p=i[h];if(p!=null){const m=p.shape||n.shape,y=m.length;d+=`${h}: ${y}D ${y>0?m:""} `}}console.log(`%c${l}	%c${a}	%c${c}D ${A}	%c${u}	%c${d}	%c${o}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CTe(t,e,n){const r={},s={};for(let l=0;l<e.length;l++)r[e[l].id]=!0;for(let l=0;l<t.length;l++){const c=t[l],u=c.inputs;for(const A in u){const d=u[A];let h=!1;for(let p=0;p<e.length;p++)if(r[d.id]){c.outputs.forEach(m=>r[m.id]=!0),h=!0,s[c.id]=!0;break}if(h)break}}const i={};i[n.id]=!0;const o={};for(let l=t.length-1;l>=0;l--){const c=t[l],u=c.inputs;for(let A=0;A<c.outputs.length;A++)if(i[c.outputs[A].id]){for(const d in u)i[u[d].id]=!0,o[c.id]=!0;break}}const a=[];for(let l=0;l<t.length;l++){const c=t[l];if(s[c.id]&&o[c.id]){const u={};for(const d in c.inputs){const h=c.inputs[d];r[h.id]&&(u[d]=h)}const A=Object.assign({},c);A.inputs=u,A.outputs=c.outputs,a.push(A)}}return a}function STe(t,e,n,r){for(let s=e.length-1;s>=0;s--){const i=e[s],o=[];if(i.outputs.forEach(l=>{const c=t[l.id];c!=null?o.push(c):o.push(null)}),i.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);const a=i.gradient(o);for(const l in i.inputs){if(!(l in a))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(a)}.`);const c=n(()=>a[l]());if(c.dtype!=="float32")throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${c.dtype}'`);const u=i.inputs[l];if(!Pn(c.shape,u.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${l}' has shape '${c.shape}', which does not match the shape of the input '${u.shape}'`);if(t[u.id]==null)t[u.id]=c;else{const A=t[u.id];t[u.id]=r(A,c),A.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FH=20,Cw=3,Q5=7;function BTe(t,e,n,r){const s=Gt(e),i=_Te(t,e,n,s),o=e.length,a=pB(t,e,n,s,i),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${o}`),l.push(`  shape: [${e}]`),l.push("  values:")),l.push(a.map(c=>"    "+c).join(`
`)),l.join(`
`)}function _Te(t,e,n,r){const s=$e(e),i=r[r.length-1],o=new Array(i).fill(0),a=e.length,l=n==="complex64"?Gw(t):t;if(a>1)for(let c=0;c<s/i;c++){const u=c*i;for(let A=0;A<i;A++)o[A]=Math.max(o[A],Ww(l[u+A],0,n).length)}return o}function Ww(t,e,n){let r;return Array.isArray(t)?r=`${parseFloat(t[0].toFixed(Q5))} + ${parseFloat(t[1].toFixed(Q5))}j`:nA(t)?r=`'${t}'`:n==="bool"?r=qJ(t):r=parseFloat(t.toFixed(Q5)).toString(),Jp(r,e)}function qJ(t){return t===0?"false":"true"}function pB(t,e,n,r,s,i=!0){const o=n==="complex64"?2:1,a=e[0],l=e.length;if(l===0){if(n==="complex64"){const m=Gw(t);return[Ww(m[0],0,n)]}return n==="bool"?[qJ(t[0])]:[t[0].toString()]}if(l===1){if(a>FH){const y=Cw*o;let g=Array.from(t.slice(0,y)),v=Array.from(t.slice((a-Cw)*o,a*o));return n==="complex64"&&(g=Gw(g),v=Gw(v)),["["+g.map((b,C)=>Ww(b,s[C],n)).join(", ")+", ..., "+v.map((b,C)=>Ww(b,s[a-Cw+C],n)).join(", ")+"]"]}return["["+(n==="complex64"?Gw(t):Array.from(t)).map((y,g)=>Ww(y,s[g],n)).join(", ")+"]"]}const c=e.slice(1),u=r.slice(1),A=r[0]*o,d=[];if(a>FH){for(let m=0;m<Cw;m++){const y=m*A,g=y+A;d.push(...pB(t.slice(y,g),c,n,u,s,!1))}d.push("...");for(let m=a-Cw;m<a;m++){const y=m*A,g=y+A;d.push(...pB(t.slice(y,g),c,n,u,s,m===a-1))}}else for(let m=0;m<a;m++){const y=m*A,g=y+A;d.push(...pB(t.slice(y,g),c,n,u,s,m===a-1))}const h=l===2?",":"";d[0]="["+(a>0?d[0]+h:"");for(let m=1;m<d.length-1;m++)d[m]=" "+d[m]+h;let p=`,
`;for(let m=2;m<l;m++)p+=`
`;return d[d.length-1]=" "+d[d.length-1]+"]"+(i?"":p),d}function Gw(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ws{constructor(e,n,r){if(this.dtype=n,this.shape=e.slice(),this.size=$e(e),r!=null){const s=r.length;ee(s===this.size,()=>`Length of values '${s}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||ms(n,this.size),this.strides=Gt(e)}set(e,...n){n.length===0&&(n=[0]),ee(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const s of e){if(s<0||s>=this.shape[n]){const i=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(i)}n++}let r=e[e.length-1];for(let s=0;s<e.length-1;++s)r+=this.strides[s]*e[s];return this.values[r]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return Jc().makeTensor(this.values,this.shape,this.dtype)}}let Jc=null,Ug=null;function NTe(t){Jc=t}function ITe(t){Ug=t}class lr{constructor(e,n,r,s){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=$e(e),this.strides=Gt(e),this.dataId=r,this.id=s,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Ug.buffer(this.shape,this.dtype,e)}bufferSync(){return Ug.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return ml(this.shape,e,this.dtype==="complex64")}arraySync(){return ml(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Jc().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(r=>vd(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Jc().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Jc().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>vd(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Jc().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Jc().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Ug.print(this,e)}clone(){return this.throwIfDisposed(),Ug.clone(this)}toString(e=!1){const n=this.dataSync();return BTe(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Ug.cast(this,e)}variable(e=!0,n,r){return this.throwIfDisposed(),Jc().makeVariable(this,e,n,r)}}Object.defineProperty(lr,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function He(){return AP("Tensor",()=>lr)}He();class yx extends lr{constructor(e,n,r,s){super(e.shape,e.dtype,e.dataId,s),this.trainable=n,this.name=r}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!Pn(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Jc().disposeTensor(this),this.dataId=e.dataId,Jc().incRef(this,null)}dispose(){Jc().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(yx,Symbol.hasInstance,{value:t=>t instanceof lr&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Q3;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(Q3||(Q3={}));var j3;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(j3||(j3={}));var H3;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(H3||(H3={}));var z3;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(z3||(z3={}));var V3;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(V3||(V3={}));const ETe={float32:z3,int32:j3,bool:H3,complex64:V3};function ea(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return ETe[t][e]}function mE(t){return ea(t,"int32")}function XJ(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}function YJ(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ls(t,e){if(t.dtype===e.dtype)return[t,e];const n=ea(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function ZJ(t,e){ee(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function kTe(t,e){return e.some(n=>n.id===t.id)}function fP(t){const e=[];return JJ(t,e,new Set),e}function JJ(t,e,n){if(t==null)return;if(t instanceof lr){e.push(t);return}if(!TTe(t))return;const r=t;for(const s in r){const i=r[s];n.has(i)||(n.add(i),JJ(i,e,n))}}function TTe(t){return Array.isArray(t)||typeof t=="object"}const FTe=Object.freeze(Object.defineProperty({__proto__:null,assertTypesMatch:ZJ,getTensorsInContainer:fP,isTensorInList:kTe,makeTypesMatch:ls},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j5(t){return t.kernelName!=null}class LH{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class ry{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new LH}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,r=1){return e in this.registryFactory?(al(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:r},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(e);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new vTe(this.backendInstance),!0}setupRegisteredKernels(){L_(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){L_(e).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof aI)&&typeof r.then=="function"){const s=++this.pendingBackendInitId,i=r.then(o=>s<this.pendingBackendInitId?!1:(this.registry[e]=o,this.pendingBackendInit=null,!0)).catch(o=>(s<this.pendingBackendInitId||(this.pendingBackendInit=null,al(`Initialization of backend ${e} failed`),al(o.stack||o.message)),!1));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}else return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(r){return al(`Initialization of backend ${e} failed`),al(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n],{success:s,asyncInit:i}=this.initializeBackend(r);if(i||s)return{name:r,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const r=this.state.tensorInfo.get(n),s=r.backend,i=this.readSync(n),o=s.refCount(n);s.disposeData(n,!0),r.backend=e,e.move(n,i,r.shape,r.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let r=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}let s;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(s),()=>(s=n(),s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),s))}scopedRun(e,n,r){e();try{const s=r();return n(),s}catch(s){throw n(),s}}nextTensorId(){return ry.nextTensorId++}nextVariableId(){return ry.nextVariableId++}clone(e){const n=ge.runKernel(Jy,{x:e}),r={x:e},s=o=>({x:()=>{const a="float32",l={x:o},c={dtype:a};return ge.runKernel(My,l,c)}}),i=[];return this.addTapeNode(this.state.activeScope.name,r,[n],s,i,{}),n}runKernel(e,n,r){if(this.backendName==null&&this.backend,!(gx(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,r){const s=this.backend.numDataIds();let i=0;r.forEach(l=>{i+=l.dtype==="complex64"?3:1});const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=s-n-i-o;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${e}'`)}runKernelFunc(e){let n,r=[];const s=this.isTapeOn(),i=this.state.numBytes,o=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let a;this.backendName==null&&this.backend;let l;const c=j5(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(j5(e)){const{kernelName:p,inputs:m,attrs:y}=e;this.backendName==null&&this.backend;const g=gx(p,this.backendName);ee(g!=null,()=>`Cannot find registered kernel '${p}' for backend '${this.backendName}'`),a=()=>{const v=this.backend.numDataIds();l=g.kernelFunc({inputs:m,attrs:y,backend:this.backend});const b=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(p,v,b);const C=b.map(_=>_.rank!=null?_:this.makeTensorFromTensorInfo(_));if(s){const _=this.getTensorsForGradient(p,m,C);r=this.saveTensorsForBackwardMode(_)}return C}}else{const{forwardFunc:p}=e,m=y=>{s&&(r=y.map(g=>this.keep(this.clone(g))))};a=()=>{const y=this.backend.numDataIds();l=this.tidy(()=>p(this.backend,m));const g=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(c,y,g),g}}const{inputs:u,attrs:A}=e,d=j5(e)?null:e.backwardsFunc;let h;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=a():(h=this.profiler.profileKernel(c,u,()=>a()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),n=h.outputs)}),s&&this.addTapeNode(c,u,n,d,r,A),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map(p=>u[p]!=null?u[p].shape:null),outputShapes:n.map(p=>p.shape),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,n,r){const s=$3(e);if(s!=null){const i=s.inputsToSave||[],o=s.outputsToSave||[];let a;s.saveAllInputs?(ee(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),a=Object.keys(n).map(c=>n[c])):a=i.map(c=>n[c]);const l=r.filter((c,u)=>o[u]);return a.concat(l)}return[]}makeTensor(e,n,r,s){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",s=s||this.backend;let i=e;r==="string"&&nA(e[0])&&(i=e.map(l=>dA(l)));const o=s.write(i,n,r),a=new lr(n,r,o,this.nextTensorId());if(this.trackTensor(a,s),r==="string"){const l=this.state.tensorInfo.get(o),c=kJ(i);this.state.numBytes+=c-l.bytes,l.bytes=c}return a}makeTensorFromDataId(e,n,r,s){r=r||"float32";const i={dataId:e,shape:n,dtype:r};return this.makeTensorFromTensorInfo(i,s)}makeTensorFromTensorInfo(e,n){const{dataId:r,shape:s,dtype:i}=e,o=new lr(s,i,r,this.nextTensorId());return this.trackTensor(o,n),o}makeVariable(e,n=!0,r,s){r=r||this.nextVariableId().toString(),s!=null&&s!==e.dtype&&(e=e.cast(s));const i=new yx(e,n,r,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let r=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(r=e.size*dx(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof yx||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const r=e.size*dx(e.dtype);this.state.numBytes-=r}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(s=>s.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const s of this.state.activeProfile.kernels)s.kernelTimeMs=await s.kernelTimeMs,s.extraInfo=await s.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,r,s,i,o){const a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:i},l=$3(e);l!=null&&(s=l.gradFunc),s!=null&&(a.gradient=c=>(c=c.map((u,A)=>{if(u==null){const d=r[A],h=Li(d.size,d.dtype);return this.makeTensor(h,d.shape,d.dtype)}return u}),s(c.length>1?c:c[0],i,o))),this.state.activeTape.push(a)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=fP(e),r=new Set(n.map(i=>i.id));for(let i=0;i<this.state.activeScope.track.length;i++){const o=this.state.activeScope.track[i];!o.kept&&!r.has(o.id)&&o.dispose()}const s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(i=>{!i.kept&&i.scopeId===s.id&&this.track(i)})}gradients(e,n,r,s=!1){if(ee(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const i=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));ee(i instanceof lr,()=>"The result y returned by f() must be a tensor.");const o=CTe(this.state.activeTape,n,i);if(!s&&o.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const a={};a[i.id]=r??LTe(i.shape),STe(a,o,c=>this.tidy(c),DTe);const l=n.map(c=>a[c.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(c=>{for(const u of c.saved)u.dispose()}),this.state.activeTape=null),{value:i,grads:l}})}customGrad(e){return ee(df(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{ee(n.every(a=>a instanceof lr),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const s={};n.forEach((a,l)=>{s[l]=a});const i=(a,l)=>(r=e(...n,l),ee(r.value instanceof lr,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),ee(df(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),o=(a,l)=>{const c=r.gradFunc(a,l),u=Array.isArray(c)?c:[c];ee(u.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),ee(u.every(d=>d instanceof lr),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const A={};return u.forEach((d,h)=>{A[h]=()=>d}),A};return this.runKernelFunc({forwardFunc:i,backwardsFunc:o,inputs:s})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=Co(),r=await this.backend.time(e);return r.wallMs=Co()-n,r}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new LH;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}ry.nextTensorId=0;ry.nextVariableId=0;function LTe(t){const e=cI($e(t),"float32");return ge.makeTensor(e,t,"float32")}function eee(){const t=RJ();if(t._tfengine==null){const e=new DJ(t);t._tfengine=new ry(e)}return eTe(t._tfengine.ENV),NTe(()=>t._tfengine),t._tfengine}const ge=eee();function DTe(t,e){const n={a:t,b:e};return ge.runKernel(zm,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RTe(){return typeof navigator<"u"&&navigator!=null}let W3;function PTe(t){W3=t}function pP(t){if(W3!==void 0)return W3;if(t||RTe()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function mP(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}const OTe=Object.freeze(Object.defineProperty({__proto__:null,isBrowser:mP,isMobile:pP,mockIsMobile:PTe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ta=Le();ta.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});ta.registerFlag("IS_BROWSER",()=>mP());ta.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");ta.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));ta.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));ta.registerFlag("PROD",()=>!1);ta.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>ta.getBool("DEBUG"));ta.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);ta.registerFlag("IS_TEST",()=>!1);ta.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>ta.getBool("DEBUG"));ta.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);ta.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);ta.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xA(t,e){let n=t;if(gi(t))return e==="string"?[]:[t.length];if(XJ(t)){const s=t.channels||"RGBA";return[t.height,t.width*s.length]}else if(YJ(t))return[t.buffer.size/(e==null?4:dx(e))];if(!Array.isArray(t))return[];const r=[];for(;Array.isArray(n)||gi(n)&&e!=="string";)r.push(n.length),n=n[0];return Array.isArray(t)&&Le().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&tee(t,r,[]),r}function tee(t,e,n){if(n=n||[],!Array.isArray(t)&&!gi(t)){ee(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}ee(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),ee(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const r=e.slice(1);for(let s=0;s<t.length;++s)tee(t[s],r,n.concat(s))}function DH(t,e,n,r){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${t} tensor, but got ${e} tensor`)}}function ie(t,e,n,r="numeric"){if(t instanceof He())return DH(r,t.dtype,e,n),t;let s=jm(t);if(s!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(s=r),DH(r,s,e,n),t==null||!gi(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const l=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${l}'`)}const i=xA(t,s);!gi(t)&&!Array.isArray(t)&&(t=[t]);const a=s!=="string"?Ff(t,s):vA(t,[],!0);return ge.makeTensor(a,i,s)}function wx(t,e,n,r="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((i,o)=>ie(i,`${e}[${o}]`,n,r))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gP="__op";function ye(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+gP;const s=(...i)=>{ge.startScope(n);try{const o=r(...i);return hf(o)&&console.error("Cannot return a Promise inside of tidy."),ge.endScope(o),o}catch(o){throw ge.endScope(null),o}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Te(t,e){const n=ie(t,"real","complex"),r=ie(e,"imag","complex");Di(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const s={real:n,imag:r};return ge.runKernel(mI,s)}const xd=ye({complex_:$Te});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lf(t,e,n,r){if(r==null)r=jm(t);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(YJ(t)||XJ(t)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return ge.backend.createTensorFromGPUData(t,e||n,r)}if(!gi(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){Ma(e);const s=$e(e),i=$e(n);ee(s===i,()=>`Based on the provided shape, [${e}], the tensor should have ${s} values but has ${i}`);for(let o=0;o<n.length;++o){const a=n[o],l=o===n.length-1?a!==$e(e.slice(o)):!0;ee(n[o]===e[o]||!l,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!gi(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=r!=="string"?Ff(t,r):vA(t,[],!0),ge.makeTensor(t,e,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oc(t,e,n){const r=xA(t,n);return Lf(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wm={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class Su{static join(e){return new Su(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(r=>gi(r)?r.buffer:r),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let n=0;for(let r=0;r<e.length;r++){const s=e[r];r!==e.length-1&&s.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const i=n+s.byteLength;this.shards.push({buffer:s,start:n,end:i}),n=i}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,n=isNaN(Number(n))?0:n,e=Math.max(0,e),n=Math.min(this.byteLength,n),n<=e)return new ArrayBuffer(0);const r=this.findShardForByte(e);if(r===-1)throw new Error(`Could not find start shard for byte ${e}`);const s=n-e,i=new ArrayBuffer(s),o=new Uint8Array(i);let a=0;for(let l=r;l<this.shards.length;l++){const c=this.shards[l],A=e+a-c.start,d=a,p=Math.min(n,c.end)-c.start,m=new Uint8Array(c.buffer,A,p-A);if(o.set(m,d),a+=m.length,n<c.end)break}return i}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function n(s){return e<s.start?-1:e>=s.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const r=UTe(this.shards,n);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}function UTe(t,e){let n=0,r=t.length;for(;n<=r;){const s=Math.floor((r-n)/2)+n,i=e(t[s]);if(i===0)return s;i<0?r=s:n=s+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MTe(){Le().set("PROD",!0)}function QTe(){Le().set("DEBUG",!0)}function jTe(){Le().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function HTe(t){Le().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function zTe(){ge.disposeVariables()}function Kc(){return ge}function G3(){return ge.memory()}function VTe(t){return ge.profile(t)}function Te(t,e){return ge.tidy(t,e)}function Nn(t){fP(t).forEach(n=>n.dispose())}function Js(t){return ge.keep(t)}function WTe(t){return ge.time(t)}function GTe(t){return ge.setBackend(t)}function nee(){return ge.ready()}function ree(){return ge.backendName}function KTe(t){ge.removeBackend(t)}function qTe(t){return ge.findBackend(t)}function XTe(t){return ge.findBackendFactory(t)}function yP(t,e,n=1){return ge.registerBackend(t,e,n)}function wP(){return ge.backend}function YTe(t,e){Le().setPlatform(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ff=4;async function K3(t,e){const n=[],r=[],s=Array.isArray(t)?t.map(o=>o.name):Object.keys(t);for(let o=0;o<s.length;++o){const a=s[o],l=Array.isArray(t)?t[o].tensor:t[a];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${a}': ${l.dtype}`);const c={name:a,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const u=new Promise(async A=>{const d=await l.bytes(),h=d.reduce((y,g)=>y+g.length,0)+ff*d.length,p=new Uint8Array(h);let m=0;for(let y=0;y<d.length;y++){const g=d[y],v=new Uint8Array(new Uint32Array([g.length]).buffer);p.set(v,m),m+=ff,p.set(g,m),m+=g.length}A(p)});r.push(u)}else r.push(l.data());e!=null&&(c.group=e),n.push(c)}const i=await Promise.all(r);return{data:e5e(i),specs:n}}function see(t,e){const n=new Su(t),r={};let s=0;for(const i of e){const o=ZTe(i,(a,l)=>n.slice(s+a,s+l));r[i.name]=iee(i,n.slice(s,s+o)),s+=o}return r}function ZTe(t,e){const n=$e(t.shape);let r;if("quantization"in t){const s=t.quantization;r=wm[s.dtype]}else if(t.dtype==="string"){let s=0;for(let i=0;i<n;i++)s+=ff+new Uint32Array(e(s,s+ff))[0];return s}else r=wm[t.dtype];return n*r}async function JTe(t,e){const n=$e(t.shape);let r;if("quantization"in t){const s=t.quantization;r=wm[s.dtype]}else if(t.dtype==="string"){let s=0;for(let i=0;i<n;i++)s+=ff+new Uint32Array(await e(s,s+ff))[0];return s}else r=wm[t.dtype];return n*r}function iee(t,e){const n=t.name,r=t.dtype,s=t.shape,i=$e(s);let o,a=0;if("quantization"in t){const l=t.quantization;if(l.dtype==="uint8"||l.dtype==="uint16"){if(!("min"in l&&"scale"in l))throw new Error(`Weight ${t.name} with quantization ${l.dtype} doesn't have corresponding metadata min and scale.`)}else if(l.dtype==="float16"){if(r!=="float32")throw new Error(`Weight ${t.name} is quantized with ${l.dtype} which only supports weights of type float32 not ${r}.`)}else throw new Error(`Weight ${t.name} has unknown quantization dtype ${l.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const c=wm[l.dtype],u=l.dtype==="uint8"?new Uint8Array(e):new Uint16Array(e);if(r==="float32")if(l.dtype==="uint8"||l.dtype==="uint16"){o=new Float32Array(u.length);for(let A=0;A<u.length;A++){const d=u[A];o[A]=d*l.scale+l.min}}else if(l.dtype==="float16")o=o5e()(u);else throw new Error(`Unsupported quantization type ${l.dtype} for weight type float32.`);else if(r==="int32"){if(l.dtype!=="uint8"&&l.dtype!=="uint16")throw new Error(`Unsupported quantization type ${l.dtype} for weight type int32.`);o=new Int32Array(u.length);for(let A=0;A<u.length;A++){const d=u[A];o[A]=Math.round(d*l.scale+l.min)}}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);a+=i*c}else if(r==="string"){const l=$e(t.shape);o=[];for(let c=0;c<l;c++){const u=new Uint32Array(e.slice(a,a+ff))[0];a+=ff;const A=new Uint8Array(e.slice(a,a+u));o.push(A),a+=u}}else{const l=wm[r];if(r==="float32")o=new Float32Array(e);else if(r==="int32")o=new Int32Array(e);else if(r==="bool")o=new Uint8Array(e);else if(r==="complex64"){o=new Float32Array(e);const c=new Float32Array(o.length/2),u=new Float32Array(o.length/2);for(let p=0;p<c.length;p++)c[p]=o[p*2],u[p]=o[p*2+1];const A=oc(c,s,"float32"),d=oc(u,s,"float32"),h=xd(A,d);return A.dispose(),d.dispose(),h}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);a+=i*l}return oc(o,s,r)}async function RH(t,e,n){let r=new Uint8Array(e);for(;r.byteLength<n;){const{done:s,value:i}=await t.read();if(s&&i==null){const a=n-r.byteLength;throw new Error(`Reader is done but ${a} bytes are still expected`)}const o=new Uint8Array(r.length+i.byteLength);o.set(r,0),o.set(new Uint8Array(i),r.length),r=o}return r.buffer}async function oee(t,e){const n={},r=t.getReader();let s=new ArrayBuffer(0);for(const i of e){const o=await JTe(i,async(c,u)=>(s=await RH(r,s,u),s.slice(c,u)));s=await RH(r,s,o);const a=s.slice(0,o);s=s.slice(o);const l=iee(i,a);if(n[i.name]=l,ree()==="webgpu"){const c=wP();"uploadToGPU"in c&&$e(l.shape)>=Le().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&c.uploadToGPU(l.dataId)}}return n}function e5e(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(i=>{if(e+=i.byteLength,n.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${i.constructor.name}`)});const r=new Uint8Array(e);let s=0;return n.forEach(i=>{r.set(new Uint8Array(i.buffer),s),s+=i.byteLength}),r.buffer}const vP=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function PH(t){return vP?Buffer.byteLength(t,"utf8"):new Blob([t]).size}function t5e(t){if(vP)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let r=0,s=e.length;r<s;r++)n+=String.fromCharCode(e[r]);return btoa(n)}function n5e(t){if(vP){const r=Buffer.from(t,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;++r)n.set([e.charCodeAt(r)],r);return n.buffer}function aee(t){return Su.join(t)}function OH(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}function lee(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function xP(t,e,n){const r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=e,r.weightData=n}return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(r.initializerSignature=t.initializerSignature),r}async function bP(t,e){let n,r;return t.weightsManifest!=null&&([n,r]=await e(t.weightsManifest)),xP(t,n,r)}function u2(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:PH(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:PH(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:new Su(t.weightData).byteLength}}function R_(t){const e=[];for(const n of t)e.push(...n.weights);return e}function r5e(){const t=n=>{let r=n<<13,s=0;for(;!(r&8388608);)s-=8388608,r<<=1;return r&=-8388609,s+=947912704,r|s},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function s5e(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function i5e(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function o5e(){const t=r5e(),e=s5e(),n=i5e();return r=>{const s=new ArrayBuffer(4*r.length),i=new Uint32Array(s);for(let o=0;o<r.length;o++){const a=r[o],l=t[n[a>>10]+(a&1023)]+e[a>>10];i[o]=l}return new Float32Array(s)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ss{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return ss.instance==null&&(ss.instance=new ss),ss.instance}static registerSaveRouter(e){ss.getInstance().saveRouters.push(e)}static registerLoadRouter(e){ss.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return ss.getHandlers(e,"save")}static getLoadHandlers(e,n){return ss.getHandlers(e,"load",n)}static getHandlers(e,n,r){const s=[];return(n==="load"?ss.getInstance().loadRouters:ss.getInstance().saveRouters).forEach(o=>{const a=o(e,r);a!==null&&s.push(a)}),s}}const a5e=t=>ss.registerSaveRouter(t),l5e=t=>ss.registerLoadRouter(t),cee=t=>ss.getSaveHandlers(t),c5e=(t,e)=>ss.getLoadHandlers(t,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q3="tensorflowjs",X3=1,Up="models_store",Ph="model_info_store";function uee(){if(!Le().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function Y3(t){const e=t.result;e.createObjectStore(Up,{keyPath:"modelPath"}),e.createObjectStore(Ph,{keyPath:"modelPath"})}class vm{constructor(e){if(this.indexedDB=uee(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((r,s)=>{const i=this.indexedDB.open(q3,X3);i.onupgradeneeded=()=>Y3(i),i.onsuccess=()=>{const o=i.result;if(n==null){const a=o.transaction(Up,"readonly"),c=a.objectStore(Up).get(this.modelPath);c.onsuccess=()=>{if(c.result==null)return o.close(),s(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(c.result.modelArtifacts)},c.onerror=u=>(o.close(),s(c.error)),a.oncomplete=()=>o.close()}else{n.weightData=Su.join(n.weightData);const a=u2(n),l=o.transaction(Ph,"readwrite");let c=l.objectStore(Ph),u;try{u=c.put({modelPath:this.modelPath,modelArtifactsInfo:a})}catch(d){return s(d)}let A;u.onsuccess=()=>{A=o.transaction(Up,"readwrite");const d=A.objectStore(Up);let h;try{h=d.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:a})}catch(p){return s(p)}h.onsuccess=()=>r({modelArtifactsInfo:a}),h.onerror=p=>{c=l.objectStore(Ph);const m=c.delete(this.modelPath);m.onsuccess=()=>(o.close(),s(h.error)),m.onerror=y=>(o.close(),s(h.error))}},u.onerror=d=>(o.close(),s(u.error)),l.oncomplete=()=>{A==null?o.close():A.oncomplete=()=>o.close()}}},i.onerror=o=>s(i.error)})}}vm.URL_SCHEME="indexeddb://";const Aee=t=>Le().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(vm.URL_SCHEME)?u5e(t.slice(vm.URL_SCHEME.length)):null;ss.registerSaveRouter(Aee);ss.registerLoadRouter(Aee);function u5e(t){return new vm(t)}function A5e(t){return t.startsWith(vm.URL_SCHEME)?t.slice(vm.URL_SCHEME.length):t}class d5e{constructor(){this.indexedDB=uee()}async listModels(){return new Promise((e,n)=>{const r=this.indexedDB.open(q3,X3);r.onupgradeneeded=()=>Y3(r),r.onsuccess=()=>{const s=r.result,i=s.transaction(Ph,"readonly"),a=i.objectStore(Ph).getAll();a.onsuccess=()=>{const l={};for(const c of a.result)l[c.modelPath]=c.modelArtifactsInfo;e(l)},a.onerror=l=>(s.close(),n(a.error)),i.oncomplete=()=>s.close()},r.onerror=s=>n(r.error)})}async removeModel(e){return e=A5e(e),new Promise((n,r)=>{const s=this.indexedDB.open(q3,X3);s.onupgradeneeded=()=>Y3(s),s.onsuccess=()=>{const i=s.result,o=i.transaction(Ph,"readwrite"),a=o.objectStore(Ph),l=a.get(e);let c;l.onsuccess=()=>{if(l.result==null)return i.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const u=a.delete(e),A=()=>{c=i.transaction(Up,"readwrite");const h=c.objectStore(Up).delete(e);h.onsuccess=()=>n(l.result.modelArtifactsInfo),h.onerror=p=>r(l.error)};u.onsuccess=A,u.onerror=d=>(A(),i.close(),r(l.error))}},l.onerror=u=>(i.close(),r(l.error)),o.oncomplete=()=>{c==null?i.close():c.oncomplete=()=>i.close()}},s.onerror=i=>r(s.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const id="/",Mg="tensorflowjs_models",dee="info",h5e="model_topology",f5e="weight_specs",p5e="weight_data",m5e="model_metadata";function hee(t){return{info:[Mg,t,dee].join(id),topology:[Mg,t,h5e].join(id),weightSpecs:[Mg,t,f5e].join(id),weightData:[Mg,t,p5e].join(id),modelMetadata:[Mg,t,m5e].join(id)}}function fee(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function g5e(t){const e=t.split(id);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(id)}function y5e(t){return t.startsWith(xm.URL_SCHEME)?t.slice(xm.URL_SCHEME.length):t}class xm{constructor(e){if(!Le().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=hee(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),s=u2(e),i=Su.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,t5e(i));const o={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(o)),{modelArtifactsInfo:s}}catch{throw fee(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${s.modelTopologyBytes}, weightSpecsBytes=${s.weightSpecsBytes}, weightDataBytes=${s.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const s=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(s==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=s;const i=this.LS.getItem(this.keys.modelMetadata);if(i!=null){const a=JSON.parse(i);n.format=a.format,n.generatedBy=a.generatedBy,n.convertedBy=a.convertedBy,a.signature!=null&&(n.signature=a.signature),a.userDefinedMetadata!=null&&(n.userDefinedMetadata=a.userDefinedMetadata),a.modelInitializer!=null&&(n.modelInitializer=a.modelInitializer),a.initializerSignature!=null&&(n.initializerSignature=a.initializerSignature),a.trainingConfig!=null&&(n.trainingConfig=a.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(o==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=n5e(o),n}}xm.URL_SCHEME="localstorage://";const pee=t=>Le().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(xm.URL_SCHEME)?w5e(t.slice(xm.URL_SCHEME.length)):null;ss.registerSaveRouter(pee);ss.registerLoadRouter(pee);function w5e(t){return new xm(t)}class v5e{constructor(){ee(Le().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),ee(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=Mg+id,r=id+dee;for(let s=0;s<this.LS.length;++s){const i=this.LS.key(s);if(i.startsWith(n)&&i.endsWith(r)){const o=g5e(i);e[o]=JSON.parse(this.LS.getItem(i))}}return e}async removeModel(e){e=y5e(e);const n=hee(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return fee(n),r}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S0="://";class So{constructor(){this.managers={}}static getInstance(){return So.instance==null&&(So.instance=new So),So.instance}static registerManager(e,n){ee(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(S0)&&(e=e.slice(0,e.indexOf(S0))),ee(e.length>0,()=>"scheme must not be an empty string.");const r=So.getInstance();ee(r.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),r.managers[e]=n}static getManager(e){const n=So.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(So.getInstance().managers)}}function mB(t){if(t.indexOf(S0)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${So.getSchemes().join(",")}`);return{scheme:t.split(S0)[0],path:t.split(S0)[1]}}async function mee(t,e,n=!1){ee(t!==e,()=>`Old path and new path are the same: '${t}'`);const r=ss.getLoadHandlers(t);ee(r.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),ee(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${t}.`);const s=r[0],i=ss.getSaveHandlers(e);ee(i.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),ee(i.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${e}.`);const o=i[0],a=mB(t).scheme,l=mB(t).path,c=a===mB(t).scheme,u=await s.load();n&&c&&await So.getManager(a).removeModel(l);const A=await o.save(u);return n&&!c&&await So.getManager(a).removeModel(l),A.modelArtifactsInfo}async function x5e(){const t=So.getSchemes(),e={};for(const n of t){const r=await So.getManager(n).listModels();for(const s in r){const i=n+S0+s;e[i]=r[s]}}return e}async function b5e(t){const e=mB(t);return So.getManager(e.scheme).removeModel(e.path)}async function C5e(t,e){return mee(t,e,!1)}async function S5e(t,e){return mee(t,e,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class B5e{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window>"u"||!Le().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const s=this.functionRefs[r.data.index];s(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return UJ(e)}}if(Le().get("IS_BROWSER")){Le().setPlatform("browser",new B5e);try{So.registerManager(xm.URL_SCHEME,new v5e)}catch{}try{So.registerManager(vm.URL_SCHEME,new d5e)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _5e={importFetch:()=>require("node-fetch")};let H5;class N5e{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return Le().global.fetch!=null?Le().global.fetch(e,n):(H5==null&&(H5=_5e.importFetch()),H5(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}Le().get("IS_NODE")&&!Le().get("IS_BROWSER")&&Le().setPlatform("node",new N5e);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wn(t,e="float32",n){return e=e||"float32",Ma(t),new Ws(t,e,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I5e(t,e){const n=ie(t,"x","cast");if(!EJ(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},s={dtype:e};return ge.runKernel(My,r,s)}const At=ye({cast_:I5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E5e(t){const n={x:ie(t,"x","clone","string_or_numeric")};return ge.runKernel(Jy,n)}const hA=ye({clone_:E5e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CP(t,e=!1){console.log(t.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */eee();const k5e={buffer:wn,cast:At,clone:hA,print:CP};ITe(k5e);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T5e(t,e){let n=ie(t,"a","add"),r=ie(e,"b","add");[n,r]=ls(n,r);const s={a:n,b:r};return ge.runKernel(zm,s)}const Je=ye({add_:T5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F5e(t,e){let n=ie(t,"a","floorDiv"),r=ie(e,"b","floorDiv");[n,r]=ls(n,r);const s={a:n,b:r};return ge.runKernel(Yy,s)}const gE=ye({floorDiv_:F5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L5e(t,e){let n=ie(t,"a","div"),r=ie(e,"b","div");if([n,r]=ls(n,r),n.dtype==="int32"&&r.dtype==="int32")return gE(n,r);const s={a:n,b:r},i={};return ge.runKernel(Vy,s,i)}const jt=ye({div_:L5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D5e(t,e){let n=ie(t,"a","mul"),r=ie(e,"b","mul");[n,r]=ls(n,r);const s={a:n,b:r};return ge.runKernel(l1,s)}const xe=ye({mul_:D5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R5e(t){const e=ie(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return ge.runKernel(pb,n)}else{const n={x:e};return ge.runKernel(ob,n)}}const Ms=ye({abs_:R5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P5e(t){const n={x:ie(t,"x","acos")};return ge.runKernel(Ly,n)}const SP=ye({acos_:P5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O5e(t){const n={x:ie(t,"x","acosh")};return ge.runKernel(Dy,n)}const BP=ye({acosh_:O5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $5e(t){ee(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),ee(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((s,i)=>ie(s,`tensors${i}`,"addN")),n=e[0];e.forEach(s=>{if(s.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(s=>{if(!Pn(s.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=e;return ge.runKernel(ab,r)}const gee=ye({addN_:$5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U5e(t,e=null,n=!1){const s={x:ie(t,"x","all","bool")},i={axis:e,keepDims:n};return ge.runKernel(uI,s,i)}const yE=ye({all_:U5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M5e(t,e=null,n=!1){const s={x:ie(t,"x","any","bool")},i={axis:e,keepDims:n};return ge.runKernel(AI,s,i)}const vx=ye({any_:M5e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q5e(t,e=0){const r={x:ie(t,"x","argMax")},s={axis:e};return ge.runKernel(lb,r,s)}const bm=ye({argMax_:Q5e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j5e(t,e=0){const r={x:ie(t,"x","argMin")},s={axis:e};return ge.runKernel(cb,r,s)}const _P=ye({argMin_:j5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H5e(t){const n={x:ie(t,"x","asin")};return ge.runKernel(Ry,n)}const NP=ye({asin_:H5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z5e(t){const n={x:ie(t,"x","asinh")};return ge.runKernel(Py,n)}const IP=ye({asinh_:z5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V5e(t){const n={x:ie(t,"x","atan")};return ge.runKernel(Oy,n)}const EP=ye({atan_:V5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W5e(t,e){let n=ie(t,"a","atan2"),r=ie(e,"b","atan2");[n,r]=ls(n,r);const s={a:n,b:r};return ge.runKernel(Uy,s)}const kP=ye({atan2_:W5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G5e(t){const n={x:ie(t,"x","atanh")};return ge.runKernel($y,n)}const TP=ye({atanh_:G5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A2(t,e,n,r,s="NHWC",i){const o=t[3],a=[...e,o],l=Ed(s);return bi(t,a,n,i,r,null,null,l)}function dc(t,e,n,r,s,i,o="channelsLast"){const[a,l]=xx(e);let c;if(o==="channelsLast")c=[a,l,t[3],t[3]];else if(o==="channelsFirst")c=[a,l,t[1],t[1]];else throw new Error(`Unknown dataFormat ${o}`);return bi(t,c,n,r,s,i,!1,o)}function Id(t,e,n,r,s,i,o="NDHWC"){const[a,l,c]=Z3(e);let u,A;if(o==="NDHWC")A="channelsLast",u=[a,l,c,t[4],t[4]];else if(o==="NCDHW")A="channelsFirst",u=[a,l,c,t[1],t[1]];else throw new Error(`Unknown dataFormat ${o}`);return Df(t,u,n,r,s,!1,A,i)}function bi(t,e,n,r,s,i,o=!1,a="channelsLast"){let[l,c,u,A]=[-1,-1,-1,-1];if(a==="channelsLast")[l,c,u,A]=t;else if(a==="channelsFirst")[l,A,c,u]=t;else throw new Error(`Unknown dataFormat ${a}`);const[d,h,,p]=e,[m,y]=xx(n),[g,v]=xx(r),b=B0(d,g),C=B0(h,v),{padInfo:_,outHeight:I,outWidth:T}=X5e(s,c,u,m,y,b,C,i,a),F=o?p*A:p;let D;return a==="channelsFirst"?D=[l,F,I,T]:a==="channelsLast"&&(D=[l,I,T,F]),{batchSize:l,dataFormat:a,inHeight:c,inWidth:u,inChannels:A,outHeight:I,outWidth:T,outChannels:F,padInfo:_,strideHeight:m,strideWidth:y,filterHeight:d,filterWidth:h,effectiveFilterHeight:b,effectiveFilterWidth:C,dilationHeight:g,dilationWidth:v,inShape:t,outShape:D,filterShape:e}}function Df(t,e,n,r,s,i=!1,o="channelsLast",a){let[l,c,u,A,d]=[-1,-1,-1,-1,-1];if(o==="channelsLast")[l,c,u,A,d]=t;else if(o==="channelsFirst")[l,d,c,u,A]=t;else throw new Error(`Unknown dataFormat ${o}`);const[h,p,m,,y]=e,[g,v,b]=Z3(n),[C,_,I]=Z3(r),T=B0(h,C),F=B0(p,_),D=B0(m,I),{padInfo:j,outDepth:O,outHeight:U,outWidth:W}=Y5e(s,c,u,A,g,v,b,T,F,D,a),$=i?y*d:y;let J;return o==="channelsFirst"?J=[l,$,O,U,W]:o==="channelsLast"&&(J=[l,O,U,W,$]),{batchSize:l,dataFormat:o,inDepth:c,inHeight:u,inWidth:A,inChannels:d,outDepth:O,outHeight:U,outWidth:W,outChannels:$,padInfo:j,strideDepth:g,strideHeight:v,strideWidth:b,filterDepth:h,filterHeight:p,filterWidth:m,effectiveFilterDepth:T,effectiveFilterHeight:F,effectiveFilterWidth:D,dilationDepth:C,dilationHeight:_,dilationWidth:I,inShape:t,outShape:J,filterShape:e}}function K5e(t,e,n,r,s){r==null&&(r=FP(t,e,n));const i=t[0],o=t[1],a=bx((i-e+2*r)/n+1,s),l=bx((o-e+2*r)/n+1,s);return[a,l]}function q5e(t,e,n,r,s,i){s==null&&(s=FP(t,e[0],r[0]));const o=[0,0,0,n];for(let a=0;a<3;a++)t[a]+2*s>=e[a]&&(o[a]=bx((t[a]-e[a]+2*s)/r[a]+1,i));return o}function FP(t,e,n,r=1){const s=B0(e,r);return Math.floor((t[0]*(n-1)-n+s)/2)}function xx(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function Z3(t){return typeof t=="number"?[t,t,t]:t}function B0(t,e){return e<=1?t:t+(t-1)*(e-1)}function X5e(t,e,n,r,s,i,o,a,l){let c,u,A;if(typeof t=="number"){c={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const h=K5e([e,n],i,r,t,a);u=h[0],A=h[1]}else if(t==="same"){u=Math.ceil(e/r),A=Math.ceil(n/s);const d=Math.max(0,(u-1)*r+i-e),h=Math.max(0,(A-1)*s+o-n),p=Math.floor(d/2),m=d-p,y=Math.floor(h/2),g=h-y;c={top:p,bottom:m,left:y,right:g,type:"SAME"}}else if(t==="valid")c={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((e-i+1)/r),A=Math.ceil((n-o+1)/s);else if(typeof t=="object"){const d=l==="channelsLast"?t[1][0]:t[2][0],h=l==="channelsLast"?t[1][1]:t[2][1],p=l==="channelsLast"?t[2][0]:t[3][0],m=l==="channelsLast"?t[2][1]:t[3][1];c={top:d,bottom:h,left:p,right:m,type:d===0&&h===0&&p===0&&m===0?"VALID":"EXPLICIT"},u=bx((e-i+d+h)/r+1,a),A=bx((n-o+p+m)/s+1,a)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:c,outHeight:u,outWidth:A}}function Y5e(t,e,n,r,s,i,o,a,l,c,u){let A,d,h,p;if(t==="valid"&&(t=0),typeof t=="number"){A={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const y=q5e([e,n,r,1],[a,l,c],1,[s,i,o],t,u);d=y[0],h=y[1],p=y[2]}else if(t==="same"){d=Math.ceil(e/s),h=Math.ceil(n/i),p=Math.ceil(r/o);const m=(d-1)*s+a-e,y=(h-1)*i+l-n,g=(p-1)*o+c-r,v=Math.floor(m/2),b=m-v,C=Math.floor(y/2),_=y-C,I=Math.floor(g/2),T=g-I;A={top:C,bottom:_,left:I,right:T,front:v,back:b,type:"SAME"}}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:A,outDepth:d,outHeight:h,outWidth:p}}function bx(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function pf(t){const[e,n,r]=xx(t);return e===1&&n===1&&r===1}function Ri(t,e){return pf(t)||pf(e)}function Cm(t){return xx(t).every(e=>e>0)}function Ed(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function To(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")ee(ym(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(r=>{r.forEach(s=>{ee(ym(s),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${s}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z5e(t,e){const r={x:ie(t,"x","reshape","string_or_numeric")},s={shape:e};return ge.runKernel(qb,r,s)}const Se=ye({reshape_:Z5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J5e(t,e,n,r,s){const i=ie(t,"x","avgPool","float32"),o=1;ee(Ri(n,o),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);let a=i,l=!1;i.rank===3&&(l=!0,a=Se(i,[1,i.shape[0],i.shape[1],i.shape[2]])),ee(a.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${a.rank}.`),To("avgPool",r,s);const c={x:a},u={filterSize:e,strides:n,pad:r,dimRoundingMode:s};let A=ge.runKernel(ub,c,u);return A=At(A,i.dtype),l?Se(A,[A.shape[1],A.shape[2],A.shape[3]]):A}const d2=ye({avgPool_:J5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eFe(t,e,n,r,s,i="NDHWC"){const o=ie(t,"x","avgPool3d","float32");let a=o,l=!1;o.rank===4&&(l=!0,a=Se(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ee(a.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${a.rank}.`),ee(i==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),ee(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),To("avgPool3d",r,s);const c={x:a},u={filterSize:e,strides:n,pad:r,dimRoundingMode:s,dataFormat:i};let A=ge.runKernel(Ab,c,u);return A=At(A,a.dtype),l?Se(A,[A.shape[1],A.shape[2],A.shape[3],A.shape[4]]):A}const LP=ye({avgPool3d_:eFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tFe(t,e=0){ee(t.length>=1,()=>"Pass at least one tensor to concat");const n=wx(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(i=>{if(i.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${i.dtype}. `)}),n.length===1)return hA(n[0]);const r=n,s={axis:e};return ge.runKernel(mb,r,s)}const Is=ye({concat_:tFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nFe(t,e,n=!1,r=!1){let s=ie(t,"a","matMul"),i=ie(e,"b","matMul");[s,i]=ls(s,i);const o={a:s,b:i},a={transposeA:n,transposeB:r};return ge.runKernel(db,o,a)}const _n=ye({matMul_:nFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rFe(t){const n={x:ie(t,"x","sigmoid","float32")};return ge.runKernel(w1,n)}const au=ye({sigmoid_:rFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sFe(t,e,n){const r=ie(t,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const s={x:r},i={begin:e,size:n};return ge.runKernel(e2,s,i)}const Un=ye({slice_:sFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iFe(t){const n={x:ie(t,"x","tanh","float32")};return ge.runKernel(B1,n)}const mf=ye({tanh_:iFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oFe(t,e,n,r,s,i){const o=ie(t,"forgetBias","basicLSTMCell"),a=ie(e,"lstmKernel","basicLSTMCell"),l=ie(n,"lstmBias","basicLSTMCell"),c=ie(r,"data","basicLSTMCell"),u=ie(s,"c","basicLSTMCell"),A=ie(i,"h","basicLSTMCell"),d=Is([c,A],1),h=_n(d,a),p=Je(h,l),m=p.shape[0],y=p.shape[1]/4,g=[m,y],v=Un(p,[0,0],g),b=Un(p,[0,y],g),C=Un(p,[0,y*2],g),_=Un(p,[0,y*3],g),I=Je(xe(au(v),mf(b)),xe(u,au(Je(o,C)))),T=xe(mf(I),au(_));return[I,T]}const yee=ye({basicLSTMCell_:oFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aFe(t,e,n){const r=ie(t,"x","batchToSpaceND"),s=e.reduce((a,l)=>a*l);ee(r.rank>=1+e.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${e.length}`),ee(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),ee(r.shape[0]%s===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${s}`);const i={x:r},o={blockShape:e,crops:n};return ge.runKernel(hb,i,o)}const h2=ye({batchToSpaceND_:aFe});function lFe(t){let e;return t.rank===0||t.rank===1?e=Se(t,[1,1,1,t.size]):t.rank===2?e=Se(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=Se(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cFe(t,e,n,r,s,i){i==null&&(i=.001);const o=ie(t,"x","batchNorm"),a=ie(e,"mean","batchNorm"),l=ie(n,"variance","batchNorm");let c;s!=null&&(c=ie(s,"scale","batchNorm"));let u;r!=null&&(u=ie(r,"offset","batchNorm")),ee(a.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),ee(u==null||a.rank===u.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),ee(c==null||a.rank===c.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const d={x:lFe(o),scale:c,offset:u,mean:a,variance:l},h={varianceEpsilon:i},p=ge.runKernel(Bb,d,h);return Se(p,o.shape)}const I1=ye({batchNorm_:cFe});function uFe(t,e,n,r,s,i){const o=ie(t,"x","batchNorm"),a=ie(e,"mean","batchNorm"),l=ie(n,"variance","batchNorm");let c;s!=null&&(c=ie(s,"scale","batchNorm"));let u;return r!=null&&(u=ie(r,"offset","batchNorm")),ee(o.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${o.rank}.`),ee(a.rank===2||a.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${a.rank}.`),ee(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),c!=null&&ee(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${c.rank}.`),u!=null&&ee(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${u.rank}.`),I1(o,a,l,u,c,i)}const DP=ye({batchNorm2d_:uFe});function AFe(t,e,n,r,s,i){const o=ie(t,"x","batchNorm"),a=ie(e,"mean","batchNorm"),l=ie(n,"variance","batchNorm");let c;s!=null&&(c=ie(s,"scale","batchNorm"));let u;return r!=null&&(u=ie(r,"offset","batchNorm")),ee(o.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${o.rank}.`),ee(a.rank===3||a.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${a.rank}.`),ee(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),c!=null&&ee(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${c.rank}.`),u!=null&&ee(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${u.rank}.`),I1(o,a,l,u,c,i)}const RP=ye({batchNorm3d_:AFe});function dFe(t,e,n,r,s,i){const o=ie(t,"x","batchNorm"),a=ie(e,"mean","batchNorm"),l=ie(n,"variance","batchNorm");let c;s!=null&&(c=ie(s,"scale","batchNorm"));let u;return r!=null&&(u=ie(r,"offset","batchNorm")),ee(o.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${o.rank}.`),ee(a.rank===4||a.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${a.rank}.`),ee(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),c!=null&&ee(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${c.rank}.`),u!=null&&ee(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${u.rank}.`),I1(o,a,l,u,c,i)}const PP=ye({batchNorm4d_:dFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hFe(t,e,n){const r=ie(t,"x","bincount"),s=ie(e,"weights","bincount");ee(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),ee(n>=0,()=>`size must be non-negative, but got ${n}.`),ee(s.size===r.size||s.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${s.shape}.`);const i={x:r,weights:s},o={size:n};return ge.runKernel(fI,i,o)}const OP=ye({bincount_:hFe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fFe(t,e){const n=ie(t,"x","bitwiseAnd"),r=ie(e,"y","bitwiseAnd");if(!Pn(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if(n.dtype!=="int32"||r.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const s={a:n,b:r};return ge.runKernel(fb,s)}const wee=ye({bitwiseAnd_:fFe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pFe(t,e){const n=ie(t,"s0","broadcastArgs","int32"),r=ie(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const s={s0:n,s1:r};return ge.runKernel(pI,s)}const vee=ye({broadcastArgs_:pFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mFe(t,e){let n=ie(t,"broadcastTo","x");const r=n.shape;if(Ma(e),e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const c=n.shape.slice();for(;c.length<e.length;)c.unshift(1);n=Se(n,c)}const s=n.shape,i=Array.from(e);for(let c=e.length-1;c>=0;c--)if(s[c]===e[c])i[c]=1;else if(n.shape[c]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${e}].`);if(i.map((c,u)=>c>1?u:-1).filter(c=>c>=0).length===0)return hA(n);const a={x:n},l={reps:i};return ge.runKernel(_1,a,l)}const tm=ye({broadcastTo_:mFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gFe(t){const n={x:ie(t,"x","ceil","float32")};return ge.runKernel(Qy,n)}const $P=ye({ceil_:gFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wm(t,e,n){Ma(t),n=n||jm(e);const r={shape:t,value:e,dtype:n};return ge.runKernel(TI,{},r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yFe(t,e,n){const r=ie(t,"x","clipByValue");if(ee(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return Wm(r.shape,e,r.dtype);const s={x:r},i={clipValueMin:e,clipValueMax:n};return ge.runKernel(jy,s,i)}const na=ye({clipByValue_:yFe});function wFe(t){return Is(t,0)}const UP=ye({concat1d_:wFe});function vFe(t,e){return Is(t,e)}const MP=ye({concat2d_:vFe});function xFe(t,e){return Is(t,e)}const QP=ye({concat3d_:xFe});function bFe(t,e){return Is(t,e)}const jP=ye({concat4d_:bFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CFe(t,e,n,r,s="NHWC",i=[1,1],o){const a=ie(t,"x","conv2d","float32"),l=ie(e,"filter","conv2d","float32");let c=a,u=!1;a.rank===3&&(u=!0,c=Se(a,[1,a.shape[0],a.shape[1],a.shape[2]])),ee(c.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${c.rank}.`),ee(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),To("conv2d",r,o);const A=s==="NHWC"?c.shape[3]:c.shape[1];ee(A===l.shape[2],()=>`Error in conv2d: depth of input (${A}) must match input depth for filter ${l.shape[2]}.`),ee(Ri(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),ee(Cm(i),()=>"Error in conv2D: Dilated rates should be larger than 0."),ee(Cm(n),()=>"Error in conv2D: Strides should be larger than 0.");const d={x:c,filter:l},h={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:o},p=ge.runKernel(gb,d,h);return u?Se(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const bd=ye({conv2d_:CFe});function SFe(t,e,n,r,s="NWC",i=1,o){const a=ie(t,"x","conv1d"),l=ie(e,"filter","conv1d");let c=a,u=!1;a.rank===2&&(u=!0,c=Se(a,[1,a.shape[0],a.shape[1]])),ee(c.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${c.rank}.`),ee(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),To("conv1d",r,o),ee(c.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${c.shape[2]}) must match input depth for filter ${l.shape[1]}.`),ee(Ri(n,i),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${i}'`),ee(Cm(i),()=>"Error in conv1D: Dilated rates should be larger than 0."),ee(Cm(n),()=>"Error in conv1D: Stride should be larger than 0."),ee(s==="NWC",()=>`Error in conv1d: got dataFormat of ${s} but only NWC is currently supported.`);const A=Se(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=Se(c,[c.shape[0],1,c.shape[1],c.shape[2]]),y=bd(d,A,[1,n],r,"NHWC",[1,i],o);return u?Se(y,[y.shape[2],y.shape[3]]):Se(y,[y.shape[0],y.shape[2],y.shape[3]])}const wE=ye({conv1d_:SFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BFe(t,e,n,r,s,i="NHWC",o){ee(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let a=t,l=e,c=!1;e.rank===3&&(c=!0,l=Se(e,[1,e.shape[0],e.shape[1],e.shape[2]]),a=[1,t[0],t[1],t[2]]),ee(a.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${a.length}.`),ee(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),ee(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const u=i==="NHWC"?a[3]:a[1],A=i==="NHWC"?l.shape[3]:l.shape[1];ee(u===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${u}) must match input depth for filter ${n.shape[2]}.`),ee(A===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${A}) must match output depth for filter ${n.shape[3]}.`),To("conv2dDerInput",s,o);const d={dy:l,filter:n},h={strides:r,pad:s,dataFormat:i,dimRoundingMode:o,inputShape:a},p=ge.runKernel(yb,d,h);return c?Se(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const HP=ye({conv2DBackpropInput_:BFe});function _Fe(t,e,n,r,s,i){const o=ie(t,"x","conv2dTranspose"),a=ie(e,"filter","conv2dTranspose");return HP(n,o,a,r,s,"NHWC",i)}const vE=ye({conv2dTranspose_:_Fe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NFe(t,e,n,r,s="NDHWC",i=[1,1,1]){const o=ie(t,"x","conv3d"),a=ie(e,"filter","conv3d");let l=o,c=!1;o.rank===4&&(c=!0,l=Se(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ee(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),ee(a.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${a.rank}.`),ee(l.shape[4]===a.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${a.shape[3]}.`),ee(Ri(n,i),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),ee(s==="NDHWC",()=>`Error in conv3d: got dataFormat of ${s} but only NDHWC is currently supported.`),ee(Cm(i),()=>"Error in conv3D: Dilated rates should be larger than 0."),ee(Cm(n),()=>"Error in conv3D: Strides should be larger than 0.");const u={x:l,filter:a},A={strides:n,pad:r,dataFormat:s,dilations:i},d=ge.runKernel(wb,u,A);return c?Se(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const zP=ye({conv3d_:NFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IFe(t,e,n,r,s){ee(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let i=t,o=e,a=!1;e.rank===4&&(a=!0,o=Se(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),i=[1,t[0],t[1],t[2],t[3]]);const l=i[4],c=o.shape[4];ee(i.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`),ee(o.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${o.rank}`),ee(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),ee(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),ee(c===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${c}) must match output depth for filter ${n.shape[4]}.`);const u={dy:o,filter:n},A={pad:s,strides:r,inputShape:i},d=ge.runKernel(wI,u,A);return a?Se(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const xee=ye({conv3DBackpropInput_:IFe});function EFe(t,e,n,r,s){const i=ie(t,"x","conv3dTranspose"),o=ie(e,"filter","conv3dTranspose");return xee(n,i,o,r,s)}const VP=ye({conv3dTranspose_:EFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kFe(t){const n={x:ie(t,"x","cos","float32")};return ge.runKernel(Hy,n)}const f2=ye({cos_:kFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TFe(t){const n={x:ie(t,"x","cosh","float32")};return ge.runKernel(zy,n)}const xE=ye({cosh_:TFe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FFe(t,e=0,n=!1,r=!1){const i={x:ie(t,"x","cumprod")},o={axis:e,exclusive:n,reverse:r};return ge.runKernel(vI,i,o)}const Cx=ye({cumprod_:FFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LFe(t,e=0,n=!1,r=!1){const i={x:ie(t,"x","cumsum")},o={axis:e,exclusive:n,reverse:r};return ge.runKernel(vb,i,o)}const bE=ye({cumsum_:LFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DFe(t,e,n,r=!1){const s=ie(t,"x","denseBincount"),i=ie(e,"weights","denseBincount");ee(s.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${s.dtype}`),ee(s.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${s.rank}.`),ee(n>=0,()=>`size must be non-negative, but got ${n}.`),ee(i.size===s.size||i.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${s.shape}, weights shape: ${i.shape}.`);const o={x:s,weights:i},a={size:n,binaryOutput:r};return ge.runKernel(bI,o,a)}const P_=ye({denseBincount_:DFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RFe(t,e,n="NHWC"){const r=ie(t,"x","depthToSpace","float32"),s=n==="NHWC"?r.shape[1]:r.shape[2],i=n==="NHWC"?r.shape[2]:r.shape[3],o=n==="NHWC"?r.shape[3]:r.shape[1];ee(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),ee(s*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${s} and ${e}  for depthToSpace with input shape
    ${r.shape}`),ee(i*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${i} and ${e} for depthToSpace with input shape
        ${r.shape}`),ee(o%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${o} for depthToSpace with input shape ${r.shape}`);const a={x:r},l={blockSize:e,dataFormat:n};return ge.runKernel(CI,a,l)}const WP=ye({depthToSpace_:RFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PFe(t,e,n,r,s="NHWC",i=[1,1],o){const a=ie(t,"x","depthwiseConv2d","float32"),l=ie(e,"filter","depthwiseConv2d","float32");let c=a,u=!1;a.rank===3&&(u=!0,c=Se(a,[1,a.shape[0],a.shape[1],a.shape[2]])),ee(c.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${c.rank}.`),ee(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const A=s==="NHWC"?c.shape[3]:c.shape[1];ee(A===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${A}) must match the inChannels dimension in filter ${l.shape[2]}.`),To("depthwiseConv2d",r,o);const d={x:c,filter:l},h={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:o},p=ge.runKernel(xb,d,h);return u?Se(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const E1=ye({depthwiseConv2d_:PFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OFe(t){const n={x:ie(t,"x","diag")};return ge.runKernel(_I,n)}const bee=ye({diag_:OFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Fe(t,e,n,r,s=[1,1],i="NHWC"){const o=ie(t,"x","dilation2d"),a=ie(e,"filter","dilation2d");ee(o.rank===3||o.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${o.rank}.`),ee(a.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${a.rank}.`),ee(i==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${i}`);let l=o,c=!1;o.rank===3&&(l=Se(o,[1,o.shape[0],o.shape[1],o.shape[2]]),c=!0),ee(l.shape[3]===a.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${a.shape[2]}`);const u={x:l,filter:a},A={strides:n,pad:r,dilations:s},d=ge.runKernel(bb,u,A);return c?Se(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const GP=ye({dilation2d_:$Fe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sm(t,e){const n=t.length,r=[];for(let s=0;s<n;s++){const i=n-1-s,o=t[i]||1;(e[e.length-1-s]||1)>1&&o===1&&r.unshift(i)}return r}function Gs(t,e){const n=[];for(let r=0;r<e.length;r++){const s=t[t.length-r-1],i=e.length-r-1,o=e[i];(s==null||s===1&&o>1)&&n.unshift(i)}return n}function hn(t,e){const n=Math.max(t.length,e.length),r=new Array(n);for(let s=0;s<n;s++){let i=t[t.length-s-1];i==null&&(i=1);let o=e[e.length-s-1];if(o==null&&(o=1),i===1)r[n-s-1]=o;else if(o===1)r[n-s-1]=i;else if(i!==o){const a=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(a)}else r[n-s-1]=i}return r}const UFe=Object.freeze(Object.defineProperty({__proto__:null,assertAndGetBroadcastShape:hn,getBroadcastDims:Sm,getReductionAxes:Gs},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MFe(t,e){let n=ie(t,"a","equal","string_or_numeric"),r=ie(e,"b","equal","string_or_numeric");[n,r]=ls(n,r),hn(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(Cb,s)}const Ac=ye({equal_:MFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QFe(t,e,n){const r=ie(e,"a","where"),s=ie(n,"b","where"),i=ie(t,"condition","where","bool"),o=hn(hn(i.shape,r.shape),s.shape),a=tm(i,o),l=tm(r,o),c=tm(s,o),u={condition:a,t:l,e:c};return ge.runKernel(Jb,u)}const Fi=ye({where_:QFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jFe(t){const n={x:ie(t,"x","zerosLike")};return ge.runKernel(l2,n)}const Mn=ye({zerosLike_:jFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HFe(t,e){let n=ie(t,"a","div"),r=ie(e,"b","div");[n,r]=ls(n,r);const s=jt(n,r),i=Mn(s),o=Ac(r,i);return Fi(o,i,s)}const KP=ye({divNoNan_:HFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zFe(t,e){const n=ie(t,"t1","dot"),r=ie(e,"t2","dot");ee((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const s=n.rank===1?n.size:n.shape[1],i=r.rank===1?r.size:r.shape[0];if(ee(s===i,()=>`Error in dot: inner dimensions of inputs must match, but got ${s} and ${i}.`),n.rank===1&&r.rank===1){const o=Se(n,[1,-1]),a=Se(r,[-1,1]),l=_n(o,a);return Se(l,[])}else if(n.rank===1&&r.rank===2){const o=Se(n,[1,-1]),a=Se(r,[r.shape[0],r.shape[1]]),l=_n(o,a);return Se(l,[l.size])}else if(n.rank===2&&r.rank===1){const o=Se(r,[-1,1]),a=_n(n,o);return Se(a,[a.size])}else{const o=Se(r,[r.shape[0],r.shape[1]]);return _n(n,o)}}const qP=ye({dot_:zFe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VFe(t,...e){const n=e.map((s,i)=>ie(s,`tensors${i}`,"einsum")),r={equation:t};return ge.runKernel(II,n,r)}const Sp=ye({einsum_:VFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WFe(t){const n={x:ie(t,"x","elu","float32")};return ge.runKernel(Wy,n)}const k1=ye({elu_:WFe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GFe(t,e){const n=ie(t,"x","ensureShape","string_or_numeric");if(!NJ(n.shape,e))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${e}`);return t}const Cee=ye({ensureShape_:GFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KFe(t){let e=ie(t,"x","erf");ee(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=At(e,"float32"));const n={x:e};return ge.runKernel(Gy,n)}const CE=ye({erf_:KFe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XP(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function See(t,e,n){const r=t.length+e.length,s=[];let i=0,o=0;for(let a=0;a<r;a++)n.indexOf(a)===-1?s.push(t[i++]):s.push(e[o++]);return s}function Ci(t,e){const n=[],r=t.length;for(let i=0;i<r;i++)e.indexOf(i)===-1&&n.push(t[i]);const s=e.map(i=>t[i]);return[n,s]}function Es(t,e){const n=e.map(r=>1);return See(t,n,e)}function Pi(t,e,n){ee(XP(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function cs(t,e){if(XP(t,e))return null;const n=[];for(let r=0;r<e;++r)t.indexOf(r)===-1&&n.push(r);return t.forEach(r=>n.push(r)),n}function Rf(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function ks(t,e){const n=[];for(let r=e-t;r<e;++r)n.push(r);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qFe(t,e=null,n=!1){const s={x:ie(t,"x","max")},i={reductionIndices:e,keepDims:n};return ge.runKernel(Rb,s,i)}const gl=ye({max_:qFe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XFe(t,e=null,n=!1){const s={x:ie(t,"x","min")},i={axis:e,keepDims:n};return ge.runKernel(Ub,s,i)}const sy=ye({min_:XFe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YFe(t,e){let n=ie(t,"base","pow"),r=ie(e,"exp","pow");[n,r]=ls(n,r);const s={a:n,b:r};return ge.runKernel(c1,s)}const bA=ye({pow_:YFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xt(t,e){if((gi(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&gi(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Lf(t,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZFe(t){const n={x:ie(t,"x","sqrt","float32")};return ge.runKernel(x1,n)}const xi=ye({sqrt_:ZFe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JFe(t){const e=ie(t,"x","square"),n={};return ge.runKernel("Square",{x:e},n)}const br=ye({square_:JFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e4e(t,e=null,n=!1){let r=ie(t,"x","sum");r.dtype==="bool"&&(r=At(r,"int32"));const s={x:r},i={axis:e,keepDims:n};return ge.runKernel(t2,s,i)}const Lt=ye({sum_:e4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t4e(t,e="euclidean",n=null,r=!1){t=ie(t,"x","norm");const s=Bee(t,e,n);let i=s.shape;if(r){const o=En(n,t.shape);i=Es(s.shape,o)}return Se(s,i)}function Bee(t,e,n=null){if(t.rank===0)return Ms(t);if(t.rank!==1&&n===null)return Bee(Se(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return Lt(Ms(t),n);if(e===1/0)return gl(Ms(t),n);if(e===-1/0)return sy(Ms(t),n);if(e==="euclidean"||e===2)return xi(Lt(bA(Ms(t),Xt(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return gl(Lt(Ms(t),n[0]),n[1]-1);if(e===1/0)return gl(Lt(Ms(t),n[1]),n[0]);if(e===-1/0)return sy(Lt(Ms(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return xi(Lt(br(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const T1=ye({norm_:t4e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n4e(t,e=null,n=!1){return T1(t,"euclidean",e,n)}const YP=ye({euclideanNorm_:n4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r4e(t){const n={x:ie(t,"x","exp")};return ge.runKernel(Ky,n)}const ra=ye({exp_:r4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s4e(t,e=0){const n=ie(t,"x","expandDims","string_or_numeric");ee(e<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},s={dim:e};return ge.runKernel(Sb,r,s)}const Xi=ye({expandDims_:s4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i4e(t){const n={x:ie(t,"x","expm1")};return ge.runKernel(qy,n)}const ZP=ye({expm1_:i4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o4e(t,e){const n=ie(t,"x","tile","string_or_numeric");ee(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const r={x:n},s={reps:e};return ge.runKernel(_1,r,s)}const dl=ye({tile_:o4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a4e(t,e,n,r="float32"){e==null&&(e=t);const s=wn([t,e],r),i=t<=e?t:e;for(let a=0;a<i;++a)s.set(1,a,a);const o=Se(s.toTensor(),[t,e]);if(n==null)return o;if(n.length===1)return dl(Xi(o,0),[n[0],1,1]);if(n.length===2)return dl(Xi(Xi(o,0),0),[n[0],n[1],1,1]);if(n.length===3)return dl(Xi(Xi(Xi(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const SE=ye({eye_:a4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l4e(t){const n={x:ie(t,"x","floor","float32")};return ge.runKernel(Xy,n)}const F1=ye({floor_:l4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c4e(t,e,n=0,r=0){const s=ie(t,"x","gather"),i=ie(e,"indices","gather","int32"),o={x:s,indices:i},a={axis:n,batchDims:r};return ge.runKernel(_b,o,a)}const L1=ye({gather_:c4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u4e(t,e){let n=ie(t,"a","greater","string_or_numeric"),r=ie(e,"b","greater","string_or_numeric");[n,r]=ls(n,r),hn(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(Nb,s)}const ca=ye({greater_:u4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A4e(t,e){let n=ie(t,"a","greaterEqual","string_or_numeric"),r=ie(e,"b","greaterEqual","string_or_numeric");[n,r]=ls(n,r),hn(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(Zy,s)}const kd=ye({greaterEqual_:A4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d4e(t){const n={input:ie(t,"input","imag")};return ge.runKernel(RI,n)}const p2=ye({imag_:d4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h4e(t){const n={x:ie(t,"x","isFinite")};return ge.runKernel(e1,n)}const JP=ye({isFinite_:h4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f4e(t){const n={x:ie(t,"x","isInf")};return ge.runKernel(t1,n)}const eO=ye({isInf_:f4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p4e(t){const n={x:ie(t,"x","isNaN")};return ge.runKernel(n1,n)}const tO=ye({isNaN_:p4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m4e(t,e=.2){const r={x:ie(t,"x","leakyRelu")},s={alpha:e};return ge.runKernel(Ib,r,s)}const m2=ye({leakyRelu_:m4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g4e(t,e){let n=ie(t,"a","less","string_or_numeric"),r=ie(e,"b","less","string_or_numeric");[n,r]=ls(n,r),hn(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(Eb,s)}const iy=ye({less_:g4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y4e(t,e){let n=ie(t,"a","lessEqual","string_or_numeric"),r=ie(e,"b","lessEqual","string_or_numeric");[n,r]=ls(n,r),hn(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(kb,s)}const Pf=ye({lessEqual_:y4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ee(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:t,stop:e,num:n};return ge.runKernel(PI,{},r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w4e(t,e=5,n=1,r=1,s=.5){const i=ie(t,"x","localResponseNormalization");ee(i.rank===4||i.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${i.rank}.`),ee(ym(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let o=i,a=!1;i.rank===3&&(a=!0,o=Se(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const l={x:o},c={depthRadius:e,bias:n,alpha:r,beta:s},u=ge.runKernel(Db,l,c);return a?Se(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const nO=ye({localResponseNormalization_:w4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v4e(t){const n={x:ie(t,"x","log","float32")};return ge.runKernel(r1,n)}const Ra=ye({log_:v4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x4e(t){const n={x:ie(t,"x","log1p")};return ge.runKernel(s1,n)}const g2=ye({log1p_:x4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b4e(t){return ee(df(t),()=>"The f passed in grad(f) must be a function"),(e,n)=>{const r=ie(e,"x","tf.grad","string_or_numeric"),s=n!=null?ie(n,"dy","tf.grad"):null;return ge.tidy(()=>{const{value:i,grads:o}=ge.gradients(()=>t(r),[r],s);return s!=null&&Di(i.shape,s.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),BE(o),o[0]})}}function C4e(t){return ee(df(t),()=>"The f passed in grads(f) must be a function"),(e,n)=>{ee(Array.isArray(e),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");const r=wx(e,"args","tf.grads","string_or_numeric"),s=n!=null?ie(n,"dy","tf.grads"):null;return ge.tidy(()=>{const{value:i,grads:o}=ge.gradients(()=>t(...r),r,s);return s!=null&&Di(i.shape,s.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),BE(o),o})}}function S4e(t){return ee(df(t),()=>"The f passed in valueAndGrad(f) must be a function"),(e,n)=>{ee(e instanceof lr,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),ee(n==null||n instanceof lr,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");const{grads:r,value:s}=ge.gradients(()=>t(e),[e],n);return BE(r),{grad:r[0],value:s}}}function B4e(t){return ee(df(t),()=>"The f passed in valueAndGrads(f) must be a function"),(e,n)=>{ee(Array.isArray(e)&&e.every(s=>s instanceof lr),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),ee(n==null||n instanceof lr,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");const r=ge.gradients(()=>t(...e),e,n);return n!=null&&Di(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),BE(r.grads),r}}function Nee(t,e){ee(df(t),()=>"The f passed in variableGrads(f) must be a function"),ee(e==null||Array.isArray(e)&&e.every(c=>c instanceof yx),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const c in ge.registeredVariables)e.push(ge.registeredVariables[c])}const r=n?e.filter(c=>!c.trainable):null,s=e.length;e=e.filter(c=>c.trainable),ee(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${s} variables is trainable.`);const i=!0,{value:o,grads:a}=ge.gradients(t,e,null,i);ee(a.some(c=>c!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),ee(o.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${o.rank} tensor`);const l={};return e.forEach((c,u)=>{a[u]!=null&&(l[c.name]=a[u])}),r!=null&&r.forEach(c=>l[c.name]=null),{value:o,grads:l}}function CA(t){return ge.customGrad(t)}function BE(t){if(t.filter(n=>n==null).length>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _4e(t){const n={x:ie(t,"x","neg")};return ge.runKernel(Qb,n)}const Pr=ye({neg_:_4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N4e(t){const n={x:ie(t,"x","softplus")};return ge.runKernel(v1,n)}const Gm=ye({softplus_:N4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I4e(t){const e=ie(t,"x","logSigmoid");return CA(r=>({value:Pr(Gm(Pr(r))),gradFunc:o=>xe(o,au(Pr(r)))}))(e)}const rO=ye({logSigmoid_:I4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E4e(t,e){let n=ie(t,"a","sub"),r=ie(e,"b","sub");[n,r]=ls(n,r);const s={a:n,b:r};return ge.runKernel(C1,s)}const Ct=ye({sub_:E4e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k4e(t,e=-1){const n=ie(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return CA((s,i)=>{const a=gl(s,e,!0),l=Ct(s,a),c=Ct(At(l,"float32"),Ra(Lt(ra(l),e,!0)));return i([c]),{value:c,gradFunc:(A,d)=>{const[h]=d,p=!0,m=ra(h);return Ct(A,xe(Lt(A,e,p),m))}}})(n)}const _E=ye({logSoftmax_:k4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T4e(t,e=null,n=!1){const r=ie(t,"x","logSumExp"),s=En(e,r.shape),i=gl(r,s,!0),o=Ct(r,i),a=ra(o),l=Lt(a,s),c=Ra(l),u=Je(Se(i,c.shape),c);if(n){const A=Es(u.shape,s);return Se(u,A)}return u}const y2=ye({logSumExp_:T4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F4e(t,e){const n=ie(t,"a","logicalAnd","bool"),r=ie(e,"b","logicalAnd","bool");hn(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(Tb,s)}const fu=ye({logicalAnd_:F4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L4e(t){const n={x:ie(t,"x","logicalNot","bool")};return ge.runKernel(Fb,n)}const w2=ye({logicalNot_:L4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D4e(t,e){const n=ie(t,"a","logicalOr","bool"),r=ie(e,"b","logicalOr","bool");hn(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(Lb,s)}const NE=ye({logicalOr_:D4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R4e(t,e){const n=ie(t,"a","logicalXor","bool"),r=ie(e,"b","logicalXor","bool");return hn(n.shape,r.shape),fu(NE(t,e),w2(fu(t,e)))}const sO=ye({logicalXor_:R4e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xS=2147483648;function P4e(t,e,n="left"){const r=ie(t,"sortedSequence","searchSorted"),s=ie(e,"values","searchSorted"),i=r.shape[r.shape.length-1],o=s.shape[s.shape.length-1],a=Se(r,[-1,i]),l=Se(s,[-1,o]);if(a.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(a.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if($e(l.shape)>=xS)throw new Error(`values tensor size must less than ${xS}`);if(a.shape[1]>=xS)throw new Error(`trailing dim_size must less than ${xS} for int32 output type, was ${a.shape[1]}`);const c={sortedSequence:a,values:l},u={side:n};return ge.runKernel(eE,c,u)}const IE=ye({searchSorted_:P4e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Iee(t,e){return IE(t,e,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O4e(t,e,n,r,s){const i=ie(t,"x","maxPool"),o=1;let a=i,l=!1;i.rank===3&&(l=!0,a=Se(i,[1,i.shape[0],i.shape[1],i.shape[2]])),ee(a.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${a.rank}.`),ee(Ri(n,o),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),To("maxPool",r,s);const c={x:a},u={filterSize:e,strides:n,pad:r,dimRoundingMode:s},A=ge.runKernel(Pb,c,u);return l?Se(A,[A.shape[1],A.shape[2],A.shape[3]]):A}const v2=ye({maxPool_:O4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $4e(t,e=[1,1,1],n,r,s,i="NDHWC"){const o=ie(t,"x","maxPool3d");let a=o,l=!1;o.rank===4&&(l=!0,a=Se(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ee(a.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${a.rank}.`),ee(i==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),To("maxPool3d",r,s);const c={x:a},u={filterSize:e,strides:n,pad:r,dimRoundingMode:s,dataFormat:i},A=ge.runKernel(Ob,c,u);return l?Se(A,[A.shape[1],A.shape[2],A.shape[3],A.shape[4]]):A}const iO=ye({maxPool3d_:$4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U4e(t,e,n,r,s=!1){const o={x:ie(t,"x","maxPoolWithArgmax")},a={filterSize:e,strides:n,pad:r,includeBatchInIndex:s},l=ge.runKernel(MI,o,a);return{result:l[0],indexes:l[1]}}const Eee=ye({maxPoolWithArgmax_:U4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M4e(t,e){let n=ie(t,"a","maximum"),r=ie(e,"b","maximum");[n,r]=ls(n,r),n.dtype==="bool"&&(n=At(n,"int32"),r=At(r,"int32")),hn(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(i1,s)}const TA=ye({maximum_:M4e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q4e(t,e=null,n=!1){const s={x:ie(t,"x","mean")},i={axis:e,keepDims:n};return ge.runKernel($b,s,i)}const os=ye({mean_:Q4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vs(t,e="float32"){if(Ma(t),e==="complex64"){const r=Vs(t,"float32"),s=Vs(t,"float32");return xd(r,s)}const n=Li($e(t),e);return ge.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yo(t,e="float32"){if(Ma(t),e==="complex64"){const r=Yo(t,"float32"),s=Vs(t,"float32");return xd(r,s)}const n=cI($e(t),e);return ge.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kee(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(t===void 0)return[];let r=ie(t,"x","meshgrid",t instanceof lr?t.dtype:"float32");if(e===void 0)return[r];let s=ie(e,"y","meshgrid",e instanceof lr?e.dtype:"float32");const i=$e(r.shape),o=$e(s.shape);return n==="xy"?(r=Se(r,[1,-1]),s=Se(s,[-1,1]),[_n(Yo([o,1],r.dtype),r),_n(s,Yo([1,i],s.dtype))]):(r=Se(r,[-1,1]),s=Se(s,[1,-1]),[_n(r,Yo([1,o],r.dtype)),_n(Yo([i,1],s.dtype),s)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j4e(t,e){let n=ie(t,"a","minimum"),r=ie(e,"b","minimum");[n,r]=ls(n,r),n.dtype==="bool"&&(n=At(n,"int32"),r=At(r,"int32")),hn(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(o1,s)}const gf=ye({minimum_:j4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H4e(t,e,n){ee(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=ie(t,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");ee(e.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${e.length}.`);const s=n==="reflect"?1:0;for(let a=0;a<r.rank;a++)ee(e[a].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),ee(e[a][0]>=0&&e[a][0]<=r.shape[a]-s&&e[a][1]>=0&&e[a][1]<=r.shape[a]-s,()=>`Padding in dimension ${a} cannot be greater than or equal to ${r.shape[a]-s} or less than 0 for input of shape ${r.shape}`);const i={paddings:e,mode:n},o={x:r};return ge.runKernel(Mb,o,i)}const oO=ye({mirrorPad_:H4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z4e(t,e){let n=ie(t,"a","mod"),r=ie(e,"b","mod");[n,r]=ls(n,r);const s={a:n,b:r};return ge.runKernel(a1,s)}const aO=ye({mod_:z4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V4e(t,e=null,n=!1){t=ie(t,"x","moments");const r=En(e,t.shape),s=os(t,r,n);let i=s.shape;n||(i=Es(s.shape,r));const o=br(Ct(At(t,"float32"),Se(s,i))),a=os(o,r,n);return{mean:s,variance:a}}const x2=ye({moments_:V4e});function W4e(t,e,n,r){const s=ie(e,"data","multiRNNCell"),i=wx(n,"c","multiRNNCell"),o=wx(r,"h","multiRNNCell");let a=s;const l=[];for(let A=0;A<t.length;A++){const d=t[A](a,i[A],o[A]);l.push(d[0]),l.push(d[1]),a=d[1]}const c=[],u=[];for(let A=0;A<l.length;A+=2)c.push(l[A]),u.push(l[A+1]);return[c,u]}const Tee=ye({multiRNNCell_:W4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G4e(t,e,n,r=!1){const s=ie(t,"logits","multinomial"),i=s.size,o=s.rank;if(i<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${i}.`);if(o>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${o}`);n=n||Math.random();const l={logits:o===1?Se(s,[1,-1]):s},c={numSamples:e,seed:n,normalized:r},u=ge.runKernel(QI,l,c);return o===1?Se(u,[u.size]):u}const Fee=ye({multinomial_:G4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K4e(t,e){let n=ie(t,"a","notEqual","string_or_numeric"),r=ie(e,"b","notEqual","string_or_numeric");[n,r]=ls(n,r),hn(n.shape,r.shape);const s={a:n,b:r};return ge.runKernel(jb,s)}const Bm=ye({notEqual_:K4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q4e(t,e,n=1,r=0,s="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const o={indices:ie(t,"indices","oneHot","int32")},a={dtype:s,depth:e,onValue:n,offValue:r};return ge.runKernel(zb,o,a)}const oy=ye({oneHot_:q4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X4e(t){const n={x:ie(t,"x","onesLike")};return ge.runKernel(Hb,n)}const Pa=ye({onesLike_:X4e});function Y4e(t,e){const n=ie(t,"v1","outerProduct"),r=ie(e,"v2","outerProduct");ee(n.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);const s=Se(n,[-1,1]),i=Se(r,[1,-1]);return _n(s,i)}const Lee=ye({outerProduct_:Y4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z4e(t,e,n=0){const r=ie(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const s={paddings:e,constantValue:n},i={x:r};return ge.runKernel(Wb,i,s)}const Td=ye({pad_:Z4e});function J4e(t,e,n=0){return ee(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),Td(t,[e],n)}const Dee=ye({pad1d_:J4e});function e3e(t,e,n=0){return ee(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Td(t,e,n)}const Ree=ye({pad2d_:e3e});function t3e(t,e,n=0){return ee(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Td(t,e,n)}const Pee=ye({pad3d_:t3e});function n3e(t,e,n=0){return ee(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Td(t,e,n)}const Oee=ye({pad4d_:n3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r3e(t,e,n){const r=ie(t,"x","spaceToBatchND");ee(r.rank>=1+e.length,()=>`input rank ${r.rank} should be > than [blockShape] ${e.length}`),ee(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),ee(r.shape.reduce((o,a,l)=>l>0&&l<=e.length?o&&(a+n[l-1][0]+n[l-1][1])%e[l-1]===0:o,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const s={x:r},i={blockShape:e,paddings:n};return ge.runKernel(n2,s,i)}const b2=ye({spaceToBatchND_:r3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s3e(t,e,n,r,s,i,o){s==null&&(s=[1,1]),i==null&&(i=1),r===0&&(r="valid");const a=ie(t,"x","maxPool");let l=a,c=!1;a.rank===3&&(c=!0,l=Se(a,[1,a.shape[0],a.shape[1],a.shape[2]])),ee(Ri(i,s),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${i} and dilations '${s}'`);const u=dc(l.shape,e,i,s,r),A=[u.dilationHeight,u.dilationWidth];let d;r==="same"?d=o3e([u.filterHeight,u.filterWidth],A):d=[[0,0],[0,0]];const h=A[0]===1&&A[1]===1,[p,m]=i3e([u.inHeight,u.inWidth],A,d),y=h?r:"valid",g=h?l:b2(l,A,p),b=(n==="avg"?()=>d2(g,e,i,y,o):()=>v2(g,e,i,y,o))(),C=h?b:h2(b,A,m);return c?Se(C,[C.shape[1],C.shape[2],C.shape[3]]):C}function i3e(t,e,n){const r=n.map(u=>u[0]),s=n.map(u=>u[1]),i=t.concat(r,s),o=e.map((u,A)=>(u-i[A]%u)%u),a=s.map((u,A)=>u+o[A]),l=e.map((u,A)=>[r[A],a[A]]),c=e.map((u,A)=>[0,o[A]]);return[l,c]}function o3e(t,e){const r=t.map((o,a)=>o+(o-1)*(e[a]-1)).map(o=>o-1),s=r.map(o=>Math.floor(o/2)),i=r.map((o,a)=>o-s[a]);return r.map((o,a)=>[s[a],i[a]])}const lO=ye({pool_:s3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a3e(t,e){const n=ie(t,"x","prelu"),r=ie(e,"alpha","prelu"),s={x:n,alpha:r};return ge.runKernel(Gb,s)}const C2=ye({prelu_:a3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l3e(t,e=null,n=!1){let r=ie(t,"x","prod");r.dtype==="bool"&&(r=At(r,"int32"));const s={x:r},i={axis:e,keepDims:n};return ge.runKernel(Kb,s,i)}const cO=ye({prod_:l3e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c3e(t,e,n,r){const s=t.map((u,A)=>ie(u,`tensors${A}`,"raggedGather","int32")),i=ie(e,"paramsDenseValues","raggedGather"),o=ie(n,"indices","raggedGather","int32"),a={paramsNestedSplits:s,paramsDenseValues:i,indices:o},l={outputRaggedRank:r},c=ge.runKernel(VI,a,l);return{outputNestedSplits:c.slice(0,c.length-1),outputDenseValues:c[c.length-1]}}const $ee=ye({raggedGather_:c3e});/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u3e(t,e,n){const r=ie(t,"starts","raggedRange"),s=ie(e,"limits","raggedRange",r.dtype),i=ie(n,"deltas","raggedRange",r.dtype),o={starts:r,limits:s,deltas:i},a=ge.runKernel(WI,o);return{rtNestedSplits:a[0],rtDenseValues:a[1]}}const Uee=ye({raggedRange_:u3e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A3e(t,e,n,r,s){const i=ie(t,"shape","raggedTensorToTensor","int32"),o=ie(e,"values","raggedTensorToTensor"),a=ie(n,"defaultValue","raggedTensorToTensor",o.dtype),l=r.map((A,d)=>ie(A,`tensors${d}`,"raggedTensorToTensor","int32")),c={shape:i,values:o,defaultValue:a,rowPartitionTensors:l},u={rowPartitionTypes:s};return ge.runKernel(GI,c,u)}const Mee=ye({raggedTensorToTensor_:A3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d3e(t,e,n){Ma(t);const r=$e(t);let s=null;if(n==null||n==="float32")s=new Float32Array(r);else if(n==="int32")s=new Int32Array(r);else if(n==="bool")s=new Uint8Array(r);else throw new Error(`Unknown data type ${n}`);for(let i=0;i<r;i++)s[i]=e();return ge.makeTensor(s,t,n)}const Qee=ye({rand_:d3e});var uO={exports:{}};uO.exports;(function(t){(function(e,n,r){function s(l){var c=this,u=a();c.next=function(){var A=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=A-(c.c=A|0)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(l),c.s0<0&&(c.s0+=1),c.s1-=u(l),c.s1<0&&(c.s1+=1),c.s2-=u(l),c.s2<0&&(c.s2+=1),u=null}function i(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function o(l,c){var u=new s(l),A=c&&c.state,d=u.next;return d.int32=function(){return u.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,A&&(typeof A=="object"&&i(A,u),d.state=function(){return i(u,{})}),d}function a(){var l=4022871197,c=function(u){u=String(u);for(var A=0;A<u.length;A++){l+=u.charCodeAt(A);var d=.02519603282416938*l;l=d>>>0,d-=l,d*=l,l=d>>>0,d-=l,l+=d*4294967296}return(l>>>0)*23283064365386963e-26};return c}n&&n.exports?n.exports=o:this.alea=o})(_A,t)})(uO);var h3e=uO.exports,AO={exports:{}};AO.exports;(function(t){(function(e,n,r){function s(a){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var A=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^A^A>>>8},a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,l.next()}function i(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function o(a,l){var c=new s(a),u=l&&l.state,A=function(){return(c.next()>>>0)/4294967296};return A.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},A.int32=c.next,A.quick=A,u&&(typeof u=="object"&&i(u,c),A.state=function(){return i(c,{})}),A}n&&n.exports?n.exports=o:this.xor128=o})(_A,t)})(AO);var f3e=AO.exports,dO={exports:{}};dO.exports;(function(t){(function(e,n,r){function s(a){var l=this,c="";l.next=function(){var A=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(A^A<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,u==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function o(a,l){var c=new s(a),u=l&&l.state,A=function(){return(c.next()>>>0)/4294967296};return A.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},A.int32=c.next,A.quick=A,u&&(typeof u=="object"&&i(u,c),A.state=function(){return i(c,{})}),A}n&&n.exports?n.exports=o:this.xorwow=o})(_A,t)})(dO);var p3e=dO.exports,hO={exports:{}};hO.exports;(function(t){(function(e,n,r){function s(a){var l=this;l.next=function(){var u=l.x,A=l.i,d,h;return d=u[A],d^=d>>>7,h=d^d<<24,d=u[A+1&7],h^=d^d>>>10,d=u[A+3&7],h^=d^d>>>3,d=u[A+4&7],h^=d^d<<7,d=u[A+7&7],d=d^d<<13,h^=d^d<<9,u[A]=h,l.i=A+1&7,h};function c(u,A){var d,h=[];if(A===(A|0))h[0]=A;else for(A=""+A,d=0;d<A.length;++d)h[d&7]=h[d&7]<<15^A.charCodeAt(d)+h[d+1&7]<<13;for(;h.length<8;)h.push(0);for(d=0;d<8&&h[d]===0;++d);for(d==8?h[7]=-1:h[d],u.x=h,u.i=0,d=256;d>0;--d)u.next()}c(l,a)}function i(a,l){return l.x=a.x.slice(),l.i=a.i,l}function o(a,l){a==null&&(a=+new Date);var c=new s(a),u=l&&l.state,A=function(){return(c.next()>>>0)/4294967296};return A.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},A.int32=c.next,A.quick=A,u&&(u.x&&i(u,c),A.state=function(){return i(c,{})}),A}n&&n.exports?n.exports=o:this.xorshift7=o})(_A,t)})(hO);var m3e=hO.exports,fO={exports:{}};fO.exports;(function(t){(function(e,n,r){function s(a){var l=this;l.next=function(){var u=l.w,A=l.X,d=l.i,h,p;return l.w=u=u+1640531527|0,p=A[d+34&127],h=A[d=d+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,p=A[d]=p^h,l.i=d,p+(u^u>>>16)|0};function c(u,A){var d,h,p,m,y,g=[],v=128;for(A===(A|0)?(h=A,A=null):(A=A+"\0",h=0,v=Math.max(v,A.length)),p=0,m=-32;m<v;++m)A&&(h^=A.charCodeAt((m+32)%A.length)),m===0&&(y=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,m>=0&&(y=y+1640531527|0,d=g[m&127]^=h+y,p=d==0?p+1:0);for(p>=128&&(g[(A&&A.length||0)&127]=-1),p=127,m=4*128;m>0;--m)h=g[p+34&127],d=g[p=p+1&127],h^=h<<13,d^=d<<17,h^=h>>>15,d^=d>>>12,g[p]=h^d;u.w=y,u.X=g,u.i=p}c(l,a)}function i(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function o(a,l){a==null&&(a=+new Date);var c=new s(a),u=l&&l.state,A=function(){return(c.next()>>>0)/4294967296};return A.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},A.int32=c.next,A.quick=A,u&&(u.X&&i(u,c),A.state=function(){return i(c,{})}),A}n&&n.exports?n.exports=o:this.xor4096=o})(_A,t)})(fO);var g3e=fO.exports,pO={exports:{}};pO.exports;(function(t){(function(e,n,r){function s(a){var l=this,c="";l.next=function(){var A=l.b,d=l.c,h=l.d,p=l.a;return A=A<<25^A>>>7^d,d=d-h|0,h=h<<24^h>>>8^p,p=p-A|0,l.b=A=A<<20^A>>>12^d,l.c=d=d-h|0,l.d=h<<16^d>>>16^p,l.a=p-A|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):c+=a;for(var u=0;u<c.length+20;u++)l.b^=c.charCodeAt(u)|0,l.next()}function i(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function o(a,l){var c=new s(a),u=l&&l.state,A=function(){return(c.next()>>>0)/4294967296};return A.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},A.int32=c.next,A.quick=A,u&&(typeof u=="object"&&i(u,c),A.state=function(){return i(c,{})}),A}n&&n.exports?n.exports=o:this.tychei=o})(_A,t)})(pO);var y3e=pO.exports,jee={exports:{}};const w3e={},v3e=Object.freeze(Object.defineProperty({__proto__:null,default:w3e},Symbol.toStringTag,{value:"Module"})),x3e=DL(v3e);(function(t){(function(e,n,r){var s=256,i=6,o=52,a="random",l=r.pow(s,i),c=r.pow(2,o),u=c*2,A=s-1,d;function h(C,_,I){var T=[];_=_==!0?{entropy:!0}:_||{};var F=g(y(_.entropy?[C,b(n)]:C??v(),3),T),D=new p(T),j=function(){for(var O=D.g(i),U=l,W=0;O<c;)O=(O+W)*s,U*=s,W=D.g(1);for(;O>=u;)O/=2,U/=2,W>>>=1;return(O+W)/U};return j.int32=function(){return D.g(4)|0},j.quick=function(){return D.g(4)/4294967296},j.double=j,g(b(D.S),n),(_.pass||I||function(O,U,W,$){return $&&($.S&&m($,D),O.state=function(){return m(D,{})}),W?(r[a]=O,U):O})(j,F,"global"in _?_.global:this==r,_.state)}function p(C){var _,I=C.length,T=this,F=0,D=T.i=T.j=0,j=T.S=[];for(I||(C=[I++]);F<s;)j[F]=F++;for(F=0;F<s;F++)j[F]=j[D=A&D+C[F%I]+(_=j[F])],j[D]=_;(T.g=function(O){for(var U,W=0,$=T.i,J=T.j,Z=T.S;O--;)U=Z[$=A&$+1],W=W*s+Z[A&(Z[$]=Z[J=A&J+U])+(Z[J]=U)];return T.i=$,T.j=J,W})(s)}function m(C,_){return _.i=C.i,_.j=C.j,_.S=C.S.slice(),_}function y(C,_){var I=[],T=typeof C,F;if(_&&T=="object")for(F in C)try{I.push(y(C[F],_-1))}catch{}return I.length?I:T=="string"?C:C+"\0"}function g(C,_){for(var I=C+"",T,F=0;F<I.length;)_[A&F]=A&(T^=_[A&F]*19)+I.charCodeAt(F++);return b(_)}function v(){try{var C;return d&&(C=d.randomBytes)?C=C(s):(C=new Uint8Array(s),(e.crypto||e.msCrypto).getRandomValues(C)),b(C)}catch{var _=e.navigator,I=_&&_.plugins;return[+new Date,e,I,e.screen,b(n)]}}function b(C){return String.fromCharCode.apply(0,C)}if(g(r.random(),n),t.exports){t.exports=h;try{d=x3e}catch{}}else r["seed"+a]=h})(typeof self<"u"?self:_A,[],Math)})(jee);var b3e=jee.exports,C3e=h3e,S3e=f3e,B3e=p3e,_3e=m3e,N3e=g3e,I3e=y3e,Km=b3e;Km.alea=C3e;Km.xor128=S3e;Km.xorwow=B3e;Km.xorshift7=_3e;Km.xor4096=N3e;Km.tychei=I3e;var EE=Km;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E3e=.001,Hee=.1;function k3e(t,e,n){return n==null&&(n=mO()),J3(t,e,(r,s)=>gO(r,s,n))}function mO(){return ge.backend.floatPrecision()===32?E3e:Hee}function J3(t,e,n){let r=!0;if((gi(t)||gi(e))&&(r=!1),gi(t)&&gi(e)&&(r=!0),r){const o=t.constructor.name,a=e.constructor.name;if(o!==a)throw new Error(`Arrays are of different type. Actual: ${o}. Expected: ${a}`)}if(Array.isArray(t)&&Array.isArray(e)){const o=xA(t),a=xA(e);if(!Pn(o,a))throw new Error(`Arrays have different shapes. Actual: [${o}]. Expected: [${a}]`)}const s=gi(t)?t:vA(t),i=gi(e)?e:vA(e);if(s.length!==i.length)throw new Error(`Arrays have different lengths actual: ${s.length} vs expected: ${i.length}.
Actual:   ${s}.
Expected: ${i}.`);for(let o=0;o<i.length;++o){const a=s[o],l=i[o];if(!n(a,l))throw new Error(`Arrays differ: actual[${o}] = ${a}, expected[${o}] = ${l}.
Actual:   ${s}.
Expected: ${i}.`)}typeof expect<"u"&&expect().nothing()}function T3e(t,e){t().then(()=>e.fail(),()=>e()),typeof expect<"u"&&expect().nothing()}function F3e(t,e){const n=typeof e=="string"||typeof e=="number"||typeof e=="boolean"?[e]:e;return nA(t)||nA(t[0])||nA(e)||nA(e[0])?J3(t,n,(r,s)=>r==s):J3(t,e,(r,s)=>gO(r,s,0))}function L3e(t,e,n){if(n==null&&(n=mO()),!gO(t,e,n))throw new Error(`Numbers differ: actual === ${t}, expected === ${e}`);typeof expect<"u"&&expect().nothing()}function gO(t,e,n){return!isFinite(t)&&!isFinite(e)?!0:!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}function D3e(t,e,n){for(let r=0;r<t.length;r++)if(t[r]<e||t[r]>n)throw new Error(`Value out of range:${t[r]} low: ${e}, high: ${n}`)}function R3e(t,e){const n=new Float32Array(t),r=new Float32Array(e);if(n.length!==r.length)throw new Error(`Expected ArrayBuffer to be of length ${r.length}, but it was ${n.length}`);for(let s=0;s<r.length;s++)if(n[s]!==r[s])throw new Error(`Expected ArrayBuffer value at ${s} to be ${r[s]} but got ${n[s]} instead`)}function zee(t){for(let e=0;e<t.length;e++){const n=t[e];Array.isArray(n)?zee(n):t[e]=dA(n)}return t}function P3e(t){const e=document.createElement("video");return"playsInline"in e&&(e.playsInline=!0),e.muted=!0,e.loop=!0,e.style.position="fixed",e.style.left="0px",e.style.top="0px",e.preload="auto",e.appendChild(t),new Promise(n=>{e.addEventListener("loadeddata",r=>n(e)),e.load()})}async function O3e(t){await t.play(),"requestVideoFrameCallback"in t&&await new Promise(e=>{t.requestVideoFrameCallback(e)})}const $3e=Object.freeze(Object.defineProperty({__proto__:null,TEST_EPSILON_FLOAT16:Hee,createVideoElement:P3e,encodeStrings:zee,expectArrayBuffersEqual:R3e,expectArraysClose:k3e,expectArraysEqual:F3e,expectNumbersClose:L3e,expectPromiseToFail:T3e,expectValuesInRange:D3e,play:O3e,testEpsilon:mO},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yO{constructor(e,n,r,s,i){this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=s,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const o=i||Math.random();this.random=EE.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const s=this.nextVal;return this.nextVal=NaN,s}let e,n,r=!1;for(;!r;){let s,i,o;do s=2*this.random()-1,i=2*this.random()-1,o=s*s+i*i;while(o>=1||o===0);const a=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*s*a,n=this.mean+this.stdDev*i*a,(!this.truncated||this.isValidTruncated(e))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class U3e{constructor(e,n,r,s){this.alpha=e,this.beta=1/n,this.dtype=r;const i=s||Math.random();this.randu=EE.alea(i.toString()),this.randn=new yO(0,1,r,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,r,s,i,o;for(;;){do s=this.randn.nextValue(),o=1+this.c*s;while(o<=0);if(o*=o*o,e=s*s,n=1-.331*e*e,r=.5*e+this.d*(1-o+Math.log(o)),i=this.randu(),i<n||Math.log(i)<r)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class M3e{constructor(e=0,n=1,r,s){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=r,s==null&&(s=Math.random()),typeof s=="number"&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=EE.alea(s)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q3e(t,e,n=1,r="float32",s){if(Ma(t),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);const i=new U3e(e,n,r,s),o=wn(t,r);for(let a=0;a<o.values.length;a++)o.values[a]=i.nextValue();return o.toTensor()}const Vee=ye({randomGamma_:Q3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j3e(t,e=0,n=1,r,s){if(Ma(t),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const i=new yO(e,n,r,!1,s),o=wn(t,r);for(let a=0;a<o.values.length;a++)o.values[a]=i.nextValue();return o.toTensor()}const kE=ye({randomNormal_:j3e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H3e(t,e,n){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return kE(t,0,1,e,n)}const Wee=ye({randomStandardNormal_:H3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z3e(t,e=0,n=1,r="float32",s){Ma(t);const i=wn(t,r),o=new M3e(e,n,null,s);for(let a=0;a<i.values.length;a++)i.values[a]=o.nextValue();return i.toTensor()}const Of=ye({randomUniform_:z3e});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V3e(t,e,n,r){return Of(t,e,n,"int32",r)}const Gee=ye({randomUniformInt_:V3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _m(t,e,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const s={start:t,stop:e,step:n,dtype:r};return ge.runKernel(KI,{},s)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W3e(t){const n={input:ie(t,"input","real")};return ge.runKernel(qI,n)}const ay=ye({real_:W3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G3e(t){const n={x:ie(t,"x","reciprocal")};return ge.runKernel(u1,n)}const wO=ye({reciprocal_:G3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K3e(t){const n={x:ie(t,"x","relu")};return ge.runKernel(A1,n)}const Bu=ye({relu_:K3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q3e(t){const n={x:ie(t,"x","relu6")};return ge.runKernel(d1,n)}const TE=ye({relu6_:q3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X3e(t,e){const r={x:ie(t,"x","reverse")},s={dims:e};return ge.runKernel(Zb,r,s)}const wl=ye({reverse_:X3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y3e(t){const e=ie(t,"x","reverse");return ee(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),wl(e,0)}const Kee=ye({reverse1d_:Y3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z3e(t,e){const n=ie(t,"x","reverse");return ee(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),wl(n,e)}const qee=ye({reverse2d_:Z3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J3e(t,e){const n=ie(t,"x","reverse");return ee(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),wl(n,e)}const Xee=ye({reverse3d_:J3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eLe(t,e){const n=ie(t,"x","reverse");return ee(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),wl(n,e)}const Yee=ye({reverse4d_:eLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tLe(t){const n={x:ie(t,"x","round")};return ge.runKernel(h1,n)}const FE=ye({round_:tLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nLe(t){const n={x:ie(t,"x","rsqrt","float32")};return ge.runKernel(f1,n)}const LE=ye({rsqrt_:nLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rLe(t){const n={x:ie(t,"x","selu")};return ge.runKernel(p1,n)}const DE=ye({selu_:rLe});function sLe(t,e,n,r,s,i=[1,1],o="NHWC"){const a=ie(t,"x","separableConv2d"),l=ie(e,"depthwiseFilter","separableConv2d"),c=ie(n,"pointwiseFilter","separableConv2d");let u=a,A=!1;if(a.rank===3&&(A=!0,u=Se(a,[1,a.shape[0],a.shape[1],a.shape[2]])),o==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");ee(u.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${u.rank}.`),ee(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),ee(c.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),ee(c.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${c.shape[0]}.`),ee(c.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${c.shape[1]}.`);const d=l.shape[2],h=l.shape[3];ee(c.shape[2]===d*h,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*h}, but got ${c.shape[2]}.`);const p=E1(u,l,r,s,o,i),y=bd(p,c,1,"valid",o);return A?Se(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const RE=ye({separableConv2d_:sLe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function iLe(t,e){const n=ie(t,"x","setdiff1d"),r=ie(e,"y","setdiff1d");ee(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),ee(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),ee(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);const s=await n.data(),i=await r.data(),o=new Set(i);let a=0;for(let u=0;u<s.length;u++)o.has(s[u])||a++;const l=new Ws([a],n.dtype),c=new Ws([a],"int32");for(let u=0,A=0;u<s.length;u++)o.has(s[u])||(l.values[A]=s[u],c.values[A]=u,A++);return[l.toTensor(),c.toTensor()]}const Zee=iLe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oLe(t){const n={x:ie(t,"x","sign")};return ge.runKernel(y1,n)}const vO=ye({sign_:oLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aLe(t){const n={x:ie(t,"x","sin","float32")};return ge.runKernel(m1,n)}const PE=ye({sin_:aLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lLe(t){const n={x:ie(t,"x","sinh")};return ge.runKernel(g1,n)}const OE=ye({sinh_:lLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cLe(t,e,n){const r=ie(t,"x","slice1d");return ee(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),Un(r,[e],[n])}const S2=ye({slice1d_:cLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uLe(t,e,n){const r=ie(t,"x","slice2d");return ee(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),Un(r,e,n)}const $E=ye({slice2d_:uLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ALe(t,e,n){const r=ie(t,"x","slice3d");return ee(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),Un(r,e,n)}const B2=ye({slice3d_:ALe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dLe(t,e,n){const r=ie(t,"x","slice4d");return ee(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),Un(r,e,n)}const ly=ye({slice4d_:dLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hLe(t,e=-1){const n=ie(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const r={logits:n},s={dim:e};return ge.runKernel(s2,r,s)}const _2=ye({softmax_:hLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fLe(t){ee(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return ge.runKernel(kI,e)}const N2=ye({fft_:fLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pLe(t){ee(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return ge.runKernel(DI,e)}const cy=ye({ifft_:pLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mLe(t){const e=t.shape[t.shape.length-1],n=t.size/e;let r;if(e<=2){const s=Se(t,[n,e]);r=cy(s)}else{const s=[n,2*(e-1)],i=Se(ay(t),[n,e]),o=Se(p2(t),[n,e]),a=wl(Un(i,[0,1],[n,e-2]),1),l=xe(wl(Un(o,[0,1],[n,e-2]),1),Xt(-1)),c=Is([i,a],1),u=Is([o,l],1),A=Se(xd(c,u),[s[0],s[1]]);r=cy(A)}if(r=ay(r),t.rank===3&&t.shape[0]!==0){const s=r,i=t.shape[0];r=Se(r,[i,r.shape[0]/i,r.shape[1]]),s.dispose()}return r}const UE=ye({irfft_:mLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gLe(t,e,n=0){const s={x:ie(t,"x","split")},i={numOrSizeSplits:e,axis:n};return ge.runKernel(r2,s,i)}const Jo=ye({split_:gLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yLe(t,e){ee(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1];const r=t.size/n;let s;if(e!=null&&e<n){const p=t.shape.map(y=>0),m=t.shape.map(y=>y);m[t.shape.length-1]=e,s=Un(t,p,m),n=e}else if(e!=null&&e>n){const p=t.shape.map(m=>m);p[t.shape.length-1]=e-n,s=Is([t,Vs(p)],t.shape.length-1),n=e}else s=t;const i=Mn(s),o=Se(xd(s,i),[r,n]),a=N2(o),l=Math.floor(n/2)+1,c=ay(a),u=p2(a),A=Jo(c,[l,n-l],c.shape.length-1),d=Jo(u,[l,n-l],u.shape.length-1),h=s.shape.slice();return h[s.shape.length-1]=l,Se(xd(A[0],d[0]),h)}const I2=ye({rfft_:yLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wLe(t,e){let n=ie(t,"a","squaredDifference"),r=ie(e,"b","squaredDifference");[n,r]=ls(n,r),hn(n.shape,r.shape);const s={a:n,b:r},i={};return ge.runKernel(b1,s,i)}const ME=ye({squaredDifference_:wLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vLe(t,e){const n=ie(t,"x","squeeze","string_or_numeric");return Se(n,_d(n.shape,e).newShape)}const $f=ye({squeeze_:vLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xLe(t,e=0){const n=wx(t,"tensors","stack","string_or_numeric");ee(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&ee(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,s={axis:e};return ge.runKernel(Vb,r,s)}const sa=ye({stack_:xLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bLe(t,e=0){const r={x:ie(t,"x","step")},s={alpha:e};return ge.runKernel(N1,r,s)}const qm=ye({step_:bLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CLe(t,e,n,r,s=0,i=0,o=0,a=0,l=0){const u={x:ie(t,"x","stridedSlice","string_or_numeric")},A={begin:e,end:n,strides:r,beginMask:s,endMask:i,ellipsisMask:o,newAxisMask:a,shrinkAxisMask:l};return ge.runKernel(aE,u,A)}const xO=ye({stridedSlice_:CLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SLe(t){const n={x:ie(t,"x","tan","float32")};return ge.runKernel(S1,n)}const bO=ye({tan_:SLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zi(t,e){Qm(t);const n=xA(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Lf(t,null,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _0(t,e,n){if(Qm(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=xA(t,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Lf(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CO(t,e,n){if(Qm(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=xA(t,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Lf(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jee(t,e,n){if(Qm(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const r=xA(t,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Lf(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ete(t,e,n){if(Qm(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const r=xA(t,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Lf(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tte(t,e,n){if(Qm(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const r=xA(t,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||r,Lf(t,e,r,n)}function SO(t,e,n){const r=e.rank>1?e.shape[e.rank-1]:1,s=e.rank>1?e.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${r}, and batchDim: ${s}.`;if(n.rank<s)throw new Error(i+` update.rank < ${s}. `);if(t.length<r+(n.rank-s))throw new Error(i+` Output shape length < ${r+(n.rank-s)}`);if(n.rank!==s+t.length-r)throw new Error(i+` update.rank != ${s+t.length-r}`);for(let o=0;o<s;++o)if(n.shape[o]!==e.shape[o])throw new Error(i+` updates.shape[${o}] (${n.shape[o]}) != indices.shape[${o}] (${e.shape[o]}).`);for(let o=0;o<n.rank-s;++o)if(n.shape[o+s]!==t[o+r])throw new Error(i+` updates.shape[${o+s}] (${n.shape[o+s]}) != shape[${o+s}] (${t[o+s]})`)}function QE(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}SO(n,e,t)}function Uf(t,e,n){const r=e.shape.length,s=r>1?e.shape[r-1]:1,i=n.length;let o=1;for(let A=s;A<i;++A)o*=n[A];const a=s<1?1:s,l=$e(e.shape)/a,c=[...Gt(n.slice(0,s)),1],u=$e(n);return{sliceRank:s,numUpdates:l,sliceSize:o,strides:c,outputSize:u}}const BLe=Object.freeze(Object.defineProperty({__proto__:null,calculateShapes:Uf,validateInput:QE,validateUpdateShape:SO},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Le(t,e,n){const r=ie(t,"tensor","tensorScatterupdate"),s=ie(e,"indices","tensorScatterupdate","int32"),i=ie(n,"updates","tensorScatterupdate");if(QE(i,s,r.shape),r.dtype!==i.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${i.dtype}.`);const o={tensor:r,indices:s,updates:i},a={};return ge.runKernel(JI,o,a)}const nte=ye({tensorScatterUpdate_:_Le});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NLe(t,e=1,n=!0){const r=ie(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const s=r.shape[r.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>s)throw new Error(`'k' passed to topk() must be <= the last dimension (${s}) but got ${e}`);const i={x:r},o={k:e,sorted:n},[a,l]=ge.runKernel(AE,i,o);return{values:a,indices:l}}const BO=ye({topk_:NLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ILe(t,e=0,n=1,r,s){if(Ma(t),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const i=new yO(e,n,r,!0,s),o=wn(t,r);for(let a=0;a<o.values.length;a++)o.values[a]=i.nextValue();return o.toTensor()}const jE=ye({truncatedNormal_:ILe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ELe(t,e=0){const n=ie(t,"x","unique","string_or_numeric");ee(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},s={axis:e},[i,o]=ge.runKernel(hE,r,s);return{values:i,indices:o}}const _O=ye({unique_:ELe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kLe(t,e,n){const r=ie(t,"x","unsortedSegmentSum"),s=ie(e,"segmentIds","unsortedSegmentSum","int32");ee(ym(n),()=>"numSegments must be of dtype int");const i={x:r,segmentIds:s},o={numSegments:n};return ge.runKernel(a2,i,o)}const HE=ye({unsortedSegmentSum_:kLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TLe(t,e=0){const n=ie(t,"x","unstack","string_or_numeric");ee(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},s={axis:e};return ge.runKernel(o2,r,s)}const vl=ye({unstack_:TLe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rte(t,e){return IE(t,e,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NO(t,e=!0,n,r){return ge.makeVariable(t,e,n,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zE(t,e){const n=[];for(let i=0;i<e.length;i++)e[i]&&n.push(i);const r=wn(t,"int32"),s=wn([n.length,t.length],"int32");for(let i=0;i<n.length;i++){const o=r.indexToLoc(n[i]),a=i*t.length;s.values.set(o,a)}return s.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function FLe(t){const e=ie(t,"condition","whereAsync","bool"),n=await e.data(),r=zE(e.shape,n);return t!==e&&e.dispose(),r}const IO=FLe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function LLe(t,e,n){const r=ie(t,"tensor","boolMask"),s=ie(e,"mask","boolMask","bool"),i=n??0,o=s.rank,a=r.shape;ee(o>0,()=>"mask cannot be scalar"),Di(a.slice(i,i+o),s.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=i;m<i+o;m++)l*=a[m];const c=a.slice(0,i).concat([l],a.slice(i+o)),u=Se(r,c),A=Se(s,[-1]),d=await IO(A),h=$f(d,[1]),p=L1(u,h,i);return t!==r&&r.dispose(),e!==s&&s.dispose(),h.dispose(),u.dispose(),A.dispose(),d.dispose(),p}const ste=LLe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DLe(t,e,n){const r=ie(t,"x","transpose");if(e==null&&(e=r.shape.map((o,a)=>a).reverse()),ee(r.rank===e.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${e}.`),e.forEach(o=>{ee(o>=0&&o<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${e}`)}),r.rank<=1)return r.clone();const s={x:r},i={perm:e};return r.dtype==="complex64"?Te(()=>{let o=ay(r),a=p2(r);return o=ge.runKernel(em,{x:o},i),a=ge.runKernel(em,{x:a},i),n&&(a=Pr(a)),xd(o,a)}):ge.runKernel(em,s,i)}const $n=ye({transpose_:DLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RLe(t,e,n,r,s=!0){const i=ie(t,"v","movingAverage"),o=ie(e,"x","movingAverage"),a=ie(n,"decay","movingAverage");ZJ(i,o),ee(Pn(i.shape,o.shape),()=>"Shape mismatch in v and x");const l=Xt(1),c=Ct(l,a);let u=xe(Ct(o,i),c);if(s){ee(r!=null,()=>"When using zeroDebias: true, step is required.");const A=ie(r,"step","movingAverage");u=jt(u,Ct(l,bA(a,A)))}return Je(i,u)}const ite=ye({movingAverage_:RLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PLe(t,e,n){Ma(n);const r=ie(t,"indices","scatterND","int32"),s=ie(e,"updates","scatterND");QE(s,r,n);const i={indices:r,updates:s},o={shape:n};return ge.runKernel(ZI,i,o)}const ote=ye({scatterND_:PLe});function OLe(t,e,n,r){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const s=t.rank>0?t.shape[0]:1,i=t.rank>1?t.shape[1]:1;if(n.length!==i)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${i}.`);const o=e.size;if(!(e.rank===0||e.rank===1&&o===s))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${s}]`);if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Le(t,e,n,r=0){Ma(n);const s=ie(t,"sparseIndices","sparseToDense","int32"),i=ie(e,"sparseValues","sparseToDense","string_or_numeric"),o=ie(r,"defaultValue","sparseToDense",i.dtype);OLe(s,i,n,o);const a={sparseIndices:s,sparseValues:i,defaultValue:o},l={outputShape:n};return ge.runKernel(iE,a,l)}const ate=ye({sparseToDense_:$Le});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ULe(t,e){const n=ie(e,"indices","gatherND","int32"),s={params:ie(t,"x","gatherND","string_or_numeric"),indices:n};return ge.runKernel(LI,s)}const lte=ye({gatherND_:ULe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MLe(t,e){if(e==null)return t.shape.slice();if(Pn(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let r=0;r<t.shape.length;r++)e[r]==null&&t.shape[r]!=null?n.push(t.shape[r]):n.push(e[r]);return n}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QLe(t,e,n,r){const s=ie(t,"x","dropout");if(ee(s.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${s.dtype} tensor instead.`),ee(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof lr?s.clone():s;const i=MLe(s,n),o=1-e,a=jt(F1(Je(Of(i,0,1,"float32",r),o)),o);return xe(s,a)}const EO=ye({dropout_:QLe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kO(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function VE(t,e,n){const r=1-t%2,s=new Float32Array(t);for(let i=0;i<t;++i){const o=2*Math.PI*i/(t+r-1);s[i]=e-n*Math.cos(o)}return Zi(s,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function jLe(t,e,n=1){const r=ie(t,"predictions","inTopK"),s=ie(e,"targets","inTopK");ee(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),ee(r.rank-1===s.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${s.rank}`),Di(r.shape.slice(0,r.shape.length-1),s.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const i=r.shape[r.shape.length-1];ee(n>0&&n<=i,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${i}), but got ${n}`);const o=await r.data(),a=await s.data(),[l,c]=[o.length/i,i],u=vi("bool",l);for(let A=0;A<l;A++){const d=A*c,h=o.subarray(d,d+c),p=[];for(let m=0;m<h.length;m++)p.push({value:h[m],index:m});p.sort((m,y)=>y.value-m.value),u[A]=0;for(let m=0;m<n;m++)if(p[m].index===a[A]){u[A]=1;break}}return t!==r&&r.dispose(),e!==s&&s.dispose(),oc(u,s.shape,"bool")}const cte=jLe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HLe(t,e,n,r,s,i="NHWC",o){let a=t;t.rank===3&&(a=Se(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=Se(e,[1,e.shape[0],e.shape[1],e.shape[2]])),ee(a.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${a.shape}.`),ee(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),ee(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const c=i==="NHWC"?a.shape[3]:a.shape[1],u=i==="NHWC"?l.shape[3]:l.shape[1];ee(c===n[2],()=>`Error in conv2dDerFilter: depth of input ${c}) must match input depth in filter (${n[2]}.`),ee(u===n[3],()=>`Error in conv2dDerFilter: depth of dy (${u}) must match output depth for filter (${n[3]}).`),To("conv2dDerFilter",s,o);const A={x:a,dy:l},d={strides:r,pad:s,dataFormat:i,dimRoundingMode:o,filterShape:n};return ge.runKernel(gI,A,d)}const TO=ye({conv2DBackpropFilter_:HLe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WE(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return xe(t,qm(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function GE(t,e){let n=e;const r=Gs(t.shape,e.shape);return r.length>0&&(n=Lt(n,r)),Se(n,t.shape)}function KE(t,e,n,r){if(e==="linear")return t;if(e==="relu")return Bu(t);if(e==="elu")return k1(t);if(e==="relu6")return TE(t);if(e==="prelu")return C2(t,n);if(e==="leakyrelu")return m2(t,r);if(e==="sigmoid")return au(t);throw new Error(`Unknown fused activation ${e}.`)}const qE=(t,e)=>!(t>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zLe({x:t,filter:e,strides:n,pad:r,dataFormat:s="NHWC",dilations:i=[1,1],dimRoundingMode:o,bias:a,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(l=l||"linear",qE(ge.state.gradientDepth,l)===!1){ee(s==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${s} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let I=bd(t,e,n,r,s,i,o);return a!=null&&(I=Je(I,a)),KE(I,l,c,u)}const A=ie(t,"x","conv2d","float32"),d=ie(e,"filter","conv2d","float32");let h=A,p=!1;A.rank===3&&(p=!0,h=Se(A,[1,A.shape[0],A.shape[1],A.shape[2]])),ee(h.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${h.rank}.`),ee(d.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`),To("fused conv2d",r,o);const m=s==="NHWC"?h.shape[3]:h.shape[1];ee(d.shape[2]===m,()=>`Error in conv2d: depth of input (${m}) must match input depth for filter ${d.shape[2]}.`),ee(Ri(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);const y=bi(h.shape,d.shape,n,i,r,o);let g;a!=null&&(g=ie(a,"bias","fused conv2d"),[g]=ls(g,A),s==="NHWC"?hn(y.outShape,g.shape):(ee(g.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${g.shape.length}.`),ee(g.shape.length===0||g.shape[0]===y.outChannels||g.shape[0]===1,()=>`Error in fused conv2d: bias shape (${g.shape}) is not compatible with the number of output channels (${y.outChannels})`)));let v;if(c!=null){const I=c.shape;if(ee(I.length<=1||I.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${I.length}.`),I.length===1)ee(I[0]===1||I[0]===y.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${I}) is not compatible with the number of output channels (${y.outChannels}).`);else if(I.length===3)try{hn(I,y.outShape)}catch{const F=`Error in fused conv2d: PReLU activation weights (${I}) is not compatible with the output shape of the conv2d (${y.outShape}).`;throw Error(F)}v=ie(c,"prelu weights","fused conv2d")}const b=(I,T)=>{ee(s==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${s} but only NHWC is currently supported.`);const[F,D,j,O]=T,U=WE(I,j,l);ee(pf(i),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`);const W=HP(D.shape,U,F,n,r),$=TO(D,U,F.shape,n,r),J=[W,$];if(O!=null){const Z=GE(O,U);J.push(Z)}return J},C={x:h,filter:d,bias:g,preluActivationWeights:v},_={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:o,activation:l,leakyreluAlpha:u};return a==null?CA((T,F,D)=>{let j=ge.runKernel(fx,C,_);return D([F,T,j]),p&&(j=Se(j,[j.shape[1],j.shape[2],j.shape[3]])),{value:j,gradFunc:b}})(h,d):CA((T,F,D,j)=>{let O=ge.runKernel(fx,C,_);return j([F,T,O,D]),p&&(O=Se(O,[O.shape[1],O.shape[2],O.shape[3]])),{value:O,gradFunc:b}})(h,d,g)}const ute=ye({fusedConv2d_:zLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VLe(t,e,n,r,s,i=[1,1],o){let a=t;t.rank===3&&(a=Se(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=Se(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const c={x:a,dy:l},u={strides:r,pad:s,dimRoundingMode:o,dilations:i,filterShape:n};return ge.runKernel(SI,c,u)}const Ate=ye({depthwiseConv2dNativeBackpropFilter_:VLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WLe(t,e,n,r,s,i=[1,1],o){let a=e,l=!1;e.rank===3&&(l=!0,a=Se(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const c={dy:a,filter:n},u={strides:r,pad:s,dimRoundingMode:o,dilations:i,inputShape:t},A=ge.runKernel(BI,c,u);return l?Se(A,[A.shape[1],A.shape[2],A.shape[3]]):A}const dte=ye({depthwiseConv2dNativeBackpropInput_:WLe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GLe({x:t,filter:e,strides:n,pad:r,dataFormat:s="NHWC",dilations:i=[1,1],dimRoundingMode:o,bias:a,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(qE(ge.state.gradientDepth,l)===!1){let _=E1(t,e,n,r,s,i,o);return a!=null&&(_=Je(_,a)),KE(_,l,c,u)}const A=ie(t,"x","depthwiseConv2d","float32"),d=ie(e,"filter","depthwiseConv2d","float32");let h=A,p=!1;A.rank===3&&(p=!0,h=Se(A,[1,A.shape[0],A.shape[1],A.shape[2]])),ee(h.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${h.rank}.`),ee(d.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${d.rank}.`),ee(h.shape[3]===d.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${h.shape[3]}) must match the inChannels dimension in filter ${d.shape[2]}.`),i==null&&(i=[1,1]),ee(Ri(n,i),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),To("fused depthwiseConv2d",r,o);const m=bi(h.shape,d.shape,n,i,r,o,!0);let y;a!=null&&(y=ie(a,"bias","fused conv2d"),[y]=ls(y,A),hn(m.outShape,y.shape));let g;c!=null&&(g=ie(c,"prelu weights","fused depthwiseConv2d"));const v=(_,I)=>{ee(pf(i),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${i}'`);const[T,F,D,j]=I,O=WE(_,D,l),U=dte(F.shape,O,T,n,r,i,o),W=Ate(F,O,T.shape,n,r,i,o);if(j!=null){const $=GE(y,O);return[U,W,$]}return[U,W]},b={x:h,filter:d,bias:y,preluActivationWeights:g},C={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:o,activation:l,leakyreluAlpha:u};return a==null?CA((I,T,F)=>{let D=ge.runKernel(px,b,C);return F([T,I,D]),p&&(D=Se(D,[D.shape[1],D.shape[2],D.shape[3]])),{value:D,gradFunc:v}})(h,d):CA((I,T,F,D)=>{let j=ge.runKernel(px,b,C);return D([T,I,j,F]),p&&(j=Se(j,[j.shape[1],j.shape[2],j.shape[3]])),{value:j,gradFunc:v}})(h,d,y)}const KLe=ye({fusedDepthwiseConv2d_:GLe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qLe({a:t,b:e,transposeA:n=!1,transposeB:r=!1,bias:s,activation:i="linear",preluActivationWeights:o,leakyreluAlpha:a=.2}){if(qE(ge.state.gradientDepth,i)===!1){let O=_n(t,e,n,r);return s!=null&&(O=Je(O,s)),KE(O,i,o,a)}let l=ie(t,"a","fused matMul"),c=ie(e,"b","fused matMul");[l,c]=ls(l,c);const u=n?l.shape[l.rank-2]:l.shape[l.rank-1],A=r?c.shape[c.rank-1]:c.shape[c.rank-2],d=n?l.shape[l.rank-1]:l.shape[l.rank-2],h=r?c.shape[c.rank-2]:c.shape[c.rank-1],p=l.shape.slice(0,-2),m=c.shape.slice(0,-2),y=$e(p),g=$e(m);ee(u===A,()=>`Error in fused matMul: inner shapes (${u}) and (${A}) of Tensors with shapes ${l.shape} and ${c.shape} and transposeA=${n} and transposeB=${r} must match.`);const b=hn(l.shape.slice(0,-2),c.shape.slice(0,-2)).concat([d,h]),C=n?Se(l,[y,u,d]):Se(l,[y,d,u]),_=r?Se(c,[g,h,A]):Se(c,[g,A,h]);let I;s!=null&&(I=ie(s,"bias","fused matMul"),[I]=ls(I,l),hn(b,I.shape));let T;o!=null&&(T=ie(o,"prelu weights","fused matMul"));const F=(O,U)=>{const[W,$,J,Z]=U,oe=WE(Se(O,J.shape),J,i);let V,Y;if(!n&&!r?(V=_n(oe,$,!1,!0),Y=_n(W,oe,!0,!1)):!n&&r?(V=_n(oe,$,!1,!1),Y=_n(oe,W,!0,!1)):n&&!r?(V=_n($,oe,!1,!0),Y=_n(W,oe,!1,!1)):(V=_n($,oe,!0,!0),Y=_n(oe,W,!0,!0)),s!=null){const ce=GE(Z,oe);return[V,Y,ce]}else return[V,Y]},D={a:C,b:_,bias:I,preluActivationWeights:T},j={transposeA:n,transposeB:r,activation:i,leakyreluAlpha:a};return s==null?CA((U,W,$)=>{const J=ge.runKernel(hx,D,j);return $([U,W,J]),{value:Se(J,b),gradFunc:F}})(C,_):CA((U,W,$,J)=>{const Z=ge.runKernel(hx,D,j);return J([U,W,Z,$]),{value:Se(Z,b),gradFunc:F}})(C,_,I)}const eL=ye({fusedMatMul_:qLe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hte=Object.freeze(Object.defineProperty({__proto__:null,conv2d:ute,depthwiseConv2d:KLe,matMul:eL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XLe(t){return VE(t,.54,.46)}const YLe=ye({hammingWindow_:XLe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZLe(t){return VE(t,.5,.5)}const fte=ye({hannWindow_:ZLe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JLe(t,e,n,r=!1,s=0){let i=0;const o=[];for(;i+e<=t.size;)o.push(Un(t,i,e)),i+=n;if(r)for(;i<t.size;){const a=i+e-t.size,l=Is([Un(t,i,e-a),Wm([a],s)]);o.push(l),i+=n}return o.length===0?_0([],[0,e]):Se(Is(o),[o.length,e])}const pte=ye({frame_:JLe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eDe(t,e,n,r,s=fte){r==null&&(r=kO(e));const i=pte(t,e,n),o=xe(i,s(e));return I2(o,r)}const tDe=ye({stft_:eDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nDe(t,e,n,r,s="bilinear",i=0){const o=ie(t,"image","cropAndResize"),a=ie(e,"boxes","cropAndResize","float32"),l=ie(n,"boxInd","cropAndResize","int32"),c=a.shape[0];ee(o.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${o.rank}.`),ee(a.rank===2&&a.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${c},4] but had shape ${a.shape}.`),ee(l.rank===1&&l.shape[0]===c,()=>`Error in cropAndResize: boxInd must be have size [${c}] but had shape ${a.shape}.`),ee(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),ee(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),ee(s==="bilinear"||s==="nearest",()=>`method must be bilinear or nearest, but was ${s}`);const u={image:o,boxes:a,boxInd:l},A={method:s,extrapolationValue:i,cropSize:r};return ge.runKernel(xI,u,A)}const rDe=ye({cropAndResize_:nDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sDe(t){const e=ie(t,"image","flipLeftRight","float32");ee(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return ge.runKernel(FI,n,{})}const iDe=ye({flipLeftRight_:sDe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oDe(t){const e=ie(t,"image","grayscaleToRGB"),n=e.rank-1,r=e.shape[n];ee(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),ee(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const s=new Array(e.rank);return s.fill(1,0,n),s[n]=3,dl(e,s)}const aDe=ye({grayscaleToRGB_:oDe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lDe(t){const e=ie(t,"image","RGBToGrayscale"),n=e.rank-1,r=e.shape[n];ee(e.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${e.rank}.`),ee(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const s=e.dtype,i=At(e,"float32"),o=Zi([.2989,.587,.114]);let a;switch(e.rank){case 2:a=Sp("ij,j->i",i,o);break;case 3:a=Sp("ijk,k->ij",i,o);break;case 4:a=Sp("ijkl,l->ijk",i,o);break;case 5:a=Sp("ijklm,m->ijkl",i,o);break;case 6:a=Sp("ijklmn,n->ijklm",i,o);break;default:throw new Error("Not a valid tensor rank.")}return a=Xi(a,-1),At(a,s)}const cDe=ye({rgbToGrayscale_:lDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uDe(t,e,n=0,r=.5){const s=ie(t,"image","rotateWithOffset","float32");ee(s.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${s.rank}.`);const i={image:s},o={radians:e,fillValue:n,center:r};return ge.runKernel(fE,i,o)}const ADe=ye({rotateWithOffset_:uDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D1(t,e,n,r,s,i){r==null&&(r=.5),s==null&&(s=Number.NEGATIVE_INFINITY),i==null&&(i=0);const o=t.shape[0];return n=Math.min(n,o),ee(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),ee(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),ee(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),ee(e.rank===1,()=>"scores must be a 1D tensor"),ee(e.shape[0]===o,()=>`scores has incompatible shape with boxes. Expected ${o}, but was ${e.shape[0]}`),ee(0<=i&&i<=1,()=>`softNmsSigma must be in [0, 1], but was '${i}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:i}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dDe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY){const i=ie(t,"boxes","nonMaxSuppression","float32"),o=ie(e,"scores","nonMaxSuppression","float32"),a=D1(i,o,n,r,s);n=a.maxOutputSize,r=a.iouThreshold,s=a.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:s};return ge.runKernel(jI,{boxes:i,scores:o},l)}const hDe=ye({nonMaxSuppression_:dDe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fDe(t,e,n){const r=pDe(t,e,n),s=r<0?-(r+1):r;t.splice(s,0,e)}function pDe(t,e,n){return gDe(t,e,n||mDe)}function mDe(t,e){return t>e?1:t<e?-1:0}function gDe(t,e,n){let r=0,s=t.length,i=0,o=!1;for(;r<s;){i=r+(s-r>>>1);const a=n(e,t[i]);a>0?r=i+1:(s=i,o=!a)}return o?r:-r-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XE(t,e,n,r,s){return FO(t,e,n,r,s,0)}function YE(t,e,n,r,s,i){return FO(t,e,n,r,s,0,!1,i,!0)}function ZE(t,e,n,r,s,i){return FO(t,e,n,r,s,i,!0)}function FO(t,e,n,r,s,i,o=!1,a=!1,l=!1){const c=[];for(let y=0;y<e.length;y++)e[y]>s&&c.push({score:e[y],boxIndex:y,suppressBeginIndex:0});c.sort($H);const u=i>0?-.5/i:0,A=[],d=[];for(;A.length<n&&c.length>0;){const y=c.pop(),{score:g,boxIndex:v,suppressBeginIndex:b}=y;if(g<s)break;let C=!1;for(let _=A.length-1;_>=b;--_){const I=yDe(t,v,A[_]);if(I>=r){C=!0;break}if(y.score=y.score*wDe(r,u,I),y.score<=s)break}y.suppressBeginIndex=A.length,C||(y.score===g?(A.push(v),d.push(y.score)):y.score>s&&fDe(c,y,$H))}const h=A.length,p=n-h;a&&p>0&&(A.push(...new Array(p).fill(0)),d.push(...new Array(p).fill(0)));const m={selectedIndices:A};return o&&(m.selectedScores=d),l&&(m.validOutputs=h),m}function yDe(t,e,n){const r=t.subarray(e*4,e*4+4),s=t.subarray(n*4,n*4+4),i=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),a=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),c=Math.min(s[0],s[2]),u=Math.min(s[1],s[3]),A=Math.max(s[0],s[2]),d=Math.max(s[1],s[3]),h=(a-i)*(l-o),p=(A-c)*(d-u);if(h<=0||p<=0)return 0;const m=Math.max(i,c),y=Math.max(o,u),g=Math.min(a,A),v=Math.min(l,d),b=Math.max(g-m,0)*Math.max(v-y,0);return b/(h+p-b)}function wDe(t,e,n){const r=Math.exp(e*n*n);return n<=t?r:0}function $H(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function vDe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY){const i=ie(t,"boxes","nonMaxSuppressionAsync"),o=ie(e,"scores","nonMaxSuppressionAsync"),a=D1(i,o,n,r,s);n=a.maxOutputSize,r=a.iouThreshold,s=a.scoreThreshold;const l=await Promise.all([i.data(),o.data()]),c=l[0],u=l[1],{selectedIndices:A}=XE(c,u,n,r,s);return i!==t&&i.dispose(),o!==e&&o.dispose(),Zi(A,"int32")}const xDe=vDe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bDe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=0){const o=ie(t,"boxes","nonMaxSuppression"),a=ie(e,"scores","nonMaxSuppression"),l=D1(o,a,n,r,s,i);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,i=l.softNmsSigma;const c={boxes:o,scores:a},u={maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:i},A=ge.runKernel(zI,c,u);return{selectedIndices:A[0],selectedScores:A[1]}}const CDe=ye({nonMaxSuppressionWithScore_:bDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function SDe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=0){const o=ie(t,"boxes","nonMaxSuppressionAsync"),a=ie(e,"scores","nonMaxSuppressionAsync"),l=D1(o,a,n,r,s,i);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,i=l.softNmsSigma;const c=await Promise.all([o.data(),a.data()]),u=c[0],A=c[1],{selectedIndices:d,selectedScores:h}=ZE(u,A,n,r,s,i);return o!==t&&o.dispose(),a!==e&&a.dispose(),{selectedIndices:Zi(d,"int32"),selectedScores:Zi(h)}}const BDe=SDe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _De(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=!1){const o=ie(t,"boxes","nonMaxSuppression"),a=ie(e,"scores","nonMaxSuppression"),l=D1(o,a,n,r,s,null),c=l.maxOutputSize,u=l.iouThreshold,A=l.scoreThreshold,d={boxes:o,scores:a},h={maxOutputSize:c,iouThreshold:u,scoreThreshold:A,padToMaxOutputSize:i},p=ge.runKernel(HI,d,h);return{selectedIndices:p[0],validOutputs:p[1]}}const NDe=ye({nonMaxSuppressionPadded_:_De});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function IDe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=!1){const o=ie(t,"boxes","nonMaxSuppressionAsync"),a=ie(e,"scores","nonMaxSuppressionAsync"),l=D1(o,a,n,r,s,null),c=l.maxOutputSize,u=l.iouThreshold,A=l.scoreThreshold,[d,h]=await Promise.all([o.data(),a.data()]),{selectedIndices:p,validOutputs:m}=YE(d,h,c,u,A,i);return o!==t&&o.dispose(),a!==e&&a.dispose(),{selectedIndices:Zi(p,"int32"),validOutputs:Xt(m,"int32")}}const EDe=IDe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kDe(t,e,n=!1,r=!1){const s=ie(t,"images","resizeBilinear");ee(s.rank===3||s.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${s.rank}.`),ee(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),ee(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let i=s,o=!1;s.rank===3&&(o=!0,i=Se(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const a={images:i},l={alignCorners:n,halfPixelCenters:r,size:e},c=ge.runKernel(Yb,a,l);return o?Se(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const mte=ye({resizeBilinear_:kDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TDe(t,e,n=!1,r=!1){const s=ie(t,"images","resizeNearestNeighbor");ee(s.rank===3||s.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${s.rank}.`),ee(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),ee(s.dtype==="float32"||s.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),ee(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let i=s,o=!1;s.rank===3&&(o=!0,i=Se(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const a={images:i},l={alignCorners:n,halfPixelCenters:r,size:e},c=ge.runKernel(Xb,a,l);return o?Se(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const gte=ye({resizeNearestNeighbor_:TDe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FDe(t,e="binary",n=!1,r=.5){const s=ie(t,"image","threshold"),i=.2989,o=.587,a=.114,l=s.shape[0]*s.shape[1];let c=xe(Zi([r]),255),u,A,d,h;if(ee(s.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${s.rank}.`),ee(s.shape[2]===3||s.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${s.shape[2]}.`),ee(s.dtype==="int32"||s.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${s.dtype}.`),ee(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),s.shape[2]===3){[u,A,d]=Jo(s,[1,1,1],-1);const y=xe(u,i),g=xe(A,o),v=xe(d,a);h=Je(Je(y,g),v)}else h=t;if(e==="otsu"){const y=OP(At(FE(h),"int32"),oc([]),256);c=LDe(y,l)}const p=n?Pf(h,c):ca(h,c);return At(xe(p,255),"int32")}function LDe(t,e){let n=Zi([-1]),r=Zi([0]),s=Zi([0]),i,o,a,l,c,u;for(let A=0;A<t.size-1;A++){i=Un(t,0,A+1),o=Un(t,A+1),c=jt(Lt(i),e),u=jt(Lt(o),e);const d=Lt(xe(i,_m(0,i.size)));a=jt(d,Lt(i));const h=Wm(o.shape,i.size),p=Je(_m(0,o.size),h),m=xe(o,p);l=jt(Lt(m),Lt(o));const y=Ct(a,l),g=Ct(a,l),v=xe(c,u);s=xe(xe(v,y),g);const b=ca(s,r);r=Fi(b,s,r),n=Fi(b,Zi([A]),n)}return n}const DDe=ye({threshold_:FDe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RDe(t,e,n="nearest",r="constant",s=0,i){const o=ie(t,"image","transform","float32"),a=ie(e,"transforms","transform","float32");ee(o.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${o.rank}.`),ee(a.rank===2&&(a.shape[0]===o.shape[0]||a.shape[0]===1)&&a.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),ee(i==null||i.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`);const l={image:o,transforms:a},c={interpolation:n,fillMode:r,fillValue:s,outputShape:i};return ge.runKernel(dE,l,c)}const PDe=ye({transform_:RDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ODe(t,e,n){const r=ie(t,"a","bandPart");ee(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const s=r.shape,[i,o]=r.shape.slice(-2);let a,l;typeof e=="number"?(ee(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),ee(e<=i,()=>`bandPart(): numLower (${e}) must not be greater than the number of rows (${i}).`),a=ie(e<0?i:e,"numLower","bandPart")):(ee(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),a=Fi(iy(e,0),i,gf(e,i))),typeof n=="number"?(ee(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),ee(n<=o,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${o}).`),l=ie(n<0?o:n,"numUpper","bandPart")):(ee(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),l=Fi(iy(n,0),o,gf(n,o)));const c=Se(_m(0,i,1,"int32"),[-1,1]),u=_m(0,o,1,"int32"),A=Ct(c,u),d=fu(Pf(A,a),kd(A,Pr(l))),h=Vs([i,o],r.dtype);return Se(sa(vl(Se(r,[-1,i,o])).map(p=>Fi(d,p,h))),s)}const $De=ye({bandPart_:ODe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UDe(t){let e;if(Array.isArray(t)){e=!1,ee(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const s=t[0].shape[0];for(let i=1;i<t.length;++i)ee(t[i].shape[0]===s,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[i].shape[0]} vs. ${s})`)}else e=!0,t=Jo(t,t.shape[0],0).map(s=>$f(s,[0]));ee(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const n=[],r=t;for(let s=0;s<t.length;++s)n.push(ge.tidy(()=>{let i=r[s];if(s>0)for(let o=0;o<s;++o){const a=xe(Lt(xe(n[o],i)),n[o]);i=Ct(i,a)}return jt(i,T1(i,"euclidean"))}));return e?sa(n,0):n}const MDe=ye({gramSchmidt_:UDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QDe(t,e=!1){if(ee(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return UH(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((l,c)=>l*c),r=vl(Se(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),s=[],i=[];r.forEach(l=>{const[c,u]=UH(l,e);s.push(c),i.push(u)});const o=Se(sa(s,0),t.shape),a=Se(sa(i,0),t.shape);return[o,a]}}function UH(t,e=!1){return ge.tidy(()=>{ee(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const n=t.shape[0],r=t.shape[1];let s=SE(n),i=hA(t);const o=_0([[1]],[1,1]);let a=hA(o);const l=n>=r?r:n;for(let c=0;c<l;++c){const u=i,A=a,d=s;[a,i,s]=ge.tidy(()=>{const h=Un(i,[c,c],[n-c,1]),p=T1(h),m=Un(i,[c,c],[1,1]),y=Fi(ca(m,0),_0([[-1]]),_0([[1]])),g=Ct(m,xe(y,p)),v=jt(h,g);v.shape[0]===1?a=hA(o):a=Is([o,Un(v,[1,0],[v.shape[0]-1,v.shape[1]])],0);const b=Pr(jt(_n(y,g),p)),C=Un(i,[c,0],[n-c,r]),_=xe(b,a),I=$n(a);if(c===0)i=Ct(C,_n(_,_n(I,C)));else{const D=Ct(C,_n(_,_n(I,C)));i=Is([Un(i,[0,0],[c,r]),D],0)}const T=$n(_),F=Un(s,[0,c],[n,s.shape[1]-c]);if(c===0)s=Ct(F,_n(_n(F,a),T));else{const D=Ct(F,_n(_n(F,a),T));s=Is([Un(s,[0,0],[n,c]),D],1)}return[a,i,s]}),Nn([u,A,d])}return!e&&n>r&&(s=Un(s,[0,0],[n,r]),i=Un(i,[0,0],[r,r])),[s,i]})}const jDe=ye({qr_:QDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var No;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(No||(No={}));function HDe(t,e,n=No.SUM_BY_NONZERO_WEIGHTS){const r=ie(t,"losses","computeWeightedLoss");let s=null;e!=null&&(s=ie(e,"weights","computeWeightedLoss"));const i=s==null?r:xe(r,s);if(n===No.NONE)return i;if(n===No.SUM)return Lt(i);if(n===No.MEAN){if(s==null)return os(i);{const o=r.size/s.size,a=jt(Lt(i),Lt(s));return o>1?jt(a,Xt(o)):a}}if(n===No.SUM_BY_NONZERO_WEIGHTS){if(s==null)return jt(Lt(i),Xt(r.size));{const o=xe(s,Yo(r.shape)),a=At(Lt(Bm(o,Xt(0))),"float32");return jt(Lt(i),a)}}throw Error(`Unknown reduction: ${n}`)}const Fd=ye({computeWeightedLoss_:HDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zDe(t,e,n,r=No.SUM_BY_NONZERO_WEIGHTS){const s=ie(t,"labels","absoluteDifference"),i=ie(e,"predictions","absoluteDifference");let o=null;n!=null&&(o=ie(n,"weights","absoluteDifference")),Di(s.shape,i.shape,"Error in absoluteDifference: ");const a=Ms(Ct(s,i));return Fd(a,o,r)}const VDe=ye({absoluteDifference_:zDe});function WDe(t,e,n,r,s=No.SUM_BY_NONZERO_WEIGHTS){const i=ie(t,"labels","cosineDistance"),o=ie(e,"predictions","cosineDistance");let a=null;r!=null&&(a=ie(r,"weights","cosineDistance")),Di(i.shape,o.shape,"Error in cosineDistance: ");const l=Xt(1),c=Ct(l,Lt(xe(i,o),n,!0));return Fd(c,a,s)}const GDe=ye({cosineDistance_:WDe});function KDe(t,e,n,r=No.SUM_BY_NONZERO_WEIGHTS){let s=ie(t,"labels","hingeLoss");const i=ie(e,"predictions","hingeLoss");let o=null;n!=null&&(o=ie(n,"weights","hingeLoss")),Di(s.shape,i.shape,"Error in hingeLoss: ");const a=Xt(1);s=Ct(xe(Xt(2),s),a);const l=Bu(Ct(a,xe(s,i)));return Fd(l,o,r)}const qDe=ye({hingeLoss_:KDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XDe(t,e,n,r=1,s=No.SUM_BY_NONZERO_WEIGHTS){const i=ie(t,"labels","huberLoss"),o=ie(e,"predictions","huberLoss");let a=null;n!=null&&(a=ie(n,"weights","huberLoss")),Di(i.shape,o.shape,"Error in huberLoss: ");const l=Xt(r),c=Ms(Ct(o,i)),u=gf(c,l),A=Ct(c,u),d=Je(xe(Xt(.5),br(u)),xe(l,A));return Fd(d,a,s)}const YDe=ye({huberLoss_:XDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZDe(t,e,n,r=1e-7,s=No.SUM_BY_NONZERO_WEIGHTS){const i=ie(t,"labels","logLoss"),o=ie(e,"predictions","logLoss");let a=null;n!=null&&(a=ie(n,"weights","logLoss")),Di(i.shape,o.shape,"Error in logLoss: ");const l=Xt(1),c=Xt(r),u=Pr(xe(i,Ra(Je(o,c)))),A=xe(Ct(l,i),Ra(Je(Ct(l,o),c))),d=Ct(u,A);return Fd(d,a,s)}const JDe=ye({logLoss_:ZDe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eRe(t,e,n,r=No.SUM_BY_NONZERO_WEIGHTS){const s=ie(t,"labels","meanSquaredError"),i=ie(e,"predictions","meanSquaredError");let o=null;n!=null&&(o=ie(n,"weights","meanSquaredError")),Di(s.shape,i.shape,"Error in meanSquaredError: ");const a=ME(s,i);return Fd(a,o,r)}const tRe=ye({meanSquaredError_:eRe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nRe(t,e){const n=ie(t,"labels","sigmoidCrossEntropyWithLogits"),r=ie(e,"logits","sigmoidCrossEntropyWithLogits");Di(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const s=Bu(r),i=xe(r,n),o=g2(ra(Pr(Ms(r))));return Je(Ct(s,i),o)}function rRe(t,e,n,r=0,s=No.SUM_BY_NONZERO_WEIGHTS){let i=ie(t,"multiClassLabels","sigmoidCrossEntropy");const o=ie(e,"logits","sigmoidCrossEntropy");let a=null;if(n!=null&&(a=ie(n,"weights","sigmoidCrossEntropy")),Di(i.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){const c=Xt(r),u=Xt(1),A=Xt(.5);i=Je(xe(i,Ct(u,c)),xe(A,c))}const l=nRe(i,o);return Fd(l,a,s)}const sRe=ye({sigmoidCrossEntropy_:rRe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iRe(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return CA((s,i,o)=>{const l=y2(i,[n],!0),c=Ct(At(i,"float32"),l);o([s,c]);const u=Pr(xe(c,s));return{value:Lt(u,[n]),gradFunc:(h,p)=>{const[m,y]=p,g=Es(h.shape,[n]);return[xe(Se(h,g),Ct(At(m,"float32"),ra(y))),xe(Se(h,g),Ct(ra(y),At(m,"float32")))]}}})(t,e)}function oRe(t,e,n,r=0,s=No.SUM_BY_NONZERO_WEIGHTS){let i=ie(t,"onehotLabels","softmaxCrossEntropy");const o=ie(e,"logits","softmaxCrossEntropy");let a=null;if(n!=null&&(a=ie(n,"weights","softmaxCrossEntropy")),Di(i.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){const c=Xt(r),u=Xt(1),A=Xt(i.shape[1]);i=Je(xe(i,Ct(u,c)),jt(c,A))}const l=iRe(i,o);return Fd(l,a,s)}const aRe=ye({softmaxCrossEntropy_:oRe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lRe(t,e,n,r){const s=ie(t,"indices","sparseFillEmptyRows","int32"),i=ie(e,"values","sparseFillEmptyRows"),o=ie(n,"denseShape","sparseFillEmptyRows","int32"),a=ie(r,"defaultValue","sparseFillEmptyRows",i.dtype);if(s.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${s.shape}`);if(i.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${i.shape}`);if(o.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${o.shape}`);if(a.rank!==0)throw new Error(`Default value should be a scalar but received shape ${a.shape}`);const l={indices:s,values:i,denseShape:o,defaultValue:a},c=ge.runKernel(tE,l);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}const cRe=ye({sparseFillEmptyRows_:lRe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uRe(t,e,n){const r=ie(t,"inputIndices","sparseReshape","int32"),s=ie(e,"inputShape","sparseReshape","int32"),i=ie(n,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(s.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${s.shape}`);if(i.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${i.shape}`);const o={inputIndices:r,inputShape:s,newShape:i},a=ge.runKernel(nE,o);return{outputIndices:a[0],outputShape:a[1]}}const ARe=ye({sparseReshape_:uRe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dRe(t,e,n){const r=ie(t,"data","sparseSegmentMean"),s=ie(e,"indices","sparseSegmentMean","int32"),i=ie(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${s.shape}`);if(i.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${i.shape}`);const o={data:r,indices:s,segmentIds:i};return ge.runKernel(rE,o)}const hRe=ye({sparseSegmentMean_:dRe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fRe(t,e,n){const r=ie(t,"data","sparseSegmentSum"),s=ie(e,"indices","sparseSegmentSum","int32"),i=ie(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${s.shape}`);if(i.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${i.shape}`);const o={data:r,indices:s,segmentIds:i};return ge.runKernel(sE,o)}const pRe=ye({sparseSegmentSum_:fRe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mRe(t,e,n,r,s,i,o,a){const l=ie(t,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error(`Data must be a vector, saw: ${l.shape}`);const c=ie(e,"dataSplits","stringNGrams");if(c.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const u={separator:n,nGramWidths:r,leftPad:s,rightPad:i,padWidth:o,preserveShortSequences:a},A={data:l,dataSplits:c},d=ge.runKernel(lE,A,u);return{nGrams:d[0],nGramsSplits:d[1]}}const gRe=ye({stringNGrams_:mRe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yRe(t,e,n=!0){const r=ie(t,"input","stringSplit","string"),s=ie(e,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(s.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${s.shape}`);const i={skipEmpty:n},o={input:r,delimiter:s},a=ge.runKernel(cE,o,i);return{indices:a[0],values:a[1],shape:a[2]}}const wRe=ye({stringSplit_:yRe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vRe(t,e){const n=ie(t,"input","stringToHashBucketFast","string"),r={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const s={input:n};return ge.runKernel(uE,s,r)}const xRe=ye({stringToHashBucketFast_:vRe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bRe(t,e,n,r=!0){const s=ie(t,"input","staticRegexReplace","string"),i={pattern:e,rewrite:n,replaceGlobal:r};return ge.runKernel(i2,{x:s},i)}const CRe=ye({staticRegexReplace_:bRe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yte={fft:N2,ifft:cy,rfft:I2,irfft:UE},wte={hammingWindow:YLe,hannWindow:fte,frame:pte,stft:tDe},ru={flipLeftRight:iDe,grayscaleToRGB:aDe,resizeNearestNeighbor:gte,resizeBilinear:mte,rgbToGrayscale:cDe,rotateWithOffset:ADe,cropAndResize:rDe,nonMaxSuppression:hDe,nonMaxSuppressionAsync:xDe,nonMaxSuppressionWithScore:CDe,nonMaxSuppressionWithScoreAsync:BDe,nonMaxSuppressionPadded:NDe,nonMaxSuppressionPaddedAsync:EDe,threshold:DDe,transform:PDe},LO={bandPart:$De,gramSchmidt:MDe,qr:jDe},vte={absoluteDifference:VDe,computeWeightedLoss:Fd,cosineDistance:GDe,hingeLoss:qDe,huberLoss:YDe,logLoss:JDe,meanSquaredError:tRe,sigmoidCrossEntropy:sRe,softmaxCrossEntropy:aRe},xte={sparseFillEmptyRows:cRe,sparseReshape:ARe,sparseSegmentMean:hRe,sparseSegmentSum:pRe},bte={stringNGrams:gRe,stringSplit:wRe,stringToHashBucketFast:xRe,staticRegexReplace:CRe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SRe=new Map,tL=new Map;class Xm{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class ll{constructor(){this.classNameMap={}}static getMap(){return ll.instance==null&&(ll.instance=new ll),ll.instance}static register(e){ll.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function nt(t,e,n){ee(t.className!=null,()=>"Class being registered does not have the static className property defined."),ee(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),ee(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof n>"u"&&(n=t.className);const r=n,s=e+">"+r;return ll.register(t),SRe.set(s,t),tL.set(t,s),t}function BRe(t){return tL.has(t)?tL.get(t):t.className}const _Re=Object.freeze(Object.defineProperty({__proto__:null,Serializable:Xm,SerializationMap:ll,getRegisteredName:BRe,registerClass:nt},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ld extends Xm{minimize(e,n=!1,r){const{value:s,grads:i}=this.computeGradients(e,r);if(r!=null){const o=r.map(a=>({name:a.name,tensor:i[a.name]}));this.applyGradients(o)}else this.applyGradients(i);return Nn(i),n?s:(s.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return Nee(e,n)}dispose(){this.iterations_!=null&&Nn(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Xt(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(Ld,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class DO extends Ld{static get className(){return"Adadelta"}constructor(e,n,r=null){super(),this.learningRate=e,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=ge.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=ge.registeredVariables[r],o=!1;this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accum_grad`,variable:Te(()=>Mn(i).variable(o))}),this.accumulatedUpdates[s]==null&&(this.accumulatedUpdates[s]={originalName:`${r}/accum_var`,variable:Te(()=>Mn(i).variable(o))});const a=Array.isArray(e)?e[s].tensor:e[r];if(a==null)return;const l=this.accumulatedGrads[s].variable,c=this.accumulatedUpdates[s].variable;Te(()=>{const u=Je(xe(l,this.rho),xe(br(a),1-this.rho)),A=xe(jt(xi(Je(c,this.epsilon)),xi(Je(l,this.epsilon))),a),d=Je(xe(c,this.rho),xe(br(A),1-this.rho));l.assign(u),c.assign(d);const h=Je(xe(A,-this.learningRate),i);i.assign(h)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(Nn(this.accumulatedGrads.map(e=>e.variable)),Nn(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,r=!1;this.accumulatedGrads=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedUpdates=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class RO extends Ld{static get className(){return"Adagrad"}constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=ge.registeredVariables[r];this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accumulator`,variable:Te(()=>Wm(i.shape,this.initialAccumulatorValue).variable(!1))});const o=Array.isArray(e)?e[s].tensor:e[r];if(o==null)return;const a=this.accumulatedGrads[s].variable;Te(()=>{const l=Je(a,br(o));a.assign(l);const c=Je(xe(jt(o,xi(Je(l,ge.backend.epsilon()))),-this.learningRate),i);i.assign(c)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&Nn(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class PO extends Ld{static get className(){return"Adam"}constructor(e,n,r,s=null){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=s,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Te(()=>{this.accBeta1=Xt(n).variable(),this.accBeta2=Xt(r).variable()}),s==null&&(this.epsilon=ge.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);Te(()=>{const r=Ct(1,this.accBeta1),s=Ct(1,this.accBeta2);n.forEach((i,o)=>{const a=ge.registeredVariables[i],l=!1;this.accumulatedFirstMoment[o]==null&&(this.accumulatedFirstMoment[o]={originalName:`${i}/m`,variable:Te(()=>Mn(a).variable(l))}),this.accumulatedSecondMoment[o]==null&&(this.accumulatedSecondMoment[o]={originalName:`${i}/v`,variable:Te(()=>Mn(a).variable(l))});const c=Array.isArray(e)?e[o].tensor:e[i];if(c==null)return;const u=this.accumulatedFirstMoment[o].variable,A=this.accumulatedSecondMoment[o].variable,d=Je(xe(u,this.beta1),xe(c,1-this.beta1)),h=Je(xe(A,this.beta2),xe(br(c),1-this.beta2)),p=jt(d,r),m=jt(h,s);u.assign(d),A.assign(h);const y=Je(xe(jt(p,Je(xi(m),this.epsilon)),-this.learningRate),a);a.assign(y)}),this.accBeta1.assign(xe(this.accBeta1,this.beta1)),this.accBeta2.assign(xe(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Nn(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&Nn(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),Te(()=>{this.accBeta1.assign(bA(this.beta1,this.iterations_+1)),this.accBeta2.assign(bA(this.beta2,this.iterations_+1))});const n=e.length/2,r=!1;this.accumulatedFirstMoment=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OO extends Ld{static get className(){return"Adamax"}constructor(e,n,r,s=null,i=0){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=s,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Te(()=>{this.iteration=Xt(0).variable(),this.accBeta1=Xt(n).variable()}),s==null&&(this.epsilon=ge.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);Te(()=>{const r=Ct(1,this.accBeta1),s=jt(-this.learningRate,Je(xe(this.iteration,this.decay),1));n.forEach((i,o)=>{const a=ge.registeredVariables[i],l=!1;this.accumulatedFirstMoment[o]==null&&(this.accumulatedFirstMoment[o]={originalName:`${i}/m`,variable:Mn(a).variable(l)}),this.accumulatedWeightedInfNorm[o]==null&&(this.accumulatedWeightedInfNorm[o]={originalName:`${i}/v`,variable:Mn(a).variable(l)});const c=Array.isArray(e)?e[o].tensor:e[i];if(c==null)return;const u=this.accumulatedFirstMoment[o].variable,A=this.accumulatedWeightedInfNorm[o].variable,d=Je(xe(u,this.beta1),xe(c,1-this.beta1)),h=xe(A,this.beta2),p=Ms(c),m=TA(h,p);u.assign(d),A.assign(m);const y=Je(xe(jt(s,r),jt(d,Je(m,this.epsilon))),a);a.assign(y)}),this.iteration.assign(Je(this.iteration,1)),this.accBeta1.assign(xe(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Nn(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&Nn(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class JE extends Ld{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=Array.isArray(e)?e[s].tensor:e[r];if(i==null)return;const o=ge.registeredVariables[r];Te(()=>{const a=Je(xe(this.c,i),o);o.assign(a)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=Js(Xt(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $O extends JE{static get className(){return"Momentum"}constructor(e,n,r=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=Xt(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=ge.registeredVariables[r];this.accumulations[s]==null&&(this.accumulations[s]={originalName:`${r}/momentum`,variable:Te(()=>Mn(i).variable(!1))});const o=this.accumulations[s].variable,a=Array.isArray(e)?e[s].tensor:e[r];a!=null&&Te(()=>{let l;const c=Je(xe(this.m,o),a);this.useNesterov?l=Je(xe(this.c,Je(a,xe(c,this.m))),i):l=Je(xe(this.c,c),i),o.assign(c),i.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&Nn(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class UO extends Ld{static get className(){return"RMSProp"}constructor(e,n=.9,r=0,s=null,i=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=r,this.epsilon=s,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,s==null&&(this.epsilon=ge.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=ge.registeredVariables[r],o=!1;this.accumulatedMeanSquares[s]==null&&(this.accumulatedMeanSquares[s]={originalName:`${r}/rms`,variable:Te(()=>Mn(i).variable(o))}),this.accumulatedMoments[s]==null&&(this.accumulatedMoments[s]={originalName:`${r}/momentum`,variable:Te(()=>Mn(i).variable(o))}),this.accumulatedMeanGrads[s]==null&&this.centered&&(this.accumulatedMeanGrads[s]={originalName:`${r}/mg`,variable:Te(()=>Mn(i).variable(o))});const a=Array.isArray(e)?e[s].tensor:e[r];if(a==null)return;const l=this.accumulatedMeanSquares[s].variable,c=this.accumulatedMoments[s].variable;Te(()=>{const u=Je(xe(l,this.decay),xe(br(a),1-this.decay));if(this.centered){const A=this.accumulatedMeanGrads[s].variable,d=Je(xe(A,this.decay),xe(a,1-this.decay)),h=jt(xe(a,this.learningRate),xi(Ct(u,Je(br(d),this.epsilon)))),p=Je(xe(c,this.momentum),h);l.assign(u),A.assign(d),c.assign(p);const m=Ct(i,p);i.assign(m)}else{const A=Je(xe(l,this.decay),xe(br(a),1-this.decay)),d=Je(xe(c,this.momentum),jt(xe(a,this.learningRate),xi(Je(A,this.epsilon))));l.assign(A),c.assign(d);const h=Ct(i,d);i.assign(h)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&Nn(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&Nn(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&Nn(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,r=!1;this.accumulatedMeanSquares=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedMoments=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NRe=[DO,RO,PO,OO,$O,UO,JE];function IRe(){for(const t of NRe)nt(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ERe="model",kRe=".json",TRe=".weights.bin";function MH(t){return new Promise(e=>setTimeout(e)).then(t)}class Nm{constructor(e){if(!Le().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Nm.URL_SCHEME)&&(e=e.slice(Nm.URL_SCHEME.length)),(e==null||e.length===0)&&(e=ERe),this.modelJsonFileName=e+kRe,this.weightDataFileName=e+TRe}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=Su.join(e.weightData),r=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const s=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],i=lee(e,s),o=window.URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"})),a=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=o,await MH(()=>a.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const l=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;l.download=this.weightDataFileName,l.href=r,await MH(()=>l.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:u2(e)}}}}Nm.URL_SCHEME="downloads://";class FRe{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const r=new FileReader;r.onload=s=>{const i=JSON.parse(s.target.result),o=i.modelTopology;if(o==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(i.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:o});return}const l=bP(i,c=>this.loadWeights(c));e(l)},r.onerror=s=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)})}loadWeights(e){const n=[],r=[];for(const o of e)n.push(...o.weights),r.push(...o.paths);const s=this.checkManifestAndWeightFiles(e),i=r.map(o=>this.loadWeightsFile(o,s[o]));return Promise.all(i).then(o=>[n,o])}loadWeightsFile(e,n){return new Promise((r,s)=>{const i=new FileReader;i.onload=o=>{const a=o.target.result;r(a)},i.onerror=o=>s(`Failed to weights data from file of path '${e}'.`),i.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],r=this.weightsFiles.map(i=>OH(i.name)),s={};for(const i of e)i.paths.forEach(o=>{const a=OH(o);if(n.indexOf(a)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${a}'`);if(n.push(a),r.indexOf(a)===-1)throw new Error(`Weight file with basename '${a}' is not provided.`);s[o]=this.weightsFiles[r.indexOf(a)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return s}}const LRe=t=>Le().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Nm.URL_SCHEME)?DRe(t.slice(Nm.URL_SCHEME.length)):null;ss.registerSaveRouter(LRe);function DRe(t="model"){return new Nm(t)}function RRe(t){return new FRe(t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QH(t,e,n,r){o(t),n=n??0,r=r??1,a(n,r);let s=0;const i=l=>(l.then(c=>{const u=n+ ++s/t.length*(r-n);return e(u),c}),l);function o(l){ee(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function a(l,c){ee(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),ee(c>=0&&c<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${c}`),ee(c>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${c}`)}return Promise.all(t.map(i))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Cte(t,e){e==null&&(e={});const n=e.fetchFunc==null?Le().platform.fetch:e.fetchFunc,r=t.map(A=>n(A,e.requestInit,{isBinary:!0})),a=(e.onProgress==null?await Promise.all(r):await QH(r,e.onProgress,0,.5)).map(A=>A.arrayBuffer());return e.onProgress==null?await Promise.all(a):await QH(a,e.onProgress,.5,1)}function PRe(t,e){var n;const r=e.fetchFunc==null?Le().platform.fetch:e.fetchFunc;let s=0,i;return(n=e.onProgress)===null||n===void 0||n.call(e,0),new ReadableStream({pull:async o=>{for(var a;s<t.length;){i||(i=(await r(t[s],e.requestInit,{isBinary:!0})).body.getReader());const{done:l,value:c}=await i.read();if(l){s++,i=void 0,(a=e.onProgress)===null||a===void 0||a.call(e,s/t.length);continue}o.enqueue(c);return}o.close()}})}async function ORe(t,e="",n,r){return Ste(o=>Cte(o,{requestInit:r}))(t,e,n)}function Ste(t){return async(e,n="",r)=>{const s=e.map(()=>!1),i={},o=r!=null?r.map(()=>!1):[],a=[];if(e.forEach((h,p)=>{let m=0;h.weights.forEach(y=>{const g="quantization"in y?y.quantization.dtype:y.dtype,v=wm[g]*$e(y.shape),b=()=>{s[p]=!0,i[p]==null&&(i[p]=[]),i[p].push({manifestEntry:y,groupOffset:m,sizeBytes:v})};r!=null?r.forEach((C,_)=>{C===y.name&&(b(),o[_]=!0)}):b(),a.push(y.name),m+=v})}),!o.every(h=>h)){const h=r.filter((p,m)=>!o[m]);throw new Error(`Could not find weights in manifest with names: ${h.join(", ")}. 
Manifest JSON has weights with names: ${a.join(", ")}.`)}const l=s.reduce((h,p,m)=>(p&&h.push(m),h),[]),c=[];l.forEach(h=>{e[h].paths.forEach(p=>{const m=n+(n.endsWith("/")?"":"/")+p;c.push(m)})});const u=await t(c),A={};let d=0;return l.forEach(h=>{const p=e[h].paths.length,m=new Su(u.slice(d,d+p));i[h].forEach(g=>{const v=m.slice(g.groupOffset,g.groupOffset+g.sizeBytes),b=see(v,[g.manifestEntry]);for(const C in b)A[C]=b[C]}),d+=p}),A}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Re="application/octet-stream",URe="application/json";class MO{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(ee(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=Le().platform.fetch,ee(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&ee(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{},this.loadOptions=n}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],s=lee(e,r);if(n.body.append("model.json",new Blob([JSON.stringify(s)],{type:URe}),"model.json"),e.weightData!=null){const o=Su.join(e.weightData);n.body.append("model.weights.bin",new Blob([o],{type:$Re}),"model.weights.bin")}const i=await this.fetch(this.path,n);if(i.ok)return{modelArtifactsInfo:u2(e),responses:[i]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${i.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let o=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?o+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":o+=" Please make sure the server is serving valid JSON for this request.",new Error(o)}const r=n.modelTopology,s=n.weightsManifest;if(r==null&&s==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return n}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const e=await this.loadModelJSON();return bP(e,n=>this.loadWeights(n))}async loadStream(){const e=await this.loadModelJSON(),n=await this.getWeightUrls(e.weightsManifest),r=R_(e.weightsManifest),s=()=>PRe(n,this.loadOptions);return Object.assign(Object.assign({},e),{weightSpecs:r,getWeightStream:s})}async getWeightUrls(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,s]=MRe(n),i=this.weightPathPrefix||r,o=[],a=[];for(const l of e)for(const c of l.paths)this.weightUrlConverter!=null?a.push(this.weightUrlConverter(c)):o.push(i+c+s);return this.weightUrlConverter&&o.push(...await Promise.all(a)),o}async loadWeights(e){const n=await this.getWeightUrls(e),r=R_(e),s=await Cte(n,this.loadOptions);return[r,s]}}MO.URL_SCHEME_REGEX=/^https?:\/\//;function MRe(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),r=t.substring(0,e),s=n>e?t.substring(n):"";return[r+"/",s]}function nL(t){return t.match(MO.URL_SCHEME_REGEX)!=null}const Bte=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(r=>nL(r)):n=nL(t),n)return QO(t,e)}return null};ss.registerSaveRouter(Bte);ss.registerLoadRouter(Bte);function QO(t,e){return new MO(t,e)}function QRe(t,e){return QO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class z5{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class _te{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class jRe{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function HRe(t,e,n,r){const s=arguments;return new jRe(O_(...s))}function O_(t,e,n,r){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new z5(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new z5({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new z5({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))}function zRe(t){return new _te(t)}function VRe(t){return new _te(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jO=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:Su,browserFiles:RRe,browserHTTPRequest:QRe,concatenateArrayBuffers:aee,copyModel:C5e,decodeWeights:see,decodeWeightsStream:oee,encodeWeights:K3,fromMemory:HRe,fromMemorySync:O_,getLoadHandlers:c5e,getModelArtifactsForJSON:bP,getModelArtifactsForJSONSync:xP,getModelArtifactsInfoForJSON:u2,getSaveHandlers:cee,getWeightSpecs:R_,http:QO,isHTTPScheme:nL,listModels:x5e,loadWeights:ORe,moveModel:S5e,registerLoadRouter:l5e,registerSaveRouter:a5e,removeModel:b5e,weightsLoaderFactory:Ste,withSaveHandler:zRe,withSaveHandlerSync:VRe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WRe(t,e,n){const r=ie(t,"labels","confusionMatrix"),s=ie(e,"predictions","confusionMatrix");ee(n==null||n>0&&Number.isInteger(n),()=>`If provided, numClasses must be a positive integer, but got ${n}`),ee(r.rank===1,()=>`Expected the rank of labels to be 1, but got ${r.rank}`),ee(s.rank===1,()=>`Expected the rank of predictions to be 1, but got ${s.rank}`),ee(r.shape[0]===s.shape[0],()=>`Mismatch in the number of examples: ${r.shape[0]} vs. ${s.shape[0]}. Labels and predictions should have the same number of elements.`),ee(n>0&&Number.isInteger(n),()=>`numClasses is required to be a positive integer, but got ${n}`);const i=oy(At(r,"int32"),n),o=oy(At(s,"int32"),n),a=$n(i),l=_n(a,o);return At(l,"int32")}const GRe=ye({confusionMatrix_:WRe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KRe=Object.freeze(Object.defineProperty({__proto__:null,confusionMatrix:GRe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let up,jH=!1;function Nte(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,s=!1,i=!1,o=!1,a=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)s=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)i=!0;else if(t.getContext!=null)o=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)a=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(gx(F_,ge.backendName)!=null){const p={pixels:t},m={numChannels:e};return ge.runKernel(F_,p,m)}const[c,u]=s?[t.videoWidth,t.videoHeight]:[t.width,t.height];let A;if(o)A=t.getContext("2d").getImageData(0,0,c,u).data;else if(r||n)A=t.data;else if(i||s||a){if(up==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")up=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else up=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});up.canvas.width=c,up.canvas.height=u,up.drawImage(t,0,0,c,u),A=up.getImageData(0,0,c,u).data}let d;if(e===4)d=new Int32Array(A);else{const p=c*u;d=new Int32Array(p*e);for(let m=0;m<p;m++)for(let y=0;y<e;++y)d[m*e+y]=A[m*4+y]}return CO(d,[u,c,e],"int32")}function qRe(t){return t!=null&&t.data instanceof Uint8Array}function XRe(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}function YRe(t){return t!=null&&t.width!==0&&t.height!==0}function ZRe(t){return XRe()&&!(t instanceof ImageBitmap)&&YRe(t)&&!qRe(t)}async function JRe(t,e=3){let n=null;if(Le().getBool("WRAP_TO_IMAGEBITMAP")&&ZRe(t)){let r;try{r=await createImageBitmap(t,{premultiplyAlpha:"none"})}catch{r=null}r!=null&&r.width===t.width&&r.height===t.height?n=r:n=t}else n=t;return Nte(n,e)}function Ite(t){if(t.rank!==2&&t.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${t.rank}.`);const e=t.rank===2?1:t.shape[2];if(e>4||e===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${e}`);if(t.dtype!=="float32"&&t.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${t.dtype}. Please use float32 or int32 tensors.`)}function ePe(t){const e=(t==null?void 0:t.alpha)||1;if(e>1||e<0)throw new Error(`Alpha value ${e} is suppoed to be in range [0 - 1].`)}async function tPe(t,e){let n=ie(t,"img","toPixels");if(!(t instanceof lr)){const c=n;n=At(c,"int32"),c.dispose()}Ite(n);const[r,s]=n.shape.slice(0,2),i=n.rank===2?1:n.shape[2],o=await n.data(),a=n.dtype==="float32"?255:1,l=new Uint8ClampedArray(s*r*4);for(let c=0;c<r*s;++c){const u=[0,0,0,255];for(let d=0;d<i;d++){const h=o[c*i+d];if(n.dtype==="float32"){if(h<0||h>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${h}.`)}else if(n.dtype==="int32"&&(h<0||h>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${h}.`);i===1?(u[0]=h*a,u[1]=h*a,u[2]=h*a):u[d]=h*a}const A=c*4;l[A+0]=Math.round(u[0]),l[A+1]=Math.round(u[1]),l[A+2]=Math.round(u[2]),l[A+3]=Math.round(u[3])}if(e!=null){jH||gx(NI,ge.backendName)!=null&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),jH=!0),e.width=s,e.height=r;const c=e.getContext("2d"),u=new ImageData(l,s,r);c.putImageData(u,0,0)}return n!==t&&n.dispose(),l}function nPe(t,e,n){let r=ie(t,"img","draw");if(!(t instanceof lr)){const o=r;r=At(o,"int32"),o.dispose()}Ite(r),ePe(n==null?void 0:n.imageOptions);const s={image:r},i={canvas:e,options:n};ge.runKernel(NI,s,i)}const rPe=ye({fromPixels_:Nte}),sPe=Object.freeze(Object.defineProperty({__proto__:null,draw:nPe,fromPixels:rPe,fromPixelsAsync:JRe,toPixels:tPe},Symbol.toStringTag,{value:"Module"}));function ek(t,e){const n=t.shape.length,r=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[r-1]} vs. ${n}`);if($e(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const s=e.shape,i=s[s.length-1];let o=1;for(let A=0;A<s.length-1;++A)o*=s[A];const a=t.shape,l=s.slice();l.pop();let c=1;for(let A=i;A<n;++A)c*=a[A],l.push(a[A]);const u=[...Gt(t.shape).map(A=>A/c),1].slice(0,i);return[l,o,c,u]}const iPe=Object.freeze(Object.defineProperty({__proto__:null,prepareAndValidate:ek},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rL=-2,oPe=-1;function HO(t,e,n){const r=t.shape.length;ee(r===e.length,()=>`Error in slice${r}D: Length of begin ${e} must match the rank of the array (${r}).`),ee(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let s=0;s<r;++s)ee(e[s]+n[s]<=t.shape[s],()=>`Error in slice${r}D: begin[${s}] + size[${s}] (${e[s]+n[s]}) would overflow input.shape[${s}] (${t.shape[s]})`)}function aPe(t){const e=[];let n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function zO(t,e,n){const r=[];for(let s=0;s<t.length;s++)r[s]=Math.ceil((e[s]-t[s])/n[s]);return r}function Ete(t,e,n,r){const s=[...t];for(let i=s.length;i<r.length;i++)s.push(1);for(let i=0;i<n;i++)i===0?s[e]=1:(s.splice(e,0,1),s.pop());return s}function kte(t,e,n){return n<=t?n:n-(e-1)}function Tte(t,e){const n=[];for(let r=0;r<t;r++)n.push(e+r);return n}function lPe(t,e,n,r,s,i,o,a,l){const c=t.length;let u=new Array(c),A=new Array(c),d=new Array(c);if(e.length&&n>0){const h=e[0],p=n+1;u=Fte(o,h,p,r,t),A=Lte(a,h,p,s,t),d=Ete(i,h,p,t)}else for(let h=0;h<c;h++)u[h]=Rte(o,r,i,t,h,l),A[h]=Pte(a,s,i,t,h,l),d[h]=Dte(i,h,l);return{begin:u,end:A,strides:d}}function Fte(t,e,n,r,s){const i=[...s],o=Tte(n,e);for(let a=0;a<i.length;a++)if(o.indexOf(a)>-1)i[a]=0;else{const l=kte(e,n,a);let c=r[l];t&1<<l&&(c=0),i[a]=c}return i}function Lte(t,e,n,r,s){const i=[...s],o=Tte(n,e);for(let a=0;a<i.length;a++)if(o.indexOf(a)>-1)i[a]=Number.MAX_SAFE_INTEGER;else{const l=kte(e,n,a);let c=r[l];t&1<<l&&(c=Number.MAX_SAFE_INTEGER),i[a]=c}for(let a=0;a<i.length;a++){const l=s[a];i[a]<0&&(i[a]+=l),i[a]=Af(0,i[a],s[a])}return i}function Dte(t,e,n){let r=t[e];return(n&1<<e||r==null)&&(r=1),r}function Rte(t,e,n,r,s,i){let o=e[s];const a=n[s]||1;(t&1<<s||i&1<<s||o==null)&&(a>0?o=Number.MIN_SAFE_INTEGER:o=Number.MAX_SAFE_INTEGER);const l=r[s];return o<0&&(o+=l),o=Af(0,o,l-1),o}function Pte(t,e,n,r,s,i){let o=e[s];const a=n[s]||1;(t&1<<s||i&1<<s||o==null)&&(a>0?o=Number.MAX_SAFE_INTEGER:o=Number.MIN_SAFE_INTEGER);const l=r[s];return o<0&&(o+=l),a>0?o=Af(0,o,l):o=Af(-1,o,l-1),o}function VO(t,e,n){let r=n.length;for(let s=0;s<n.length;s++)if(n[s]>1){r=s;break}for(let s=r+1;s<n.length;s++)if(e[s]>0||n[s]!==t[s])return!1;return!0}function WO(t,e){let n=t.length>0?t[t.length-1]:1;for(let r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function tk(t,e,n){let r;const s=t.shape.length;typeof e=="number"?r=[e,...new Array(s-1).fill(0)]:e.length<s?r=e.concat(new Array(s-e.length).fill(0)):r=e.slice(),r.forEach(o=>{ee(o!==-1,()=>"slice() does not support negative begin indexing.")});let i;return n==null?i=new Array(s).fill(-1):typeof n=="number"?i=[n,...new Array(s-1).fill(-1)]:n.length<s?i=n.concat(new Array(s-n.length).fill(-1)):i=n,i=i.map((o,a)=>o>=0?o:(ee(o===-1,()=>`Negative size values should be exactly -1 but got ${o} for the slice() size at index ${a}.`),t.shape[a]-r[a])),[r,i]}function GO(t,e,n,r,s,i,o,a,l){let c;if(r==null?(c=new Array(e.length),c.fill(1)):c=r,o!=null&&o&o-1)throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const A={dims:c.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:c.slice(),beginMask:s,endMask:i,ellipsisMask:o,newAxisMask:a,shrinkAxisMask:l};for(let b=0;b<A.dims;b++)u&&1<<b&a&&A.numAddAxisAfterEllipsis++,1<<b&o&&(u=!0);u||(A.ellipsisMask|=1<<A.dims,A.dims++);const d={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};cPe(A,d);let h=!0,p=!0,m=!0;const y=[],g=[];for(let b=0;b<t.length;++b){if(d.strides[b]===0)throw Error(`strides[${b}] must be non-zero`);const C=!!(d.shrinkAxisMask&1<<b),_=t[b];if(_===-1){y.push(C?1:-1);continue}const I=[d.beginMask&1<<b,d.endMask&1<<b],T=[d.strides[b]>0?0:-1,d.strides[b]>0?_:_-1];if(C&&d.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&d.strides[b]===1;const F=!!(d.beginMask&1<<b&&d.endMask&1<<b);if(d.beginValid&&d.endValid){if(C){const U=d.begin[b]<0?_+d.begin[b]:d.begin[b];if(d.begin[b]=U,d.end[b]=d.begin[b]+1,U<0||U>=_)throw Error(`slice index ${d.begin[b]} of dimension ${b} out of bounds.`)}else d.begin[b]=HH(d.begin[b],0,d.strides[b],_,I,T),d.end[b]=HH(d.end[b],1,d.strides[b],_,I,T);const O=d.strides[b]===1&&d.begin[b]===0&&d.end[b]===_;h=h&&O,p=p&&(b===0&&d.strides[b]===1||O)}else h=h&&d.strides[b]===1&&F,p=p&&(b===0&&d.strides[b]===1||F);let D,j=!1;if(d.beginValid&&d.endValid?(D=d.end[b]-d.begin[b],j=!0):C?(D=1,j=!0):F&&_>=0&&(d.strides[b]<0?D=-_:D=_,j=!0),j){let O;D===0||D<0!=d.strides[b]<0?O=0:O=Math.trunc(D/d.strides[b])+(D%d.strides[b]!==0?1:0),y.push(O)}else y.push(-1)}for(let b=0;b<d.finalShapeGatherIndices.length;++b){const C=d.finalShapeGatherIndices[b];C>=0?g.push(y[C]):C===rL&&g.push(1)}return{finalShapeSparse:g.filter((b,C)=>d.finalShapeGatherIndices[C]!==rL),finalShape:g,isIdentity:h,sliceDim0:p,isSimpleSlice:m,begin:d.begin,end:d.end,strides:d.strides}}function cPe(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let r=0;r<t.dims;r++)if(1<<r&t.ellipsisMask){const s=Math.min(e.dims-(t.dims-r)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<s;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&t.newAxisMask)e.finalShapeGatherIndices.push(rL),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[r]),t.end!=null&&(e.end[n]=t.end[r]),e.strides[n]=t.strides[r],t.beginMask&1<<r&&(e.beginMask|=1<<n),t.endMask&1<<r&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<r?(e.finalShapeGatherIndices.push(oPe),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(r)),e.inputShapeGatherIndicesSparse[n]=r,n++}}function HH(t,e,n,r,s,i){if(s[e])return n>0?i[e]:i[e+1&1];{const o=t<0?r+t:t;return o<i[0]?i[0]:o>i[1]?i[1]:o}}const Ote=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:HO,computeFlatOffset:WO,computeOutShape:zO,getNormalizedAxes:lPe,isSliceContinous:VO,maskToAxes:aPe,parseSliceParams:tk,sliceInfo:GO,startForAxis:Rte,startIndicesWithElidedDims:Fte,stopForAxis:Pte,stopIndicesWithElidedDims:Lte,stridesForAxis:Dte,stridesWithElidedDims:Ete},Symbol.toStringTag,{value:"Module"}));/** @license See the LICENSE file. */const uPe="4.22.0";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $te{static sgd(e){return new JE(e)}static momentum(e,n,r=!1){return new $O(e,n,r)}static rmsprop(e,n=.9,r=0,s=null,i=!1){return new UO(e,n,r,s,i)}static adam(e=.001,n=.9,r=.999,s=null){return new PO(e,n,r,s)}static adadelta(e=.001,n=.95,r=null){return new DO(e,n,r)}static adamax(e=.002,n=.9,r=.999,s=null,i=0){return new OO(e,n,r,s,i)}static adagrad(e,n=.1){return new RO(e,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wp=$te;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const APe=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t();function KO(){return new Promise(t=>APe(()=>t()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qO(t,e){const n=t[0].length;t.forEach((s,i)=>{ee(s.length===n,()=>`Error in concat${n}D: rank of tensors[${i}] must be the same as the rank of the rest (${n})`)}),ee(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=t[0];t.forEach((s,i)=>{for(let o=0;o<n;o++)ee(o===e||s[o]===r[o],()=>`Error in concat${n}D: Shape of tensors[${i}] (${s}) does not match the shape of the rest (${r}) along the non-concatenated axis ${i}.`)})}function fA(t,e){const n=t[0].slice();for(let r=1;r<t.length;r++)n[e]+=t[r][e];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var eu;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(eu||(eu={}));function Ute(t,e,n){let r=new Array;if(n==null&&e==null)return r;if(e==null)for(;r.length<t+n.length;)r.push(-1);else r=e.slice();if(n==null)return r;if(t+n.length!==r.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${r.length}`);for(let s=1;s<n.length;++s){const i=n[s],o=r[r.length-n.length+s],a=r[o];if(i>=0)if(a>=0){if(a!==i)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${s+t}] = ${i} but shape[${s+t}] = ${a}`)}else r[o]=i}return r}function Mte(t){const e={FIRST_DIM_SIZE:eu.FIRST_DIM_SIZE,VALUE_ROWIDS:eu.VALUE_ROWIDS,ROW_LENGTHS:eu.ROW_LENGTHS,ROW_SPLITS:eu.ROW_SPLITS,ROW_LIMITS:eu.ROW_LIMITS,ROW_STARTS:eu.ROW_STARTS},n=[];for(const r of t)if(r in e)n.push(e[r]);else break;return n}function Qte(t){return t.length===0?0:t[0]===eu.FIRST_DIM_SIZE?t.length-1:t.length}function jte(t,e){if(t==null||e==null)return;const n=t.length,r=e.length;if(n>=r)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let s=0;s<Math.min(n,r-1);++s){const i=t[s],o=e[s+1];if(i>=0&&o>=0&&i!==1&&i!==o)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${s-t.length}] = ${i} but ragged tensor input.flatValues.shape[${s-t.length}] = ${o}`)}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XO=30;function nk(t){return t<=XO?t:E_(t,Math.floor(Math.sqrt(t)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YO(t,e,n){const r=n*(typeof t=="number"?t:t[0]),s=e*(typeof t=="number"?t:t[1]);return[r,s]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E2(t,e,n,r=!0){let s=[];if(r)s=s.concat(e.slice(0)),s.push(t[0]/n),s=s.concat(t.slice(1));else{s=s.concat(t[0]);const i=e.length;for(let o=0;o<i;++o)s=s.concat([t[o+1]/e[o],e[o]]);s=s.concat(t.slice(i+1))}return s}function k2(t,e,n=!0){const r=[];if(n){r.push(e);for(let s=e+1;s<t;++s)s<=2*e?(r.push(s),r.push(s-(e+1))):r.push(s)}else{const s=[],i=[];for(let o=1;o<t;++o)o>=e*2+1||o%2===1?i.push(o):s.push(o);r.push(...s),r.push(0),r.push(...i)}return r}function T2(t,e,n,r=!0){const s=[];r?s.push(t[0]/n):s.push(t[0]*n);for(let i=1;i<t.length;++i)i<=e.length?r?s.push(e[i-1]*t[i]):s.push(t[i]/e[i-1]):s.push(t[i]);return s}function ZO(t,e){const n=[0];for(let r=0;r<e;++r)n.push(t[r][0]);return n}function JO(t,e,n){const r=t.slice(0,1);for(let s=0;s<n;++s)r.push(t[s+1]-e[s][0]-e[s][1]);return r}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rk=1.7580993408473768,sk=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e$=.3275911,t$=.254829592,n$=-.284496736,r$=1.421413741,s$=-1.453152027,i$=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cd(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(t.length*2);for(let r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function Hte(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}function zte(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let s=0;s<t.length;s+=4)n[Math.floor(s/4)]=t[s],r[Math.floor(s/4)]=t[s+1];return{real:n,imag:r}}function Vte(t){const e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let s=2;s<t.length;s+=4)n[Math.floor(s/4)]=t[s],r[Math.floor(s/4)]=t[s+1];return{real:n,imag:r}}function o$(t,e){const n=t[e*2],r=t[e*2+1];return{real:n,imag:r}}function Wte(t,e,n,r){t[r*2]=e,t[r*2+1]=n}function Gte(t,e){const n=new Float32Array(t/2),r=new Float32Array(t/2);for(let s=0;s<Math.ceil(t/2);s++){const i=(e?2:-2)*Math.PI*(s/t);n[s]=Math.cos(i),r[s]=Math.sin(i)}return{real:n,imag:r}}function Kte(t,e,n){const r=(n?2:-2)*Math.PI*(t/e),s=Math.cos(r),i=Math.sin(r);return{real:s,imag:i}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V5="->",dPe=/->/g,zH=",",VH="...";function a$(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(dPe,"").length)/V5.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${V5}").`);const[r,s]=t.split(V5);ee(r.indexOf(VH)===-1,()=>`The ellipsis notation ("${VH}") is not supported yet.`);const i=r.split(zH),o=i.length;if(e!==o)throw new Error(`Expected ${o} input tensors, received ${e}`);if(o>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const a=[];for(let d=0;d<s.length;++d){const h=s[d];if(!i.some(p=>p.indexOf(h)!==-1))throw new Error(`Output subscripts contain the label ${h} not present in the input subscripts.`);a.indexOf(h)===-1&&a.push(h)}for(let d=0;d<r.length;++d){const h=r[d];a.indexOf(h)===-1&&h!==zH&&a.push(h)}const l=new Array(i.length);for(let d=0;d<o;++d){if(new Set(i[d].split("")).size!==i[d].length)throw new Error(`Found duplicate axes in input component ${i[d]}. Support for duplicate axes in input is not implemented yet.`);l[d]=[];for(let h=0;h<i[d].length;++h)l[d].push(a.indexOf(i[d][h]))}const c=a.length,u=s.length,A=[];for(let d=u;d<c;++d)A.push(d);return{allDims:a,summedDims:A,idDims:l}}function l$(t,e){let n=new Array(t);n.fill(-1);for(let s=0;s<e.length;++s)n[e[s]]=s;const r=[];for(let s=0;s<t;++s)n[s]===-1&&r.push(s);return n=n.filter(s=>s!==-1),{permutationIndices:n,expandDims:r}}function c$(t,e,n){const r=new Array(t);for(let s=0;s<n.length;++s){const i=n[s].shape;for(let o=0;o<e[s].length;++o)r[e[s][o]]===void 0?r[e[s][o]]=i[o]:ee(r[e[s][o]]===i[o],()=>`Expected dimension ${r[e[s][o]]} at axis ${o} of input shaped ${JSON.stringify(i)}, but got dimension ${i[o]}`)}}function u$(t,e){const n=t,r=[];let s=0;t.length===0&&n.push(-1),s=t.length+1;for(let o=0;o<s;++o)r.push([]);const i=[];for(let o=0;o<n.length;++o){const a=n[o],l=hPe(e,a);for(const c of l)i.indexOf(c)===-1&&(r[o].push(c),i.push(c))}return{path:n,steps:r}}function A$(t){return t.every((e,n)=>e===n)}function hPe(t,e){const n=[];for(let r=0;r<t.length;++r)(t[r].length===0||t[r].indexOf(e)!==-1||e===-1)&&n.push(r);return n}function d$(t,e,n=0){let r=[];if(typeof e=="number")ee(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),r=new Array(e).fill(t.shape[n]/e);else{const s=e.reduce((o,a)=>(a===-1&&(o+=1),o),0);ee(s<=1,()=>"There should be only one negative value in split array.");const i=e.indexOf(-1);if(i!==-1){const o=e.reduce((a,l)=>l>0?a+l:a);e[i]=t.shape[n]-o}ee(t.shape[n]===e.reduce((o,a)=>o+a),()=>"The sum of sizes must match the size of the axis dimension."),r=e}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qte(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function Xte(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function Yte(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zte(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function Jte(t,e){return`size ${t} must be non-negative, not ${e}`}function ene(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function tne(t,e){const n=$e(t),r=$e(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${t} outputShape= ${e}`}function nne(t,e){const n=$e(t),r=$e(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${t} outputShape=${e}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sL(){return"segment ids must be >= 0"}function rne(){return"segment ids are not increasing"}function sne(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function ine(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function one(t,e){let n=!1,r;for(t<=XO?(r=t,n=!0):r=E_(t,Math.floor(Math.sqrt(t)));!n;)r>e||r===t?n=!0:r=E_(t,r+1);return r}function ane(t,e,n){const r=[],s=t.length;for(let i=0;i<s;i++)i!==e?r.push(t[i]):r.push(n);return r}function h$(t,e,n,r){const s=e.shape.length,i=t.shape.length;if(r!==0&&(r<-s||r>s))throw new Error(`Expect batchDims in the range of [-${s}, ${s}], but got ${r}`);if(r<0&&(r+=s),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${i}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let A=0;A<r;++A)if(t.shape[A]!==e.shape[A])throw new Error(`x.shape[${A}]: ${t.shape[A]} should be equal to indices.shape[${A}]: ${e.shape[A]}.`);const o=t.shape[n],a=[];let l=1,c=1,u=1;for(let A=0;A<r;++A)a.push(t.shape[A]),l*=t.shape[A];for(let A=r;A<n;A++)a.push(t.shape[A]),c*=t.shape[A];for(let A=r;A<s;A++)a.push(e.shape[A]);for(let A=n+1;A<i;A++)a.push(t.shape[A]),u*=t.shape[A];return{batchSize:l,sliceSize:u,outerSize:c,dimSize:o,outputShape:a}}const fPe=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:h$,computeOutShape:ane,segOpComputeOptimalWindowSize:one},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sd(t){try{return t.map(e=>vd(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function lne(t){return t.map(e=>dA(e))}const cne=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:t$,ERF_A2:n$,ERF_A3:r$,ERF_A4:s$,ERF_A5:i$,ERF_P:e$,PARALLELIZE_THRESHOLD:XO,get RowPartitionType(){return eu},SELU_SCALE:sk,SELU_SCALEALPHA:rk,applyActivation:KE,assertAndGetBroadcastShape:hn,assertAxesAreInnerMostDims:Pi,assertParamsConsistent:qO,assignToTypedArray:Wte,axesAreInnerMostDims:XP,calculateShapes:Uf,checkEinsumDimSizes:c$,checkPadOnDimRoundingMode:To,combineLocations:See,combineRaggedTensorToTensorShapes:Ute,complexWithEvenIndex:zte,complexWithOddIndex:Vte,computeConv2DInfo:bi,computeConv3DInfo:Df,computeDefaultPad:FP,computeDilation2DInfo:A2,computeOptimalWindowSize:nk,computeOutAndReduceShapes:Ci,computeOutShape:fA,computePool2DInfo:dc,computePool3DInfo:Id,convertConv2DDataFormat:Ed,decodeEinsumEquation:a$,eitherStridesOrDilationsAreOne:Ri,expandShapeToKeepDim:Es,exponent:Kte,exponents:Gte,fromStringArrayToUint8:lne,fromUint8ToStringArray:Sd,getAxesPermutation:cs,getBroadcastDims:Sm,getComplexWithIndex:o$,getEinsumComputePath:u$,getEinsumPermutation:l$,getFusedBiasGradient:GE,getFusedDyActivation:WE,getImageCenter:YO,getInnerMostAxes:ks,getPermuted:k2,getRaggedRank:Qte,getReductionAxes:Gs,getReshaped:E2,getReshapedPermuted:T2,getRowPartitionTypesHelper:Mte,getSliceBeginCoords:ZO,getSliceSize:JO,getSparseFillEmptyRowsIndicesDenseShapeMismatch:qte,getSparseFillEmptyRowsNegativeIndexErrorMessage:Xte,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:Yte,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:ene,getSparseReshapeInputOutputMismatchErrorMessage:nne,getSparseReshapeInputOutputMultipleErrorMessage:tne,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:Zte,getSparseReshapeNegativeOutputDimErrorMessage:Jte,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:ine,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:sL,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:rne,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:sne,getUndoAxesPermutation:Rf,isIdentityPermutation:A$,log:aTe,mergeRealAndImagArrays:Cd,prepareAndValidate:ek,prepareSplitSize:d$,segment_util:fPe,shouldFuse:qE,slice_util:Ote,splitRealAndImagArrays:Hte,stridesOrDilationsArePositive:Cm,tupleValuesAreOne:pf,upcastType:ea,validateDefaultValueShape:jte,validateInput:QE,validateUpdateShape:SO,warn:al},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pPe=Object.freeze(Object.defineProperty({__proto__:null,nonMaxSuppressionV3Impl:XE,nonMaxSuppressionV4Impl:YE,nonMaxSuppressionV5Impl:ZE,whereImpl:zE},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */IRe();const mPe=Object.freeze(Object.defineProperty({__proto__:null,Abs:ob,Acos:Ly,Acosh:Dy,AdadeltaOptimizer:DO,AdagradOptimizer:RO,AdamOptimizer:PO,AdamaxOptimizer:OO,Add:zm,AddN:ab,All:uI,Any:AI,ArgMax:lb,ArgMin:cb,Asin:Ry,Asinh:Py,Atan:Oy,Atan2:Uy,Atanh:$y,AvgPool:ub,AvgPool3D:Ab,AvgPool3DGrad:hI,AvgPoolGrad:dI,BatchMatMul:db,BatchToSpaceND:hb,Bincount:fI,BitwiseAnd:fb,BroadcastArgs:pI,BroadcastTo:PJ,Cast:My,Ceil:Qy,ClipByValue:jy,Complex:mI,ComplexAbs:pb,Concat:mb,Conv2D:gb,Conv2DBackpropFilter:gI,Conv2DBackpropInput:yb,Conv3D:wb,Conv3DBackpropFilterV2:yI,Conv3DBackpropInputV2:wI,Cos:Hy,Cosh:zy,CropAndResize:xI,Cumprod:vI,Cumsum:vb,DataStorage:iP,DenseBincount:bI,DepthToSpace:CI,DepthwiseConv2dNative:xb,DepthwiseConv2dNativeBackpropFilter:SI,DepthwiseConv2dNativeBackpropInput:BI,Diag:_I,Dilation2D:bb,Dilation2DBackpropFilter:T_,Dilation2DBackpropInput:k_,Draw:NI,get ENV(){return uP},Einsum:II,Elu:Wy,EluGrad:EI,Environment:DJ,Equal:Cb,Erf:Gy,Exp:Ky,ExpandDims:Sb,Expm1:qy,FFT:kI,Fill:TI,FlipLeftRight:FI,Floor:Xy,FloorDiv:Yy,FromPixels:F_,FusedBatchNorm:Bb,FusedConv2D:fx,FusedDepthwiseConv2D:px,GatherNd:LI,GatherV2:_b,Greater:Nb,GreaterEqual:Zy,IFFT:DI,Identity:Jy,Imag:RI,IsFinite:e1,IsInf:t1,IsNan:n1,KernelBackend:aI,LRN:Db,LRNGrad:OI,LeakyRelu:Ib,Less:Eb,LessEqual:kb,LinSpace:PI,Log:r1,Log1p:s1,LogSoftmax:OJ,LogicalAnd:Tb,LogicalNot:Fb,LogicalOr:Lb,LogicalXor:nTe,LowerBound:rTe,MatrixBandPart:sTe,Max:Rb,MaxPool:Pb,MaxPool3D:Ob,MaxPool3DGrad:UI,MaxPoolGrad:$I,MaxPoolWithArgmax:MI,Maximum:i1,Mean:$b,Min:Ub,Minimum:o1,MirrorPad:Mb,Mod:a1,MomentumOptimizer:$O,Multinomial:QI,Multiply:l1,Neg:Qb,NonMaxSuppressionV3:jI,NonMaxSuppressionV4:HI,NonMaxSuppressionV5:zI,NotEqual:jb,OP_SCOPE_SUFFIX:gP,OneHot:zb,OnesLike:Hb,Optimizer:Ld,OptimizerConstructors:$te,Pack:Vb,PadV2:Wb,Pool:iTe,Pow:c1,Prelu:Gb,Prod:Kb,RMSPropOptimizer:UO,RaggedGather:VI,RaggedRange:WI,RaggedTensorToTensor:GI,Range:KI,get Rank(){return Q3},Real:qI,RealDiv:Vy,Reciprocal:u1,get Reduction(){return No},Relu:A1,Relu6:d1,Reshape:qb,ResizeBilinear:Yb,ResizeBilinearGrad:YI,ResizeNearestNeighbor:Xb,ResizeNearestNeighborGrad:XI,Reverse:Zb,RotateWithOffset:fE,Round:h1,Rsqrt:f1,SGDOptimizer:JE,ScatterNd:ZI,SearchSorted:eE,Select:Jb,Selu:p1,Sigmoid:w1,Sign:y1,Sin:m1,Sinh:g1,Slice:e2,Softmax:s2,Softplus:v1,SpaceToBatchND:n2,SparseFillEmptyRows:tE,SparseReshape:nE,SparseSegmentMean:rE,SparseSegmentSum:sE,SparseToDense:iE,SplitV:r2,Sqrt:x1,Square:oE,SquaredDifference:b1,StaticRegexReplace:i2,Step:N1,StridedSlice:aE,StringNGrams:lE,StringSplit:cE,StringToHashBucketFast:uE,Sub:C1,Sum:t2,Tan:S1,Tanh:B1,Tensor:lr,TensorBuffer:Ws,TensorScatterUpdate:JI,Tile:_1,TopK:AE,Transform:dE,Transpose:em,Unique:hE,Unpack:o2,UnsortedSegmentSum:a2,UpperBound:oTe,Variable:yx,ZerosLike:l2,_FusedMatMul:hx,abs:Ms,acos:SP,acosh:BP,add:Je,addN:gee,all:yE,any:vx,argMax:bm,argMin:_P,asin:NP,asinh:IP,atan:EP,atan2:kP,atanh:TP,avgPool:d2,avgPool3d:LP,backend:wP,backend_util:cne,basicLSTMCell:yee,batchNorm:I1,batchNorm2d:DP,batchNorm3d:RP,batchNorm4d:PP,batchToSpaceND:h2,bincount:OP,bitwiseAnd:wee,booleanMaskAsync:ste,broadcastArgs:vee,broadcastTo:tm,broadcast_util:UFe,browser:sPe,buffer:wn,cast:At,ceil:$P,clipByValue:na,clone:hA,complex:xd,concat:Is,concat1d:UP,concat2d:MP,concat3d:QP,concat4d:jP,conv1d:wE,conv2d:bd,conv2dTranspose:vE,conv3d:zP,conv3dTranspose:VP,copyRegisteredKernels:uTe,cos:f2,cosh:xE,cosineWindow:VE,cumprod:Cx,cumsum:bE,customGrad:CA,denseBincount:P_,deprecationWarn:HTe,depthToSpace:WP,depthwiseConv2d:E1,device_util:OTe,diag:bee,dilation2d:GP,disableDeprecationWarnings:jTe,dispose:Nn,disposeVariables:zTe,div:jt,divNoNan:KP,dot:qP,dropout:EO,einsum:Sp,elu:k1,enableDebugMode:QTe,enableProdMode:MTe,enclosingPowerOfTwo:kO,engine:Kc,ensureShape:Cee,env:Le,equal:Ac,erf:CE,euclideanNorm:YP,exp:ra,expandDims:Xi,expm1:ZP,eye:SE,fft:N2,fill:Wm,findBackend:qTe,findBackendFactory:XTe,floor:F1,floorDiv:gE,fused:hte,gather:L1,gatherND:lte,gather_util:iPe,getBackend:ree,getGradient:$3,getKernel:gx,getKernelsForBackend:L_,grad:b4e,grads:C4e,greater:ca,greaterEqual:kd,ifft:cy,imag:p2,image:ru,inTopKAsync:cte,io:jO,irfft:UE,isFinite:JP,isInf:eO,isNaN:tO,keep:Js,kernel_impls:pPe,leakyRelu:m2,less:iy,lessEqual:Pf,linalg:LO,linspace:_ee,localResponseNormalization:nO,log:Ra,log1p:g2,logSigmoid:rO,logSoftmax:_E,logSumExp:y2,logicalAnd:fu,logicalNot:w2,logicalOr:NE,logicalXor:sO,losses:vte,lowerBound:Iee,matMul:_n,math:KRe,max:gl,maxPool:v2,maxPool3d:iO,maxPoolWithArgmax:Eee,maximum:TA,mean:os,memory:G3,meshgrid:kee,min:sy,minimum:gf,mirrorPad:oO,mod:aO,moments:x2,movingAverage:ite,mul:xe,multiRNNCell:Tee,multinomial:Fee,neg:Pr,nextFrame:KO,norm:T1,notEqual:Bm,oneHot:oy,ones:Yo,onesLike:Pa,op:ye,outerProduct:Lee,pad:Td,pad1d:Dee,pad2d:Ree,pad3d:Pee,pad4d:Oee,pool:lO,pow:bA,prelu:C2,print:CP,prod:cO,profile:VTe,raggedGather:$ee,raggedRange:Uee,raggedTensorToTensor:Mee,rand:Qee,randomGamma:Vee,randomNormal:kE,randomStandardNormal:Wee,randomUniform:Of,randomUniformInt:Gee,range:_m,ready:nee,real:ay,reciprocal:wO,registerBackend:yP,registerGradient:$J,registerKernel:pE,relu:Bu,relu6:TE,removeBackend:KTe,reshape:Se,reverse:wl,reverse1d:Kee,reverse2d:qee,reverse3d:Xee,reverse4d:Yee,rfft:I2,round:FE,rsqrt:LE,scalar:Xt,scatterND:ote,scatter_util:BLe,searchSorted:IE,selu:DE,separableConv2d:RE,serialization:_Re,setBackend:GTe,setPlatform:YTe,setdiff1dAsync:Zee,sigmoid:au,sign:vO,signal:wte,sin:PE,sinh:OE,slice:Un,slice1d:S2,slice2d:$E,slice3d:B2,slice4d:ly,slice_util:Ote,softmax:_2,softplus:Gm,spaceToBatchND:b2,sparse:xte,sparseToDense:ate,spectral:yte,split:Jo,sqrt:xi,square:br,squaredDifference:ME,squeeze:$f,stack:sa,step:qm,stridedSlice:xO,string:bte,sub:Ct,sum:Lt,sumOutType:mE,tan:bO,tanh:mf,tensor:oc,tensor1d:Zi,tensor2d:_0,tensor3d:CO,tensor4d:Jee,tensor5d:ete,tensor6d:tte,tensorScatterUpdate:nte,tensor_util:FTe,test_util:$3e,tidy:Te,tile:dl,time:WTe,topk:BO,train:wp,transpose:$n,truncatedNormal:jE,unique:_O,unregisterGradient:cTe,unregisterKernel:lTe,unsortedSegmentSum:HE,unstack:vl,upcastType:ea,upperBound:rte,util:wTe,valueAndGrad:S4e,valueAndGrads:B4e,variable:NO,variableGrads:Nee,version_core:uPe,where:Fi,whereAsync:IO,zeros:Vs,zerosLike:Mn},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const une={kernelName:ob,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(t,qm(At(n,"float32"),-1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gPe={kernelName:Ly,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=br(At(n,"float32")),s=xi(Ct(Xt(1),r));return Pr(jt(t,s))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yPe={kernelName:Dy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=xi(Ct(br(At(n,"float32")),1));return jt(t,r)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wPe={kernelName:zm,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=hn(n.shape,r.shape);return{a:()=>{let a=t;const l=Gs(n.shape,s);return l.length>0&&(a=Lt(a,l)),Se(a,n.shape)},b:()=>{let a=t;const l=Gs(r.shape,s);return l.length>0&&(a=Lt(a,l)),Se(a,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vPe={kernelName:ab,saveAllInputs:!0,gradFunc:(t,e)=>{const n={};return e.forEach((r,s)=>{n[s]=()=>t.clone()}),n}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xPe={kernelName:lb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Mn(n)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bPe={kernelName:cb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Mn(n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CPe={kernelName:Ry,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>jt(t,xi(Ct(Xt(1),br(At(n,"float32")))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SPe={kernelName:Py,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=xi(Je(Xt(1),br(At(n,"float32"))));return jt(t,r)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BPe={kernelName:Uy,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=hn(n.shape,r.shape);return{a:()=>{const a=Je(br(n),br(r));let l=xe(t,jt(r,a));const c=Gs(n.shape,s);return c.length>0&&(l=Lt(l,c)),Se(l,n.shape)},b:()=>{const a=Je(br(n),br(r));let l=Pr(xe(t,jt(n,a)));const c=Gs(r.shape,s);return c.length>0&&(l=Lt(l,c)),Se(l,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Pe={kernelName:Oy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>jt(t,Je(br(At(n,"float32")),1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NPe={kernelName:$y,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>jt(t,Ct(Xt(1),br(At(n,"float32"))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IPe(t,e,n,r,s,i){const o=ie(t,"dy","avgPool3dGrad"),a=ie(e,"input","avgPool3dGrad");let l=o,c=a,u=!1;a.rank===4&&(u=!0,l=Se(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),c=Se(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),ee(l.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`),ee(c.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${c.rank}.`),To("avgPool3dGrad",s,i);const A={dy:l,input:c},d={filterSize:n,strides:r,pad:s,dimRoundingMode:i},h=ge.runKernel(hI,A,d);return u?Se(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const EPe=ye({avgPool3dGrad_:IPe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kPe={kernelName:Ab,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{filterSize:s,strides:i,pad:o,dimRoundingMode:a}=n;return{x:()=>EPe(t,r,s,i,o,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TPe(t,e,n,r,s){const i=ie(t,"dy","avgPoolGrad"),o=ie(e,"input","avgPoolGrad");ee(o.rank===i.rank,()=>`Rank of input (${o.rank}) does not match rank of dy (${i.rank})`);let a=o,l=i,c=!1;o.rank===3&&(c=!0,a=Se(o,[1,o.shape[0],o.shape[1],o.shape[2]]),l=Se(i,[1,i.shape[0],i.shape[1],i.shape[2]])),ee(l.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`),ee(a.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${a.rank}.`);const u={dy:l,input:a},A={filterSize:n,strides:r,pad:s},d=ge.runKernel(dI,u,A);return c?Se(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const FPe=ye({avgPoolGrad_:TPe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LPe={kernelName:ub,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{filterSize:s,strides:i,pad:o}=n;return{x:()=>FPe(t,r,s,i,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DPe={kernelName:db,inputsToSave:["a","b"],gradFunc:(t,e,n)=>{const[r,s]=e,{transposeA:i,transposeB:o}=n;return!i&&!o?{a:()=>_n(t,s,!1,!0),b:()=>_n(r,t,!0,!1)}:!i&&o?{a:()=>_n(t,s,!1,!1),b:()=>_n(t,r,!0,!1)}:i&&!o?{a:()=>_n(s,t,!1,!0),b:()=>_n(r,t,!1,!1)}:{a:()=>_n(s,t,!0,!0),b:()=>_n(t,r,!0,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RPe={kernelName:hb,gradFunc:(t,e,n)=>{const{blockShape:r,crops:s}=n;return{x:()=>b2(t,r,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PPe={kernelName:PJ,gradFunc:(t,e,n)=>{const r=n,s=r.inputShape,i=r.shape,o=Array.from(i);for(let l=s.length-1;l>=0;l--)if(s[l]===i[l])o[l]=1;else if(s[l]!==1)throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${i}].`);const a=[];for(let l=0;l<o.length;l++)o[l]>1&&a.push(l);return{x:()=>Lt(t,a,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OPe={kernelName:My,gradFunc:t=>({x:()=>t.clone()})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Pe={kernelName:Qy,gradFunc:t=>({x:()=>Mn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UPe={kernelName:jy,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{clipValueMin:s,clipValueMax:i}=n;return{x:()=>Fi(fu(kd(r,s),Pf(r,i)),t,Mn(t))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MPe={kernelName:pb,inputsToSave:["x"],gradFunc:une.gradFunc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QPe={kernelName:mb,saveAllInputs:!0,gradFunc:(t,e,n)=>{const r=e.map(l=>l.shape),{axis:s}=n,i=En(s,e[0].shape)[0],o=r.map(l=>l[i]);return Jo(t,o,i).map(l=>()=>l)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jPe={kernelName:gb,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[r,s]=e,{dilations:i,strides:o,pad:a,dataFormat:l}=n;return ee(pf(i),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`),{x:()=>HP(r.shape,t,s,o,a,l),filter:()=>TO(r,t,s.shape,o,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HPe={kernelName:yb,inputsToSave:["dy","filter"],gradFunc:(t,e,n)=>{const[r,s]=e,{strides:i,pad:o,dataFormat:a,dimRoundingMode:l}=n;return{dy:()=>bd(t,s,i,o,a,1,l),filter:()=>TO(t,r,s.shape,i,o,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zPe(t,e,n,r,s){let i=t;t.rank===4&&(i=Se(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let o=e;o.rank===4&&(o=Se(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),ee(i.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${i.shape}.`),ee(o.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${o.shape}.`),ee(n.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`),ee(i.shape[4]===n[3],()=>`Error in conv3dDerFilter: depth of input ${i.shape[4]}) must match input depth in filter (${n[3]}.`),ee(o.shape[4]===n[4],()=>`Error in conv3dDerFilter: depth of dy (${o.shape[4]}) must match output depth for filter (${n[4]}).`);const a={x:i,dy:o},l={strides:r,pad:s,filterShape:n};return ge.runKernel(yI,a,l)}const VPe=ye({conv3DBackpropFilter_:zPe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WPe={kernelName:wb,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:r,strides:s,pad:i}=n;ee(pf(r),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`);const[o,a]=e;return{x:()=>xee(o.shape,t,a,s,i),filter:()=>VPe(o,t,a.shape,s,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GPe={kernelName:Hy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(Pr(PE(At(n,"float32"))),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KPe={kernelName:zy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(OE(At(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qPe={kernelName:vb,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:s,exclusive:i,reverse:o}=n;return{x:()=>{const a=cs([s],r.rank);let l=bE(t,s,i,!o);return a!=null&&(l=$n(l,a)),l}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XPe={kernelName:xb,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:r,strides:s,pad:i,dimRoundingMode:o}=n,a=r??[1,1];ee(pf(a),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${a}'`);const[l,c]=e;return ee(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`),ee(c.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${c.rank}.`),ee(l.shape[3]===c.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${c.shape[2]}.`),ee(Ri(s,a),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${s} and dilations '${a}'.`),To("depthwiseConv2d",i,o),{x:()=>dte(l.shape,t,c,s,i,a,o),filter:()=>Ate(l,t,c.shape,s,i,a,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YPe={kernelName:bb,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[r,s]=e,i={x:r,filter:s,dy:t},o={x:r,filter:s,dy:t};return{x:()=>ge.runKernel(k_,i,n),filter:()=>ge.runKernel(T_,o,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZPe={kernelName:Wy,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e,r={dy:t,y:n};return{x:()=>ge.runKernel(EI,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JPe={kernelName:Gy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,r=xe(ra(Pr(br(n))),2/Math.sqrt(Math.PI));return{x:()=>xe(t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eOe={kernelName:Ky,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(t,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tOe={kernelName:Sb,inputsToSave:["input"],gradFunc:(t,e)=>{const[n]=e;return{input:()=>Se(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nOe={kernelName:qy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(t,ra(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rOe={kernelName:Xy,gradFunc:t=>({x:()=>Mn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sOe={kernelName:Yy,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=hn(n.shape,r.shape);return{a:()=>{const a=jt(t,At(r,"float32")),l=Gs(n.shape,s);return l.length>0?Se(Lt(a,l),n.shape):a},b:()=>{let a=xe(t,At(n,"float32"));const l=Gs(r.shape,s);l.length>0&&(a=Se(Lt(a,l),r.shape));const c=br(r);return Pr(jt(a,At(c,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iOe={kernelName:Bb,inputsToSave:["x","mean","variance","scale"],gradFunc:(t,e,n)=>{const{varianceEpsilon:r}=n,[s,i,o,a]=e,l=a??Xt(1),c=Gs(i.shape,s.shape),u=[];if(i.rank===1){for(let C=0;C<s.shape.length-1;++C)u.push(s.shape[C]);u.push(1)}const A=Ct(s,i),d=xe(t,l),h=LE(Je(o,Xt(r))),p=xe(xe(xe(h,h),h),Xt(-.5));return{x:()=>i.rank===1?Se(xe(xe(t,dl(Se(h,[1,1,1,i.shape[0]]),u)),l),s.shape):Se(xe(xe(t,h),l),s.shape),mean:()=>{let C=xe(xe(h,Xt(-1)),d);return i.rank===1&&(C=Lt(C,c)),Se(C,i.shape)},variance:()=>{let C=xe(xe(p,A),d);return i.rank===1&&(C=Lt(C,c)),Se(C,i.shape)},scale:()=>{const C=xe(A,h);let _=xe(t,C);return i.rank===1&&(_=Lt(_,c)),Se(_,i.shape)},offset:()=>{let C=t;return i.rank===1&&(C=Lt(C,c)),Se(C,i.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oOe={kernelName:_b,inputsToSave:["x","indices"],gradFunc:(t,e,n)=>{const[r,s]=e,{axis:i,batchDims:o}=n,a=En(i,r.shape)[0],l=(c,u,A)=>()=>{const d=c.shape,h=u.size,p=d.slice(0,a),m=p.length,y=d.slice(i,d.length).slice(1),g=y.length,v=WH(0,m),b=WH(m+1,m+1+g),C=GH([p,[h],y]),_=Se(A,C),I=Se(u,[h]),T=GH([[m],v,b]),F=$n(_,T);let D=HE(F,I,c.shape[a]);const j=Rf(T);return D=$n(D,j),D};if(o===1){const c=r.shape[0],u=r.split(c,0);return{x:()=>sa(u.map((h,p)=>l(h,s.slice(p,1),t.slice(p,1))())).reshape(r.shape),indices:()=>s}}else return{x:l(r,s,t),indices:()=>s}}};function WH(t,e){const n=[];for(let r=t;r<e;++r)n.push(r);return n}function GH(t){const e=[];for(let n=0;n<t.length;++n)for(let r=0;r<t[n].length;++r)e.push(t[n][r]);return e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aOe={kernelName:Zy,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>Mn(n),b:()=>Mn(r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lOe={kernelName:Jy,gradFunc:t=>({x:()=>At(t,"float32")})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cOe={kernelName:e1,gradFunc:t=>({x:()=>Mn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uOe={kernelName:t1,gradFunc:t=>({x:()=>Mn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AOe={kernelName:n1,gradFunc:t=>({x:()=>Mn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dOe={kernelName:Ib,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{alpha:s}=n,i=ca(r,0);return{x:()=>Fi(i,t,xe(t,s))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hOe={kernelName:s1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>jt(t,Je(n,1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fOe={kernelName:r1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>jt(t,At(n,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pOe={kernelName:OJ,inputsToSave:[],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r]=e,{axis:s}=n;return{logits:()=>{const o=ra(r);return Ct(t,xe(Lt(t,s,!0),o))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mOe(t,e,n,r=5,s=1,i=1,o=.5){const a={x:t,y:e,dy:n},l={depthRadius:r,bias:s,alpha:i,beta:o};return ge.runKernel(OI,a,l)}const gOe=ye({localResponseNormalizationBackprop_:mOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yOe={kernelName:Db,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,s]=e,{depthRadius:i,bias:o,alpha:a,beta:l}=n;return{x:()=>gOe(r,s,t,i,o,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ane(t,e,n,r){return e.rank<n.rank&&(e=Se(e,Es(e.shape,r))),t.rank<n.rank&&(t=Se(t,Es(t.shape,r))),{x:()=>xe(t,At(Ac(n,e),t.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KH={kernelName:Rb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const r=n,{reductionIndices:s}=r,i=e[0],o=e[1],a=En(s,i.shape),l=Ane(t,o,i,a);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wOe={kernelName:i1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>xe(t,At(kd(n,r),"float32")),b:()=>xe(t,At(iy(n,r),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vOe(t,e,n,r,s,i,o){const a=ie(t,"dy","maxPool3dGrad"),l=ie(e,"input","maxPool3dGrad"),c=ie(n,"output","maxPool3dGrad");let u=a,A=l,d=c,h=!1;l.rank===4&&(h=!0,u=Se(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]]),A=Se(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),d=Se(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),ee(u.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${u.rank}.`),ee(A.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${A.rank}.`),ee(d.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${d.rank}.`),To("maxPool3dGrad",i,o);const p={dy:u,input:A,output:d},m={filterSize:r,strides:s,pad:i,dimRoundingMode:o},y=ge.runKernel(UI,p,m);return h?Se(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}const xOe=ye({maxPool3dGrad_:vOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bOe={kernelName:Ob,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,s]=e,{filterSize:i,strides:o,pad:a,dimRoundingMode:l}=n;return{x:()=>xOe(t,r,s,i,o,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function COe(t,e,n,r,s,i,o){const a=ie(t,"dy","maxPoolGrad"),l=ie(e,"input","maxPoolGrad"),c=ie(n,"output","maxPoolGrad");ee(l.rank===a.rank,()=>`Rank of input (${l.rank}) does not match rank of dy (${a.rank})`),ee(a.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${a.rank}.`),ee(l.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`),To("maxPoolGrad",i,o);const u={dy:a,input:l,output:c},A={filterSize:r,strides:s,pad:i,dimRoundingMode:o};return ge.runKernel($I,u,A)}const SOe=ye({maxPoolGrad_:COe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BOe={kernelName:Pb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,s]=e,{filterSize:i,strides:o,pad:a}=n;return{x:()=>SOe(t,r,s,i,o,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Oe={kernelName:$b,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:s}=n,i=En(s,r.shape),a=Ci(r.shape,i)[1],l=$e(a);return{x:()=>{const u=r.shape.slice();i.forEach(h=>{u[h]=1});const A=Se(t,u);return jt(xe(A,Yo(r.shape,"float32")),l)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NOe={kernelName:Ub,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const r=n,{axis:s}=r,[i,o]=e,a=En(s,i.shape),l=Ane(t,o,i,a);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IOe={kernelName:o1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>xe(t,At(Pf(n,r),"float32")),b:()=>xe(t,At(ca(n,r),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EOe={kernelName:Mb,inputsToSave:["x"],gradFunc:(t,e,n)=>{const r=e[0],{paddings:s}=n,i=s.map(o=>o[0]);return{x:()=>Un(t,i,r.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kOe={kernelName:a1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=hn(n.shape,r.shape);return{a:()=>{const a=Gs(n.shape,s);return a.length>0?Se(Lt(t,a),n.shape):t},b:()=>{const a=xe(t,Pr(F1(jt(n,r)))),l=Gs(r.shape,s);return l.length>0?Se(Lt(a,l),r.shape):a}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TOe={kernelName:l1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=hn(n.shape,r.shape);return{a:()=>{const a=xe(t,At(r,"float32")),l=Gs(n.shape,s);return l.length>0?Se(Lt(a,l),n.shape):a},b:()=>{const a=xe(t,At(n,"float32")),l=Gs(r.shape,s);return l.length>0?Se(Lt(a,l),r.shape):a}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FOe={kernelName:Qb,gradFunc:t=>({x:()=>Pr(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LOe={kernelName:zb,inputsToSave:["indices"],gradFunc:(t,e)=>{const n=e[0];return{indices:()=>Vs(n.shape,"float32")}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DOe={kernelName:Hb,gradFunc:t=>({x:()=>Mn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ROe={kernelName:Vb,saveAllInputs:!0,gradFunc:(t,e,n)=>{const{axis:r}=n;return vl(t,r).map(i=>()=>i)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qH={kernelName:Wb,inputsToSave:["x"],gradFunc:(t,e,n)=>{const r=e[0],{paddings:s}=n,i=s.map(o=>o[0]);return{x:()=>Un(t,i,r.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const POe={kernelName:c1,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(t,e)=>{const[n,r,s]=e,i=n,o=r,a=hn(i.shape,o.shape);return{a:()=>{const u=At(o,"float32");let A=xe(t,xe(u,bA(i,Ct(u,Xt(1)))));const d=Gs(i.shape,a);return d.length>0&&(A=Lt(A,d)),Se(A,i.shape)},b:()=>{const u=ca(i,0),A=Fi(u,Ra(i),Mn(i));let d=xe(t,xe(s,A));const h=Gs(o.shape,a);return h.length>0&&(d=Lt(d,h)),Se(d,o.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OOe={kernelName:Gb,inputsToSave:["x","alpha"],gradFunc:(t,e)=>{const[n,r]=e,s=ca(n,0);return{x:()=>Fi(s,t,xe(t,r)),alpha:()=>{let i=Fi(s,Mn(t),xe(t,n));const o=Gs(r.shape,t.shape);return o.length>0&&(i=Lt(i,o)),Se(i,r.shape)}}}};/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Oe(t,e,n){const r=t.shape.slice();r[n]=1;const s=Se(e,r),i=Cx(t,n,!0,!1),o=Cx(t,n,!0,!0),a=xe(i,o);return xe(s,a)}function UOe(t,e,n){const r=t.shape.length,s=r-n.length,i=cs(n,r);let o=t;i!=null&&(o=$n(t,i));const a=o.shape.slice(),c=a.splice(r-n.length,n.length).reduce((d,h)=>d*h,1);a.push(c);const u=o.reshape(a);let A=$Oe(u,e,s);if(A=A.reshape(o.shape),i!=null){const d=Rf(i);A=$n(A,d)}return A}const MOe={kernelName:Kb,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:s}=n;let i=[];return s==null?i=r.shape.map((o,a)=>a):typeof s=="number"?i=[s]:i=s,{x:()=>UOe(r,t,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QOe={kernelName:Vy,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=hn(n.shape,r.shape);return{a:()=>{const a=jt(t,At(r,"float32")),l=Gs(n.shape,s);return l.length>0?Se(Lt(a,l),n.shape):a},b:()=>{let a=xe(t,At(n,"float32"));const l=Gs(r.shape,s);l.length>0&&(a=Se(Lt(a,l),r.shape));const c=br(r);return Pr(jt(a,At(c,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jOe={kernelName:u1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>jt(t,Pr(br(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HOe={kernelName:d1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,r=xe(Pf(n,6),qm(n));return{x:()=>xe(t,At(r,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zOe={kernelName:A1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(t,At(qm(n),"float32"))}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VOe={kernelName:qb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Se(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WOe={kernelName:Yb,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[r]=e,s={dy:t,images:r};return{images:()=>ge.runKernel(YI,s,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GOe={kernelName:Xb,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[r]=e,s={dy:t,images:r};return{images:()=>ge.runKernel(XI,s,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KOe={kernelName:Zb,gradFunc:(t,e,n)=>{const{dims:r}=n,s=En(r,t.shape);return{x:()=>wl(t,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qOe={kernelName:h1,gradFunc:t=>({x:()=>Mn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XOe={kernelName:f1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Pr(jt(t,xe(bA(n,1.5),2)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YOe={kernelName:Jb,inputsToSave:["condition"],gradFunc:(t,e)=>{const[n]=e;return{condition:()=>At(Mn(n),"float32"),t:()=>xe(t,At(n,t.dtype)),e:()=>xe(t,At(w2(n),t.dtype))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZOe={kernelName:p1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=ca(n,Xt(0)),s=Xt(rk),i=Xt(sk),o=xe(t,i),a=xe(xe(t,s),ra(At(n,"float32")));return Fi(r,o,a)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JOe={kernelName:w1,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(t,xe(n,Ct(Xt(1),n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e$e={kernelName:y1,gradFunc:t=>({x:()=>Mn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t$e={kernelName:m1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(f2(At(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n$e={kernelName:g1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(xE(At(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r$e={kernelName:e2,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{begin:s,size:i}=n,o=r.shape,[a,l]=tk(r,s,i),c=[];for(let u=0;u<t.rank;u++)c.push([a[u],o[u]-a[u]-l[u]]);return{x:()=>Td(t,c)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s$e={kernelName:s2,outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r]=e,{dim:s}=n,i=!0,o=xe(t,r);return{logits:()=>Ct(o,xe(Lt(o,[s],i),r))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i$e={kernelName:v1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(t,au(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XH={kernelName:n2,gradFunc:(t,e,n)=>{const{blockShape:r,paddings:s}=n;return{x:()=>h2(t,r,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YH={kernelName:r2,gradFunc:(t,e,n)=>{const{axis:r}=n;return{x:()=>Is(t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o$e={kernelName:x1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>jt(t,xe(xi(At(n,"float32")),2))}}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a$e={kernelName:oE,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(t,xe(At(n,"float32"),2))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l$e={kernelName:b1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=Xt(2);return{a:()=>xe(t,xe(s,Ct(n,r))),b:()=>xe(t,xe(s,Ct(r,n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c$e={kernelName:N1,gradFunc:t=>({x:()=>Mn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u$e={kernelName:C1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=hn(n.shape,r.shape);return{a:()=>{let a=t;const l=Gs(n.shape,s);return l.length>0&&(a=Lt(a,l)),Se(a,n.shape)},b:()=>{let a=t;const l=Gs(r.shape,s);return l.length>0&&(a=Lt(a,l)),Se(Pr(a),r.shape)}}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A$e={kernelName:t2,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,s=r.shape.slice(),{axis:i}=n;En(i,r.shape).forEach(c=>{s[c]=1});const a=Se(t,s),l=xe(a,Yo(r.shape,"float32"));return{x:()=>l}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d$e={kernelName:S1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>jt(t,br(f2(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h$e={kernelName:B1,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(Ct(Xt(1),br(n)),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f$e={kernelName:_1,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{reps:s}=n;return{x:()=>{let o=Mn(r);if(r.rank===1)for(let a=0;a<s[0];++a)o=Je(o,Un(t,[a*r.shape[0]],[r.shape[0]]));else if(r.rank===2)for(let a=0;a<s[0];++a)for(let l=0;l<s[1];++l)o=Je(o,Un(t,[a*r.shape[0],l*r.shape[1]],[r.shape[0],r.shape[1]]));else if(r.rank===3)for(let a=0;a<s[0];++a)for(let l=0;l<s[1];++l)for(let c=0;c<s[2];++c)o=Je(o,Un(t,[a*r.shape[0],l*r.shape[1],c*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else if(r.rank===4)for(let a=0;a<s[0];++a)for(let l=0;l<s[1];++l)for(let c=0;c<s[2];++c)for(let u=0;u<s[3];++u)o=Je(o,Un(t,[a*r.shape[0],l*r.shape[1],c*r.shape[2],u*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);return o}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p$e={kernelName:em,gradFunc:(t,e,n)=>{const r=n,{perm:s}=r,i=Rf(s);return{x:()=>$n(t,i)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m$e={kernelName:o2,gradFunc:(t,e,n)=>{const r=n,{axis:s}=r;return{value:()=>sa(t,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g$e={kernelName:a2,inputsToSave:["segmentIds"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>y$e(t,n)}}};function y$e(t,e){const n=TA(e,Mn(e)),r=L1(t,n);let s=kd(e,Xt(0,"int32"));const i=r.rank-s.rank;for(let a=0;a<i;++a)s=Xi(s,a+1);s=fu(s,Yo(r.shape,"bool"));const o=Mn(r);return Fi(s,r,o)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w$e={kernelName:l2,gradFunc:t=>({x:()=>Mn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v$e=[une,gPe,yPe,wPe,vPe,xPe,bPe,CPe,SPe,BPe,_Pe,NPe,kPe,LPe,DPe,RPe,PPe,OPe,$Pe,UPe,MPe,QPe,HPe,jPe,WPe,GPe,KPe,qPe,XPe,YPe,QOe,ZPe,JPe,eOe,tOe,nOe,sOe,rOe,iOe,oOe,aOe,lOe,cOe,uOe,AOe,dOe,hOe,fOe,pOe,yOe,KH,KH,wOe,bOe,BOe,_Oe,NOe,IOe,EOe,kOe,TOe,FOe,LOe,DOe,ROe,qH,qH,POe,OOe,MOe,jOe,HOe,zOe,VOe,WOe,GOe,KOe,qOe,XOe,YOe,ZOe,JOe,e$e,t$e,n$e,r$e,s$e,i$e,XH,XH,YH,YH,o$e,l$e,a$e,c$e,u$e,A$e,d$e,h$e,f$e,p$e,m$e,g$e,w$e];for(const t of v$e)$J(t);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.abs=function(){return this.throwIfDisposed(),Ms(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.acos=function(){return this.throwIfDisposed(),SP(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.acosh=function(){return this.throwIfDisposed(),BP(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.add=function(t){return this.throwIfDisposed(),Je(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.all=function(t,e){return this.throwIfDisposed(),yE(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.any=function(t,e){return this.throwIfDisposed(),vx(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.argMax=function(t){return this.throwIfDisposed(),bm(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.argMin=function(t){return this.throwIfDisposed(),_P(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.asScalar=function(){return this.throwIfDisposed(),ee(this.size===1,()=>"The array must have only 1 element."),Se(this,[])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.asType=function(t){return this.throwIfDisposed(),At(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.as1D=function(){return this.throwIfDisposed(),Se(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.as2D=function(t,e){return this.throwIfDisposed(),Se(this,[t,e])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.as3D=function(t,e,n){return this.throwIfDisposed(),Se(this,[t,e,n])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.as4D=function(t,e,n,r){return this.throwIfDisposed(),Se(this,[t,e,n,r])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.as5D=function(t,e,n,r,s){return this.throwIfDisposed(),Se(this,[t,e,n,r,s])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.asin=function(){return this.throwIfDisposed(),NP(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.asinh=function(){return this.throwIfDisposed(),IP(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.atan=function(){return this.throwIfDisposed(),EP(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.atan2=function(t){return this.throwIfDisposed(),kP(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.atanh=function(){return this.throwIfDisposed(),TP(this)};He().prototype.avgPool=function(t,e,n,r){return this.throwIfDisposed(),d2(this,t,e,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),h2(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.batchNorm=function(t,e,n,r,s){return this.throwIfDisposed(),I1(this,t,e,n,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.broadcastTo=function(t){return this.throwIfDisposed(),tm(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.cast=function(t){return this.throwIfDisposed(),At(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.ceil=function(){return this.throwIfDisposed(),$P(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.clipByValue=function(t,e){return this.throwIfDisposed(),na(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.concat=function(t,e){return this.throwIfDisposed(),t instanceof lr&&(t=[t]),Is([this,...t],e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.conv1d=function(t,e,n,r,s,i){return this.throwIfDisposed(),wE(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.conv2dTranspose=function(t,e,n,r,s){return this.throwIfDisposed(),vE(this,t,e,n,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.conv2d=function(t,e,n,r,s,i){return this.throwIfDisposed(),bd(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.cos=function(){return this.throwIfDisposed(),f2(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.cosh=function(){return this.throwIfDisposed(),xE(this)};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.cumprod=function(t,e,n){return this.throwIfDisposed(),Cx(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.cumsum=function(t,e,n){return this.throwIfDisposed(),bE(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),WP(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.depthwiseConv2d=function(t,e,n,r,s,i){return this.throwIfDisposed(),E1(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.dilation2d=function(t,e,n,r,s){return this.throwIfDisposed(),GP(this,t,e,n,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.divNoNan=function(t){return this.throwIfDisposed(),KP(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.div=function(t){return this.throwIfDisposed(),jt(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.dot=function(t){return this.throwIfDisposed(),qP(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.elu=function(){return this.throwIfDisposed(),k1(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.equal=function(t){return this.throwIfDisposed(),Ac(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.erf=function(){return this.throwIfDisposed(),CE(this)};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.euclideanNorm=function(t,e){return this.throwIfDisposed(),YP(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.exp=function(){return this.throwIfDisposed(),ra(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.expandDims=function(t){return this.throwIfDisposed(),Xi(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.expm1=function(){return this.throwIfDisposed(),ZP(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.fft=function(){return this.throwIfDisposed(),N2(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.flatten=function(){return this.throwIfDisposed(),Se(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.floor=function(){return this.throwIfDisposed(),F1(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.floorDiv=function(t){return this.throwIfDisposed(),gE(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.gather=function(t,e,n){return this.throwIfDisposed(),L1(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.greaterEqual=function(t){return this.throwIfDisposed(),kd(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.greater=function(t){return this.throwIfDisposed(),ca(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.ifft=function(){return this.throwIfDisposed(),cy(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.irfft=function(){return this.throwIfDisposed(),UE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.isFinite=function(){return this.throwIfDisposed(),JP(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.isInf=function(){return this.throwIfDisposed(),eO(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.isNaN=function(){return this.throwIfDisposed(),tO(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.leakyRelu=function(t){return this.throwIfDisposed(),m2(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.lessEqual=function(t){return this.throwIfDisposed(),Pf(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.less=function(t){return this.throwIfDisposed(),iy(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.localResponseNormalization=function(t,e,n,r){return this.throwIfDisposed(),nO(this,t,e,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.logSigmoid=function(){return this.throwIfDisposed(),rO(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.logSoftmax=function(t){return this.throwIfDisposed(),_E(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.logSumExp=function(t,e){return this.throwIfDisposed(),y2(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.log=function(){return this.throwIfDisposed(),Ra(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.log1p=function(){return this.throwIfDisposed(),g2(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.logicalAnd=function(t){return this.throwIfDisposed(),fu(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.logicalNot=function(){return this.throwIfDisposed(),w2(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.logicalOr=function(t){return this.throwIfDisposed(),NE(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.logicalXor=function(t){return this.throwIfDisposed(),sO(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.matMul=function(t,e,n){return this.throwIfDisposed(),_n(this,t,e,n)};He().prototype.maxPool=function(t,e,n,r){return this.throwIfDisposed(),v2(this,t,e,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.max=function(t,e){return this.throwIfDisposed(),gl(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.maximum=function(t){return this.throwIfDisposed(),TA(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.mean=function(t,e){return this.throwIfDisposed(),os(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.min=function(t,e){return this.throwIfDisposed(),sy(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.minimum=function(t){return this.throwIfDisposed(),gf(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.mirrorPad=function(t,e){return this.throwIfDisposed(),oO(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.mod=function(t){return this.throwIfDisposed(),aO(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.mul=function(t){return this.throwIfDisposed(),xe(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.neg=function(){return this.throwIfDisposed(),Pr(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.norm=function(t,e,n){return this.throwIfDisposed(),T1(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.notEqual=function(t){return this.throwIfDisposed(),Bm(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.oneHot=function(t,e=1,n=0){return this.throwIfDisposed(),oy(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.onesLike=function(){return this.throwIfDisposed(),Pa(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.pad=function(t,e){return this.throwIfDisposed(),Td(this,t,e)};He().prototype.pool=function(t,e,n,r,s,i){return this.throwIfDisposed(),lO(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.pow=function(t){return this.throwIfDisposed(),bA(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.prelu=function(t){return this.throwIfDisposed(),C2(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.prod=function(t,e){return this.throwIfDisposed(),cO(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.reciprocal=function(){return this.throwIfDisposed(),wO(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.relu=function(){return this.throwIfDisposed(),Bu(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.relu6=function(){return this.throwIfDisposed(),TE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.reshapeAs=function(t){return this.throwIfDisposed(),Se(this,t.shape)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.reshape=function(t){return this.throwIfDisposed(),Se(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.resizeBilinear=function(t,e,n){return this.throwIfDisposed(),mte(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.resizeNearestNeighbor=function(t,e,n){return this.throwIfDisposed(),gte(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.reverse=function(t){return this.throwIfDisposed(),wl(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.rfft=function(){return this.throwIfDisposed(),I2(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.round=function(){return this.throwIfDisposed(),FE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.rsqrt=function(){return this.throwIfDisposed(),LE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.selu=function(){return this.throwIfDisposed(),DE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.separableConv2d=function(t,e,n,r,s,i){return this.throwIfDisposed(),RE(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.sigmoid=function(){return this.throwIfDisposed(),au(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.sign=function(){return this.throwIfDisposed(),vO(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.sin=function(){return this.throwIfDisposed(),PE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.sinh=function(){return this.throwIfDisposed(),OE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.slice=function(t,e){return this.throwIfDisposed(),Un(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.softmax=function(t){return this.throwIfDisposed(),_2(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.softplus=function(){return this.throwIfDisposed(),Gm(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),b2(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.split=function(t,e){return this.throwIfDisposed(),Jo(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.sqrt=function(){return this.throwIfDisposed(),xi(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.square=function(){return this.throwIfDisposed(),br(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.squaredDifference=function(t){return this.throwIfDisposed(),ME(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.squeeze=function(t){return this.throwIfDisposed(),$f(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.stack=function(t,e){this.throwIfDisposed();const n=t instanceof lr?[this,t]:[this,...t];return sa(n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.step=function(t){return this.throwIfDisposed(),qm(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.stridedSlice=function(t,e,n,r,s,i,o,a){return this.throwIfDisposed(),xO(this,t,e,n,r,s,i,o,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.sub=function(t){return this.throwIfDisposed(),Ct(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.sum=function(t,e){return this.throwIfDisposed(),Lt(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.tan=function(){return this.throwIfDisposed(),bO(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.tanh=function(){return this.throwIfDisposed(),mf(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.tile=function(t){return this.throwIfDisposed(),dl(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.toBool=function(){return this.throwIfDisposed(),At(this,"bool")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.toFloat=function(){return this.throwIfDisposed(),At(this,"float32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.toInt=function(){return this.throwIfDisposed(),At(this,"int32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.topk=function(t,e){return this.throwIfDisposed(),BO(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.transpose=function(t){return this.throwIfDisposed(),$n(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.unique=function(t){return this.throwIfDisposed(),_O(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),HE(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.unstack=function(t){return this.throwIfDisposed(),vl(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.where=function(t,e){return this.throwIfDisposed(),Fi(t,this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */He().prototype.zerosLike=function(){return this.throwIfDisposed(),Mn(this)};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Wu extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Wu.prototype)}}class nc extends Error{constructor(e){super(e),Object.setPrototypeOf(this,nc.prototype)}}class Be extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Be.prototype)}}class xn extends Error{constructor(e){super(e),Object.setPrototypeOf(this,xn.prototype)}}class f$ extends Error{constructor(e){super(e),Object.setPrototypeOf(this,f$.prototype)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class dne{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let n;return this.cache.has(e)&&(n=this.cache.get(e),this.cache.delete(e),this.cache.set(e,n)),n}put(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let n=0;n<this.maxEntries-e;n++){const r=this.cache.keys().next().value;this.cache.delete(r)}this.maxEntries=e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Im(t,e){if(Array.isArray(t)){let n=[];for(let r=0;r<e;r++)n=n.concat(t);return n}else{const n=new Array(e);return n.fill(t),n}}function Gu(t,e){if(!t)throw new f$(e)}function ZH(t,e){let n=0;for(const r of t)r===e&&n++;return n}function Go(t){return t.length===1?t[0]:t}function pr(t){return Array.isArray(t)?t:[t]}function ed(t){const n=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return n[0]!=="_"?n:"private"+n}function Bp(t){return t.length<=1||t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,(e,n)=>n.toUpperCase())}let $l={};function p$(t){if(t==null)return null;const e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function iL(t){if(!(t==null||typeof t!="object"))if(Array.isArray(t))t.forEach(e=>iL(e));else{const e=Object.keys(t);for(const n of e){const r=t[n];r!=null&&typeof r=="object"&&(!Array.isArray(r)&&r.type==="ndarray"&&typeof r.value=="number"?t[n]=r.value:iL(r))}}}function F2(t,e={},n={},r="object",s=!1){if(typeof t=="string"){const i=t;let o;if(i in n)o=n[i];else if(i in $l)o=$l[i];else if(o=e[i],o==null)throw new Be(`Unknown ${r}: ${t}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return o}else{const i=t;if(i.className==null||i.config==null)throw new Be(`${r}: Improper config format: ${JSON.stringify(i)}.
'className' and 'config' must set.`);const o=i.className;let a,l;if(o in n?[a,l]=n[o]:o in $l?[a,l]=$l.className:o in e&&([a,l]=e[o]),a==null)throw new Be(`Unknown ${r}: ${o}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(l!=null){const c={};for(const h of Object.keys($l))c[h]=$l[h];for(const h of Object.keys(n))c[h]=n[h];const u=i.config;u.customObjects=c;const A=Object.assign({},$l);for(const h of Object.keys(n))$l[h]=n[h];iL(i.config);const d=l(a,i.config,n,s);return $l=Object.assign({},A),d}else{const c=Object.assign({},$l);for(const A of Object.keys(n))$l[A]=n[A];const u=new a(i.config);return $l=Object.assign({},c),u}}}function x$e(t,e){return t<e?-1:t>e?1:0}function bS(t,e){return-1*x$e(t,e)}function tf(t){if(t==null)return t;const e=[];for(const n of t)e.indexOf(n)===-1&&e.push(n);return e}function b$e(t){if(t==null)throw new Be(`Invalid value in obj: ${JSON.stringify(t)}`);for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}function Ym(t,e,n){if(n!=null&&t.indexOf(n)<0)throw new Be(`${n} is not a valid ${e}.  Valid values are ${t} or null/undefined.`)}function m$(t,e,n=0,r=1/0){return Gu(n>=0),Gu(r>=n),Array.isArray(t)&&t.length>=n&&t.length<=r&&t.every(s=>typeof s===e)}function wi(t,e){Array.isArray(t)?(ee(t.length>0,()=>`${e} is unexpectedly an empty array.`),t.forEach((n,r)=>wi(n,`element ${r+1} of ${e}`))):ee(Number.isInteger(t)&&t>0,()=>`Expected ${e} to be a positive integer, but got ${hne(t)}.`)}function hne(t){return t===null?"null":Array.isArray(t)?"["+t.map(e=>hne(e)).join(",")+"]":typeof t=="string"?`"${t}"`:`${t}`}function C$e(t,e,n){let r=n!=null?n():Co(),s;return(...o)=>{const a=n!=null?n():Co();return a-r<e||(r=a,s=t(...o)),s}}function fne(t){return t==="relu"?"relu":t==="linear"?"linear":t==="elu"?"elu":null}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let S$e=0;function pne(){return S$e++}const CS={};function ik(t=""){return t in CS||(CS[t]=0),CS[t]+=1,t+CS[t].toString()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const B$e=["channelsFirst","channelsLast"],_$e=["nearest","bilinear"],N$e=["valid","same","causal"],I$e=["max","avg"],E$e=["sum","mul","concat","ave"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Lg=new Map;function Ts(t){Ym(B$e,"DataFormat",t)}function k$e(t){Ym(_$e,"InterpolationFormat",t)}function Cl(t){Ym(N$e,"PaddingMode",t)}function mne(t){Ym(I$e,"PoolMode",t)}const Sv=[],JH="/";function nm(t,e){Sv.push(t);try{const n=e();return Sv.pop(),n}catch(n){throw Sv.pop(),n}}function T$e(){return Sv.length===0?"":Sv.join(JH)+JH}function gne(t){if(!wne(t))throw new Error("Not a valid tensor name: '"+t+"'");return T$e()+t}function yne(t){if(!wne(t))throw new Error("Not a valid tensor name: '"+t+"'");Lg.has(t)||Lg.set(t,0);const e=Lg.get(t);if(Lg.set(t,Lg.get(t)+1),e>0){const n=`${t}_${e}`;return Lg.set(n,1),n}else return t}const F$e=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function wne(t){return!!t.match(F$e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function L$e(t){return t===parseInt(t.toString(),10)}function nf(t,e,n){e==null&&(e=0),n==null&&(n=t.length);let r=1;for(let s=e;s<n;++s)r*=t[s];return r}function uy(t){if(t.length===0)return Number.NaN;let e=Number.POSITIVE_INFINITY;for(let n=0;n<t.length;n++){const r=t[n];r<e&&(e=r)}return e}function yf(t){if(t.length===0)return Number.NaN;let e=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;n++){const r=t[n];r>e&&(e=r)}return e}function pu(t,e){if(e<t)throw new Be(`end (${e}) < begin (${t}) is forbidden.`);const n=[];for(let r=t;r<e;++r)n.push(r);return n}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let W5;function ei(){return W5==null&&(W5=wP().epsilon()),W5}function mu(){return"channelsLast"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function pA(t,e){return At(t,e)}function L2(t,e=-1){const n=t.shape.slice();return e<0&&(e=n.length+e+1),n.splice(e,0,1),Se(t,n)}function D$e(t,e){return Te(()=>{if(t.shape.length!==2)throw new Be(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);const n=L2(t,1);return oL(n,[1,e,1])})}function R$e(t){const e=[nf(t.shape)];return Se(t,e)}function P$e(t){if(t.rank<=1)throw new Be(`batchFlatten requires a minimum rank of 2. Got rank: ${t.rank}.`);const e=[t.shape[0],nf(t.shape,1)];return Se(t,e)}function rm(t,e,n){return Te(()=>{switch(t.rank){case 1:return S2(t,e,n);case 2:return $E(t,[e,0],[n,t.shape[1]]);case 3:return B2(t,[e,0,0],[n,t.shape[1],t.shape[2]]);case 4:return ly(t,[e,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3]]);case 5:return Un(t,[e,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4]]);case 6:return Un(t,[e,0,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4],t.shape[5]]);default:throw new Be(`sliceAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}})}function G5(t,e,n){return Te(()=>{switch(t.rank){case 1:return S2(t,e,n);case 2:return $E(t,[0,e],[t.shape[0],n]);case 3:return B2(t,[0,0,e],[t.shape[0],t.shape[1],n]);case 4:return ly(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],n]);default:throw new Be(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function SS(t,e,n,r){return Te(()=>{switch(t.rank){case 1:return S2(t,e,n);case 2:switch(r){case 1:return rm(t,e,n);case 2:return G5(t,e,n);default:throw new Be(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return rm(t,e,n);case 2:return B2(t,[0,e,0],[t.shape[0],n,t.shape[2]]);case 3:return G5(t,e,n);default:throw new Be(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return rm(t,e,n);case 2:return ly(t,[0,e,0,0],[t.shape[0],n,t.shape[2],t.shape[3]]);case 3:return ly(t,[0,0,e,0],[t.shape[0],t.shape[1],n,t.shape[3]]);case 4:return G5(t,e,n);default:throw new Be(`The axis is not within the rank of the tensor ${r}`)}default:throw new Be(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function g$(t,e=-1){let n;return e<0&&(n=t[0].rank,n!==0?e=n:e=0),e===t[0].rank&&(e=-1),Is(t,e)}function ez(t,e){switch(t.rank){case 1:return UP([t,e]);case 2:return MP([t,e],0);case 3:return QP([t,e],0);case 4:return jP([t,e],0);default:throw new Be(`concatAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}}function oL(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new Be(`The length of input n (${e.length}) does not match the number of dimensions in input x (${t.rank})`);return dl(t,e)}function ok(t,e=0,n=1,r,s){return kE(t,e,n,r,s)}function mA(t,e,n,r){if(t.rank<2||e.rank<2)throw new xn(`dot requires both inputs to be rank >= 2 but got x shape = ${t.shape} and y shape = ${e.shape}`);if(e.rank>=3){const s=t.shape.slice(-1)[0],i=e.shape.slice(-2)[0];if(s!==i)throw new xn(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${t.shape} and  y shape = ${e.shape}`)}if(t.rank===2&&e.rank===2)return eL({a:t,b:e,transposeA:!1,transposeB:!1,bias:r?aL(t.rank,r,mu()):null,activation:n});{const s=t.shape.slice(),i=s.pop();t=Se(t,[-1,i]);const o=e.shape.slice(),a=o.pop(),l=o.pop(),c=[...o,a],u=Array.from({length:e.rank},(p,m)=>m===0?e.rank-2:m<=e.rank-2?m-1:m);e=Se($n(e,u),[l,-1]);const A=[...s,...c];return Se(eL({a:t,b:e,transposeA:!1,transposeB:!1,bias:r?aL(t.rank,r,mu()):null,activation:n}),A)}}function vne(t,e,n){return Te(()=>(Array.isArray(e)?e=Zi(e,"int32"):e=At(e,"int32"),L1(t,e,n)))}function D2(t){return xe(t,t)}function aL(t,e,n){const r=e.shape;if(e.rank!==1&&e.rank!==t)throw new Be(`Unexpected bias dimensions: ${e.rank}; expected it to be 1 or ${t}`);if(t===5){if(n==="channelsFirst")return r.length===1?Se(e,[1,r[0],1,1,1]):Se(e,[1,r[3],r[0],r[1],r[2]]);if(n==="channelsLast")return r.length===1?Se(e,[1,1,1,1,r[0]]):Se(e,[1].concat(r))}else if(t===4){if(n==="channelsFirst")return r.length===1?Se(e,[1,r[0],1,1]):Se(e,[1,r[2],r[0],r[1]]);if(n==="channelsLast")return r.length===1?Se(e,[1,1,1,r[0]]):Se(e,[1].concat(r))}else if(t===3){if(n==="channelsFirst")return r.length===1?Se(e,[1,r[0],1]):Se(e,[1,r[1],r[0]]);if(n==="channelsLast")return r.length===1?Se(e,[1,1,r[0]]):Se(e,[1].concat(r))}else if(t<3)return e;throw new Be(`Unsupported input rank by biasAdd: ${e.rank}`)}function _u(t,e,n){return Te(()=>(n==null&&(n=mu()),Ts(n),Je(t,aL(t.rank,e,n))))}function O$e(t,e=1){if(e!==1)throw new xn(`Support for alpha values other than 1 (${e}) is not implemented yet.`);return k1(t)}function $$e(t){return Te(()=>jt(t,Je(Ms(t),1)))}function xne(t,e,n,r){return Te(()=>EO(t,e,n,r))}function U$e(t){return Te(()=>{const e=Je(.5,xe(.2,t));return na(e,0,1)})}function R2(t,e,n=!1){return n?t():e()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const M$e=["fanIn","fanOut","fanAvg"],Q$e=["normal","uniform","truncatedNormal"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function j$e(t){Ym(M$e,"FanMode",t)}function H$e(t){Ym(Q$e,"Distribution",t)}class hc extends Xm{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class bne extends hc{apply(e,n){return Vs(e,n)}}bne.className="Zeros";nt(bne);class y$ extends hc{apply(e,n){return Yo(e,n)}}y$.className="Ones";nt(y$);class Cne extends hc{constructor(e){if(super(),typeof e!="object")throw new Be(`Expected argument of type ConstantConfig but got ${e}`);if(e.value===void 0)throw new Be(`config must have value set but got ${e}`);this.value=e.value}apply(e,n){return Te(()=>xe(Xt(this.value),Yo(e,n)))}getConfig(){return{value:this.value}}}Cne.className="Constant";nt(Cne);class Sne extends hc{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,n){return Of(e,this.minval,this.maxval,n,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}Sne.className="RandomUniform";nt(Sne);class Bne extends hc{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new xn(`randomNormal does not support dType ${n}.`);return ok(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}Bne.className="RandomNormal";nt(Bne);class _ne extends hc{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new xn(`truncatedNormal does not support dType ${n}.`);return jE(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}_ne.className="TruncatedNormal";nt(_ne);class Nne extends hc{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,n){return Te(()=>{if(e.length!==2||e[0]!==e[1])throw new Be("Identity matrix initializer can only be used for 2D square matrices.");return xe(this.gain,SE(e[0]))})}getConfig(){return{gain:this.gain}}}Nne.className="Identity";nt(Nne);function z$e(t,e="channelsLast"){let n,r;if(Ts(e),t.length===2)n=t[0],r=t[1];else if([3,4,5].indexOf(t.length)!==-1){if(e==="channelsFirst"){const s=nf(t,2);n=t[1]*s,r=t[0]*s}else if(e==="channelsLast"){const s=nf(t,0,t.length-2);n=t[t.length-2]*s,r=t[t.length-1]*s}}else{const s=nf(t);n=Math.sqrt(s),r=Math.sqrt(s)}return[n,r]}class Oa extends hc{constructor(e){if(super(),e.scale<0)throw new Be(`scale must be a positive float. Got: ${e.scale}`);this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,j$e(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,H$e(this.distribution),this.seed=e.seed}apply(e,n){const r=z$e(e),s=r[0],i=r[1];let o=this.scale;if(this.mode==="fanIn"?o/=Math.max(1,s):this.mode==="fanOut"?o/=Math.max(1,i):o/=Math.max(1,(s+i)/2),this.distribution==="normal"){const a=Math.sqrt(o);if(n=n||"float32",n!=="float32"&&n!=="int32")throw new xn(`${this.getClassName()} does not support dType ${n}.`);return jE(e,0,a,n,this.seed)}else{const a=Math.sqrt(3*o);return Of(e,-a,a,n,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}Oa.className="VarianceScaling";nt(Oa);class w$ extends Oa{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Oa.className}}w$.className="GlorotUniform";nt(w$);class v$ extends Oa{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Oa.className}}v$.className="GlorotNormal";nt(v$);class x$ extends Oa{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Oa.className}}x$.className="HeNormal";nt(x$);class b$ extends Oa{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Oa.className}}b$.className="HeUniform";nt(b$);class C$ extends Oa{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Oa.className}}C$.className="LeCunNormal";nt(C$);class S$ extends Oa{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Oa.className}}S$.className="LeCunUniform";nt(S$);class Ine extends hc{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,n){return Te(()=>{if(e.length<2)throw new xn("Shape must be at least 2D.");if(n!=="int32"&&n!=="float32"&&n!==void 0)throw new TypeError(`Unsupported data type ${n}.`);n=n;const r=$e(e.slice(0,-1)),s=e[e.length-1],i=r*s;i>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${i}) elements: Slowness may result.`);const o=[Math.max(s,r),Math.min(s,r)],a=ok(o,0,1,n,this.seed),l=LO.qr(a,!1);let c=l[0];const A=l[1].flatten().stridedSlice([0],[Math.min(s,r)*Math.min(s,r)],[Math.min(s,r)+1]);return c=xe(c,A.sign()),r<s&&(c=c.transpose()),xe(Xt(this.gain),c.reshape(e))})}getConfig(){return{gain:this.gain,seed:this.seed}}}Ine.className="Orthogonal";nt(Ine);const tz={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function nz(t,e={}){return F2(t,ll.getMap().classNameMap,e,"initializer")}function as(t){return p$(t)}function Jr(t){if(typeof t=="string"){const e=t in tz?tz[t]:t;if(e==="GlorotNormal")return new v$;if(e==="GlorotUniform")return new w$;if(e==="HeNormal")return new x$;if(e==="HeUniform")return new b$;if(e==="LeCunNormal")return new C$;if(e==="LeCunUniform")return new S$;{const n={};return n.className=e,n.config={},nz(n)}}else return t instanceof hc?t:nz(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function lL(t){return Array.isArray(t)&&Array.isArray(t[0])}function $_(t){return t.length===0?[]:Array.isArray(t[0])?t:[t]}function an(t){let e;if(Array.isArray(t)){if(t.length!==1)throw new Be(`Expected Tensor length to be 1; got ${t.length}`);e=t[0]}else e=t;return e}function Yn(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(t.length===1)return t=t,t[0];throw new Be(`Expected exactly 1 Shape; got ${t.length}`)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function U_(t){let e=0;for(const n of t)n.shape.length===0?e+=1:e+=n.shape.reduce((r,s)=>r*s);return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const rz="Variable";class V$e{constructor(e,n="float32",r=rz,s=!0,i=null){this.dtype=n??"float32",this.shape=e.shape,this.id=pne(),r=r??rz,this.originalName=gne(r),this.name=yne(this.originalName),this.trainable_=s,this.constraint=i,this.val=NO(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),W$e(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function W$e(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function cL(t){return t.map(e=>e.read())}function B$(t){t.forEach(e=>{e[0].write(e[1])})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ti{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class SA{constructor(e,n,r,s,i,o,a){this.dtype=e,this.shape=n,this.sourceLayer=r,this.inputs=s,this.callArgs=i,this.outputTensorIndex=a,this.id=pne(),o!=null&&(this.originalName=gne(o),this.name=yne(this.originalName)),this.rank=n.length}}let G$e=0,ak=class{constructor(e,n){this.callArgs=n,this.id=G$e++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const r of e.inboundLayers)r!=null&&r.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const n of this.inboundLayers)n!=null?e.push(n.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}},K$e=0;class Rn extends Xm{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=K$e++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=e.name;if(!n){const r=this.getClassName();n=ed(r)+"_"+ik(r)}if(this.name=n,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let r;if(e.batchInputShape!=null)r=e.batchInputShape;else if(e.inputShape!=null){let i=null;e.batchSize!=null&&(i=e.batchSize),r=[i].concat(e.inputShape)}this.batchInputShape=r;let s=e.dtype;s==null&&(s=e.inputDType),s==null&&(s="float32"),this.dtype=s}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,n){return e.name+"_ib-"+n.toString()}getNodeAtIndex(e,n){if(this.inboundNodes.length===0)throw new nc(`The layer has never been called and thus has no defined ${n}.`);if(this.inboundNodes.length<=e)throw new Be(`Asked to get ${n} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return Go(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return Go(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new Wu(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new Wu(`Layer ${this.name} is not connected, no input to return.`);return Go(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new Wu(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new Wu(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return Go(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(n=>n.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const n=pr(e);if(this.inputSpec==null||this.inputSpec.length===0)return;const r=pr(this.inputSpec);if(n.length!==r.length)throw new Be(`Layer ${this.name} expects ${r.length} inputs, but it received ${n.length} input tensors. Input received: ${e}`);for(let s=0;s<n.length;s++){const i=n[s],o=r[s];if(o==null)continue;const a=i.rank;if(o.ndim!=null&&a!==o.ndim)throw new Be(`Input ${s} is incompatible with layer ${this.name}: expected ndim=${o.ndim}, found ndim=${a}`);if(o.maxNDim!=null&&a>o.maxNDim)throw new Be(`Input ${s} is incompatible with layer ${this.name}: expected max_ndim=${o.maxNDim}, found ndim=${a}`);if(o.minNDim!=null&&a<o.minNDim)throw new Be(`Input ${s} is incompatible with layer ${this.name}: expected min_ndim=${o.minNDim}, found ndim=${a}.`);if(o.dtype!=null&&i.dtype!==o.dtype)throw new Be(`Input ${s} is incompatible with layer ${this.name} : expected dtype=${o.dtype}, found dtype=${i.dtype}.`);if(o.axes){const l=i.shape;for(const c in o.axes){const u=Number(c),A=o.axes[c],d=u>=0?l[u]:l[l.length+u];if(A!=null&&[A,null].indexOf(d)===-1)throw new Be(`Input ${s} is incompatible with layer ${this.name}: expected axis ${u} of input shape to have value ${A} but got shape ${l}.`)}}if(o.shape!=null)for(let l=0;l<o.shape.length;++l){const c=o.shape[l],u=i.shape[l];if(c!=null&&u!=null&&c!==u)throw new Be(`Input ${s} is incompatible with layer ${this.name}: expected shape=${o.shape}, found shape=${i.shape}.`)}}}call(e,n){return e}invokeCallHook(e,n){this._callHook!=null&&this._callHook(e,n)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,n){n=n||{},this.assertNotDisposed();const r=pr(e),s=Y$e(e),i=Z$e(e);if(s===i)throw new Be("Arguments to apply() must be all SymbolicTensors or all Tensors");return nm(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);const o=[];for(const a of pr(e))o.push(a.shape);this.build(Go(o)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&i&&(this._refCount=1)}if(this.assertInputCompatibility(e),i){let o=this.call(e,n);this.supportsMasking&&this.setMaskMetadata(e,o);const a=pr(o),l=[];for(let c of a)r.indexOf(c)!==-1&&(c=c.clone()),l.push(c);if(o=Go(l),this.activityRegularizer!=null)throw new xn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return o}else{const o=q$e(e),a=this.computeOutputShape(o);let l;const c=X$e(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?o[0]:o),a!=null&&a.length>0&&Array.isArray(a[0])?l=a.map((u,A)=>new SA(c,u,this,pr(e),n,this.name,A)):l=new SA(c,a,this,pr(e),n,this.name),this.addInboundNode(e,l,null,null,o,a,n),this._refCount++,this.activityRegularizer!=null)throw new xn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return l}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let n=!1;this.batchInputShape.forEach((r,s)=>{r!=null&&e[s]!=null&&e[s]!==r&&(n=!0)}),n&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new Wu(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const n of this.inboundNodes){const r=JSON.stringify(n.outputShapes);e.indexOf(r)===-1&&e.push(r)}if(e.length===1){const n=this.inboundNodes[0].outputShapes;return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n}else throw new Wu(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new nc(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return U_(this.weights)}build(e){this.built=!0}getWeights(e=!1){return cL(e?this.trainableWeights:this.weights)}setWeights(e){Te(()=>{const n=this.weights;if(n.length!==e.length)throw new Be(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${n.length} weights. Provided weights: ${e}...`);if(n.length===0)return;const r=[],s=cL(n);for(let i=0;i<s.length;++i){const o=s[i],a=n[i],l=e[i];if(!Pn(o.shape,l.shape))throw new Be(`Layer weight shape ${o.shape} not compatible with provided weight shape ${l.shape}`);r.push([a,l])}B$(r)})}addWeight(e,n,r,s,i,o,a,l){if(this._addedWeightNames.indexOf(e)!==-1)throw new Be(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),r==null&&(r="float32"),this.fastWeightInitDuringBuild&&(s=l!=null?l():Jr("zeros"));const c=s.apply(n,r),u=new V$e(c,r,e,o,a);return c.dispose(),i!=null&&this.addLoss(()=>i.apply(u.read())),o==null&&(o=!0),o?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=pr(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,n){if(!this.supportsMasking){if(n!=null)if(Array.isArray(n))n.forEach(r=>{if(r!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return n}setMaskMetadata(e,n,r){if(!this.supportsMasking)return;const s=this.computeMask(e,r),i=pr(n),o=pr(s);if(i.length!==o.length)throw new Error(`${this.name} outputs ${i.length} tensors but ${i.length} masks for those tensors`);for(let a=0;a<i.length;a++)i[a].kerasMask=o[a]}addInboundNode(e,n,r,s,i,o,a=null){const l=pr(e);n=pr(n),r=pr(r),s=pr(s),i=$_(i),o=$_(o);const c=[],u=[],A=[];for(const d of l)c.push(d.sourceLayer),u.push(d.nodeIndex),A.push(d.tensorIndex);new ak({outboundLayer:this,inboundLayers:c,nodeIndices:u,tensorIndices:A,inputTensors:l,outputTensors:n,inputMasks:r,outputMasks:s,inputShapes:i,outputShapes:o},a);for(let d=0;d<n.length;d++)n[d].sourceLayer=this,n[d].nodeIndex=this.inboundNodes.length-1,n[d].tensorIndex=d}getConfig(){const e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function q$e(t){t=pr(t);const e=[];for(const n of t)e.push(n.shape);return Go(e)}function X$e(t){return"float32"}function Ene(t,e,n){if((e==null||n!=null&&n>0)&&(e=t.sourceLayer,n=t.nodeIndex),e.inboundNodes.length===0)return[t];{const r=e.inboundNodes[n];if(r.inboundLayers.length===0)return r.inputTensors;{const s=[];for(let i=0;i<r.inboundLayers.length;i++){const o=r.inputTensors[i],a=r.inboundLayers[i],l=r.nodeIndices[i],c=Ene(o,a,l);for(const u of c)s.indexOf(u)===-1&&s.push(u)}return s}}}function Y$e(t){let e=!0;for(const n of pr(t))if(!(n instanceof SA)){e=!1;break}return e}function Z$e(t){let e=!0;for(const n of pr(t))if(n instanceof SA){e=!1;break}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class P2 extends Rn{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:ik("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new Be("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=e.batchInputShape;if(n==null){if(e.inputShape==null)throw new Be("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new Be("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const r=e.dtype||"float32";this.batchInputShape=n,this.dtype=r,this.inputSpec=[{shape:n}];const s=new SA(this.dtype,this.batchInputShape,this,[],{},this.name);s.nodeIndex=0,s.tensorIndex=0,new ak({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[s],outputTensors:[s],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(e,n){throw new Be(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}P2.className="InputLayer";nt(P2);function J$e(t){if(t.batchShape==null&&t.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(t.batchShape!=null&&t.shape!=null)throw new Be("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let e=t.batchShape;t.shape!=null&&e==null&&(e=[null].concat(t.shape));let n=t.dtype;return n==null&&(n="float32"),new P2({batchInputShape:e,name:t.name,dtype:n,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function eUe(t,e){if(t.dtype==null||t.dtype===e.dtype)return e;try{return At(e,t.dtype)}catch{throw new Be(`The dtype of the feed (${e.dtype}) can not be cast to the dtype of the key '${t.name}' (${t.dtype}).`)}}class Oh{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof Oh)for(const n in e.id2Value)this.id2Value[n]=e.id2Value[n],n in e.id2Mask&&(this.id2Mask[n]=e.id2Mask[n]);else{if(e==null)return;for(const n of e)this.add(n.key,n.value)}}add(e,n,r){if(this.id2Value[e.id]==null)this.id2Value[e.id]=eUe(e,n),this.name2Id[e.name]=e.id,r!=null&&(this.id2Mask[e.id]=r);else throw new Be(`Duplicate key: name=${e.name}, id=${e.id}`);return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return this.id2Value[e.id]!=null}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof SA){if(this.id2Value[e.id]==null)throw new Be(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}else{const n=this.name2Id[e];if(n==null)throw new Be(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[n]}}getMask(e){if(e instanceof SA){if(this.id2Value[e.id]==null)throw new Be(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}else{const n=this.name2Id[e];if(n==null)throw new Be(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&Nn(this.id2Mask)}}const M_=new dne,Q_=new dne;function tUe(t){M_!=null&&M_.setMaxEntries(t),Q_!=null&&Q_.setMaxEntries(t)}function Kw(t,e,n,r){const s=n==null?!1:n.training,i=Array.isArray(t),o=i?t:[t],a=o.map(p=>p.name),l=[],c=e.names();for(const p of a)c.indexOf(p)!==-1?l.push(e.getValue(p)):l.push(null);const u=a.join(",")+"|"+e.names().sort().join(",");let A=M_.get(u),d;if(A==null){const p=nUe(o,e);A=p.sorted,d=p.recipientCounts,M_.put(u,A),Q_.put(u,d)}d={},s||Object.assign(d,Q_.get(u));const h=new Oh(e);for(let p=0;p<A.length;++p){const m=A[p],y=m.sourceLayer;if(y instanceof P2)continue;const g=[],v=[],b=[];let C=!1;for(const D of m.inputs){const j=h.getValue(D),O=h.getMask(D);g.push(j),v.push(O),O!=null&&(C=!0),s||(d[D.name]--,d[D.name]===0&&!e.hasKey(D)&&a.indexOf(D.name)===-1&&!j.isDisposed&&D.sourceLayer.stateful!==!0&&b.push(j))}C&&(n=n||{},n.mask=v[0]);const _=pr(y.apply(g,n));let I=null;y.supportsMasking&&(I=y.computeMask(g,v));const T=sUe(m),F=Array.isArray(T)?T:[T];for(let D=0;D<F.length;++D){h.hasKey(F[D])||h.add(F[D],_[D],Array.isArray(I)?I[0]:I);const j=a.indexOf(F[D].name);j!==-1&&(l[j]=_[D])}s||Nn(b)}return h.disposeMasks(),i?l:l[0]}function nUe(t,e){ee(t!=null&&t.length>0,()=>"Expected at least one fetch, got none");let n=[],r={};if(t.length===1){const s=sz(t[0],e);n=s.sorted,r=s.recipientMap}else{const s=new Set;for(const i of t){const{sorted:o,recipientMap:a}=sz(i,e);for(const l of o)s.has(l.name)||(n.push(l),s.add(l.name));for(const l in a)r[l]==null&&(r[l]=new Set),a[l].forEach(c=>r[l].add(c))}}return{sorted:n,recipientCounts:rUe(r)}}function rUe(t){const e={};for(const n in t)e[n]=t[n].size;return e}function sz(t,e){const n=new Set,r=[],s={};for(const a of e.names())n.add(a);const i=[],o=[];for(i.push(t);i.length>0;){const a=i[i.length-1];if(n.has(a.name)){i.pop();continue}const l=o[o.length-1]===i.length-1;if(a.inputs.length===0||l)i.pop(),r.push(a),n.add(a.name),l&&o.pop();else{o.push(i.length-1);for(const c of a.inputs)s[c.name]==null&&(s[c.name]=new Set),s[c.name].add(a.name),!n.has(c.name)&&i.push(c)}}return{sorted:r,recipientMap:s}}function sUe(t){let e;if(t.sourceLayer.inboundNodes.length===1)e=t.sourceLayer.output;else{let n=null;for(let r=0;r<t.sourceLayer.inboundNodes.length;++r)for(const s of t.sourceLayer.inboundNodes[r].outputTensors)if(s.id===t.id){n=r;break}e=t.sourceLayer.getOutputAt(n)}return e}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iUe=Le();iUe.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,tUe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function _$(t,e){return Te(()=>xi(Lt(xe(t,t),e,!0)))}class O2 extends Xm{getConfig(){return{}}}class kne extends O2{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Te(()=>{const n=_$(e,this.axis),r=na(n,0,this.maxValue);return xe(e,jt(r,Je(ei(),n)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}kne.className="MaxNorm";nt(kne);class Tne extends O2{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Te(()=>jt(e,Je(ei(),_$(e,this.axis))))}getConfig(){return{axis:this.axis}}}Tne.className="UnitNorm";nt(Tne);class Fne extends O2{apply(e){return Bu(e)}}Fne.className="NonNeg";nt(Fne);class Lne extends O2{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Te(()=>{const n=_$(e,this.axis),r=Je(xe(this.rate,na(n,this.minValue,this.maxValue)),xe(1-this.rate,n));return xe(e,jt(r,Je(ei(),n)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}Lne.className="MinMaxNorm";nt(Lne);const iz={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function ri(t){return p$(t)}function oz(t,e={}){return F2(t,ll.getMap().classNameMap,e,"constraint")}function si(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in iz?iz[t]:t,config:{}};return oz(n)}else return t instanceof O2?t:oz(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function Ap(t){if(t==null)return;const e=[],n=[],r=[];for(const s in t){const i=t[s];if(typeof i!="number"){const o=i;e.push(o.data()),n.push(s),r.push(o)}}if(e.length>0){const s=await Promise.all(e);for(let i=0;i<s.length;++i)t[n[i]]=s[i][0];Nn(r)}}function Dne(t){if(t!=null)for(const e in t){const n=t[e];typeof n!="number"&&n.dispose()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var az;(function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"})(az||(az={}));const oUe=125;class Sx{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,n){}async onEpochEnd(e,n){}async onBatchBegin(e,n){}async onBatchEnd(e,n){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class aUe{constructor(e,n=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=n}append(e){this.callbacks.push(e)}setParams(e){for(const n of this.callbacks)n.setParams(e)}setModel(e){for(const n of this.callbacks)n.setModel(e)}async onEpochBegin(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochBegin(e,n)}async onEpochEnd(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochEnd(e,n)}async onBatchBegin(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchBegin(e,n)}async onBatchEnd(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchEnd(e,n)}async onTrainBegin(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainBegin(e)}async onTrainEnd(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainEnd(e)}}class lUe extends Sx{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,n){n==null&&(n={});const r=n.size==null?0:n.size;this.seen+=r;for(const s in n){const i=n[s];if(typeof i=="number")this.totals.hasOwnProperty(s)||(this.totals[s]=0),this.totals[s]=this.totals[s]+i*r;else{let o;s in this.totals?o=this.totals[s]:this.totals[s]=0;const a=Te(()=>Je(this.totals[s],xe(i,r)));this.totals[s]=a,o!=null&&o.dispose()}}}async onEpochEnd(e,n){if(n!=null)for(const r of this.params.metrics)this.totals[r]!=null&&(typeof this.totals[r]=="number"?n[r]=this.totals[r]/this.seen:Te(()=>{const s=xe(jt(1,this.seen),this.totals[r]);n[r]=s,this.totals[r].dispose(),Js(n[r])}))}}class cUe extends Sx{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,n){n==null&&(n={}),this.epoch.push(e);for(const r in n)this.history[r]==null&&(this.history[r]=[]),this.history[r].push(n[r])}async syncData(){const e=[],n=[],r=[];for(const i in this.history){const o=this.history[i];for(let a=0;a<o.length;++a)if(typeof o[a]!="number"){const l=o[a];e.push(l.data()),n.push(i),r.push(a)}}const s=await Promise.all(e);for(let i=0;i<s.length;++i)this.history[n[i]][r[i]].dispose(),this.history[n[i]][r[i]]=s[i][0]}}class uUe extends Sx{constructor(e,n){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||KO,this.yieldEvery=n||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=oUe),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");I_(this.yieldEvery)&&(this.maybeWait=C$e(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,n,r){const s=[];this.yield!=null&&(await Ap(r),s.push(this.yield(e,n,r))),s.push(this.nextFrameFunc()),await Promise.all(s)}async onEpochBegin(e,n){this.currentEpoch=e,this.epochBegin!=null&&(await Ap(n),await this.epochBegin(e,n))}async onEpochEnd(e,n){const r=[];this.epochEnd!=null&&(await Ap(n),r.push(this.epochEnd(e,n))),this.yieldEvery==="epoch"&&r.push(this.nextFrameFunc()),await Promise.all(r)}async onBatchBegin(e,n){this.batchBegin!=null&&(await Ap(n),await this.batchBegin(e,n))}async onBatchEnd(e,n){const r=[];this.batchEnd!=null&&(await Ap(n),r.push(this.batchEnd(e,n))),this.yieldEvery==="batch"?r.push(this.nextFrameFunc()):I_(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,e,n)),await Promise.all(r)}async onTrainBegin(e){this.trainBegin!=null&&(await Ap(e),await this.trainBegin(e))}async onTrainEnd(e){this.trainEnd!=null&&(await Ap(e),await this.trainEnd(e))}}function Rne(t,e){return t==null&&(t={}),t instanceof Sx?[t]:Array.isArray(t)&&t[0]instanceof Sx?t:pr(t).map(r=>new uUe(r,e))}class jl{constructor(){}static registerCallbackConstructor(e,n){ee(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),jl.checkForDuplicate(n),jl.constructors[e]==null&&(jl.constructors[e]=[]),jl.constructors[e].push(n)}static checkForDuplicate(e){for(const n in jl.constructors)jl.constructors[+n].forEach(s=>{if(s===e)throw new Be("Duplicate callback constructor.")})}static clear(){jl.constructors={}}static createCallbacks(e){const n=[];for(const r in jl.constructors){const s=+r;e>=s&&n.push(...jl.constructors[s])}return n.map(r=>new r)}}jl.constructors={};function Pne(t,e,n,r,s,i,o,a,l){const c=new cUe,u=[new lUe,...jl.createCallbacks(e)];t!=null&&u.push(...t),u.push(c);const A=new aUe(u);return A.setParams({epochs:n,initialEpoch:r,samples:s,steps:i,batchSize:o,verbose:e,doValidation:a,metrics:l}),{callbackList:A,history:c}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function ud(t,e={},n=!1){return F2(t,ll.getMap().classNameMap,e,"layer",n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function j_(t,e){return Te(()=>{t.dtype!=="float32"&&(t=At(t,"float32"));const n=Lt(D2(t),e,!0),r=Wm(n.shape,ei()),s=xi(TA(n,r));return jt(t,s)})}function lk(t,e){return Te(()=>os(D2(Ct(e,t)),-1))}function N$(t,e){return Te(()=>os(Ms(Ct(e,t)),-1))}function I$(t,e){return Te(()=>{const n=Ct(t,e),r=na(Ms(t),ei(),Number.MAX_VALUE),s=Ms(jt(n,r));return xe(100,os(s,-1))})}function AUe(t,e){return Te(()=>{const n=na(e,ei(),Number.MAX_VALUE),r=Ra(Je(1,n)),s=na(t,ei(),Number.MAX_VALUE),i=Ra(Je(1,s));return os(D2(Ct(r,i)),-1)})}function dUe(t,e){return Te(()=>{const n=TA(0,Ct(1,xe(t,e)));return os(D2(n),-1)})}function hUe(t,e){return Te(()=>{const n=TA(0,Ct(1,xe(t,e)));return os(n,-1)})}function fUe(t,e){return Te(()=>{const n=Lt(xe(t,e),-1),r=gl(xe(Ct(1,t),e),-1);return TA(0,Je(1,Ct(r,n)))})}function pUe(t,e){return Te(()=>{const n=Math.log(2),r=Ct(e,t),s=Ct(Je(r,Gm(xe(-2,r))),n);return os(s,-1)})}function Bx(t,e,n=!1){return Te(()=>{if(n)e=_2(e);else{const r=Lt(e,e.shape.length-1,!0);e=jt(e,r)}return e=na(e,ei(),1-ei()),Pr(Lt(xe(At(t,"float32"),Ra(e)),e.shape.length-1))})}function H_(t,e,n=!1){return Te(()=>{const r=At(F1(R$e(t)),"int32");e=na(e,ei(),1-ei());const s=e.shape,i=Se(oy(r,s[s.length-1]),s);return Bx(i,e,n)})}function mUe(t,e){if(!Pn(t.shape,e.shape))throw new Be(`logits and labels must have the same shape, but got shapes ${JSON.stringify(t.shape)} and ${JSON.stringify(e.shape)}`);return Te(()=>{const n=Bu(e),r=Pr(Ms(e));return Je(Ct(n,xe(e,t)),g2(ra(r)))})}function ck(t,e){return Te(()=>{let n;return n=na(e,ei(),1-ei()),n=Ra(jt(n,Ct(1,n))),os(mUe(t,n),-1)})}function gUe(t,e){return Te(()=>{const n=na(t,ei(),1),r=na(e,ei(),1);return Lt(xe(t,Ra(jt(n,r))),-1)})}function yUe(t,e){return Te(()=>{const n=Ra(Je(ei(),e));return os(Ct(e,xe(t,n)),-1)})}function One(t,e){return Te(()=>{const n=j_(t,-1),r=j_(e,-1),s=xe(n,r);return Pr(Lt(s,-1))})}const z_={meanSquaredError:lk,meanAbsoluteError:N$,meanAbsolutePercentageError:I$,meanSquaredLogarithmicError:AUe,squaredHinge:dUe,hinge:hUe,categoricalHinge:fUe,logcosh:pUe,categoricalCrossentropy:Bx,sparseCategoricalCrossentropy:H_,binaryCrossentropy:ck,kullbackLeiblerDivergence:gUe,poisson:yUe,cosineProximity:One};function K5(t){if(typeof t=="string"){if(t in z_)return z_[t];let e=`Unknown loss ${t}`;throw t.toLowerCase().includes("softmaxcrossentropy")&&(e=`Unknown loss ${t}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new Be(e)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function $ne(t,e){return Te(()=>{const n=xe(.5,Pa(e)),r=pA(ca(e,n),t.dtype);return os(Ac(t,r),-1)})}function Une(t,e){return Te(()=>pA(Ac(bm(t,-1),bm(e,-1)),"float32"))}function wUe(t,e){return Te(()=>At(Lt(fu(Ac(t,1),Ac(e,1))),"float32"))}function vUe(t,e){return Te(()=>At(Lt(fu(Ac(t,0),Ac(e,1))),"float32"))}function xUe(t,e){return Te(()=>{const n=wUe(t,e),r=vUe(t,e),s=Je(n,r);return At(Fi(ca(s,0),jt(n,s),0),"float32")})}function bUe(t,e){return ck(t,e)}function CUe(t,e){return t.rank===e.rank&&(t=$f(t,[t.rank-1])),e=bm(e,-1),e.dtype!==t.dtype&&(e=At(e,t.dtype)),At(Ac(t,e),"float32")}const SUe=lk,BUe=lk,_Ue=N$,NUe=N$,IUe=I$,EUe=I$,Mne=Bx,kUe=One,Qne=H_,V_={binaryAccuracy:$ne,categoricalAccuracy:Une,precision:xUe,categoricalCrossentropy:Mne,sparseCategoricalCrossentropy:Qne,mse:SUe,MSE:BUe,mae:_Ue,MAE:NUe,mape:IUe,MAPE:EUe,cosine:kUe};function TUe(t){if(typeof t=="string"&&t in V_)return V_[t];if(typeof t!="string"&&t!=null)return t;throw new Be(`Unknown metric ${t}`)}function BS(t){if(Gu(t!==null,`Unknown LossOrMetricFn ${t}`),typeof t=="string")return t;{let e;for(const n of Object.keys(z_))if(z_[n]===t){e=n;break}if(e!==void 0)return e;for(const n of Object.keys(V_))if(V_[n]===t){e=n;break}return e!==void 0?e:t.name}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function FUe(t){const e={Adagrad:()=>wp.adagrad(.01),Adadelta:()=>wp.adadelta(1,.95,ei()),Adam:()=>wp.adam(.001,.9,.999,ei()),Adamax:()=>wp.adamax(.002,.9,.999,ei(),0),RMSProp:()=>wp.rmsprop(.001,.9,0,ei()),SGD:()=>wp.sgd(.01)};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new Be(`Unknown Optimizer ${t}`)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const lz=1*1024*1024;function cz(t,e,n=!1){if(t==null||typeof t!="object"||Object.getPrototypeOf(t)!==Object.prototype||!uL(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const r=JSON.stringify(t);r.length>lz&&console.warn(`User-defined metadata of model "${e}" is too large in size (length=${r.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${lz}.`)}}function uL(t){if(t===null)return!0;if(typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);for(const n of e)if(typeof n!="string"||!uL(t[n]))return!1;return!0}else if(Array.isArray(t)){for(const e of t)if(!uL(e))return!1;return!0}else return!1;else{const e=typeof t;return e==="string"||e==="number"||e==="boolean"}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function LUe(t,e,n,r=console.log){const s=RUe(t),i=["Layer (type)","Input Shape","Output shape","Param #"];s?(e=e||90,n=n||[.32,.61,.89,1]):(e=e||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(u=>Math.floor(e*u)));let o;if(!s){i.push("Receives inputs"),o=[];for(const u in t.nodesByDepth)o.push(...t.nodesByDepth[u])}r("_".repeat(e)),W_(i,n,r),r("=".repeat(e));const a=t.layers;for(let u=0;u<a.length;++u)s?PUe(a[u],n,r):OUe(a[u],n,o,r),r((u===a.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();const l=DUe(t),c=U_(t.nonTrainableWeights);r(`Total params: ${l+c}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${c}`),r("_".repeat(e))}function DUe(t){let e;return t.collectedTrainableWeights!=null?e=U_(t.collectedTrainableWeights):e=U_(t.trainableWeights),e}function RUe(t){let e=!0;const n=[],r=[];for(const s in t.nodesByDepth)n.push(t.nodesByDepth[s]);for(const s of n){if(s.length>1||s.length===1&&s[0].inboundLayers.length>1){e=!1;break}r.push(...s)}if(e)for(const s of t.layers){let i=!1;for(const o of s.inboundNodes)if(r.indexOf(o)!==-1)if(i){e=!1;break}else i=!0;if(!e)break}return e}function W_(t,e,n=console.log){let r="";for(let s=0;s<t.length;++s)s>0&&(r=r.slice(0,r.length-1)+" "),r+=t[s],r=r.slice(0,e[s]),r+=" ".repeat(e[s]-r.length);n(r)}function PUe(t,e,n){let r,s;try{s=t.inboundNodes.map(l=>JSON.stringify(l.inputShapes)).join(",")}catch{s="multiple"}try{r=JSON.stringify(t.outputShape)}catch{r="multiple"}const i=t.name,o=t.getClassName(),a=[`${i} (${o})`,s,r,t.countParams().toString()];W_(a,e,n)}function OUe(t,e,n,r){let s,i;try{i=t.inboundNodes.map(A=>JSON.stringify(A.inputShapes)).join(",")}catch{i="multiple"}try{s=JSON.stringify(t.outputShape)}catch{s="multiple"}const o=[];for(const A of t.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(A)===-1))for(let d=0;d<A.inboundLayers.length;++d){const h=A.inboundLayers[d].name,p=A.nodeIndices[d],m=A.tensorIndices[d];o.push(`${h}[${p}][${m}]`)}const a=t.name,l=t.getClassName(),c=o.length===0?"":o[0],u=[`${a} (${l})`,i,s,t.countParams().toString(),c];W_(u,e,r);for(let A=1;A<o.length;++A)W_(["","","","",o[A]],e,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function jne(t,e,n){return(t==="inboundNodes"||t==="outputLayers"||t==="inputLayers")&&e===0&&typeof n=="string"}function AL(t,e){if(t===null)return null;if(typeof t=="string")return Bp(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],r=t.length;for(let s=0;s<r;++s){const i=t[s];jne(e,s,i)?n.push(i):n.push(AL(i,e))}return n}else{const n={};for(const r of Object.keys(t)){const s=t[r];if(r==="name"&&typeof s=="string")n[r]=s;else{const i=Bp(r);n[i]=AL(s,i)}}return n}}function dL(t,e){if(t==null)return null;if(typeof t=="string")return ed(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],r=t.length;for(let s=0;s<r;++s){const i=t[s];jne(e,s,i)?n.push(i):n.push(dL(i,e))}return n}else{const n={};for(const r of Object.keys(t)){const s=t[r],i=ed(r);(r==="name"||r==="className")&&typeof s=="string"?n[i]=s:n[i]=dL(s,r)}return n}}/** @license See the LICENSE file. */const Hne="4.22.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const $Ue=t=>{const e=Object.keys(t);if(e.length===0)return!1;const n=e[0].split("/");return!isNaN(parseInt(n[n.length-1],10))};class Vc extends Rn{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,this.name==null){const v=this.getClassName().toLowerCase();this.name=ik(v)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],tf(this.inputs).length!==this.inputs.length)throw new Be(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(v=>v.name)}`);tf(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(v=>v.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const v of this.outputs){const b=v.sourceLayer,C=v.nodeIndex,_=v.tensorIndex;this.outputLayers.push(b),this.outputLayersNodeIndices.push(C),this.outputLayersTensorIndices.push(_)}for(const v of this.inputs){const b=v.sourceLayer,C=v.nodeIndex,_=v.tensorIndex;Gu(C===0,"input layer has >1 nodes"),Gu(_===0,"input layer has >1 tensors"),this.inputLayers.push(b),this.inputLayersNodeIndices.push(C),this.inputLayersTensorIndices.push(_)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let v=0;v<this.inputLayers.length;v++){const b=this.inputLayers[v];if(!(b instanceof P2))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${v} (0-based) originates from layer type ${b.getClassName()}.`);this.inputNames.push(b.name),this.feedInputShapes.push(b.batchInputShape),this.feedInputNames.push(b.name)}for(const v of this.outputLayers)this.outputNames.push(v.name);this.internalInputShapes=this.inputs.map(v=>v.shape),this.internalOutputShapes=this.outputs.map(v=>v.shape);const n={},r={},s={},i={},o={},a=[],l=(v,b,C,_,I,T)=>{(_==null||I==null||T==null)&&(_=v.sourceLayer,I=v.nodeIndex,T=v.tensorIndex);const F=_.inboundNodes[I];if(C.indexOf(F)!==-1)throw new nc(`The tensor ${v.name} at layer "${_.name}" is part of a cycle.`);if(b.indexOf(F)!==-1)return;this.containerNodes.add(Vc.nodeKey(_,I)),_.id in o||(o[_.id]=Object.keys(o).length),C.indexOf(F)===-1&&C.push(F);const D=F.inboundLayers.length;for(let j=0;j<D;j++){const O=F.inputTensors[j],U=F.inboundLayers[j],W=F.nodeIndices[j],$=F.tensorIndices[j];l(O,b,C,U,W,$)}for(b.push(F);C.indexOf(F)>=0;)C.splice(C.indexOf(F),1);a.push(F)},c=[],u=[];for(const v of this.outputs)l(v,c,u);const A=a.slice().reverse();for(const v of A){r[v.id]=v,v.id in n||(n[v.id]=0);let b=n[v.id];const C=s[v.outboundLayer.id]==null?0:s[v.outboundLayer.id];b=Math.max(b,C),s[v.outboundLayer.id]=b,i[v.outboundLayer.id]=v.outboundLayer,n[v.id]=b;for(let _=0;_<v.inboundLayers.length;_++){const I=v.inboundLayers[_],T=v.nodeIndices[_],F=I.inboundNodes[T],D=n[F.id]==null?0:n[F.id];n[F.id]=Math.max(b+1,D),r[F.id]=F}}const d={};for(const v in n){const b=n[v];b in d||(d[b]=[]),d[b].push(r[v])}const h={};for(const v in s){const b=s[v];b in h||(h[b]=[]),h[b].push(i[v])}let p=Object.keys(h).map(v=>parseInt(v,10)).sort(bS);this.layers=[];for(const v of p){const b=h[v];b.sort((C,_)=>{const I=o[C.id],T=o[_.id];return I<T?-1:I>T?1:0});for(const C of b)C instanceof Vc&&this.internalContainerRefs.push(C),this.layers.push(C)}this.layersByDepth=h,p=Object.keys(d).map(v=>parseInt(v,10)).sort(bS);const m=this.inputs.slice(),y=[];for(const v of p)for(const b of d[v]){const C=b.outboundLayer;if(C!=null){for(const _ of b.inputTensors)if(m.indexOf(_)===-1)throw new nc(`Graph disconnected: cannot obtain value for tensor ${_} at layer "${C.name}". The following previous layers were accessed without issue: ${y}`);for(const _ of b.outputTensors)m.push(_);y.push(C.name)}}this.nodesByDepth=d;const g=this.layers.map(v=>v.name);for(const v of g){const b=g.filter(C=>C===v).length;if(b!==1)throw new nc(`The name "${v}" is used ${b} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new ak({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(v=>null),outputMasks:this.outputs.map(v=>null),inputShapes:this.inputs.map(v=>v.shape),outputShapes:this.outputs.map(v=>v.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const n of this.layers)e.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)e.numDisposedVariables+=n.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(n=>{n._trainableWeights.forEach(r=>r.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new Be("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const n of this.layers)e=e.concat(n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.layers)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.layers)n.push(...r.trainableWeights);return n.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,n=!0){const r={};let s=0;const i=$Ue(e);i&&this.parseWeights(e);for(const a of this.layers)for(const[l,c]of a.weights.entries()){const u=i?`${c.name.split("/").slice(0,-1).join("/")+"/"}${l}`:c.originalName;if(r[u]!=null)throw new Be(`Duplicate weight name: ${u}`);r[u]=c,s++}const o=[];for(const a in e){let l=a;if(r[a]==null){const c=a.split("/");l=c.slice(0,-2).concat([c[c.length-1]]).join("/")}if(r[l]!=null)o.push([r[l],e[a]]);else if(n)throw new Be(`Provided weight data has no target variable: ${a}`);delete r[l]}if(n){const a=[];for(const l in r)a.push(l);if(a.length>0)throw new Be(`${a.length} of ${s} weights are not set: ${a}`)}B$(o)}parseWeights(e){for(const n in Object.keys(e)){const r=n.split("/"),s=["vars","layer_checkpoint_dependencies"],i=r.map(o=>o.startsWith("_")?o.slice(1):o).filter(o=>!s.includes(o)).join("/");i!==n&&(e[i]=e[n],delete e[n])}}updatedConfig(){const e=this.getConfig(),n={};return n.className=this.getClassName(),n.config=e,n.kerasVersion=`tfjs-layers ${Hne}`,n.backend="TensorFlow.js",n}toJSON(e,n=!0){const r=dL(this.updatedConfig());return n?JSON.stringify(r):r}call(e,n){return Te(()=>{e=pr(e);const r=new Oh;for(let s=0;s<this.inputs.length;++s)r.add(this.inputs[s],e[s]);return Kw(this.outputs,r,n)})}computeMask(e,n){return Te(()=>{e=pr(e);let r;return n==null?r=Im(null,e.length):r=pr(n),this.runInternalGraph(e,r)[1]})}computeOutputShape(e){const n=$_(e);if(n.length!==this.inputLayers.length)throw new Be(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const r={};for(let a=0;a<n.length;a++){const l=this.inputLayers[a],c=n[a],u=l.name+"_0_0";r[u]=c}const s=Object.keys(this.nodesByDepth).map(a=>parseInt(a,10)).sort(bS);if(s.length>1)for(const a of s){const l=this.nodesByDepth[a];for(const c of l){const u=c.outboundLayer;if(this.inputLayers.map(m=>m.id).indexOf(u.id)!==-1)continue;const A=[];for(let m=0;m<c.inboundLayers.length;m++){const y=c.inboundLayers[m],g=c.nodeIndices[m],v=c.tensorIndices[m],b=`${y.name}_${g}_${v}`,C=r[b];A.push(C)}const d=u.computeOutputShape(Go(A)),h=$_(d),p=u.inboundNodes.indexOf(c);for(let m=0;m<h.length;m++){const y=`${u.name}_${p}_${m}`;r[y]=h[m]}}}const i=[],o=[];for(let a=0;a<this.outputLayers.length;a++){const l=this.outputLayers[a],c=this.outputLayersNodeIndices[a],u=this.outputLayersTensorIndices[a],A=`${l.name}_${c}_${u}`;o.push(A)}for(let a=0;a<o.length;a++){const l=o[a];Gu(l in r),i.push(r[l])}return Go(i)}runInternalGraph(e,n){n==null&&(n=Im(null,e.length));const r={};for(let l=0;l<this.inputs.length;++l){const c=this.inputs[l],u=e[l],A=n[l];r[c.id]=[u,A]}const s=Object.keys(this.nodesByDepth).map(l=>parseInt(l,10)).sort(bS);for(const l of s){const c=this.nodesByDepth[l];for(const u of c){const A=u.outboundLayer,d=u.inputTensors,h=u.outputTensors,p=new Array;for(const m of d)m.id in r&&p.push(r[m.id]);if(p.length===d.length){let m={},y,g,v,b;if(u.callArgs!=null&&(m=u.callArgs),p.length===1){const[C,_]=p[0];m.mask==null&&(m.mask=_),v=pr(A.call(C,m)),b=pr(A.computeMask(C,_)),y=[C],g=[_]}else y=p.map(C=>C[0]),g=p.map(C=>C[1]),m.mask==null&&(m.mask=g),v=pr(A.call(y,m)),b=pr(A.computeMask(y,g));if(A.activityRegularizer)throw new xn("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let C=0;C<h.length;++C){const _=h[C],I=v[C],T=b[C];r[_.id]=[I,T]}}}}const i=[],o=[],a=[];for(const l of this.outputs){Gu(l.id in r,`Could not compute output ${l.name} : ${l.id}`);const[c,u]=r[l.id];a.push(c.shape),i.push(c),o.push(u)}return[i,o,a]}buildNodeConversionMap(e){const n={};let r;for(const s of this.layers){r=s instanceof Vc?1:0;for(let i=0;i<s.inboundNodes.length;i++){const o=Vc.nodeKey(s,i);this.containerNodes.has(o)&&(n[o]=r,r+=1)}}return n}getLayer(e,n){if(n!=null)return this.findLayer(n);if(e==null)throw new Be("Provide either a layer name or layer index");if(typeof e=="number")return this.findLayer(e);for(const r of this.layers)if(r.name===e)return r;throw new Be(`No such layer: ${e}`)}findLayer(e){if(this.layers.length<=e)throw new Be(`Was asked to retrieve layer at index ${e}, but model only has ${this.layers.length} layer(s).`);return this.layers[e]}calculateLosses(){return Te(()=>{const e=[];for(const n of this.layers)for(let r=0;r<n.inboundNodes.length;++r){const s=Vc.nodeKey(n,r);this.containerNodes.has(s)&&e.push(...n.calculateLosses())}return e})}getConfig(){const e={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[];for(const o of this.layers){const a=o.getClassName(),l=o.getConfig(),c=[];for(let A=0;A<o.inboundNodes.length;A++){const d=o.inboundNodes[A],h=Vc.nodeKey(o,A);let p={};if(this.containerNodes.has(h)){if(d.callArgs)try{JSON.stringify(d.callArgs),p=d.callArgs}catch{console.warn(`Layer ${o.name} was passed non-serializable keyword arguments: ${d.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),p={}}if(d.inboundLayers.length>0){const m=[];for(let y=0;y<d.inboundLayers.length;y++){const g=d.inboundLayers[y],v=d.nodeIndices[y],b=d.tensorIndices[y],C=Vc.nodeKey(g,v);let _=n[C];_==null&&(_=0),m.push([g.name,_,b,p])}c.push(m)}}}const u={};u.name=o.name,u.className=a,u.config=l,u.inboundNodes=c,r.push(u)}e.layers=r;const s=[];for(let o=0;o<this.inputLayers.length;o++){const a=this.inputLayers[o],l=this.inputLayersNodeIndices[o],c=Vc.nodeKey(a,l);if(!this.containerNodes.has(c))continue;let u=n[c];u==null&&(u=0);const A=this.inputLayersTensorIndices[o];s.push([a.name,u,A])}e.inputLayers=s;const i=[];for(let o=0;o<this.outputLayers.length;o++){const a=this.outputLayers[o],l=this.outputLayersNodeIndices[o],c=Vc.nodeKey(a,l);if(!this.containerNodes.has(c))continue;let u=n[c];u==null&&(u=0);const A=this.outputLayersTensorIndices[o];i.push([a.name,u,A])}return e.outputLayers=i,e}static fromConfig(e,n,r={},s=!1){const i={},o={};function a(y,g){y.name in o?o[y.name].push(g):o[y.name]=[g]}function l(y,g){const v=[];let b;for(const C of g){const _=C[0],I=C[1],T=C[2];if(b=C[3]==null?{}:C[3],!(_ in i)){a(y,g);return}const F=i[_];if(F.inboundNodes.length<=I){a(y,g);return}const D=F.inboundNodes[I];v.push(D.outputTensors[T])}v.length>0&&y.apply(Go(v),b)}function c(y){const g=y.name,v=ud(y,n.customObjects!=null?n.customObjects:{});v.setFastWeightInitDuringBuild(s),i[g]=v,y.inboundNodes.forEach(C=>{if(!(C instanceof Array))throw new Be(`Corrupted configuration, expected array for nodeData: ${C}`);a(v,C)})}const u=n.name,A=n.layers;for(const y of A)c(y);for(;!b$e(o);)for(const y of A){const g=i[y.name];if(g.name in o){const v=o[g.name];delete o[g.name];for(const b of v)l(g,b)}}const d=[],h=[],p=n.inputLayers;for(const y of p){const g=y[0],v=y[1],b=y[2];Gu(g in i);const _=i[g].inboundNodes[v].outputTensors;d.push(_[b])}const m=n.outputLayers;for(const y of m){const g=y[0],v=y[1],b=y[2];Gu(g in i);const _=i[g].inboundNodes[v].outputTensors;h.push(_[b])}return new e({inputs:d,outputs:h,name:u})}get stateful(){if(this._stateful)throw new Be("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){Te(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function UUe(t,e,n){const r=e.length;if(t==null||Array.isArray(t)&&t.length===0)return e.map(s=>null);if(r===1)return Array.isArray(t)&&t.length===1?t:typeof t=="object"&&e[0]in t?[t[e[0]]]:[t];if(Array.isArray(t)){if(t.length!==r)throw new Error(`Provided ${n} is an array of ${t.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return t}else if(typeof t=="object"&&Object.keys(t).length>0&&typeof t[Object.keys(t)[0]]=="object"){const s=[];return e.forEach(i=>{i in t?s.push(t[i]):s.push(null)}),s}else throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${e} keys. Provided ${n} not understood: ${JSON.stringify(t)}`)}function zne(t,e){return UUe(t,e,"classWeight")}async function Vne(t,e,n,r){if(n!=null){const s=Te(()=>{if(t.shape.length===1)return hA(t);if(t.shape.length===2){if(t.shape[1]>1)return bm(t,1);if(t.shape[1]===1)return Se(t,[t.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${t.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${t.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),i=Array.from(await s.data());Nn(s);const o=[];return i.forEach(a=>{if(n[a]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${a} exists in the data but not in classWeight`);o.push(n[a])}),Zi(o,"float32")}else return null}function MUe(t,e){return xe(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const QUe=32;function Wne(t,e){let n,r;const s=e;n=s.xs,r=s.ys,ee(n!=null&&r!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${e}`);const i=uz("input",t.inputNames,n),o=uz("output",t.outputNames,r),a=i[0].shape[0];ee(i.length===t.inputs.length,()=>`LayersModel has ${t.inputs.length} inputs, but the dataset provides ${i.length} inputs.  (Expected input keys: ${JSON.stringify(t.inputNames)})`),ee(o.length===t.outputs.length,()=>`LayersModel has ${t.outputs.length} outputs, but the dataset provides ${o.length} outputs.  (Expected output keys: ${JSON.stringify(t.outputNames)})`);for(let l=0;l<i.length;l++)ee(i[l].shape[0]===a,()=>`Batch size mismatch: input ${t.inputNames[l]} has ${i[l].shape[0]}; expected  ${a} based on input ${t.inputNames[0]}.`);for(let l=0;l<o.length;l++)ee(o[l].shape[0]===a,()=>`Batch size mismatch: output ${t.outputNames[l]} has ${o[l].shape[0]}; expected  ${a} based on input ${t.inputNames[0]}.`);return{xs:i,ys:o}}function uz(t,e,n){if(n instanceof lr)return[n];if(Array.isArray(n))return ee(n.length===e.length,()=>`Received an array of ${n.length} Tensors, but expected ${e.length} to match the ${t} keys ${e}.`),n;{const r=[];for(const s of e){if(n[s]==null)throw new Be(`The feature data generated by the dataset lacks the required ${t} key '${s}'.`);r.push(n[s])}return r}}function jUe(t){if(t.length===3)throw new xn("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}async function HUe(t,e,n){const r=n.batchesPerEpoch!=null;if(ee(t.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),ee(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),ee(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`),ee(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`),ee(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;try{const s=n.validationData!=null;let i,o;if(s)if(Az(n.validationData))ee(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`);else{const y=jUe(n.validationData);i=y.xs,o=y.ys}const a=t.makeTrainFunction(),l=t.getDedupedMetricsNames();let c;s?c=l.slice().concat(l.map(y=>"val_"+y)):c=l.slice();const u=Rne(n.callbacks,n.yieldEvery),A=n.verbose==null?1:n.verbose,{callbackList:d,history:h}=Pne(u,A,n.epochs,null,null,zUe(e,n),null,s,c);d.setModel(t),t.history=h,await d.onTrainBegin(),t.stopTraining_=!1;let p=n.initialEpoch==null?0:n.initialEpoch,m=await e.iterator();for(;p<n.epochs;){const y={};await d.onEpochBegin(p);let g=0,v=0;for(r||(m=await e.iterator());!r||g<n.batchesPerEpoch;){const b=await m.next();if(r&&b.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${g} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${n.batchesPerEpoch*n.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(b.value!=null){const{xs:C,ys:_}=Wne(t,b.value),I={};I.batch=v,I.size=C[0].shape[0],await d.onBatchBegin(v,I);const T=[];if(n.classWeight!=null){const j=zne(n.classWeight,t.outputNames);for(let O=0;O<j.length;++O)T.push(await Vne(_[O],null,j[O]))}const F=C.concat(_).concat(T),D=a(F);Nn(F);for(let j=0;j<l.length;++j){const O=l[j],U=D[j];I[O]=U,Js(U)}await d.onBatchEnd(v,I),Dne(I),v++,g++}if(r?g>=n.batchesPerEpoch:b.done){if(s){let C;Az(n.validationData)?C=pr(await t.evaluateDataset(n.validationData,{batches:n.validationBatches})):C=pr(t.evaluate(i,o,{batchSize:n.validationBatchSize==null?QUe:n.validationBatchSize,verbose:0}));for(let _=0;_<t.metricsNames.length;++_)y[`val_${t.metricsNames[_]}`]=C[_]}break}if(t.stopTraining_)break}if(await d.onEpochEnd(p,y),p++,t.stopTraining_)break}return await d.onTrainEnd(),await t.history.syncData(),t.history}finally{t.isTraining=!1}}function zUe(t,e){let n=null;return e.batchesPerEpoch!=null?n=e.batchesPerEpoch:Number.isFinite(t.size)&&(n=t.size),n}function Az(t){return typeof t.iterator=="function"}function VUe(t){return typeof t.next=="function"}async function WUe(t,e,n){n=n||{};const r=n.batches!=null,s=t.testFunction;let i=[];if(n.verbose>0)throw new xn("Verbose mode is not implemented yet.");ee(!r||n.batches>0&&Number.isInteger(n.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`);const o=VUe(e)?e:await e.iterator();let a=0,l=0;for(;!r||l<n.batches;){const c=await o.next();if(i=Te(()=>{if(c.value){const{xs:u,ys:A}=Wne(t,c.value),d=u.concat(A),h=Te(()=>s(d));if(Nn(d),l===0)for(let m=0;m<h.length;++m)i.push(Xt(0));const p=d[0].shape[0];for(let m=0;m<h.length;++m){const y=h[m],g=i[m];i[m]=Te(()=>Je(i[m],xe(p,y))),l>0&&Nn(g)}Nn(h),a+=p,++l}return i}),c.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let c=0;c<i.length;++c){const u=i[c];i[c]=jt(i[c],a),Nn(u)}return Go(i)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function q5(t){ee(t>0&&Number.isInteger(t),()=>`batchSize is required to be a positive integer, but got ${t}`)}function Sw(t,e,n){return t==null?[null]:Array.isArray(t)?t.map(r=>rm(r,e,n-e)):rm(t,e,n-e)}function hL(t,e){return Te(()=>t==null?null:Array.isArray(t)?t.map(n=>hL(n,e)):vne(t,e.dtype==="int32"?e:At(e,"int32")))}function X5(t,e){const n=[];let r=0,s=null;for(;r<t;)s=r+e,s>=t&&(s=t),n.push([r,s]),r=s;return n}function Gne(t){const e=[];t instanceof lr&&(t=[t]);for(let n=0;n<t.length;++n){const r=t[n];if(r.rank===1)e.push(L2(r,1));else{if(r.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(r)}}return e}function Qc(t,e){if(t==null)return;const n=[];if(e instanceof lr)n.push(e.id);else if(Array.isArray(e))e.forEach(s=>n.push(s.id));else if(e!=null)for(const s in e){const i=e[s];n.push(i.id)}const r=[];if(t instanceof lr)n.indexOf(t.id)===-1&&r.push(t);else if(Array.isArray(t))t.forEach(s=>{n.indexOf(s.id)===-1&&r.push(s)});else if(t!=null)for(const s in t){const i=t[s];n.indexOf(i.id)===-1&&r.push(i)}r.forEach(s=>{s.isDisposed||s.dispose()})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function GUe(t){return t instanceof lr}function fL(t){return Array.isArray(t)}function dz(t){return!GUe(t)&&!fL(t)}function hz(t,e,n,r=!0,s=""){if(e==null||e.length===0){if(t!=null){let o=!1;if(fL(t)&&t.length>0)o=!0;else if(dz(t)){for(const a in t)if(t.hasOwnProperty(a)){o=!0;break}}else o=!0;if(o)throw new Be(`Error when checking model ${s} expected no data, but got ${t}`)}return[]}if(t==null)return e.map(o=>null);let i;if(dz(t)){t=t,i=[];for(const o of e){if(t[o]==null)throw new Be(`No data provided for "${o}". Need data for each key in: ${e}`);i.push(t[o])}}else if(fL(t)){if(t=t,t.length!==e.length)throw new Be(`Error when checking model ${s}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${e.length} Tensor(s), but instead got the following list of Tensor(s): ${t}`);i=t}else{if(t=t,e.length>1)throw new Be(`The model ${s} expects ${e.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${t.shape}`);i=[t]}if(i=Gne(i),n!=null)for(let o=0;o<e.length;++o){if(n[o]==null)continue;const a=i[o];if(a.shape.length!==n[o].length)throw new Be(`Error when checking ${s}: expected ${e[o]} to have ${n[o].length} dimension(s). but got array with shape ${a.shape}`);for(let l=0;l<n[o].length;++l){if(l===0&&!r)continue;const c=a.shape[l],u=n[o][l];if(u!=null&&u>=0&&c!==u)throw new Be(`${s} expected a batch of elements where each example has shape [${n[o].slice(1,n[o].length)}] (i.e.,tensor shape [*,${n[o].slice(1,n[o].length)}]) but the ${s} received an input with ${a.shape[0]} examples, each with shape [${a.shape.slice(1,a.shape.length)}] (tensor shape [${a.shape}])`)}}return i}function KUe(t,e,n){const r=tf(t.map(i=>i.shape[0]));r.sort();const s=tf(e.map(i=>i.shape[0]));if(s.sort(),r.length>1)throw new Be(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(i=>i.shape))}`);if(s.length>1)throw new Be(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(i=>i.shape))}`);if(r.length>0&&s.length>0&&!Pn(r,s))throw new Be(`Input Tensors should have the same number of samples as target Tensors. Found ${r[0]} input sample(s) and ${s[0]} target sample(s).`)}function qUe(t,e,n){const r=[lk,ck,Bx];for(let s=0;s<t.length;++s){const i=t[s],o=e[s],a=n[s];if(o!=null){if(o===Bx&&i.shape[i.shape.length-1]===1)throw new Be(`You are passing a target array of shape ${i.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(r.indexOf(o)!==-1){const l=i.shape.slice(1),c=a.slice(1);for(let u=0;u<l.length;++u){const A=l[u],d=c[u];if(d!=null&&A!==d)throw new Be(`A target Tensor with shape ${i.shape} was passed for an output of shape ${a}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function fz(t,e,n,r=!0,s=""){let i;if(Array.isArray(t)){if(t.length!==e.length)throw new Be(`Error when checking model ${s}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${e.length} Tensor(s), but instead got ${t.length} Tensors(s).`);i=t}else{if(e.length>1)throw new Be(`The model expects ${e.length} ${s} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(t.shape)}.`);i=[t]}if(n!=null)for(let o=0;o<e.length;++o){if(n[o]==null)continue;const a=i[o];if(a.shape.length!==n[o].length)throw new Be(`Error when checking ${s}: expected ${e[o]} to have ${n[o].length} dimension(s), but got array with shape ${JSON.stringify(a.shape)}`);for(let l=0;l<n[o].length;++l){if(l===0&&!r)continue;const c=a.shape[l],u=n[o][l];if(u!=null&&u!==c)throw new Be(`Error when checking ${s}: expected ${e[o]} to have shape ${JSON.stringify(n[o])} but got array with shape ${JSON.stringify(a.shape)}.`)}}}function XUe(t,e){if(t==null||Array.isArray(t)&&t.length===0)return e.map(r=>[]);let n;if(typeof t=="string"||typeof t=="function")n=[t];else if(Array.isArray(t)||typeof t=="object")n=t;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${t}`);if(Array.isArray(n))return e.map(r=>n);{const r=[];for(const s of e){let i=n.hasOwnProperty(s)?n[s]:[];Array.isArray(i)||(i=[i]),r.push(i)}return r}}const YUe="layers-model";class N0 extends Vc{constructor(e){super(e),this.isTraining=!1}summary(e,n,r=console.log){if(!this.built)throw new Be("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");LUe(this,e,n,r)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=FUe(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Ld))throw new Be("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let n=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(const o in e.loss)if(this.outputNames.indexOf(o)===-1)throw new Be(`Unknown entry in loss dictionary: "${o}". Only expected the following keys: ${this.outputNames}`);for(const o of this.outputNames)e.loss[o]==null&&console.warn(`Output "${o}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${o} during training`),n.push(K5(e.loss[o]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new Be(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);n=e.loss.map(a=>K5(a))}else{const o=K5(e.loss);this.outputs.forEach(a=>{n.push(o)})}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let o=0;o<this.outputs.length;++o){const a=this.internalOutputShapes[o],l=this.outputNames[o];this.feedOutputNames.push(l),this.feedOutputShapes.push(a),this.feedLossFns.push(this.lossFunctions[o])}const r=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],nm("loss",()=>{for(let o=0;o<this.outputs.length;++o){if(r.indexOf(o)!==-1)continue;const a=this.lossFunctions[o];this.outputs.length>1&&(this.metricsTensors.push([a,o]),this.metricsNames.push(this.outputNames[o]+"_loss"))}});const s=XUe(e.metrics,this.outputNames),i=(o,a,l)=>{this.outputNames.length>1&&(a=this.outputNames[o]+"_"+a),this.metricsNames.push(a),this.metricsTensors.push([l,o])};nm("metric",()=>{for(let o=0;o<this.outputs.length;++o){if(r.indexOf(o)!==-1)continue;const a=s[o];(c=>{const u="";let A,d,h;for(const p of c){if(typeof p=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(p)!==-1){const y=this.internalOutputShapes[o];y[y.length-1]===1||this.lossFunctions[o]===ck?["accuracy","acc"].indexOf(p)!==-1?d=$ne:["crossentropy","ce"].indexOf(p)!==-1&&(d=bUe):this.lossFunctions[o]===H_?["accuracy","acc"].indexOf(p)!==-1?d=CUe:["crossentropy","ce"].indexOf(p)!==-1&&(d=Qne):["accuracy","acc"].indexOf(p)!==-1?d=Une:["crossentropy","ce"].indexOf(p)!==-1&&(d=Mne);let g;["accuracy","acc"].indexOf(p)!==-1?g="acc":["crossentropy","ce"].indexOf(p)!==-1&&(g="ce"),h=d,A=u+g}else h=TUe(p),A=u+BS(p);let m;nm(A,()=>{m=h}),i(o,A,m)}})(a)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,n,r={}){const s=r.batchSize==null?32:r.batchSize;q5(s);const o=this.standardizeUserDataXY(e,n,!0,s);try{const a=o[0].concat(o[1]);this.makeTestFunction();const l=this.testFunction,c=this.testLoop(l,a,s,r.verbose,r.steps);return Go(c)}finally{Qc(o[0],e),Qc(o[1],n)}}async evaluateDataset(e,n){return this.makeTestFunction(),WUe(this,e,n)}checkNumSamples(e,n,r,s="steps"){let i;if(r!=null){if(i=null,n!=null)throw new Be(`If ${s} is set, batchSize must be null or undefined.Got batchSize = ${n}`)}else if(e!=null)Array.isArray(e)?i=e[0].shape[0]:i=e.shape[0];else throw new Be(`Either the input data should have a defined shape, or ${s} shoud be specified.`);return i}execute(e,n){if(Array.isArray(n)&&n.length===0)throw new Be("`outputs` is an empty Array, which is not allowed.");const r=Array.isArray(n),s=r?n:[n],i=this.retrieveSymbolicTensors(s),o=new Oh;if(e instanceof lr&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new Be(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let l=0;l<this.inputs.length;++l)o.add(this.inputs[l],e[l])}else for(const l of this.inputs){const c=e[l.name];if(c==null)throw new Be(`No value is provided for the model's input ${l.name}`);o.add(l,c)}const a=Kw(i,o);return r?a:a[0]}retrieveSymbolicTensors(e){const n=Im(null,e.length);let r=e.length;for(const s of this.layers){const i=Array.isArray(s.output)?s.output:[s.output],o=i.map(a=>a.name);for(let a=0;a<e.length;++a){const l=o.indexOf(e[a]);if(l!==-1&&(n[a]=i[l],r--),r===0)break}if(r===0)break}if(r>0){const s=[];throw n.forEach((i,o)=>{i==null&&s.push(e[o])}),new Be(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(s)}`)}return n}predictLoop(e,n=32,r=!1){return Te(()=>{const s=this.checkNumSamples(e);if(r)throw new xn("Verbose predictLoop() is not implemented yet.");const i=X5(s,n),o=this.outputs.map(a=>[]);for(let a=0;a<i.length;++a)Te(()=>{const c=i[a][0],u=i[a][1],A=Sw(e,c,u),d=[];if(Array.isArray(A))for(let p=0;p<A.length;++p)d.push({key:this.inputs[p],value:A[p]});else d.push({key:this.inputs[0],value:A});const h=new Oh(d);return Kw(this.outputs,h)}).forEach((c,u)=>o[u].push(c));return Go(o.map(a=>Is(a,0)))})}predict(e,n={}){const r=Gne(e);fz(r,this.inputNames,this.feedInputShapes,!1);try{const s=n.batchSize==null?32:n.batchSize;return q5(s),this.predictLoop(r,s)}finally{Qc(r,e)}}predictOnBatch(e){fz(e,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,n)}standardizeUserDataXY(e,n,r=!0,s){if(this.optimizer_==null)throw new nc("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const i=[];for(let o=0;o<this.feedOutputShapes.length;++o){const a=this.feedOutputShapes[o];this.feedLossFns[o]===H_?i.push(a.slice(0,a.length-1).concat([1])):i.push(a)}if(e=hz(e,this.feedInputNames,this.feedInputShapes,!1,"input"),n=hz(n,this.feedOutputNames,i,!1,"target"),KUe(e,n),qUe(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&s!=null&&s>0&&e[0].shape[0]%s!==0)throw new Be(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${s}. Found: ${e[0].shape[0]} sample(s).`);return[e,n]}async standardizeUserData(e,n,r,s,i=!0,o){const[a,l]=this.standardizeUserDataXY(e,n,i,o);if(r!=null)throw new Error("sample weight is not supported yet.");let c=null;if(s!=null){const u=zne(s,this.outputNames);c=[];for(let A=0;A<u.length;++A)c.push(await Vne(l[A],null,u[A]))}return[a,l,c]}testLoop(e,n,r,s=0,i){return Te(()=>{const o=this.checkNumSamples(n,r,i,"steps"),a=[];if(s>0)throw new xn("Verbose mode is not implemented yet.");if(i!=null)throw new xn("steps mode in testLoop() is not implemented yet");{const l=X5(o,r),c=Zi(pu(0,o));for(let u=0;u<l.length;++u){const A=l[u][0],d=l[u][1],h=rm(c,A,d-A),p=hL(n,h),m=e(p);if(u===0)for(let y=0;y<m.length;++y)a.push(Xt(0));for(let y=0;y<m.length;++y){const g=m[y];a[y]=Je(a[y],xe(d-A,g))}}for(let u=0;u<a.length;++u)a[u]=jt(a[u],o)}return a})}getDedupedMetricsNames(){const e=this.metricsNames,n=[];for(let r=0;r<e.length;++r){const s=e[r];let i=s;if(ZH(e,s)>1){const o=ZH(e.slice(0,r),s);i+=`_${o}`}n.push(i)}return n}makeTrainFunction(){return e=>{const n=[],r=e.slice(0,this.inputs.length),s=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),o=[],a=()=>{const A=[];for(let m=0;m<this.inputs.length;++m)A.push({key:this.inputs[m],value:r[m]});const d=new Oh(A),h=Kw(this.outputs,d,{training:!0});let p;for(let m=0;m<this.lossFunctions.length;++m){const y=this.lossFunctions[m];let g=y(s[m],h[m]);i[m]!=null&&(g=MUe(g,i[m]));const v=os(g);n.push(v),m===0?p=g:p=Je(p,g)}for(let m=0;m<this.metricsTensors.length;++m){let y;if(this.outputs.length>1&&m<this.outputs.length)y=n[m];else{const g=this.metricsTensors[m][0],v=this.metricsTensors[m][1];y=os(g(s[v],h[v]))}Js(y),o.push(y)}return p=os(p),this.calculateLosses().forEach(m=>{p=Je(p,m)}),p},l=this.collectedTrainableWeights.map(A=>A.read());return[this.optimizer_.minimize(a,!0,l)].concat(o)}}makeTestFunction(){this.testFunction=e=>Te(()=>{const n=[];let r;const s=e.slice(0,this.inputs.length),i=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=[];for(let c=0;c<this.inputs.length;++c)o.push({key:this.inputs[c],value:s[c]});const a=new Oh(o),l=Kw(this.outputs,a);for(let c=0;c<this.lossFunctions.length;++c){const u=this.lossFunctions[c],A=os(u(i[c],l[c]));c===0?r=A:r=Je(r,A),n.push(r)}for(let c=0;c<this.metricsTensors.length;++c){const u=this.metricsTensors[c][0],A=this.metricsTensors[c][1],d=os(u(i[A],l[A]));n.push(d)}return n})}async fit(e,n,r={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let s,i,o,a,l,c,u,A,d;try{const h=r.batchSize==null?32:r.batchSize;q5(h);const m=await this.standardizeUserData(e,n,r.sampleWeight,r.classWeight,!1,h);s=m[0],i=m[1],d=m[2];let y=!1,g;if(r.validationData!=null&&r.validationData.length>0){if(y=!0,r.validationData.length===2)l=r.validationData[0],c=r.validationData[1];else throw r.validationData.length===3?new xn("validationData including sample weights is not supported yet."):new Be(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${r.validationData} is invalid.`);const j=await this.standardizeUserData(l,c,null,null,!0,h);u=j[0],A=j[1],g=u.concat(A)}else if(r.validationSplit!=null&&r.validationSplit>0&&r.validationSplit<1){y=!0;const D=Math.floor(s[0].shape[0]*(1-r.validationSplit)),j=s[0].shape[0];u=Sw(s,D,j),o=s,s=Sw(s,0,D),A=Sw(i,D,j),a=i,i=Sw(i,0,D),g=u.concat(A)}else r.validationSteps!=null&&(y=!0);const v=s.concat(i).concat(d);this.checkTrainableWeightsConsistency();const b=this.makeTrainFunction(),C=this.getDedupedMetricsNames();let _,I;y?(this.makeTestFunction(),_=this.testFunction,I=C.slice().concat(C.map(D=>"val_"+D))):(_=null,g=[],I=C.slice());const T=Rne(r.callbacks,r.yieldEvery);return await this.fitLoop(b,v,C,h,r.epochs,r.verbose,T,_,g,r.shuffle,I,r.initialEpoch,null,null)}finally{this.isTraining=!1,Qc(s,e),Qc(i,n),Qc(o,e),Qc(a,n),Qc(u,l),Qc(A,c),d!=null&&Nn(d)}}async fitLoop(e,n,r,s,i,o,a,l,c,u,A,d,h,p){s==null&&(s=32),i==null&&(i=1),u==null&&(u=!0),d==null&&(d=0);let m=!1;if(l!=null&&c!=null&&(m=!0),p!=null&&(m=!0,h==null))throw new Be("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const y=this.checkNumSamples(n,s,h,"steps_per_epoch");let g;y!=null&&(g=pu(0,y)),o==null&&(o=1);const{callbackList:v,history:b}=Pne(a,o,i,d,y,h,s,m,A);v.setModel(this),this.history=b,await v.onTrainBegin(),this.stopTraining_=!1;for(let C=d;C<i;++C){await v.onEpochBegin(C);const _={};if(h!=null)throw new xn("stepsPerEpoch mode is not implemented yet.");{if(u==="batch")throw new xn("batch shuffling is not implemneted yet");u&&oP(g);const I=Zi(g),T=X5(y,s);for(let F=0;F<T.length;++F){const D={};if(await v.onBatchBegin(F,D),Te(()=>{const j=T[F][0],O=T[F][1],U=rm(I,j,O-j);D.batch=F,D.size=O-j;const W=hL(n,U),$=e(W);for(let J=0;J<r.length;++J){const Z=r[J],oe=$[J];D[Z]=oe,Js(oe)}if(F===T.length-1&&m){const J=this.testLoop(l,c,s);for(let Z=0;Z<r.length;++Z){const oe=r[Z],V=J[Z];Js(V),_["val_"+oe]=V}}}),await v.onBatchEnd(F,D),Dne(D),this.stopTraining_)break}I.dispose()}if(await v.onEpochEnd(C,_),this.stopTraining_)break}return await v.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,n){return HUe(this,e,n)}async trainOnBatch(e,n){const r=await this.standardizeUserData(e,n),s=r[0],i=r[1],a=this.makeTrainFunction()(s.concat(i)),l=[];for(const c of a){const u=await c.data();l.push(u[0])}return Nn(a),Qc(r[0],e),Qc(r[1],n),Go(l)}getNamedWeights(e){const n=[],r=e!=null&&e.trainableOnly,s=r?this.trainableWeights:this.weights,i=this.getWeights(r);for(let o=0;o<s.length;++o)r&&!s[o].trainable||n.push({name:s[o].originalName,tensor:i[o]});return n}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const n=G3().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=n-G3().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=ed(this.loss);else if(Array.isArray(this.loss)){for(const n of this.loss)if(typeof n!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(n=>ed(n))}else{const n=Object.keys(this.loss);e={};const r=this.loss;for(const s of n)if(typeof r[s]=="string")e[s]=ed(r[s]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[ed(BS(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>ed(BS(e)));{const e={};for(const n in this.metrics)e[n]=ed(BS(this.metrics[n]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const n=AL(e.optimizer_config),r=ud(n);let s;if(typeof e.loss=="string")s=Bp(e.loss);else if(Array.isArray(e.loss))s=e.loss.map(o=>Bp(o));else if(e.loss!=null){s={};for(const o in e.loss)s[o]=Bp(e.loss[o])}let i;if(Array.isArray(e.metrics))i=e.metrics.map(o=>Bp(o));else if(e.metrics!=null){i={};for(const o in e.metrics)i[o]=Bp(e.metrics[o])}this.compile({loss:s,metrics:i,optimizer:r})}async save(e,n){if(typeof e=="string"){const c=cee(e);if(c.length===0)throw new Be(`Cannot find any save handlers for URL '${e}'`);if(c.length>1)throw new Be(`Found more than one (${c.length}) save handlers for URL '${e}'`);e=c[0]}if(e.save==null)throw new Be("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const r=await K3(this.getNamedWeights(n)),a={modelTopology:this.toJSON(null,!1),format:YUe,generatedBy:`TensorFlow.js tfjs-layers v${Hne}`,convertedBy:null};if((n==null?!1:n.includeOptimizer)&&this.optimizer!=null){a.trainingConfig=this.getTrainingConfig();const c="optimizer",{data:u,specs:A}=await K3(await this.optimizer.getWeights(),c);r.specs.push(...A),r.data=aee([r.data,u])}return this.userDefinedMetadata!=null&&(cz(this.userDefinedMetadata,this.name,!0),a.userDefinedMetadata=this.userDefinedMetadata),a.weightData=r.data,a.weightSpecs=r.specs,e.save(a)}setUserDefinedMetadata(e){cz(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}N0.className="Model";nt(N0);class Kne extends N0{}Kne.className="Functional";nt(Kne);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class _x extends N0{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=e.name!=null?e.name:ik("sequential_"),e.layers!=null)for(const n of e.layers)this.add(n)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(r=>r<0))throw new Be(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const n=e instanceof _x||e instanceof N0;let r;if(n){if(r=e,r.outputs.length!==1)throw new Be("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(r.inputs.length!==1)throw new Be("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(e.inboundNodes.length===0){if(e.batchInputShape==null)throw new Be("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const s=J$e({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(s)}if(n)this.outputs=r.outputs,this.inputs=r.inputs;else{if(e.inboundNodes.length!==1)throw new Be(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(e.inboundNodes[0].outputTensors.length!==1)throw new Be("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=Ene(this.outputs[0])}this.inboundNodes=[],new ak({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:Im(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(s=>s.shape),outputShapes:this.outputs[0].shape})}else{const s=e.apply(this.outputs[0]);if(Array.isArray(s))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[s],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,n){return this.model==null&&this.build(),this.model.call(e,n)}build(e){if(Yn(e),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new N0({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,n,r=console.log){this.built||this.build(),super.summary(e,n,r)}setWeights(e){this.model==null&&this.build(),this.model.setWeights(e)}evaluate(e,n,r={}){if(!this.built)throw new nc("The model needs to be compiled before being used.");return this.model.evaluate(e,n,r)}async evaluateDataset(e,n){if(!this.built)throw new nc("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,n)}predict(e,n={}){return this.model==null&&this.build(),this.model.predict(e,n)}predictOnBatch(e){return this.model==null&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,n,r={}){if(!this.built)throw new nc("The model needs to be compiled before being used.");return this.model.fit(e,n,r)}async fitDataset(e,n){if(!this.built)throw new nc("The model needs to be compiled before being used.");return this.model.fitDataset(e,n)}async trainOnBatch(e,n){return this.model.trainOnBatch(e,n)}static fromConfig(e,n,r={},s=!1){let i,o={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new Be("Legacy serialization format not supported yet.");i=n}else ee(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),i=n.layers,delete n.layers,o=n;const a=new e(o);if(!(a instanceof _x))throw new xn(`Sequential.fromConfig called on non-Sequential input: ${a}`);for(const l of i){const u=ud(l,void 0,s);s&&u.setFastWeightInitDuringBuild(!0),a.add(u)}return a}set stopTraining(e){if(this.model==null)throw new Be("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(this.model==null)throw new Be("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const n of this.layers){const r={};r.className=n.getClassName(),r.config=n.getConfig(),e.push(r)}return{name:this.name,layers:e}}}_x.className="Sequential";nt(_x);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let no=class extends Xm{getConfig(){return{}}};class qne extends no{apply(e,n=1){return O$e(e,n)}}qne.className="elu";nt(qne);class Xne extends no{apply(e){return DE(e)}}Xne.className="selu";nt(Xne);class Yne extends no{apply(e){return Bu(e)}}Yne.className="relu";nt(Yne);class Zne extends no{apply(e){return Te(()=>gf(6,Bu(e)))}}Zne.className="relu6";nt(Zne);class Jne extends no{apply(e){return e}}Jne.className="linear";nt(Jne);class ere extends no{apply(e){return au(e)}}ere.className="sigmoid";nt(ere);class tre extends no{apply(e){return U$e(e)}}tre.className="hardSigmoid";nt(tre);class nre extends no{apply(e){return Gm(e)}}nre.className="softplus";nt(nre);class rre extends no{apply(e){return $$e(e)}}rre.className="softsign";nt(rre);class sre extends no{apply(e){return mf(e)}}sre.className="tanh";nt(sre);let E$=class extends no{apply(e,n=-1){return _2(e,n)}};E$.className="softmax";nt(E$);class ire extends no{apply(e,n=-1){return _E(e,n)}}ire.className="logSoftmax";nt(ire);class ore extends no{apply(e){return Te(()=>Te(()=>{const n=Math.sqrt(2),r=xe(.5,Je(1,CE(jt(e,n))));return xe(e,r)}))}}ore.className="gelu";nt(ore);class are extends no{apply(e){return Te(()=>xe(.5,xe(e,Je(1,mf(xe(xi(jt(2,Math.PI)),Je(e,xe(.044715,bA(e,3)))))))))}}are.className="gelu_new";nt(are);class lre extends no{apply(e){return Te(()=>xe(e,mf(Gm(e))))}}lre.className="mish";nt(lre);class cre extends no{apply(e,n=1){return Te(()=>xe(au(xe(e,n)),e))}}cre.className="swish";nt(cre);function wf(t){return t.getClassName()}function Y5(t,e={}){return F2(t,ll.getMap().classNameMap,e,"activation")}function vf(t){if(t==null){const e={};return e.className="linear",e.config={},Y5(e)}if(typeof t=="string"){const e={};return e.className=t,e.config={},Y5(e)}else return t instanceof no?t:Y5(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function ZUe(t){if(t!=null&&typeof t!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${t}`)}class ure extends Xm{}class Are extends ure{constructor(e){super(),ZUe(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return Te(()=>{let n=Vs([1]);return this.hasL1&&(n=Je(n,Lt(xe(this.l1,Ms(e))))),this.hasL2&&(n=Je(n,Lt(xe(this.l2,D2(e))))),Se(n,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,n){return new e({l1:n.l1,l2:n.l2})}}Are.className="L1L2";nt(Are);const pz={l1l2:"L1L2"};function Nr(t){return p$(t)}function mz(t,e={}){return F2(t,ll.getMap().classNameMap,e,"regularizer")}function es(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in pz?pz[t]:t,config:{}};return mz(n)}else return t instanceof ure?t:mz(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class dre extends Rn{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,n){e=an(e);let r=Bu(e);return this.maxValue!=null&&(r=na(r,0,this.maxValue)),r}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},n=super.getConfig();return Object.assign(e,n),e}}dre.className="ReLU";nt(dre);class hre extends Rn{constructor(e){super(e??{}),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const r=an(e);return m2(r,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}hre.className="LeakyReLU";nt(hre);class fre extends Rn{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=Jr(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=es(e.alphaRegularizer),this.alphaConstraint=si(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new Be(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`)}build(e){e=Yn(e);const n=e.slice(1);if(this.sharedAxes!=null)for(const s of this.sharedAxes)n[s-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const r={};if(this.sharedAxes!=null)for(let s=1;s<e.length;++s)r[s]=e[s];this.inputSpec=[new ti({ndim:e.length,axes:r})],this.built=!0}call(e,n){return e=an(e),C2(e,this.alpha.read())}getConfig(){const e={alphaInitializer:as(this.alphaInitializer),alphaRegularizer:Nr(this.alphaRegularizer),alphaConstraint:ri(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(e,n),e}}fre.className="PReLU";nt(fre);let pre=class extends Rn{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new xn(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const r=an(e);return k1(r)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}};pre.className="ELU";nt(pre);class mre extends Rn{constructor(e){super(e??{}),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,n){const r=an(e);return xe(r,At(ca(r,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},n=super.getConfig();return Object.assign(e,n),e}}mre.className="ThresholdedReLU";nt(mre);class gre extends Rn{constructor(e){super(e??{}),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new E$().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,n){return Te(()=>{let r=an(e);const s=n.mask;if(s!=null){const i=xe(Ct(Yo(r.shape),At(s,r.dtype)),Xt(-1e9));r=Je(r,i)}return this.axis instanceof Array?this.axis.length>1?ra(Ct(r,y2(r,this.axis,!0))):this.softmax(r,this.axis[0]):this.softmax(r,this.axis)})}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}gre.className="Softmax";nt(gre);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function I0(t,e,n){if(typeof t=="number")return Im(t,e);if(t.length!==e)throw new Be(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${t.length} elements.`);for(let r=0;r<e;++r){const s=t[r];if(!L$e(s))throw new Be(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${JSON.stringify(t)} including a non-integer number ${s}`)}return t}function lu(t,e,n,r,s=1){if(t==null)return t;const i=e+(e-1)*(s-1);let o;return n==="same"?o=t:o=t-i+1,Math.floor((o+r-1)/r)}function Ku(t,e,n,r){if(t==null)return null;if(r==="valid")t=t*e+yf([n-e,0]);else if(r==="same")t=t*e;else throw new Be(`Unsupport padding mode: ${r}.`);return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function k$(t,e){return Te(()=>(Ts(e),e==="channelsFirst"?$n(t,[0,2,3,1]):t))}function yre(t,e){return Te(()=>(Ts(e),e==="channelsFirst"?$n(t,[0,2,3,4,1]):t))}function JUe(t,e,n,r=1,s="valid",i,o=1){return Te(()=>{if(i==null&&(i=mu()),Ts(i),t.shape.length!==3)throw new Be(`The input of a conv1dWithBias operation should be 3, but is ${t.shape.length} instead.`);if(e.shape.length!==3)throw new Be(`The kernel for a conv1dWithBias operation should be 3, but is ${e.shape.length} instead`);if(n!=null&&n.shape.length!==1)throw new Be(`The bias for a conv1dWithBias operation should be 1, but is ${n.shape.length} instead`);if(i==="channelsFirst"&&(t=$n(t,[0,2,1])),s==="causal")throw new xn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let a=wE(t,e,r,s==="same"?"same":"valid","NWC",o);return n!=null&&(a=_u(a,n)),a})}function gz(t,e,n,r=[1,1],s="valid",i,o,a=null){return Te(()=>{if(i==null&&(i=mu()),Ts(i),t.rank!==3&&t.rank!==4)throw new Be(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${t.rank}.`);if(e.rank!==3&&e.rank!==4)throw new Be(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${t.rank}.`);let l=k$(t,i);if(s==="causal")throw new xn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=ute({x:l,filter:e,strides:r,pad:s==="same"?"same":"valid",dilations:o,dataFormat:"NHWC",bias:n,activation:a}),i==="channelsFirst"&&(l=$n(l,[0,3,1,2])),l})}function eMe(t,e,n,r=[1,1,1],s="valid",i,o){return Te(()=>{if(i==null&&(i=mu()),Ts(i),t.rank!==4&&t.rank!==5)throw new Be(`conv3dWithBias expects input to be of rank 4 or 5, but received ${t.rank}.`);if(e.rank!==4&&e.rank!==5)throw new Be(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${t.rank}.`);let a=yre(t,i);if(s==="causal")throw new xn("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return a=zP(a,e,r,s==="same"?"same":"valid","NDHWC",o),n!=null&&(a=_u(a,n)),i==="channelsFirst"&&(a=$n(a,[0,4,1,2,3])),a})}class uk extends Rn{constructor(e,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",uk.verifyArgs(n),this.rank=e,wi(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new xn(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=I0(n.kernelSize,e,"kernelSize"),this.strides=I0(n.strides==null?1:n.strides,e,"strides"),this.padding=n.padding==null?"valid":n.padding,Cl(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,Ts(this.dataFormat),this.activation=vf(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=Jr(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=si(n.biasConstraint),this.biasRegularizer=es(n.biasRegularizer),this.activityRegularizer=es(n.activityRegularizer),this.dilationRate=I0(n.dilationRate==null?1:n.dilationRate,e,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new Be(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new Be(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new Be(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(e){if(Gu("kernelSize"in e,"required key 'kernelSize' not in config"),typeof e.kernelSize!="number"&&!m$(e.kernelSize,"number",1,3))throw new Be(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:wf(this.activation),useBias:this.useBias,biasInitializer:as(this.biasInitializer),biasRegularizer:Nr(this.biasRegularizer),activityRegularizer:Nr(this.activityRegularizer),biasConstraint:ri(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}class R1 extends uk{constructor(e,n){super(e,n),this.kernel=null,R1.verifyArgs(n),this.filters=n.filters,wi(this.filters,"filters"),this.kernelInitializer=Jr(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=si(n.kernelConstraint),this.kernelRegularizer=es(n.kernelRegularizer)}build(e){e=Yn(e);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new Be(`The channel dimension of the input should be defined. Found ${e[n]}`);const r=e[n],s=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",s,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:r}}],this.built=!0}call(e,n){return Te(()=>{e=an(e);let r;const s=this.bias==null?null:this.bias.read(),i=fne(this.activation.getClassName());if(i!=null&&this.rank===2)r=gz(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate,i);else{if(this.rank===1)r=JUe(e,this.kernel.read(),s,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)r=gz(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)r=eMe(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new xn("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(r=this.activation.apply(r))}return r})}computeOutputShape(e){e=Yn(e);const n=[],r=this.dataFormat==="channelsLast"?e.slice(1,e.length-1):e.slice(2);for(let i=0;i<r.length;++i){const o=lu(r[i],this.kernelSize[i],this.padding,this.strides[i],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[i]);n.push(o)}let s=[e[0]];return this.dataFormat==="channelsLast"?(s=s.concat(n),s.push(this.filters)):(s.push(this.filters),s=s.concat(n)),s}getConfig(){const e={filters:this.filters,kernelInitializer:as(this.kernelInitializer),kernelRegularizer:Nr(this.kernelRegularizer),kernelConstraint:ri(this.kernelConstraint)},n=super.getConfig();return Object.assign(e,n),e}static verifyArgs(e){if(!("filters"in e)||typeof e.filters!="number"||e.filters<1)throw new Be(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class $2 extends R1{constructor(e){super(2,e),$2.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!m$(e.kernelSize,"number",1,2))throw new Be(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}$2.className="Conv2D";nt($2);class U2 extends R1{constructor(e){super(3,e),U2.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!(Array.isArray(e.kernelSize)&&(e.kernelSize.length===1||e.kernelSize.length===3)))throw new Be(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}U2.className="Conv3D";nt(U2);class wre extends $2{constructor(e){if(super(e),this.inputSpec=[new ti({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new Be(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=Yn(e),e.length!==4)throw new Be("Input should have rank 4; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new Be("The channel dimension of the inputs should be defined. Found `None`.");const r=e[n],s=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new ti({ndim:4,axes:{[n]:r}})],this.built=!0}call(e,n){return Te(()=>{let r=an(e);if(r.shape.length!==4)throw new Be(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const s=r.shape,i=s[0];let o,a;this.dataFormat==="channelsFirst"?(o=2,a=3):(o=1,a=2);const l=s[o],c=s[a],u=this.kernelSize[0],A=this.kernelSize[1],d=this.strides[0],h=this.strides[1],p=Ku(l,d,u,this.padding),m=Ku(c,h,A,this.padding),y=[i,p,m,this.filters];this.dataFormat!=="channelsLast"&&(r=$n(r,[0,2,3,1]));let g=vE(r,this.kernel.read(),y,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(g=$n(g,[0,3,1,2])),this.bias!=null&&(g=_u(g,this.bias.read(),this.dataFormat)),this.activation!=null&&(g=this.activation.apply(g)),g})}computeOutputShape(e){e=Yn(e);const n=e.slice();let r,s,i;this.dataFormat==="channelsFirst"?(r=1,s=2,i=3):(r=3,s=1,i=2);const o=this.kernelSize[0],a=this.kernelSize[1],l=this.strides[0],c=this.strides[1];return n[r]=this.filters,n[s]=Ku(n[s],l,o,this.padding),n[i]=Ku(n[i],c,a,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}wre.className="Conv2DTranspose";nt(wre);class vre extends U2{constructor(e){if(super(e),this.inputSpec=[new ti({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new Be(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=Yn(e),e.length!==5)throw new Be("Input should have rank 5; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new Be("The channel dimension of the inputs should be defined. Found `None`.");const r=e[n],s=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new ti({ndim:5,axes:{[n]:r}})],this.built=!0}call(e,n){return Te(()=>{let r=an(e);if(r.shape.length!==5)throw new Be(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const s=r.shape,i=s[0];let o,a,l;this.dataFormat==="channelsFirst"?(l=2,o=3,a=4):(l=1,o=2,a=3);const c=s[l],u=s[o],A=s[a],d=this.kernelSize[0],h=this.kernelSize[1],p=this.kernelSize[2],m=this.strides[0],y=this.strides[1],g=this.strides[2],v=Ku(c,m,d,this.padding),b=Ku(u,y,h,this.padding),C=Ku(A,g,p,this.padding),_=[i,v,b,C,this.filters];this.dataFormat!=="channelsLast"&&(r=$n(r,[0,2,3,4,1]));let I=VP(r,this.kernel.read(),_,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(I=$n(I,[0,4,1,2,3])),this.bias!==null&&(I=_u(I,this.bias.read(),this.dataFormat)),this.activation!==null&&(I=this.activation.apply(I)),I})}computeOutputShape(e){e=Yn(e);const n=e.slice();let r,s,i,o;this.dataFormat==="channelsFirst"?(r=1,s=2,i=3,o=4):(r=4,s=1,i=2,o=3);const a=this.kernelSize[0],l=this.kernelSize[1],c=this.kernelSize[2],u=this.strides[0],A=this.strides[1],d=this.strides[2];return n[r]=this.filters,n[s]=Ku(n[s],u,a,this.padding),n[i]=Ku(n[i],A,l,this.padding),n[o]=Ku(n[o],d,c,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}vre.className="Conv3DTranspose";nt(vre);class xre extends R1{constructor(e,n){if(super(e,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,n.filters==null)throw new Be("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(n.kernelInitializer!=null||n.kernelRegularizer!=null||n.kernelConstraint!=null)throw new Be("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(n.padding!=null&&n.padding!=="same"&&n.padding!=="valid")throw new Be(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(n.padding)}`);this.depthMultiplier=n.depthMultiplier==null?1:n.depthMultiplier,this.depthwiseInitializer=Jr(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=es(n.depthwiseRegularizer),this.depthwiseConstraint=si(n.depthwiseConstraint),this.pointwiseInitializer=Jr(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=es(n.pointwiseRegularizer),this.pointwiseConstraint=si(n.pointwiseConstraint)}build(e){if(e=Yn(e),e.length<this.rank+2)throw new Be(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null||e[n]<0)throw new Be(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[n])}`);const r=e[n],s=this.kernelSize.concat([r,this.depthMultiplier]),i=[];for(let a=0;a<this.rank;++a)i.push(1);i.push(r*this.depthMultiplier,this.filters);const o=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",s,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,o,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,o,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,o,this.biasConstraint):this.bias=null,this.inputSpec=[new ti({ndim:this.rank+2,axes:{[n]:r}})],this.built=!0}call(e,n){return Te(()=>{e=an(e);let r;if(this.rank===1)throw new xn("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=$n(e,[0,2,3,1])),r=RE(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(r=_u(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),this.dataFormat==="channelsFirst"&&(r=$n(r,[0,3,1,2])),r})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=as(this.depthwiseInitializer),e.pointwiseInitializer=as(this.pointwiseInitializer),e.depthwiseRegularizer=Nr(this.depthwiseRegularizer),e.pointwiseRegularizer=Nr(this.pointwiseRegularizer),e.depthwiseConstraint=ri(this.depthwiseConstraint),e.pointwiseConstraint=ri(this.pointwiseConstraint),e}}xre.className="SeparableConv";class bre extends xre{constructor(e){super(2,e)}}bre.className="SeparableConv2D";nt(bre);class Ak extends R1{constructor(e){super(1,e),Ak.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!m$(e.kernelSize,"number",1,1))throw new Be(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}Ak.className="Conv1D";nt(Ak);class Cre extends Rn{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,n){return Te(()=>{if(e=an(e),this.dataFormat==="channelsLast"){const r=SS(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return SS(r,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const r=SS(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return SS(r,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}Cre.className="Cropping2D";nt(Cre);class Sre extends Rn{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Ts(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,k$e(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){const n=e[2]==null?null:this.size[0]*e[2],r=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],n,r]}else{const n=e[1]==null?null:this.size[0]*e[1],r=e[2]==null?null:this.size[1]*e[2];return[e[0],n,r,e[3]]}}call(e,n){return Te(()=>{let r=an(e);const s=r.shape;if(this.dataFormat==="channelsFirst"){r=$n(r,[0,2,3,1]);const i=this.size[0]*s[2],o=this.size[1]*s[3],a=this.interpolation==="nearest"?ru.resizeNearestNeighbor(r,[i,o]):ru.resizeBilinear(r,[i,o]);return $n(a,[0,3,1,2])}else{const i=this.size[0]*s[1],o=this.size[1]*s[2];return this.interpolation==="nearest"?ru.resizeNearestNeighbor(r,[i,o]):ru.resizeBilinear(r,[i,o])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}}Sre.className="UpSampling2D";nt(Sre);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function tMe(t,e,n=[1,1],r="valid",s,i){return Te(()=>{s==null&&(s=mu()),Ts(s);let o=k$(t,s);if(t.rank!==4)throw new Be(`Input for depthwiseConv2d is required to be 4-D, but is instead ${t.rank}-D`);if(e.rank!==4)throw new Be(`depthwiseKernel is required to be 4-D, but is instead ${e.rank}-D`);return o=E1(o,e,n,r==="same"?"same":"valid","NHWC",i),s==="channelsFirst"&&(o=$n(o,[0,3,1,2])),o})}class Bre extends uk{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=Jr(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=si(e.depthwiseConstraint),this.depthwiseRegularizer=es(e.depthwiseRegularizer)}build(e){if(e=Yn(e),e.length<4)throw new Be(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const n=this.dataFormat==="channelsFirst"?1:3;if(e[n]==null||e[n]<0)throw new Be(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[n]}).`);const r=e[n],s=[this.kernelSize[0],this.kernelSize[1],r,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",s,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[r*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Te(()=>{e=an(e);let r=tMe(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(r=_u(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),r})}computeOutputShape(e){e=Yn(e);const n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2],s=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=lu(n,this.kernelSize[0],this.padding,this.strides[0]),o=lu(r,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],s,i,o]:[e[0],i,o,s]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=as(this.depthwiseInitializer),e.depthwiseRegularizer=Nr(this.depthwiseRegularizer),e.depthwiseConstraint=ri(this.depthwiseRegularizer),e}}Bre.className="DepthwiseConv2D";nt(Bre);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function _re(t,e,n,r){if(Array.isArray(t)){if(e!=null||n!=null)throw new Be("When inputs is an array, neither initialState or constants should be provided");r!=null&&(n=t.slice(t.length-r,t.length),t=t.slice(0,t.length-r)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function s(i){return i==null||Array.isArray(i)?i:[i]}return e=s(e),n=s(n),{inputs:t,initialState:e,constants:n}}function Nre(t,e,n,r=!1,s,i,o=!1,a=!1){return Te(()=>{const l=e.shape.length;if(l<3)throw new Be(`Input should be at least 3D, but is ${l}D.`);const c=[1,0].concat(pu(2,l));e=$n(e,c),o&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),s!=null&&(s=At(At(s,"bool"),"float32"),s.rank===l-1&&(s=Xi(s,-1)),s=$n(s,c)),r&&(e=wl(e,0),s!=null&&(s=wl(s,0)));const u=[];let A,d=n;const h=e.shape[0],p=vl(e);let m;s!=null&&(m=vl(s));for(let g=0;g<h;++g){const v=p[g],b=Te(()=>t(v,d));if(s==null)A=b[0],d=b[1];else{const C=Te(()=>{const _=m[g],I=Ct(Pa(_),_),T=Je(xe(b[0],_),xe(d[0],I)),F=d.map((D,j)=>Je(xe(b[1][j],_),xe(D,I)));return{output:T,newStates:F}});A=C.output,d=C.newStates}a&&u.push(A)}let y;return a&&(y=sa(u,1)),[A,y,d]})}class Mf extends Rn{constructor(e){super(e);let n;if(e.cell==null)throw new Be("cell property is missing for the constructor of RNN.");if(Array.isArray(e.cell)?n=new L$({cells:e.cell}):n=e.cell,n.stateSize==null)throw new Be("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=e.returnSequences==null?!1:e.returnSequences,this.returnState=e.returnState==null?!1:e.returnState,this.goBackwards=e.goBackwards==null?!1:e.goBackwards,this._stateful=e.stateful==null?!1:e.stateful,this.unroll=e.unroll==null?!1:e.unroll,this.supportsMasking=!0,this.inputSpec=[new ti({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return pu(0,e).map(n=>null)}else return this.states_}setStates(e){this.states_=e}computeOutputShape(e){lL(e)&&(e=e[0]),e=e;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const r=n[0];let s;if(this.returnSequences?s=[e[0],e[1],r]:s=[e[0],r],this.returnState){const i=[];for(const o of n)i.push([e[0],o]);return[s].concat(i)}else return s}computeMask(e,n){return Te(()=>{Array.isArray(n)&&(n=n[0]);const r=this.returnSequences?n:null;if(this.returnState){const s=this.states.map(i=>null);return[r].concat(s)}else return r})}get states(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let r=0;r<e;++r)n.push(null);return n}else return this.states_}set states(e){this.states_=e}build(e){if(this.numConstants!=null)throw new xn("Constants support is not implemented in RNN yet.");lL(e)&&(e=e[0]),e=e;const n=this.stateful?e[0]:null,r=e.slice(2);this.inputSpec[0]=new ti({shape:[n,null,...r]});const s=[e[0]].concat(e.slice(2));this.cell.build(s);let i;if(Array.isArray(this.cell.stateSize)?i=this.cell.stateSize:i=[this.cell.stateSize],this.stateSpec!=null){if(!Pn(this.stateSpec.map(o=>o.shape[o.shape.length-1]),i))throw new Be(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=i.map(o=>new ti({shape:[null,o]}));this.stateful&&this.resetStates()}resetStates(e,n=!1){Te(()=>{if(!this.stateful)throw new Wu("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape[0];if(r==null)throw new Be("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>Vs([r,s])):this.states_=[Vs([r,this.cell.stateSize])];else if(e==null)Nn(this.states_),this.keptStates!=null&&(Nn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>Vs([r,s])):this.states_[0]=Vs([r,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Be(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n===!0?this.keptStates.push(this.states_.slice()):Nn(this.states_);for(let s=0;s<this.states_.length;++s){const i=e[s],o=Array.isArray(this.cell.stateSize)?this.cell.stateSize[s]:this.cell.stateSize,a=[r,o];if(!Pn(i.shape,a))throw new Be(`State ${s} is incompatible with layer ${this.name}: expected shape=${a}, received shape=${i.shape}`);this.states_[s]=i}}this.states_=this.states_.map(s=>Js(s.clone()))})}apply(e,n){let r=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const i=_re(e,r,s,this.numConstants);e=i.inputs,r=i.initialState,s=i.constants;let o=[],a=[];if(r!=null){n.initialState=r,o=o.concat(r),this.stateSpec=[];for(const c of r)this.stateSpec.push(new ti({shape:c.shape}));a=a.concat(this.stateSpec)}if(s!=null&&(n.constants=s,o=o.concat(s),this.numConstants=s.length),o[0]instanceof SA){const c=[e].concat(o),u=this.inputSpec.concat(a),A=this.inputSpec;this.inputSpec=u;const d=super.apply(c,n);return this.inputSpec=A,d}else return super.apply(e,n)}call(e,n){return Te(()=>{const r=n==null?null:n.mask,s=n==null?null:n.training;let i=n==null?null:n.initialState;e=an(e),i==null&&(this.stateful?i=this.states_:i=this.getInitialState(e));const o=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(i.length!==o)throw new Be(`RNN Layer has ${o} state(s) but was passed ${i.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const a={training:s},c=Nre((p,m)=>{const y=this.cell.call([p].concat(m),a);return[y[0],y.slice(1)]},e,i,this.goBackwards,r,null,this.unroll,this.returnSequences),u=c[0],A=c[1],d=c[2];this.stateful&&this.resetStates(d,s);const h=this.returnSequences?A:u;return this.returnState?[h].concat(d):h})}getInitialState(e){return Te(()=>{let n=Vs(e.shape);return n=Lt(n,[1,2]),n=L2(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(r=>r>1?oL(n,[1,r]):n):this.cell.stateSize>1?[oL(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);const r=this.cell.getConfig();return this.getClassName()===Mf.className&&(n.cell={className:this.cell.getClassName(),config:r}),Object.assign(Object.assign(Object.assign({},r),e),n)}static fromConfig(e,n,r={}){const s=n.cell,i=ud(s,r);return new e(Object.assign(n,{cell:i}))}}Mf.className="RNN";nt(Mf);class dk extends Rn{}class T$ extends dk{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,wi(this.units,"units"),this.activation=vf(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Jr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Jr(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Jr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=es(e.kernelRegularizer),this.recurrentRegularizer=es(e.recurrentRegularizer),this.biasRegularizer=es(e.biasRegularizer),this.kernelConstraint=si(e.kernelConstraint),this.recurrentConstraint=si(e.recurrentConstraint),this.biasConstraint=si(e.biasConstraint),this.dropout=uy([1,yf([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=uy([1,yf([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Yn(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Te(()=>{if(e=e,e.length!==2)throw new Be(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let r=e[1];e=e[0];const s=n.training==null?!1:n.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=xf({ones:()=>Pa(e),rate:this.dropout,training:s,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=xf({ones:()=>Pa(r),rate:this.recurrentDropout,training:s,dropoutFunc:this.dropoutFunc}));let i;const o=this.dropoutMask,a=this.recurrentDropoutMask;o!=null?i=mA(xe(e,o),this.kernel.read()):i=mA(e,this.kernel.read()),this.bias!=null&&(i=_u(i,this.bias.read())),a!=null&&(r=xe(r,a));let l=Je(i,mA(r,this.recurrentKernel.read()));return this.activation!=null&&(l=this.activation.apply(l)),[l,l]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:wf(this.activation),useBias:this.useBias,kernelInitializer:as(this.kernelInitializer),recurrentInitializer:as(this.recurrentInitializer),biasInitializer:as(this.biasInitializer),kernelRegularizer:Nr(this.kernelRegularizer),recurrentRegularizer:Nr(this.recurrentRegularizer),biasRegularizer:Nr(this.biasRegularizer),activityRegularizer:Nr(this.activityRegularizer),kernelConstraint:ri(this.kernelConstraint),recurrentConstraint:ri(this.recurrentConstraint),biasConstraint:ri(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),n)}}T$.className="SimpleRNNCell";nt(T$);class Ire extends Mf{constructor(e){e.cell=new T$(e),super(e)}call(e,n){return Te(()=>{this.cell.dropoutMask!=null&&(Nn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Nn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}static fromConfig(e,n){return new e(n)}}Ire.className="SimpleRNN";nt(Ire);class F$ extends dk{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new Be("GRUCell does not support reset_after parameter set to true.");this.units=e.units,wi(this.units,"units"),this.activation=vf(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=vf(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Jr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Jr(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Jr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=es(e.kernelRegularizer),this.recurrentRegularizer=es(e.recurrentRegularizer),this.biasRegularizer=es(e.biasRegularizer),this.kernelConstraint=si(e.kernelConstraint),this.recurrentConstraint=si(e.recurrentConstraint),this.biasConstraint=si(e.biasConstraint),this.dropout=uy([1,yf([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=uy([1,yf([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Yn(e);const n=e[e.length-1];this.kernel=this.addWeight("kernel",[n,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Te(()=>{if(e=e,e.length!==2)throw new Be(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const r=n.training==null?!1:n.training;let s=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=xf({ones:()=>Pa(e),rate:this.dropout,training:r,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=xf({ones:()=>Pa(s),rate:this.recurrentDropout,training:r,count:3,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,o=this.recurrentDropoutMask;let a,l,c;0<this.dropout&&this.dropout<1&&(e=xe(e,i[0]));let u=mA(e,this.kernel.read());this.useBias&&(u=_u(u,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(s=xe(s,o[0]));const A=this.recurrentKernel.read(),[d,h]=Jo(A,[2*this.units,this.units],A.rank-1),p=mA(s,d),[m,y,g]=Jo(u,3,u.rank-1),[v,b]=Jo(p,2,p.rank-1);a=this.recurrentActivation.apply(Je(m,v)),l=this.recurrentActivation.apply(Je(y,b));const C=mA(xe(l,s),h);c=this.activation.apply(Je(g,C));const _=Je(xe(a,s),xe(Je(1,Pr(a)),c));return[_,_]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:wf(this.activation),recurrentActivation:wf(this.recurrentActivation),useBias:this.useBias,kernelInitializer:as(this.kernelInitializer),recurrentInitializer:as(this.recurrentInitializer),biasInitializer:as(this.biasInitializer),kernelRegularizer:Nr(this.kernelRegularizer),recurrentRegularizer:Nr(this.recurrentRegularizer),biasRegularizer:Nr(this.biasRegularizer),activityRegularizer:Nr(this.activityRegularizer),kernelConstraint:ri(this.kernelConstraint),recurrentConstraint:ri(this.recurrentConstraint),biasConstraint:ri(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),n)}}F$.className="GRUCell";nt(F$);class Ere extends Mf{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new F$(e),super(e)}call(e,n){return Te(()=>{this.cell.dropoutMask!=null&&(Nn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Nn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}Ere.className="GRU";nt(Ere);class hk extends dk{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,wi(this.units,"units"),this.activation=vf(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=vf(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Jr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Jr(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Jr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=es(e.kernelRegularizer),this.recurrentRegularizer=es(e.recurrentRegularizer),this.biasRegularizer=es(e.biasRegularizer),this.kernelConstraint=si(e.kernelConstraint),this.recurrentConstraint=si(e.recurrentConstraint),this.biasConstraint=si(e.biasConstraint),this.dropout=uy([1,yf([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=uy([1,yf([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var n;e=Yn(e);const r=e[e.length-1];this.kernel=this.addWeight("kernel",[r,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let s;if(this.useBias){if(this.unitForgetBias){const i=this.biasInitializer,o=this.units;s=new(n=class extends hc{apply(l,c){const u=i.apply([o]),A=new y$().apply([o]),d=i.apply([o*2]);return ez(ez(u,A),d)}},n.className="CustomInit",n)}else s=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,s,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,n){return Te(()=>{const r=n.training==null?!1:n.training;if(e=e,e.length!==3)throw new Be(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let s=e[1];const i=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=xf({ones:()=>Pa(e),rate:this.dropout,training:r,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=xf({ones:()=>Pa(s),rate:this.recurrentDropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,a=this.recurrentDropoutMask;let l,c,u,A;0<this.dropout&&this.dropout<1&&(e=xe(e,o[0]));let d=mA(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(s=xe(s,a[0])),d=Je(d,mA(s,this.recurrentKernel.read())),this.useBias&&(d=_u(d,this.bias.read()));const[h,p,m,y]=Jo(d,4,d.rank-1);l=this.recurrentActivation.apply(h),c=this.recurrentActivation.apply(p),u=Je(xe(c,i),xe(l,this.activation.apply(m))),A=this.recurrentActivation.apply(y);const g=xe(A,this.activation.apply(u));return[g,g,u]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:wf(this.activation),recurrentActivation:wf(this.recurrentActivation),useBias:this.useBias,kernelInitializer:as(this.kernelInitializer),recurrentInitializer:as(this.recurrentInitializer),biasInitializer:as(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Nr(this.kernelRegularizer),recurrentRegularizer:Nr(this.recurrentRegularizer),biasRegularizer:Nr(this.biasRegularizer),activityRegularizer:Nr(this.activityRegularizer),kernelConstraint:ri(this.kernelConstraint),recurrentConstraint:ri(this.recurrentConstraint),biasConstraint:ri(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),n)}}hk.className="LSTMCell";nt(hk);class kre extends Mf{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new hk(e),super(e)}call(e,n){return Te(()=>{this.cell.dropoutMask!=null&&(Nn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Nn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}kre.className="LSTM";nt(kre);class L$ extends dk{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?e.push(...n.stateSize):e.push(n.stateSize);return e}call(e,n){return Te(()=>{e=e;let r=e.slice(1);const s=[];for(const a of this.cells.slice().reverse())Array.isArray(a.stateSize)?s.push(r.splice(0,a.stateSize.length)):s.push(r.splice(0,1));s.reverse();const i=[];let o;for(let a=0;a<this.cells.length;++a){const l=this.cells[a];r=s[a],a===0?o=[e[0]].concat(r):o=[o[0]].concat(r),o=l.call(o,n),i.push(o.slice(1))}r=[];for(const a of i.slice().reverse())r.push(...a);return[o[0]].concat(r)})}build(e){lL(e)&&(e=e[0]),e=e;let n;this.cells.forEach((r,s)=>{nm(`RNNCell_${s}`,()=>{r.build(e),Array.isArray(r.stateSize)?n=r.stateSize[0]:n=r.stateSize,e=[e[0],n]})}),this.built=!0}getConfig(){const e=super.getConfig(),n=i=>({className:i.getClassName(),config:i.getConfig()}),s={cells:this.cells.map(n)};return Object.assign(Object.assign({},e),s)}static fromConfig(e,n,r={}){const s=[];for(const i of n.cells)s.push(ud(i,r));return new e({cells:s})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const n of this.cells)e.push(...n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.cells)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.cells)n.push(...r.trainableWeights);return n.concat(e)}return e}getWeights(){const e=[];for(const n of this.cells)e.push(...n.weights);return cL(e)}setWeights(e){const n=[];for(const r of this.cells){const s=r.weights.length,i=e.splice(s);for(let o=0;o<r.weights.length;++o)n.push([r.weights[o],i[o]])}B$(n)}}L$.className="StackedRNNCells";nt(L$);function xf(t){const{ones:e,rate:n,training:r=!1,count:s=1,dropoutFunc:i}=t,o=()=>i!=null?i(e(),n):xne(e(),n),a=()=>R2(o,e,r);return!s||s<=1?Js(a().clone()):Array(s).fill(void 0).map(a).map(c=>Js(c.clone()))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var nMe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Tre extends Mf{constructor(e){if(e.unroll)throw new xn("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new xn("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new ti({ndim:5})]}call(e,n){return Te(()=>{if(this.cell.dropoutMask!=null&&(Nn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Nn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new Be("ConvRNN2D cell does not support constants");const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}computeOutputShape(e){let n=this.computeSingleOutputShape(e);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([e[0],...n.slice(-3)])]),n}getInitialState(e){return Te(()=>{const{stateSize:n}=this.cell,r=e.shape,s=this.computeSingleOutputShape(r),i=[s[0],...s.slice(2)],o=Vs(i);return Array.isArray(n)?Array(n.length).fill(o):[o]})}resetStates(e,n=!1){Te(()=>{if(!this.stateful)throw new Wu("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape,s=this.computeSingleOutputShape(r),i=[s[0],...s.slice(2)];if(r[0]==null)throw new Be("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>Vs(i)):this.states_=[Vs(i)];else if(e==null)Nn(this.states_),this.keptStates!=null&&(Nn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>Vs(i)):this.states_[0]=Vs(i);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Be(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n?this.keptStates.push(this.states_.slice()):Nn(this.states_);for(let a=0;a<this.states_.length;++a){const l=e[a],c=i;if(!Pn(l.shape,c))throw new Be(`State ${a} is incompatible with layer ${this.name}: expected shape=${c}, received shape=${l.shape}`);this.states_[a]=l}}this.states_=this.states_.map(a=>Js(a.clone()))})}computeSingleOutputShape(e){const{dataFormat:n,filters:r,kernelSize:s,padding:i,strides:o,dilationRate:a}=this.cell,l=n==="channelsFirst",c=e[l?3:2],u=e[l?4:3],A=lu(c,s[0],i,o[0],a[0]),d=lu(u,s[1],i,o[1],a[1]);return[...e.slice(0,2),...l?[r,A,d]:[A,d,r]]}}Tre.className="ConvRNN2D";class D$ extends hk{constructor(e){const{filters:n,kernelSize:r,strides:s,padding:i,dataFormat:o,dilationRate:a}=e;super(Object.assign(Object.assign({},e),{units:n})),this.filters=n,wi(this.filters,"filters"),this.kernelSize=I0(r,2,"kernelSize"),this.kernelSize.forEach(l=>wi(l,"kernelSize")),this.strides=I0(s||1,2,"strides"),this.strides.forEach(l=>wi(l,"strides")),this.padding=i||"valid",Cl(this.padding),this.dataFormat=o||"channelsLast",Ts(this.dataFormat),this.dilationRate=I0(a||1,2,"dilationRate"),this.dilationRate.forEach(l=>wi(l,"dilationRate"))}build(e){var n;e=Yn(e);const r=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[r]==null)throw new Be(`The channel dimension of the input should be defined. Found ${e[r]}`);const s=e[r],i=4,o=this.kernelSize.concat([s,this.filters*i]);this.kernel=this.addWeight("kernel",o,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const a=this.kernelSize.concat([this.filters,this.filters*i]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",a,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let l;if(this.unitForgetBias){const c=this.biasInitializer,u=this.filters;l=new(n=class extends hc{apply(d,h){const p=c.apply([u]),m=Yo([u]),y=c.apply([u*2]);return g$([p,m,y])}},n.className="CustomInit",n)}else l=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*i],null,l,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,n){return Te(()=>{if(e.length!==3)throw new Be(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const r=n.training||!1,s=e[0],i=e[1],o=e[2],a=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=xf({ones:()=>Pa(s),rate:this.dropout,training:r,count:a,dropoutFunc:this.dropoutFunc}));const l=this.dropoutMask,c=(ce,he,z)=>!he||!he[z]?ce:xe(he[z],ce);let u=c(s,l,0),A=c(s,l,1),d=c(s,l,2),h=c(s,l,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=xf({ones:()=>Pa(i),rate:this.recurrentDropout,training:r,count:a,dropoutFunc:this.dropoutFunc}));const p=this.recurrentDropoutMask;let m=c(i,p,0),y=c(i,p,1),g=c(i,p,2),v=c(i,p,3);const b=3,[C,_,I,T]=Jo(this.kernel.read(),a,b),[F,D,j,O]=this.useBias?Jo(this.bias.read(),a):[null,null,null,null];u=this.inputConv(u,C,F,this.padding),A=this.inputConv(A,_,D,this.padding),d=this.inputConv(d,I,j,this.padding),h=this.inputConv(h,T,O,this.padding);const[U,W,$,J]=Jo(this.recurrentKernel.read(),a,b);m=this.recurrentConv(m,U),y=this.recurrentConv(y,W),g=this.recurrentConv(g,$),v=this.recurrentConv(v,J);const Z=this.recurrentActivation.apply(Je(u,m)),oe=this.recurrentActivation.apply(Je(A,y)),V=Je(xe(oe,o),xe(Z,this.activation.apply(Je(d,g)))),Y=xe(this.recurrentActivation.apply(Je(h,v)),this.activation.apply(V));return[Y,Y,V]})}getConfig(){const e=super.getConfig(),n=nMe(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),r)}inputConv(e,n,r,s){const i=bd(e,n,this.strides,s||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return r?_u(i,r,this.dataFormat):i}recurrentConv(e,n){return bd(e,n,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}D$.className="ConvLSTM2DCell";nt(D$);class Fre extends Tre{constructor(e){const n=new D$(e);super(Object.assign(Object.assign({},e),{cell:n}))}static fromConfig(e,n){return new e(n)}}Fre.className="ConvLSTM2D";nt(Fre);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class R$ extends Rn{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;const n=e.shape,r=[];for(let s=0;s<this.noiseShape.length;++s)r.push(this.noiseShape[s]==null?n[s]:this.noiseShape[s]);return r}call(e,n){return Te(()=>{this.invokeCallHook(e,n);const r=an(e);if(0<this.rate&&this.rate<1){const s=n.training==null?!1:n.training,i=this.getNoiseShape(r);return R2(()=>xne(r,this.rate,i,this.seed),()=>r,s)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(e,n),e}dispose(){return super.dispose()}}R$.className="Dropout";nt(R$);class Lre extends R${constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const n=e.shape;return[n[0],1,n[2]]}}Lre.className="SpatialDropout1D";nt(Lre);class Dre extends Rn{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let n=null;e.batchSize!=null&&(n=e.batchSize),this.batchInputShape=[n,e.inputDim]}this.units=e.units,wi(this.units,"units"),this.activation=vf(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=Jr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=Jr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=si(e.kernelConstraint),this.biasConstraint=si(e.biasConstraint),this.kernelRegularizer=es(e.kernelRegularizer),this.biasRegularizer=es(e.biasRegularizer),this.activityRegularizer=es(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=Yn(e);const n=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(e){e=Yn(e);const n=e.slice();return n[n.length-1]=this.units,n}call(e,n){return Te(()=>{this.invokeCallHook(e,n);const r=an(e),s=fne(this.activation.getClassName());let i;return s!=null?i=mA(r,this.kernel.read(),s,this.bias?this.bias.read():null):(i=mA(r,this.kernel.read()),this.bias!=null&&(i=_u(i,this.bias.read())),this.activation!=null&&(i=this.activation.apply(i))),i})}getConfig(){const e={units:this.units,activation:wf(this.activation),useBias:this.useBias,kernelInitializer:as(this.kernelInitializer),biasInitializer:as(this.biasInitializer),kernelRegularizer:Nr(this.kernelRegularizer),biasRegularizer:Nr(this.biasRegularizer),activityRegularizer:Nr(this.activityRegularizer),kernelConstraint:ri(this.kernelConstraint),biasConstraint:ri(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}Dre.className="Dense";nt(Dre);class Rre extends Rn{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=Yn(e);for(const n of e.slice(1))if(n==null)throw new Be(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],nf(e,1)]}call(e,n){return Te(()=>{this.invokeCallHook(e,n);let r=an(e);if(this.dataFormat==="channelsFirst"&&r.rank>1){const s=[0];for(let i=2;i<r.rank;++i)s.push(i);s.push(1),r=$n(r,s)}return P$e(r)})}getConfig(){const e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(e,n),e}}Rre.className="Flatten";nt(Rre);class Pre extends Rn{constructor(e){super(e),this.supportsMasking=!0,this.activation=vf(e.activation)}call(e,n){return Te(()=>{this.invokeCallHook(e,n);const r=an(e);return this.activation.apply(r)})}getConfig(){const e={activation:wf(this.activation)},n=super.getConfig();return Object.assign(e,n),e}}Pre.className="Activation";nt(Pre);class Ore extends Rn{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,n){return Te(()=>(e=an(e),D$e(e,this.n)))}getConfig(){const e={n:this.n},n=super.getConfig();return Object.assign(e,n),e}}Ore.className="RepeatVector";nt(Ore);class $re extends Rn{constructor(e){super(e),this.targetShape=e.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,n){const r="Total size of new array must be unchanged.",s=n.slice();let i=1,o=null;for(let l=0;l<s.length;++l){const c=s[l];if(this.isUnknown(c))if(o===null)o=l;else throw new Be("Can only specifiy one unknown dimension.");else i*=c}const a=nf(e);if(o!==null){if(i===0||a%i!==0)throw new Be(r);s[o]=a/i}else if(a!==i)throw new Be(r);return s}computeOutputShape(e){let n=!1;for(let r=0;r<e.length;++r)if(this.isUnknown(e[r])){n=!0;break}return n?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,n){return Te(()=>{this.invokeCallHook(e,n);const r=an(e),s=r.shape,i=s.slice(0,1).concat(this.fixUnknownDimension(s.slice(1),this.targetShape));return Se(r,i)})}getConfig(){const e={targetShape:this.targetShape},n=super.getConfig();return Object.assign(e,n),e}}$re.className="Reshape";nt($re);class Ure extends Rn{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const n=pu(1,e.dims.length+1);if(!Pn(e.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new ti({ndim:this.dims.length+1})]}computeOutputShape(e){e=Yn(e);const n=e.slice();return this.dims.forEach((r,s)=>{n[s+1]=e[r]}),n}call(e,n){return $n(an(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},n=super.getConfig();return Object.assign(e,n),e}}Ure.className="Permute";nt(Ure);class Mre extends Rn{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,e),n}computeMask(e,n){const r=an(e);return vx(Bm(r,this.maskValue),-1)}call(e,n){return Te(()=>{this.invokeCallHook(e,n);const r=an(e),o=vx(Bm(r,this.maskValue),-1,!0);return xe(r,At(o,r.dtype))})}}Mre.className="Masking";nt(Mre);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Qre extends Rn{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let n=null;e.batchSize!=null&&(n=e.batchSize),e.inputLength==null?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(pr(e.inputLength))}this.inputDim=e.inputDim,wi(this.inputDim,"inputDim"),this.outputDim=e.outputDim,wi(this.outputDim,"outputDim"),this.embeddingsInitializer=Jr(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=es(e.embeddingsRegularizer),this.activityRegularizer=es(e.activityRegularizer),this.embeddingsConstraint=si(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,n){return Te(()=>this.maskZero?(e=an(e),Bm(e,Mn(e))):null)}computeOutputShape(e){if(e=Yn(e),this.inputLength==null)return[...e,this.outputDim];const n=pr(this.inputLength);if(n.length!==e.length-1)throw new Be(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let r=0;for(let s=0;s<n.length;++s){const i=n[s],o=e[s+1];if(i!=null&&o!=null&&i!==o)throw new Be(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);i==null&&(n[r]=o),r++}}return[e[0],...n,this.outputDim]}call(e,n){return Te(()=>{this.invokeCallHook(e,n);let r=an(e);r.dtype!=="int32"&&(r=pA(r,"int32"));const s=vne(this.embeddings.read(),Se(r,[r.size]));return Se(s,Yn(this.computeOutputShape(r.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:as(this.embeddingsInitializer),embeddingsRegularizer:Nr(this.embeddingsRegularizer),activityRegularizer:Nr(this.activityRegularizer),embeddingsConstraint:ri(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(e,n),e}}Qre.className="Embedding";nt(Qre);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Zm extends Rn{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new xn}computeElementwiseOpOutputShape(e,n){if(e==null||n==null)return null;if(e.length<n.length)return this.computeElementwiseOpOutputShape(n,e);if(n.length===0)return e;const r=e.slice(0,e.length-n.length);for(let s=0;s<n.length;++s){const i=e[e.length-n.length+s],o=n[s];if(i==null||o==null||i<0||o<0)r.push(null);else if(i===1)r.push(o);else if(o===1)r.push(i);else{if(i!==o)throw new Be("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(n));r.push(i)}}return r}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Yn(e)]),e=e,e.length<2)throw new Be(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let n=[];for(const i of e)i!=null&&i[0]!==null&&n.push(i[0]);if(n=tf(n),n.length>1)throw new Be(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let r=e[0]==null?null:e[0].slice(1);for(let i=1;i<e.length;++i){const o=e[i]==null?null:e[i].slice(1);r=this.computeElementwiseOpOutputShape(r,o)}const s=e.map(i=>i.length);e.indexOf(null)===-1&&tf(s).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,n){return Te(()=>{if(e=e,this.reshapeRequired){const r=[],s=e.map(i=>i.rank);if(s.indexOf(null)===-1){const i=yf(s);for(let o of e){const a=o.rank;for(let l=0;l<i-a;++l)o=L2(o,1);r.push(o)}return this.mergeFunction(r)}else{let i=!1;for(const l of e){const c=l.rank;if(c==null){const u=l.shape,A=u[0],d=u.slice(1).concat([A]);let h=Se(l,[A].concat(nf(u.slice(1))));h=$n(h,[1,0]),h=Se(h,d),r.push(h),i=!0}else if(c>1){const u=pu(1,c).concat([0]);r.push($n(l,u)),i=!0}else r.push(l)}let o=this.mergeFunction(r);const a=o.rank;if(i){if(a==null){const l=o.shape,c=l.length,u=l[c-1],A=[u].concat(l.slice(0,l.length-1));o=Se($n(Se(o,[-1,u]),[1,0]),A)}else if(a>1){const l=[a-1].concat(pu(0,a-1));o=$n(o,l)}}return o}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let n;e[0]==null?n=null:n=e[0].slice(1);for(let s=1;s<e.length;++s){const i=e[s]==null?null:e[s].slice(1);n=this.computeElementwiseOpOutputShape(n,i)}let r=[];for(const s of e)s!=null&&s[0]!==null&&r.push(s[0]);return r=tf(r),r.length===1?n=r.concat(n):n=[null].concat(n),n}computeMask(e,n){return Te(()=>{if(n==null)return null;if(!Array.isArray(n))throw new Be("`mask` should be an Array");if(!Array.isArray(e))throw new Be("`inputs` should be an Array");if(n.length!==e.length)throw new Be(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${n.length})`);if(n.every(s=>s==null))return null;n=n.map(s=>s==null?s:Xi(s,0));let r=n[0];for(let s=1;s<n.length-1;++s)r=fu(r,n[s]);return r})}}class jre extends Zm{constructor(e){super(e)}mergeFunction(e){return Te(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=Je(n,e[r]);return n})}}jre.className="Add";nt(jre);class Hre extends Zm{constructor(e){super(e)}mergeFunction(e){return Te(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=xe(n,e[r]);return n})}}Hre.className="Multiply";nt(Hre);class zre extends Zm{constructor(e){super(e)}mergeFunction(e){return Te(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=Je(n,e[r]);return xe(1/e.length,n)})}}zre.className="Average";nt(zre);class Vre extends Zm{constructor(e){super(e)}mergeFunction(e){return Te(()=>{let n=e[0];for(let r=1;r<e.length;++r)n=TA(n,e[r]);return n})}}Vre.className="Maximum";nt(Vre);class Wre extends Zm{constructor(e){super(e)}mergeFunction(e){return Te(()=>{let n=e[0];for(let r=1;r<e.length;++r)n=gf(n,e[r]);return n})}}Wre.className="Minimum";nt(Wre);class Gre extends Zm{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new Be("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let n=!0;for(const s of e)if(s!=null){n=!1;break}if(n)return;const r=[];for(let s=0;s<e.length;++s){const i=e[s].slice();i.splice(this.axis,1);let o=!1;for(const a of r)if(Pn(a,i)){o=!0;break}o||r.push(i)}if(r.length>1)throw new Be("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return Te(()=>g$(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new Be("A `Concatenate` layer should be called on a list of inputs.");const n=e,r=n[0].slice(),s=this.axis<0?r.length+this.axis:this.axis;for(const i of n.slice(1)){if(r[s]==null||i[s]==null){r[s]=null;break}r[s]+=i[s]}return r}computeMask(e,n){if(n==null)return null;if(!Array.isArray(n))throw new Be("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new Be("`inputs` should be an array for Concatenate");if(n.length!==e.length)throw new Be(`Mismatch in the length of mask (${n.length}) and the legnth of inputs (${e.length})`);return Te(()=>{let r=!0;if(n.forEach(o=>{if(o!=null){r=!1;return}}),r)return null;const s=[];for(let o=0;o<e.length;++o)n[o]==null?s.push(At(Pa(e[o]),"bool")):n[o].rank<e[o].rank?s.push(Xi(n[o],-1)):s.push(n[o]);const i=Is(s,this.axis);return yE(i,-1,!1)})}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}Gre.className="Concatenate";nt(Gre);function Bw(t,e){for(;t<0;)t+=e;return t}function rMe(t,e,n){if(t.shape.length>3||e.shape.length>3)throw new xn("batchDot is not implemented for tensors of 4D or higher rank yet");if(ee(t.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${t.shape.length}`),ee(t.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${e.shape.length}`),typeof n=="number"&&(n=[n,n]),t.dtype==="complex64"||e.dtype==="complex64")throw new xn("batchDot is not implemented for complex64-type Tensors yet.");const r=t.shape.length,s=e.shape.length;n==null&&(n=[r-1,s-2]);const i=n;return Te(()=>{let o;if(r>s){o=r-s;const l=[];for(let c=0;c<o;++c)l.push(1);e=Se(e,e.shape.concat(l))}else if(s>r){o=s-r;const l=[];for(let c=0;c<o;++c)l.push(1);t=Se(t,t.shape.concat(l))}else o=0;let a;if(t.shape.length===2&&e.shape.length===2)i[0]===i[1]?a=Lt(xe(t,e),i[0]):a=Lt(xe($n(t,[1,0]),e),i[1]);else{const l=i[0]!==t.shape.length-1,c=i[1]===e.shape.length-1;a=_n(t,e,l,c)}if(o>0){let l;r>s?l=r+s-3:l=r-1;const c=[];for(let u=l;u<l+o;++u)c.push(u);a=$f(a,c)}return a.shape.length===1&&(a=Xi(a,1)),a})}class Kre extends Zm{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){ee(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0],r=e[1];if(n.length>3||r.length>3)throw new xn("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,r);if(n[s[0]]!==r[s[1]])throw new Be(`Dimension incompatibility: ${n[s[0]]} !== ${r[s[1]]}`)}mergeFunction(e){if(e.length!==2)throw new Be(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let n=e[0],r=e[1],s;return Array.isArray(this.axes)?s=this.axes.map((i,o)=>Bw(i,e[o].shape.length)):s=[Bw(this.axes,n.shape.length),Bw(this.axes,r.shape.length)],this.normalize&&(n=j_(n,s[0]),r=j_(r,s[1])),rMe(n,r,s)}interpretAxes(e,n){let r;return Array.isArray(this.axes)?r=this.axes:r=[Bw(this.axes,e.length),Bw(this.axes,n.length)],r}computeOutputShape(e){ee(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0].slice(),r=e[1].slice();if(n.length>3||r.length>3)throw new xn("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,r);n.splice(s[0],1),r.splice(s[1],1),r.splice(0,1);const i=n.concat(r);return i.length===1&&i.push(1),i}computeMask(e,n){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(e,n),e}}Kre.className="Dot";nt(Kre);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class qre extends Rn{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,e),n}call(e,n){return Te(()=>{this.invokeCallHook(e,n);const r=an(e);return R2(()=>Je(ok(r.shape,0,this.stddev),r),()=>r,n.training||!1)})}}qre.className="GaussianNoise";nt(qre);class Xre extends Rn{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return Te(()=>{this.invokeCallHook(e,n);const r=an(e);return this.rate>0&&this.rate<1?R2(()=>{const i=Math.sqrt(this.rate/(1-this.rate));return xe(r,ok(r.shape,1,i))},()=>r,n.training||!1):r})}}Xre.className="GaussianDropout";nt(Xre);class Yre extends Rn{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||an(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return Te(()=>{if(this.rate<1&&this.rate>0){const r=this._getNoiseShape(e);return R2(()=>{const i=an(e),l=-1.6732632423543772*1.0507009873554805;let c=kd(Of(r),this.rate);c=pA(c,"float32");const u=((1-this.rate)*(1+this.rate*l**2))**-.5,A=-u*l*this.rate,d=Je(xe(i,c),xe(Je(c,-1),l));return Je(xe(d,u),A)},()=>an(e),n.training||!1)}return e})}}Yre.className="AlphaDropout";nt(Yre);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Nx(t,e,n,r,s,i=.001){let o;if(t.rank===2)o=DP(t,e,n,r,s,i);else if(t.rank===3)o=RP(t,e,n,r,s,i);else if(t.rank===4)o=PP(t,e,n,r,s,i);else throw new xn(`batchNormalization is not implemented for array of rank ${t.rank} yet`);return o}function sMe(t,e,n,r,s=.001){return Te(()=>{const i=x2(t,r),o=i.mean,a=i.variance;return[Nx(t,o,a,n,e,s),o,a]})}function iMe(t,e,n,r,s=.001){return Te(()=>{const i=x2(t,r),o=i.mean,a=i.variance,l=[];for(const p of pu(0,t.rank))r.indexOf(p)!==-1?l.push(1):l.push(t.shape[p]);const c=Se(o,l),u=Se(a,l),A=e==null?null:Se(e,l),d=n==null?null:Se(n,l);return[Nx(t,c,u,d,A,s),o,a]})}function oMe(t,e,n,r,s=.001){return Pn(r.slice().sort(),pu(0,t.rank-1))?sMe(t,e,n,r,s):iMe(t,e,n,r,s)}class Zre extends Rn{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=Jr(e.betaInitializer||"zeros"),this.gammaInitializer=Jr(e.gammaInitializer||"ones"),this.movingMeanInitializer=Jr(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=Jr(e.movingVarianceInitializer||"ones"),this.betaConstraint=si(e.betaConstraint),this.gammaConstraint=si(e.gammaConstraint),this.betaRegularizer=es(e.betaRegularizer),this.gammaRegularizer=es(e.gammaRegularizer)}build(e){e=Yn(e);const n=this.axis>=0?this.axis:this.axis+e.length,r=e[n];if(r==null)throw new Be(`Axis ${n} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new ti({ndim:e.length,axes:{[n]:r}})];const s=[r];this.scale&&(this.gamma=this.addWeight("gamma",s,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",s,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",s,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",s,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,n){return Te(()=>{const r=n.training==null?!1:n.training,s=an(e),i=s.shape,o=i.length,a=pu(0,o),l=this.axis>=0?this.axis:this.axis+o;a.splice(l,1);const c=Im(1,o);c[l]=i[l];const u=a.slice();u.sort();const A=!Pn(u,pu(0,o).slice(0,o-1)),d=()=>{if(A){const v=Se(this.movingMean.read(),c),b=Se(this.movingVariance.read(),c),C=this.center?Se(this.beta.read(),c):null,_=this.scale?Se(this.gamma.read(),c):null;return Nx(s,v,b,C,_,this.epsilon)}else return Nx(s,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!r)return d();const[h,p,m]=oMe(s,this.gamma.read(),this.beta.read(),a,this.epsilon),y=(v,b,C)=>{Te(()=>{const _=1-C,I=v.read(),T=xe(Ct(I,b),_);v.write(Ct(I,T))})};return(()=>{y(this.movingMean,p,this.momentum),y(this.movingVariance,m,this.momentum)})(),h})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:as(this.betaInitializer),gammaInitializer:as(this.gammaInitializer),movingMeanInitializer:as(this.movingMeanInitializer),movingVarianceInitializer:as(this.movingVarianceInitializer),betaRegularizer:Nr(this.betaRegularizer),gammaRegularizer:Nr(this.gammaRegularizer),betaConstraint:ri(this.betaConstraint),gammaConstraint:ri(this.gammaConstraint)},n=super.getConfig();return Object.assign(e,n),e}}Zre.className="BatchNormalization";nt(Zre);class Jre extends Rn{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(const n of this.axis)if(!Number.isInteger(n))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=Jr(e.betaInitializer||"zeros"),this.gammaInitializer=Jr(e.gammaInitializer||"ones"),this.betaRegularizer=es(e.betaRegularizer),this.gammaRegularizer=es(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=Yn(e);const n=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let i=0;i<this.axis.length;++i)this.axis[i]<0&&(this.axis[i]+=n);for(const i of this.axis)if(i<0||i>=n)throw new Error(`Invalid axis: ${i}`);if(this.axis.length!==tf(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const r=this.axis.map(i=>e[i]),s=!0;this.scale?this.gamma=this.addWeight("gamma",r,"float32",this.gammaInitializer,this.gammaRegularizer,s):this.gamma=null,this.center?this.beta=this.addWeight("beta",r,"float32",this.betaInitializer,this.betaRegularizer,s):this.beta=null,this.built=!0}call(e,n){const r=an(e),s=r.shape,i=s.length;return Te(()=>{let{mean:a,variance:l}=x2(r,this.axis,!0);const c=Im(1,i);for(const m of this.axis)c[m]=s[m];const u=m=>m!=null&&m.shape.length!==i?Se(m,c):m;let A=this.scale?u(this.gamma.read()):null,d=this.center?u(this.beta.read()):null;const h=[],p=[];for(let m=0;m<i;++m)this.axis.indexOf(m)!==-1?(h.push(s[m]),p.push(1)):(h.push(1),p.push(s[m]));return a=dl(a,h),l=dl(l,h),A!=null&&(A=dl(A,p)),d!=null&&(d=dl(d,p)),Nx(r,a,l,d,A,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:as(this.betaInitializer),gammaInitializer:as(this.gammaInitializer),betaRegularizer:Nr(this.betaRegularizer),gammaRegularizer:Nr(this.gammaRegularizer)},n=super.getConfig();return Object.assign(e,n),e}}Jre.className="LayerNormalization";nt(Jre);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function aMe(t,e,n){return Te(()=>{if(t.rank!==4)throw new Be(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(e==null&&(e=[[1,1],[1,1]]),e.length!==2||e[0].length!==2||e[1].length!==2)throw new Be("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=mu()),n!=="channelsLast"&&n!=="channelsFirst")throw new Be(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let r;return n==="channelsFirst"?r=[[0,0],[0,0],e[0],e[1]]:r=[[0,0],e[0],e[1],[0,0]],Td(t,r)})}class ese extends Rn{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?mu():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new Be(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let n,r;if(typeof e.padding[0]=="number")n=[e.padding[0],e.padding[0]],r=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new Be(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(n=e.padding[0],e.padding[1].length!==2)throw new Be(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);r=e.padding[1]}this.padding=[n,r]}this.inputSpec=[new ti({ndim:4})]}computeOutputShape(e){e=Yn(e);let n,r;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?n=e[2]+this.padding[0][0]+this.padding[0][1]:n=null,e[3]!=null&&e[3]>=0?r=e[3]+this.padding[1][0]+this.padding[1][1]:r=null,[e[0],e[1],n,r]):(e[1]!=null&&e[1]>=0?n=e[1]+this.padding[0][0]+this.padding[0][1]:n=null,e[2]!=null&&e[2]>=0?r=e[2]+this.padding[1][0]+this.padding[1][1]:r=null,[e[0],n,r,e[3]])}call(e,n){return Te(()=>aMe(an(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}ese.className="ZeroPadding2D";nt(ese);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function fk(t,e,n,r,s,i){return Te(()=>{Ts(s),mne(i),Cl(r),n==null&&(n=[1,1]),r==null&&(r="valid"),s==null&&(s=mu()),i==null&&(i="max"),t=k$(t,s);let o;const a=r==="same"?"same":"valid";return i==="max"?o=v2(t,e,n,a):o=d2(t,e,n,a),s==="channelsFirst"&&(o=$n(o,[0,3,1,2])),o})}function tse(t,e,n,r,s,i){return Te(()=>{Ts(s),mne(i),Cl(r),n==null&&(n=[1,1,1]),r==null&&(r="valid"),s==null&&(s=mu()),i==null&&(i="max"),t=yre(t,s);let o;const a=r==="same"?"same":"valid";return i==="max"?o=iO(t,e,n,a):o=LP(t,e,n,a),s==="channelsFirst"&&(o=$n(o,[0,4,1,2,3])),o})}class nse extends Rn{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new Be(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);if(wi(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new Be(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);wi(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,Cl(this.padding),this.inputSpec=[new ti({ndim:3})]}computeOutputShape(e){e=Yn(e);const n=lu(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],n,e[2]]}call(e,n){return Te(()=>{this.invokeCallHook(e,n),e=L2(an(e),2);const r=this.poolingFunction(an(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return $f(r,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(e,n),e}}class rse extends nse{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return Ts(i),Cl(s),fk(e,n,r,s,i,"max")}}rse.className="MaxPooling1D";nt(rse);class sse extends nse{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return Ts(i),Cl(s),fk(e,n,r,s,i,"avg")}}sse.className="AveragePooling1D";nt(sse);class ise extends Rn{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new Be(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];wi(this.poolSize,"poolSize"),wi(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Ts(this.dataFormat),Cl(this.padding),this.inputSpec=[new ti({ndim:4})]}computeOutputShape(e){e=Yn(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2];return n=lu(n,this.poolSize[0],this.padding,this.strides[0]),r=lu(r,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,r]:[e[0],n,r,e[3]]}call(e,n){return Te(()=>(this.invokeCallHook(e,n),this.poolingFunction(an(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class ose extends ise{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return Ts(i),Cl(s),fk(e,n,r,s,i,"max")}}ose.className="MaxPooling2D";nt(ose);class ase extends ise{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return Ts(i),Cl(s),fk(e,n,r,s,i,"avg")}}ase.className="AveragePooling2D";nt(ase);class lse extends Rn{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new Be(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];wi(this.poolSize,"poolSize"),wi(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Ts(this.dataFormat),Cl(this.padding),this.inputSpec=[new ti({ndim:5})]}computeOutputShape(e){e=Yn(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2],s=this.dataFormat==="channelsFirst"?e[4]:e[3];return n=lu(n,this.poolSize[0],this.padding,this.strides[0]),r=lu(r,this.poolSize[1],this.padding,this.strides[1]),s=lu(s,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,r,s]:[e[0],n,r,s,e[4]]}call(e,n){return Te(()=>(this.invokeCallHook(e,n),this.poolingFunction(an(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class cse extends lse{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return Ts(i),Cl(s),tse(e,n,r,s,i,"max")}}cse.className="MaxPooling3D";nt(cse);class use extends lse{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return Ts(i),Cl(s),tse(e,n,r,s,i,"avg")}}use.className="AveragePooling3D";nt(use);class Ase extends Rn{constructor(e){super(e),this.inputSpec=[new ti({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,n){throw new xn}}class dse extends Ase{constructor(e){super(e||{})}call(e,n){return Te(()=>{const r=an(e);return os(r,1)})}}dse.className="GlobalAveragePooling1D";nt(dse);class hse extends Ase{constructor(e){super(e||{})}call(e,n){return Te(()=>{const r=an(e);return gl(r,1)})}}hse.className="GlobalMaxPooling1D";nt(hse);class fse extends Rn{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Ts(this.dataFormat),this.inputSpec=[new ti({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,n){throw new xn}getConfig(){const e={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class pse extends fse{call(e,n){return Te(()=>{const r=an(e);return this.dataFormat==="channelsLast"?os(r,[1,2]):os(r,[2,3])})}}pse.className="GlobalAveragePooling2D";nt(pse);class mse extends fse{call(e,n){return Te(()=>{const r=an(e);return this.dataFormat==="channelsLast"?gl(r,[1,2]):gl(r,[2,3])})}}mse.className="GlobalMaxPooling2D";nt(mse);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class gse extends Rn{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(e,n),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,n,r={}){const s=n.layer,i=ud(s,r);delete n.layer;const o={layer:i};return Object.assign(o,n),new e(o)}}class yse extends gse{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=Yn(e),e.length<3)throw new Be(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=Yn(e);const n=[e[0]].concat(e.slice(2)),r=this.layer.computeOutputShape(n),s=e[1];return[r[0],s].concat(r.slice(1))}call(e,n){return Te(()=>(e=an(e),Nre((o,a)=>[an(this.layer.call(o,n)),[]],e,[],!1,null,null,!1,!0)[1]))}}yse.className="TimeDistributed";nt(yse);function lMe(t){Ym(E$e,"BidirectionalMergeMode",t)}const cMe="concat";class wse extends gse{constructor(e){super(e);const n=e.layer.getConfig(),r={};r.className=e.layer.getClassName(),r.config=n,this.forwardLayer=ud(r),n.goBackwards=n.goBackwards!==!0;const s={};if(s.className=e.layer.getClassName(),s.config=n,this.backwardLayer=ud(s),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?cMe:e.mergeMode,lMe(this.mergeMode),e.weights)throw new xn("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const n=e.length,r=Math.floor(n/2);this.forwardLayer.setWeights(e.slice(0,r)),this.backwardLayer.setWeights(e.slice(r))}computeOutputShape(e){let n=this.forwardLayer.computeOutputShape(e);Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),n=n;let r,s,i;return this.returnState&&(i=n.slice(1)),r=n[0],r=r,this.mergeMode==="concat"?(r[r.length-1]*=2,s=[r]):this.mergeMode==null?s=[r,r.slice()]:s=[r],this.returnState?this.mergeMode==null?s.concat(i).concat(i.slice()):[r].concat(i).concat(i.slice()):Go(s)}apply(e,n){let r=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const i=_re(e,r,s,this.numConstants);if(e=i.inputs,r=i.initialState,s=i.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(r==null||r.length===0)&&s==null)return super.apply(e,n);const o=[],a=[];if(r!=null){const c=r.length;if(c%2>0)throw new Be("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,o.push(...r);const u=r.map(A=>new ti({shape:A.shape}));this.forwardLayer.stateSpec=u.slice(0,c/2),this.backwardLayer.stateSpec=u.slice(c/2),a.push(...u)}if(s!=null)throw new xn("Support for constants in Bidirectional layers is not implemented yet.");const l=o[0]instanceof SA;for(const c of o)if(c instanceof SA!==l)throw new Be("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){const c=[e].concat(o),u=this.inputSpec.concat(a),A=this.inputSpec;this.inputSpec=u;const d=super.apply(c,n);return this.inputSpec=A,d}else return super.apply(e,n)}call(e,n){return Te(()=>{const r=n.initialState;let s,i;if(r==null)s=this.forwardLayer.call(e,n),i=this.backwardLayer.call(e,n);else{const l=r.slice(0,r.length/2),c=r.slice(r.length/2);s=this.forwardLayer.call(e,Object.assign(n,{initialState:l})),i=this.backwardLayer.call(e,Object.assign(n,{initialState:c}))}let o;this.returnState&&(Array.isArray(s)&&(o=s.slice(1).concat(i.slice(1))),s=s[0],i=i[0]),this.returnSequences&&(i=wl(i,1));let a;return this.mergeMode==="concat"?a=g$([s,i]):this.mergeMode==="sum"?a=Je(s,i):this.mergeMode==="ave"?a=xe(.5,Je(s,i)):this.mergeMode==="mul"?a=xe(s,i):this.mergeMode==null&&(a=[s,i]),this.returnState?this.mergeMode==null?a.concat(o):[a].concat(o):a})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){nm(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),nm(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,n){Array.isArray(n)&&(n=n[0]);let r;if(this.returnSequences?this.mergeMode==null?r=[n,n]:r=n:this.mergeMode==null?r=[null,null]:r=null,this.returnState){const i=this.forwardLayer.states.map(o=>null);return Array.isArray(r)?r.concat(i).concat(i):[r].concat(i).concat(i)}else return r}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(e,n),e}static fromConfig(e,n){const r=ud(n.layer);if(delete n.layer,n.numConstants!=null)throw new xn("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const s=n;return s.layer=r,new e(s)}}wse.className="Bidirectional";nt(wse);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class vse extends Rn{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return Te(()=>(e=an(e),e.dtype!=="float32"&&(e=pA(e,"float32")),Je(xe(e,this.scale),this.offset)))}}vse.className="Rescaling";nt(vse);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const{resizeBilinear:uMe,cropAndResize:AMe}=ru;class xse extends Rn{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,n,r,s,i,o,a,l){return Te(()=>{let c,u=!1;const A=n/o,d=r/a,h=(s+n)/o,p=(i+r)/a,m=[A,d,h,p],y=[];e.rank===3?(u=!0,c=sa([e])):c=e;for(let _=0;_<c.shape[0];_++)y.push(m);const g=oc(y,[y.length,4]),v=_m(0,y.length,1,"int32"),C=AMe(c,g,v,[s,i],"nearest");return pA(u?an(vl(C)):C,l)})}upsize(e,n,r,s){return Te(()=>{const i=uMe(e,[n,r]);return pA(i,s)})}call(e,n){return Te(()=>{const r=an(e),s=r.dtype,i=r.shape,o=i[i.length-3],a=i[i.length-2];let l=0;o!==this.height&&(l=Math.floor((o-this.height)/2));let c=0;return a!==this.width&&(c=Math.floor((a-this.width)/2),c===0&&(c=1)),l>=0&&c>=0?this.centerCrop(r,l,c,this.height,this.width,o,a,s):this.upsize(e,this.height,this.width,s)})}getConfig(){const e={height:this.height,width:this.width},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=Yn(e);const n=e.length-3,r=e.length-2;return e[n]=this.height,e[r]=this.width,e}}xse.className="CenterCrop";nt(xse);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function dMe(t,e,n,r){let s=an(t);if(s.dtype!=="int32"&&(s=pA(s,"int32")),e==="int")return s;const i=s.shape;if(s.rank===0&&(s=Xi(s,-1)),e==="oneHot"&&s.shape[s.shape.length-1]!==1&&(s=Xi(s,-1)),s.rank>2)throw new Be(`When outputMode is not int, maximum output rank is 2 Received outputMode ${e} and input shape ${i} which would result in output rank ${s.rank}.`);const o=["multiHot","oneHot"].includes(e),a=s;let l;if(typeof r<"u"&&e==="count"?l=P_(a,r,n,o):l=P_(a,[],n,o),e!=="tfIdf")return l;if(r)return xe(l,r);throw new Be("When outputMode is 'tfIdf', weights must be provided.")}/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class bse extends Rn{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){return e=Yn(e),e==null?[this.numTokens]:this.outputMode==="oneHot"&&e[e.length-1]!==1?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,n){return Te(()=>{e=an(e),e.dtype!=="int32"&&(e=pA(e,"int32"));let r;if(typeof n.countWeights<"u"){if(this.outputMode!=="count")throw new Be(`countWeights is not used when outputMode !== count.
              Received countWeights=${n.countWeights}`);r=an(n.countWeights)}const s=gl(e),i=sy(e),o=ca(this.numTokens,s).bufferSync().get(0),a=kd(i,0).bufferSync().get(0);if(!(o&&a))throw new Be(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return dMe(e,this.outputMode,this.numTokens,r)})}}bse.className="CategoryEncoding";nt(bse);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const hMe=["bilinear","nearest"],yz=new Set(hMe);class Cse extends Rn{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation)if(yz.has(e.interpolation))this.interpolation=e.interpolation;else throw new Be(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);else this.interpolation="bilinear";this.cropToAspectRatio=!!e.cropToAspectRatio}computeOutputShape(e){e=Yn(e);const n=e[2];return[this.height,this.width,n]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return Te(()=>{const r=[this.height,this.width];if(this.interpolation==="bilinear")return ru.resizeBilinear(e,r,!this.cropToAspectRatio);if(this.interpolation==="nearest")return ru.resizeNearestNeighbor(e,r,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...yz]} are supported`)})}}Cse.className="Resizing";nt(Cse);/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Sse{constructor(e){this.seed=e}next(){if(this.seed!==void 0)return this.seed++}}Sse.className="RandomSeed";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Bse extends Rn{constructor(e){super(e),this.randomGenerator=new Sse(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},n=super.getConfig();return Object.assign(e,n),e}}Bse.className="BaseRandomLayer";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const fMe=["bilinear","nearest"],wz=new Set(fMe);class _se extends Bse{constructor(e){super(e);const{factor:n,interpolation:r="bilinear"}=e;if(this.factor=n,Array.isArray(this.factor)&&this.factor.length===2)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new Be(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);if(this.widthLower<-1||this.widthUpper<-1)throw new Be(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new Be(`factor cannot have upper bound less than lower bound.
        Got upper bound: ${this.widthUpper}.
        Got lower bound: ${this.widthLower}
      `);if(r)if(wz.has(r))this.interpolation=r;else throw new Be(`Invalid interpolation parameter: ${r} is not implemented`)}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=Yn(e);const n=e[2];return[this.imgHeight,-1,n]}call(e,n){return Te(()=>{const r=an(e);this.imgHeight=r.shape[r.shape.length-3];const s=r.shape[r.shape.length-2];this.widthFactor=Of([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let i=this.widthFactor.dataSync()[0]*s;i=Math.round(i);const o=[this.imgHeight,i];switch(this.interpolation){case"bilinear":return ru.resizeBilinear(e,o);case"nearest":return ru.resizeNearestNeighbor(e,o);default:throw new Error(`Interpolation is ${this.interpolation}
          but only ${[...wz]} are supported`)}})}}_se.className="RandomWidth";nt(_se);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pMe=Le();pMe.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var Ca;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(Ca||(Ca={}));var vz;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(vz||(vz={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P$={};function mMe(t,e){const n={tfOpName:t,category:"custom",inputs:[],attrs:[],customExecutor:e};P$[t]=n}function Nse(t){return P$[t]}function gMe(t){delete P$[t]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M(t,e,n,r,s){const i=e.inputParams[t];if(i&&i.inputIndexStart!==void 0){const a=i.inputIndexStart,l=i.inputIndexEnd===0?void 0:i.inputIndexEnd===void 0?a+1:i.inputIndexEnd,c=a<0?e.inputNames.length+a:a;if(i.type==="tensor")return Ii(e.inputNames[c],n,r,s);if(i.type==="tensors"){const d=e.inputs.slice(a,l);return e.inputNames.slice(a,l).filter((p,m)=>{var y;return((y=d[m])===null||y===void 0?void 0:y.op)!=="NoOp"}).map(p=>Ii(p,n,r,s))}const u=Ii(e.inputNames[c],n,r,s),A=u.dataSync();return i.type==="number"?A[0]:ml(u.shape,A)}const o=e.attrParams[t];return o&&o.value}function Ii(t,e,n,r){const[s,i]=Ba(t,n);if(r!=null){const a=r.getHashTableHandleByName(s);if(a!=null)return a}const o=n.currentContextIds.find(a=>!!e[G_(s,a)]);return o!==void 0?e[G_(s,o)][i]:void 0}function xz(t,e,n){return e[G_(t,n.currentContextId)]}function td(t,e){const[n,r,s]=Ba(t,e);return[G_(n,e&&e.currentContextId),r,s]}function G_(t,e){return e?`${t}-${e}`:t}function Ba(t,e){if(t==="")return["",0,void 0];const n=e!=null&&e.parseNodeNameCache!=null;if(n){const i=e.parseNodeNameCache.get(t);if(i!=null)return i}const r=t.split(":");let s;if(r.length===1)s=[t,0,void 0];else{const i=r[0],o=r.length===3?r[1]:void 0,a=Number(r[r.length-1]);s=[i,a,o]}return n&&e.parseNodeNameCache.set(t,s),s}function gB(t,e,n){let r=M("pad",t,e,n);if(r==="explicit"){r=M("explicitPaddings",t,e,n);const s=[[0,0],[0,0],[0,0],[0,0]];for(let i=0;i<4;i++)s[i][0]=r[i*2],s[i][1]=r[i*2+1];return s}return r}function nd(t){return t.kept?t:hA(t)}/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yMe=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],wMe=Object.freeze(Object.defineProperty({__proto__:null,json:yMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vMe=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],xMe=Object.freeze(Object.defineProperty({__proto__:null,json:vMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bMe=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],CMe=Object.freeze(Object.defineProperty({__proto__:null,json:bMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SMe=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],BMe=Object.freeze(Object.defineProperty({__proto__:null,json:SMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Me=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],NMe=Object.freeze(Object.defineProperty({__proto__:null,json:_Me},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IMe=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],EMe=Object.freeze(Object.defineProperty({__proto__:null,json:IMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kMe=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],TMe=Object.freeze(Object.defineProperty({__proto__:null,json:kMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FMe=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],LMe=Object.freeze(Object.defineProperty({__proto__:null,json:FMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DMe=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],RMe=Object.freeze(Object.defineProperty({__proto__:null,json:DMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PMe=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],OMe=Object.freeze(Object.defineProperty({__proto__:null,json:PMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Me=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],UMe=Object.freeze(Object.defineProperty({__proto__:null,json:$Me},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MMe=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],QMe=Object.freeze(Object.defineProperty({__proto__:null,json:MMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jMe=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],HMe=Object.freeze(Object.defineProperty({__proto__:null,json:jMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zMe=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],VMe=Object.freeze(Object.defineProperty({__proto__:null,json:zMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WMe=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],GMe=Object.freeze(Object.defineProperty({__proto__:null,json:WMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KMe=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],qMe=Object.freeze(Object.defineProperty({__proto__:null,json:KMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XMe=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],YMe=Object.freeze(Object.defineProperty({__proto__:null,json:XMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZMe=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],JMe=Object.freeze(Object.defineProperty({__proto__:null,json:ZMe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e6e=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],t6e=Object.freeze(Object.defineProperty({__proto__:null,json:e6e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bz{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[wMe,xMe,CMe,BMe,NMe,EMe,TMe,LMe,RMe,OMe,UMe,QMe,HMe,VMe,GMe,qMe,YMe,JMe,t6e],n=[].concat(...e.map(r=>r.json));this.opMappers=n.reduce((r,s)=>(r[s.tfOpName]=s,r),{})}transformGraph(e,n={}){const r=e.node,s=[],i=[],o=[],a=r.reduce((m,y)=>(m[y.name]=this.mapNode(y),y.op.startsWith("Placeholder")?s.push(m[y.name]):y.op==="Const"?i.push(m[y.name]):(y.input==null||y.input.length===0)&&o.push(m[y.name]),m),{});let l=[];const c=[];let u={},A={};n!=null&&(u=this.mapSignatureEntries(n.inputs),A=this.mapSignatureEntries(n.outputs));const d=Object.keys(a);d.forEach(m=>{const y=a[m];y.inputNames.forEach((g,v)=>{const[b,,C]=td(g),_=a[b];if(_.outputs!=null){const I=_.outputs.indexOf(C);if(I!==-1){const T=`${b}:${I}`;y.inputNames[v]=T}}y.inputs.push(_),_.children.push(y)})}),Object.keys(A).length===0?d.forEach(m=>{const y=a[m];y.children.length===0&&c.push(y)}):Object.keys(A).forEach(m=>{const[y]=td(m),g=a[y];g!=null&&(g.signatureKey=A[m],c.push(g))}),Object.keys(u).length>0?Object.keys(u).forEach(m=>{const[y]=td(m),g=a[y];g&&(g.signatureKey=u[m],l.push(g))}):l=s;let h={};e.library!=null&&e.library.function!=null&&(h=e.library.function.reduce((m,y)=>(m[y.signature.name]=this.mapFunction(y),m),{}));const p={nodes:a,inputs:l,outputs:c,weights:i,placeholders:s,signature:n,functions:h};return o.length>0&&(p.initNodes=o),p}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,r)=>(n[e[r].name]=r,n),{})}mapNode(e){const n=Nse(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const r={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(s=>s.startsWith("^")?s.slice(1):s),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(r.inputParams=n.inputs.reduce((s,i)=>(s[i.name]={type:i.type,inputIndexStart:i.start,inputIndexEnd:i.end},s),{})),n.attrs!=null&&(r.attrParams=n.attrs.reduce((s,i)=>{const o=i.type;let a;switch(i.type){case"string":a=pL(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=pL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"string[]":a=bL(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=bL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"number":a=gL(e.attr,i.tfName,i.defaultValue||0),a===void 0&&i.tfDeprecatedName&&(a=gL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"number[]":a=xL(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=xL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"bool":a=mL(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=mL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"bool[]":a=SL(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=SL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"shape":a=vL(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=vL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"shape[]":a=CL(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=CL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"dtype":a=yL(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=yL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"dtype[]":a=wL(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=wL(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"func":a=Cz(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=Cz(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${i.type} for op: ${e.op}`)}return s[i.name]={value:a,type:o},s},{})),r}mapFunction(e){const n=e.nodeDef,r=[],s=[];let i={};n!=null&&(i=n.reduce((A,d)=>(A[d.name]=this.mapNode(d),d.op==="Const"&&s.push(A[d.name]),A),{}));const o=[],a=[];e.signature.inputArg.forEach(A=>{const[d]=td(A.name),h={name:d,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:O$(A.type),type:"dtype"}},children:[]};h.signatureKey=A.name,o.push(h),i[d]=h}),Object.keys(i).forEach(A=>{const d=i[A];d.inputNames.forEach((h,p)=>{const[m,,y]=td(h),g=i[m];if(g.outputs!=null){const v=g.outputs.indexOf(y);if(v!==-1){const b=`${m}:${v}`;d.inputNames[p]=b}}d.inputs.push(g),g.children.push(d)})});const c=e.ret;e.signature.outputArg.forEach(A=>{const[d,h]=td(c[A.name]),p=i[d];p!=null&&(p.defaultOutput=h,a.push(p))});const u=this.mapArgsToSignature(e);return{nodes:i,inputs:o,outputs:a,weights:s,placeholders:r,signature:u}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r),n),{}),outputs:e.signature.outputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r,e.ret),n),{})}}mapArgToTensorInfo(e,n){let r=e.name;return n!=null&&(r=n[r]),{name:r,dtype:e.type}}}function n6e(t){const e=Le().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function Ise(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):n6e(t);return e?n:n.toLowerCase()}function pL(t,e,n,r=!1){const s=t[e];return s!=null?Ise(s.s,r):n}function mL(t,e,n){const r=t[e];return r?r.b:n}function gL(t,e,n){const r=t[e]||{},s=r.i!=null?r.i:r.f!=null?r.f:n;return typeof s=="number"?s:parseInt(s,10)}function O$(t){switch(typeof t=="string"&&(t=Ca[t]),t){case Ca.DT_FLOAT:case Ca.DT_HALF:return"float32";case Ca.DT_INT32:case Ca.DT_INT64:case Ca.DT_INT8:case Ca.DT_UINT8:return"int32";case Ca.DT_BOOL:return"bool";case Ca.DT_DOUBLE:return"float32";case Ca.DT_STRING:return"string";case Ca.DT_COMPLEX64:case Ca.DT_COMPLEX128:return"complex64";default:return null}}function Cz(t,e,n){const r=t[e];return r&&r.func?r.func.name:n}function yL(t,e,n){const r=t[e];return r&&r.type?O$(r.type):n}function wL(t,e,n){const r=t[e];return r&&r.list&&r.list.type?r.list.type.map(s=>O$(s)):n}function Ese(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function vL(t,e,n){const r=t[e];return r&&r.shape?Ese(r.shape):n}function xL(t,e,n){const r=t[e];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(s=>typeof s=="number"?s:parseInt(s,10)):n}function bL(t,e,n,r=!1){const s=t[e];return s&&s.list&&s.list.s?s.list.s.map(i=>Ise(i,r)):n}function CL(t,e,n){const r=t[e];return r&&r.list&&r.list.shape?r.list.shape.map(s=>Ese(s)):n}function SL(t,e,n){const r=t[e];return r&&r.list&&r.list.b?r.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class r6e{constructor(e,n,r){this.node=e,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(s=>this.getInput(s)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((s,i)=>(s[i]=this.getAttr(i),s),{}))}getInput(e){return Ii(e,this.tensorMap,this.context)}getAttr(e,n){const r=this.node.rawAttrs[e];if(r.tensor!=null)return Ii(e,this.tensorMap,this.context);if(r.i!=null||r.f!=null)return gL(this.node.rawAttrs,e,n);if(r.s!=null)return pL(this.node.rawAttrs,e,n);if(r.b!=null)return mL(this.node.rawAttrs,e,n);if(r.shape!=null)return vL(this.node.rawAttrs,e,n);if(r.type!=null)return yL(this.node.rawAttrs,e,n);if(r.list!=null){if(r.list.i!=null||r.list.f!=null)return xL(this.node.rawAttrs,e,n);if(r.list.s!=null)return bL(this.node.rawAttrs,e,n);if(r.list.shape!=null)return CL(this.node.rawAttrs,e,n);if(r.list.b!=null)return SL(this.node.rawAttrs,e,n);if(r.list.type!=null)return wL(this.node.rawAttrs,e,n)}return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oi=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:gP,abs:Ms,acos:SP,acosh:BP,add:Je,addN:gee,all:yE,any:vx,argMax:bm,argMin:_P,asin:NP,asinh:IP,atan:EP,atan2:kP,atanh:TP,avgPool:d2,avgPool3d:LP,basicLSTMCell:yee,batchNorm:I1,batchNorm2d:DP,batchNorm3d:RP,batchNorm4d:PP,batchToSpaceND:h2,bincount:OP,bitwiseAnd:wee,booleanMaskAsync:ste,broadcastArgs:vee,broadcastTo:tm,buffer:wn,cast:At,ceil:$P,clipByValue:na,clone:hA,complex:xd,concat:Is,concat1d:UP,concat2d:MP,concat3d:QP,concat4d:jP,conv1d:wE,conv2d:bd,conv2dTranspose:vE,conv3d:zP,conv3dTranspose:VP,cos:f2,cosh:xE,cosineWindow:VE,cumprod:Cx,cumsum:bE,denseBincount:P_,depthToSpace:WP,depthwiseConv2d:E1,diag:bee,dilation2d:GP,div:jt,divNoNan:KP,dot:qP,dropout:EO,einsum:Sp,elu:k1,enclosingPowerOfTwo:kO,ensureShape:Cee,equal:Ac,erf:CE,euclideanNorm:YP,exp:ra,expandDims:Xi,expm1:ZP,eye:SE,fft:N2,fill:Wm,floor:F1,floorDiv:gE,fused:hte,gather:L1,gatherND:lte,greater:ca,greaterEqual:kd,ifft:cy,imag:p2,image:ru,inTopKAsync:cte,irfft:UE,isFinite:JP,isInf:eO,isNaN:tO,leakyRelu:m2,less:iy,lessEqual:Pf,linalg:LO,linspace:_ee,localResponseNormalization:nO,log:Ra,log1p:g2,logSigmoid:rO,logSoftmax:_E,logSumExp:y2,logicalAnd:fu,logicalNot:w2,logicalOr:NE,logicalXor:sO,losses:vte,lowerBound:Iee,matMul:_n,max:gl,maxPool:v2,maxPool3d:iO,maxPoolWithArgmax:Eee,maximum:TA,mean:os,meshgrid:kee,min:sy,minimum:gf,mirrorPad:oO,mod:aO,moments:x2,movingAverage:ite,mul:xe,multiRNNCell:Tee,multinomial:Fee,neg:Pr,norm:T1,notEqual:Bm,oneHot:oy,ones:Yo,onesLike:Pa,op:ye,outerProduct:Lee,pad:Td,pad1d:Dee,pad2d:Ree,pad3d:Pee,pad4d:Oee,pool:lO,pow:bA,prelu:C2,print:CP,prod:cO,raggedGather:$ee,raggedRange:Uee,raggedTensorToTensor:Mee,rand:Qee,randomGamma:Vee,randomNormal:kE,randomStandardNormal:Wee,randomUniform:Of,randomUniformInt:Gee,range:_m,real:ay,reciprocal:wO,relu:Bu,relu6:TE,reshape:Se,reverse:wl,reverse1d:Kee,reverse2d:qee,reverse3d:Xee,reverse4d:Yee,rfft:I2,round:FE,rsqrt:LE,scalar:Xt,scatterND:ote,searchSorted:IE,selu:DE,separableConv2d:RE,setdiff1dAsync:Zee,sigmoid:au,sign:vO,signal:wte,sin:PE,sinh:OE,slice:Un,slice1d:S2,slice2d:$E,slice3d:B2,slice4d:ly,softmax:_2,softplus:Gm,spaceToBatchND:b2,sparse:xte,sparseToDense:ate,spectral:yte,split:Jo,sqrt:xi,square:br,squaredDifference:ME,squeeze:$f,stack:sa,step:qm,stridedSlice:xO,string:bte,sub:Ct,sum:Lt,tan:bO,tanh:mf,tensor:oc,tensor1d:Zi,tensor2d:_0,tensor3d:CO,tensor4d:Jee,tensor5d:ete,tensor6d:tte,tensorScatterUpdate:nte,tile:dl,topk:BO,transpose:$n,truncatedNormal:jE,unique:_O,unsortedSegmentSum:HE,unstack:vl,upperBound:rte,variable:NO,where:Fi,whereAsync:IO,zeros:Vs,zerosLike:Mn},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s6e=(t,e,n,r=Oi)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(M("a",t,e,n),M("b",t,e,n))];case"AddN":return[r.addN(M("tensors",t,e,n))];case"FloorMod":case"Mod":return[r.mod(M("a",t,e,n),M("b",t,e,n))];case"Mul":return[r.mul(M("a",t,e,n),M("b",t,e,n))];case"RealDiv":case"Div":return[r.div(M("a",t,e,n),M("b",t,e,n))];case"DivNoNan":return[r.divNoNan(M("a",t,e,n),M("b",t,e,n))];case"FloorDiv":return[r.floorDiv(M("a",t,e,n),M("b",t,e,n))];case"Sub":return[r.sub(M("a",t,e,n),M("b",t,e,n))];case"Minimum":return[r.minimum(M("a",t,e,n),M("b",t,e,n))];case"Maximum":return[r.maximum(M("a",t,e,n),M("b",t,e,n))];case"Pow":return[r.pow(M("a",t,e,n),M("b",t,e,n))];case"SquaredDifference":return[r.squaredDifference(M("a",t,e,n),M("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i6e=(t,e,n,r=Oi)=>{switch(t.op){case"Abs":case"ComplexAbs":return[r.abs(M("x",t,e,n))];case"Acos":return[r.acos(M("x",t,e,n))];case"Acosh":return[r.acosh(M("x",t,e,n))];case"Asin":return[r.asin(M("x",t,e,n))];case"Asinh":return[r.asinh(M("x",t,e,n))];case"Atan":return[r.atan(M("x",t,e,n))];case"Atan2":return[r.atan2(M("x",t,e,n),M("y",t,e,n))];case"Atanh":return[r.atanh(M("x",t,e,n))];case"Ceil":return[r.ceil(M("x",t,e,n))];case"Complex":return[r.complex(M("real",t,e,n),M("imag",t,e,n))];case"Cos":return[r.cos(M("x",t,e,n))];case"Cosh":return[r.cosh(M("x",t,e,n))];case"Elu":return[r.elu(M("x",t,e,n))];case"Erf":return[r.erf(M("x",t,e,n))];case"Exp":return[r.exp(M("x",t,e,n))];case"Expm1":return[r.expm1(M("x",t,e,n))];case"Floor":return[r.floor(M("x",t,e,n))];case"Log":return[r.log(M("x",t,e,n))];case"Log1p":return[r.log1p(M("x",t,e,n))];case"Imag":return[r.imag(M("x",t,e,n))];case"Neg":return[r.neg(M("x",t,e,n))];case"Reciprocal":return[r.reciprocal(M("x",t,e,n))];case"Real":return[r.real(M("x",t,e,n))];case"Relu":return[r.relu(M("x",t,e,n))];case"Round":return[r.round(M("x",t,e,n))];case"Selu":return[r.selu(M("x",t,e,n))];case"Sigmoid":return[r.sigmoid(M("x",t,e,n))];case"Sin":return[r.sin(M("x",t,e,n))];case"Sign":return[r.sign(M("x",t,e,n))];case"Sinh":return[r.sinh(M("x",t,e,n))];case"Softplus":return[r.softplus(M("x",t,e,n))];case"Sqrt":return[r.sqrt(M("x",t,e,n))];case"Square":return[r.square(M("x",t,e,n))];case"Tanh":return[r.tanh(M("x",t,e,n))];case"Tan":return[r.tan(M("x",t,e,n))];case"ClipByValue":return[r.clipByValue(M("x",t,e,n),M("clipValueMin",t,e,n),M("clipValueMax",t,e,n))];case"Relu6":return[r.relu6(M("x",t,e,n))];case"Rsqrt":return[r.rsqrt(Ii(t.inputNames[0],e,n))];case"LeakyRelu":return[r.leakyRelu(M("x",t,e,n),M("alpha",t,e,n))];case"Prelu":return[r.prelu(M("x",t,e,n),M("alpha",t,e,n))];case"IsNan":return[r.isNaN(Ii(t.inputNames[0],e,n))];case"IsInf":return[r.isInf(Ii(t.inputNames[0],e,n))];case"IsFinite":return[r.isFinite(Ii(t.inputNames[0],e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zl(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){ee(t.length===e.length,()=>n+` Shapes ${t} and ${e} must match`);for(let r=0;r<t.length;r++){const s=t[r],i=e[r];ee(s<0||i<0||s===i,()=>n+` Shapes ${t} and ${e} must match`)}}}function Sz(t){return!(typeof t=="number"||t.some(e=>e<0))}function _w(t,e,n){let r=BL(t,n);const s=!Sz(r);if(s&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(s&&e.forEach(i=>{r=BL(i.shape,r)}),!Sz(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function BL(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const n=[];for(let r=0;r<t.length;++r){const s=t[r],i=e[r];if(s>=0&&i>=0&&s!==i)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);n[r]=s>=0?s:i}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class o6e{constructor(e,n,r,s,i,o,a){this.name=e,this.dtype=n,this.maxSize=r,this.elementShape=s,this.identicalElementShapes=i,this.dynamicSize=o,this.clearAfterRead=a,this.tensors=[],this.closed_=!1,this.idTensor=Xt(0),Js(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const r=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),zl(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),r.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(r.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);r.tensor=n,Js(n),r.written=!0,this.tensors[e]=r}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((r,s)=>this.write(r,n[s]))}gather(e,n){if(n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let s=0;s<this.size();s++)e.push(s)}if(e.length===0)return oc([],[0].concat(this.elementShape));const r=this.readMany(e);return zl(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),sa(r,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return oc([],[0].concat(this.elementShape));const n=[];for(let s=0;s<this.size();s++)n.push(s);const r=this.readMany(n);return zl(this.elementShape,r[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${r[0].shape})`),Is(r,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const r=Math.max(...e);if(!this.dynamicSize&&r>=this.maxSize)throw new Error(`Max index must be < array size (${r}  vs. ${this.maxSize})`);this.writeMany(e,vl(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let r=0;const s=e.map(l=>(r+=l,r));if(r!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const i=r===0?0:n.size/r,o=[];Te(()=>{n=Se(n,[1,r,i]);for(let l=0;l<e.length;++l){const u=[0,l===0?0:s[l-1],0],A=[1,e[l],i];o[l]=Se(Un(n,u,A),this.elementShape)}return o});const a=[];for(let l=0;l<e.length;l++)a[l]=l;this.writeMany(a,o)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Em{get id(){return this.idTensor.id}constructor(e,n,r,s=-1){this.tensors=e,this.elementShape=n,this.elementDtype=r,e!=null&&e.forEach(i=>{if(r!==i.dtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${i.dtype}`);zl(n,i.shape,"TensorList shape mismatch: "),Js(i)}),this.idTensor=Xt(0),this.maxNumElements=s,Js(this.idTensor)}copy(){return new Em([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,r=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(r!==-1&&this.tensors.length!==r)throw new Error(`Operation expected a list with ${r} elements but got a list with ${this.tensors.length} elements.`);zl(e,this.elementShape,"TensorList shape mismatch: ");const s=_w(this.elementShape,this.tensors,e);return Te(()=>{const i=this.tensors.map(o=>Se(o,s));return sa(i,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const r=_w(this.elementShape,this.tensors,e),s=this.tensors.pop();return s.kept=!1,zl(s.shape,e,"TensorList shape mismatch: "),Se(s,r)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(zl(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Js(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const n=new Em([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let r=0;r<Math.min(this.tensors.length,e);++r)n.tensors[r]=this.tensors[r];return n}getItem(e,n,r){if(r!==this.elementDtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);zl(this.tensors[e].shape,n,"TensorList shape mismatch: ");const s=_w(this.elementShape,this.tensors,n);return Se(this.tensors[e],s)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);zl(this.elementShape,n.shape,"TensorList shape mismatch: "),Js(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,r){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);zl(this.elementShape,r,"TensorList shape mismatch: "),e=e.slice(0,this.size());const s=_w(this.elementShape,this.tensors,r);return e.length===0?oc([],[0].concat(s)):Te(()=>{const i=e.map(o=>Se(this.tensors[o],s));return sa(i,0)})}concat(e,n){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);zl(this.elementShape,n,"TensorList shape mismatch: ");const r=_w(this.elementShape,this.tensors,n);return this.size()===0?oc([],[0].concat(r)):Te(()=>{const s=this.tensors.map(i=>Se(i,r));return Is(s,0)})}}function a6e(t,e,n){const r=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==n)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${n}`);const s=t.shape.slice(1);zl(s,e,"TensorList shape mismatch: ");const i=vl(t);return new Em(i,e,r)}function l6e(t,e,n,r){return new Em([],t,e,r)}function c6e(t,e,n,r){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const s=Math.max(...e);if(r!=null&&r!==-1&&s>=r)throw new Error(`Max index must be < array size (${s}  vs. ${r})`);const i=new Em([],n,t.dtype,r),o=vl(t,0);return e.forEach((a,l)=>{i.setItem(a,o[l])}),i}function u6e(t,e,n){let r=0;const s=e.map(u=>(r+=u,r));if(r!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${t.shape}`);const i=t.shape.slice(1),o=BL(i,n),a=r===0?0:t.size/r,l=Te(()=>{const u=[];t=Se(t,[1,r,a]);for(let A=0;A<e.length;++A){const h=[0,A===0?0:s[A-1],0],p=[1,e[A],a];u[A]=Se(Un(t,h,p),o)}return t.dispose(),u}),c=new Em([],n,t.dtype,e.length);for(let u=0;u<l.length;u++)c.setItem(u,l[u]);return c}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A6e=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const r=M("thenBranch",t,e,n),s=M("elseBranch",t,e,n),i=M("cond",t,e,n),o=M("args",t,e,n);return(await i.data())[0]?n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap):n.functionMap[s].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=M("body",t,e,n),s=M("cond",t,e,n),i=M("args",t,e,n),o=await n.functionMap[s].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap),a=i.map(u=>u.id);let l=await o[0].data();o.forEach(u=>{!u.kept&&a.indexOf(u.id)===-1&&u.dispose()});let c=i;for(;l[0];){const u=c;c=await n.functionMap[r].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);const A=c.map(h=>h.id);u.forEach(h=>{!h.kept&&a.indexOf(h.id)===-1&&A.indexOf(h.id)===-1&&h.dispose()});const d=await n.functionMap[s].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);l=await d[0].data(),d.forEach(h=>{!h.kept&&a.indexOf(h.id)===-1&&A.indexOf(h.id)===-1&&h.dispose()})}return c}case"LoopCond":{const r=M("pred",t,e,n);return[nd(r)]}case"Switch":{const r=M("pred",t,e,n);let s=M("data",t,e,n);return s.kept||(s=nd(s)),(await r.data())[0]?[void 0,s]:[s,void 0]}case"Merge":{const r=t.inputNames.find(s=>Ii(s,e,n)!==void 0);if(r){const s=Ii(r,e,n);return[nd(s)]}return}case"Enter":{const r=M("frameName",t,e,n),s=M("tensor",t,e,n);return n.enterFrame(r),[nd(s)]}case"Exit":{const r=M("tensor",t,e,n);return n.exitFrame(),[nd(r)]}case"NextIteration":{const r=M("tensor",t,e,n);return n.nextIteration(),[nd(r)]}case"TensorArrayV3":{const r=M("size",t,e,n),s=M("dtype",t,e,n),i=M("elementShape",t,e,n),o=M("dynamicSize",t,e,n),a=M("clearAfterRead",t,e,n),l=M("identicalElementShapes",t,e,n),c=M("name",t,e,n),u=new o6e(c,s,r,i,l,o,a);return n.addTensorArray(u),[u.idTensor,Xt(1)]}case"TensorArrayWriteV3":{const r=M("tensorArrayId",t,e,n),s=M("index",t,e,n),i=M("tensor",t,e,n),o=n.getTensorArray(r.id);return o.write(s,i),[o.idTensor]}case"TensorArrayReadV3":{const r=M("tensorArrayId",t,e,n),s=M("index",t,e,n);return[n.getTensorArray(r.id).read(s)]}case"TensorArrayGatherV3":{const r=M("tensorArrayId",t,e,n),s=M("indices",t,e,n),i=M("dtype",t,e,n);return[n.getTensorArray(r.id).gather(s,i)]}case"TensorArrayScatterV3":{const r=M("tensorArrayId",t,e,n),s=M("indices",t,e,n),i=M("tensor",t,e,n),o=n.getTensorArray(r.id);return o.scatter(s,i),[o.idTensor]}case"TensorArrayConcatV3":{const r=M("tensorArrayId",t,e,n),s=n.getTensorArray(r.id),i=M("dtype",t,e,n);return[s.concat(i)]}case"TensorArraySplitV3":{const r=M("tensorArrayId",t,e,n),s=M("tensor",t,e,n),i=M("lengths",t,e,n),o=n.getTensorArray(r.id);return o.split(i,s),[o.idTensor]}case"TensorArraySizeV3":{const r=M("tensorArrayId",t,e,n),s=n.getTensorArray(r.id);return[Xt(s.size(),"int32")]}case"TensorArrayCloseV3":{const r=M("tensorArrayId",t,e,n),s=n.getTensorArray(r.id);return s.clearAndClose(),[s.idTensor]}case"TensorListSetItem":{const r=M("tensorListId",t,e,n),s=M("index",t,e,n),i=M("tensor",t,e,n),o=n.getTensorList(r.id);return o.setItem(s,i),[o.idTensor]}case"TensorListGetItem":{const r=M("tensorListId",t,e,n),s=M("index",t,e,n),i=M("elementShape",t,e,n),o=M("elementDType",t,e,n);return[n.getTensorList(r.id).getItem(s,i,o)]}case"TensorListScatterV2":case"TensorListScatter":{const r=M("indices",t,e,n),s=M("tensor",t,e,n),i=M("elementShape",t,e,n),o=M("numElements",t,e,n),a=c6e(s,r,i,o);return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=M("elementShape",t,e,n),s=M("elementDType",t,e,n);let i;t.op==="TensorListReserve"?i="numElements":i="maxNumElements";const o=M(i,t,e,n),a=t.op==="TensorListReserve"?-1:o,l=l6e(r,s,o,a);return n.addTensorList(l),[l.idTensor]}case"TensorListGather":{const r=M("tensorListId",t,e,n),s=M("indices",t,e,n),i=M("elementShape",t,e,n),o=M("elementDType",t,e,n);return[n.getTensorList(r.id).gather(s,o,i)]}case"TensorListStack":{const r=M("tensorListId",t,e,n),s=M("elementShape",t,e,n),i=M("elementDType",t,e,n),o=M("numElements",t,e,n);return[n.getTensorList(r.id).stack(s,i,o)]}case"TensorListFromTensor":{const r=M("tensor",t,e,n),s=M("elementShape",t,e,n),i=M("elementDType",t,e,n),o=a6e(r,s,i);return n.addTensorList(o),[o.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=M("tensorListId",t,e,n),s=n.getTensorList(r.id),i=M("dtype",t,e,n),o=M("elementShape",t,e,n);return[s.concat(i,o)]}case"TensorListPushBack":{const r=M("tensorListId",t,e,n),s=M("tensor",t,e,n),i=n.getTensorList(r.id);return i.pushBack(s),[i.idTensor]}case"TensorListPopBack":{const r=M("tensorListId",t,e,n),s=M("elementShape",t,e,n),i=M("elementDType",t,e,n);return[n.getTensorList(r.id).popBack(s,i)]}case"TensorListSplit":{const r=M("tensor",t,e,n),s=M("elementShape",t,e,n),i=M("lengths",t,e,n),o=u6e(r,i,s);return n.addTensorList(o),[o.idTensor]}case"TensorListLength":{const r=M("tensorListId",t,e,n),s=n.getTensorList(r.id);return[Xt(s.size(),"int32")]}case"TensorListResize":{const r=M("tensorListId",t,e,n),s=M("size",t,e,n),o=n.getTensorList(r.id).resize(s);return n.addTensorList(o),[o.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bz(t,e,n){const[r,s]=M("fusedOps",t,e,n),i=r==="biasadd",o=!i,a=s==="prelu",l=r==="fusedbatchnorm",c=M("numArgs",t,e,n);if(i){if(a&&c!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&i&&c!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const u=M("strides",t,e,n),A=gB(t,e,n),d=M("dataFormat",t,e,n).toUpperCase(),h=M("dilations",t,e,n);let[p,m]=M("args",t,e,n);o&&(m=p,p=void 0);const y=M("leakyreluAlpha",t,e,n);return{stride:u,pad:A,dataFormat:d,dilations:h,biasArg:p,preluArg:m,activationFunc:s,leakyreluAlpha:y}}const d6e=(t,e,n,r=Oi)=>{switch(t.op){case"Conv1D":{const s=M("stride",t,e,n),i=M("pad",t,e,n),o=M("dataFormat",t,e,n).toUpperCase(),a=M("dilation",t,e,n);return[r.conv1d(M("x",t,e,n),M("filter",t,e,n),s,i,o,a)]}case"Conv2D":{const s=M("strides",t,e,n),i=gB(t,e,n),o=M("dataFormat",t,e,n).toUpperCase(),a=M("dilations",t,e,n);return[r.conv2d(M("x",t,e,n),M("filter",t,e,n),[s[1],s[2]],i,o,[a[1],a[2]])]}case"_FusedConv2D":{const{stride:s,pad:i,dataFormat:o,dilations:a,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:A}=Bz(t,e,n);return[r.fused.conv2d({x:M("x",t,e,n),filter:M("filter",t,e,n),strides:[s[1],s[2]],pad:i,dataFormat:o,dilations:[a[1],a[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:A})]}case"FusedDepthwiseConv2dNative":{const{stride:s,pad:i,dataFormat:o,dilations:a,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:A}=Bz(t,e,n);return[r.fused.depthwiseConv2d({x:M("x",t,e,n),filter:M("filter",t,e,n),strides:[s[1],s[2]],pad:i,dataFormat:o,dilations:[a[1],a[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:A})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const s=M("outputShape",t,e,n),i=M("strides",t,e,n),o=gB(t,e,n);return[r.conv2dTranspose(M("x",t,e,n),M("filter",t,e,n),s,[i[1],i[2]],o)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const s=M("strides",t,e,n),i=gB(t,e,n),o=M("dilations",t,e,n),a=M("dataFormat",t,e,n).toUpperCase();return[r.depthwiseConv2d(M("input",t,e,n),M("filter",t,e,n),[s[1],s[2]],i,a,[o[1],o[2]])]}case"Conv3D":{const s=M("strides",t,e,n),i=M("pad",t,e,n),o=M("dataFormat",t,e,n).toUpperCase(),a=M("dilations",t,e,n);return[r.conv3d(M("x",t,e,n),M("filter",t,e,n),[s[1],s[2],s[3]],i,o,[a[1],a[2],a[3]])]}case"AvgPool":{const s=M("strides",t,e,n),i=M("pad",t,e,n),o=M("kernelSize",t,e,n);return[r.avgPool(M("x",t,e,n),[o[1],o[2]],[s[1],s[2]],i)]}case"MaxPool":{const s=M("strides",t,e,n),i=M("pad",t,e,n),o=M("kernelSize",t,e,n);return[r.maxPool(M("x",t,e,n),[o[1],o[2]],[s[1],s[2]],i)]}case"MaxPoolWithArgmax":{const s=M("strides",t,e,n),i=M("pad",t,e,n),o=M("kernelSize",t,e,n),a=M("includeBatchInIndex",t,e,n),{result:l,indexes:c}=r.maxPoolWithArgmax(M("x",t,e,n),[o[1],o[2]],[s[1],s[2]],i,a);return[l,c]}case"AvgPool3D":{const s=M("strides",t,e,n),i=M("pad",t,e,n),o=M("kernelSize",t,e,n);return[r.avgPool3d(M("x",t,e,n),[o[1],o[2],o[3]],[s[1],s[2],s[3]],i)]}case"MaxPool3D":{const s=M("strides",t,e,n),i=M("pad",t,e,n),o=M("kernelSize",t,e,n);return[r.maxPool3d(M("x",t,e,n),[o[1],o[2],o[3]],[s[1],s[2],s[3]],i)]}case"Dilation2D":{const s=M("strides",t,e,n),i=M("pad",t,e,n),o=M("dilations",t,e,n),a=s[1],l=s[2],c=o[1],u=o[2];return[r.dilation2d(M("x",t,e,n),M("filter",t,e,n),[a,l],i,[c,u],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h6e=(t,e,n,r=Oi)=>{switch(t.op){case"Fill":{const s=M("shape",t,e,n),i=M("dtype",t,e,n),o=M("value",t,e,n);return[r.fill(s,o,i)]}case"LinSpace":{const s=M("start",t,e,n),i=M("stop",t,e,n),o=M("num",t,e,n);return[r.linspace(s,i,o)]}case"Multinomial":{const s=M("logits",t,e,n),i=M("numSamples",t,e,n),o=M("seed",t,e,n);return[r.multinomial(s,i,o)]}case"OneHot":{const s=M("indices",t,e,n),i=M("depth",t,e,n),o=M("onValue",t,e,n),a=M("offValue",t,e,n),l=M("dtype",t,e,n);return[r.oneHot(s,i,o,a,l)]}case"Ones":return[r.ones(M("shape",t,e,n),M("dtype",t,e,n))];case"OnesLike":return[r.onesLike(M("x",t,e,n))];case"RandomStandardNormal":return[r.randomStandardNormal(M("shape",t,e,n),M("dtype",t,e,n),M("seed",t,e,n))];case"RandomUniform":return[r.randomUniform(M("shape",t,e,n),M("minval",t,e,n),M("maxval",t,e,n),M("dtype",t,e,n))];case"RandomUniformInt":return[r.randomUniformInt(M("shape",t,e,n),M("minval",t,e,n),M("maxval",t,e,n),M("seed",t,e,n))];case"Range":{const s=M("start",t,e,n),i=M("stop",t,e,n),o=M("step",t,e,n);return[r.range(s,i,o,M("dtype",t,e,n))]}case"TruncatedNormal":{const s=M("shape",t,e,n),i=M("mean",t,e,n),o=M("stdDev",t,e,n),a=M("seed",t,e,n);return[r.truncatedNormal(s,i,o,M("dtype",t,e,n),a)]}case"Zeros":return[r.zeros(M("shape",t,e,n),M("dtype",t,e,n))];case"ZerosLike":return[r.zerosLike(M("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z5(t,e,n){const r=M("boxes",t,e,n),s=M("scores",t,e,n),i=M("maxOutputSize",t,e,n),o=M("iouThreshold",t,e,n),a=M("scoreThreshold",t,e,n),l=M("softNmsSigma",t,e,n);return{boxes:r,scores:s,maxOutputSize:i,iouThreshold:o,scoreThreshold:a,softNmsSigma:l}}const f6e=async(t,e,n,r,s=Oi)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:i,scores:o,maxOutputSize:a,iouThreshold:l,scoreThreshold:c,softNmsSigma:u}=Z5(t,e,n),A=await s.image.nonMaxSuppressionWithScoreAsync(i,o,a,l,c,u);return[A.selectedIndices,A.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:i,scores:o,maxOutputSize:a,iouThreshold:l,scoreThreshold:c}=Z5(t,e,n),u=M("padToMaxOutputSize",t,e,n),A=await s.image.nonMaxSuppressionPaddedAsync(i,o,a,l,c,u);return[A.selectedIndices,A.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:i,scores:o,maxOutputSize:a,iouThreshold:l,scoreThreshold:c}=Z5(t,e,n);return[await s.image.nonMaxSuppressionAsync(i,o,a,l,c)]}case"Where":{const i=s.cast(M("condition",t,e,n),"bool"),o=[await s.whereAsync(i)];return i.dispose(),o}case"ListDiff":return s.setdiff1dAsync(M("x",t,e,n),M("y",t,e,n));default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p6e=(t,e,n,r=Oi)=>{switch(t.op){case"LowerBound":{const s=M("sortedSequence",t,e,n),i=M("values",t,e,n);return[r.lowerBound(s,i)]}case"TopKV2":{const s=M("x",t,e,n),i=M("k",t,e,n),o=M("sorted",t,e,n),a=r.topk(s,i,o);return[a.values,a.indices]}case"UpperBound":{const s=M("sortedSequence",t,e,n),i=M("values",t,e,n);return[r.upperBound(s,i)]}case"Unique":{const s=M("x",t,e,n),i=r.unique(s);return[i.values,i.indices]}case"UniqueV2":{const s=M("x",t,e,n),i=M("axis",t,e,n),o=r.unique(s,i);return[o.values,o.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m6e=(t,e,n,r=Oi)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const s=M("default",t,e,n);return[Ii(t.name,e,n)||s];case"Placeholder":return[Ii(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const u=M("x",t,e,n);return[nd(u)]}case"IdentityN":return M("x",t,e,n).map(u=>nd(u));case"Snapshot":const i=M("x",t,e,n);return[nd(i)];case"Shape":return[r.tensor1d(M("x",t,e,n).shape,"int32")];case"ShapeN":return M("x",t,e,n).map(u=>r.tensor1d(u.shape));case"Size":return[r.scalar(M("x",t,e,n).size,"int32")];case"Rank":return[r.scalar(M("x",t,e,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const o=M("x",t,e,n),a=M("data",t,e,n),l=M("message",t,e,n),c=M("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(let u=0;u<a.length;u++)console.log(Array.prototype.slice.call(a[u].dataSync()).slice(0,c));return[o];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class g6e{get id(){return this.handle.id}constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=Xt(0),this.tensorMap=new Map,Js(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Xt(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return this.tensorMap.forEach(s=>s.dispose()),this.tensorMap.clear(),Te(()=>{const s=vl(n),i=r.length,o=s.length;ee(i===o,()=>`The number of elements doesn't match, keys has ${i} elements, the values has ${o} elements.`);for(let a=0;a<i;a++){const l=r[a],c=s[a];Js(c),this.tensorMap.set(l,c)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return Te(()=>{const s=[];for(let i=0;i<r.length;i++){const o=r[i],a=this.findWithDefault(o,n);s.push(a)}return sa(s)})}findWithDefault(e,n){const r=this.tensorMap.get(e);return r??n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y6e=async(t,e,n,r)=>{switch(t.op){case"HashTable":case"HashTableV2":{const s=r.getHashTableHandleByName(t.name);if(s!=null)return[s];{const i=M("keyDType",t,e,n),o=M("valueDType",t,e,n),a=new g6e(i,o);return r.addHashTable(t.name,a),[a.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const s=M("tableHandle",t,e,n,r),i=M("keys",t,e,n),o=M("values",t,e,n);return[await r.getHashTableById(s.id).import(i,o)]}case"LookupTableFind":case"LookupTableFindV2":{const s=M("tableHandle",t,e,n,r),i=M("keys",t,e,n),o=M("defaultValue",t,e,n);return[await r.getHashTableById(s.id).find(i,o)]}case"LookupTableSize":case"LookupTableSizeV2":{const s=M("tableHandle",t,e,n,r);return[r.getHashTableById(s.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w6e=(t,e,n,r=Oi)=>{switch(t.op){case"ResizeBilinear":{const s=M("images",t,e,n),i=M("size",t,e,n),o=M("alignCorners",t,e,n),a=M("halfPixelCenters",t,e,n);return[r.image.resizeBilinear(s,[i[0],i[1]],o,a)]}case"ResizeNearestNeighbor":{const s=M("images",t,e,n),i=M("size",t,e,n),o=M("alignCorners",t,e,n),a=M("halfPixelCenters",t,e,n);return[r.image.resizeNearestNeighbor(s,[i[0],i[1]],o,a)]}case"CropAndResize":{const s=M("image",t,e,n),i=M("boxes",t,e,n),o=M("boxInd",t,e,n),a=M("cropSize",t,e,n),l=M("method",t,e,n),c=M("extrapolationValue",t,e,n);return[r.image.cropAndResize(s,i,o,a,l,c)]}case"ImageProjectiveTransformV3":{const s=M("images",t,e,n),i=M("transforms",t,e,n),o=M("outputShape",t,e,n),a=M("fillValue",t,e,n),l=M("interpolation",t,e,n),c=M("fillMode",t,e,n);return[r.image.transform(s,i,l.toLowerCase(),c.toLowerCase(),a,o)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v6e=(t,e,n,r=Oi)=>{switch(t.op){case"Equal":return[r.equal(M("a",t,e,n),M("b",t,e,n))];case"NotEqual":return[r.notEqual(M("a",t,e,n),M("b",t,e,n))];case"Greater":return[r.greater(M("a",t,e,n),M("b",t,e,n))];case"GreaterEqual":return[r.greaterEqual(M("a",t,e,n),M("b",t,e,n))];case"Less":return[r.less(M("a",t,e,n),M("b",t,e,n))];case"LessEqual":return[r.lessEqual(M("a",t,e,n),M("b",t,e,n))];case"LogicalAnd":return[r.logicalAnd(M("a",t,e,n),M("b",t,e,n))];case"LogicalNot":return[r.logicalNot(M("a",t,e,n))];case"LogicalOr":return[r.logicalOr(M("a",t,e,n),M("b",t,e,n))];case"Select":case"SelectV2":return[r.where(M("condition",t,e,n),M("a",t,e,n),M("b",t,e,n))];case"BitwiseAnd":return[r.bitwiseAnd(M("a",t,e,n),M("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x6e=(t,e,n,r=Oi)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(M("a",t,e,n),M("b",t,e,n),M("transposeA",t,e,n),M("transposeB",t,e,n))];case"Einsum":return[r.einsum(M("equation",t,e,n),...M("tensors",t,e,n))];case"Transpose":return[r.transpose(M("x",t,e,n),M("perm",t,e,n))];case"_FusedMatMul":const[s,i]=M("fusedOps",t,e,n),o=s==="biasadd",a=i==="prelu",l=M("numArgs",t,e,n),c=M("leakyreluAlpha",t,e,n);if(o){if(a&&l!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&l!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[u,A]=M("args",t,e,n);return[r.fused.matMul({a:M("a",t,e,n),b:M("b",t,e,n),transposeA:M("transposeA",t,e,n),transposeB:M("transposeB",t,e,n),bias:u,activation:i,preluActivationWeights:A,leakyreluAlpha:c})];case"MatrixBandPart":return[r.linalg.bandPart(M("a",t,e,n),M("numLower",t,e,n),M("numUpper",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b6e=(t,e,n,r=Oi)=>{switch(t.op){case"EuclideanNorm":return[r.euclideanNorm(M("x",t,e,n),M("axis",t,e,n),M("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[r.batchNorm(M("x",t,e,n),M("mean",t,e,n),M("variance",t,e,n),M("offset",t,e,n),M("scale",t,e,n),M("epsilon",t,e,n))];case"FusedBatchNormV3":return[r.batchNorm(M("x",t,e,n),M("mean",t,e,n),M("variance",t,e,n),M("offset",t,e,n),M("scale",t,e,n),M("epsilon",t,e,n))];case"LRN":return[r.localResponseNormalization(M("x",t,e,n),M("radius",t,e,n),M("bias",t,e,n),M("alpha",t,e,n),M("beta",t,e,n))];case"Softmax":return[r.softmax(M("x",t,e,n))];case"LogSoftmax":return[r.logSoftmax(M("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C6e=(t,e,n,r=Oi)=>{switch(t.op){case"RaggedGather":{const{outputNestedSplits:s,outputDenseValues:i}=r.raggedGather(M("paramsNestedSplits",t,e,n),M("paramsDenseValues",t,e,n),M("indices",t,e,n),M("outputRaggedRank",t,e,n));return s.concat(i)}case"RaggedRange":{const{rtNestedSplits:s,rtDenseValues:i}=r.raggedRange(M("starts",t,e,n),M("limits",t,e,n),M("splits",t,e,n));return[s,i]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(M("shape",t,e,n),M("values",t,e,n),M("defaultValue",t,e,n),M("rowPartitionTensors",t,e,n),M("rowPartitionTypes",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S6e=(t,e,n,r=Oi)=>{switch(t.op){case"Max":{const a=M("axis",t,e,n),l=M("keepDims",t,e,n);return[r.max(M("x",t,e,n),a,l)]}case"Mean":{const a=M("axis",t,e,n),l=M("keepDims",t,e,n);return[r.mean(M("x",t,e,n),a,l)]}case"Min":{const a=M("axis",t,e,n),l=M("keepDims",t,e,n);return[r.min(M("x",t,e,n),a,l)]}case"Sum":{const a=M("axis",t,e,n),l=M("keepDims",t,e,n);return[r.sum(M("x",t,e,n),a,l)]}case"All":{const a=M("axis",t,e,n),l=M("keepDims",t,e,n);return[r.all(M("x",t,e,n),a,l)]}case"Any":{const a=M("axis",t,e,n),l=M("keepDims",t,e,n);return[r.any(M("x",t,e,n),a,l)]}case"ArgMax":{const a=M("axis",t,e,n);return[r.argMax(M("x",t,e,n),a)]}case"ArgMin":{const a=M("axis",t,e,n);return[r.argMin(M("x",t,e,n),a)]}case"Prod":{const a=M("axis",t,e,n),l=M("keepDims",t,e,n);return[r.prod(M("x",t,e,n),a,l)]}case"Cumprod":{const a=M("axis",t,e,n),l=M("exclusive",t,e,n),c=M("reverse",t,e,n);return[r.cumprod(M("x",t,e,n),a,l,c)]}case"Cumsum":{const a=M("axis",t,e,n),l=M("exclusive",t,e,n),c=M("reverse",t,e,n);return[r.cumsum(M("x",t,e,n),a,l,c)]}case"Bincount":const s=M("x",t,e,n),i=M("weights",t,e,n),o=M("size",t,e,n);return[r.bincount(s,i,o)];case"DenseBincount":{const a=M("x",t,e,n),l=M("weights",t,e,n),c=M("size",t,e,n),u=M("binaryOutput",t,e,n);return[r.denseBincount(a,l,c,u)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B6e=(t,e,n,r=Oi)=>{switch(t.op){case"ConcatV2":case"Concat":{const s=M("n",t,e,n),i=M("axis",t,e,n);let o=M("tensors",t,e,n);return o=o.slice(0,s),[r.concat(o,i)]}case"Gather":{const s=M("x",t,e,n),i=M("indices",t,e,n);return[r.gather(s,r.cast(i,"int32"),0)]}case"GatherV2":{const s=M("axis",t,e,n),i=M("batchDims",t,e,n),o=M("x",t,e,n),a=M("indices",t,e,n);return[r.gather(o,r.cast(a,"int32"),s,i)]}case"Reverse":{const s=M("dims",t,e,n),i=[];for(let a=0;a<s.length;a++)s[a]&&i.push(a);const o=M("x",t,e,n);return[r.reverse(o,i)]}case"ReverseV2":{const s=M("axis",t,e,n),i=M("x",t,e,n);return[r.reverse(i,s)]}case"Slice":{const s=M("begin",t,e,n),i=M("size",t,e,n);return[r.slice(M("x",t,e,n),s,i)]}case"StridedSlice":{const s=M("begin",t,e,n),i=M("end",t,e,n),o=M("strides",t,e,n),a=M("beginMask",t,e,n),l=M("endMask",t,e,n),c=M("ellipsisMask",t,e,n),u=M("newAxisMask",t,e,n),A=M("shrinkAxisMask",t,e,n),d=M("x",t,e,n);return[r.stridedSlice(d,s,i,o,a,l,c,u,A)]}case"Pack":return Te(()=>{const s=M("axis",t,e,n),i=M("tensors",t,e,n),o=i[0].shape,a=r.squeeze(i[0]).shape,l=i.map(c=>{const u=Pn(c.shape,o);if(!u&&!Pn(r.squeeze(c).shape,a))throw new Error("the input tensors shape does not match");return u?c:r.reshape(c,o)});return[r.stack(l,s)]});case"Unpack":{const s=M("axis",t,e,n),i=M("tensor",t,e,n);return r.unstack(i,s)}case"Tile":{const s=M("reps",t,e,n);return[r.tile(M("x",t,e,n),s)]}case"Split":case"SplitV":{const s=M("axis",t,e,n),i=M("numOrSizeSplits",t,e,n),o=M("x",t,e,n);return r.split(o,i,s)}case"ScatterNd":{const s=M("indices",t,e,n),i=M("values",t,e,n),o=M("shape",t,e,n);return[r.scatterND(s,i,o)]}case"GatherNd":{const s=M("x",t,e,n),i=M("indices",t,e,n);return[r.gatherND(s,i)]}case"SparseToDense":{const s=M("sparseIndices",t,e,n),i=M("outputShape",t,e,n),o=M("sparseValues",t,e,n),a=M("defaultValue",t,e,n);return[r.sparseToDense(s,o,i,o.dtype===a.dtype?a:r.cast(a,o.dtype))]}case"TensorScatterUpdate":{const s=M("indices",t,e,n),i=M("values",t,e,n),o=M("tensor",t,e,n);return[r.tensorScatterUpdate(o,s,i)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _6e=(t,e,n,r=Oi)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:s,outputValues:i,emptyRowIndicator:o,reverseIndexMap:a}=r.sparse.sparseFillEmptyRows(M("indices",t,e,n),M("values",t,e,n),M("denseShape",t,e,n),M("defaultValue",t,e,n));return[s,i,o,a]}case"SparseReshape":{const{outputIndices:s,outputShape:i}=r.sparse.sparseReshape(M("inputIndices",t,e,n),M("inputShape",t,e,n),M("newShape",t,e,n));return[s,i]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(M("data",t,e,n),M("indices",t,e,n),M("segmentIds",t,e,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(M("data",t,e,n),M("indices",t,e,n),M("segmentIds",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N6e=(t,e,n,r=Oi)=>{switch(t.op){case"FFT":return[r.fft(M("x",t,e,n))];case"IFFT":return[r.ifft(M("x",t,e,n))];case"RFFT":return[r.rfft(M("x",t,e,n))];case"IRFFT":return[r.irfft(M("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I6e=(t,e,n,r=Oi)=>{switch(t.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(M("input",t,e,n),M("pattern",t,e,n),M("rewrite",t,e,n),M("replaceGlobal",t,e,n))];case"StringNGrams":{const{nGrams:s,nGramsSplits:i}=r.string.stringNGrams(M("data",t,e,n),M("dataSplits",t,e,n),M("separator",t,e,n),M("nGramWidths",t,e,n),M("leftPad",t,e,n),M("rightPad",t,e,n),M("padWidth",t,e,n),M("preserveShortSequences",t,e,n));return[s,i]}case"StringSplit":{const{indices:s,values:i,shape:o}=r.string.stringSplit(M("input",t,e,n),M("delimiter",t,e,n),M("skipEmpty",t,e,n));return[s,i,o]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(M("input",t,e,n),M("numBuckets",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E6e=(t,e,n,r=Oi)=>{switch(t.op){case"Cast":return[r.cast(M("x",t,e,n),M("dtype",t,e,n))];case"ExpandDims":{const s=M("axis",t,e,n);return[r.expandDims(M("x",t,e,n),s)]}case"Squeeze":{const s=M("axis",t,e,n);return[r.squeeze(M("x",t,e,n),s)]}case"Reshape":return[r.reshape(M("x",t,e,n),M("shape",t,e,n))];case"EnsureShape":return[r.ensureShape(M("x",t,e,n),M("shape",t,e,n))];case"MirrorPad":return[r.mirrorPad(M("x",t,e,n),M("padding",t,e,n),M("mode",t,e,n))];case"PadV2":case"Pad":return[r.pad(M("x",t,e,n),M("padding",t,e,n),M("constantValue",t,e,n))];case"SpaceToBatchND":{const s=M("blockShape",t,e,n),i=M("paddings",t,e,n);return[r.spaceToBatchND(M("x",t,e,n),s,i)]}case"BatchToSpaceND":{const s=M("blockShape",t,e,n),i=M("crops",t,e,n);return[r.batchToSpaceND(M("x",t,e,n),s,i)]}case"DepthToSpace":{const s=M("blockSize",t,e,n),i=M("dataFormat",t,e,n).toUpperCase();return[r.depthToSpace(M("x",t,e,n),s,i)]}case"BroadcastTo":return[r.broadcastTo(M("x",t,e,n),M("shape",t,e,n))];case"BroadcastArgs":return[r.broadcastArgs(M("s0",t,e,n),M("s1",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _z(t,e,n,r,s=Te){const i=((o,a,l)=>{switch(o.category){case"arithmetic":return s(()=>s6e(o,a,l));case"basic_math":return s(()=>i6e(o,a,l));case"control":return A6e(o,a,l);case"convolution":return s(()=>d6e(o,a,l));case"creation":return s(()=>h6e(o,a,l));case"dynamic":return f6e(o,a,l);case"evaluation":return s(()=>p6e(o,a,l));case"image":return s(()=>w6e(o,a,l));case"graph":return s(()=>m6e(o,a,l));case"logical":return s(()=>v6e(o,a,l));case"matrices":return s(()=>x6e(o,a,l));case"normalization":return s(()=>b6e(o,a,l));case"ragged":return s(()=>C6e(o,a,l));case"reduction":return s(()=>S6e(o,a,l));case"slice_join":return s(()=>B6e(o,a,l));case"sparse":return s(()=>_6e(o,a,l));case"spectral":return s(()=>N6e(o,a,l));case"string":return s(()=>I6e(o,a,l));case"transformation":return s(()=>E6e(o,a,l));case"hash_table":return y6e(o,a,l,r);case"custom":const c=Nse(o.op);if(c&&c.customExecutor)return c.customExecutor(new r6e(o,a,l));throw TypeError(`Custom op ${o.op} is not registered.`);default:throw TypeError(`Unknown op '${o.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,n);return hf(i)?i.then(o=>[].concat(o)):[].concat(i)}class Nz{constructor(e={},n={},r={},s={},i){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=s,this.parseNodeNameCache=i,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const r=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(r))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Iz(t,e,n,r){const s=new Set,i=[];let o=null,a=null;const l=new Set,c=new Set(Object.keys(t).map(d=>Ba(d)[0]));r=r||[];const u=new Set(r.map(d=>Ba(d.name)[0])),A=[...e];for(;A.length>0;){const d=A.pop();if((_p(d)||O6e(d)||$6e(d))&&o==null&&(o=d,a=o.children.map(h=>h.name).filter(h=>s.has(h))),s.add(d.name),n[d.name]==null&&!c.has(d.name)&&!u.has(d.name)){if(d.inputs.length===0){i.push(d.name);continue}d.inputs.forEach(h=>{l.has(h.name)||(l.add(h.name),A.push(h))})}}return{inputs:t,outputs:e,usedNodes:s,missingInputs:i,dynamicNode:o,syncInputs:a}}function k6e(t,e){const{usedNodes:n,inputs:r}=e,s=Object.keys(r).map(y=>Ba(y)[0]).map(y=>t.nodes[y]),i=t.initNodes||[],o=y=>n.has(typeof y=="string"?y:y.name);function a(y){return[...new Map(y.map(g=>[g.name,g])).values()]}const l=a([...s,...t.weights,...i]).filter(o),c=a([...l,...Object.values(t.nodes)]).filter(o),u=new Map(c.map(y=>[y.name,y])),A={};for(const y of c){A[y.name]=A[y.name]||0;for(const g of y.children)o(g)||(A[g.name]=Number.POSITIVE_INFINITY),A[g.name]=(A[g.name]||0)+1}const d=Object.entries(A).filter(([,y])=>y===0).map(([y])=>y),h=[...d];for(;d.length>0;){const y=d.pop(),g=u.get(y);for(const v of g.children.filter(o))--A[v.name]===0&&(h.push(v.name),d.push(v.name))}const p=h.map(y=>u.get(y)),m=T6e(p,l);return F6e(m,l),m}function T6e(t,e){const n=new Map(t.map(o=>[o.name,o])),r=e.map(o=>o.name),s=new Set(r);for(;r.length>0;){const o=r.pop(),a=n.get(o);for(const l of a.children)!n.has(l.name)||s.has(l.name)||(s.add(l.name),r.push(l.name))}return t.filter(o=>s.has(o.name))}class _S extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}function F6e(t,e){const n=new Map(t.map((a,l)=>[a.name,l])),r=new Set(e.map(a=>a.name)),s=a=>r.has(typeof a=="string"?a:a.name),i=new Set(t.map(a=>a.name)),o=a=>i.has(typeof a=="string"?a:a.name);for(const a of t){for(const l of a.children.filter(o)){if(!n.has(l.name))throw new _S(`Child ${l.name} of node ${a.name} is unreachable.`);if(n.get(a.name)>n.get(l.name))throw new _S(`Node ${a.name} is scheduled to run after its child ${l.name}.`)}if(!s(a))for(const l of a.inputs){if(!n.has(l.name))throw new _S(`Input ${l.name} of node ${a.name} is unreachable.`);if(n.get(l.name)>n.get(a.name))throw new _S(`Node ${a.name} is scheduled to run before its input ${l.name}.`)}}}function L6e(t){const e=new Map(t.map((a,l)=>[a.name,l])),n=Number.MAX_SAFE_INTEGER,r=t.map((a,l)=>_p(a)?n:l),s=a=>{const l=r[e.get(a.name)];return l??-1},i=t.map((a,l)=>a.children.map(s).reduce((c,u)=>Math.max(c,u),r[l])),o=new Map;for(let a=0;a<t.length;++a){const l=i[a];if(l===n)continue;const c=t[a],u=t[l];o.has(u.name)||o.set(u.name,[]),o.get(u.name).push(c)}return o}const D6e=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),R6e=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),P6e=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function _p(t){return D6e.has(t.op)}function O6e(t){return R6e.has(t.op)}function $6e(t){return P6e.has(t.op)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class K_{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(r=>e[r].map(s=>s.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(r=>{this._functionExecutorMap[r]=new K_(e.functions[r],this)})}getCompilationKey(e,n){const r=e.map(i=>i.name).sort(),s=n.map(i=>i.name).sort();return r.join(this.SEPARATOR)+"--"+s.join(this.SEPARATOR)}compile(e,n){const r=Iz(e,n,this.weightMap,this._initNodes),{missingInputs:s,dynamicNode:i,syncInputs:o}=r;if(i!=null)throw new Error(`This execution contains the node '${i.name}', which has the dynamic op '${i.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${o}]`);if(s.length>0){const c=n.map(A=>A.name),u=Object.keys(e);throw new Error(`Cannot compute the outputs [${c}] from the provided inputs [${u}]. Missing the following inputs: [${s}]`)}const a=k6e(this.graph,r),l=L6e(a);return{orderedNodes:a,nodeLiveUntilMap:l}}cloneAndKeepTensor(e){if(e==null)return null;const n=e.clone();return Js(n),n}cloneTensorList(e){return e?e.map(r=>this.cloneAndKeepTensor(r)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,this.cloneTensorList(r)]))}execute(e,n){this.disposeIntermediateTensors(),e=this.mapInputs(e);const r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const s=r.map(d=>this.graph.nodes[Ba(d)[0]]),i=n.map(d=>Ba(d)[0]),o=new Set(i);let a=i.map(d=>this.graph.nodes[d]);a.length===0&&(a=this._outputs);const l=this.getCompilationKey(s,a);let c=this.compiledMap.get(l);c==null&&(c=this.compile(e,a),this.compiledMap.set(l,c));try{this.keepIntermediateTensors=Le().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){this.keepIntermediateTensors=!1,console.warn(d.message)}const u={},A={};return Te(()=>{const d=new Nz(this.weightMap,u,A,this.functionExecutorMap,this.parseNodeNameCache),h=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(g=>{const[v,b]=Ba(g,d),C=[];C[b]=e[g],h[v]=C,this.keepIntermediateTensors&&(this.clonedTensorsMap[v]=this.cloneTensorList(C))});const p=this.getFrozenTensorIds(h),{orderedNodes:m,nodeLiveUntilMap:y}=c;for(const g of m){if(h[g.name])continue;const v=_z(g,h,d,this._resourceManager);if(hf(v))throw new Error(`The execution of the op '${g.op}' returned a promise. Please use model.executeAsync() instead.`);h[g.name]=v,this.keepIntermediateTensors&&(this.clonedTensorsMap[g.name]=this.cloneTensorList(v)),this.checkTensorForDisposalWithNodeLiveUntilInfo(g,h,d,p,o,y.get(g.name))}return this.parent==null&&d.dispose(p),n.map(g=>Ii(g,h,d))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(r=>e[r]).map(r=>r.map(s=>s.id)));return new Set(n)}checkTensorForDisposal(e,n,r,s,i,o,a){if(!(_p(n)||o.has(e))){for(const l of r[e])l!=null&&(a[l.id]=(a[l.id]||0)+n.children.length);for(const l of n.inputs){if(_p(l))continue;const c=xz(l.name,r,s);if(c!=null)for(const u of c){if(!u||u.kept||i.has(u.id))continue;const A=a[u.id];A===1?(u.dispose(),delete a[u.id]):A!=null&&a[u.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,n,r,s,i,o){function a(l){return _p(l)||i.has(l.name)}if(!(_p(e)||o==null))for(const l of o){if(a(l))continue;const c=xz(l.name,n,r);for(const u of c)!u||u.kept||s.has(u.id)||u.dispose()}}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const n of e)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,n,r=!1,s={},i={}){this.disposeIntermediateTensors(),r||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=Le().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){this.keepIntermediateTensors=!1,console.warn(d.message)}const o=new Nz(this.weightMap,s,i,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const a=await this.executeWithControlFlow(e,o,n,r),l=n.map(d=>Ii(d,a,o)),c=l.map(d=>d.id),u=Object.keys(e).map(d=>e[d].id),A=new Set([...c,...u,...this.weightIds]);return Object.values(a).forEach(d=>{d.forEach(h=>{h&&!h.isDisposed&&!A.has(h.id)&&h.dispose()})}),this.parent==null&&o.dispose(A),l}async executeFunctionAsync(e,n,r){const s=e.reduce((i,o,a)=>(i[this.inputs[a].name]=o,i),{});return this._executeAsync(s,this.outputNodes,!0,n,r)}async executeWithControlFlow(e,n,r,s){const i=Object.keys(e),o=i.map(C=>this.graph.nodes[Ba(C)[0]]),a=r.map(C=>Ba(C)[0]),l=new Set(a);let c=a.map(C=>this.graph.nodes[C]);c.length===0&&(c=this._outputs);const{usedNodes:u,missingInputs:A,dynamicNode:d,syncInputs:h}=Iz(e,c,this.weightMap,this._initNodes),p=[...o,...this.graph.weights,...this._initNodes||[]].map(C=>({node:C,contexts:n.currentContext})),m=Object.assign({},this.weightMap);Object.keys(e).forEach(C=>{const[_,I]=Ba(C),T=[];T[I]=e[C],m[_]=T});const y={},g=this.getFrozenTensorIds(m),v={};for(;p.length>0;){const C=this.processStack(o,p,n,m,v,g,l,y,u);await Promise.all(C)}d==null&&!s&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const b=c.filter(C=>!_p(C)&&!Ii(C.name,m,n)).map(C=>C.name);if(b.length>0){let C="";throw d!=null&&(C=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${h}]`),new Error(`Cannot compute the outputs [${b}] from the provided inputs [${i}]. Consider providing the following inputs: [${A}]. ${C}`)}return m}processStack(e,n,r,s,i,o,a,l,c){const u=[];for(;n.length>0;){const A=n.pop();r.currentContext=A.contexts;let d="";if(A.node.op==="Enter"&&M("isConstant",A.node,s,r)&&([d]=td(A.node.name,r)),s[A.node.name]==null){const h=_z(A.node,s,r,this._resourceManager);d||([d]=td(A.node.name,r));const p=r.currentContext;hf(h)?u.push(h.then(m=>(s[d]=m,this.keepIntermediateTensors&&(this.clonedTensorsMap[d]=this.cloneTensorList(m)),r.currentContext=p,this.checkTensorForDisposal(d,A.node,s,r,o,a,l),this.processChildNodes(A.node,n,r,s,i,c),m))):(s[d]=h,this.keepIntermediateTensors&&(this.clonedTensorsMap[d]=this.cloneTensorList(h)),this.checkTensorForDisposal(d,A.node,s,r,o,a,l),this.processChildNodes(A.node,n,r,s,i,c))}else this.processChildNodes(A.node,n,r,s,i,c)}return u}processChildNodes(e,n,r,s,i,o){e.children.forEach(a=>{const[l]=td(a.name,r);i[l]||!o.has(a.name)||(a.op==="Merge"?a.inputNames.some(c=>!!Ii(c,s,r))&&(i[l]=!0,n.push({contexts:r.currentContext,node:a})):a.inputNames.every(c=>!!Ii(c,s,r))&&(i[l]=!0,n.push({contexts:r.currentContext,node:a})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const r=e[n],[s]=Ba(n),i=this.graph.nodes[s];if(i.attrParams.shape&&i.attrParams.shape.value){const o=i.attrParams.shape.value,a=o.length===r.shape.length&&r.shape.every((l,c)=>o[c]===-1||o[c]===l);ee(a,()=>`The shape of dict['${i.name}'] provided in model.execute(dict) must be [${o}], but was [${r.shape}]`)}i.attrParams.dtype&&i.attrParams.dtype.value&&ee(r.dtype===i.attrParams.dtype.value,()=>`The dtype of dict['${i.name}'] provided in model.execute(dict) must be ${i.attrParams.dtype.value}, but was ${r.dtype}`)})}mapInputs(e){var n,r;const s={};for(const i in e){const o=(r=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||r===void 0?void 0:r[i];o!=null?s[o.name]=e[i]:s[i]=e[i]}return s}checkInputs(e){const n=Object.keys(e).filter(r=>{const[s]=Ba(r);return this.graph.nodes[s]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>{var r,s;const i=(s=(r=this._signature)===null||r===void 0?void 0:r.outputs)===null||s===void 0?void 0:s[n];return i!=null?i.name:n},{})}checkOutputs(e){e.forEach(n=>{const[r]=Ba(n);if(!this.graph.nodes[r])throw new Error(`The output '${n}' is not found in the graph`)})}}class U6e{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M6e="?tfjs-format=file",Q6e="model.json";class $${get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,n={},r=jO){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=r,n==null&&(this.loadOptions={}),this.resourceManager=new U6e}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return hf(e)?e.then(n=>n.getWeightStream==null?this.loadSync(n):this.loadStreaming(n)):this.loadSync(e)}loadSync(e){const n=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,n)}async loadStreaming(e){if(e.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");const n=await oee(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,n)}loadWithWeightMap(e,n){this.artifacts=e;const r=this.artifacts.modelTopology;let s=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const i=this.artifacts.userDefinedMetadata;i.signature!=null&&(s=i.signature),i.structuredOutputKeys!=null&&(this.structuredOutputKeys=i.structuredOutputKeys)}if(this.signature=s,this.version=`${r.versions.producer}.${r.versions.minConsumer}`,this.executor=new K_(bz.Instance.transformGraph(r,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(n),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const i=bz.Instance.transformGraph(e.modelInitializer);this.initializer=new K_(i),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,n){if(typeof e=="string"){const r=this.io.getSaveHandlers(e);if(r.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${e}'`);e=r[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const n=e instanceof lr?[e]:e,r={};return n.forEach((s,i)=>r[this.structuredOutputKeys[i]]=s),r}return e}predict(e,n){const r=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(r)}async predictAsync(e,n){const r=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(r)}normalizeInputs(e){var n;if(!(e instanceof lr)&&!Array.isArray(e)){const i=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(i!=null)for(const o in i){const a=i[o];a.resourceId!=null&&(e[o]=this.resourceIdToCapturedInput[a.resourceId])}return e}e=Array.isArray(e)?e:[e];const r=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+r!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-r} non-resource placeholders, while there are ${e.length} input tensors provided.`);let s=0;return this.inputNodes.reduce((i,o)=>{var a,l,c;const u=(c=(l=(a=this.signature)===null||a===void 0?void 0:a.inputs)===null||l===void 0?void 0:l[o])===null||c===void 0?void 0:c.resourceId;return u!=null?i[o]=this.resourceIdToCapturedInput[u]:i[o]=e[s++],i},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,r=Object.keys(n);for(let s=0;s<r.length;s++){const i=r[s],o=n[i];this.resourceIdToCapturedInput[o.resourceId]=e[s]}}}execute(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=this.executor.execute(e,n);return r.length>1?r:r[0]}async executeAsync(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=await this.executor.executeAsync(e,n);return r.length>1?r:r[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,r)=>(n[r]=[e[r]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Nn(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function j6e(t,e={},n=jO){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=z6e(t));const r=new $$(t,e,n);return await r.load(),r}function H6e(t){if(t==null)throw new Error("modelUrl in loadGraphModelSync() cannot be null. Please provide model artifacts or an IOHandler that loads the model");let e;if(t instanceof Array){const[r,s]=t;if(!r)throw new Error("modelJSON must be the first element of the array");if(!s||!(s instanceof ArrayBuffer))throw new Error("An ArrayBuffer of weights must be the second element of the array");if(!("modelTopology"in r))throw new Error("Model JSON is missing 'modelTopology'");if(!("weightsManifest"in r))throw new Error("Model JSON is missing 'weightsManifest'");const i=R_(r.weightsManifest),o=xP(r,i,s);e=O_(o)}else if("load"in t)e=t;else if("modelTopology"in t&&"weightSpecs"in t&&"weightData"in t)e=O_(t);else throw new Error("Unknown model format");const n=new $$(e);return n.load(),n}function z6e(t){return t.endsWith("/")||(t=t+"/"),`${t}${Q6e}${M6e}`}/** @license See the LICENSE file. */const V6e="4.22.0";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W6e=Object.freeze(Object.defineProperty({__proto__:null,GraphModel:$$,deregisterOp:gMe,loadGraphModel:j6e,loadGraphModelSync:H6e,registerOp:mMe,version_converter:V6e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var Ez;(function(t){t[t.FAIL=0]="FAIL",t[t.SHORTEST=1]="SHORTEST",t[t.LONGEST=2]="LONGEST"})(Ez||(Ez={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $t(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&ee(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the CPU backend.`)})}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G6e=zE;class pk extends aI{nextDataId(){return pk.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new iP(this,Kc())}write(e,n,r){this.firstUse&&(this.firstUse=!1,Le().get("IS_NODE")&&al(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const s={id:this.nextDataId()};return this.data.set(s,{values:e,dtype:r,refCount:1}),s}makeTensorInfo(e,n,r){let s;if(n==="string"&&r!=null&&r.length>0&&nA(r[0])){const i=r.map(o=>dA(o));s=this.write(i,e,n)}else s=this.write(r,e,n);return{dataId:s,shape:e,dtype:n}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const n=this.data.get(e);n.refCount++}decRef(e){if(this.data.has(e)){const n=this.data.get(e);n.refCount--}}move(e,n,r,s,i){this.data.set(e,{values:n,dtype:s,refCount:i})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:n,complexTensorInfos:r}=this.data.get(e);if(n==="complex64"){const s=this.readSync(r.real.dataId),i=this.readSync(r.imag.dataId);return Cd(s,i)}return LJ(this.data.get(e).values,n)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(s=>vd(s));return wn(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return wn(e.shape,e.dtype,n)}makeOutput(e,n,r){return Kc().makeTensorFromTensorInfo(this.makeTensorInfo(n,r,e),this)}disposeData(e,n=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!n&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(e);r!=null&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const n=Co();return e(),{kernelMs:Co()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){$t([e],"where");const n=this.readSync(e.dataId);return G6e(e.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}pk.nextDataId=0;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kse(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}const K6e=t=>{const{x:e}=t.inputs,n=t.backend;$t(e,"abs");let r=new Float32Array($e(e.shape));const s=n.data.get(e.dataId).values;return r=kse(s),n.makeOutput(r,e.shape,e.dtype)},q6e={kernelName:ob,backendName:"cpu",kernelFunc:K6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fs(t){return(e,n,r,s,i)=>{const o=hn(e,n),a=o.length,l=Gt(o),c=$e(o),u=vi(i,c),A=e.length,d=n.length,h=Gt(e),p=Gt(n),m=Sm(e,o),y=Sm(n,o);if(m.length+y.length===0)for(let g=0;g<u.length;++g)u[g]=t(r[g%r.length],s[g%s.length]);else for(let g=0;g<u.length;++g){const v=Hm(g,a,l),b=v.slice(-A);m.forEach(T=>b[T]=0);const C=ou(b,A,h),_=v.slice(-d);y.forEach(T=>_[T]=0);const I=ou(_,d,p);u[g]=t(r[C],s[I])}return[u,o]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ia(t){const{inputs:e,backend:n}=t,{real:r,imag:s}=e,i=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,a=n.makeTensorInfo(r.shape,"complex64"),l=n.data.get(a.dataId);return l.complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(s.shape,"float32",o)},a}const X6e={kernelName:mI,backendName:"cpu",kernelFunc:Ia};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q_(t,e,n="float32"){if(n==="complex64"){const s=q_(t,e,"float32"),i=q_(t,e,"float32");return Ia({inputs:{real:s,imag:i},backend:t})}const r=Li($e(e),n);return t.makeTensorInfo(e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BA(t){const{inputs:e,backend:n}=t,{x:r}=e;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const Y6e={kernelName:Jy,backendName:"cpu",kernelFunc:BA};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function km(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,i)}const Z6e={kernelName:qI,backendName:"cpu",kernelFunc:km};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tse(t,e,n,r){if(r==="int32"){const s=Int32Array.from(t);return[e,"int32",s]}if(r==="bool"){const s=Ff([0],n),[i,o]=Fs((a,l)=>a!==l?1:0)(e,[],t,s,"bool");return[o,"bool",i]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function bf(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dtype:i}=r;if(i==="complex64"){if(s.dtype==="complex64")return BA({inputs:{x:s},backend:n});const u=q_(n,s.shape,s.dtype),A=bf({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),d=Ia({inputs:{real:A,imag:u},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(A),d}if(s.dtype==="complex64"){const u=km({inputs:{input:s},backend:n}),A=bf({inputs:{x:u},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(u),A}if(!lP(s.dtype,i)){const u=BA({inputs:{x:s},backend:n});return{dataId:u.dataId,shape:u.shape,dtype:i}}const o=n.data.get(s.dataId).values,[a,l,c]=Tse(o,s.shape,s.dtype,i);return n.makeTensorInfo(a,l,c)}const J6e={kernelName:My,backendName:"cpu",kernelFunc:bf};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ii(t,e,n,r){return n==null?({inputs:s,backend:i})=>{const{a:o,b:a}=s,l=i;$t([o,a],t);const c=l.data.get(o.dataId).values,u=l.data.get(a.dataId).values,A=o.dtype==="string"?Sd(c):c,d=o.dtype==="string"?Sd(u):u,h=r||o.dtype,[p,m]=e(o.shape,a.shape,A,d,h);return l.makeTensorInfo(m,h,p)}:({inputs:s,backend:i})=>{const{a:o,b:a}=s,l=i;if(o.dtype==="complex64"||a.dtype==="complex64"){const c=bf({inputs:{x:o},backend:l,attrs:{dtype:"complex64"}}),u=l.data.get(c.dataId),A=u.complexTensorInfos.real,d=u.complexTensorInfos.imag,h=l.data.get(A.dataId).values,p=l.data.get(d.dataId).values,m=bf({inputs:{x:a},backend:l,attrs:{dtype:"complex64"}}),y=l.data.get(m.dataId),g=y.complexTensorInfos.real,v=y.complexTensorInfos.imag,b=l.data.get(g.dataId).values,C=l.data.get(v.dataId).values,[_,I,T]=n(o.shape,a.shape,h,p,b,C),F=l.makeTensorInfo(T,"float32",_),D=l.makeTensorInfo(T,"float32",I),j=Ia({inputs:{real:F,imag:D},backend:l});return l.disposeIntermediateTensorInfo(c),l.disposeIntermediateTensorInfo(m),l.disposeIntermediateTensorInfo(F),l.disposeIntermediateTensorInfo(D),j}else{const c=l.data.get(o.dataId).values,u=l.data.get(a.dataId).values,A=r||o.dtype,[d,h]=e(o.shape,a.shape,c,u,A);return l.makeTensorInfo(h,A,d)}}}function U$(t){return(e,n,r,s,i,o)=>{const a=hn(e,n),l=$e(a),c=a.length,u=Gt(a),A=vi("float32",l),d=vi("float32",l),h=Sm(e,a),p=Sm(n,a),m=Cd(r,s),y=Cd(i,o),g=e.length,v=Gt(e),b=n.length,C=Gt(n);if(h.length+p.length===0)for(let _=0;_<A.length;_++){const I=_%m.length,T=_%y.length,F=t(m[I*2],m[I*2+1],y[T*2],y[T*2+1]);A[_]=F.real,d[_]=F.imag}else for(let _=0;_<A.length;_++){const I=Hm(_,c,u),T=I.slice(-g);h.forEach(U=>T[U]=0);const F=ou(T,g,v),D=I.slice(-b);p.forEach(U=>D[U]=0);const j=ou(D,b,C),O=t(m[F*2],m[F*2+1],y[j*2],y[j*2+1]);A[_]=O.real,d[_]=O.imag}return[A,d,a]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fse=Fs((t,e)=>t+e),eQe=U$((t,e,n,r)=>({real:t+n,imag:e+r})),Ay=ii(zm,Fse,eQe),tQe={kernelName:zm,backendName:"cpu",kernelFunc:Ay};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M$(t,e,n,r,s){const i=$e(r),o=Li(s,n);for(let a=0;a<t.length;a++){const l=t[a];if(l<0)throw new Error("Input x must be non-negative!");l>=s||(i>0?o[l]+=e[a]:o[l]+=1)}return o}function Lse(t,e,n,r=!1){const s=t.shape[0],i=t.shape[1],o=wn([s,n],e.dtype);for(let a=0;a<s;a++)for(let l=0;l<i;l++){const c=t.get(a,l);if(c<0)throw new Error("Input x must be non-negative!");c>=n||(r?o.set(1,a,c):e.size>0?o.set(o.get(a,c)+e.get(a,l),a,c):o.set(o.get(a,c)+1,a,c))}return o}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dse=Fs((t,e)=>t&e),nQe=ii(fb,Dse),rQe={kernelName:fb,backendName:"cpu",kernelFunc:nQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FA(t){return(e,n,r)=>{const s=ms(n,e.length);for(let i=0;i<e.length;++i)s[i]=t(e[i],r);return s}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mr(t,e,n){const r=FA(e);return Qf(t,r,n)}function Qf(t,e,n){return({inputs:r,attrs:s,backend:i})=>{const{x:o}=r;$t(o,t);const a=i,l=a.data.get(o.dataId).values;let c;if(o.dtype==="string"){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");c=Sd(l)}else c=l;const u=n||o.dtype,A=e(c,u,s);return a.makeTensorInfo(o.shape,u,A)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rse=FA(t=>Math.ceil(t)),sQe=Qf(Qy,Rse),iQe={kernelName:Qy,backendName:"cpu",kernelFunc:sQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pse(t,e,n,r){const s=ms(n,$e(e));if(r&&n!=="string"){let i=0;t.forEach(o=>{const a=$e(o.shape);s.set(o.vals,i),i+=a})}else{let i=0;t.forEach(o=>{const a=n==="string"?Sd(o.vals):o.vals;let l=0;for(let c=0;c<o.shape[0];++c){const u=c*e[1]+i;for(let A=0;A<o.shape[1];++A)s[u+A]=a[l++]}i+=o.shape[1]})}return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ose=Fs((t,e)=>t===e?1:0),$se=ii(Cb,Ose,null,"bool"),oQe={kernelName:Cb,backendName:"cpu",kernelFunc:$se};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Use=FA(t=>Math.exp(t)),Mse=Qf(Ky,Use,"float32"),aQe={kernelName:Ky,backendName:"cpu",kernelFunc:Mse};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qse=FA(t=>Math.expm1(t)),lQe=Qf(qy,Qse),cQe={kernelName:qy,backendName:"cpu",kernelFunc:lQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jse=FA(t=>Math.floor(t)),uQe=Qf(Xy,jse),AQe={kernelName:Xy,backendName:"cpu",kernelFunc:uQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hse=Fs((t,e)=>Math.floor(t/e)),dQe=ii(Yy,Hse,null,"int32"),hQe={kernelName:Yy,backendName:"cpu",kernelFunc:dQe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zse(t,e,n,r,s,i,o,a,l){const c=wn([r,i],n);for(let u=0;u<r;u++){const A=[];let d=0;for(let h=0;h<s;h++){const p=t[u*s+h];d+=p*o[h],A.push(p)}if(d<0||d>=l/i)throw new Error(`Invalid indices: ${A} does not index into ${a}`);for(let h=0;h<i;h++)c.values[u*i+h]=e.get(...e.indexToLoc(d*i+h))}return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vse(t,e,n){const r=wn(n,t.dtype);for(let s=0;s<r.size;++s){const o=r.indexToLoc(s).slice(),a=o[0],l=o[2],c=e.locToIndex([a,l]);o[2]=e.values[c];const u=t.locToIndex(o);0<=u&&u<t.values.length&&(r.values[s]=t.values[u])}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wse=Fs((t,e)=>t>e?1:0),fQe=ii(Nb,Wse,null,"bool"),pQe={kernelName:Nb,backendName:"cpu",kernelFunc:fQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gse=Fs((t,e)=>t>=e?1:0),mQe=ii(Zy,Gse,null,"bool"),gQe={kernelName:Zy,backendName:"cpu",kernelFunc:mQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kse=Fs((t,e)=>t<e?1:0),yQe=ii(Eb,Kse,null,"bool"),wQe={kernelName:Eb,backendName:"cpu",kernelFunc:yQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qse=Fs((t,e)=>t<=e?1:0),vQe=ii(kb,qse,null,"bool"),xQe={kernelName:kb,backendName:"cpu",kernelFunc:vQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xse(t,e,n){const r=(e-t)/(n-1),s=Li(n,"float32");s[0]=t;for(let i=1;i<s.length;i++)s[i]=s[i-1]+r;return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yse=FA(t=>Math.log(t)),bQe=Qf(r1,Yse),CQe={kernelName:r1,backendName:"cpu",kernelFunc:bQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zse(t,e,n,r){const s=vi(r,$e(n));for(let i=0;i<s.length;++i){const o=i*e;let a=t[o];for(let l=0;l<e;++l){const c=t[o+l];(Number.isNaN(c)||c>a)&&(a=c)}s[i]=a}return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jse=Fs((t,e)=>Math.max(t,e)),SQe=ii(i1,Jse),BQe={kernelName:i1,backendName:"cpu",kernelFunc:SQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eie=Fs((t,e)=>Math.min(t,e)),_Qe=ii(o1,eie),NQe={kernelName:o1,backendName:"cpu",kernelFunc:_Qe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q$=Fs((t,e)=>t*e),IQe=U$((t,e,n,r)=>({real:t*n-e*r,imag:t*r+e*n})),mk=ii(l1,Q$,IQe),EQe={kernelName:l1,backendName:"cpu",kernelFunc:mk};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tie(t,e,n){const r=Nd(-1,n);return Q$([],e,r,t,n)}function kQe(t){const{inputs:e,backend:n}=t,{x:r}=e;$t(r,"neg");const s=n.data.get(r.dataId).values,[i,o]=tie(s,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,i)}const TQe={kernelName:Qb,backendName:"cpu",kernelFunc:kQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nie=Fs((t,e)=>t!==e?1:0),FQe=ii(jb,nie,null,"bool"),LQe={kernelName:jb,backendName:"cpu",kernelFunc:FQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j$(t,e,n,r,s){const i=e.length,o=$e(e),a=Gt(e),l=Gt(s),c=vi(n,$e(s));for(let u=0;u<o;++u){const A=Hm(u,i,a),d=new Array(A.length);for(let p=0;p<d.length;p++)d[p]=A[r[p]];const h=ou(d,i,l);c[h]=t[u]}return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ia(t){const{inputs:e,attrs:n,backend:r}=t,{x:s}=e,{perm:i}=n;$t(s,"transpose");const o=s.shape.length,a=new Array(o);for(let A=0;A<a.length;A++)a[A]=s.shape[i[A]];const l=r.data.get(s.dataId).values,c=j$(l,s.shape,s.dtype,i,a);return{dataId:r.write(c,a,s.dtype),shape:a,dtype:s.dtype}}const DQe={kernelName:em,backendName:"cpu",kernelFunc:ia};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rie(t,e,n,r){const[s,i]=Ci(t,r),o=ea(e,"int32"),a=Li($e(s),o),l=$e(i);for(let c=0;c<a.length;++c){const u=c*l;let A=1;for(let d=0;d<l;++d)A*=n[u+d];a[c]=A}return{outVals:a,outShape:s,outDtype:o}}function RQe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r;$t(s,"prod");const a=s.shape.length,l=En(i,s.shape),c=cs(l,a);let u=l,A=s;const d=[];c!=null&&(A=ia({inputs:{x:s},backend:n,attrs:{perm:c}}),d.push(A),u=ks(u.length,a));const h=n.data.get(A.dataId).values,{outVals:p,outShape:m,outDtype:y}=rie(A.shape,A.dtype,h,u);let g=m;return o&&(g=Es(m,l)),d.forEach(v=>n.disposeIntermediateTensorInfo(v)),n.makeTensorInfo(g,y,p)}const PQe={kernelName:Kb,backendName:"cpu",kernelFunc:RQe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OQe(t,e,n){t.forEach((r,s)=>{if(r<0||r>=n){const i=Hm(s,e.length,Gt(e)).join(",");throw new Error(`indices[${i}] = ${r} is not in [0, ${n})`)}})}function $Qe(t,e){for(let n=0;n<t.length;++n){const r=t[n],s=n===t.length-1?e:t[n+1].length;if(r.length===0)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>s)throw new Error("Ragged splits must not point past values");for(let i=1;i<r.length;++i)if(r[i-1]>r[i])throw new Error("Ragged splits must be sorted in ascending order")}}function UQe(t,e,n,r){const s=[];let i=0;const o=e.length-1+n.length,a=new Array(o).fill(null).map(()=>[0]);$Qe(n,r);let l=1;for(let c=0;c<e.length-1;++c){l*=e[c];const u=e[c+1];for(let A=1;A<l+1;++A)a[c].push(A*u)}for(let c=0;c<t.length;++c){let u=t[c],A=t[c]+1;for(let d=0;d<n.length;++d){const h=n[d],p=d+e.length-1;if(p>=0){const m=a[p],y=m[m.length-1]-h[u];for(let g=u;g<A;++g)a[p].push(h[g+1]+y)}u=h[u],A=h[A]}A!==u&&(s.push([u,A]),i+=A-u)}return{outSplits:a,valueSlices:s,numValues:i}}function MQe(t){const e=[];for(let n=0;n<t.length;++n){const r=t[n].length,s=ms("int32",r);e.push(s),t[n].forEach((i,o)=>s[o]=i)}return e}function kz(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let r=e;r<t.length;r++)n[e-1]*=t[r];return n}function QQe(t,e,n,r,s,i){const o=kz(e,2)[1],a=kz(i,2)[1];let l=0;for(const c of n)for(let u=c[0];u<c[1];++u){for(let A=0;A<r;++A)s[l*a+A]=t[u*o+A];++l}}function jQe(t,e,n,r,s){const i=e.slice();i[0]=s;const o=ms(n,$e(i)),a=t.length,l=a===0?0:a/e[0];return QQe(t,e,r,l,o,i),[o,i]}function sie(t,e,n,r,s,i,o,a){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const l=e[0][0]-1;if(OQe(i,o,l),r.length===0)throw new Error("params.rank must be nonzero");const c=r[0],{outSplits:u,valueSlices:A,numValues:d}=UQe(i,o,t,c),h=MQe(u),p=jQe(n,r,s,A,d);return[h,p[0],p[1]]}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tz=2147483647;function iie(t,e,n,r,s,i,o){if(e.length>1)throw new Error("starts must be a scalar or vector");if(s.length>1)throw new Error("limits must be a scalar or vector");if(o.length>1)throw new Error("deltas must be a scalar or vector");const a=e.length===0,l=s.length===0,c=o.length===0,u=[];a||u.push(e[0]),l||u.push(s[0]),c||u.push(o[0]);for(let y=1;y<u.length;++y)if(u[y]!==u[y-1])throw new Error("starts, limits, and deltas must have the same shape");const A=u.length===0?1:u[0],d=ms("int32",A+1);d[0]=0;for(let y=0;y<A;++y){const g=a?t[0]:t[y],v=l?r[0]:r[y],b=c?i[0]:i[y];if(b===0)throw new Error("Requires delta != 0");let C;if(b>0&&v<g||b<0&&v>g)C=0;else if(C=Math.ceil(Math.abs((v-g)/b)),C>Tz)throw new Error(`Requires ((limit - start) / delta) <= ${Tz}`);d[y+1]=d[y]+C}const h=d[A],p=ms(n,h);let m=0;for(let y=0;y<A;++y){const g=d[y+1]-d[y];let v=a?t[0]:t[y];const b=c?i[0]:i[y];for(let C=0;C<g;++C)p[m++]=v,v+=b}return[d,p]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Ul=eu;class X_{constructor(e,n,r,s,i,o,a,l,c,u){this.shape=e,this.shapeShape=n,this.values=r,this.valuesShape=s,this.valuesDType=i,this.defaultValue=o,this.defaultValueShape=a,this.rowPartitionValues=l,this.rowPartitionValuesShapes=c,this.rowPartitionTypes=Mte(u),this.raggedRank=Qte(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===Ul.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===Ul.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case Ul.VALUE_ROWIDS:return X_.getMaxWidthValueRowID(n);case Ul.ROW_SPLITS:return X_.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${Ul[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let r=0;for(let s=0;s<n-1;++s){const i=e[s+1]-e[s];i>r&&(r=i)}return r}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let r=0,s=e[0],i=0;for(let o=1;o<n;++o){const a=e[o];a!==s&&(s=a,i=Math.max(o-r,i),r=o)}return Math.max(n-r,i)}tensorShapeFromTensor(e,n,r=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return Lz(e,r)}calculateOutputSize(e){const n=this.valuesShape,r=this.defaultValueShape;jte(r,n);const s=this.tensorShapeFromTensor(this.shape,this.shapeShape),o=Ute(this.raggedRank,s,n);o[0]<0&&(o[0]=e);for(let a=1;a<=this.raggedRank;++a)o[a]<0&&(o[a]=this.getMaxWidth(a));return o}calculateFirstParentOutputIndex(e,n,r){const s=Math.min(e,r),i=[];let o=0;for(let a=0;a<s;++a,o+=n)i.push(o);for(let a=s;a<e;++a)i.push(-1);return ee(i.length===e,()=>"Final length of result must be equal to firstDimension."),i}calculateOutputIndexRowSplit(e,n,r,s){const i=e.length,o=[];for(let a=0;a<i-1;++a){const l=e[a+1]-e[a];let c=Math.min(s,l),u=n[a];u===-1&&(c=0);for(let A=0;A<c;++A)o.push(u),u+=r;for(let A=0;A<l-c;++A)o.push(-1)}if(i>0&&o.length!==e[i-1])throw new Error("Invalid row split size.");return o}calculateOutputIndexValueRowID(e,n,r,s){const i=e.length,o=[];if(i===0)return[];let a=0,l=e[0];if(l>=n.length)throw new Error(`Got currentValueRowId=${l}, which is not less than ${n.length}`);let c=n[l];o.push(c);for(let u=1;u<i;++u){const A=e[u];if(A===l)c>=0&&(++a,a<s?c+=r:c=-1);else{if(a=0,l=A,A>=n.length)throw new Error(`Got nextValueRowId=${A} which is not less than ${n.length}`);c=n[A]}o.push(c)}if(o.length!==e.length)throw new Error("Invalid row ids.");return o}calculateOutputIndex(e,n,r,s){const i=this.getRowPartitionTensor(e),o=this.getRowPartitionTypeByDimension(e);switch(o){case Ul.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(i,n,r,s);case Ul.ROW_SPLITS:if(i.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${i.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(i,n,r,s);default:throw new Error(`Unsupported partition type: ${Ul[o]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case Ul.FIRST_DIM_SIZE:return e[0];case Ul.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Ul.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${Ul[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),r=this.calculateOutputSize(n),s=new Array(this.raggedRank+1);s[s.length-1]=1;for(let l=s.length-2;l>=0;--l)s[l]=s[l+1]*r[l+1];const i=Lz(r,!1),o=ms(this.valuesDType,$e(i));if(s[0]*r[0]>0){let l=this.calculateFirstParentOutputIndex(n,s[0],r[0]);for(let c=1;c<=this.raggedRank;++c)l=this.calculateOutputIndex(c-1,l,s[c],r[c]);this.setOutput(this.raggedRank,l,o,i)}return[i,o]}setOutput(e,n,r,s){if(r.length===0)return;const i=this.values,o=r;let a=s.slice();a=a.slice(e+1);const l=$e(a),c=n.length;let u=this.defaultValue;if(u.length!==l&&u.length!==1){const p=this.defaultValueShape;Te(()=>{const m=Se(u,p);u=tm(m,a).dataSync()})}let A=0,d=0,h=0;for(let p=0;p<=c;++p){let m=p<c?n[p]:-1;if(m===h){++h;continue}if(d<h){const y=i.subarray(A*l),g=o.subarray(d*l),v=(h-d)*l;Fz(g,y,v)}if(p>=c){const y=r.length;m=Math.floor(y/l)}if(m>h)if(this.defaultValue.length===1)o.subarray(h*l,m*l).fill(this.defaultValue[0]),h=m;else for(;m>h;){const y=o.slice(h*l);Fz(y,u,l),++h}m<0?(A=p+1,d=h):(A=p,d=h,h=d+1)}}}function Fz(t,e,n){for(let r=0;r<n;r++)t[r]=e[r]}function Lz(t,e){const n=[];for(let r of t){if(r<0){if(!e)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function oie(t,e,n,r,s,i,o,a,l,c){return new X_(t,e,n,r,s,i,o,a,l,c).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aie(t,e,n,r){const s=t===e,i=t<e&&n<0,o=e<t&&n>1;if(s||i||o)return Li(0,r);const a=Math.abs(Math.ceil((e-t)/n)),l=Li(a,r);e<t&&n===1&&(n=-1),l[0]=t;for(let c=1;c<l.length;c++)l[c]=l[c-1]+n;return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lie=FA(t=>1/Math.sqrt(t)),HQe=Qf(f1,lie),zQe={kernelName:f1,backendName:"cpu",kernelFunc:HQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mp(t,e,n,r,s,i,o,a,l,c){const u=[r/s,s],A=t.values,d=e.values;if(r===0)return wn(n,e.dtype);const h=l instanceof Ws?l:wn(u,e.dtype);typeof l=="string"||typeof l=="number"?h.values.fill(l):typeof l=="boolean"&&h.values.fill(+l);for(let p=0;p<i;p++){const m=[];let y=0;for(let g=0;g<o;g++){const v=A[p*o+g];m.push(v),y+=v*a[g]}if(y<0||y>=r/s)throw new Error(`Invalid indices: ${m} does not index into ${n}`);for(let g=0;g<s;g++)c?h.values[y*s+g]+=d[p*s+g]:h.values[y*s+g]=e.rank===0?d[0]:d[p*s+g]}return h}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VQe=FA(t=>1/(1+Math.exp(-t))),cie=mr(w1,t=>1/(1+Math.exp(-t))),WQe={kernelName:w1,backendName:"cpu",kernelFunc:cie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uie(t,e,n,r,s){const i=VO(r,e,n),o=$e(n),a=Gt(r);if(i){const A=WO(e,a);return s==="string"?t.slice(A,A+o):t.subarray(A,A+o)}const l=s==="string"?Sd(t):t,c=wn(r,s,l),u=wn(n,s);for(let A=0;A<u.size;++A){const d=u.indexToLoc(A),h=d.map((p,m)=>p+e[m]);u.set(c.get(...h),...d)}return s==="string"?lne(u.values):u.values}function Tm(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,size:o}=r;$t(s,"slice");const[a,l]=tk(s,i,o);HO(s,a,l);const c=n.data.get(s.dataId).values,u=uie(c,a,l,s.shape,s.dtype);return n.makeTensorInfo(l,s.dtype,u)}const GQe={kernelName:e2,backendName:"cpu",kernelFunc:Tm};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Aie(t,e,n,r,s,i,o){const a=e[0],l=i[0],c=new Array(l),u=new Array(a),A=e[1];if(l===0){if(a!==0)throw new Error(qte(a));const y=ms(n,0),g=ms(s,0);return[y,[0,A],g,c,u]}let d=!0,h=0;const p=new Array(l).fill(0);for(let y=0;y<a;++y){const g=t[y*A];if(g<0)throw new Error(Xte(y,g));if(g>=l)throw new Error(Yte(y,g,l));++p[g],d=d&&g>=h,h=g}let m=!0;for(let y=0;y<l;++y){const g=p[y]===0;c[y]=g,m=m&&!g,p[y]=Math.max(p[y],1),y>0&&(p[y]+=p[y-1])}if(m&&d){const y=t,g=r;for(let v=0;v<a;++v)u[v]=v;return[y,[a,A],g,c,u]}else{const y=p[l-1],g=ms(n,y*A),v=ms(s,y),b=new Array(l).fill(0);for(let C=0;C<a;++C){const _=t[C*A],I=b[_],T=(_===0?0:p[_-1])+I;b[_]++;for(let F=0;F<A;++F)g[T*A+F]=t[C*A+F];v[T]=r[C],u[C]=T}for(let C=0;C<l;++C)if(b[C]===0){const I=C===0?0:p[C-1];g[I*A+0]=C;for(let T=1;T<A;++T)g[I*A+T]=0;v[I]=o}return[g,[y,A],v,c,u]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function die(t,e,n,r,s){const i=$e(r),o=e[0],a=s.length,l=[];let c=1,u=-1;for(let y=0;y<a;++y){const g=s[y];if(g===-1){if(u!==-1)throw new Error(Zte(u,y));u=y,l.push(1)}else{if(g<0)throw new Error(Jte(y,g));c*=g,l.push(g)}}if(u!==-1){if(c<=0)throw new Error(ene());const y=Math.trunc(i/c);if(c*y!==i)throw new Error(tne(r,l));l[u]=y}if($e(l)!==i)throw new Error(nne(r,l));const d=r.length,h=[];if(d>0){h[d-1]=1;for(let y=d-2;y>=0;--y)h[y]=h[y+1]*r[y+1]}const p=[];if(a>0){p[a-1]=1;for(let y=a-2;y>=0;--y)p[y]=p[y+1]*l[y+1]}const m=ms(n,o*a);for(let y=0;y<o;++y){let g=0;for(let v=0;v<d;++v)g+=t[y*d+v]*h[v];for(let v=0;v<a;++v)m[y*a+v]=Math.trunc(g/p[v]),g%=p[v]}return[m,[o,a],l]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H$(t,e,n,r,s,i=!1,o=0){const a=r.length,l=[e[0],t.length/e[0]],c=l[1],A=a>0?s[a-1]+1:0;if(A<0)throw new Error(sL());const d=e.slice();d[0]=A;const h=d.reduce((b,C)=>b*C,1),p=ms(n,h);if(a===0)return A>0&&p.fill(o),[p,d];if(A<=0)throw new Error(sL());let m=0,y=1,g=0,v=s[m];for(;;){let b=0;if(y<a){if(b=s[y],v===b){++y;continue}if(v>=b)throw new Error(rne())}if(v<0||v>=A)throw new Error(sne(v,A));v>g&&p.fill(o,g*c,v*c);for(let C=m;C<y;++C){const _=r[C];if(_<0||_>=l[0])throw new Error(ine(C,r[C],l[0]));for(let I=0;I<c;I++)p[v*c+I]+=t[_*c+I]}if(i)for(let C=0;C<c;C++)p[v*c+C]/=y-m;if(m=y,++y,g=v+1,v=b,y>a)break}return g<A&&p.fill(o,g*c,A*c),[p,d]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KQe=FA(t=>Math.sqrt(t)),qQe=mr(x1,t=>Math.sqrt(t)),XQe={kernelName:x1,backendName:"cpu",kernelFunc:qQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hie=Fs((t,e)=>{const n=t-e;return n*n}),YQe=ii(b1,hie),ZQe={kernelName:b1,backendName:"cpu",kernelFunc:YQe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fie=FA((t,e)=>{const{pattern:n,replaceGlobal:r,rewrite:s}=e;return t.replace(new RegExp(n,r?"g":""),s)}),JQe=Qf(i2,fie),eje={kernelName:i2,backendName:"cpu",kernelFunc:JQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pie(t,e,n,r){const s=wn(t,e.dtype);for(let i=0;i<s.size;i++){const o=s.indexToLoc(i),a=new Array(o.length);for(let l=0;l<a.length;l++)a[l]=o[l]*n[l]+r[l];s.set(e.get(...a),...o)}return s}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tje{constructor(e,n,r,s,i,o){this.separator=dA(e),this.nGramWidths=n,this.leftPad=dA(r),this.rightPad=dA(s),this.padWidth=i,this.preserveShort=o}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const r=this.getPadWidth(n);return Math.max(0,e+2*r-n+1)}createNGrams(e,n,r,s,i,o){for(let a=0;a<i;++a){const l=this.getPadWidth(o),c=Math.max(0,l-a),u=Math.max(0,l-(i-(a+1))),A=o-(c+u),d=n+(c>0?0:a-l);let h=0;h+=c*this.leftPad.length;for(let v=0;v<A;++v)h+=e[d+v].length;h+=u*this.rightPad.length;const p=c+u+A-1;h+=p*this.separator.length,r[s+a]=new Uint8Array(h);const m=r[s+a];let y=0;const g=v=>v.forEach(b=>m[y++]=b);for(let v=0;v<c;++v)g(this.leftPad),g(this.separator);for(let v=0;v<A-1;++v)g(e[d+v]),g(this.separator);if(A>0){g(e[d+A-1]);for(let v=0;v<u;++v)g(this.separator),g(this.rightPad)}else{for(let v=0;v<u-1;++v)g(this.rightPad),g(this.separator);g(this.rightPad)}}}compute(e,n){const r=e.length,s=n.length;if(s>0){let l=n[0];if(l!==0)throw new Error(`First split value must be 0, got ${l}`);for(let c=1;c<s;++c){let u=n[c]>=l;if(u=u&&n[c]<=r,!u)throw new Error(`Invalid split value ${n[c]}, must be in [${l}, ${r}]`);l=n[c]}if(l!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${l}`)}const i=s-1,o=ms("int32",s);if(r===0||s===0){const l=new Array(r);for(let c=0;c<=i;++c)o[c]=0;return[l,o]}o[0]=0;for(let l=1;l<=i;++l){const c=n[l]-n[l-1];let u=0;this.nGramWidths.forEach(A=>{u+=this.getNumNGrams(c,A)}),this.preserveShort&&c>0&&u===0&&(u=1),o[l]=o[l-1]+u}const a=new Array(o[i]);for(let l=0;l<i;++l){const c=n[l];let u=o[l];if(this.nGramWidths.forEach(A=>{const d=n[l+1]-n[l],h=this.getNumNGrams(d,A);this.createNGrams(e,c,a,u,h,A),u+=h}),this.preserveShort&&u===o[l]){const A=n[l+1]-n[l];if(A===0)continue;const d=A+2*this.padWidth;this.createNGrams(e,c,a,u,1,d)}}return[a,o]}}function mie(t,e,n,r,s,i,o,a){return new tje(n,r,s,i,o,a).compute(t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nje(t,e,n,r){if(!t.length)return;if(e.length===0){for(let i=0;i<t.length;++i)r.push(t.subarray(i,i+1));return}if(e.length===1){const i=e[0];let o=t.indexOf(i);for(;o!==-1;){const a=t.subarray(0,o);(!n||a.length!==0)&&r.push(a),t=t.subarray(o+1),o=t.indexOf(i)}(!n||t.length!==0)&&r.push(t);return}let s=0;for(let i=0;i<t.length+1;i++)if(i===t.length||e.indexOf(t[i])!==-1){const o=t.subarray(s,i);(!n||o.length!==0)&&r.push(o),s=i+1}}function gie(t,e,n){const r=t.length,s=[];let i=0,o=0;const a=new Array(r);for(let d=0;d<r;++d){const h=s.length;nje(t[d],e,n,s);const p=s.length-h;a[d]=p,i+=p,o=Math.max(o,p)}const l=ms("int32",i*2),c=new Array(i),u=[r,o];let A=0;for(let d=0;d<r;++d)for(let h=0;h<a[d];++h)l[A*2]=d,l[A*2+1]=h,c[A]=s[A],++A;return[l,c,u]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yie(t,e){const n=ms("int32",t.length);for(let r=0;r<t.length;++r)n[r]=KJ(t[r]).modulo(e).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wie=Fs((t,e)=>t-e),rje=U$((t,e,n,r)=>({real:t-n,imag:e-r})),z$=ii(C1,wie,rje),sje={kernelName:C1,backendName:"cpu",kernelFunc:z$};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vie(t,e){const n=new Array(t.rank);for(let s=0;s<n.length;s++)n[s]=t.shape[s]*e[s];const r=wn(n,t.dtype);for(let s=0;s<r.values.length;++s){const i=r.indexToLoc(s),o=new Array(t.rank);for(let l=0;l<o.length;l++)o[l]=i[l]%t.shape[l];const a=t.locToIndex(o);r.values[s]=t.values[a]}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qw=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function xie(t,e,n=0,r=t.length-1){for(;r>n;){if(r-n>600){const a=r-n+1,l=e-n+1,c=Math.log(a),u=.5*Math.exp(2*c/3),A=.5*Math.sqrt(c*u*(a-u)/a)*Math.sign(l-a/2),d=Math.max(n,Math.floor(e-l*u/a+A)),h=Math.min(r,Math.floor(e+(a-l)*u/a+A));xie(t,e,d,h)}const s=t[e];let i=n,o=r;for(sd(t,n,e),qw(t[r],s)>0&&sd(t,n,r);i<o;){for(sd(t,i,o),i++,o--;qw(t[i],s)<0;)i=i+1;for(;qw(t[o],s)>0;)o=o-1}qw(t[n],s)===0?sd(t,n,o):(o=o+1,sd(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}}function bie(t,e,n,r,s){const i=e[e.length-1],[o,a]=[t.length/i,i],l=vi(n,o*r),c=vi("int32",o*r);for(let A=0;A<o;A++){const d=A*a,h=t.subarray(d,d+a);let p=new Array(h.length);h.forEach((v,b)=>p[b]={value:v,index:b}),r<p.length&&(xie(p,r),p=p.slice(0,r)),s&&p.sort(qw);const m=A*r,y=l.subarray(m,m+r),g=c.subarray(m,m+r);for(let v=0;v<r;v++)y[v]=p[v].value,g[v]=p[v].index}const u=e.slice();return u[u.length-1]=r,[wn(u,n,l),wn(u,"int32",c)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cie(t,e,n,r){const s=En(e,n)[0],i=[1,n[0],1];for(let p=0;p<s;p++)i[0]*=n[p];i[1]=n[s];for(let p=s+1;p<n.length;p++)i[2]*=n[p];const o=new Map,a=new Int32Array(n[s]),l=new Ws(i,r,t),c=[],u=i[0]===1&&i[2]===1;for(let p=0;p<n[s];p++){let m;if(u)m=t[p].toString();else{const g=[];for(let v=0;v<i[0];v++)for(let b=0;b<i[2];b++)g.push(l.get(v,p,b));m=g.join(",")}const y=o.get(m);if(y!=null)a[p]=y;else{const g=o.size;o.set(m,g),a[p]=g,c.push(p)}}const A=i.slice();A[1]=o.size;const d=new Ws(A,r);c.forEach((p,m)=>{for(let y=0;y<i[0];y++)for(let g=0;g<i[2];g++)d.set(l.get(y,p,g),y,m,g)});const h=n.slice();return h[s]=A[1],{outputValues:d.values,outputShape:h,indices:a}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ije=Object.freeze(Object.defineProperty({__proto__:null,addImpl:Fse,bincountImpl:M$,bincountReduceImpl:Lse,bitwiseAndImpl:Dse,castImpl:Tse,ceilImpl:Rse,concatImpl:Pse,equalImpl:Ose,expImpl:Use,expm1Impl:Qse,floorDivImpl:Hse,floorImpl:jse,gatherNdImpl:zse,gatherV2Impl:Vse,greaterEqualImpl:Gse,greaterImpl:Wse,lessEqualImpl:qse,lessImpl:Kse,linSpaceImpl:Xse,logImpl:Yse,maxImpl:Zse,maximumImpl:Jse,minimumImpl:eie,multiplyImpl:Q$,negImpl:tie,notEqualImpl:nie,prodImpl:rie,raggedGatherImpl:sie,raggedRangeImpl:iie,raggedTensorToTensorImpl:oie,rangeImpl:aie,rsqrtImpl:lie,scatterImpl:Mp,sigmoidImpl:VQe,simpleAbsImpl:kse,sliceImpl:uie,sparseFillEmptyRowsImpl:Aie,sparseReshapeImpl:die,sparseSegmentReductionImpl:H$,sqrtImpl:KQe,squaredDifferenceImpl:hie,staticRegexReplaceImpl:fie,stridedSliceImpl:pie,stringNGramsImpl:mie,stringSplitImpl:gie,stringToHashBucketFastImpl:yie,subImpl:wie,tileImpl:vie,topKImpl:bie,transposeImpl:j$,uniqueImpl:Cie},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */yP("cpu",()=>new pk,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sie=mr(Wy,t=>t>=0?t:Math.exp(t)-1),oje={kernelName:Wy,backendName:"cpu",kernelFunc:Sie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bie(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{alpha:i}=r;$t([s],"leakyRelu");const o=$e(s.shape),a=n.data.get(s.dataId).values,l=vi("float32",o);for(let c=0;c<a.length;c++)l[c]=a[c]<0?i*a[c]:a[c];return n.makeTensorInfo(s.shape,"float32",l)}const aje={kernelName:Ib,backendName:"cpu",kernelFunc:Bie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lje=Fs((t,e)=>t<0?e*t:t);function _ie(t){const{inputs:e,backend:n}=t,{x:r,alpha:s}=e;$t([r,s],"prelu");const i=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,[a,l]=lje(r.shape,s.shape,i,o,"float32");return n.makeTensorInfo(l,"float32",a)}const cje={kernelName:Gb,backendName:"cpu",kernelFunc:_ie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nie=mr(A1,t=>Math.max(0,t)),uje={kernelName:A1,backendName:"cpu",kernelFunc:Nie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Iie=mr(d1,t=>Math.min(Math.max(0,t),6)),Aje={kernelName:d1,backendName:"cpu",kernelFunc:Iie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y_(t,e,n,r,s){if(n==="linear")return BA({inputs:{x:e},backend:t});if(n==="relu")return Nie({inputs:{x:e},backend:t});if(n==="elu")return Sie({inputs:{x:e},backend:t});if(n==="relu6")return Iie({inputs:{x:e},backend:t});if(n==="prelu")return _ie({inputs:{x:e,alpha:r},backend:t});if(n==="leakyrelu")return Bie({inputs:{x:e},backend:t,attrs:{alpha:s}});if(n==="sigmoid")return cie({inputs:{x:e},backend:t});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Or(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{shape:i}=r,o=$e(s.shape),a=aP(i,o),l=$e(a);ee(o===l,()=>`The new shape (${a}) has ${l} elements and the old shape (${s.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`),n.incRef(s.dataId);const c=n.data.get(s.dataId);if(c.complexTensorInfos!=null){const u=c.complexTensorInfos.real,A=c.complexTensorInfos.imag;u.shape=a,A.shape=a}return{dataId:s.dataId,shape:a,dtype:s.dtype}}const dje={kernelName:qb,backendName:"cpu",kernelFunc:Or};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eie(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i}=e,{transposeA:o,transposeB:a}=r;$t([s,i],"matMul");const l=s.shape.length,c=i.shape.length,u=o?s.shape[l-2]:s.shape[l-1],A=a?i.shape[c-1]:i.shape[c-2],d=o?s.shape[l-1]:s.shape[l-2],h=a?i.shape[c-2]:i.shape[c-1],p=s.shape.slice(0,-2),m=i.shape.slice(0,-2),y=$e(p),g=$e(m),b=hn(s.shape.slice(0,-2),i.shape.slice(0,-2)).concat([d,h]);ee(u===A,()=>`Error in matMul: inner shapes (${u}) and (${A}) of Tensors with shapes ${s.shape} and ${i.shape} and transposeA=${o} and transposeB=${a} must match.`);const C=o?[y,u,d]:[y,d,u],_=a?[g,h,A]:[g,A,h],I=Or({inputs:{x:s},backend:n,attrs:{shape:C}}),T=Or({inputs:{x:i},backend:n,attrs:{shape:_}}),F=o?I.shape[1]:I.shape[2],D=o?I.shape[2]:I.shape[1],j=a?T.shape[1]:T.shape[2],O=Math.max(y,g),U=n.data.get(I.dataId).values,W=n.data.get(T.dataId).values,$=Gt(I.shape),J=Gt(T.shape),[Z,oe,V]=o?[$[0],1,$[1]]:[$[0],$[1],1],[Y,ce,he]=a?[1,J[1],J[0]]:[J[1],1,J[0]],z=D*j,G=wn([O,D,j],I.dtype),X=G.values,re=n.blockSize;for(let ue=0;ue<O;ue++){const Ae=ue%y,we=ue%g;for(let Ce=0;Ce<D;Ce+=re){const Ne=Math.min(Ce+re,D);for(let ke=0;ke<j;ke+=re){const je=Math.min(ke+re,j);for(let Ge=0;Ge<F;Ge+=re){const ot=Math.min(Ge+re,F);for(let le=Ce;le<Ne;le++)for(let Xe=ke;Xe<je;Xe++){let dt=0;for(let Ue=Ge;Ue<ot;Ue++){const Re=U[Ae*Z+le*oe+Ue*V],Ke=W[Ue*Y+Xe*ce+we*he];dt+=Re*Ke}X[ue*z+(le*j+Xe)]+=dt}}}}}return n.disposeIntermediateTensorInfo(I),n.disposeIntermediateTensorInfo(T),n.makeTensorInfo(b,G.dtype,G.values)}const hje={kernelName:db,backendName:"cpu",kernelFunc:Eie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fje(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i,bias:o,preluActivationWeights:a}=e,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:A}=r;let d,h,p;const m=[];d=Eie({inputs:{a:s,b:i},attrs:{transposeA:l,transposeB:c},backend:n}),o&&(h=Ay({inputs:{a:d,b:o},backend:n}),m.push(d),d=h),u&&(p=Y_(n,d,u,a,A),m.push(d),d=p);for(const g of m)n.disposeIntermediateTensorInfo(g);return d}const pje={kernelName:hx,backendName:"cpu",kernelFunc:fje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mje=mr(Ly,t=>Math.acos(t)),gje={kernelName:Ly,backendName:"cpu",kernelFunc:mje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yje=mr(Dy,t=>Math.acosh(t)),wje={kernelName:Dy,backendName:"cpu",kernelFunc:yje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vje(t){const{inputs:e,backend:n}=t,r=e;$t(e,"addN");const s=r.map(a=>n.data.get(a.dataId).values),i=wn(r[0].shape,r[0].dtype),o=i.values;for(let a=0;a<r.length;a++){const l=s[a];for(let c=0;c<o.length;c++)o[c]+=l[c]}return n.makeTensorInfo(i.shape,i.dtype,i.values)}const xje={kernelName:ab,backendName:"cpu",kernelFunc:vje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r;$t(s,"all");const a=En(i,s.shape);let l=a;const c=cs(l,s.shape.length);let u=s;c!=null&&(u=ia({inputs:{x:s},backend:n,attrs:{perm:c}}),l=ks(l.length,s.shape.length)),Pi("all",l,u.shape.length);const[A,d]=Ci(u.shape,l),h=$e(d),p=Li($e(A),u.dtype),m=n.data.get(u.dataId).values;for(let g=0;g<p.length;++g){const v=g*h;let b=m[v];for(let C=0;C<h;++C){const _=m[v+C];b=b&&_}p[g]=b}c!=null&&n.disposeIntermediateTensorInfo(u);const y=n.makeTensorInfo(A,u.dtype,p);if(o){const g=Es(A,a),v=Or({inputs:{x:y},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(y),v}return y}const Cje={kernelName:uI,backendName:"cpu",kernelFunc:bje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r;$t(s,"any");const a=En(i,s.shape);let l=a;const c=cs(l,s.shape.length);let u=s;c!=null&&(u=ia({inputs:{x:s},backend:n,attrs:{perm:c}}),l=ks(l.length,s.shape.length)),Pi("any",l,u.shape.length);const[A,d]=Ci(u.shape,l),h=$e(d),p=Li($e(A),u.dtype),m=n.data.get(u.dataId).values;for(let g=0;g<p.length;++g){const v=g*h;let b=m[v];for(let C=0;C<h;++C){const _=m[v+C];b=b||_}p[g]=b}c!=null&&n.disposeIntermediateTensorInfo(u);const y=n.makeTensorInfo(A,u.dtype,p);if(o){const g=Es(A,a),v=Or({inputs:{x:y},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(y),v}return y}const Bje={kernelName:AI,backendName:"cpu",kernelFunc:Sje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _je(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;$t(s,"argMax");let o=En(i,s.shape);const a=cs(o,s.shape.length);let l=s;const c=[];a!=null&&(l=ia({inputs:{x:s},backend:n,attrs:{perm:a}}),c.push(l),o=ks(o.length,l.shape.length)),o=[o[0]],Pi("argMax",o,l.shape.length);const[u,A]=Ci(l.shape,o),d=$e(u),h=Li(d,"int32"),p=$e(A),m=n.data.get(l.dataId).values;for(let y=0;y<h.length;++y){const g=y*p;let v=m[g],b=0;for(let C=0;C<p;++C){const _=m[g+C];_>v&&(v=_,b=C)}h[y]=b}return c.forEach(y=>n.disposeIntermediateTensorInfo(y)),n.makeTensorInfo(u,"int32",h)}const Nje={kernelName:lb,backendName:"cpu",kernelFunc:_je};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ije(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;$t(s,"argMin");let o=En(i,s.shape);const a=cs(o,s.shape.length);let l=s;const c=[];a!=null&&(l=ia({inputs:{x:s},backend:n,attrs:{perm:a}}),c.push(l),o=ks(o.length,l.shape.length)),o=[o[0]],Pi("argMin",o,l.shape.length);const[u,A]=Ci(l.shape,o),d=$e(u),h=Li(d,"int32"),p=$e(A),m=n.data.get(l.dataId).values;for(let y=0;y<h.length;++y){const g=y*p;let v=m[g],b=0;for(let C=0;C<p;++C){const _=m[g+C];_<v&&(v=_,b=C)}h[y]=b}return c.forEach(y=>n.disposeIntermediateTensorInfo(y)),n.makeTensorInfo(u,"int32",h)}const Eje={kernelName:cb,backendName:"cpu",kernelFunc:Ije};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kje=mr(Ry,t=>Math.asin(t)),Tje={kernelName:Ry,backendName:"cpu",kernelFunc:kje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fje=mr(Py,t=>Math.asinh(t)),Lje={kernelName:Py,backendName:"cpu",kernelFunc:Fje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dje=mr(Oy,t=>Math.atan(t)),Rje={kernelName:Oy,backendName:"cpu",kernelFunc:Dje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pje=Fs((t,e)=>Math.atan2(t,e)),Oje=ii(Uy,Pje),$je={kernelName:Uy,backendName:"cpu",kernelFunc:Oje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uje=mr($y,t=>Math.atanh(t)),Mje={kernelName:$y,backendName:"cpu",kernelFunc:Uje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V$(t,e,n,r,s,i){const o=s.strideHeight,a=s.strideWidth,l=s.dilationHeight,c=s.dilationWidth,u=s.effectiveFilterHeight,A=s.effectiveFilterWidth,d=s.padInfo.top,h=s.padInfo.left,p=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=wn(s.outShape,n),y=m.values,g=s.outShape[1]*s.outShape[2]*s.outShape[3],v=s.outShape[2]*s.outShape[3],b=s.outShape[3];for(let C=0;C<s.batchSize;++C){const _=C*g,I=C*r[0];for(let T=0;T<s.inChannels;++T)for(let F=0;F<s.outHeight;++F){const D=F*o-d,j=Math.max(0,D),O=Math.min(s.inHeight,u+D),U=_+F*v;for(let W=0;W<s.outWidth;++W){const $=W*a-h,J=Math.max(0,$),Z=Math.min(s.inWidth,A+$);let oe=p,V=0,Y=0;for(let he=j;he<O;he+=l){const z=I+he*r[1];for(let G=J;G<Z;G+=c){const X=z+G*r[2],re=t[X+T];i==="max"&&re>oe?oe=re:i==="avg"&&(V+=re,Y++)}if(isNaN(oe))break}const ce=U+W*b+T;y[ce]=i==="avg"?V/Y:oe}}}return m}function kie(t,e,n,r,s=!1,i=!1){const o=wn(r.outShape,"int32"),a=r.strideHeight,l=r.strideWidth,c=r.dilationHeight,u=r.dilationWidth,A=r.effectiveFilterHeight,d=r.effectiveFilterWidth,h=r.padInfo.top,p=r.padInfo.left,m=wn(e,n,t);for(let y=0;y<r.batchSize;++y)for(let g=0;g<r.inChannels;++g)for(let v=0;v<r.outHeight;++v){const b=v*a-h;let C=b;for(;C<0;)C+=c;const _=Math.min(r.inHeight,A+b);for(let I=0;I<r.outWidth;++I){const T=I*l-p;let F=T;for(;F<0;)F+=u;const D=Math.min(r.inWidth,d+T);let j=Number.NEGATIVE_INFINITY,O=-1;for(let U=C;U<_;U+=c){const W=U-b;for(let $=F;$<D;$+=u){const J=$-T,Z=m.get(y,U,$,g);Z>j&&(j=Z,s?O=i?((y*r.inHeight+U)*r.inWidth+$)*r.inChannels+g:(U*r.inWidth+$)*r.inChannels+g:O=W*d+J)}}o.set(O,y,v,I,g)}}return o}function Tie(t,e,n,r,s,i){const o=s.strideDepth,a=s.strideHeight,l=s.strideWidth,c=s.dilationDepth,u=s.dilationHeight,A=s.dilationWidth,d=s.effectiveFilterDepth,h=s.effectiveFilterHeight,p=s.effectiveFilterWidth,m=s.padInfo.front,y=s.padInfo.top,g=s.padInfo.left,v=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=wn(s.outShape,n),C=b.values,_=s.outShape[1]*s.outShape[2]*s.outShape[3]*s.outShape[4],I=s.outShape[2]*s.outShape[3]*s.outShape[4],T=s.outShape[3]*s.outShape[4],F=s.outShape[4];for(let D=0;D<s.batchSize;++D){const j=D*_,O=D*r[0];for(let U=0;U<s.inChannels;++U)for(let W=0;W<s.outDepth;++W){const $=W*o-m;let J=$;for(;J<0;)J+=c;const Z=Math.min(s.inDepth,d+$),oe=j+W*I;for(let V=0;V<s.outHeight;++V){const Y=V*a-y;let ce=Y;for(;ce<0;)ce+=u;const he=Math.min(s.inHeight,h+Y),z=oe+V*T;for(let G=0;G<s.outWidth;++G){const X=G*l-g;let re=X;for(;re<0;)re+=A;const ue=Math.min(s.inWidth,p+X),Ae=z+G*F;let we=v,Ce=0,Ne=0;for(let je=J;je<Z;je+=c){const Ge=O+je*r[1];for(let ot=ce;ot<he;ot+=u){const le=Ge+ot*r[2];for(let Xe=re;Xe<ue;Xe+=A){const dt=le+Xe*r[3],Ue=t[dt+U];if(i==="max"&&Ue>we?we=Ue:i==="avg"&&(Ce+=Ue,Ne++),isNaN(we))break}if(isNaN(we))break}if(isNaN(we))break}const ke=Ae+U;C[ke]=i==="avg"?Ce/Math.max(Ne,1):we}}}}return b}function Qje(t,e){const n=wn(e.outShape,"int32"),r=e.strideDepth,s=e.strideHeight,i=e.strideWidth,o=e.dilationDepth,a=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,u=e.effectiveFilterHeight,A=e.effectiveFilterWidth,d=e.padInfo.front,h=e.padInfo.top,p=e.padInfo.left;for(let m=0;m<e.batchSize;++m)for(let y=0;y<e.inChannels;++y)for(let g=0;g<e.outDepth;++g){const v=g*r-d;let b=v;for(;b<0;)b+=o;const C=Math.min(e.inDepth,c+v);for(let _=0;_<e.outHeight;++_){const I=_*s-h;let T=I;for(;T<0;)T+=a;const F=Math.min(e.inHeight,u+I);for(let D=0;D<e.outWidth;++D){const j=D*i-p;let O=j;for(;O<0;)O+=l;const U=Math.min(e.inWidth,A+j);let W=Number.NEGATIVE_INFINITY,$=-1;for(let J=b;J<C;J+=o){const Z=J-v;for(let oe=T;oe<F;oe+=a){const V=oe-I;for(let Y=O;Y<U;Y+=l){const ce=Y-j,he=t.get(m,J,oe,Y,y);he>=W&&(W=he,$=Z*u*A+V*u+ce)}}}n.set($,m,g,_,D,y)}}}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;$t(s,"avgPool");const{filterSize:i,strides:o,pad:a,dimRoundingMode:l}=r,c=1;ee(Ri(o,c),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${c}'`);const u=dc(s.shape,i,o,c,a,l);let A;if(u.filterWidth===1&&u.filterHeight===1&&Pn(u.inShape,u.outShape))A=BA({inputs:{x:s},backend:n});else{const d=n.data.get(s.dataId).values,h=Gt(s.shape),p=V$(d,s.shape,s.dtype,h,u,"avg");A=n.makeTensorInfo(u.outShape,s.dtype,p.values)}return A}const Hje={kernelName:ub,backendName:"cpu",kernelFunc:jje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:o,pad:a,dimRoundingMode:l,dataFormat:c}=r;$t(s,"avgPool3d");const u=Id(s.shape,i,o,1,a,l,c),A=n.data.get(s.dataId).values,d=Tie(A,s.shape,s.dtype,Gt(s.shape),u,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}const Vje={kernelName:Ab,backendName:"cpu",kernelFunc:zje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wje(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,{filterSize:o,strides:a,pad:l,dimRoundingMode:c}=r;$t([s,i],"avgPool3DGrad");const u=Id(i.shape,o,a,1,l,c),A=u.strideDepth,d=u.strideHeight,h=u.strideWidth,p=u.filterDepth,m=u.filterHeight,y=u.filterWidth,g=u.dilationDepth,v=u.dilationHeight,b=u.dilationWidth,C=u.effectiveFilterDepth,_=u.effectiveFilterHeight,I=u.effectiveFilterWidth,T=C-1-u.padInfo.front,F=I-1-u.padInfo.left,D=_-1-u.padInfo.top,j=wn(i.shape,"float32"),O=1/(p*m*y),U=n.bufferSync(s);for(let W=0;W<u.batchSize;++W)for(let $=0;$<u.inChannels;++$)for(let J=0;J<u.inDepth;++J)for(let Z=0;Z<u.inHeight;++Z)for(let oe=0;oe<u.inWidth;++oe){const V=J-T,Y=Z-D,ce=oe-F;let he=0;for(let z=0;z<C;z+=g){const G=(V+z)/A;if(!(G<0||G>=u.outDepth||Math.floor(G)!==G))for(let X=0;X<_;X+=v){const re=(Y+X)/d;if(!(re<0||re>=u.outHeight||Math.floor(re)!==re))for(let ue=0;ue<I;ue+=b){const Ae=(ce+ue)/h;if(Ae<0||Ae>=u.outWidth||Math.floor(Ae)!==Ae)continue;const we=U.get(W,G,re,Ae,$);he+=we}}}j.set(he*O,W,J,Z,oe,$)}return n.makeTensorInfo(j.shape,j.dtype,j.values)}const Gje={kernelName:hI,backendName:"cpu",kernelFunc:Wje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kje(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,o=i;$t([s,i],"avgPoolGrad");const{filterSize:a,strides:l,pad:c}=r,u=dc(o.shape,a,l,1,c),A=u.strideHeight,d=u.strideWidth,h=u.filterHeight,p=u.filterWidth,m=u.dilationHeight,y=u.dilationWidth,g=u.effectiveFilterHeight,v=u.effectiveFilterWidth,b=v-1-u.padInfo.left,C=g-1-u.padInfo.top,_=wn(o.shape,"float32"),I=1/(h*p),T=n.data.get(s.dataId).values,F=wn(s.shape,"float32",T);for(let D=0;D<u.batchSize;++D)for(let j=0;j<u.inChannels;++j)for(let O=0;O<u.inHeight;++O)for(let U=0;U<u.inWidth;++U){const W=O-C,$=U-b;let J=0;for(let Z=0;Z<g;Z+=m){const oe=(W+Z)/A;if(!(oe<0||oe>=u.outHeight||Math.floor(oe)!==oe))for(let V=0;V<v;V+=y){const Y=($+V)/d;if(Y<0||Y>=u.outWidth||Math.floor(Y)!==Y)continue;const ce=F.get(D,oe,Y,j);J+=ce}}_.set(J*I,D,O,U,j)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}const qje={kernelName:dI,backendName:"cpu",kernelFunc:Kje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,scale:i,offset:o,mean:a,variance:l}=e;ee(a.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),ee(o==null||a.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),ee(i==null||a.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),$t([s,a,l,i,o],"batchNorm");let{varianceEpsilon:c}=r;c==null&&(c=.001);const u=n.data.get(s.dataId).values,A=n.data.get(a.dataId).values,d=n.data.get(l.dataId).values,h=i?n.data.get(i.dataId).values:new Float32Array([1]),p=o?n.data.get(o.dataId).values:new Float32Array([0]),m=new Float32Array(u.length),y=p.length,g=h.length,v=d.length,b=A.length;let C=0,_=0,I=0,T=0;for(let F=0;F<u.length;++F)m[F]=p[C++]+(u[F]-A[_++])*h[I++]/Math.sqrt(d[T++]+c),C>=y&&(C=0),_>=b&&(_=0),I>=g&&(I=0),T>=v&&(T=0);return n.makeTensorInfo(s.shape,s.dtype,m)}const Yje={kernelName:Bb,backendName:"cpu",kernelFunc:Xje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,crops:o}=r;$t([s],"batchToSpaceND");const a=i.reduce((g,v)=>g*v),l=E2(s.shape,i,a),c=k2(l.length,i.length),u=T2(s.shape,i,a),A=ZO(o,i.length),d=JO(u,o,i.length),h=Or({inputs:{x:s},backend:n,attrs:{shape:l}}),p=ia({inputs:{x:h},backend:n,attrs:{perm:c}}),m=Or({inputs:{x:p},backend:n,attrs:{shape:u}}),y=Tm({inputs:{x:m},backend:n,attrs:{begin:A,size:d}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),y}const Jje={kernelName:hb,backendName:"cpu",kernelFunc:Zje};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:o}=r,a=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,c=M$(a,l,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,c)}const t8e={kernelName:fI,backendName:"cpu",kernelFunc:e8e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n8e(t){const{inputs:e,backend:n}=t,{s0:r,s1:s}=e,i=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,a=hn(Array.from(i),Array.from(o));return n.makeTensorInfo([a.length],"int32",Int32Array.from(a))}const r8e={kernelName:pI,backendName:"cpu",kernelFunc:n8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s8e=mr(jy,(t,e)=>{const n=e;return t>n.clipValueMax?n.clipValueMax:t<n.clipValueMin?n.clipValueMin:t}),i8e={kernelName:jy,backendName:"cpu",kernelFunc:s8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o8e=t=>{const{x:e}=t.inputs,n=t.backend,r=new Float32Array($e(e.shape)),s=n.data.get(e.dataId),i=s.complexTensorInfos.real,o=s.complexTensorInfos.imag,a=n.data.get(i.dataId).values,l=n.data.get(o.dataId).values;for(let c=0;c<a.length;c++){const u=a[c],A=l[c];r[c]=Math.hypot(u,A)}return n.makeOutput(r,e.shape,"float32")},a8e={kernelName:pb,backendName:"cpu",kernelFunc:o8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dy(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,i)}const l8e={kernelName:RI,backendName:"cpu",kernelFunc:dy};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hy(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r,i=En(s,e[0].shape)[0],o=e.map(m=>m.shape);qO(o,i);let a=fA(e.map(m=>m.shape),i);if($e(a)===0)return n.makeTensorInfo(a,e[0].dtype,[]);const l=e.filter(m=>$e(m.shape)>0);if(l.length===1)return BA({inputs:{x:l[0]},backend:n});if(l[0].dtype==="complex64"){const m=l.map(C=>km({inputs:{input:C},backend:n})),y=l.map(C=>dy({inputs:{input:C},backend:n})),g=hy({inputs:m,backend:n,attrs:{axis:i}}),v=hy({inputs:y,backend:n,attrs:{axis:i}}),b=Ia({inputs:{real:g,imag:v},backend:n});return m.forEach(C=>n.disposeIntermediateTensorInfo(C)),y.forEach(C=>n.disposeIntermediateTensorInfo(C)),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(v),b}const c=l.map(m=>{const g=[-1,$e(m.shape.slice(i))];return Or({inputs:{x:m},backend:n,attrs:{shape:g}})}),u=c.map(m=>({vals:n.data.get(m.dataId).values,shape:m.shape}));a=fA(c.map(m=>m.shape),1);const A=c[0].shape[0]===1,d=Pse(u,a,e[0].dtype,A),h=fA(l.map(m=>m.shape),i),p=n.makeTensorInfo(h,e[0].dtype,d);return c.forEach(m=>n.disposeIntermediateTensorInfo(m)),p}const c8e={kernelName:mb,backendName:"cpu",kernelFunc:hy};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fie(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dataFormat:l,dilations:c,dimRoundingMode:u}=r;$t([s,i],"conv2d");const A=Ed(l),d=bi(s.shape,i.shape,o,c,a,u,!1,A),h=d.filterHeight,p=d.filterWidth,m=d.dilationHeight,y=d.dilationWidth,g=d.padInfo.left,v=d.padInfo.top,b=d.dataFormat==="channelsLast",C=new Ws(d.outShape,s.dtype),_=Gt(s.shape),I=Gt(i.shape),T=_[0],F=b?_[1]:_[2],D=b?_[2]:1,j=b?1:_[1],O=C.strides[0],U=b?C.strides[1]:C.strides[2],W=b?C.strides[2]:1,$=b?1:C.strides[1],J=n.data.get(s.dataId).values,Z=n.data.get(i.dataId).values,oe=C.values;for(let V=0;V<d.batchSize;++V){const Y=V*T,ce=V*O;for(let he=0;he<d.outHeight;++he){const z=ce+he*U,G=he*d.strideHeight-v;for(let X=0;X<h;++X){const re=G+X*m;if(re<0||re>=d.inHeight)continue;const ue=X*I[0],Ae=Y+re*F;for(let we=0;we<d.outWidth;++we){const Ce=z+we*W,Ne=we*d.strideWidth-g;for(let ke=0;ke<p;++ke){const je=Ne+ke*y;if(je<0||je>=d.inWidth)continue;const Ge=ue+ke*I[1],ot=Ae+je*D;let le=Ge;for(let Xe=0;Xe<d.inChannels;++Xe){const dt=J[ot+Xe*j];for(let Ue=0;Ue<d.outChannels;++Ue)oe[Ce+Ue*$]+=dt*Z[le+Ue];le+=d.outChannels}}}}}}return n.makeTensorInfo(C.shape,C.dtype,oe)}const u8e={kernelName:gb,backendName:"cpu",kernelFunc:Fie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:o,pad:a,dataFormat:l,dimRoundingMode:c,filterShape:u}=r;$t([s,i],"conv2dBackpropFilter");const A=Ed(l),d=bi(s.shape,u,o,1,a,c,!1,A),{strideHeight:h,strideWidth:p,filterHeight:m,filterWidth:y}=d,g=d.dataFormat==="channelsLast",v=new Ws(d.filterShape,"float32"),b=d.padInfo.left,C=d.padInfo.top,_=n.data.get(s.dataId).values,I=n.data.get(i.dataId).values,T=new Ws(s.shape,s.dtype,_),F=new Ws(i.shape,i.dtype,I);for(let D=0;D<m;++D){const j=Math.max(0,Math.ceil((C-D)/h)),O=Math.min(d.outHeight,(d.inHeight+C-D)/h);for(let U=0;U<y;++U){const W=Math.max(0,Math.ceil((b-U)/p)),$=Math.min(d.outWidth,(d.inWidth+b-U)/p);for(let J=0;J<d.inChannels;++J)for(let Z=0;Z<d.outChannels;++Z){let oe=0;for(let V=0;V<d.batchSize;++V)for(let Y=j;Y<O;++Y){const ce=D+Y*h-C;for(let he=W;he<$;++he){const z=U+he*p-b;g?oe+=T.get(V,ce,z,J)*F.get(V,Y,he,Z):oe+=T.get(V,J,ce,z)*F.get(V,Z,Y,he)}}v.set(oe,D,U,J,Z)}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const d8e={kernelName:gI,backendName:"cpu",kernelFunc:A8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h8e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{inputShape:o,strides:a,pad:l,dataFormat:c,dimRoundingMode:u}=r;$t([s,i],"conv2dBackpropInput");const A=Gt(i.shape),d=Gt(s.shape);let h=Ed(c);const p=bi(o,i.shape,a,1,l,u,!1,h),m=new Ws(p.inShape,"float32"),y=m.values,g=n.data.get(s.dataId).values,v=n.data.get(i.dataId).values,[b,C,_]=A,{batchSize:I,filterHeight:T,filterWidth:F,inChannels:D,inHeight:j,inWidth:O,outChannels:U,outHeight:W,outWidth:$,strideHeight:J,strideWidth:Z}=p;h=p.dataFormat;const oe=T-1-p.padInfo.top,V=F-1-p.padInfo.left,Y=h==="channelsLast",ce=m.strides[0],he=Y?m.strides[1]:m.strides[2],z=Y?m.strides[2]:1,G=Y?1:m.strides[1],X=d[0],re=Y?d[1]:d[2],ue=Y?d[2]:1,Ae=Y?1:d[1];for(let we=0;we<I;++we)for(let Ce=0;Ce<D;++Ce)for(let Ne=0;Ne<j;++Ne){const ke=Ne-oe,je=Math.max(0,Math.ceil(ke/J)),Ge=Math.min(W,(T+ke)/J);for(let ot=0;ot<O;++ot){const le=ot-V,Xe=Math.max(0,Math.ceil(le/Z)),dt=Math.min($,(F+le)/Z);let Ue=0;for(let Ke=je;Ke<Ge;++Ke){const Ze=Ke*J-ke;for(let st=Xe;st<dt;++st){const Me=st*Z-le,St=X*we+re*Ke+ue*st,Bt=b*(T-1-Ze)+C*(F-1-Me)+_*Ce;for(let ct=0;ct<U;++ct){const Nt=g[St+Ae*ct],Dt=v[Bt+ct];Ue+=Nt*Dt}}}const Re=ce*we+he*Ne+z*ot+G*Ce;y[Re]=Ue}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}const f8e={kernelName:yb,backendName:"cpu",kernelFunc:h8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dilations:l}=r;$t([s,i],"conv3d");const c=Df(s.shape,i.shape,o,l,a),{filterDepth:u,filterHeight:A,filterWidth:d,dilationDepth:h,dilationHeight:p,dilationWidth:m,padInfo:y}=c,g=y.front,v=y.left,b=y.top,C=new Ws(c.outShape,s.dtype),_=n.data.get(s.dataId).values,I=n.data.get(i.dataId).values,T=C.values,F=Gt(s.shape),D=Gt(i.shape);for(let j=0;j<c.batchSize;++j){const O=j*F[0],U=j*C.strides[0];for(let W=0;W<c.outDepth;++W){const $=U+W*C.strides[1],J=W*c.strideDepth-g;for(let Z=0;Z<u;++Z){const oe=J+Z*h;if(oe<0||oe>=c.inDepth)continue;const V=Z*D[0],Y=O+oe*F[1];for(let ce=0;ce<c.outHeight;++ce){const he=$+ce*C.strides[2],z=ce*c.strideHeight-b;for(let G=0;G<A;++G){const X=z+G*p;if(X<0||X>=c.inHeight)continue;const re=V+G*D[1],ue=Y+X*F[2];for(let Ae=0;Ae<c.outWidth;++Ae){const we=he+Ae*c.outChannels,Ce=Ae*c.strideWidth-v;for(let Ne=0;Ne<d;++Ne){const ke=Ce+Ne*m;if(ke<0||ke>=c.inWidth)continue;const je=re+Ne*D[2],Ge=ue+ke*c.inChannels;let ot=je;for(let le=0;le<c.inChannels;++le){const Xe=_[Ge+le];for(let dt=0;dt<c.outChannels;++dt)T[we+dt]+=Xe*I[ot+dt];ot+=c.outChannels}}}}}}}}return n.makeTensorInfo(C.shape,C.dtype,C.values)}const m8e={kernelName:wb,backendName:"cpu",kernelFunc:p8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:o,pad:a,filterShape:l}=r;$t([s,i],"conv3dBackpropFilterV2");const c=Gt(s.shape),u=Gt(i.shape),A=Df(s.shape,l,o,1,a),d=A.strideDepth,h=A.strideHeight,p=A.strideWidth,m=A.filterDepth,y=A.filterHeight,g=A.filterWidth,v=new Ws(A.filterShape,"float32"),b=v.values,[C,_,I,T]=v.strides,F=n.data.get(i.dataId).values,[D,j,O,U]=u,W=n.data.get(s.dataId).values,[$,J,Z,oe]=c,V=A.padInfo.front,Y=A.padInfo.left,ce=A.padInfo.top;for(let he=0;he<m;++he){const z=Math.max(0,Math.ceil((V-he)/d)),G=Math.min(A.outDepth,(A.inDepth+V-he)/d),X=he*C;for(let re=0;re<y;++re){const ue=Math.max(0,Math.ceil((ce-re)/h)),Ae=Math.min(A.outHeight,(A.inHeight+ce-re)/h),we=re*_+X;for(let Ce=0;Ce<g;++Ce){const Ne=Math.max(0,Math.ceil((Y-Ce)/p)),ke=Math.min(A.outWidth,(A.inWidth+Y-Ce)/p),je=Ce*I+we;for(let Ge=0;Ge<A.inChannels;++Ge){const ot=Ge*T+je;for(let le=0;le<A.outChannels;++le){let Xe=0;for(let dt=0;dt<A.batchSize;++dt){const Ue=dt*$,Re=dt*D;for(let Ke=z;Ke<G;++Ke){const st=(he+Ke*d-V)*J+Ue,Me=Ke*j+Re;for(let St=ue;St<Ae;++St){const ct=(re+St*h-ce)*Z+st,Nt=St*O+Me;for(let Dt=Ne;Dt<ke;++Dt){const Vt=(Ce+Dt*p-Y)*oe+ct,xt=Dt*U+Nt;Xe+=W[Vt+Ge]*F[xt+le]}}}}b[ot+le]=Xe}}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const y8e={kernelName:yI,backendName:"cpu",kernelFunc:g8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w8e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{pad:o,strides:a,inputShape:l}=r;$t([s],"conv3dBackpropInputV2");const c=Gt(s.shape),u=Gt(i.shape),A=Df(l,i.shape,a,1,o),d=new Ws(A.inShape,"float32"),h=d.values,[p,m,y,g]=d.strides,v=n.data.get(s.dataId).values,[b,C,_,I]=c,T=n.data.get(i.dataId).values,[F,D,j,O]=u,{batchSize:U,filterDepth:W,filterHeight:$,filterWidth:J,inChannels:Z,inDepth:oe,inHeight:V,inWidth:Y,outChannels:ce,outDepth:he,outHeight:z,outWidth:G,strideDepth:X,strideHeight:re,strideWidth:ue}=A,Ae=W-1-A.padInfo.front,we=$-1-A.padInfo.top,Ce=J-1-A.padInfo.left;for(let Ne=0;Ne<U;++Ne)for(let ke=0;ke<Z;++ke)for(let je=0;je<oe;++je){const Ge=je-Ae,ot=Math.max(0,Math.ceil(Ge/X)),le=Math.min(he,(W+Ge)/X);for(let Xe=0;Xe<V;++Xe){const dt=Xe-we,Ue=Math.max(0,Math.ceil(dt/re)),Re=Math.min(z,($+dt)/re);for(let Ke=0;Ke<Y;++Ke){const Ze=Ke-Ce,st=Math.max(0,Math.ceil(Ze/ue)),Me=Math.min(G,(J+Ze)/ue);let St=0;for(let Bt=ot;Bt<le;++Bt){const ct=Bt*X-Ge;for(let Nt=Ue;Nt<Re;++Nt){const Dt=Nt*re-dt;for(let gt=st;gt<Me;++gt){const Vt=gt*ue-Ze,xt=b*Ne+C*Bt+_*Nt+I*gt,kn=F*(W-1-ct)+D*($-1-Dt)+j*(J-1-Vt)+O*ke;for(let dn=0;dn<ce;++dn){const Wt=v[xt+dn],Jt=T[kn+dn];St+=Wt*Jt}}}}h[p*Ne+m*je+y*Xe+g*Ke+ke]=St}}}return n.makeTensorInfo(d.shape,d.dtype,d.values)}const v8e={kernelName:wI,backendName:"cpu",kernelFunc:w8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x8e=mr(Hy,t=>Math.cos(t)),b8e={kernelName:Hy,backendName:"cpu",kernelFunc:x8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C8e=mr(zy,t=>Math.cosh(t)),S8e={kernelName:zy,backendName:"cpu",kernelFunc:C8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B8e(t){const{inputs:e,backend:n,attrs:r}=t,{image:s,boxes:i,boxInd:o}=e,{cropSize:a,method:l,extrapolationValue:c}=r,[u,A,d,h]=s.shape,p=i.shape[0],[m,y]=a,g=wn([p,m,y,h],"float32"),v=n.data.get(i.dataId).values,b=n.data.get(o.dataId).values,C=n.data.get(s.dataId).values,_=Gt(s.shape),I=Gt(g.shape);for(let T=0;T<p;T++){const F=T*4,D=v[F],j=v[F+1],O=v[F+2],U=v[F+3],W=b[T];if(W>=u)continue;const $=m>1?(O-D)*(A-1)/(m-1):0,J=y>1?(U-j)*(d-1)/(y-1):0;for(let Z=0;Z<m;Z++){const oe=m>1?D*(A-1)+Z*$:.5*(D+O)*(A-1);if(oe<0||oe>A-1){for(let V=0;V<y;V++)for(let Y=0;Y<h;Y++){const ce=Y+V*I[2]+Z*I[1]+T*I[0];g.values[ce]=c}continue}if(l==="bilinear"){const V=Math.floor(oe),Y=Math.ceil(oe),ce=oe-V;for(let he=0;he<y;he++){const z=y>1?j*(d-1)+he*J:.5*(j+U)*(d-1);if(z<0||z>d-1){for(let ue=0;ue<h;ue++){const Ae=ue+he*I[2]+Z*I[1]+T*I[0];g.values[Ae]=c}continue}const G=Math.floor(z),X=Math.ceil(z),re=z-G;for(let ue=0;ue<h;ue++){let Ae=ue+G*_[2]+V*_[1]+W*_[0];const we=C[Ae];Ae=ue+X*_[2]+V*_[1]+W*_[0];const Ce=C[Ae];Ae=ue+G*_[2]+Y*_[1]+W*_[0];const Ne=C[Ae];Ae=ue+X*_[2]+Y*_[1]+W*_[0];const ke=C[Ae],je=we+(Ce-we)*re,Ge=Ne+(ke-Ne)*re;Ae=ue+he*I[2]+Z*I[1]+T*I[0],g.values[Ae]=je+(Ge-je)*ce}}}else for(let V=0;V<y;++V){const Y=y>1?j*(d-1)+V*J:.5*(j+U)*(d-1);if(Y<0||Y>d-1){for(let z=0;z<h;z++){const G=z+V*I[2]+Z*I[1]+T*I[0];g.values[G]=c}continue}const ce=Math.round(Y),he=Math.round(oe);for(let z=0;z<h;z++){const G=z+ce*_[2]+he*_[1]+W*_[0],X=z+V*I[2]+Z*I[1]+T*I[0];g.values[X]=C[G]}}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}const _8e={kernelName:xI,backendName:"cpu",kernelFunc:B8e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:o,reverse:a}=r;$t(s,"cumprod");const l=cs([i],s.shape.length);let c=s;l!=null&&(c=ia({inputs:{x:s},backend:n,attrs:{perm:l}}));const u=ks(1,s.shape.length)[0];if(u!==c.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${u}`);const A=ea(c.dtype,"int32"),d=cI($e(c.shape),A),h=n.data.get(c.dataId).values,p=c.shape[c.shape.length-1],m=a?(g,v)=>g+p-v-1:(g,v)=>g+v;for(let g=0;g<h.length;g+=p)for(let v=0;v<p;v++){const b=m(g,v);if(v===0)d[b]=o?1:h[b];else{const C=m(g,v-1);d[b]=o?h[C]*d[C]:h[b]*d[C]}}const y=n.makeTensorInfo(c.shape,A,d);if(l!=null){const g=Rf(l),v=ia({inputs:{x:y},backend:n,attrs:{perm:g}});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(c),v}return y}const I8e={kernelName:vI,backendName:"cpu",kernelFunc:N8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:o,reverse:a}=r;$t(s,"cumsum");const l=cs([i],s.shape.length);let c=s;l!=null&&(c=ia({inputs:{x:s},backend:n,attrs:{perm:l}}));const u=ks(1,s.shape.length)[0];if(u!==c.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${u}`);const A=ea(c.dtype,"int32"),d=Li($e(c.shape),A),h=n.data.get(c.dataId).values,p=c.shape[c.shape.length-1],m=a?(g,v)=>g+p-v-1:(g,v)=>g+v;for(let g=0;g<h.length;g+=p)for(let v=0;v<p;v++){const b=m(g,v);if(v===0)d[b]=o?0:h[b];else{const C=m(g,v-1);d[b]=o?h[C]+d[C]:h[b]+d[C]}}const y=n.makeTensorInfo(c.shape,A,d);if(l!=null){const g=Rf(l),v=ia({inputs:{x:y},backend:n,attrs:{perm:g}});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(c),v}return y}const k8e={kernelName:vb,backendName:"cpu",kernelFunc:E8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:o,binaryOutput:a}=r;if(s.shape.length===1){const l=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values,u=M$(l,c,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,u)}else if(s.shape.length===2){const l=n.bufferSync(s),c=n.bufferSync(i),u=Lse(l,c,o,a);return n.makeTensorInfo(u.shape,i.dtype,u.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}const F8e={kernelName:bI,backendName:"cpu",kernelFunc:T8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockSize:i,dataFormat:o}=r;ee(o==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${o}`);const a=s.shape[0],l=s.shape[1],c=s.shape[2],u=s.shape[3],A=l*i,d=c*i,h=u/(i*i),p=n.data.get(s.dataId).values,m=new Float32Array(a*A*d*h);let y=0;for(let g=0;g<a;++g)for(let v=0;v<A;++v){const b=Math.floor(v/i),C=v%i;for(let _=0;_<d;++_){const I=Math.floor(_/i),T=_%i,F=(C*i+T)*h;for(let D=0;D<h;++D){const O=D+F+u*(I+c*(b+l*g));m[y++]=p[O]}}}return n.makeTensorInfo([a,A,d,h],s.dtype,m)}const D8e={kernelName:CI,backendName:"cpu",kernelFunc:L8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lie(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dilations:l,dimRoundingMode:c}=r;$t([s,i],"depthwiseConv2DNative");const u=Gt(s.shape),A=Gt(i.shape);let d=l;d==null&&(d=[1,1]),ee(Ri(o,d),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${d}'`);const h=bi(s.shape,i.shape,o,d,a,c,!0),{filterHeight:p,filterWidth:m,dilationHeight:y,dilationWidth:g,padInfo:v}=h,b=v.left,C=v.top,_=h.outChannels/h.inChannels,I=new Ws(h.outShape,s.dtype),T=n.data.get(s.dataId).values,F=n.data.get(i.dataId).values,D=I.values;for(let j=0;j<h.batchSize;++j){const O=j*u[0],U=j*I.strides[0];for(let W=0;W<h.outHeight;++W){const $=U+W*I.strides[1],J=W*h.strideHeight-C;for(let Z=0;Z<p;++Z){const oe=J+Z*y;if(oe<0||oe>=h.inHeight)continue;const V=Z*A[0],Y=O+oe*u[1];for(let ce=0;ce<h.outWidth;++ce){const he=$+ce*I.strides[2],z=ce*h.strideWidth-b;for(let G=0;G<m;++G){const X=z+G*g;if(X<0||X>=h.inWidth)continue;const re=V+G*A[1],ue=Y+X*h.inChannels;let Ae=he,we=re;for(let Ce=0;Ce<h.inChannels;++Ce){const Ne=T[ue+Ce];for(let ke=0;ke<_;++ke)D[Ae+ke]+=Ne*F[we+ke];Ae+=_,we+=_}}}}}}return n.makeTensorInfo(I.shape,I.dtype,I.values)}const R8e={kernelName:xb,backendName:"cpu",kernelFunc:Lie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:o,dilations:a,pad:l,dimRoundingMode:c,filterShape:u}=r;$t([s,i],"depthwiseConv2dNativeBackpropFilter");const A=bi(s.shape,u,o,a,l,c,!0),{strideHeight:d,strideWidth:h,filterHeight:p,filterWidth:m}=A,y=new Ws(A.filterShape,"float32"),g=A.padInfo.left,v=A.padInfo.top,b=A.outChannels/A.inChannels,C=n.data.get(s.dataId).values,_=new Ws(s.shape,s.dtype,C),I=n.data.get(i.dataId).values,T=new Ws(i.shape,i.dtype,I);for(let F=0;F<p;++F){const D=Math.max(0,Math.ceil((v-F)/d)),j=Math.min(A.outHeight,(A.inHeight+v-F)/d);for(let O=0;O<m;++O){const U=Math.max(0,Math.ceil((g-O)/h)),W=Math.min(A.outWidth,(A.inWidth+g-O)/h);for(let $=0;$<A.outChannels;++$){const J=Math.trunc($/b),Z=$%b;let oe=0;for(let V=0;V<A.batchSize;++V)for(let Y=D;Y<j;++Y){const ce=F+Y*d-v;for(let he=U;he<W;++he){const z=O+he*h-g;oe+=_.get(V,ce,z,J)*T.get(V,Y,he,$)}}y.set(oe,F,O,J,Z)}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const O8e={kernelName:SI,backendName:"cpu",kernelFunc:P8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $8e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{strides:o,dilations:a,pad:l,dimRoundingMode:c,inputShape:u}=r;$t([s,i],"depthwiseConv2DNativeBackpropInput");const A=Gt(s.shape),d=Gt(i.shape),h=bi(u,i.shape,o,a,l,c,!0),p=new Ws(h.inShape,"float32"),m=p.values,[y,g,v]=p.strides,b=n.data.get(s.dataId).values,[C,_,I]=A,T=n.data.get(i.dataId).values,[F,D,j]=d,{batchSize:O,filterHeight:U,filterWidth:W,inChannels:$,inHeight:J,inWidth:Z,outChannels:oe,outHeight:V,outWidth:Y,strideHeight:ce,strideWidth:he}=h,z=U-1-h.padInfo.top,G=W-1-h.padInfo.left,X=oe/$;for(let re=0;re<O;++re)for(let ue=0;ue<$;++ue)for(let Ae=0;Ae<J;++Ae){const we=Ae-z,Ce=Math.max(0,Math.ceil(we/ce)),Ne=Math.min(V,(U+we)/ce);for(let ke=0;ke<Z;++ke){const je=ke-G,Ge=Math.max(0,Math.ceil(je/he)),ot=Math.min(Y,(W+je)/he);let le=0;for(let Xe=Ce;Xe<Ne;++Xe){const dt=Xe*ce-we;for(let Ue=Ge;Ue<ot;++Ue){const Re=Ue*he-je,Ke=C*re+_*Xe+I*Ue,Ze=F*(U-1-dt)+D*(W-1-Re)+j*ue;for(let st=0;st<X;++st){const Me=ue*X+st,St=b[Ke+Me],Bt=T[Ze+st];le+=St*Bt}}}m[y*re+g*Ae+v*ke+ue]=le}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}const U8e={kernelName:BI,backendName:"cpu",kernelFunc:$8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M8e(t){const{inputs:e,backend:n}=t,{x:r}=e,s=$e(r.shape),i=n.data.get(r.dataId).values,o=wn([s,s],r.dtype),a=o.values;for(let c=0;c<i.length;c++)a[c*s+c]=i[c];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,o.dtype,o.values)}const Q8e={kernelName:_I,backendName:"cpu",kernelFunc:M8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j8e={kernelName:bb,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:s}=t,{strides:i,pad:o,dilations:a}=n,l=e,c=l.data.get(r.dataId).values,u=r.shape.length,A=l.data.get(s.dataId).values,d=s.shape.length,{batchSize:h,inHeight:p,inWidth:m,inChannels:y,outHeight:g,outWidth:v,padInfo:b,strideHeight:C,strideWidth:_,filterHeight:I,filterWidth:T,dilationHeight:F,dilationWidth:D,outShape:j}=A2(r.shape,s.shape,i,o,"NHWC",a),O=$e(j),U=j.length,W=ms(r.dtype,O);for(let J=0;J<h;++J)for(let Z=0;Z<g;++Z){const oe=Z*C-b.top;for(let V=0;V<v;++V){const Y=V*_-b.left;for(let ce=0;ce<y;++ce){let he=Number.MIN_SAFE_INTEGER;for(let G=0;G<I;++G){const X=oe+G*F;if(X>=0&&X<p)for(let re=0;re<T;++re){const ue=Y+re*D;if(ue>=0&&ue<m){const Ae=ou([J,X,ue,ce],u,Gt(r.shape)),we=ou([G,re,ce],d,Gt(s.shape)),Ce=c[Ae]+A[we];Ce>he&&(he=Ce)}}}const z=ou([J,Z,V,ce],U,Gt(j));W[z]=he}}}return{dataId:l.write(Ff(W,r.dtype),j,r.dtype),shape:j,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H8e={kernelName:T_,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:s,dy:i}=t,{strides:o,pad:a,dilations:l}=n,c=e,u=ml(r.shape,c.data.get(r.dataId).values),A=ml(s.shape,c.data.get(s.dataId).values),{batchSize:d,inHeight:h,inWidth:p,inChannels:m,outHeight:y,outWidth:g,padInfo:v,strideHeight:b,strideWidth:C,filterHeight:_,filterWidth:I,dilationHeight:T,dilationWidth:F,outShape:D}=A2(r.shape,s.shape,o,a,"NHWC",l);ee(i.rank===D.length,()=>`Error in ${T_}, dy must have the same rank as output ${D.length}, but got ${i.rank}`);const j=ml(D,c.data.get(i.dataId).values),O=cP(s.shape,s.dtype);for(let W=0;W<d;++W)for(let $=0;$<y;++$){const J=$*b-v.top;for(let Z=0;Z<g;++Z){const oe=Z*C-v.left;for(let V=0;V<m;++V){let Y=Number.MIN_SAFE_INTEGER,ce=0,he=0;for(let z=0;z<_;++z){const G=J+z*T;if(G>=0&&G<h)for(let X=0;X<I;++X){const re=oe+X*F;if(re>=0&&re<p){const ue=u[W][G][re][V]+A[z][X][V];ue>Y&&(Y=ue,ce=z,he=X)}}}O[ce][he][V]+=j[W][$][Z][V]}}}return{dataId:c.write(Ff(O,r.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z8e={kernelName:k_,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:s,dy:i}=t,{strides:o,pad:a,dilations:l}=n,c=e,u=ml(r.shape,c.data.get(r.dataId).values),A=ml(s.shape,c.data.get(s.dataId).values),{batchSize:d,inHeight:h,inWidth:p,inChannels:m,outHeight:y,outWidth:g,padInfo:v,strideHeight:b,strideWidth:C,filterHeight:_,filterWidth:I,dilationHeight:T,dilationWidth:F,outShape:D}=A2(r.shape,s.shape,o,a,"NHWC",l);ee(i.rank===D.length,()=>`Error in ${k_}, dy must have the same rank as output ${D.length}, but got ${i.rank}`);const j=ml(D,c.data.get(i.dataId).values),O=cP(r.shape,r.dtype);for(let W=0;W<d;++W)for(let $=0;$<y;++$){const J=$*b-v.top;for(let Z=0;Z<g;++Z){const oe=Z*C-v.left;for(let V=0;V<m;++V){let Y=Number.MIN_SAFE_INTEGER,ce=J<0?0:J,he=oe<0?0:oe;for(let z=0;z<_;++z){const G=J+z*T;if(G>=0&&G<h)for(let X=0;X<I;++X){const re=oe+X*F;if(re>=0&&re<p){const ue=u[W][G][re][V]+A[z][X][V];ue>Y&&(Y=ue,ce=G,he=re)}}}O[W][ce][he][V]+=j[W][$][Z][V]}}}return{dataId:c.write(Ff(O,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V8e(t){const{inputs:e,backend:n,attrs:r}=t,{image:s}=e,{canvas:i,options:o}=r,{contextOptions:a,imageOptions:l}=o||{},c=(l==null?void 0:l.alpha)||1,u=(a==null?void 0:a.contextType)||"2d";if(u!=="2d")throw new Error(`Context type ${a.contextType} is not supported by the CPU backend.`);const A=i.getContext(u,(a==null?void 0:a.contextAttributes)||{});if(A==null)throw new Error(`Could not get the context with ${u} type.`);const[d,h]=s.shape.slice(0,2),p=s.shape.length===2?1:s.shape[2],m=n.data.get(s.dataId).values,y=s.dtype==="float32"?255:1,g=new Uint8ClampedArray(h*d*4);for(let b=0;b<d*h;++b){const C=[0,0,0,255*c];for(let I=0;I<p;I++){const T=m[b*p+I];if(s.dtype==="float32"){if(T<0||T>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${T}.`)}else if(s.dtype==="int32"&&(T<0||T>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${T}.`);p===1?(C[0]=T*y,C[1]=T*y,C[2]=T*y):C[I]=T*y}const _=b*4;g[_+0]=Math.round(C[0]),g[_+1]=Math.round(C[1]),g[_+2]=Math.round(C[2]),g[_+3]=Math.round(C[3])}i.width=h,i.height=d;const v=new ImageData(g,h,d);return A.putImageData(v,0,0),s}const W8e={kernelName:NI,backendName:"cpu",kernelFunc:V8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M2(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r;$t(s,"sum");let a;s.dtype==="bool"?a=bf({inputs:{x:s},backend:n,attrs:{dtype:"int32"}}):a=BA({inputs:{x:s},backend:n});const l=a.shape.length,c=En(i,a.shape),u=cs(c,l);let A=c,d=a;u!=null&&(d=ia({inputs:{x:a},backend:n,attrs:{perm:u}}),A=ks(A.length,l)),Pi("sum",A,d.shape.length);const[h,p]=Ci(d.shape,A),m=ea(d.dtype,"int32");let y=q_(n,h,m);const g=$e(p),v=n.data.get(y.dataId).values,b=n.data.get(d.dataId).values;for(let C=0;C<v.length;++C){const _=C*g;let I=0;for(let T=0;T<g;++T)I+=b[_+T];v[C]=I}if(o){const C=Es(y.shape,c),_=y;y=Or({inputs:{x:y},backend:n,attrs:{shape:C}}),n.disposeIntermediateTensorInfo(_)}return n.disposeIntermediateTensorInfo(a),u!=null&&n.disposeIntermediateTensorInfo(d),y}const G8e={kernelName:t2,backendName:"cpu",kernelFunc:M2};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K8e(t){const{inputs:e,backend:n,attrs:r}=t,{equation:s}=r,i=e,{allDims:o,summedDims:a,idDims:l}=a$(s,i.length);c$(o.length,l,i);const{path:c,steps:u}=u$(a,l),A=u.length;let d=null,h=o.length;const p=[];for(let m=0;m<A;++m){for(const y of u[m]){const{permutationIndices:g,expandDims:v}=l$(h,l[y]);let b;A$(g)?b=i[y]:(b=ia({inputs:{x:i[y]},backend:n,attrs:{perm:g}}),p.push(b));const C=b.shape.slice();for(let _=0;_<v.length;++_)C.splice(v[_],0,1);Pn(b.shape,C)||(b=Or({inputs:{x:b},backend:n,attrs:{shape:C}}),p.push(b)),d===null?d=b:(d=mk({inputs:{a:b,b:d},backend:n}),p.push(d))}m<A-1&&(c[m]>=0&&(d=M2({inputs:{x:d},backend:n,attrs:{axis:c[m]-(o.length-h),keepDims:!1}}),p.push(d)),h--)}for(const m of p)m!==d&&n.disposeIntermediateTensorInfo(m);return d}const q8e={kernelName:II,backendName:"cpu",kernelFunc:K8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X8e(t){const{inputs:e,backend:n}=t,{dy:r,y:s}=e;$t([r,s],"eluGrad");const i=new Float32Array($e(s.shape)),o=n.data.get(s.dataId).values,a=n.data.get(r.dataId).values;for(let l=0;l<o.length;++l){const c=o[l];c>=0?i[l]=a[l]:i[l]=a[l]*(c+1)}return n.makeTensorInfo(s.shape,"float32",i)}const Y8e={kernelName:EI,backendName:"cpu",kernelFunc:X8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z8e=e$,J8e=t$,eHe=n$,tHe=r$,nHe=s$,rHe=i$,sHe=mr(Gy,t=>{const e=Math.sign(t),n=Math.abs(t),r=1/(1+Z8e*n);return e*(1-((((rHe*r+nHe)*r+tHe)*r+eHe)*r+J8e)*r*Math.exp(-n*n))}),iHe={kernelName:Gy,backendName:"cpu",kernelFunc:sHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z_(t){const{inputs:e,backend:n,attrs:r}=t,{input:s}=e,{dim:i}=r,o=s.shape.length,a=s.shape.slice();let l=i;return i<0&&(ee(-(o+1)<=i,()=>`Axis must be in the interval [${-(o+1)}, ${o}]`),l=o+i+1),a.splice(l,0,1),Or({inputs:{x:s},backend:n,attrs:{shape:a}})}const oHe={kernelName:Sb,backendName:"cpu",kernelFunc:Z_};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aHe=Fs((t,e)=>t/e),W$=ii(Vy,aHe),_L={kernelName:Vy,backendName:"cpu",kernelFunc:W$};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Die(t,e,n){const r=t.shape,s=r[0],i=r[1],o=n.data.get(t.dataId),a=o.complexTensorInfos.real,l=o.complexTensorInfos.imag,c=[s,i],u=$e(c),A=vi("float32",u),d=vi("float32",u);for(let y=0;y<s;y++){const g=Tm({inputs:{x:a},backend:n,attrs:{begin:[y,0],size:[1,i]}}),v=Tm({inputs:{x:l},backend:n,attrs:{begin:[y,0],size:[1,i]}}),b=Ia({inputs:{real:g,imag:v},backend:n}),{real:C,imag:_}=lHe(b,e,n),I=Cd(C,_);for(let T=0;T<i;T++){const F=o$(I,T);A[y*i+T]=F.real,d[y*i+T]=F.imag}n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b)}const h=n.makeTensorInfo(c,"float32",A),p=n.makeTensorInfo(c,"float32",d),m=Ia({inputs:{real:h,imag:p},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),m}function lHe(t,e,n){const r=$e(t.shape),s=n.data.get(t.dataId),i=n.data.get(s.complexTensorInfos.real.dataId).values,o=n.data.get(s.complexTensorInfos.imag.dataId).values;if(cHe(r)){const a=NL(i,o,r,e,n),l=[t.shape[0],t.shape[1]];if(e){const c=n.makeTensorInfo(l,"float32",a.real),u=n.makeTensorInfo(l,"float32",a.imag),A=n.makeTensorInfo([],"float32",Nd(r,"float32")),d=BA({inputs:{x:A},backend:n}),h=_L.kernelFunc({inputs:{a:c,b:A},backend:n}),p=_L.kernelFunc({inputs:{a:u,b:d},backend:n}),m=n.data.get(h.dataId).values,y=n.data.get(p.dataId).values;return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(A),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),{real:m,imag:y}}return a}else{const a=Cd(i,o),l=uHe(a,r,e);return Hte(l)}}function cHe(t){return(t&t-1)===0}function NL(t,e,n,r,s){if(n===1)return{real:t,imag:e};const i=Cd(t,e),o=n/2,a=zte(i),l=a.real,c=a.imag,u=[l.length],A=s.makeTensorInfo(u,"float32",l),d=s.makeTensorInfo(u,"float32",c),h=Ia({inputs:{real:A,imag:d},backend:s}),p=Vte(i),m=p.real,y=p.imag,g=[m.length],v=s.makeTensorInfo(g,"float32",m),b=s.makeTensorInfo(g,"float32",y),C=Ia({inputs:{real:v,imag:b},backend:s}),_=NL(l,c,o,r,s),I=_.real,T=_.imag,F=[I.length],D=s.makeTensorInfo(F,"float32",I),j=s.makeTensorInfo(F,"float32",T),O=Ia({inputs:{real:D,imag:j},backend:s}),U=NL(m,y,o,r,s),W=U.real,$=U.imag,J=[W.length],Z=s.makeTensorInfo(J,"float32",W),oe=s.makeTensorInfo(J,"float32",$),V=Ia({inputs:{real:Z,imag:oe},backend:s}),Y=Gte(n,r),ce=[Y.real.length],he=s.makeTensorInfo(ce,"float32",Y.real),z=s.makeTensorInfo(ce,"float32",Y.imag),G=Ia({inputs:{real:he,imag:z},backend:s}),X=mk({inputs:{a:G,b:V},backend:s}),re=Ay({inputs:{a:O,b:X},backend:s}),ue=z$({inputs:{a:O,b:X},backend:s}),Ae=km({inputs:{input:re},backend:s}),we=km({inputs:{input:ue},backend:s}),Ce=dy({inputs:{input:re},backend:s}),Ne=dy({inputs:{input:ue},backend:s}),ke=hy({inputs:[Ae,we],backend:s,attrs:{axis:0}}),je=hy({inputs:[Ce,Ne],backend:s,attrs:{axis:0}}),Ge=s.data.get(ke.dataId).values,ot=s.data.get(je.dataId).values;return s.disposeIntermediateTensorInfo(A),s.disposeIntermediateTensorInfo(d),s.disposeIntermediateTensorInfo(h),s.disposeIntermediateTensorInfo(v),s.disposeIntermediateTensorInfo(b),s.disposeIntermediateTensorInfo(C),s.disposeIntermediateTensorInfo(D),s.disposeIntermediateTensorInfo(j),s.disposeIntermediateTensorInfo(O),s.disposeIntermediateTensorInfo(Z),s.disposeIntermediateTensorInfo(oe),s.disposeIntermediateTensorInfo(V),s.disposeIntermediateTensorInfo(he),s.disposeIntermediateTensorInfo(z),s.disposeIntermediateTensorInfo(G),s.disposeIntermediateTensorInfo(X),s.disposeIntermediateTensorInfo(re),s.disposeIntermediateTensorInfo(ue),s.disposeIntermediateTensorInfo(Ae),s.disposeIntermediateTensorInfo(Ce),s.disposeIntermediateTensorInfo(we),s.disposeIntermediateTensorInfo(Ne),s.disposeIntermediateTensorInfo(ke),s.disposeIntermediateTensorInfo(je),{real:Ge,imag:ot}}function uHe(t,e,n){const r=new Float32Array(e*2);for(let s=0;s<e;s++){let i=0,o=0;for(let a=0;a<e;a++){const l=Kte(s*a,e,n),c=o$(t,a);i+=c.real*l.real-c.imag*l.imag,o+=c.real*l.imag+c.imag*l.real}n&&(i/=e,o/=e),Wte(r,i,o,s)}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AHe(t){const{inputs:e,backend:n}=t,{input:r}=e,s=$e(r.shape),i=r.shape[r.shape.length-1],o=s/i,a=Or({inputs:{x:r},backend:n,attrs:{shape:[o,i]}}),l=Die(a,!1,n),c=Or({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),c}const dHe={kernelName:kI,backendName:"cpu",kernelFunc:AHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G$(t){const{backend:e,attrs:n}=t,{shape:r,value:s,dtype:i}=n,o=i||jm(s),a=ms(o,$e(r));return fHe(a,s,o),e.makeTensorInfo(r,o,a)}const hHe={kernelName:TI,backendName:"cpu",kernelFunc:G$};function fHe(t,e,n){t.fill(e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pHe={kernelName:FI,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,s=n,i=vi(r.dtype,$e(r.shape)),[o,a,l,c]=r.shape,u=s.data.get(r.dataId).values;for(let d=0;d<o;d++){const h=d*l*a*c;for(let p=0;p<a;p++){const m=p*(l*c);for(let y=0;y<l;y++){const g=y*c;for(let v=0;v<c;v++){const b=Math.round(l-y-1),C=h+m+g+v;let _=u[C];if(b>=0&&b<l){const I=b*c,T=h+m+I+v;_=u[T]}i[C]=_}}}}return{dataId:s.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:o,preluActivationWeights:a}=e,{strides:l,pad:c,dataFormat:u,dilations:A,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r;let m=Fie({inputs:{x:s,filter:i},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:A,dimRoundingMode:d}});if(o){const y=m;if(u==="NCHW"&&o.shape.length===1&&o.shape[0]!==1){const g=Or({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});m=Ay({inputs:{a:m,b:g},backend:n}),n.disposeIntermediateTensorInfo(g)}else m=Ay({inputs:{a:m,b:o},backend:n});n.disposeIntermediateTensorInfo(y)}if(h){const y=m;if(u==="NCHW"&&h==="prelu"&&a.shape.length===1&&a.shape[0]!==1){const g=Or({inputs:{x:a},backend:n,attrs:{shape:[a.shape[0],1,1]}});m=Y_(n,m,h,g,p),n.disposeIntermediateTensorInfo(g)}else m=Y_(n,m,h,a,p);n.disposeIntermediateTensorInfo(y)}return m}const gHe={kernelName:fx,backendName:"cpu",kernelFunc:mHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:o,preluActivationWeights:a}=e,{strides:l,pad:c,dataFormat:u,dilations:A,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r;let m=Lie({inputs:{x:s,filter:i},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:A,dimRoundingMode:d}});if(o){const y=m;m=Ay({inputs:{a:m,b:o},backend:n}),n.disposeIntermediateTensorInfo(y)}if(h){const y=m;m=Y_(n,m,h,a,p),n.disposeIntermediateTensorInfo(y)}return m}const wHe={kernelName:px,backendName:"cpu",kernelFunc:yHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vHe(t){const{inputs:e,backend:n}=t,{params:r,indices:s}=e,i=$e(r.shape),o=s.shape,a=o[o.length-1],[l,c,u,A]=ek(r,s);if(c===0)return n.makeTensorInfo(l,r.dtype,[]);const d=n.data.get(s.dataId).values,h=n.bufferSync(r),p=zse(d,h,r.dtype,c,a,u,A,r.shape,i);return n.makeTensorInfo(l,r.dtype,p.values)}const xHe={kernelName:LI,backendName:"cpu",kernelFunc:vHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,indices:i}=e,{axis:o,batchDims:a}=r;$t([s,i],"gatherV2");const l=En(o,s.shape)[0],c=n.data.get(i.dataId).values,u=s.shape[l];for(let C=0;C<c.length;++C){const _=c[C];ee(_<=u-1&&_>=0,()=>`GatherV2: the index value ${_} is not in [0, ${u-1}]`)}let A=a;a==null&&(A=0);const d=$e(i.shape),h=h$(s,i,l,A),p=Or({inputs:{x:s},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),m=Or({inputs:{x:i},backend:n,attrs:{shape:[h.batchSize,d/h.batchSize]}}),y=[h.batchSize,h.outerSize,d/h.batchSize,h.sliceSize],g=n.bufferSync(m),v=n.bufferSync(p),b=Vse(v,g,y);return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(h.outputShape,b.dtype,b.values)}const CHe={kernelName:_b,backendName:"cpu",kernelFunc:bHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SHe(t){const{inputs:e,backend:n}=t,{input:r}=e,s=$e(r.shape),i=r.shape[r.shape.length-1],o=s/i,a=Or({inputs:{x:r},backend:n,attrs:{shape:[o,i]}}),l=Die(a,!0,n),c=Or({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),c}const BHe={kernelName:DI,backendName:"cpu",kernelFunc:SHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _He=mr(e1,t=>Number.isFinite(t)?1:0,"bool"),NHe={kernelName:e1,backendName:"cpu",kernelFunc:_He};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IHe=mr(t1,t=>Math.abs(t)===1/0?1:0,"bool"),EHe={kernelName:t1,backendName:"cpu",kernelFunc:IHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kHe=mr(n1,t=>Number.isNaN(t)?1:0,"bool"),THe={kernelName:n1,backendName:"cpu",kernelFunc:kHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FHe(t){const{backend:e,attrs:n}=t,{start:r,stop:s,num:i}=n,o=Xse(r,s,i);return e.makeTensorInfo([o.length],"float32",o)}const LHe={kernelName:PI,backendName:"cpu",kernelFunc:FHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DHe=mr(s1,t=>Math.log1p(t)),RHe={kernelName:s1,backendName:"cpu",kernelFunc:DHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PHe=Fs((t,e)=>t&&e),OHe=ii(Tb,PHe,null,"bool"),$He={kernelName:Tb,backendName:"cpu",kernelFunc:OHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UHe=mr(Fb,t=>t?0:1,"bool"),MHe={kernelName:Fb,backendName:"cpu",kernelFunc:UHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QHe=Fs((t,e)=>t||e),jHe=ii(Lb,QHe,null,"bool"),HHe={kernelName:Lb,backendName:"cpu",kernelFunc:jHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{depthRadius:i,bias:o,alpha:a,beta:l}=r;$t(s,"LRN");const c=s.shape[3],u=c-1,A=n.data.get(s.dataId).values,d=$e(s.shape),h=new Float32Array(d);function p(m){const y=m%c;let g=m-y+Math.max(0,y-i);const v=m-y+Math.min(y+i,u);let b=0;for(;g<=v;g++){const C=A[g];b+=C*C}return b}for(let m=0;m<d;m++){const y=p(m),g=A[m]*Math.pow(o+a*y,-l);h[m]=g}return n.makeTensorInfo(s.shape,s.dtype,h)}const VHe={kernelName:Db,backendName:"cpu",kernelFunc:zHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,y:i,dy:o}=e,{depthRadius:a,bias:l,alpha:c,beta:u}=r;$t(o,"LRNGrad");const A=$e(o.shape),d=o.shape[3],h=n.data.get(o.dataId).values,p=n.data.get(s.dataId).values,m=n.data.get(i.dataId).values,y=new Float32Array(A),g=A;for(let v=0;v<g;v++){const b=v%d,C=v-b+Math.max(0,b-a),_=v-b+Math.min(d,b+a+1);let I=0;for(let T=C;T<_;T++)I+=Math.pow(p[T],2);I=c*I+l;for(let T=C;T<_;T++){let F=-2*c*u*p[T]*m[v]/I;v===T&&(F+=Math.pow(I,-u)),F*=h[v],y[T]+=F}}return n.makeTensorInfo(o.shape,s.dtype,y)}const GHe={kernelName:OI,backendName:"cpu",kernelFunc:WHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rie(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reductionIndices:i,keepDims:o}=r,a=n;let l=s.shape;const c=l.length,u=En(i,l);let A=u;const d=cs(A,c);let h=a.data.get(s.dataId).values;if(d!=null){const C=new Array(c);for(let _=0;_<C.length;_++)C[_]=l[d[_]];h=j$(h,l,s.dtype,d,C),A=ks(A.length,c),l=C}$t(s,"max"),Pi("max",A,c);const[p,m]=Ci(l,A),y=$e(m),g=Zse(h,y,p,s.dtype),v=a.write(g,p,s.dtype);let b=p;return o&&(b=Es(p,u)),{dataId:v,shape:b,dtype:s.dtype}}const KHe={kernelName:Rb,backendName:"cpu",kernelFunc:Rie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;$t(s,"maxPool");const{filterSize:i,strides:o,pad:a,dimRoundingMode:l}=r,c=1;ee(Ri(o,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${c}'`);const u=dc(s.shape,i,o,c,a,l);let A;if(u.filterWidth===1&&u.filterHeight===1&&Pn(u.inShape,u.outShape))A=BA({inputs:{x:s},backend:n});else{const d=n.data.get(s.dataId).values,h=Gt(s.shape),p=V$(d,s.shape,s.dtype,h,u,"max");A=n.makeTensorInfo(u.outShape,s.dtype,p.values)}return A}const XHe={kernelName:Pb,backendName:"cpu",kernelFunc:qHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:o,pad:a,dimRoundingMode:l,dataFormat:c}=r;$t(s,"maxPool3d");const u=Id(s.shape,i,o,1,a,l,c),A=n.data.get(s.dataId).values,d=Tie(A,s.shape,s.dtype,Gt(s.shape),u,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}const ZHe={kernelName:Ob,backendName:"cpu",kernelFunc:YHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JHe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,{filterSize:o,strides:a,pad:l,dimRoundingMode:c}=r;$t([s,i],"maxPool3DGrad");const u=Id(i.shape,o,a,1,l,c),A=n.bufferSync(i),d=Qje(A,u),h=u.strideDepth,p=u.strideHeight,m=u.strideWidth,y=u.dilationDepth,g=u.dilationHeight,v=u.dilationWidth,b=u.effectiveFilterDepth,C=u.effectiveFilterHeight,_=u.effectiveFilterWidth,I=b-1-u.padInfo.front,T=_-1-u.padInfo.left,F=C-1-u.padInfo.top,D=wn(i.shape,"float32"),j=n.bufferSync(s);for(let O=0;O<u.batchSize;++O)for(let U=0;U<u.inChannels;++U)for(let W=0;W<u.inDepth;++W)for(let $=0;$<u.inHeight;++$)for(let J=0;J<u.inWidth;++J){const Z=W-I,oe=$-F,V=J-T;let Y=0;for(let ce=0;ce<b;ce+=y){const he=(Z+ce)/h;if(!(he<0||he>=u.outDepth||Math.floor(he)!==he))for(let z=0;z<C;z+=g){const G=(oe+z)/p;if(!(G<0||G>=u.outHeight||Math.floor(G)!==G))for(let X=0;X<_;X+=v){const re=(V+X)/m;if(re<0||re>=u.outWidth||Math.floor(re)!==re)continue;const ue=b*C*_-1-d.get(O,he,G,re,U),Ae=ce*C*_+z*_+X,we=ue===Ae?1:0;if(we===0)continue;const Ce=j.get(O,he,G,re,U);Y+=Ce*we}}}D.set(Y,O,W,$,J,U)}return n.makeTensorInfo(D.shape,D.dtype,D.values)}const eze={kernelName:UI,backendName:"cpu",kernelFunc:JHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tze(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i,output:o}=e,a=i;$t([i,o],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:A}=r,d=dc(a.shape,l,c,1,u,A),h=n.data.get(a.dataId).values,p=wn(d.outShape,a.dtype,kie(h,a.shape,a.dtype,d).values),m=d.strideHeight,y=d.strideWidth,g=d.dilationHeight,v=d.dilationWidth,b=d.effectiveFilterHeight,C=d.effectiveFilterWidth,_=C-1-d.padInfo.left,I=b-1-d.padInfo.top,T=wn(a.shape,"float32"),F=n.data.get(s.dataId).values,D=wn(s.shape,"float32",F);for(let j=0;j<d.batchSize;++j)for(let O=0;O<d.inChannels;++O)for(let U=0;U<d.inHeight;++U)for(let W=0;W<d.inWidth;++W){const $=U-I,J=W-_;let Z=0;for(let oe=0;oe<b;oe+=g){const V=($+oe)/m;if(!(V<0||V>=d.outHeight||Math.floor(V)!==V))for(let Y=0;Y<C;Y+=v){const ce=(J+Y)/y;if(ce<0||ce>=d.outWidth||Math.floor(ce)!==ce)continue;const he=b*C-1-p.get(j,V,ce,O),z=oe*C+Y,G=he===z?1:0;if(G===0)continue;const X=D.get(j,V,ce,O);Z+=X*G}}T.set(Z,j,U,W,O)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}const nze={kernelName:$I,backendName:"cpu",kernelFunc:tze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rze(t,e,n,r,s){const i=Gt(e),o=V$(t,e,n,i,s,"max"),a=kie(t,e,n,s,!0,r);return[o.values,a.values]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sze={kernelName:MI,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{filterSize:s,strides:i,pad:o,includeBatchInIndex:a}=e,l=n;$t(r,"MaxPoolWithArgmax");const c=l.data.get(r.dataId).values,u=dc(r.shape,s,i,[1,1],o),[A,d]=rze(c,r.shape,r.dtype,a,u),h=l.write(A,u.outShape,r.dtype),p=l.write(d,u.outShape,r.dtype);return[{dataId:h,shape:u.outShape,dtype:r.dtype},{dataId:p,shape:u.outShape,dtype:"int32"}]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ize(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r,a=En(i,s.shape),c=Ci(s.shape,a)[1],u=$e(c),A=[],d=n.makeTensorInfo([],"float32",new Float32Array([u]));A.push(d);const h=bf({inputs:{x:s},backend:n,attrs:{dtype:"float32"}});A.push(h);const p=W$({inputs:{a:h,b:d},backend:n});A.push(p);const m=M2({inputs:{x:p},backend:n,attrs:{axis:i,keepDims:o}});return A.forEach(y=>n.disposeIntermediateTensorInfo(y)),m}const oze={kernelName:$b,backendName:"cpu",kernelFunc:ize};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r;$t(s,"min");const a=En(i,s.shape);let l=a;const c=cs(l,s.shape.length);let u=s;c!=null&&(u=ia({inputs:{x:s},backend:n,attrs:{perm:c}}),l=ks(l.length,s.shape.length)),Pi("min",l,u.shape.length);const[A,d]=Ci(u.shape,l),h=$e(d),p=Li($e(A),u.dtype),m=n.data.get(u.dataId).values;for(let g=0;g<p.length;++g){const v=g*h;let b=m[v];for(let C=0;C<h;++C){const _=m[v+C];(Number.isNaN(_)||_<b)&&(b=_)}p[g]=b}c!=null&&n.disposeIntermediateTensorInfo(u);const y=n.makeTensorInfo(A,u.dtype,p);if(o){const g=Es(A,a),v=Or({inputs:{x:y},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(y),v}return y}const lze={kernelName:Ub,backendName:"cpu",kernelFunc:aze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{paddings:i,mode:o}=r;$t(s,"mirrorPad");const a=i.map((b,C)=>b[0]+s.shape[C]+b[1]),l=i.map(b=>b[0]),c=i.map((b,C)=>b[0]+s.shape[C]),u=o==="reflect"?0:1,A=n.data.get(s.dataId).values,d=s.shape.length,h=Gt(s.shape),p=$e(a),m=a.length,y=Gt(a),g=vi(s.dtype,p);for(let b=0;b<p;b++){let C=Hm(b,m,y);for(let I=0;I<m;I++)C[I]<l[I]?C[I]=l[I]*2-C[I]-u:C[I]>=c[I]&&(C[I]=(c[I]-1)*2-C[I]+u);C=C.map((I,T)=>I-l[T]);const _=ou(C,d,h);g[b]=A[_]}return{dataId:n.write(g,a,s.dtype),shape:a,dtype:s.dtype}}const uze={kernelName:Mb,backendName:"cpu",kernelFunc:cze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Aze=Fs((t,e)=>{const n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e}),dze=ii(a1,Aze),hze={kernelName:a1,backendName:"cpu",kernelFunc:dze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pie(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{dim:i}=r,o=s.shape.length;let a=i;if(a===-1&&(a=o-1),a!==o-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${o} and dim was ${a}`);const l=En([a],s.shape),c=Rie({inputs:{x:s},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),u=Es(c.shape,l),A=Or({inputs:{x:c},backend:n,attrs:{shape:u}}),d=z$({inputs:{a:s,b:A},backend:n}),h=Mse({inputs:{x:d},backend:n}),p=M2({inputs:{x:h},backend:n,attrs:{axis:l,keepDims:!1}}),m=Or({inputs:{x:p},backend:n,attrs:{shape:u}}),y=W$({inputs:{a:h,b:m},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(A),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),y}const fze={kernelName:s2,backendName:"cpu",kernelFunc:Pie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pze(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{numSamples:i,seed:o,normalized:a}=r;$t(s,"multinomial");const l=a?s:Pie({inputs:{logits:s},backend:n,attrs:{dim:-1}}),c=l.shape[0],u=l.shape[1],A=n.data.get(l.dataId).values,d=[c,i],h=Li($e(d),"int32");for(let p=0;p<c;++p){const m=p*u,y=new Float32Array(u-1);y[0]=A[m];for(let b=1;b<y.length;++b)y[b]=y[b-1]+A[m+b];const g=EE.alea(o.toString()),v=p*i;for(let b=0;b<i;++b){const C=g();h[v+b]=y.length;for(let _=0;_<y.length;_++)if(C<y[_]){h[v+b]=_;break}}}return a||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(d,"int32",h)}const mze={kernelName:QI,backendName:"cpu",kernelFunc:pze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gze=XE;function yze(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:l}=r;$t(s,"NonMaxSuppression");const c=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values,{selectedIndices:A}=gze(c,u,o,a,l);return n.makeTensorInfo([A.length],"int32",new Int32Array(A))}const wze={kernelName:jI,backendName:"cpu",kernelFunc:yze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vze=YE;function xze(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:l,padToMaxOutputSize:c}=r;$t(s,"NonMaxSuppressionPadded");const u=n.data.get(s.dataId).values,A=n.data.get(i.dataId).values,{selectedIndices:d,validOutputs:h}=vze(u,A,o,a,l,c);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const bze={kernelName:HI,backendName:"cpu",kernelFunc:xze};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cze=ZE;function Sze(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:l,softNmsSigma:c}=r;$t(s,"NonMaxSuppressionWithScore");const u=n.data.get(s.dataId).values,A=n.data.get(i.dataId).values,d=o,h=a,p=l,m=c,{selectedIndices:y,selectedScores:g}=Cze(u,A,d,h,p,m);return[n.makeTensorInfo([y.length],"int32",new Int32Array(y)),n.makeTensorInfo([g.length],"float32",new Float32Array(g))]}const Bze={kernelName:zI,backendName:"cpu",kernelFunc:Sze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ze(t){const{inputs:e,backend:n,attrs:r}=t,{indices:s}=e,{dtype:i,depth:o,onValue:a,offValue:l}=r;$t(s,"oneHot");const c=$e(s.shape),u=new Float32Array(c*o);u.fill(l);const A=n.data.get(s.dataId).values;for(let d=0;d<c;++d)A[d]>=0&&A[d]<o&&(u[d*o+A[d]]=a);return n.makeTensorInfo([...s.shape,o],i,u)}const Nze={kernelName:zb,backendName:"cpu",kernelFunc:_ze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J_(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(r.dtype==="complex64"){const s=km({inputs:{input:r},backend:n}),i=J_({inputs:{x:s},backend:n}),o=dy({inputs:{input:r},backend:n}),a=J_({inputs:{x:o},backend:n}),l=Ia({inputs:{real:i,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),l}else return G$({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const Ize={kernelName:l2,backendName:"cpu",kernelFunc:J_};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oie(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(r.dtype==="complex64"){const s=km({inputs:{input:r},backend:n}),i=Oie({inputs:{x:s},backend:n}),o=dy({inputs:{input:r},backend:n}),a=J_({inputs:{x:o},backend:n}),l=Ia({inputs:{real:i,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),l}else return G$({backend:n,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}const Eze={kernelName:Hb,backendName:"cpu",kernelFunc:Oie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $ie(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r;if(e.length===1)return Z_({inputs:{input:e[0]},backend:n,attrs:{dim:s}});const i=e[0].shape,o=e[0].dtype;e.forEach(u=>{Di(i,u.shape,"All tensors passed to stack must have matching shapes"),ee(o===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=[],l=e.map(u=>{const A=Z_({inputs:{input:u},backend:n,attrs:{dim:s}});return a.push(A),A}),c=hy({inputs:l,backend:n,attrs:{axis:s}});return a.forEach(u=>n.disposeIntermediateTensorInfo(u)),c}const kze={kernelName:Vb,backendName:"cpu",kernelFunc:$ie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{paddings:i,constantValue:o}=r;$t(s,"pad");const a=i.map((v,b)=>v[0]+s.shape[b]+v[1]),l=i.map(v=>v[0]),c=n.data.get(s.dataId).values,u=$e(s.shape),A=s.shape.length,d=Gt(s.shape),h=$e(a),p=a.length,m=Gt(a),y=vi(s.dtype,h);o!==0&&y.fill(o);for(let v=0;v<u;v++){const C=Hm(v,A,d).map((I,T)=>I+l[T]),_=ou(C,p,m);y[_]=c[v]}return{dataId:n.write(y,a,s.dtype),shape:a,dtype:s.dtype}}const Uie={kernelName:Wb,backendName:"cpu",kernelFunc:Tze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fze=Fs((t,e)=>Math.pow(t,e)),Lze=ii(c1,Fze),Dze={kernelName:c1,backendName:"cpu",kernelFunc:Lze};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rze(t){const{inputs:e,backend:n,attrs:r}=t,{paramsNestedSplits:s,paramsDenseValues:i,indices:o}=e,a=s.map(y=>n.data.get(y.dataId).values),l=s.map(y=>y.shape),c=n.data.get(i.dataId).values,u=n.data.get(o.dataId).values,[A,d,h]=sie(a,l,c,i.shape,i.dtype,u,o.shape),p=A.map(y=>n.makeTensorInfo([y.length],"int32",y)),m=n.makeTensorInfo(h,i.dtype,d);return p.concat([m])}const Pze={kernelName:VI,backendName:"cpu",kernelFunc:Rze};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oze(t){const{inputs:e,backend:n}=t,{starts:r,limits:s,deltas:i}=e,o=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,[c,u]=iie(o,r.shape,r.dtype,a,s.shape,l,i.shape),A=n.makeTensorInfo([c.length],"int32",c),d=n.makeTensorInfo([u.length],r.dtype,u);return[A,d]}const $ze={kernelName:WI,backendName:"cpu",kernelFunc:Oze};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uze(t){const{inputs:e,backend:n,attrs:r}=t,{shape:s,values:i,defaultValue:o,rowPartitionTensors:a}=e,{rowPartitionTypes:l}=r,c=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values,A=n.data.get(o.dataId).values,d=a.map(y=>n.data.get(y.dataId).values),h=a.map(y=>y.shape),[p,m]=oie(c,s.shape,u,i.shape,i.dtype,A,o.shape,d,h,l);return n.makeTensorInfo(p,i.dtype,m)}const Mze={kernelName:GI,backendName:"cpu",kernelFunc:Uze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qze(t){const{backend:e,attrs:n}=t,{start:r,stop:s,dtype:i,step:o}=n,a=aie(r,s,o,i);return e.makeTensorInfo([a.length],i,a)}const jze={kernelName:KI,backendName:"cpu",kernelFunc:Qze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hze=mr(u1,t=>1/t),zze={kernelName:u1,backendName:"cpu",kernelFunc:Hze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vze(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:o,size:a}=r;$t(s,"resizeBilinear");const l=Gt(s.shape),[c,u]=a,[A,d,h,p]=s.shape,m=n.data.get(s.dataId).values,y=new Float32Array($e([A,c,u,p])),g=[i&&c>1?d-1:d,i&&u>1?h-1:h],v=[i&&c>1?c-1:c,i&&u>1?u-1:u];let b=0;const C=g[0]/v[0],_=g[1]/v[1];for(let I=0;I<A;I++)for(let T=0;T<c;T++){let F;o?F=C*(T+.5)-.5:F=C*T;const D=Math.max(0,Math.floor(F)),j=F-D,O=Math.min(d-1,Math.ceil(F)),U=I*l[0]+D*l[1],W=I*l[0]+O*l[1];for(let $=0;$<u;$++){let J;o?J=_*($+.5)-.5:J=_*$;const Z=Math.max(0,Math.floor(J)),oe=J-Z,V=Math.min(h-1,Math.ceil(J)),Y=U+Z*l[2],ce=W+Z*l[2],he=U+V*l[2],z=W+V*l[2];for(let G=0;G<p;G++){const X=m[Y+G],re=m[ce+G],ue=m[he+G],Ae=m[z+G],we=X+(ue-X)*oe,Ce=re+(Ae-re)*oe,Ne=we+(Ce-we)*j;y[b++]=Ne}}}return n.makeTensorInfo([A,c,u,p],"float32",y)}const Wze={kernelName:Yb,backendName:"cpu",kernelFunc:Vze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gze(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:o}=r;$t([i,s],"resizeBilinearGrad");const a=Gt(s.shape),[l,c,u,A]=s.shape,[,d,h]=i.shape,p=new Float32Array(l*c*u*A),m=[o&&d>1?c-1:c,o&&h>1?u-1:u],y=[o&&d>1?d-1:d,o&&h>1?h-1:h],g=m[0]/y[0],v=m[1]/y[1],b=n.data.get(i.dataId).values;let C=0;for(let _=0;_<l;_++){const I=_*a[0];for(let T=0;T<d;T++){const F=T*g,D=Math.floor(F),j=Math.min(Math.ceil(F),c-1),O=I+D*a[1],U=I+j*a[1],W=F-D,$=1-W;for(let J=0;J<h;J++){const Z=J*v,oe=Math.floor(Z),V=Math.min(Math.ceil(Z),u-1),Y=Z-oe,ce=1-Y,he=O+oe*a[2],z=O+V*a[2],G=U+oe*a[2],X=U+V*a[2],re=$*ce,ue=$*Y,Ae=W*ce,we=W*Y;for(let Ce=0;Ce<A;Ce++){const Ne=b[C++];p[he+Ce]+=Ne*re,p[z+Ce]+=Ne*ue,p[G+Ce]+=Ne*Ae,p[X+Ce]+=Ne*we}}}}return n.makeTensorInfo([l,u,c,A],"float32",p)}const Kze={kernelName:YI,backendName:"cpu",kernelFunc:Gze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qze(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:o,size:a}=r;$t(s,"resizeNearestNeighbor");const l=Gt(s.shape),[c,u]=a,[A,d,h,p]=s.shape,m=n.data.get(s.dataId).values,y=new Float32Array(A*c*u*p),g=[i&&c>1?d-1:d,i&&u>1?h-1:h],v=[i&&c>1?c-1:c,i&&u>1?u-1:u],b=g[0]/v[0],C=g[1]/v[1];let _=0;for(let I=0;I<A;I++){const T=I*l[0];for(let F=0;F<c;F++){const D=o?b*(F+.5):b*F;let j=Math.min(d-1,i?Math.round(D):Math.floor(D));o&&(j=Math.max(0,j));const O=T+j*l[1];for(let U=0;U<u;U++){const W=o?C*(U+.5):C*U;let $=Math.min(h-1,i?Math.round(W):Math.floor(W));o&&($=Math.max(0,$));const J=O+$*l[2];for(let Z=0;Z<p;Z++){const oe=m[J+Z];y[_++]=oe}}}}return n.makeTensorInfo([A,c,u,p],s.dtype,y)}const Xze={kernelName:Xb,backendName:"cpu",kernelFunc:qze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yze(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:o}=r;$t([i,s],"resizeNearestNeighborGrad");const a=Gt(s.shape),l=Gt(i.shape),[c,u,A,d]=s.shape,[,h,p]=i.shape,m=new Float32Array(c*u*A*d),y=n.data.get(i.dataId).values,g=[o&&h>1?u-1:u,o&&p>1?A-1:A],v=[o&&h>1?h-1:h,o&&p>1?p-1:p],b=g[0]/v[0],C=g[1]/v[1],_=1/b,I=1/C,T=Math.ceil(_)*2+2,F=Math.ceil(I)*2+2;for(let D=0;D<c;D++){const j=D*a[0];for(let O=0;O<u;O++){const U=j+O*a[1],W=Math.floor(O*_),$=Math.floor(W-T/2);for(let J=0;J<A;J++){const Z=U+J*a[2],oe=Math.floor(J*I),V=Math.floor(oe-F/2);for(let Y=0;Y<d;Y++){let ce=0;for(let he=0;he<T;he++){const z=he+$;if(z<0||z>=h)continue;const G=j+z*l[1],X=z*b,re=Math.min(u-1,o?Math.round(X):Math.floor(X));if(O===re)for(let ue=0;ue<F;ue++){const Ae=ue+V;if(Ae<0||Ae>=p)continue;const we=G+Ae*l[2],Ce=Ae*C,Ne=Math.min(A-1,o?Math.round(Ce):Math.floor(Ce));J===Ne&&(ce+=y[we+Y])}}m[Z+Y]=ce}}}}return n.makeTensorInfo(s.shape,s.dtype,m)}const Zze={kernelName:XI,backendName:"cpu",kernelFunc:Yze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dims:i}=r;$t(s,"reverse");const o=s.shape.length,a=En(i,s.shape);if(o===0)return BA({inputs:{x:s},backend:n});const l=new Ws(s.shape,s.dtype),c=n.bufferSync(s);for(let u=0;u<l.size;u++){const A=l.indexToLoc(u),d=A.slice();a.forEach(h=>d[h]=s.shape[h]-1-d[h]),l.set(c.get(...d),...A)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}const eVe={kernelName:Zb,backendName:"cpu",kernelFunc:Jze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tVe={kernelName:fE,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:s,fillValue:i,center:o}=e,a=n,l=vi(r.dtype,$e(r.shape)),[c,u,A,d]=r.shape,[h,p]=YO(o,u,A),m=255,y=Math.sin(s),g=Math.cos(s),v=a.data.get(r.dataId).values;for(let C=0;C<c;C++){const _=C*A*u*d;for(let I=0;I<u;I++){const T=I*(A*d);for(let F=0;F<A;F++){const D=F*d;for(let j=0;j<d;j++){const O=[c,I,F,j],U=O[2],W=O[1];let $=(U-h)*g-(W-p)*y,J=(U-h)*y+(W-p)*g;$=Math.round($+h),J=Math.round(J+p);let Z=i;if(typeof i!="number"&&(j===3?Z=m:Z=i[j]),$>=0&&$<A&&J>=0&&J<u){const V=J*(A*d),Y=$*d,ce=_+V+Y+j;Z=v[ce]}const oe=_+T+D+j;l[oe]=Z}}}}return{dataId:a.write(l,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nVe=mr(h1,t=>{const e=Math.floor(t);return t-e<.5?Math.floor(t):t-e>.5?Math.ceil(t):e%2===0?e:e+1}),rVe={kernelName:h1,backendName:"cpu",kernelFunc:nVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sVe(t){const{inputs:e,backend:n,attrs:r}=t,{indices:s,updates:i}=e,{shape:o}=r,{sliceRank:a,numUpdates:l,sliceSize:c,strides:u,outputSize:A}=Uf(i,s,o),d=!0,h=n.bufferSync(s),p=n.bufferSync(i),m=Mp(h,p,o,A,c,l,a,u,0,d);return n.makeTensorInfo(o,m.dtype,m.values)}const iVe={kernelName:ZI,backendName:"cpu",kernelFunc:sVe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oVe(t,e){let n=0,r=t.length,s=0;for(;n<r;)s=Math.floor((n+r)/2),t[s]<e?n=s+1:r=s;return r}function aVe(t,e){let n=0,r=t.length,s=0;for(;n<r;)s=Math.floor((n+r)/2),t[s]<=e?n=s+1:r=s;return r}function lVe(t,e,n,r,s,i){const o=ms("int32",n*s);for(let a=0;a<n;++a){const l=t.slice(a*r,(a+1)*r),c=a*s;for(let u=0;u<s;++u)o[c+u]=i==="left"?oVe(l,e[u+c]):aVe(l,e[u+c])}return o}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cVe(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:s,values:i}=e,{side:o}=r,a=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,c=lVe(a,l,s.shape[0],s.shape[1],i.shape[1],o);return n.makeTensorInfo(i.shape,"int32",c)}const uVe={kernelName:eE,backendName:"cpu",kernelFunc:cVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AVe(t){const{inputs:e,backend:n}=t,{condition:r,t:s,e:i}=e;$t([r,s,i],"select");const o=r.shape.length,a=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values,u=ea(s.dtype,i.dtype),A=Li($e(s.shape),u);let d=0;const h=o===0||o>1||s.shape.length===1?1:$e(s.shape.slice(1));for(let p=0;p<a.length;p++)for(let m=0;m<h;m++)a[p]===1?A[d++]=l[p]:A[d++]=c[p];return n.makeTensorInfo(s.shape,u,A)}const dVe={kernelName:Jb,backendName:"cpu",kernelFunc:AVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hVe=rk,fVe=sk,pVe=mr(p1,t=>t>=0?fVe*t:hVe*(Math.exp(t)-1)),mVe={kernelName:p1,backendName:"cpu",kernelFunc:pVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gVe=mr(y1,t=>t<0?-1:t>0?1:0),yVe={kernelName:y1,backendName:"cpu",kernelFunc:gVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wVe=mr(m1,t=>Math.sin(t)),vVe={kernelName:m1,backendName:"cpu",kernelFunc:wVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xVe=mr(g1,t=>Math.sinh(t)),bVe={kernelName:g1,backendName:"cpu",kernelFunc:xVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CVe=11920928955078125e-23,Dz=Math.log(CVe)+2,SVe=mr(v1,t=>{const e=t>-Dz,n=t<Dz,r=Math.exp(t);let s;return n?s=r:e?s=t:s=Math.log(1+r),s}),BVe={kernelName:v1,backendName:"cpu",kernelFunc:SVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Ve(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,paddings:o}=r;$t([s],"spaceToBatchND");const a=$e(i),l=[[0,0]];l.push(...o);for(let I=1+i.length;I<s.shape.length;++I)l.push([0,0]);const c=Uie.kernelFunc({inputs:{x:s},backend:n,attrs:{paddings:l,constantValue:0}}),u=E2(c.shape,i,a,!1),A=k2(u.length,i.length,!1),d=T2(c.shape,i,a,!1),m=Or({inputs:{x:c},backend:n,attrs:{shape:u}}),v=ia({inputs:{x:m},backend:n,attrs:{perm:A}}),_=Or({inputs:{x:v},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),_}const NVe={kernelName:n2,backendName:"cpu",kernelFunc:_Ve};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IVe(t){const{inputs:e,backend:n}=t,{indices:r,values:s,denseShape:i,defaultValue:o}=e;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${r.shape}`);if(s.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${s.shape}`);if(o.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${o.shape}`);const a=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values,u=n.data.get(o.dataId).values[0],[A,d,h,p,m]=Aie(a,r.shape,r.dtype,l,s.dtype,c,u);return[n.makeTensorInfo(d,r.dtype,A),n.makeTensorInfo([d[0]],s.dtype,h),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(y=>Number(y)))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}const EVe={kernelName:tE,backendName:"cpu",kernelFunc:IVe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kVe(t){const{inputs:e,backend:n}=t,{inputIndices:r,inputShape:s,newShape:i}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(s.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${s.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const o=Array.from(n.data.get(s.dataId).values),a=n.data.get(r.dataId).values,l=Array.from(n.data.get(i.dataId).values),[c,u,A]=die(a,r.shape,r.dtype,o,l);return[n.makeTensorInfo(u,r.dtype,c),n.makeTensorInfo([A.length],i.dtype,new Int32Array(A))]}const TVe={kernelName:nE,backendName:"cpu",kernelFunc:kVe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FVe(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${i.shape}`);if(s.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,[c,u]=H$(o,r.shape,r.dtype,a,l,!0);return n.makeTensorInfo(u,r.dtype,c)}const LVe={kernelName:rE,backendName:"cpu",kernelFunc:FVe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DVe(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${i.shape}`);if(s.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,[c,u]=H$(o,r.shape,r.dtype,a,l);return n.makeTensorInfo(u,r.dtype,c)}const RVe={kernelName:sE,backendName:"cpu",kernelFunc:DVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PVe(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:s,sparseValues:i,defaultValue:o}=e,{outputShape:a}=r,{sliceRank:l,numUpdates:c,sliceSize:u,strides:A,outputSize:d}=Uf(i,s,a),h=!1,p=n.bufferSync(s);let m;switch(i.dtype){case"bool":{const y=n.bufferSync(i),g=!!n.data.get(o.dataId).values[0];m=Mp(p,y,a,d,u,c,l,A,g,h);break}case"float32":{const y=n.bufferSync(i),g=n.data.get(o.dataId).values[0];m=Mp(p,y,a,d,u,c,l,A,g,h);break}case"int32":{const y=n.bufferSync(i),g=n.data.get(o.dataId).values[0];m=Mp(p,y,a,d,u,c,l,A,g,h);break}case"string":{const y=n.bufferSync(i),g=vd(n.data.get(o.dataId).values[0]);m=Mp(p,y,a,d,u,c,l,A,g,h);break}default:throw new Error(`Unsupported type ${i.dtype}`)}return n.makeTensorInfo(a,m.dtype,m.values)}const OVe={kernelName:iE,backendName:"cpu",kernelFunc:PVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Ve(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{numOrSizeSplits:i,axis:o}=r,a=En(o,s.shape)[0],l=d$(s,i,a),c=new Array(s.shape.length).fill(0),u=s.shape.slice();return l.map(A=>{const d=[...u];d[a]=A;const h=Tm({inputs:{x:s},backend:n,attrs:{begin:c,size:d}});return c[a]+=A,h})}const UVe={kernelName:r2,backendName:"cpu",kernelFunc:$Ve};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MVe={kernelName:oE,backendName:"cpu",kernelFunc:({inputs:t,backend:e})=>{const{x:n}=t,r=e;$t(n,"square");const s=r.data.get(n.dataId).values,i=new Float32Array(s.length);for(let a=0;a<s.length;++a){const l=s[a];i[a]=l*l}return{dataId:r.write(i,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QVe=mr(N1,(t,e)=>{const n=e;return isNaN(t)?NaN:t>0?1:n.alpha}),jVe={kernelName:N1,backendName:"cpu",kernelFunc:QVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HVe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,end:o,strides:a,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:A,shrinkAxisMask:d}=r;$t(s,"stridedSlice");const{finalShapeSparse:h,finalShape:p,isIdentity:m,sliceDim0:y,isSimpleSlice:g,begin:v,end:b,strides:C}=GO(s.shape,i,o,a,l,c,u,A,d);let _;if(m)_=Or({inputs:{x:s},backend:n,attrs:{shape:p}});else if(y||g){ee(s.shape.length>=1,()=>`Input must have rank at least 1, got: ${s.shape.length}`);const I=zO(v,b,C),T=Tm({inputs:{x:s},backend:n,attrs:{begin:v,size:I}});_=Or({inputs:{x:T},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(T)}else{const I=n.bufferSync(s),T=pie(h,I,C,v);_=n.makeTensorInfo(p,T.dtype,T.values)}return _}const zVe={kernelName:aE,backendName:"cpu",kernelFunc:HVe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VVe(t){const{inputs:e,backend:n,attrs:r}=t,{separator:s,nGramWidths:i,leftPad:o,rightPad:a,padWidth:l,preserveShortSequences:c}=r,{data:u,dataSplits:A}=e,d=n.data.get(u.dataId).values,h=n.data.get(A.dataId).values,[p,m]=mie(d,h,s,i,o,a,l,c);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(A.shape,"int32",m)]}const WVe={kernelName:lE,backendName:"cpu",kernelFunc:VVe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GVe(t){const{inputs:e,backend:n,attrs:r}=t,{skipEmpty:s}=r,{input:i,delimiter:o}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(o.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${o.shape}`);const a=n.data.get(i.dataId).values,l=n.data.get(o.dataId).values[0],[c,u,A]=gie(a,l,s),d=u.length;return[n.makeTensorInfo([d,2],"int32",c),n.makeTensorInfo([d],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(A))]}const KVe={kernelName:cE,backendName:"cpu",kernelFunc:GVe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qVe(t){const{inputs:e,backend:n,attrs:r}=t,{numBuckets:s}=r,{input:i}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const o=n.data.get(i.dataId).values,a=yie(o,s);return n.makeTensorInfo(i.shape,"int32",a)}const XVe={kernelName:uE,backendName:"cpu",kernelFunc:qVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YVe=mr(S1,t=>Math.tan(t)),ZVe={kernelName:S1,backendName:"cpu",kernelFunc:YVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JVe=mr(B1,t=>Math.tanh(t)),e7e={kernelName:B1,backendName:"cpu",kernelFunc:JVe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t7e(t){const{inputs:e,backend:n}=t,{tensor:r,indices:s,updates:i}=e,{sliceRank:o,numUpdates:a,sliceSize:l,strides:c,outputSize:u}=Uf(i,s,r.shape),A=!1,d=n.bufferSync(s),h=n.bufferSync(i),p=n.bufferSync(r),m=Mp(d,h,r.shape,u,l,a,o,c,p,A);return n.makeTensorInfo(r.shape,m.dtype,m.values)}const n7e={kernelName:JI,backendName:"cpu",kernelFunc:t7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r7e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reps:i}=r;$t(s,"tile");const o=vie(n.bufferSync(s),i);return n.makeTensorInfo(o.shape,o.dtype,o.values)}const s7e={kernelName:_1,backendName:"cpu",kernelFunc:r7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i7e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{k:i,sorted:o}=r;$t(s,"topk");const a=n.data.get(s.dataId).values,[l,c]=bie(a,s.shape,s.dtype,i,o);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(c.shape,c.dtype,c.values)]}const o7e={kernelName:AE,backendName:"cpu",kernelFunc:i7e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a7e(t){const{inputs:e,attrs:n,backend:r}=t,{image:s,transforms:i}=e,{interpolation:o,fillMode:a,fillValue:l,outputShape:c}=n,[u,A,d,h]=s.shape,[p,m]=c??[A,d],y=[u,p,m,h],g=Gt(s.shape),v=g[0],b=g[1],C=g[2],_=Gt(y),I=_[0],T=_[1],F=_[2],D=vi(s.dtype,$e(y));D.fill(l);const j=r.data.get(s.dataId).values,O=r.data.get(i.dataId).values;for(let W=0;W<u;++W){const $=i.shape[0]===1?O:O.subarray(W*8,W*8+8);for(let J=0;J<p;++J)for(let Z=0;Z<m;++Z)for(let oe=0;oe<h;++oe){let V;const Y=$[6]*Z+$[7]*J+1;if(Y===0)continue;const ce=($[0]*Z+$[1]*J+$[2])/Y,he=($[3]*Z+$[4]*J+$[5])/Y,z=Rz(ce,d,a),G=Rz(he,A,a);switch(o){case"nearest":V=h7e(j,A,d,v,b,C,W,G,z,oe,l);break;case"bilinear":V=f7e(j,A,d,v,b,C,W,G,z,oe,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${o}`)}const X=W*I+J*T+Z*F+oe;D[X]=V}return r.makeTensorInfo(y,s.dtype,D)}return{dataId:r.write(D,y,s.dtype),shape:s.shape,dtype:s.dtype}}const l7e={kernelName:dE,backendName:"cpu",kernelFunc:a7e};function Rz(t,e,n){switch(n){case"reflect":return c7e(t,e);case"wrap":return u7e(t,e);case"nearest":return d7e(t,e);case"constant":default:return A7e(t)}}function c7e(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=2*e;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-e?n+r:-n-1}else if(n>e-1)if(e<=1)n=0;else{const r=2*e;n-=r*Math.trunc(n/r),n>=e&&(n=r-n-1)}return Af(0,n,e-1)}function u7e(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=e-1;n+=e*(Math.trunc(-n/r)+1)}else if(n>e-1)if(e<=1)n=0;else{const r=e-1;n-=e*Math.trunc(n/r)}return Af(0,n,e-1)}function A7e(t,e){return t}function d7e(t,e){return Af(0,t,e-1)}function Xw(t,e,n,r,s,i,o,a,l,c,u){const A=o*r+a*s+l*i+c;return 0<=a&&a<e&&0<=l&&l<n?t[A]:u}function h7e(t,e,n,r,s,i,o,a,l,c,u){const A=Math.round(a),d=Math.round(l);return Xw(t,e,n,r,s,i,o,A,d,c,u)}function f7e(t,e,n,r,s,i,o,a,l,c,u){const A=Math.floor(a),d=Math.floor(l),h=A+1,p=d+1,m=(p-l)*Xw(t,e,n,r,s,i,o,A,d,c,u)+(l-d)*Xw(t,e,n,r,s,i,o,A,p,c,u),y=(p-l)*Xw(t,e,n,r,s,i,o,h,d,c,u)+(l-d)*Xw(t,e,n,r,s,i,o,h,p,c,u);return(h-a)*m+(a-A)*y}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p7e(t){const{inputs:e,attrs:n,backend:r}=t,{axis:s}=n,{x:i}=e;$t(i,"unique");const o=r.data.get(i.dataId).values,{outputValues:a,outputShape:l,indices:c}=Cie(o,s,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,a),r.makeTensorInfo([c.length],"int32",c)]}const m7e={kernelName:hE,backendName:"cpu",kernelFunc:p7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g7e(t){const{inputs:e,backend:n,attrs:r}=t,{value:s}=e;let{axis:i}=r;i<0&&(i+=s.shape.length);const o=s.shape.length,a=s.shape[i],l=new Array(o-1);let c=0;for(let h=0;h<o;h++)h!==i&&(l[c++]=s.shape[h]);const u=new Array(o).fill(0),A=s.shape.slice();A[i]=1;const d=new Array(a);for(let h=0;h<d.length;h++){u[i]=h;const p=Tm({inputs:{x:s},backend:n,attrs:{begin:u,size:A}});d[h]=Or({inputs:{x:p},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(p)}return d}const y7e={kernelName:o2,backendName:"cpu",kernelFunc:g7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w7e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,segmentIds:i}=e,{numSegments:o}=r;$t(s,"unsortedSegmentSum");const a=s.shape.length,l=i.shape.length,c=[],u=[],A=a-l;let d=i;for(let p=0;p<A;++p){const m=Z_({inputs:{input:d},backend:n,attrs:{dim:p+1}});d=m,u.push(m)}for(let p=0;p<o;++p){const m=Nd(p,"int32"),y=n.makeTensorInfo([],"int32",m),g=$se({inputs:{a:y,b:d},backend:n}),v=bf({inputs:{x:g},backend:n,attrs:{dtype:"float32"}}),b=mk({inputs:{a:v,b:s},backend:n}),C=M2({inputs:{x:b},backend:n,attrs:{axis:0,keepDims:!1}});c.push(C),u.push(y),u.push(g),u.push(v),u.push(b),u.push(C)}const h=$ie({inputs:c,backend:n,attrs:{axis:0}});return u.forEach(p=>n.disposeIntermediateTensorInfo(p)),h}const v7e={kernelName:a2,backendName:"cpu",kernelFunc:w7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x7e=[pje,q6e,gje,wje,tQe,xje,Cje,Bje,Nje,Eje,Tje,Lje,Rje,$je,Mje,Hje,Vje,Gje,qje,hje,Yje,Jje,t8e,rQe,r8e,J6e,iQe,i8e,X6e,a8e,c8e,u8e,d8e,f8e,m8e,y8e,v8e,b8e,S8e,_8e,I8e,k8e,F8e,D8e,R8e,O8e,U8e,Q8e,j8e,H8e,z8e,W8e,q8e,oje,Y8e,oQe,iHe,aQe,oHe,cQe,dHe,hHe,pHe,AQe,hQe,gHe,wHe,xHe,CHe,pQe,gQe,Y6e,BHe,l8e,NHe,EHe,THe,aje,wQe,xQe,LHe,CQe,RHe,$He,MHe,HHe,VHe,GHe,KHe,BQe,XHe,ZHe,eze,nze,sze,oze,lze,NQe,uze,hze,mze,EQe,TQe,wze,bze,Bze,LQe,Nze,Eze,kze,Uie,Dze,cje,PQe,Pze,$ze,Mze,jze,Z6e,_L,zze,uje,Aje,dje,Wze,Kze,Xze,Zze,eVe,tVe,rVe,zQe,iVe,uVe,dVe,mVe,WQe,yVe,vVe,bVe,GQe,fze,BVe,NVe,EVe,TVe,LVe,RVe,OVe,UVe,XQe,MVe,ZQe,eje,jVe,zVe,WVe,KVe,XVe,sje,G8e,ZVe,e7e,n7e,s7e,o7e,l7e,DQe,m7e,y7e,v7e,Ize];for(const t of x7e)pE(t);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Np={},NS={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function b7e(t,e){Np[t]=e}function gu(t,e){if(!(t in Np)||e!=null){const r=S7e(t,e);if(r!==null)Np[t]=r;else return console.log("Could not get context for WebGL version",t),null}const n=Np[t];return n==null||n.isContextLost()?(delete Np[t],gu(t)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),Np[t])}function C7e(t){if(!Le().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&t===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function S7e(t,e){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=e??C7e(t);return n.addEventListener("webglcontextlost",r=>{r.preventDefault(),delete Np[t]},!1),Le().getBool("SOFTWARE_WEBGL_ENABLED")&&(NS.failIfMajorPerformanceCaveat=!1),t===1?n.getContext("webgl",NS)||n.getContext("experimental-webgl",NS):n.getContext("webgl2",NS)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Ix;(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(Ix||(Ix={}));var hl;(function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"})(hl||(hl={}));var Ei;(function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Ei||(Ei={}));function Q2(t,e){return[e,t]}function B7e(t,e){return t*e}function IS(t){const e=$e(t),n=Math.ceil(e/4);return N_(n)}function P1(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function _7e(t,e){const[n,r]=P1(t,e);return n*r*4}function K$(t,e){const n=t;let r,s,i,o,a,l,c,u,A,d;return Le().getNumber("WEBGL_VERSION")===2?(r=n.R32F,s=n.R16F,i=n.RGBA16F,o=n.RGBA32F,a=n.RED,c=4,u=1,A=n.HALF_FLOAT,d=n.FLOAT,l=n.RGBA8):(r=t.RGBA,s=t.RGBA,i=t.RGBA,o=n.RGBA,a=t.RGBA,c=4,u=4,A=e!=null?e.HALF_FLOAT_OES:null,d=t.FLOAT,l=t.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:s,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:o,textureFormatFloat:a,downloadTextureFormat:l,downloadUnpackNumChannels:c,defaultNumChannels:u,textureTypeHalfFloat:A,textureTypeFloat:d}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vt(t,e){const n=e();return Le().getBool("DEBUG")&&N7e(t),n}function N7e(t){const e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+T7e(t,e))}const I7e=596e-10,E7e=65504;function k7e(t){return!!(Le().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||I7e<Math.abs(t)&&Math.abs(t)<E7e)}function T7e(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${e}`}}function ES(t,e){return Dd(t,()=>t.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function F7e(t,e){const n=Dd(t,()=>t.createShader(t.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(vt(t,()=>t.shaderSource(n,e)),vt(t,()=>t.compileShader(n)),t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function L7e(t,e){const n=Dd(t,()=>t.createShader(t.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(vt(t,()=>t.shaderSource(n,e)),vt(t,()=>t.compileShader(n)),Le().get("ENGINE_COMPILE_ONLY"))return n;if(t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw Mie(e,t.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const D7e=/ERROR: [0-9]+:([0-9]+):/g;function Mie(t,e){const n=D7e.exec(e);if(n==null){console.log(`Couldn't parse line number in error: ${e}`),console.log(t);return}const r=+n[1],s=t.split(`
`),i=s.length.toString().length+2,o=s.map((A,d)=>Jp((d+1).toString(),i)+A);let a=0;for(let A=0;A<o.length;A++)a=Math.max(o[A].length,a);const l=o.slice(0,r-1),c=o.slice(r-1,r),u=o.slice(r);console.log(l.join(`
`)),console.log(e.split(`
`)[0]),console.log(`%c ${Jp(c[0],a)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(u.join(`
`))}function R7e(t){return Dd(t,()=>t.createProgram(),"Unable to create WebGLProgram.")}function P7e(t,e){if(vt(t,()=>t.linkProgram(e)),!Le().get("ENGINE_COMPILE_ONLY")&&t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function J5(t,e){if(vt(t,()=>t.validateProgram(e)),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function O7e(t,e){const n=Dd(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return vt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),vt(t,()=>t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function $7e(t,e){const n=Dd(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return vt(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)),vt(t,()=>t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function U7e(t){return Dd(t,()=>t.createTexture(),"Unable to create WebGLTexture.")}function M7e(t,e){const n=Le().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){const r=`[${t}x${e}]`;throw new Error("Requested texture size "+r+" is invalid.")}if(t>n||e>n){const r=`[${t}x${e}]`,s=`[${n}x${n}]`;throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+s+".")}}function Q7e(t){return Dd(t,()=>t.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function Pz(t,e,n,r,s,i,o){const a=t.getAttribLocation(e,n);return a===-1?!1:(vt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,r)),vt(t,()=>t.vertexAttribPointer(a,s,t.FLOAT,!1,i,o)),vt(t,()=>t.enableVertexAttribArray(a)),!0)}function j7e(t,e,n){G7e(t,n),vt(t,()=>t.activeTexture(t.TEXTURE0+n)),vt(t,()=>t.bindTexture(t.TEXTURE_2D,e))}function H7e(t,e,n){return Dd(t,()=>t.getUniformLocation(e,n),'uniform "'+n+'" not present in program.')}function z7e(t,e,n){return t.getUniformLocation(e,n)}function V7e(t,e,n,r){vt(t,()=>j7e(t,e,r)),vt(t,()=>t.uniform1i(n,r))}function eF(t,e,n){vt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,n)),vt(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0))}function Oz(t,e){vt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,e)),vt(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0))}function kS(t){const e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+W7e(t,e))}function W7e(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${e}`}}function Dd(t,e,n){const r=vt(t,()=>e());if(r==null)throw new Error(n);return r}function G7e(t,e){const n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n){const s=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${s}.`)}}function fy(t,e=2){return $e(t.slice(0,t.length-e))}function py(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function TS(t){let e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[fy(t),...py(t)]),e}function K7e(t,e=!1){let n=Le().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=Le().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");r===1/0&&Le().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),e&&(n=n*2,r=r*2,t=t.map((a,l)=>l>=t.length-2?lI(t[l]):t[l]),t.length===1&&(t=[2,t[0]])),t.length!==2&&(t=_d(t).newShape);let s=$e(t),i=null;t.length<=1&&s<=n?i=[1,s]:t.length===2&&t[0]<=n&&t[1]<=n?i=t:t.length===3&&t[0]*t[1]<=n&&t[2]<=n?i=[t[0]*t[1],t[2]]:t.length===3&&t[0]<=n&&t[1]*t[2]<=n?i=[t[0],t[1]*t[2]]:t.length===4&&t[0]*t[1]*t[2]<=n&&t[3]<=n?i=[t[0]*t[1]*t[2],t[3]]:t.length===4&&t[0]<=n&&t[1]*t[2]*t[3]<=n&&(i=[t[0],t[1]*t[2]*t[3]]);const o=i!=null&&Math.max(...i)>r&&Math.min(...i)<=(e?2:1)&&Math.min(...i)>0;if(i==null||o)if(e){const a=fy(t);let l=2,c=2;t.length&&([l,c]=py(t)),s=a*(l/2)*(c/2),i=N_(s).map(u=>u*2)}else i=N_(s);return i}function FS(t){return t%2===0}function eN(t,e){if(t=t.slice(-2),e=e.slice(-2),Pn(t,e)||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){const n=t[t.length-1],r=e[e.length-1];if(n===r||FS(n)&&FS(r)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&FS(t[0])&&FS(e[0])}let tF,nF;function q7e(t){if(tF==null){const e=gu(t);tF=e.getParameter(e.MAX_TEXTURE_SIZE)}return tF}function X7e(t){if(nF==null){const e=gu(t);nF=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,nF)}function Y7e(t){if(t===0)return 0;let e;const n=gu(t);return rc(n,"EXT_disjoint_timer_query_webgl2")&&t===2?e=2:rc(n,"EXT_disjoint_timer_query")?e=1:e=0,e}function rc(t,e){return t.getExtension(e)!=null}function $z(t){try{if(gu(t)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function Z7e(t){if(t===0)return!1;const e=gu(t);if(t===1){if(!rc(e,"OES_texture_float"))return!1}else if(!rc(e,"EXT_color_buffer_float"))return!1;return IL(e)}function J7e(t){if(t===0)return!1;const e=gu(t);if(t===1){if(!rc(e,"OES_texture_float")||!rc(e,"WEBGL_color_buffer_float"))return!1}else{if(rc(e,"EXT_color_buffer_float"))return IL(e);const r="EXT_color_buffer_half_float";if(rc(e,r)){const s=e.getExtension(r);return eWe(e,s)}return!1}return IL(e)}function IL(t){const e=K$(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);const i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);const o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(i),o}function eWe(t,e){const n=K$(t,e),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);const a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(r),t.deleteFramebuffer(o),a}function tWe(t){return t!==2?!1:gu(t).fenceSync!=null}function j2(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&ee(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the WebGL backend.`)})}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mt=Le();Mt.registerFlag("HAS_WEBGL",()=>Mt.getNumber("WEBGL_VERSION")>0);Mt.registerFlag("WEBGL_VERSION",()=>$z(2)?2:$z(1)?1:0);Mt.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);Mt.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>Mt.get("WEBGL_VERSION")===2);Mt.registerFlag("WEBGL_CPU_FORWARD",()=>!0);Mt.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);Mt.registerFlag("WEBGL_PACK",()=>Mt.getBool("HAS_WEBGL"));Mt.registerFlag("WEBGL_PACK_NORMALIZATION",()=>Mt.getBool("WEBGL_PACK"));Mt.registerFlag("WEBGL_PACK_CLIP",()=>Mt.getBool("WEBGL_PACK"));Mt.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>Mt.getBool("WEBGL_PACK"));Mt.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>Mt.getBool("WEBGL_PACK"));Mt.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>Mt.getBool("WEBGL_PACK"));Mt.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>Mt.getBool("WEBGL_PACK"));Mt.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>Mt.getBool("WEBGL_PACK"));Mt.registerFlag("WEBGL_PACK_REDUCE",()=>Mt.getBool("WEBGL_PACK"));Mt.registerFlag("WEBGL_LAZILY_UNPACK",()=>Mt.getBool("WEBGL_PACK"));Mt.registerFlag("WEBGL_CONV_IM2COL",()=>Mt.getBool("WEBGL_PACK"));Mt.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>Mt.getBool("WEBGL_PACK"));Mt.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>q7e(Mt.getNumber("WEBGL_VERSION")));Mt.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>X7e(Mt.getNumber("WEBGL_VERSION")));Mt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const t=Mt.getNumber("WEBGL_VERSION");return t===0?0:Y7e(t)});Mt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>Mt.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!pP());Mt.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>Z7e(Mt.getNumber("WEBGL_VERSION")));Mt.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>Mt.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:Mt.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));Mt.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>J7e(Mt.getNumber("WEBGL_VERSION")));Mt.registerFlag("WEBGL_FENCE_API_ENABLED",()=>tWe(Mt.getNumber("WEBGL_VERSION")));Mt.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>Mt.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);Mt.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,t=>{if(typeof t!="number")throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${t}.`);if(t<0&&t!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${t}.`)});Mt.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>pP()?1:-1,t=>{if(typeof t!="number")throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${t}.`);if(t<0&&t!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${t}.`)});Mt.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);Mt.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);Mt.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);Mt.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);Mt.registerFlag("WEBGL_EXP_CONV",()=>!1);Mt.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>Mt.getBool("IS_TEST"));Mt.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);Mt.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);Mt.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);Mt.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fo(){let t,e,n,r,s,i,o,a,l,c;return Le().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",n="out",r="in",s="texture",i="outputColor",o="out vec4 outputColor;",a=Le().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",l="",c=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(t="",e="attribute",n="varying",r="varying",s="texture2D",i="gl_FragColor",o="",a=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,c=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:t,attribute:e,varyingVs:n,varyingFs:r,texture2D:s,output:i,defineOutput:o,defineSpecialNaN:a,defineSpecialInf:l,defineRound:c}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jm(t,e,n="index"){const r=Gt(e);return r.map((s,i)=>{const o=`int ${t[i]} = ${n} / ${s}`,a=i===r.length-1?`int ${t[i+1]} = ${n} - ${t[i]} * ${s}`:`index -= ${t[i]} * ${s}`;return`${o}; ${a};`}).join("")}function gk(t,e,n="index"){const r=Gt(e);return r.map((s,i)=>{const o=`int ${t[i]} = ${n} / outShapeStrides[${i}]`,a=i===r.length-1?`int ${t[i+1]} = ${n} - ${t[i]} * outShapeStrides[${i}]`:`index -= ${t[i]} * outShapeStrides[${i}]`;return`${o}; ${a};`}).join("")}function nWe(t,e){const n=t.length,r=t.map(i=>`${e}[${i}]`),s=new Array(n-1);s[n-2]=r[n-1];for(let i=n-3;i>=0;--i)s[i]=`(${s[i+1]} * ${r[i+1]})`;return s}function rWe(t,e,n="index"){const r=t.map((i,o)=>o),s=nWe(r,e);return s.map((i,o)=>{const a=`int ${t[o]} = ${n} / ${s[o]}`,l=o===s.length-1?`int ${t[o+1]} = ${n} - ${t[o]} * ${s[o]}`:`index -= ${t[o]} * ${s[o]}`;return`${a}; ${l};`}).join("")}function q$(t){const e=Gt(t).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${e[0]} + coords.y * ${e[1]} + coords.z;
  }
`}function X$(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const Qie=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{getBroadcastDims:jie}=cne;function sWe(t,e,n){const r=[];if(t.forEach(h=>{const p=$e(h.shapeInfo.logicalShape);if(h.shapeInfo.isUniform?r.push(`uniform float ${h.name}${p>1?`[${p}]`:""};`):(r.push(`uniform sampler2D ${h.name};`),r.push(`uniform int offset${h.name};`)),n.enableShapeUniforms){const{uniformShape:m}=Y$(n.packedInputs,h.shapeInfo.logicalShape,h.shapeInfo.texShape);switch(m.length){case 1:r.push(`uniform int ${h.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${h.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${h.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${h.name}Shape;`);break}r.push(`uniform ivec2 ${h.name}TexShape;`)}}),n.enableShapeUniforms){switch(e.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;");break}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(h=>{r.push(`uniform ${h.type} ${h.name}${h.arrayIndex?`[${h.arrayIndex}]`:""};`)});const s=r.join(`
`),i=t.map(h=>iWe(h,e,n.packedInputs,n.enableShapeUniforms)).join(`
`),o=e.texShape,a=Fo(),l=lWe(a);let c,u,A=AWe(a);return e.isPacked?(c=oWe(e.logicalShape,o,n.enableShapeUniforms),u=uWe(a)):(c=aWe(e.logicalShape,o,n.enableShapeUniforms),u=cWe(a)),n.packedInputs&&(A+=pWe),[A,l,u,s,c,i,n.userCode].join(`
`)}function O1(t,e=!1){const n=t.shapeInfo.logicalShape;switch(n.length){case 0:return NWe(t,e);case 1:return EWe(t,e);case 2:return TWe(t,e);case 3:return LWe(t,e);case 4:return RWe(t,e);case 5:return PWe(t);case 6:return OWe(t);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function Hie(t,e){switch(t.shapeInfo.logicalShape.length){case 0:return _We(t);case 1:return IWe(t,e);case 2:return kWe(t,e);case 3:return FWe(t,e);default:return DWe(t,e)}}function iWe(t,e,n=!1,r){let s="";n?s+=Hie(t,r):s+=O1(t,r);const i=t.shapeInfo.logicalShape,o=e.logicalShape;return i.length<=o.length&&(n?s+=$We(t,e):s+=UWe(t,e)),s}function oWe(t,e,n){switch(t.length){case 0:return zie();case 1:return mWe(t,e,n);case 2:return SWe(t,e,n);case 3:return yWe(t,e,n);default:return vWe(t,e,n)}}function aWe(t,e,n){switch(t.length){case 0:return zie();case 1:return gWe(t,e,n);case 2:return BWe(t,e,n);case 3:return wWe(t,e,n);case 4:return xWe(t,e,n);case 5:return bWe(t,e);case 6:return CWe(t,e);default:throw new Error(`${t.length}-D output sampling is not yet supported`)}}function lWe(t){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${t.texture2D}(textureSampler, uv).r;
    }
  `}function cWe(t){return`
    void setOutput(float val) {
      ${t.output} = vec4(val, 0, 0, 0);
    }
  `}function uWe(t){return`
    void setOutput(vec4 val) {
      ${t.output} = val;
    }
  `}function AWe(t){return`${t.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${t.varyingFs} vec2 resultUV;
    ${t.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${t.defineSpecialNaN}
    ${t.defineSpecialInf}
    ${t.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${dWe}
    ${hWe}
    ${fWe}
  `}const dWe=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,hWe=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,fWe=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,pWe=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function zie(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function mWe(t,e,n){const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return r[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${r[1]}.0);
      }
    `:r[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${r[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);
    }
  `}function gWe(t,e,n){return e[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${e[1]}.0);
      }
    `:e[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${e[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      return resTexRC.x * ${e[1]} + resTexRC.y;
    }
  `}function yWe(t,e,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],s=Math.ceil(t[2]/2),i=s*Math.ceil(t[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec3(b, r, c);
    }
  `}function wWe(t,e,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${gk(["r","c","d"],t)}
    return ivec3(r, c, d);
  }
`;const r=Jm(["r","c","d"],t);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${r}
      return ivec3(r, c, d);
    }
  `}function vWe(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],s=Math.ceil(t[t.length-1]/2),i=s*Math.ceil(t[t.length-2]/2);let o=i,a="",l="b, r, c";for(let c=2;c<t.length-1;c++)o*=t[t.length-c-1],a=`
      int b${c} = index / ${o};
      index -= b${c} * ${o};
    `+a,l=`b${c}, `+l;return`
    ivec${t.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      ${a}

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec${t.length}(${l});
    }
  `}function xWe(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${gk(["r","c","d","d2"],t)}
      return ivec4(r, c, d, d2);
    }
  `;const r=Jm(["r","c","d","d2"],t);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${r}
      return ivec4(r, c, d, d2);
    }
  `}function bWe(t,e){const n=Jm(["r","c","d","d2","d3"],t);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${e[0]},
                             ${e[1]}));

      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function CWe(t,e){const n=Jm(["r","c","d","d2","d3","d4"],t);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function SWe(t,e,n){const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(Pn(t,e))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));
      }
    `;const s=Math.ceil(t[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));

      int index = resTexRC.x * ${r[1]} + resTexRC.y;
      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec2(r, c);
    }
  `}function BWe(t,e,n){return Pn(t,e)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${e[0]}, ${e[1]}));
      }
    `:t[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:t[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      int r = index / ${t[1]};
      int c = index - r * ${t[1]};
      return ivec2(r, c);
    }
  `}function eg(t){return`offset${t}`}function _We(t){const e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),r=Fo();return`
    vec4 ${n}() {
      return ${r.texture2D}(${e}, halfCR);
    }
  `}function NWe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[s,i]=t.shapeInfo.texShape;if(s===1&&i===1)return`
      float ${r}() {
        return sampleTexture(${n}, halfCR);
      }
    `;const o=eg(n);if(e)return`
    float ${r}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${o});
      return sampleTexture(${n}, uv);
    }
  `;const[a,l]=t.shapeInfo.texShape;return`
    float ${r}() {
      vec2 uv = uvFromFlat(${a}, ${l}, ${o});
      return sampleTexture(${n}, uv);
    }
  `}function IWe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=t.shapeInfo.texShape,i=Fo();if(e)return`
    vec4 ${r}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${i.texture2D}(${n}, uv);
    }
  `;const o=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];return`
    vec4 ${r}(int index) {
      vec2 uv = packedUVfrom1D(
        ${o[0]}, ${o[1]}, index);
      return ${i.texture2D}(${n}, uv);
    }
  `}function EWe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`
      float ${r}(int index) {
        ${$1(t)}
      }
    `;const s=t.shapeInfo.texShape,i=s[0],o=s[1];if(o===1&&i===1)return`
      float ${r}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;const a=eg(n);return o===1?e?`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${a}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${a}) + 0.5) / ${i}.0);
        return sampleTexture(${n}, uv);
      }
    `:i===1?e?`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${a}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${a}) + 0.5) / ${o}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:e?`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${a});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${i}, ${o}, index + ${a});
      return sampleTexture(${n}, uv);
    }
  `}function kWe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape,o=i[0],a=i[1],l=Fo();if(i!=null&&Pn(n,i))return e?`
      vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);

        return ${l.texture2D}(${r}, uv);
      }
    `:`
      vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${a}.0, ${o}.0);

        return ${l.texture2D}(${r}, uv);
      }
    `;if(e)return`
    vec4 ${s}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `;const c=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],u=Math.ceil(n[1]/2);return`
    vec4 ${s}(int row, int col) {
      vec2 uv = packedUVfrom2D(${u}, ${c[0]}, ${c[1]}, row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `}function TWe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape;if(i!=null&&Pn(n,i)){if(e)return`
      float ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `;const d=i[0],h=i[1];return`
    float ${s}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${h}.0, ${d}.0);
      return sampleTexture(${r}, uv);
    }
  `}const{newShape:o,keptDims:a}=_d(n),l=o;if(l.length<n.length){const d=U1(t,l),h=["row","col"];return`
      ${O1(d,e)}
      float ${s}(int row, int col) {
        return ${s}(${M1(h,a)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${$1(t)}
      }
    `;const c=i[0],u=i[1],A=eg(r);return u===1?e?`
      float ${s}(int row, int col) {
        float index = dot(vec3(row, col, ${A}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col) {
      float index = dot(vec3(row, col, ${A}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${c}.0);
      return sampleTexture(${r}, uv);
    }
  `:c===1?e?`
      float ${s}(int row, int col) {
        float index = dot(vec3(row, col, ${A}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col) {
      float index = dot(vec3(row, col, ${A}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${u}.0, 0.5);
      return sampleTexture(${r}, uv);
    }
  `:e?`
      float ${s}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${r}Shape[1] + col + ${A};
        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
        return sampleTexture(${r}, uv);
      }
    `:`
  float ${s}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${A};
    vec2 uv = uvFromFlat(${c}, ${u}, index);
    return sampleTexture(${r}, uv);
  }
`}function FWe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape,o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(n[0]===1){const d=n.slice(1),h=[1,2],p=U1(t,d),m=["b","row","col"];return`
        ${Hie(p,e)}
        vec4 ${s}(int b, int row, int col) {
          return ${s}(${M1(m,h)});
        }
      `}const a=Fo();if(e)return`
    vec4 ${s}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${a.texture2D}(${r}, uv);
    }
  `;const l=o[0],c=o[1],u=Math.ceil(n[2]/2),A=u*Math.ceil(n[1]/2);return`
    vec4 ${s}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${l}, ${c}, ${A}, ${u}, b, row, col);
      return ${a.texture2D}(${r}, uv);
    }
  `}function LWe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],o=n[2],{newShape:a,keptDims:l}=_d(n),c=a;if(c.length<n.length){const m=U1(t,c),y=["row","col","depth"];return`
        ${O1(m,e)}
        float ${s}(int row, int col, int depth) {
          return ${s}(${M1(y,l)});
        }
      `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${i}, ${o}, 1)));
        ${$1(t)}
      }
    `;const u=t.shapeInfo.texShape,A=u[0],d=u[1],h=t.shapeInfo.flatOffset;if(d===i&&h==null)return e?`
      float ${s}(int row, int col, int depth) {
        int stride1 = ${r}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
        float ${s}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${o}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${d}.0, ${A}.0);
          return sampleTexture(${r}, uv);
        }
      `;if(d===o&&h==null)return e?`
      float ${s}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}.0, ${A}.0);
      return sampleTexture(${r}, uv);
    }
  `;const p=eg(r);return e?`
    float ${s}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${r}Shape[1] * ${r}Shape[2];
      int stride1 = ${r}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${p};
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
      return sampleTexture(${r}, uv);
    }
    `:`
      float ${s}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${i} + col * ${o} + depth + ${p};
        vec2 uv = uvFromFlat(${A}, ${d}, index);
        return sampleTexture(${r}, uv);
      }
  `}function DWe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=Fo();if(e)return`
    vec4 ${r}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${s.texture2D}(${n}, uv);
    }
  `;const i=t.shapeInfo.logicalShape,o=i.length,a=t.shapeInfo.texShape,l=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],c=l[0],u=l[1],A=Math.ceil(i[o-1]/2);let d=A*Math.ceil(i[o-2]/2),h="int b, int row, int col",p=`b * ${d} + (row / 2) * ${A} + (col / 2)`;for(let m=2;m<o-1;m++)h=`int b${m}, `+h,d*=i[o-m-1],p=`b${m} * ${d} + `+p;return`
    vec4 ${r}(${h}) {
      int index = ${p};
      int texR = index / ${u};
      int texC = index - texR * ${u};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${u}, ${c});
      return ${s.texture2D}(${n}, uv);
    }
  `}function RWe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],o=n[2]*i,a=n[1]*o,{newShape:l,keptDims:c}=_d(n);if(l.length<n.length){const v=U1(t,l),b=["row","col","depth","depth2"];return`
      ${O1(v,e)}
      float ${s}(int row, int col, int depth, int depth2) {
        return ${s}(${M1(b,c)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${a}, ${o}, ${i}, 1)));
        ${$1(t)}
      }
    `;const u=t.shapeInfo.flatOffset,A=t.shapeInfo.texShape,d=A[0],h=A[1],p=`int stride2 = ${r}Shape[3];`,m=`int stride1 = ${r}Shape[2] * stride2;`,y=`int stride0 = ${r}Shape[1] * stride1;`;if(h===a&&u==null)return e?`
      float ${s}(int row, int col, int depth, int depth2) {
        ${p}
        ${m}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${o}, ${i}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${d}.0);
        return sampleTexture(${r}, uv);
      }
    `;if(h===i&&u==null)return e?`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${d}.0);
        return sampleTexture(${r}, uv);
      }
    `;const g=eg(r);return e?`
    float ${s}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${p}
      ${m}
      ${y}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${g});
      return sampleTexture(${r}, uv);
    }
  `:`
    float ${s}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${a} + col * ${o} +
          depth * ${i} + depth2;
      vec2 uv = uvFromFlat(${d}, ${h}, index + ${g});
      return sampleTexture(${r}, uv);
    }
  `}function PWe(t){const e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=e[4],i=e[3]*s,o=e[2]*i,a=e[1]*o,{newShape:l,keptDims:c}=_d(e);if(l.length<e.length){const m=U1(t,l),y=["row","col","depth","depth2","depth3"];return`
      ${O1(m)}
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        return ${r}(${M1(y,c)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${a}, ${o}, ${i}, ${s})) +
          depth3;
        ${$1(t)}
      }
    `;const u=t.shapeInfo.flatOffset,A=t.shapeInfo.texShape,d=A[0],h=A[1];if(h===a&&u==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${o}, ${i}, ${s}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${d}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(h===s&&u==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]},
               ${e[2]*e[3]}, ${e[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${d}.0);
        return sampleTexture(${n}, uv);
      }
    `;const p=eg(n);return`
    float ${r}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${a} + col * ${o} + depth * ${i} +
          depth2 * ${s} + depth3 + ${p};
      vec2 uv = uvFromFlat(${d}, ${h}, index);
      return sampleTexture(${n}, uv);
    }
  `}function OWe(t){const e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:s,keptDims:i}=_d(e);if(s.length<e.length){const y=U1(t,s),g=["row","col","depth","depth2","depth3","depth4"];return`
      ${O1(y)}
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${r}(${M1(g,i)});
      }
    `}const o=e[5],a=e[4]*o,l=e[3]*a,c=e[2]*l,u=e[1]*c;if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${u}, ${c}, ${l}, ${a})) +
          dot(
            vec2(depth3, depth4),
            vec2(${o}, 1)));
        ${$1(t)}
      }
    `;const A=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,h=d[0],p=d[1];if(p===u&&A==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${c}, ${l}, ${a}, ${o})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${p}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(p===o&&A==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]*e[4]},
               ${e[2]*e[3]*e[4]},
               ${e[3]*e[4]},
               ${e[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${p}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;const m=eg(n);return`
    float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${u} + col * ${c} + depth * ${l} +
          depth2 * ${a} + depth3 * ${o} + depth4 + ${m};
      vec2 uv = uvFromFlat(${h}, ${p}, index);
      return sampleTexture(${n}, uv);
    }
  `}function $1(t){const e=t.name,n=$e(t.shapeInfo.logicalShape);return n<2?`return ${e};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${e}[i];
      }
    }
  `}function $We(t,e){const n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),s="get"+r+"AtOutCoords",i=t.shapeInfo.logicalShape.length,o=e.logicalShape.length,a=jie(t.shapeInfo.logicalShape,e.logicalShape),l=Sr(o),c=o-i;let u;const A=["x","y","z","w","u","v"];i===0?u="":o<2&&a.length>=1?u="coords = 0;":u=a.map(v=>`coords.${A[v+c]} = 0;`).join(`
`);let d="";o<2&&i>0?d="coords":d=t.shapeInfo.logicalShape.map((v,b)=>`coords.${A[b+c]}`).join(", ");let h="return outputValue;";const m=$e(t.shapeInfo.logicalShape)===1,g=$e(e.logicalShape)===1;if(i===1&&!m&&!g)h=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(m&&!g)o===1?h=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:h=`
        return vec4(outputValue.x);
      `;else if(a.length){const v=i-2,b=i-1;a.indexOf(v)>-1&&a.indexOf(b)>-1?h="return vec4(outputValue.x);":a.indexOf(v)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":a.indexOf(b)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${s}() {
      ${l} coords = getOutputCoords();
      ${u}
      vec4 outputValue = get${r}(${d});
      ${h}
    }
  `}function UWe(t,e){const n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),s="get"+r+"AtOutCoords",i=e.texShape,o=t.shapeInfo.texShape,a=t.shapeInfo.logicalShape.length,l=e.logicalShape.length;if(!t.shapeInfo.isUniform&&a===l&&t.shapeInfo.flatOffset==null&&Pn(o,i))return`
      float ${s}() {
        return sampleTexture(${n}, resultUV);
      }
    `;const c=Sr(l),u=jie(t.shapeInfo.logicalShape,e.logicalShape),A=l-a;let d;const h=["x","y","z","w","u","v"];a===0?d="":l<2&&u.length>=1?d="coords = 0;":d=u.map(m=>`coords.${h[m+A]} = 0;`).join(`
`);let p="";return l<2&&a>0?p="coords":p=t.shapeInfo.logicalShape.map((m,y)=>`coords.${h[y+A]}`).join(", "),`
    float ${s}() {
      ${c} coords = getOutputCoords();
      ${d}
      return get${r}(${p});
    }
  `}function Sr(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error(`GPU for rank ${t} is not yet supported`)}function Y$(t,e,n){const{newShape:r,keptDims:s}=_d(e),i=e.length,o=t&&i===3&&e[0]===1,a=o?e.slice(1):r,l=!t&&i>1&&!Pn(e,n)&&r.length<i||o;return{useSqueezeShape:l,uniformShape:l?a:e,keptDims:s}}function U1(t,e){const n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function M1(t,e){return e.map(n=>t[n]).join(", ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MWe(t,e,n,r){const s=n.map((u,A)=>{const d={logicalShape:u.shape,texShape:u.isUniform?null:u.texData.texShape,isUniform:u.isUniform,isPacked:u.isUniform?!1:u.texData.isPacked,flatOffset:null};return u.texData!=null&&u.texData.slice!=null&&u.texData.slice.flatOffset>0&&(d.flatOffset=u.texData.slice.flatOffset),{name:e.variableNames[A],shapeInfo:d}}),i=s.map(u=>u.shapeInfo),o={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},a=sWe(s,o,e),l=L7e(t.gl,a),c=t.createProgram(l);return Le().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:l,source:a,webGLProgram:c,inShapeInfos:i,outShapeInfo:o,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(t.buildVao(c),Object.assign({program:e,fragmentShader:l,source:a,webGLProgram:c,inShapeInfos:i,outShapeInfo:o},Vie(t,e,c)))}function Vie(t,e,n){const r=[],s=[];let i,o,a,l=null,c=null;c=t.getUniformLocation(n,"NAN",!1),Le().getNumber("WEBGL_VERSION")===1&&(l=t.getUniformLocation(n,"INFINITY",!1));const u=!1;for(const A of e.variableNames){const d={name:A,uniform:t.getUniformLocation(n,A,u),offset:t.getUniformLocation(n,`offset${A}`,u)};e.enableShapeUniforms&&(d.shape=t.getUniformLocation(n,`${A}Shape`,u),d.texShape=t.getUniformLocation(n,`${A}TexShape`,u)),r.push(d)}if(e.enableShapeUniforms&&(i=t.getUniformLocation(n,"outShape",u),a=t.getUniformLocation(n,"outShapeStrides",u),o=t.getUniformLocation(n,"outTexShape",u)),e.customUniforms)for(const A of e.customUniforms)s.push(t.getUniformLocation(n,A.name,u));return{variablesLocations:r,customUniformLocations:s,infLoc:l,nanLoc:c,outShapeLocation:i,outShapeStridesLocation:a,outTexShapeLocation:o}}function Uz(t,e){if(t.length!==e.length)throw Error(`Binary was compiled with ${t.length} inputs, but was executed with ${e.length} inputs`);t.forEach((n,r)=>{const s=n.logicalShape,i=e[r],o=i.shape;if(!Pn(s,o))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${s} and ${o} must match`);if(n.isUniform&&i.isUniform)return;const a=n.texShape,l=i.isUniform?null:i.texData.texShape;if(!Pn(a,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${a} and ${l} must match`)})}function QWe(t,e,n,r,s){e.program.enableShapeUniforms||(Uz(e.inShapeInfos,n),Uz([e.outShapeInfo],[r]));const i=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?t.setOutputPackedMatrixTexture(i.texture,o[0],o[1]):t.setOutputMatrixTexture(i.texture,o[0],o[1]),t.setProgram(e.webGLProgram),t.bindVertexArray(e.webGLProgram.vao),Le().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&t.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&t.gl.uniform1f(e.nanLoc,NaN);for(let l=0;l<n.length;++l){const c=n[l],{uniform:u,offset:A,shape:d,texShape:h}=e.variablesLocations[l];if(d){const{uniformShape:p}=Y$(e.program.packedInputs,c.shape,c.texData.texShape);switch(p.length){case 1:t.gl.uniform1iv(d,new Int32Array(p));break;case 2:t.gl.uniform2iv(d,new Int32Array(p));break;case 3:t.gl.uniform3iv(d,new Int32Array(p));break;case 4:t.gl.uniform4iv(d,new Int32Array(p));break}}if(h&&t.gl.uniform2i(h,c.texData.texShape[0],c.texData.texShape[1]),u!=null){if(c.isUniform){if($e(c.shape)<2)t.gl.uniform1f(u,c.uniformValues[0]);else{let p=c.uniformValues;p instanceof Float32Array||(p=new Float32Array(p)),t.gl.uniform1fv(u,p)}continue}c.texData.slice!=null&&A!=null&&t.gl.uniform1i(A,c.texData.slice.flatOffset),t.setInputMatrixTexture(c.texData.texture.texture,u,l)}}const a=e.outShapeLocation;if(a)switch(r.shape.length){case 1:t.gl.uniform1iv(a,new Int32Array(r.shape));break;case 2:t.gl.uniform2iv(a,new Int32Array(r.shape));break;case 3:t.gl.uniform3iv(a,new Int32Array(r.shape));break;case 4:t.gl.uniform4iv(a,new Int32Array(r.shape));break}if(e.outShapeStridesLocation){const l=Gt(r.shape);switch(r.shape.length){case 2:t.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(l));break;case 3:t.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(l));break;case 4:t.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(l));break}}if(e.outTexShapeLocation&&t.gl.uniform2i(e.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),e.program.customUniforms&&s)for(let l=0;l<e.program.customUniforms.length;++l){const c=e.program.customUniforms[l],u=e.customUniformLocations[l],A=s[l];if(c.type==="float")t.gl.uniform1fv(u,A);else if(c.type==="vec2")t.gl.uniform2fv(u,A);else if(c.type==="vec3")t.gl.uniform3fv(u,A);else if(c.type==="vec4")t.gl.uniform4fv(u,A);else if(c.type==="int")t.gl.uniform1iv(u,A);else if(c.type==="ivec2")t.gl.uniform2iv(u,A);else if(c.type==="ivec3")t.gl.uniform3iv(u,A);else if(c.type==="ivec4")t.gl.uniform4iv(u,A);else throw Error(`uniform type ${c.type} is not supported yet.`)}t.executeProgram()}function jWe(t,e,n){let r="";e.concat(n).forEach(o=>{const a=o.texData!=null&&o.texData.slice!=null&&o.texData.slice.flatOffset>0;if(t.enableShapeUniforms&&!o.isUniform){const l=o.texData.texShape,{useSqueezeShape:c,uniformShape:u,keptDims:A}=Y$(t.packedInputs,o.shape,l);let d="",h="",p="";if(u.length===1&&t.packedInputs){const _=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];d=`${_[0]>1}_${_[1]>1}`}else if(u.length===2&&!t.packedInputs)h=`${u[0]>1}_${u[1]>1}`;else if(u.length>2&&!t.packedInputs){const _=Gt(u);p=`${_[0]===l[1]}_${_[_.length-1]===l[1]}`}const m=o.shape.length,y=u.length===2&&Pn(o.shape,l),g=$e(o.shape)===1,v=Sm(o.shape,n.shape),b=!t.packedInputs&&m===n.shape.length&&Pn(l,n.texData.texShape),C=t.packedInputs||u.length>2?"":`${l[0]>1}_${l[1]>1}`;r+=`${m}_${b}_${c?A:""}_${u.length}_${g}_${v}_${y}_${d}_${h}_${p}_${C}_${a}`}else{const l=o.isUniform?"uniform":o.texData.texShape;r+=`${o.shape}_${l}_${a}`}});const s=t.userCode;let i=t.constructor.name;return i+="_"+r+"_"+s+`${Le().getNumber("WEBGL_VERSION")}`,i}function ro(t){return Le().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&t<=4}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class HWe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Ix.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=Fo();this.outputShape=e,this.enableShapeUniforms=ro(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?gk(["r","c","d"],e):Jm(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zWe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Ix.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=Fo();this.outputShape=e,this.enableShapeUniforms=ro(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?gk(["r","c","d"],e):Jm(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class VWe{constructor(e){this.variableNames=["A"],this.outTexUsage=hl.DOWNLOAD;const n=Fo();this.outputShape=e,this.userCode=`
      ${Qie}

      void main() {
        float x = getAAtOutCoords();
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class WWe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=hl.DOWNLOAD;const n=Fo();this.outputShape=e,this.userCode=`
      ${Qie}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GWe={R:0,G:1,B:2,A:3};class Mz{constructor(e,n=!1,r="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const s=Fo();this.outputShape=e,this.enableShapeUniforms=ro(this.outputShape.length);let i="result";n&&(i="floor(result * 255. + 0.5)");let o="";for(let a=0;a<r.length;a++){const l=r[a];o+=`
          if(offset == ${a}) {
            result = values[${GWe[l]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?X$():q$(e)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${r.length});

        flatIndex = idiv(flatIndex, ${r.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${s.texture2D}(A, uv);
          ${o}
        }
        ${s.output} = vec4(${i}, 0., 0., 0.);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class KWe{constructor(e,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=Fo();this.outputShape=e,this.enableShapeUniforms=ro(this.outputShape.length);let s="",i="result";n&&(i="floor(result * 255. + 0.5)");for(let o=0;o<=1;o++)for(let a=0;a<=1;a++){const l=o*2+a;s+=`
          localCoords = coords;
          if(localCoords[2] + ${a} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${a};
          if (localCoords[1] + ${o} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${o};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${r.texture2D}(A, uv);

            if (offset == 0) {
              result[${l}] = values[0];
            } else if (offset == 1) {
              result[${l}] = values[1];
            } else if (offset == 2) {
              result[${l}] = values[2];
            } else {
              result[${l}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?X$():q$(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${s}

          ${r.output} = ${i};
        }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qWe(t){const e=Fo(),n=`${e.version}
    precision highp float;
    ${e.attribute} vec3 clipSpacePos;
    ${e.attribute} vec2 uv;
    ${e.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return F7e(t,n)}function XWe(t){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return O7e(t,e)}function YWe(t){const e=new Uint16Array([0,1,2,2,1,3]);return $7e(t,e)}function H2(t,e,n,r,s,i){M7e(e,n);const o=U7e(t),a=t.TEXTURE_2D;return vt(t,()=>t.bindTexture(a,o)),vt(t,()=>t.texParameteri(a,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)),vt(t,()=>t.texParameteri(a,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),vt(t,()=>t.texParameteri(a,t.TEXTURE_MIN_FILTER,t.NEAREST)),vt(t,()=>t.texParameteri(a,t.TEXTURE_MAG_FILTER,t.NEAREST)),Le().getNumber("WEBGL_VERSION")===1?vt(t,()=>t.texImage2D(a,0,r,e,n,0,s,i,null)):vt(t,()=>t.texStorage2D(a,1,r,e,n)),vt(t,()=>t.bindTexture(t.TEXTURE_2D,null)),{texture:o,texShape:[n,e]}}function Wie(t){return t.internalFormatFloat}function ZWe(t,e,n,r){const[s,i]=Q2(e,n);return H2(t,s,i,Wie(r),r.textureFormatFloat,t.FLOAT)}function Gie(t){return t.internalFormatHalfFloat}function JWe(t,e,n,r){const[s,i]=Q2(e,n);return H2(t,s,i,Gie(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function Kie(t){return t.downloadTextureFormat}function eGe(t,e,n,r){const[s,i]=Q2(e,n);return H2(t,s,i,Kie(r),t.RGBA,t.UNSIGNED_BYTE)}function qie(t){return t.internalFormatPackedFloat}function tGe(t,e,n,r){const[s,i]=P1(e,n);return H2(t,s,i,qie(r),t.RGBA,t.FLOAT)}function Xie(t){return t.internalFormatPackedHalfFloat}function nGe(t,e,n,r){const[s,i]=P1(e,n);return H2(t,s,i,Xie(r),t.RGBA,r.textureTypeHalfFloat)}function rGe(t,e,n){return vt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),Pz(t,e,"clipSpacePos",n,3,20,0)&&Pz(t,e,"uv",n,2,20,12)}function sGe(t,e,n,r,s,i){vt(t,()=>t.bindTexture(t.TEXTURE_2D,e));let o,a,l;s instanceof Uint8Array?(o=new Uint8Array(n*r*4),a=t.UNSIGNED_BYTE,l=t.RGBA):(o=new Float32Array(n*r*4),a=t.FLOAT,l=i.internalFormatPackedFloat),o.set(s),Le().getNumber("WEBGL_VERSION")===2?vt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n,r,t.RGBA,a,o)):vt(t,()=>t.texImage2D(t.TEXTURE_2D,0,l,n,r,0,t.RGBA,a,o)),vt(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function iGe(t,e,n){vt(t,()=>t.bindTexture(t.TEXTURE_2D,e)),n.data instanceof Uint8Array?Le().getNumber("WEBGL_VERSION")===2?vt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,n.data)):vt(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n.width,n.height,0,t.RGBA,t.UNSIGNED_BYTE,n.data)):Le().getNumber("WEBGL_VERSION")===2?vt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,n)):vt(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)),vt(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function oGe(t,e,n,r){const s=t.createBuffer();vt(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,s));const a=4*4*e*n;return vt(t,()=>t.bufferData(t.PIXEL_PACK_BUFFER,a,t.STREAM_READ)),vt(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,0)),vt(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,null)),s}function aGe(t,e,n){const r=t,s=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,e),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,s),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),s}function lGe(t,e,n,r){const[s,i]=Q2(e,n),o=4,a=new Uint8Array(B7e(e*n,o));return vt(t,()=>t.readPixels(0,0,s,i,r.downloadTextureFormat,t.UNSIGNED_BYTE,a)),new Float32Array(a.buffer)}function cGe(t,e,n,r,s,i,o,a){const l=t,c=new Float32Array(_7e(i,o));return l.bindBuffer(l.PIXEL_PACK_BUFFER,e),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}function uGe(t,e,n){const r=new Float32Array(e*n*4);return vt(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,r)),r}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rF{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const n=Le().getNumber("WEBGL_VERSION");if(e!=null?(this.gl=e,b7e(n,e)):this.gl=gu(n),e=this.gl,Le().getNumber("WEBGL_VERSION")===2){const i=e;this.createVertexArray=()=>vt(i,()=>i.createVertexArray()),this.bindVertexArray=o=>vt(i,()=>i.bindVertexArray(o)),this.deleteVertexArray=o=>vt(i,()=>i.deleteVertexArray(o)),this.getVertexArray=()=>vt(i,()=>i.getParameter(i.VERTEX_ARRAY_BINDING))}else if(e!=null){const i=e.getExtension("OES_vertex_array_object");if(i==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>vt(e,()=>i.createVertexArrayOES()),this.bindVertexArray=o=>vt(e,()=>i.bindVertexArrayOES(o)),this.deleteVertexArray=o=>vt(e,()=>i.deleteVertexArrayOES(o)),this.getVertexArray=()=>vt(e,()=>e.getParameter(i.VERTEX_ARRAY_BINDING_OES))}let r="WEBGL_color_buffer_float";const s="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),Le().getNumber("WEBGL_VERSION")===1){const i="OES_texture_float",o="OES_texture_half_float";if(this.textureFloatExtension=ES(this.gl,i),rc(this.gl,o))this.textureHalfFloatExtension=ES(this.gl,o);else if(Le().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),rc(this.gl,s))this.colorBufferHalfFloatExtension=ES(this.gl,s);else if(Le().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",rc(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else if(rc(this.gl,s))this.colorBufferHalfFloatExtension=this.gl.getExtension(s);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=XWe(this.gl),this.indexBuffer=YWe(this.gl),this.framebuffer=Q7e(this.gl),this.textureConfig=K$(this.gl,this.textureHalfFloatExtension)}get debug(){return Le().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;vt(e,()=>e.finish()),vt(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),vt(e,()=>e.deleteFramebuffer(this.framebuffer)),vt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),vt(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),vt(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,n){return this.throwIfDisposed(),ZWe(this.gl,e,n,this.textureConfig)}createFloat16MatrixTexture(e,n){return this.throwIfDisposed(),JWe(this.gl,e,n,this.textureConfig)}createUnsignedBytesMatrixTexture(e,n){return this.throwIfDisposed(),eGe(this.gl,e,n,this.textureConfig)}uploadPixelDataToTexture(e,n){this.throwIfDisposed(),iGe(this.gl,e,n)}uploadDenseMatrixToTexture(e,n,r,s){this.throwIfDisposed(),sGe(this.gl,e,n,r,s,this.textureConfig)}createFloat16PackedMatrixTexture(e,n){return this.throwIfDisposed(),nGe(this.gl,e,n,this.textureConfig)}createPackedMatrixTexture(e,n){return this.throwIfDisposed(),tGe(this.gl,e,n,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(Oz(this.gl,this.framebuffer),this.outputTexture=null),vt(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,n,r){return this.downloadMatrixDriver(e,()=>lGe(this.gl,n,r,this.textureConfig))}downloadPackedMatrixFromBuffer(e,n,r,s,i,o){return cGe(this.gl,e,n,r,s,i,o,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,n){return aGe(this.gl,e,n)}createBufferFromTexture(e,n,r){this.bindTextureToFrameBuffer(e);const s=oGe(this.gl,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),s}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let n,r;if(Le().getBool("WEBGL_FENCE_API_ENABLED")){const s=e,i=s.fenceSync(s.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=()=>{const o=s.clientWaitSync(i,0,0);return o===s.ALREADY_SIGNALED||o===s.CONDITION_SATISFIED},n=i}else Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=()=>this.isQueryAvailable(n,Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):r=()=>!0;return{query:n,isFencePassed:r}}downloadMatrixFromPackedTexture(e,n,r){return this.downloadMatrixDriver(e,()=>uGe(this.gl,n,r))}createProgram(e){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=qWe(n));const r=R7e(n);vt(n,()=>n.attachShader(r,this.vertexShader)),vt(n,()=>n.attachShader(r,e)),P7e(n,r);const s=Object.assign(r,{vao:this.createVertexArray()});return this.debug&&J5(n,s),s}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const n=this.gl;vt(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),rGe(n,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&(vt(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&J5(this.gl,this.program),vt(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,n,r=!0){return this.throwIfDisposed(),r?H7e(this.gl,e,n):z7e(this.gl,e,n)}getAttributeLocation(e,n){return this.throwIfDisposed(),vt(this.gl,()=>this.gl.getAttribLocation(e,n))}getUniformLocationNoThrow(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)}setInputMatrixTexture(e,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),V7e(this.gl,e,n,r)}setOutputMatrixTexture(e,n,r){this.setOutputMatrixTextureDriver(e,r,n)}setOutputPackedMatrixTexture(e,n,r){this.throwIfDisposed();const[s,i]=P1(n,r);this.setOutputMatrixTextureDriver(e,s,i)}setOutputMatrixWriteRegion(e,n,r,s){this.setOutputMatrixWriteRegionDriver(r,e,s,n)}setOutputPackedMatrixWriteRegion(e,n,r,s){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&J5(this.gl,this.program),kS(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const n=this.getVertexArray();console.assert(n===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}vt(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),vt(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=ES(this.gl,Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const r=this.gl,s=this.getQueryTimerExtensionWebGL2(),i=r.createQuery();return r.beginQuery(s.TIME_ELAPSED_EXT,i),i}const e=this.getQueryTimerExtensionWebGL1(),n=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,n),n}endQuery(){if(Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await O3(()=>this.disposed||this.isQueryAvailable(e,Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,n){if(n===0)return null;if(n===2){const r=this.gl;return r.getQueryParameter(e,r.QUERY_RESULT)/1e6}else{const r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,n){if(n===0)return!0;if(n===2){const r=this.gl,s=this.getQueryTimerExtensionWebGL2(),i=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(s.GPU_DISJOINT_EXT)),i&&!this.disjoint}else{const r=this.getQueryTimerExtensionWebGL1(),s=r.getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),s&&!this.disjoint}}pollFence(e){return new Promise(n=>{this.addItemToPoll(()=>e.isFencePassed(),()=>n())})}pollItems(){const e=AGe(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=e;++n){const{resolveFn:r}=this.itemsToPoll[n];r()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,n){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1)return;let r;"setTimeoutCustom"in Le().platform&&(r=Le().platform.setTimeoutCustom.bind(Le().platform)),O3(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,r)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),eF(this.gl,e,this.framebuffer),this.debug&&kS(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(eF(this.gl,this.outputTexture,this.framebuffer),this.debug&&kS(this.gl)):Oz(this.gl,this.framebuffer)}downloadMatrixDriver(e,n){this.bindTextureToFrameBuffer(e);const r=n();return this.unbindTextureToFrameBuffer(),r}setOutputMatrixTextureDriver(e,n,r){this.throwIfDisposed();const s=this.gl;eF(s,e,this.framebuffer),this.debug&&kS(s),this.outputTexture=e,vt(s,()=>s.viewport(0,0,n,r)),vt(s,()=>s.scissor(0,0,n,r))}setOutputMatrixWriteRegionDriver(e,n,r,s){this.throwIfDisposed(),vt(this.gl,()=>this.gl.scissor(e,n,r,s))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function AGe(t){let e=0;for(;e<t.length&&t[e]();++e);return e-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{addImpl:dGe,bincountImpl:Yie,bincountReduceImpl:hGe,bitwiseAndImpl:fGe,castImpl:pGe,ceilImpl:mGe,concatImpl:gGe,equalImpl:yGe,expImpl:wGe,expm1Impl:vGe,floorImpl:xGe,gatherNdImpl:bGe,gatherV2Impl:CGe,greaterImpl:SGe,greaterEqualImpl:BGe,lessImpl:_Ge,lessEqualImpl:NGe,linSpaceImpl:IGe,logImpl:EGe,maxImpl:kGe,maximumImpl:TGe,minimumImpl:FGe,multiplyImpl:LGe,negImpl:DGe,notEqualImpl:RGe,prodImpl:PGe,raggedGatherImpl:OGe,raggedRangeImpl:$Ge,raggedTensorToTensorImpl:UGe,rangeImpl:MGe,rsqrtImpl:QGe,scatterImpl:jGe,sigmoidImpl:HGe,simpleAbsImpl:Zie,sliceImpl:zGe,sparseFillEmptyRowsImpl:VGe,sparseReshapeImpl:WGe,sparseSegmentReductionImpl:Jie,sqrtImpl:GGe,staticRegexReplaceImpl:KGe,stridedSliceImpl:qGe,stringNGramsImpl:XGe,stringSplitImpl:YGe,stringToHashBucketFastImpl:ZGe,subImpl:JGe,tileImpl:eKe,topKImpl:tKe,transposeImpl:Z$,uniqueImpl:nKe}=ije;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eoe(t,e){return["x","y","z","w","u","v"].slice(0,e).map(n=>`${t}.${n}`)}function Io(t,e){return e===1?[t]:eoe(t,e)}function rKe(t,e){if(t===1)return"rc";let n="";for(let r=0;r<t;r++)n+=e[r],r<t-1&&(n+=",");return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sKe{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=ro(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const n=Io("rc",this.rank),r=Sr(this.rank),s=this.getOutOfBoundsCondition(n),i=this.getSetup(n),o=this.getOutput(n);this.userCode=`
        void main() {
          ${r} rc = getOutputCoords();

          if(${s}) {
            setOutput(vec4(0));
          } else {
            ${i}

            setOutput(vec4(${o}));
          }
        }
      `}}getSourceCoordsArr(e){const n=[];for(let r=0;r<=1;r++)for(let s=0;s<=1;s++){let i=`${r===0?"r":"rp1"}, ${s===0?"c":"cp1"}`;for(let o=2;o<this.rank;o++)i=`${e[e.length-1-o]},`+i;n.push(i)}return n}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let n="";for(let r=this.rank-2;r<this.rank;r++)n+=`${e[r]} >= ${this.enableShapeUniforms?`outShape[${r}]`:this.outputShape[r]}`,r<this.rank-1&&(n+="||");return n}getSetup(e){if(this.rank===1)return"";const n=e.slice(-2),r=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],s=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${n[0]};
      int c = ${n[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${r};
      bool rEdge = rp1 >= ${s};
    `}getOutput(e){const n=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${n[0]}),
            cEdge ? 0. : getA(${n[1]}),
            rEdge ? 0. : getA(${n[2]}),
            rEdge || cEdge ? 0. : getA(${n[3]})`}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class toe{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=ro(this.outputShape.length);let r="";for(let s=0;s<4;s++){let i="thisRC = rc;";s%2===1&&(i+="thisRC.z += 1;"),s>1&&(i+="thisRC.y += 1;"),r+=`
        ${i}
        ${s>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${s}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${s>0?"}":""}
      `}this.userCode=`
      ${iKe(n,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?X$():q$(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${r}

        setOutput(result);
      }
    `}}function iKe(t,e){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e?rWe(["r","c","d"],"inputShape"):Jm(["r","c","d"],t)}
      return ivec3(r, c, d);
    }
  `}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oKe{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,n,r){const s=jz(n,r),i=Hz(e,s,r);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);const o=Qz(e,s,this.gpgpu.gl,this.gpgpu.textureConfig,r);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();const l=this.freeTextures[i].pop();return this.usedTextures[i].push(l),l}let a;return s===Ei.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):s===Ei.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):s===Ei.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):s===Ei.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):s===Ei.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(a),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),a}releaseTexture(e,n,r,s){if(this.freeTextures==null)return;const i=jz(r,s),o=Hz(n,i,s);o in this.freeTextures||(this.freeTextures[o]=[]);const a=Qz(n,i,this.gpgpu.gl,this.gpgpu.textureConfig,s),l=Le().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");l!==-1&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=a):(this.freeTextures[o].push(e),this.numFreeTextures++,this._numBytesFree+=a),this.numUsedTextures--;const c=this.usedTextures[o],u=c&&c.indexOf(e);if(u==null||u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c[u]=c[c.length-1],c.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function aKe(t,e){const n=t;if(e===n.R32F)return 4;if(e===n.R16F)return 2;if(e===n.RGBA32F)return 16;if(e===t.RGBA)return 16;if(e===n.RGBA16F)return 8;if(e===n.RGBA8)return 4;throw new Error(`Unknown internal format ${e}`)}function Qz(t,e,n,r,s){const i=lKe(e,r);let o;if(s){const[l,c]=P1(t[0],t[1]);o=l*c}else{const[l,c]=Q2(t[0],t[1]);o=l*c}const a=aKe(n,i);return o*a}function lKe(t,e){switch(t){case Ei.PACKED_2X2_FLOAT32:return qie(e);case Ei.PACKED_2X2_FLOAT16:return Xie(e);case Ei.UNPACKED_FLOAT32:return Wie(e);case Ei.UNPACKED_FLOAT16:return Gie(e);case Ei.PACKED_4X1_UNSIGNED_BYTE:return Kie(e);default:throw new Error(`Unknown physical texture type ${t}`)}}function cKe(t){return Le().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?Ei.PACKED_2X2_FLOAT32:Ei.UNPACKED_FLOAT32:t?Ei.PACKED_2X2_FLOAT16:Ei.UNPACKED_FLOAT16}function jz(t,e){if(t===hl.UPLOAD)return Ei.PACKED_2X2_FLOAT32;if(t===hl.RENDER||t==null)return cKe(e);if(t===hl.DOWNLOAD||t===hl.PIXELS)return Ei.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${t}`)}function Hz(t,e,n){return`${t[0]}_${t[1]}_${e}_${n}`}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rA{constructor(e,n){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=ro(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${n}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const fc="if (isnan(x)) return x;",uKe="return x;",zz="return abs(x);",AKe="return (x >= 0.0) ? x : (exp(x) - 1.0);",dKe=fc+`
  return (x < 0.0) ? 0.0 : x;
`,hKe=fc+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,gh="return x;",fKe="return 1.0 / (1.0 + exp(-1.0 * x));";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pKe="return x;",mKe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,gKe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,yKe=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,wKe="return 1.0 / (1.0 + exp(-1.0 * x));";class $h{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=ro(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${n}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vKe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=ro(this.outputShape.length);const n=e.length,r=Io("rc",n),s=Sr(n),i=rKe(n,r),o=r.slice(-2),a=n<=1?"rc":`vec2(${o.join(",")})`;this.userCode=`
      void main() {
        ${s} rc = getOutputCoords();
        vec4 packedInput = getA(${i});

        setOutput(getChannel(packedInput, ${a}));
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xKe=zE,bKe=1e-7,CKe=1e-4,LS={};function SKe(t){return t in LS||(LS[t]={}),LS[t]}const BKe=Le().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),_Ke=600;function NKe(){return Le().global.screen==null?1024:Le().global.screen.height*Le().global.screen.width*window.devicePixelRatio*_Ke/1024/1024}class yk extends aI{nextDataId(){return yk.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!Le().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(e!=null){if(e instanceof rF)n=e;else{const r=gu(Le().getNumber("WEBGL_VERSION"),e);n=new rF(r)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const r=gu(Le().getNumber("WEBGL_VERSION"));n=new rF(r),this.binaryCache=SKe(Le().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new oKe(this.gpgpu),this.numMBBeforeWarning=NKe(),this.texData=new iP(this,Kc())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,n,r,s,i,o){const a=this.makeTensorInfo(n,r),l=this.texData.get(a.dataId);l.isPacked=!1,l.texture={texture:e,texShape:[s,i]},l.texShape=[s,i];const c=TS(n),u=new Mz(c,!1,o),A=this.runWebGLProgram(u,[a],r,[[s,i]]);return A.shape=n,l.texture=null,this.disposeIntermediateTensorInfo(a),A.dataId}write(e,n,r){if((Le().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Le().getBool("DEBUG"))&&this.checkNumericalProblems(e),r==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const s={id:this.nextDataId()};return this.texData.set(s,{shape:n,dtype:r,values:e,usage:hl.UPLOAD,refCount:1}),s}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const n=this.texData.get(e);n.refCount++}decRef(e){if(this.texData.has(e)){const n=this.texData.get(e);n.refCount--}}move(e,n,r,s,i){if(Le().getBool("DEBUG")&&this.checkNumericalProblems(n),s==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:r,dtype:s,values:n,usage:hl.UPLOAD,refCount:i})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const n=this.texData.get(e),{values:r,dtype:s,complexTensorInfos:i,slice:o,shape:a,isPacked:l}=n;if(o!=null){let d;l?d=new $h(a,gh):d=new rA(a,gh);const h=this.runWebGLProgram(d,[{dataId:e,shape:a,dtype:s}],s),p=this.readSync(h.dataId);return this.disposeIntermediateTensorInfo(h),p}if(r!=null)return this.convertAndCacheOnCPU(e);if(s==="string")return r;const c=this.activeTimers!=null;let u;c&&(u=Co());let A;if(s==="complex64"){const d=this.readSync(i.real.dataId),h=this.readSync(i.imag.dataId);A=Cd(d,h)}else A=this.getValuesFromTexture(e);return c&&(this.downloadWaitMs+=Co()-u),this.convertAndCacheOnCPU(e,A)}async read(e){if(this.pendingRead.has(e)){const p=this.pendingRead.get(e);return new Promise(m=>p.push(m))}const n=this.texData.get(e),{values:r,shape:s,slice:i,dtype:o,complexTensorInfos:a,isPacked:l}=n;if(i!=null){let p;l?p=new $h(s,gh):p=new rA(s,gh);const m=this.runWebGLProgram(p,[{dataId:e,shape:s,dtype:o}],o),y=this.read(m.dataId);return this.disposeIntermediateTensorInfo(m),y}if(r!=null)return this.convertAndCacheOnCPU(e);if(Le().getBool("DEBUG")&&!Le().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&Le().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let c=null,u;if(o!=="complex64"&&Le().get("WEBGL_BUFFER_SUPPORTED")){u=this.decode(e);const p=this.texData.get(u.dataId);c=this.gpgpu.createBufferFromTexture(p.texture.texture,...IS(s))}this.pendingRead.set(e,[]),o!=="complex64"&&await this.gpgpu.createAndWaitForFence();let A;if(o==="complex64"){const p=await Promise.all([this.read(a.real.dataId),this.read(a.imag.dataId)]),m=p[0],y=p[1];A=Cd(m,y)}else if(c==null)A=this.getValuesFromTexture(e);else{const p=$e(s);A=this.gpgpu.downloadFloat32MatrixFromBuffer(c,p)}if(u!=null&&this.disposeIntermediateTensorInfo(u),c!=null){const p=this.gpgpu.gl;vt(p,()=>p.deleteBuffer(c))}const d=this.convertAndCacheOnCPU(e,A),h=this.pendingRead.get(e);return this.pendingRead.delete(e),h.forEach(p=>p(d)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&Kc().removeDataId(e,this),this.pendingDeletes--),d}readToGPU(e,n={}){const r=this.texData.get(e),{values:s,shape:i,slice:o,dtype:a,isPacked:l,texture:c}=r;if(a==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(o!=null){let h;l?h=new $h(i,gh):h=new rA(i,gh);const p=this.runWebGLProgram(h,[{dataId:e,shape:i,dtype:a}],a),m=this.readToGPU(p,n);return this.disposeIntermediateTensorInfo(p),m}if(c==null)throw s!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,n.customTexShape),A=Kc().makeTensorFromTensorInfo(u),d=this.texData.get(u.dataId);return Object.assign({tensorRef:A},d.texture)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(s=>vd(s));return wn(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return wn(e.shape,e.dtype,n)}checkNumericalProblems(e){if(e!=null)for(let n=0;n<e.length;n++){const r=e[n];if(!k7e(r))throw Le().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${r} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${r} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:n,dtype:r,isPacked:s}=this.texData.get(e),i=$e(n);if(Le().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const d=this.decode(e),h=this.texData.get(d.dataId),p=this.gpgpu.downloadMatrixFromPackedTexture(h.texture.texture,...IS(n)).subarray(0,i);return this.disposeIntermediateTensorInfo(d),p}const o=Le().getBool("WEBGL_PACK")&&s===!0,a=o?TS(n):n,l=o?new WWe(a):new VWe(a),c=this.runWebGLProgram(l,[{shape:a,dtype:r,dataId:e}],"float32"),u=this.texData.get(c.dataId),A=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,i);return this.disposeIntermediateTensorInfo(c),A}timerAvailable(){return Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const n=this.activeTimers,r=[];let s=!1;this.programTimersStack==null?(this.programTimersStack=r,s=!0):this.activeTimers.push(r),this.activeTimers=r,e();const i=vA(this.activeTimers.map(l=>l.query)).filter(l=>l!=null),o=vA(this.activeTimers.map(l=>l.name)).filter(l=>l!=null);this.activeTimers=n,s&&(this.programTimersStack=null);const a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const l=await Promise.all(i);a.kernelMs=_J(l),a.getExtraProfileInfo=()=>l.map((c,u)=>({name:o[u],ms:c})).map(c=>`${c.name}: ${c.ms}`).join(", ")}else a.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,a})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Co(),endMs:null}}endTimer(e){return Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=Co(),e)}async getQueryTime(e){if(Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const n=e;return n.endMs-n.startMs}disposeData(e,n=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(n?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!n&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:r}=this.texData.get(e);return r!=null&&(this.disposeData(r.real.dataId,n),this.disposeData(r.imag.dataId,n)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:n,dtype:r,texShape:s,usage:i,isPacked:o,slice:a}=this.texData.get(e),l=a&&a.origDataId||e,c=this.dataRefCount.get(l);c>1?this.dataRefCount.set(l,c-1):(this.dataRefCount.delete(l),n!=null&&(this.numBytesInGPU-=this.computeBytes(s,r),this.textureManager.releaseTexture(n,s,i,o)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,n=BKe){return Le().getBool("WEBGL_CPU_FORWARD")&&e.every(r=>this.texData.get(r.dataId).texture==null&&$e(r.shape)<n)}getGPGPUContext(){return this.gpgpu}where(e){al("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=e.dataSync();return xKe(e.shape,n)}packedUnaryOp(e,n,r){const s=new $h(e.shape,n),i=this.compileAndRun(s,[e],r);return Kc().makeTensorFromTensorInfo(i)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const s=Zie(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,s)}if(Le().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,zz,e.dtype);const n=new rA(e.shape,zz),r=this.compileAndRun(n,[e]);return Kc().makeTensorFromTensorInfo(r)}makeTensorInfo(e,n,r){let s;if(n==="string"&&r!=null&&r.length>0&&nA(r[0])){const i=r.map(o=>dA(o));s=this.write(i,e,n)}else s=this.write(r,e,n);return this.texData.get(s).usage=null,{dataId:s,shape:e,dtype:n}}makeOutput(e,n,r){return Kc().makeTensorFromTensorInfo(this.makeTensorInfo(e,n,r),this)}unpackTensor(e){const n=new vKe(e.shape);return this.runWebGLProgram(n,[e],e.dtype)}packTensor(e){const n=new sKe(e.shape);return this.runWebGLProgram(n,[e],e.dtype,null,!0)}packedReshape(e,n){const r=[fy(e.shape),...py(e.shape)],s={dtype:e.dtype,shape:r,dataId:e.dataId},i=[fy(n),...py(n)],o=new toe(i,r),a=!0,l=[r],c=this.runWebGLProgram(o,[s],e.dtype,l,a);return{dataId:c.dataId,shape:n,dtype:c.dtype}}decode(e,n){const r=this.texData.get(e),{isPacked:s,shape:i,dtype:o}=r;if(n!=null){const d=$e(i),h=n[0]*n[1]*4;ee(d<=h,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const a=TS(i);let l;s?l=new zWe(a):l=new HWe(a);const c=!0,u=[n??IS(a)],A=this.runWebGLProgram(l,[{shape:a,dtype:o,dataId:e}],o,u,c,n);return{dtype:o,shape:i,dataId:A.dataId}}runWebGLProgram(e,n,r,s,i=!1,o){const a=this.makeTensorInfo(e.outputShape,r),l=this.texData.get(a.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===Ix.DENSE){const g=o??IS(e.outputShape);l.texShape=g.map(v=>v*2)}if(e.outTexUsage!=null&&(l.usage=e.outTexUsage),$e(a.shape)===0)return l.values=vi(a.dtype,0),a;const c=[],u=n.map(g=>{if(g.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let v=this.texData.get(g.dataId);if(v.texture==null){if(!e.packedInputs&&$e(g.shape)<=Le().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:g.shape,texData:null,isUniform:!0,uniformValues:v.values};e.packedInputs&&(v.isPacked=!0,v.shape=g.shape)}if(this.uploadToGPU(g.dataId),!!v.isPacked!=!!e.packedInputs)g=v.isPacked?this.unpackTensor(g):this.packTensor(g),c.push(g),v=this.texData.get(g.dataId);else if(v.isPacked&&!eN(v.shape,g.shape)){const b=g,C=g.shape;g.shape=v.shape,g=this.packedReshape(g,C),c.push(g),v=this.texData.get(g.dataId),b.shape=C}return{shape:g.shape,texData:v,isUniform:!1}});this.uploadToGPU(a.dataId);const A={shape:a.shape,texData:l,isUniform:!1},d=jWe(e,u,A),h=this.getAndSaveBinary(d,()=>MWe(this.gpgpu,e,u,A)),p=this.activeTimers!=null;let m;p&&(m=this.startTimer()),Le().get("ENGINE_COMPILE_ONLY")||QWe(this.gpgpu,h,u,A,s),c.forEach(g=>this.disposeIntermediateTensorInfo(g)),p&&(m=this.endTimer(m),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(m)}));const y=Le().getNumber("WEBGL_FLUSH_THRESHOLD");if(y>0){const g=Co();g-this.lastGlFlushTime>y&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=g)}if(!Le().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&i===!1){const g=this.unpackTensor(a);return this.disposeIntermediateTensorInfo(a),g}return a}compileAndRun(e,n,r,s,i=!1){return r=r||n[0].dtype,this.runWebGLProgram(e,n,r,s,i)}getAndSaveBinary(e,n){return e in this.binaryCache||(this.binaryCache[e]=n()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(Le().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Te(()=>{if(!Le().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=Le().getBool("DEBUG");Le().set("DEBUG",!1);const n=this.abs(Xt(1e-8)).dataSync()[0];if(Le().set("DEBUG",e),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?bKe:CKe}uploadToGPU(e){const n=this.texData.get(e),{shape:r,dtype:s,values:i,texture:o,usage:a,isPacked:l}=n;if(o!=null)return;const c=this.activeTimers!=null;let u;c&&(u=Co());let A=n.texShape;if(A==null&&(A=K7e(r,l),n.texShape=A),i!=null){const d=TS(r);let h,p=A[1],m=A[0];const y=i instanceof Uint8Array||i instanceof Uint8ClampedArray;(l||!y)&&([p,m]=P1(A[0],A[1])),l?h=new KWe(d,y):h=new Mz(d,y);const g=y?[m,p]:A,v=this.makeTensorInfo(g,s),b=this.texData.get(v.dataId);y?b.usage=hl.PIXELS:b.usage=hl.UPLOAD,b.texShape=g,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(v.dataId),p,m,i);const C=[[m,p]],I=this.runWebGLProgram(h,[v],s,C,!0),T=this.texData.get(I.dataId);n.texShape=T.texShape,n.isPacked=T.isPacked,n.usage=T.usage,Le().get("ENGINE_COMPILE_ONLY")?this.disposeData(I.dataId):(n.texture=T.texture,n.values=null,this.texData.delete(I.dataId)),this.disposeIntermediateTensorInfo(v),c&&(this.uploadWaitMs+=Co()-u)}else{const d=this.acquireTexture(A,a,s,l);n.texture=d}}convertAndCacheOnCPU(e,n){const r=this.texData.get(e),{dtype:s}=r;return n!=null&&(r.values=IKe(n,s)),r.values}acquireTexture(e,n,r,s){if(this.numBytesInGPU+=this.computeBytes(e,r),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${i} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,n,s)}computeBytes(e,n){return e[0]*e[1]*dx(n)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(n));return Promise.all(e)}else{for(const[,n]of Object.entries(this.binaryCache)){const r=new Promise(s=>{try{this.checkCompletion_(n),s(!0)}catch(i){throw i}});e.push(r)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await KO(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(Mie(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:n,customUniformLocations:r,infLoc:s,nanLoc:i,outShapeLocation:o,outShapeStridesLocation:a,outTexShapeLocation:l}=Vie(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=n,e.customUniformLocations=r,e.infLoc=s,e.nanLoc=i,e.outShapeLocation=o,e.outShapeStridesLocation=a,e.outTexShapeLocation=l}}createTensorFromGPUData(e,n,r){e.channels=e.channels||"RGBA";const{texture:s,height:i,width:o,channels:a}=e,l=Kc().backend;if(!l.gpgpu.gl.isTexture(s))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const c=l.writeTexture(s,n,r,i,o,a);return Kc().makeTensorFromDataId(c,n,r,l)}}yk.nextDataId=0;function IKe(t,e){if(e==="float32"||e==="complex64")return t;if(e==="int32"||e==="bool"){const n=e==="int32"?new Int32Array(t.length):new Uint8Array(t.length);for(let r=0;r<n.length;++r)n[r]=Math.round(t[r]);return n}else throw new Error(`Unknown dtype ${e}`)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */mP()&&yP("webgl",()=>new yk,2);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J$=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class Fm{constructor(e,n,r){this.variableNames=["A","B"],this.outputShape=hn(n,r),this.enableShapeUniforms=ro(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tg=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class Q1{constructor(e,n,r,s=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=hn(n,r);const i=this.outputShape.length;this.enableShapeUniforms=ro(i);let o="";if(s)if(i===0||$e(this.outputShape)===1)o=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(o=`
          ${Sr(i)} coords = getOutputCoords();
        `,i===1)this.enableShapeUniforms?o+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:o+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const l=Io("coords",i);this.enableShapeUniforms?o+=`
            bool nextRowOutOfBounds =
              (${l[i-2]} + 1) >= outShape[${i} - 2];
            bool nextColOutOfBounds =
              (${l[i-1]} + 1) >= outShape[${i} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:o+=`
            bool nextRowOutOfBounds =
              (${l[i-2]} + 1) >= ${this.outputShape[i-2]};
            bool nextColOutOfBounds =
              (${l[i-1]} + 1) >= ${this.outputShape[i-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${o}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $a(t){const{inputs:e,backend:n}=t,{x:r}=e;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const EKe={kernelName:Jy,backendName:"webgl",kernelFunc:$a};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jf(t){const{inputs:e,backend:n}=t,{real:r,imag:s}=e,i=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(i.dataId),a=$a({inputs:{x:r},backend:n}),l=$a({inputs:{x:s},backend:n});return o.complexTensorInfos={real:a,imag:l},i}const kKe={kernelName:mI,backendName:"webgl",kernelFunc:jf};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const noe="return (a < 0.) ? b * a : a;",roe=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function TKe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{alpha:i}=r,o=n.makeTensorInfo([],"float32",Nd(i,"float32")),a=Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Q1(roe,s.shape,o.shape):new Fm(noe,s.shape,o.shape),l=n.runWebGLProgram(a,[s,o],"float32");return n.disposeIntermediateTensorInfo(o),l}const FKe={kernelName:Ib,backendName:"webgl",kernelFunc:TKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const soe="return (a < 0.) ? b * a : a;",ioe=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function LKe(t){const{inputs:e,backend:n}=t,{x:r,alpha:s}=e,i=Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Q1(ioe,r.shape,s.shape):new Fm(soe,r.shape,s.shape);return n.runWebGLProgram(i,[r,s],"float32")}const DKe={kernelName:Gb,backendName:"webgl",kernelFunc:LKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j1="if (isnan(x)) return x;";function Kn({opSnippet:t,packedOpSnippet:e,cpuKernelImpl:n,dtype:r}){return({inputs:s,backend:i})=>{const{x:o}=s,a=i,l=r||o.dtype;if(a.shouldExecuteOnCPU([o])&&n!=null){const A=a.texData.get(o.dataId),d=n(A.values,l);return a.makeTensorInfo(o.shape,l,d)}const c=Le().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let u;return c?u=new $h(o.shape,e):u=new rA(o.shape,t),a.runWebGLProgram(u,[o],l)}}function $i({opSnippet:t,packedOpSnippet:e,checkOutOfBounds:n=!1,supportsComplex:r=!1,cpuKernelImpl:s,dtype:i}){return({inputs:o,backend:a})=>{const{a:l,b:c}=o,u=a;if(r&&l.dtype==="complex64"){const p=u.texData.get(l.dataId),m=u.texData.get(c.dataId),[y,g]=[[p.complexTensorInfos.real,m.complexTensorInfos.real],[p.complexTensorInfos.imag,m.complexTensorInfos.imag]].map(b=>{const[C,_]=b,I={dataId:C.dataId,dtype:C.dtype,shape:l.shape},T={dataId:_.dataId,dtype:_.dtype,shape:c.shape},F=new Fm(t,l.shape,c.shape);return u.runWebGLProgram(F,[I,T],ea(C.dtype,_.dtype))}),v=jf({inputs:{real:y,imag:g},backend:u});return u.disposeIntermediateTensorInfo(y),u.disposeIntermediateTensorInfo(g),v}const A=i||ea(l.dtype,c.dtype);if((l.dtype==="string"||c.dtype==="string"||u.shouldExecuteOnCPU([l,c]))&&s!=null){const p=u.texData.get(l.dataId).values,m=u.texData.get(c.dataId).values,y=l.dtype==="string"?Sd(p):p,g=l.dtype==="string"?Sd(m):m,[v,b]=s(l.shape,c.shape,y,g,A),C=u.makeTensorInfo(b,A),_=u.texData.get(C.dataId);return _.values=v,C}const d=Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let h;return d?h=new Q1(e,l.shape,c.shape,n):h=new Fm(t,l.shape,c.shape),u.runWebGLProgram(h,[l,c],A)}}function Ex(t,e=!1){if(t==="linear")return e?pKe:uKe;if(t==="relu")return e?gKe:dKe;if(t==="elu")return e?mKe:AKe;if(t==="relu6")return e?yKe:hKe;if(t==="prelu")return e?ioe:soe;if(t==="leakyrelu")return e?roe:noe;if(t==="sigmoid")return e?wKe:fKe;throw new Error(`Activation ${t} has not been implemented for the WebGL backend.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ooe{constructor(e,n,r,s=!1,i=!1,o=!1,a=null,l=!1,c=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=ro(this.outputShape.length);const u=s?e[1]:e[2],A=Math.ceil(u/2),d=s?"i * 2, rc.y":"rc.y, i * 2",h=i?"rc.z, i * 2":"i * 2, rc.z",p=s?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let y="",g="";a&&(l?y=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${a}
        }`:c?y=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${a}
        }`:y=`vec4 activation(vec4 x) {
          ${a}
        }`,g="result = activation(result);");const v=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");let b="rc.x",C="rc.x";e[0]<n[0]?b=`imod(rc.x, ${e[0]})`:n[0]<e[0]&&(C=`imod(rc.x, ${n[0]})`),this.userCode=`
      ${y}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${A}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        int batchA = ${b};
        int batchB = ${C};
        for (int i = 0; i < ${A}; i++) {
          vec4 a = getMatrixA(batchA, ${d});
          vec4 b = getMatrixB(batchB, ${h});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${p[0]} * ${m[0]});
          result += (${p[1]} * ${m[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${v}

        ${g}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vz={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class Wz{constructor(e,n,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=hn(n,r),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gz="return a * b;";function eU(t){const{inputs:e,backend:n}=t,{a:r,b:s}=e,i=ea(r.dtype,s.dtype);if(r.dtype==="complex64"){const a=n.texData.get(r.dataId),l=n.texData.get(s.dataId),c=new Wz(Vz.REAL,r.shape,s.shape),u=new Wz(Vz.IMAG,r.shape,s.shape),A=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:r.shape},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:s.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:s.shape}],d=n.runWebGLProgram(c,A,"float32"),h=n.runWebGLProgram(u,A,"float32"),p=jf({inputs:{real:d,imag:h},backend:n});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),p}if(n.shouldExecuteOnCPU([r,s])){const a=n.texData.get(r.dataId),l=n.texData.get(s.dataId),[c,u]=LGe(r.shape,s.shape,a.values,l.values,i),A=n.makeTensorInfo(u,i),d=n.texData.get(A.dataId);return d.values=c,A}let o;return Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?o=new Q1(Gz,r.shape,s.shape):o=new Fm(Gz,r.shape,s.shape),n.runWebGLProgram(o,[r,s],i)}const RKe={kernelName:l1,backendName:"webgl",kernelFunc:eU};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PKe(t,e,n){const r=[fy(t.shape),...py(t.shape)],s={dtype:t.dtype,shape:r,dataId:t.dataId},i=[fy(e),...py(e)],o=new toe(i,r),a=!0,l=[r],c=n.runWebGLProgram(o,[s],t.dtype,l,a);return{dataId:c.dataId,shape:e,dtype:c.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ft(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{shape:i}=r,o=n,a=$e(s.shape),l=aP(i,a),c=$e(l);ee(a===c,()=>`The new shape (${l}) has ${c} elements and the old shape (${s.shape}) has ${a} elements. The new shape and old shape must have the same number of elements.`);const u=o.texData.get(s.dataId);return u.isPacked&&!eN(s.shape,l)&&!(u.texture!==null&&eN(u.shape,l))?PKe(s,l,o):(o.incRef(s.dataId),{dataId:s.dataId,shape:l,dtype:s.dtype})}const OKe={kernelName:qb,backendName:"webgl",kernelFunc:ft};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Kz{constructor(e,n){this.variableNames=["x"];const{windowSize:r,batchSize:s,inSize:i,outSize:o}=e;this.outputShape=[s,o];const a=Math.floor(r/4)*4,l=r%4;let c="sumValue += dot(values, ones);";if(n!=null){const A=1/n;c=`sumValue += dot(values * ${ym(A)?A.toPrecision(2):A}, ones);`}let u="";i%r>0&&(u=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${u}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        float sumValue = 0.0;

        for (int i = 0; i < ${a}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${c}
        }

        int inIdx = inOffset + ${a};
        if (${l===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${c}
        } else if (${l===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${c}
        } else if (${l===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${c}
        }
        setOutput(sumValue);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $Ke{constructor(e,n){this.variableNames=["x"];const{windowSize:r,batchSize:s,inSize:i,outSize:o}=e;this.outputShape=[s,o];let a="0.0",l="";n==="prod"?a="1.0":n==="min"?(a="1.0 / 1e-20",l="min"):n==="max"&&(a="-1.0 / 1e-20",l="max");let c=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="sum"?c="sumValue":n==="prod"?c="prodValue":n==="all"?c="allValue":n==="any"&&(c="anyValue");const u=Math.floor(r/4)*4,A=r%4;let d=`
      if (${n==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${n==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${l}(values, minMaxValue);
        if (${n==="min"} || ${n==="max"}) {
          minMaxValue = ${l}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,h="vec4";n==="all"?(a="1.0",d=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,h="bvec4"):n==="any"&&(a="0.0",d=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,h="bvec4");let p="";i%r>0&&(p=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${a};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${p}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        vec4 minMaxValue = vec4(${a});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${u}; i += 4) {
          int inIdx = inOffset + i;
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${d}
        }

        int inIdx = inOffset + ${u};
        if (${A===1}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${d}
        } else if (${A===2}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${d}
        } else if (${A===3}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${d}
        }
        setOutput(${c});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UKe(t){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const n=e.length?e[e.length-1].outSize:t[1],r=nk(n);e.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return e}function ng(t,e,n,r){const s=UKe(t.shape);let i=t;for(let o=0;o<s.length;o++){const{inSize:a,windowSize:l,outSize:c}=s[o];let u,A;n==="mean"?u=o===0?new Kz({windowSize:l,inSize:a,batchSize:t.shape[0],outSize:c},a):new Kz({windowSize:l,inSize:a,batchSize:t.shape[0],outSize:c}):u=new $Ke({windowSize:l,inSize:a,batchSize:t.shape[0],outSize:c},n),A=i,i=r.runWebGLProgram(u,[i],e),A.dataId!==t.dataId&&r.disposeIntermediateTensorInfo(A)}return i}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class MKe{constructor(e,n){this.variableNames=["A"];const r=new Array(e.length);for(let o=0;o<r.length;o++)r[o]=e[n[o]];this.outputShape=r,this.rank=r.length;const s=Sr(this.rank),i=QKe(n);this.userCode=`
    void main() {
      ${s} resRC = getOutputCoords();
      setOutput(getA(${i}));
    }
    `}}function QKe(t){const e=t.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(e);for(let s=0;s<t.length;s++)r[t[s]]=n[s];return r.join()}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jKe{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const r=new Array(e.length);for(let u=0;u<r.length;u++)r[u]=e[n[u]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const s=Sr(this.rank),i=eoe("rc",this.rank),o=new Array(this.rank);for(let u=0;u<n.length;u++)o[n[u]]=i[u];const a=`vec2(${o.slice(-2).join()})`,l=`++${i[this.rank-1]} < ${r[this.rank-1]}`,c=`getChannel(getA(${o.join()}), ${a})`;this.userCode=`
    void main() {
      ${s} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${c};
      if(${l}) {
        result[1] = ${c};
      }
      --${i[this.rank-1]};
      if(++${i[this.rank-2]} < ${r[this.rank-2]}) {
        result[2] = ${c};
        if(${l}) {
          result[3] = ${c};
        }
      }
      setOutput(result);
    }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wk(t,e,n){const r=Le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new jKe(t.shape,e):new MKe(t.shape,e);return n.runWebGLProgram(r,[t],t.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HKe(t,e,n,r){const s=e,i=t.shape.length,o=En(s,t.shape);let a=o;const l=cs(a,i),c=l!=null;let u=t;c&&(u=wk(t,l,r),a=ks(a.length,i)),Pi("sum",a,i);const[A,d]=Ci(u.shape,a);let h=A;n&&(h=Es(A,o));const p=$e(d),y=$e(t.shape)/p,g=ft({inputs:{x:u},attrs:{shape:[y,p]},backend:r}),v=mE(t.dtype),b=ng(g,v,"sum",r),C=ft({inputs:{x:b},attrs:{shape:h},backend:r});return r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(b),c&&r.disposeIntermediateTensorInfo(u),C}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vk(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r;return HKe(s,i,o,n)}const zKe={kernelName:t2,backendName:"webgl",kernelFunc:vk};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ko(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{perm:i}=r,o=n,a=s.shape.length,l=new Array(a);for(let u=0;u<l.length;u++)l[u]=s.shape[i[u]];let c;if(o.shouldExecuteOnCPU([s])){const A=o.texData.get(s.dataId).values,d=Z$(A,s.shape,s.dtype,i,l);c=o.makeTensorInfo(l,s.dtype);const h=o.texData.get(c.dataId);h.values=d}else c=wk(s,i,o);return c}const VKe={kernelName:em,backendName:"webgl",kernelFunc:ko};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aoe=1e3;function tN({a:t,b:e,transposeA:n,transposeB:r,backend:s,bias:i=null,preluActivationWeights:o=null,leakyreluAlpha:a=0,activation:l=null}){const c=t.shape.length,u=e.shape.length,A=n?t.shape[c-2]:t.shape[c-1],d=r?e.shape[u-1]:e.shape[u-2],h=n?t.shape[c-1]:t.shape[c-2],p=r?e.shape[u-2]:e.shape[u-1],m=t.shape.slice(0,-2),y=e.shape.slice(0,-2),g=$e(m),v=$e(y),C=hn(t.shape.slice(0,-2),e.shape.slice(0,-2)).concat([h,p]);ee(A===d,()=>`Error in matMul: inner shapes (${A}) and (${d}) of Tensors with shapes ${t.shape} and ${e.shape} and transposeA=${n} and transposeB=${r} must match.`);const _=n?[g,A,h]:[g,h,A],I=r?[v,p,d]:[v,d,p],T=ft({inputs:{x:t},backend:s,attrs:{shape:_}}),F=ft({inputs:{x:e},backend:s,attrs:{shape:I}}),D=[T,F],j=Math.max(g,v),O=n?T.shape[1]:T.shape[2],U=i!=null,W=o!=null,$=l==="leakyrelu",J=l!=null?Ex(l,!0):null,Z=U||W||$||J!=null;let oe;if((h===1||p===1)&&O>aoe&&Z===!1){let Y=T,ce=F;n&&(Y=ko({inputs:{x:T},backend:s,attrs:{perm:[0,2,1]}}),D.push(Y)),r&&(ce=ko({inputs:{x:F},backend:s,attrs:{perm:[0,2,1]}}),D.push(ce));const he=p!==1,z=p===1;let G=Y;he&&(G=ft({inputs:{x:Y},backend:s,attrs:{shape:[j,O,1]}}),D.push(G));const X=p===1?2:1;let re=ce;z&&(re=ft({inputs:{x:ce},backend:s,attrs:{shape:[j,1,O]}}),D.push(re));const ue=eU({inputs:{a:G,b:re},backend:s});oe=vk({inputs:{x:ue},backend:s,attrs:{axis:X,keepDims:!0}}),D.push(ue)}else{const Y=ea(t.dtype,e.dtype),ce=new ooe(_,I,[j,h,p],n,r,U,J,W,$),he=[T,F];if(i!=null&&he.push(i),W&&he.push(o),$){const z=s.makeTensorInfo([],"float32",Nd(a,"float32"));he.push(z),D.push(z)}oe=s.runWebGLProgram(ce,he,Y)}const V=ft({inputs:{x:oe},backend:s,attrs:{shape:C}});D.push(oe);for(const Y of D)s.disposeIntermediateTensorInfo(Y);return V}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WKe(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i,bias:o,preluActivationWeights:a}=e,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:A}=r;return tN({a:s,b:i,transposeA:l,transposeB:c,backend:n,bias:o,preluActivationWeights:a,leakyreluAlpha:A,activation:u})}const GKe={kernelName:hx,backendName:"webgl",kernelFunc:WKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qz="return abs(x);";function KKe(t){const{inputs:e,backend:n}=t,{x:r}=e;if(n.shouldExecuteOnCPU([r])&&r.dtype!=="complex64"){const i=n.texData.get(r.dataId),o=Zie(i.values);return n.makeTensorInfo(r.shape,r.dtype,o)}let s;return Le().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new $h(r.shape,qz):s=new rA(r.shape,qz),n.runWebGLProgram(s,[r],r.dtype)}const qKe={kernelName:ob,backendName:"webgl",kernelFunc:KKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XKe=fc+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,YKe=Kn({opSnippet:XKe}),ZKe={kernelName:Ly,backendName:"webgl",kernelFunc:YKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JKe=fc+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,e9e=Kn({opSnippet:JKe}),t9e={kernelName:Dy,backendName:"webgl",kernelFunc:e9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xz="return a + b;",n9e=$i({opSnippet:Xz,packedOpSnippet:Xz,supportsComplex:!0,cpuKernelImpl:dGe}),r9e={kernelName:zm,backendName:"webgl",kernelFunc:n9e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class s9e{constructor(e,n){this.outputShape=[],this.outputShape=e,this.variableNames=n.map((i,o)=>`T${o}`);const r=[];this.variableNames.forEach(i=>{r.push(`float v${i} = get${i}AtOutCoords();`)});const s=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        float result = ${s};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class i9e{constructor(e,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map((i,o)=>`T${o}`);const r=[];this.variableNames.forEach(i=>{r.push(`vec4 v${i} = get${i}AtOutCoords();`)});const s=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        vec4 result = ${s};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yB(t){const{inputs:e,backend:n}=t,r=e;if(r.length===1)return $a({inputs:{x:r[0]},backend:n});if(r.length>Le().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const l=Math.floor(r.length/2),c=yB({inputs:r.slice(0,l),backend:n}),u=yB({inputs:r.slice(l),backend:n});return yB({inputs:[c,u],backend:n})}const s=r.map(l=>l.dtype).reduce((l,c)=>ea(l,c)),i=r.map(l=>l.shape),a=Le().getBool("WEBGL_PACK")?new i9e(r[0].shape,i):new s9e(r[0].shape,i);return n.runWebGLProgram(a,r,s)}const o9e={kernelName:ab,backendName:"webgl",kernelFunc:yB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a9e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r,a=s.shape.length,l=En(i,s.shape);let c=l;const u=cs(c,a);let A=s;u!=null&&(A=ko({inputs:{x:s},backend:n,attrs:{perm:u}}),c=ks(c.length,a)),Pi("all",c,a);const[d,h]=Ci(A.shape,c),p=$e(h),m=ft({inputs:{x:A},backend:n,attrs:{shape:[-1,p]}}),y=ng(m,m.dtype,"all",n);let g;if(o){const v=Es(d,l);g=ft({inputs:{x:y},backend:n,attrs:{shape:v}})}else g=ft({inputs:{x:y},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),u!=null&&n.disposeIntermediateTensorInfo(A),g}const l9e={kernelName:uI,backendName:"webgl",kernelFunc:a9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c9e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r,a=s.shape.length,l=En(i,s.shape);let c=l;const u=cs(c,a);let A=s;u!=null&&(A=ko({inputs:{x:s},backend:n,attrs:{perm:u}}),c=ks(c.length,a)),Pi("any",c,a);const[d,h]=Ci(A.shape,c),p=$e(h),m=ft({inputs:{x:A},backend:n,attrs:{shape:[-1,p]}}),y=ng(m,m.dtype,"any",n);let g;if(o){const v=Es(d,l);g=ft({inputs:{x:y},backend:n,attrs:{shape:v}})}else g=ft({inputs:{x:y},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),u!=null&&n.disposeIntermediateTensorInfo(A),g}const u9e={kernelName:AI,backendName:"webgl",kernelFunc:c9e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class A9e{constructor(e,n,r){this.variableNames=["A"];const{windowSize:s,batchSize:i,outSize:o}=e;r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];const a=n==="max"?">":"<",l=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${s};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${s}; i++) {
          int inIdx = ${l};
          float candidate = getA(batch, inIdx);
          if (candidate ${a} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class d9e{constructor(e,n,r,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,ee(e.length>2,()=>`Packed arg${r.charAt(0).toUpperCase()+r.slice(1)} supports only inputs with rank above 2.`);const i=e[e.length-1],o=Math.ceil(i/n);this.outputShape=e.slice(0,-1),o>1&&this.outputShape.push(o),s||this.variableNames.push("bestIndicesA");const a=this.outputShape,l=a.length,c=Sr(l),u=Io("coords",l);let A,d;if(o===1){d=l+1;const F=Sr(d);A=`
        ${F} sourceLocR = ${F}(${u.join()}, 0);
        ++${u[l-1]};
        ${F} sourceLocG = ${F}(${u.join()}, 0);
        ++${u[l-2]};
        ${F} sourceLocA = ${F}(${u.join()}, 0);
        --${u[l-1]};
        ${F} sourceLocB = ${F}(${u.join()}, 0);
        --${u[l-2]};`}else d=l,A=`
        ${c} sourceLocR = coords;
        ++${u[l-1]};
        ${c} sourceLocG = coords;
        ++${u[l-2]};
        ${c} sourceLocA = coords;
        --${u[l-1]};
        ${c} sourceLocB = coords;
        --${u[l-2]};`;const h=["x","y","z","w","u","v"].slice(0,d),p="."+h[d-1],m=h.map(F=>"int "+F),y=Io("sourceLocR",d-1).concat("inIdx.r"),g=Io("sourceLocG",d-1).concat("inIdx.g"),v=Io("sourceLocB",d-1).concat("inIdx.b"),b=Io("sourceLocA",d-1).concat("inIdx.a"),C=r==="max"?"greaterThan":"lessThan",_=s?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${y.join()}),
                             getBestIndicesAChannel(${g.join()}),
                             getBestIndicesAChannel(${v.join()}),
                             getBestIndicesAChannel(${b.join()})));`,I=`vec4(
            getAChannel(${y.join()}),
            hasNextCol ? getAChannel(${g.join()}) : 0.,
            hasNextRow ? getAChannel(${v.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${b.join()}) : 0.)`,T=s?"":`
      float getBestIndicesAChannel(${m.join()}) {
        return getChannel(getBestIndicesA(${h.join()}),
                                          vec2(${h.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${m.join()}) {
        return getChannel(getA(${h.join()}),
                               vec2(${h.slice(-2).join()}));
      }
      ${T}
      void main() {
        ${c} coords = getOutputCoords();
        bool hasNextCol = ${u[l-1]} < ${a[l-1]-1};
        bool hasNextRow = ${u[l-2]} < ${a[l-2]-1};
        ${A}
        ivec4 srcIdx = ivec4(sourceLocR${p}, sourceLocG${p},
          sourceLocB${p}, sourceLocA${p}) * ${n};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${I};

        for (int i = 0; i < ${n}; i++) {
          inIdx = srcIdx;
          ${_}
          vec4 candidate = ${I};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${C}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function loe(t,e,n,r=null){let s=e.shape[0],i=e.shape[1];r!=null&&(s=r.shape[0],i=r.shape[1]);const o=nk(i),a={windowSize:o,inSize:i,batchSize:s,outSize:Math.ceil(i/o)},l=new A9e(a,n,r==null),c=[e];r!=null&&c.push(r);const u=t.runWebGLProgram(l,c,"int32");if(u.shape[1]===1)return u;const A=loe(t,e,n,u);return t.disposeIntermediateTensorInfo(u),A}function coe(t,e,n,r=null){const s=r!=null?r.shape:e.shape,i=s[s.length-1],o=nk(i),a=new d9e(s,o,n,r==null),l=r==null?[e]:[e,r],c=t.runWebGLProgram(a,l,"int32");if(c.shape.length===e.shape.length){const u=coe(t,e,n,c);return t.disposeIntermediateTensorInfo(c),u}return c}function uoe(t,e,n,r){const s=[n];if(Pi("arg"+r.charAt(0).toUpperCase()+r.slice(1),s,e.shape.length),!Le().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){const i=[],o=t.texData.get(e.dataId),a=o!==null&&o.isPacked;let l=e;a&&(l=t.unpackTensor(e),i.push(l));const[c,u]=Ci(l.shape,s),A=$e(u),d=ft({inputs:{x:l},backend:t,attrs:{shape:[-1,A]}});i.push(d);const h=loe(t,d,r);i.push(h);const p=ft({inputs:{x:h},backend:t,attrs:{shape:c}});return i.forEach(m=>t.disposeIntermediateTensorInfo(m)),p}return coe(t,e,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h9e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;let o=En(i,s.shape);const a=cs(o,s.shape.length);let l=s;const c=[];a!=null&&(l=ko({inputs:{x:s},backend:n,attrs:{perm:a}}),c.push(l),o=ks(o.length,l.shape.length)),Pi("argMax",[o[0]],l.shape.length);const u=uoe(n,l,o[0],"max");return c.forEach(A=>n.disposeIntermediateTensorInfo(A)),u}const f9e={kernelName:lb,backendName:"webgl",kernelFunc:h9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p9e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;let o=En(i,s.shape);const a=cs(o,s.shape.length);let l=s;const c=[];a!=null&&(l=ko({inputs:{x:s},backend:n,attrs:{perm:a}}),c.push(l),o=ks(o.length,l.shape.length)),Pi("argMin",[o[0]],l.shape.length);const u=uoe(n,l,o[0],"min");return c.forEach(A=>n.disposeIntermediateTensorInfo(A)),u}const m9e={kernelName:cb,backendName:"webgl",kernelFunc:p9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g9e=fc+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,y9e=Kn({opSnippet:g9e}),w9e={kernelName:Ry,backendName:"webgl",kernelFunc:y9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v9e=fc+"return log(x + sqrt(x * x + 1.0));",x9e=Kn({opSnippet:v9e}),b9e={kernelName:Py,backendName:"webgl",kernelFunc:x9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C9e=fc+`
  return atan(x);
`,S9e=Kn({opSnippet:C9e}),B9e={kernelName:Oy,backendName:"webgl",kernelFunc:S9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _9e=J$+`
  return atan(a, b);
`,N9e=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+tg+`
  return result;
`,I9e=$i({opSnippet:_9e,packedOpSnippet:N9e}),E9e={kernelName:Uy,backendName:"webgl",kernelFunc:I9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k9e=fc+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,T9e=Kn({opSnippet:k9e}),F9e={kernelName:$y,backendName:"webgl",kernelFunc:T9e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kx{constructor(e,n,r,s=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,a=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,u=e.dilationWidth,A=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;const m=n==="avg",y=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let v="0.0";if(m||(v="-1.0 / 1e-20"),r){const F=">=";this.userCode=`
        const ivec2 strides = ivec2(${a}, ${l});
        const ivec2 pads = ivec2(${h}, ${p});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${A};
              wR += ${c}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${d};
                wC += ${u}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value ${F} currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${s?i?y:g:`wR * ${d} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const b="max";let C=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(C="avgValue / max(count, 1.0)");const _=Math.floor(o/4)*4,I=o%4,T=`
      if (${m}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${b}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${a}, ${l});
      const ivec2 pads = ivec2(${h}, ${p});
      const float initializationValue = ${v};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${v});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${A};
            wR += ${c}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${_}; wC += 4) {
            int xC = xCCorner + wC * ${u};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              getValue(batch, xR, xC + 2 * ${u}, d),
              getValue(batch, xR, xC + 3 * ${u}, d)
            );

            ${T}
          }

          int xC = xCCorner + ${_};
          if (${I===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${T}
          } else if (${I===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              initializationValue,
              initializationValue
            );

            ${T}
          } else if (${I===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              getValue(batch, xR, xC + 2 * ${u}, d),
              initializationValue
            );

            ${T}
          }
        }
        setOutput(${C});
      }
    `}}class tU{constructor(e,n,r,s=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,a=e.strideDepth,l=e.strideHeight,c=e.strideWidth,u=e.dilationDepth,A=e.dilationHeight,d=e.dilationWidth,h=e.effectiveFilterDepth,p=e.effectiveFilterHeight,m=e.effectiveFilterWidth,y=e.padInfo.front,g=e.padInfo.top,v=e.padInfo.left;this.outputShape=e.outShape;const b=n==="avg";let C="0.0";if(b||(C="-1.0 / 1e-20"),r){const j=">=";this.userCode=`
        const ivec3 strides =
            ivec3(${a}, ${l}, ${c});
        const ivec3 pads = ivec3(${y}, ${g}, ${v});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${h};
              wD += ${u}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${p};
                wR += ${A}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${m};
                  wC += ${d}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value ${j} currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${s?i?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${p} * ${m} +
                      wR * ${m} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const _="max";let I=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(I="avgValue / max(count, 1.0)");const T=Math.floor(o/4)*4,F=o%4,D=`
      if (${b}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${_}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${a}, ${l}, ${c});
      const ivec3 pads = ivec3(${y}, ${g}, ${v});
      const float initializationValue = ${C};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${C});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${h};
            wD += ${u}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${p};
            wR += ${A}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${T}; wC += 4) {
              int xC = xCCorner + wC * ${d};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                getValue(batch, xD, xR, xC + 2 * ${d}, ch),
                getValue(batch, xD, xR, xC + 3 * ${d}, ch)
              );

              ${D}
            }

            int xC = xCCorner + ${T};
            if (${F===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${D}
            } else if (${F===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                initializationValue,
                initializationValue
              );

              ${D}
            } else if (${F===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                getValue(batch, xD, xR, xC + 2 * ${d}, ch),
                initializationValue
              );

              ${D}
            }
          }
        }
        setOutput(${I});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L9e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;j2(s,"avgPool");const{filterSize:i,strides:o,pad:a,dimRoundingMode:l}=r,c=1;ee(Ri(o,c),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${c}'`);const u=dc(s.shape,i,o,c,a,l);if(u.filterWidth===1&&u.filterHeight===1&&Pn(u.inShape,u.outShape))return $a({inputs:{x:s},backend:n});const A=new kx(u,"avg",!1);return n.runWebGLProgram(A,[s],"float32")}const D9e={kernelName:ub,backendName:"webgl",kernelFunc:L9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R9e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:o,pad:a,dimRoundingMode:l,dataFormat:c}=r,u=[1,1,1],A=Id(s.shape,i,o,u,a,l,c),d=new tU(A,"avg",!1);return n.runWebGLProgram(d,[s],"float32")}const P9e={kernelName:Ab,backendName:"webgl",kernelFunc:R9e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class O9e{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,s=e.strideHeight,i=e.strideWidth,o=e.dilationHeight,a=e.dilationWidth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=l-1-e.padInfo.top,A=c-1-e.padInfo.left,d=1/(n*r);this.userCode=`
      const ivec2 pads = ivec2(${u}, ${A});
      const float avgMultiplier = float(${d});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${l};
            wR += ${o}) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${c};
            wC+= ${a}) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class $9e{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterDepth,r=e.filterHeight,s=e.filterWidth,i=e.strideDepth,o=e.strideHeight,a=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,u=e.dilationWidth,A=e.effectiveFilterDepth,d=e.effectiveFilterHeight,h=e.effectiveFilterWidth,p=A-1-e.padInfo.front,m=d-1-e.padInfo.top,y=h-1-e.padInfo.left,g=1/(n*r*s);this.userCode=`
      const ivec3 pads = ivec3(${p}, ${m}, ${y});
      const float avgMultiplier = float(${g});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${A};
            wD += ${l}) {
          float dyD = float(dyDCorner + wD) / ${i}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${d};
              wR += ${c}) {
            float dyR = float(dyRCorner + wR) / ${o}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${h};
                wC += ${u}) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U9e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,o=i,{filterSize:a,strides:l,pad:c,dimRoundingMode:u}=r,A=[1,1,1],d=Id(o.shape,a,l,A,c,u),h=new $9e(d);return n.runWebGLProgram(h,[s],o.dtype)}const M9e={kernelName:hI,backendName:"webgl",kernelFunc:U9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q9e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,o=i;j2([s,i],"avgPoolGrad");const{filterSize:a,strides:l,pad:c}=r,u=dc(o.shape,a,l,1,c),A=new O9e(u);return n.runWebGLProgram(A,[s],o.dtype)}const j9e={kernelName:dI,backendName:"webgl",kernelFunc:Q9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H9e(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i}=e,{transposeA:o,transposeB:a}=r;return tN({a:s,b:i,transposeA:o,transposeB:a,backend:n})}const z9e={kernelName:db,backendName:"webgl",kernelFunc:H9e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class V9e{constructor(e,n,r,s,i,o){this.outputShape=[],this.variableNames=["x","mean","variance"],hn(e,n),hn(e,r);let a="0.0";s!=null&&(hn(e,s),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let l="1.0";i!=null&&(hn(e,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${a};
        float scale = ${l};
        float inv = scale * inversesqrt(variance + float(${o}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class W9e{constructor(e,n,r,s,i,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],hn(e,n),hn(e,r);let a="vec4(0.0)";s!=null&&(hn(e,s),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let l="vec4(1.0)";i!=null&&(hn(e,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${a};
        vec4 scale = ${l};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${o}));

        setOutput((x - mean) * inv + offset);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G9e=({inputs:t,backend:e,attrs:n})=>{const{x:r,mean:s,variance:i,offset:o,scale:a}=t;ee(s.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),ee(o==null||s.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),ee(a==null||s.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=n;l==null&&(l=.001);const c=[r,s,i];let u=null;o!=null&&(u=o.shape,c.push(o));let A=null;a!=null&&(A=a.shape,c.push(a));const d=Le().getBool("WEBGL_PACK_NORMALIZATION")?new W9e(r.shape,s.shape,i.shape,u,A,l):new V9e(r.shape,s.shape,i.shape,u,A,l);return e.runWebGLProgram(d,c,c[0].dtype)},K9e={kernelName:Bb,backendName:"webgl",kernelFunc:G9e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class q9e{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const n=Sr(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const r=X9e(this.rank);let s;const i=e.map((o,a)=>`sourceLoc.${EL[a]} = start[${a}] + coords.${EL[a]};`);s=`
        ${n} sourceLoc;
        ${n} coords = getOutputCoords();
        ${i.join(`
`)}
      `,this.userCode=`
      void main() {
        ${s}
        setOutput(getSource(${r}));
      }
    `}}const EL=["x","y","z","w","u","v"];function X9e(t){if(t===1)return"sourceLoc";if(t<=6)return EL.slice(0,t).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Y9e{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=Sr(this.rank),r=Io("coords",this.rank),s=Io("sourceLoc",this.rank),i=this.rank===1?"sourceLoc":`vec2(${s.slice(-2).join()})`,o=`getChannel(getSource(${s.join()}), ${i})`,a=`
      result.x = ${o};
      if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
        ++${s[this.rank-1]};
        result.y = ${o};
        --${s[this.rank-1]};
      }
    `,l=this.rank===1?"":`
      --${r[this.rank-1]};
      if (++${r[this.rank-2]} < ${e[this.rank-2]}) {
        ++${s[this.rank-2]};
        result.z = ${o};
        if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
          ++${s[this.rank-1]};
          result.w = ${o};
        }
      }
    `,c=this.rank<=4?`sourceLoc = coords +
            ${n}(${e.map((u,A)=>`start[${A}]`).join()});`:e.map((u,A)=>`${s[A]} = ${r[A]} + start[${A}];`).join(`
`);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        ${n} sourceLoc;
        ${c}
        vec4 result = vec4(0.);
        ${a}
        ${l}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z9e(t,e,n,r){const s=r.texData.get(t.dataId),i=r.makeTensorInfo(n,t.dtype),o=r.texData.get(i.dataId);Object.assign(o,s),o.refCount=1,o.shape=n,o.dtype=t.dtype;let a=WO(e,Gt(t.shape));s.slice&&(a+=s.slice.flatOffset),o.slice={flatOffset:a,origDataId:s.slice&&s.slice.origDataId||t.dataId};const l=r.dataRefCount.get(o.slice.origDataId)||1;return r.dataRefCount.set(o.slice.origDataId,l+1),i}function H1(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,size:o}=r,[a,l]=tk(s,i,o);if(HO(s,a,l),$e(l)===0)return n.makeTensorInfo(l,s.dtype,[]);if(n.shouldExecuteOnCPU([s])||s.dtype==="string"){const A=n.texData.get(s.dataId),d=zGe(A.values,a,l,s.shape,s.dtype);return n.makeTensorInfo(l,s.dtype,d)}const{isPacked:c}=n.texData.get(s.dataId),u=VO(s.shape,a,l);if(c||!u){const A=Le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Y9e(l):new q9e(l),d=[a];return n.runWebGLProgram(A,[s],s.dtype,d)}return n.uploadToGPU(s.dataId),Z9e(s,a,l,n)}const J9e={kernelName:e2,backendName:"webgl",kernelFunc:H1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eqe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,crops:o}=r;ee(s.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const a=i.reduce((v,b)=>v*b),l=E2(s.shape,i,a),c=k2(l.length,i.length),u=T2(s.shape,i,a),A=ZO(o,i.length),d=JO(u,o,i.length),h=[],p=ft({inputs:{x:s},backend:n,attrs:{shape:l}}),m=ko({inputs:{x:p},backend:n,attrs:{perm:c}}),y=ft({inputs:{x:m},backend:n,attrs:{shape:u}}),g=H1({inputs:{x:y},backend:n,attrs:{begin:A,size:d}});return h.push(p),h.push(m),h.push(y),h.forEach(v=>n.disposeIntermediateTensorInfo(v)),g},tqe={kernelName:hb,backendName:"webgl",kernelFunc:eqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nqe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:o}=r,a=n.readSync(s.dataId),l=n.readSync(i.dataId),c=Yie(a,l,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,c)}const rqe={kernelName:fI,backendName:"webgl",kernelFunc:nqe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sqe=`
  int r = int(a.r) & int(b.r);
  int g = int(a.g) & int(b.g);
  int rb = int(a.b) & int(b.b);
  int ra = int(a.a) & int(b.a);
  return vec4(r, g, rb, ra);
`,iqe=`
  return float(int(a.r) & int(b.r));
`;function oqe(t){const{inputs:e,backend:n}=t,{a:r,b:s}=e,i=Le().getBool("WEBGL_PACK_BINARY_OPERATIONS"),o=Le().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([r,s])||o===1){const l=n.texData.get(r.dataId).values,c=n.texData.get(s.dataId).values,[u,A]=fGe(r.shape,s.shape,l,c,r.dtype),d=n.makeTensorInfo(A,r.dtype),h=n.texData.get(d.dataId);return h.values=u,d}let a;return i?a=new Q1(sqe,r.shape,s.shape,!1):a=new Fm(iqe,r.shape,s.shape),n.runWebGLProgram(a,[r,s],r.dtype)}const aqe={kernelName:fb,backendName:"webgl",kernelFunc:oqe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lqe(t){const{inputs:e,backend:n}=t,{s0:r,s1:s}=e,i=n.readSync(r.dataId),o=n.readSync(s.dataId),a=hn(Array.from(i),Array.from(o));return n.makeTensorInfo([a.length],"int32",Int32Array.from(a))}const cqe={kernelName:pI,backendName:"webgl",kernelFunc:lqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uqe="return float(a != b);",Aoe=$i({opSnippet:uqe,cpuKernelImpl:RGe,dtype:"bool"}),Aqe={kernelName:jb,backendName:"webgl",kernelFunc:Aoe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z2(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.texData.get(r.dataId);return $a({inputs:{x:s.complexTensorInfos.real},backend:n})}const dqe={kernelName:qI,backendName:"webgl",kernelFunc:z2};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hqe="return float(int(x));";function fqe(t,e){const n=new rA(t.shape,hqe),r=e.runWebGLProgram(n,[t],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kL(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dtype:i}=r;if(i==="complex64"){if(s.dtype==="complex64")return $a({inputs:{x:s},backend:n});const o=Vs(s.shape),a=kL({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),l=jf({inputs:{real:a,imag:o},backend:n});return o.dispose(),n.disposeIntermediateTensorInfo(a),l}if(s.dtype==="complex64"){const o=z2({inputs:{input:s},backend:n}),a=kL({inputs:{x:o},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(o),a}if(!lP(s.dtype,i)){const o=$a({inputs:{x:s},backend:n});return{dataId:o.dataId,shape:o.shape,dtype:i}}if(n.shouldExecuteOnCPU([s])){const o=n.texData.get(s.dataId).values,[a,l,c]=pGe(o,s.shape,s.dtype,i);return n.makeTensorInfo(a,l,c)}if(i==="int32")return fqe(s,n);if(i==="bool"){const o=n.makeTensorInfo([],"bool",vi("bool",1)),l=Aoe({inputs:{a:s,b:o},backend:n});return n.disposeIntermediateTensorInfo(o),l}throw new Error(`Error in Cast: failed to cast ${s.dtype} to ${i}`)}const pqe={kernelName:My,backendName:"webgl",kernelFunc:kL};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yz="return ceil(x);",mqe=Kn({opSnippet:Yz,packedOpSnippet:Yz,cpuKernelImpl:mGe}),gqe={kernelName:Qy,backendName:"webgl",kernelFunc:mqe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yqe{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wqe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vqe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{clipValueMin:i,clipValueMax:o}=r;let a;Le().getBool("WEBGL_PACK_CLIP")?a=new wqe(s.shape):a=new yqe(s.shape);const l=[[i],[o]];return n.runWebGLProgram(a,[s],s.dtype,l)}const xqe={kernelName:jy,backendName:"webgl",kernelFunc:vqe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bqe{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zz(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}}function Cqe(t){const{inputs:e,backend:n}=t,{x:r}=e,s=n.texData.get(r.dataId),i=new bqe(r.shape),o=[Zz(r,s.complexTensorInfos.real),Zz(r,s.complexTensorInfos.imag)];return n.runWebGLProgram(i,o,o[0].dtype)}const Sqe={kernelName:pb,backendName:"webgl",kernelFunc:Cqe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Bqe{constructor(e){this.outputShape=[],this.outputShape=fA(e,1),this.variableNames=e.map((o,a)=>`T${a}`);const n=new Array(e.length-1);n[0]=e[0][1];for(let o=1;o<n.length;o++)n[o]=n[o-1]+e[o][1];const r=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let o=1;o<n.length;o++){const a=n[o-1];r.push(`else if (yC < ${n[o]}) setOutput(getT${o}(yR, yC-${a}));`)}const s=n.length,i=n[n.length-1];r.push(`else setOutput(getT${s}(yR, yC-${i}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${r.join(`
        `)}
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _qe{constructor(e,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=fA(e,n);const r=this.outputShape,s=r.length,i=Sr(s),o=Io("coords",s),a=["x","y","z","w","u","v"].slice(0,s);this.variableNames=e.map((m,y)=>`T${y}`);const l=new Array(e.length-1);l[0]=e[0][n];for(let m=1;m<l.length;m++)l[m]=l[m-1]+e[m][n];const c=a[n],u=a.slice(-2),A=a.join();let d=`if (${c} < ${l[0]}) {
        return getChannel(
            getT0(${A}), vec2(${u.join()}));
        }`;for(let m=1;m<l.length;m++){const y=l[m-1];d+=`
        if (${c} < ${l[m]}  && ${c} >= ${l[m-1]}) {
          return getChannel(
            getT${m}(${DS(a,c,y)}),
            vec2(${DS(u,c,y)}));
        }`}const h=l.length,p=l[l.length-1];d+=`
        return getChannel(
          getT${h}(${DS(a,c,p)}),
          vec2(${DS(u,c,p)}));`,this.userCode=`
      float getValue(${a.map(m=>"int "+m)}) {
        ${d}
      }

      void main() {
        ${i} coords = getOutputCoords();
        vec4 result = vec4(getValue(${o}), 0., 0., 0.);

        ${o[s-1]} = ${o[s-1]} + 1;
        if (${o[s-1]} < ${r[s-1]}) {
          result.g = getValue(${o});
        }

        ${o[s-2]} = ${o[s-2]} + 1;
        if (${o[s-2]} < ${r[s-2]}) {
          result.a = getValue(${o});
        }

        ${o[s-1]} = ${o[s-1]} - 1;
        if (${o[s-2]} < ${r[s-2]} &&
            ${o[s-1]} < ${r[s-1]}) {
          result.b = getValue(${o});
        }
        setOutput(result);
      }
    `}}function DS(t,e,n){const r=t.indexOf(e);return t.map((i,o)=>o===r?`${i} - ${n}`:i).join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xk(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.texData.get(r.dataId);return $a({inputs:{x:s.complexTensorInfos.imag},backend:n})}const Nqe={kernelName:RI,backendName:"webgl",kernelFunc:xk};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yw(t,e,n){const r=t[0].dtype;if(r==="complex64"){const h=t.map(v=>z2({inputs:{input:v},backend:n})),p=t.map(v=>xk({inputs:{input:v},backend:n})),m=Yw(h,e,n),y=Yw(p,e,n),g=jf({inputs:{real:m,imag:y},backend:n});return h.forEach(v=>n.disposeIntermediateTensorInfo(v)),p.forEach(v=>n.disposeIntermediateTensorInfo(v)),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),g}let s=n.shouldExecuteOnCPU(t);if(r==="string"&&(s=!0),s){const h=t.map(C=>{const I=[-1,$e(C.shape.slice(e))];return ft({inputs:{x:C},backend:n,attrs:{shape:I}})}),p=h.map(C=>({vals:n.readSync(C.dataId),shape:C.shape})),m=fA(h.map(C=>C.shape),1),y=h[0].shape[0]===1,g=gGe(p,m,r,y),v=fA(t.map(C=>C.shape),e),b=n.makeTensorInfo(v,r,g);return h.forEach(C=>n.disposeIntermediateTensorInfo(C)),b}const i=t.filter(h=>$e(h.shape)>0),o=Le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&i[0].shape.length>1;if(i.length===1){const h=o?new rA(t[0].shape,gh):new $h(t[0].shape,gh);return n.runWebGLProgram(h,t,r)}const a=Le().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(i.length>a){const h=[];for(let m=0;m<i.length;m+=a){const y=i.slice(m,m+a);h.push(Yw(y,e,n))}const p=Yw(h,e,n);for(const m of h)n.disposeIntermediateTensorInfo(m);return p}if(o){const h=new _qe(i.map(p=>p.shape),e);return n.runWebGLProgram(h,i,r)}const{tensors2D:l,outShape:c}=Iqe(i,e,n),u=new Bqe(l.map(h=>h.shape)),A=n.runWebGLProgram(u,l,r);l.forEach(h=>n.disposeIntermediateTensorInfo(h));const d=ft({inputs:{x:A},attrs:{shape:c},backend:n});return n.disposeIntermediateTensorInfo(A),d}function Iqe(t,e,n){const r=fA(t.map(i=>i.shape),e);return{tensors2D:t.map(i=>ft({inputs:{x:i},attrs:{shape:[-1,$e(i.shape.slice(e))]},backend:n})),outShape:r}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function doe(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r,i=En(s,e[0].shape)[0],o=e.map(c=>c.shape);qO(o,i);const a=fA(e.map(c=>c.shape),i);if($e(a)===0)return n.makeTensorInfo(a,e[0].dtype,[]);const l=e.filter(c=>$e(c.shape)>0);return l.length===1?$a({inputs:{x:l[0]},backend:n}):Yw(l,i,n)}const Eqe={kernelName:mb,backendName:"webgl",kernelFunc:doe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hoe{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const o=e.padInfo.top,a=e.padInfo.left,l=e.strideHeight,c=e.strideWidth,u=e.dilationHeight,A=e.dilationWidth,d=e.filterHeight,h=e.filterWidth,p=Math.floor(e.inChannels/4)*4,m=e.inChannels%4,y=e.dataFormat==="channelsLast",g=y?1:2,v=y?2:3,b=y?3:1;let C="",_="";r&&(s?C=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?C=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:C=`
          float activation(float x) {
            ${r}
          }
        `,_="result = activation(result);");const I=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${C}

      const ivec2 strides = ivec2(${l}, ${c});
      const ivec2 pads = ivec2(${o}, ${a});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${b}];

        ivec2 xRCCorner =
            ivec2(coords[${g}], coords[${v}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${d}; wR++) {
          int xR = xRCorner + wR * ${u};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${h}; wC++) {
            int xC = xCCorner + wC * ${A};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${p}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${y}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${m===1}) {

              if (${y}) {
                dotProd +=
                    getX(batch, xR, xC, ${p}) *
                    getW(wR, wC, ${p}, d2);
              } else {
                dotProd +=
                    getX(batch, ${p}, xR, xC) *
                    getW(wR, wC, ${p}, d2);
              }

            } else if (${m===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2)
              );

              if (${y}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${m===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2),
                getW(wR, wC, ${p} + 2, d2)
              );

              if (${y}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1),
                  getX(batch, xR, xC, ${p} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC),
                  getX(batch, ${p} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${I}
        ${_}
        setOutput(result);
      }
    `}}class kqe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const n=e.padInfo.front,r=e.padInfo.top,s=e.padInfo.left,i=e.strideDepth,o=e.strideHeight,a=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,u=e.dilationWidth,A=e.filterDepth,d=e.filterHeight,h=e.filterWidth,p=Math.floor(e.inChannels/4)*4,m=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${i}, ${o}, ${a});
      const ivec3 pads = ivec3(${n}, ${r}, ${s});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${A}; wF++) {
          int xF = xFCorner + wF * ${l};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${d}; wR++) {
            int xR = xRCorner + wR * ${c};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${h}; wC++) {
              int xC = xCCorner + wC * ${u};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${p}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${m===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${p}) *
                  getW(wF, wR, wC, ${p}, d2);
              } else if (${m===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${m===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1),
                  getX(batch, xF, xR, xC, ${p} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2),
                  getW(wF, wR, wC, ${p} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class foe{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=ro(this.outputShape.length);const o=e.padInfo.left,a=e.strideWidth,l=e.dilationWidth,c=e.filterHeight,u=e.filterWidth,A=u;let d=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let y=0;y<u;y++)d+=`
           vec4 xTexelC${y*2};
           int xTexelC${y*2}Ready;
           vec4 xTexelC${y*2+1};
           int xTexelC${y*2+1}Ready;
           vec4 xC${y};`;d+=`
     for (int r = 0; r < ${c}; r++) {
      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {
       `;for(let y=0;y<u;y++)d+=`
           xTexelC${y*2} = vec4(0.0);
           xTexelC${y*2}Ready = 0;
           xTexelC${y*2+1} = vec4(0.0);
           xTexelC${y*2+1}Ready = 0;
           xC${y} = vec4(0.0);`;d+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let y=0;y<(A+1)/2;y++){const g=y*2;if(d+=`
           xC = xCCorner + ${g*l};
           `,a===1){if(g<u&&(o%2===1?(d+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }
               `,l===1&&g>0?d+=`
                 xC${g} = vec4(xTexelC${g-2}.zw, xTexelC${g}.xy);
                 `:d+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${g} = vec4(previous.zw, xTexelC${g}.xy);
                   } else {
                     xC${g} = vec4(0.0, 0.0, xTexelC${g}.xy);
                   }
                   `):d+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }

                 xC${g} = xTexelC${g};
                 `,g+1<u)){const v=o%2===0?lI(l):l;l%2===0&&o%2===1||l%2!==0&&o%2!==1?(d+=`
                   xCOffset = xC + imod(pads[1], 2) + ${v};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g+1}Ready == 0) {
                     xTexelC${g+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${g+1}.zw = vec2(0.0);
                     }
                     xTexelC${g+1}Ready = 1;
                   }
                   `,l>1?d+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${g+1} = vec4(previous.zw, xTexelC${g+1}.xy);
                     } else {
                      xC${g+1} = vec4(0.0, 0.0, xTexelC${g+1}.xy);
                     }
                     `:d+=`
                     xC${g+1} = vec4(xTexelC${g}.zw, xTexelC${g+1}.xy);
                     `):v===1?d+=`
                     xC${g+1} = xTexelC${g};
                     `:d+=`
                     xCOffset = xC + ${v};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g+1}Ready == 0) {
                       xTexelC${g+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${g+1}.zw = vec2(0.0);
                       }
                       xTexelC${g+1}Ready = 1;
                     }

                     xC${g+1} = xTexelC${g+1};
                     `}}else g<u&&(o%2===1?(d+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${g+1}Ready == 0) {
                   xTexelC${g+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${g+1}.zw = vec2(0.0);
                   }
                   xTexelC${g+1}Ready = 1;
                 }

                 xC${g} = vec4(xTexelC${g}.zw, xTexelC${g+1}.zw);
               `,g+1<u&&(d+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${g+1} = vec4(xTexelC${g+1}.xy, final.xy);
                 `)):(d+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g+1}Ready == 0) {
                   xTexelC${g+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${g+1}.zw = vec2(0.);
                   }
                   xTexelC${g+1}Ready = 1;
                 }

                 xC${g} = vec4(
                   xTexelC${g}.xy, xTexelC${g+1}.xy);
               `,g+1<u&&(d+=`
                   xC${g+1} = vec4(xTexelC${g}.zw, xTexelC${g+1}.zw);
                 `)));g<u&&(d+=`
             wTexel = getW(r, ${g}, d1, d2);
             dotProd += xC${g}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${e.inChannels}) {
               dotProd += xC${g}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,g+1<u&&(d+=`
               wTexel = getW(r, ${g+1}, d1, d2);
               dotProd += xC${g+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${e.inChannels}) {
                 dotProd += xC${g+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}d+=`
     }
   `,d+=`
     }
   `,d+=`
     }
   `;let h="",p="";r&&(s?h=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${r}
         }`:i?h=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${r}
         }`:h=`vec4 activation(vec4 x) {
           ${r}
         }`,p="result = activation(result);");const m=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${h}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${d}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${m}
         ${p}
         setOutput(result);
       }
     `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Tqe{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=ro(this.outputShape.length);const{dataFormat:r}=n,s=Fo(),i=r==="channelsLast",o=i?1:2,a=i?2:3,l=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let c="";for(let u=0;u<=1;u++)for(let A=0;A<=1;A++)c+=`
          blockIndex = rc.z + ${A};
          pos = rc.y + ${u};

          ${l}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${o}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${a}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${i}) {
                  innerDims = vec2(d1, ch);
                  result[${u*2+A}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${u*2+A}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${c}

        ${s.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nN(t,e){const n=t.length;return n>=3?e?[...t.slice(0,-3),t[n-3]*t[n-2],t[n-1]]:[...t.slice(0,-3),t[n-3],t[n-2]*t[n-1]]:!e&&n===1&&t[0]>1?[t[0],1]:null}function poe({x:t,filter:e,convInfo:n,backend:r,bias:s=null,preluActivationWeights:i=null,leakyreluAlpha:o=0,activation:a=null}){const l=t.shape,c=r.texData.get(t.dataId),u=n.inChannels,A=l[0]*l[1]*l[2],d=n.outChannels,h=n.dataFormat==="channelsLast",p=!1,m=!1;let y;const g=[];if(i!=null){const C=nN(i.shape,h);C!=null&&(i=ft({inputs:{x:i},backend:r,attrs:{shape:C}}),g.push(i))}if(s!=null){const C=nN(s.shape,h);C!=null&&(s=ft({inputs:{x:s},backend:r,attrs:{shape:C}}),g.push(s))}if(!((A===1||d===1)&&u>aoe)&&c.isPacked&&h&&c.texture!=null&&l[2]%2!==0&&Pn(c.shape.slice(-3),l.slice(-3))){const C=l[0]*l[1]*(l[2]+1),_={dataId:t.dataId,shape:[1,C,n.inChannels],dtype:t.dtype},I=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,ee(eN(c.shape,_.shape),()=>`packed reshape ${c.shape} to ${_.shape} isn't free`);const T=ft({inputs:{x:e},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});g.push(T);const F=tN({a:_,b:T,backend:r,transposeA:p,transposeB:m,bias:s,activation:a,preluActivationWeights:i,leakyreluAlpha:o}),D=r.texData.get(F.dataId);ee(D.isPacked,()=>"batchMatMul result is expected to be packed"),c.shape=I,D.shape=n.outShape,y=$a({inputs:{x:F},backend:r}),y.shape=n.outShape,g.push(F)}else{const C=n.outHeight*n.outWidth,_=ft({inputs:{x:t},backend:r,attrs:{shape:h?[n.batchSize,C,n.inChannels]:[n.batchSize,n.inChannels,C]}}),I=ft({inputs:{x:e},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}}),T=tN({a:h?_:I,b:h?I:_,transposeA:!h,transposeB:m,backend:r,bias:s,activation:a,preluActivationWeights:i,leakyreluAlpha:o});y=ft({inputs:{x:T},backend:r,attrs:{shape:n.outShape}}),g.push(_),g.push(I),g.push(T)}for(const C of g)r.disposeIntermediateTensorInfo(C);return y}function moe({x:t,filter:e,convInfo:n,backend:r,bias:s=null,preluActivationWeights:i=null,leakyreluAlpha:o=0,activation:a=null}){const{filterWidth:l,filterHeight:c,inChannels:u,outWidth:A,outHeight:d,dataFormat:h}=n,p=h==="channelsLast",m=l*c*u,y=d*A,g=[n.batchSize,m,y],v=!0,b=!1,C=[];if(i!=null){const V=nN(i.shape,p);V!=null&&(i=ft({inputs:{x:i},backend:r,attrs:{shape:V}}),C.push(i))}if(s!=null){const V=nN(s.shape,p);V!=null&&(s=ft({inputs:{x:s},backend:r,attrs:{shape:V}}),C.push(s))}const _=ft({inputs:{x:e},backend:r,attrs:{shape:[1,m,$e(e.shape)/m]}});C.push(_);const I=new Tqe(g,n),T=[t.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],F=r.runWebGLProgram(I,[t],"float32",T),D=ft({inputs:{x:F},backend:r,attrs:{shape:g}});C.push(F),C.push(D);const j=s!=null,O=i!=null,U=a==="leakyrelu",W=a?Ex(a,!0):null,$=new ooe(p?D.shape:_.shape,p?_.shape:D.shape,p?[n.batchSize,y,n.outChannels]:[n.batchSize,n.outChannels,y],v,b,j,W,O,U),J=p?[D,_]:[_,D];if(s&&J.push(s),O&&J.push(i),U){const V=r.makeTensorInfo([],"float32",Nd(o,"float32"));J.push(V),C.push(V)}const Z=r.runWebGLProgram($,J,"float32"),oe=ft({inputs:{x:Z},backend:r,attrs:{shape:n.outShape}});C.push(Z);for(const V of C)r.disposeIntermediateTensorInfo(V);return oe}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fqe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dataFormat:l,dilations:c,dimRoundingMode:u}=r,A=Ed(l),d=bi(s.shape,i.shape,o,c,a,u,!1,A);let h;if(d.filterHeight===1&&d.filterWidth===1&&d.dilationHeight===1&&d.dilationWidth===1&&d.strideHeight===1&&d.strideWidth===1&&(d.padInfo.type==="SAME"||d.padInfo.type==="VALID"))h=poe({x:s,filter:i,convInfo:d,backend:n});else if(d.strideWidth<=2&&A==="channelsLast"&&Le().getBool("WEBGL_EXP_CONV")){const m=new foe(d),y=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];h=n.runWebGLProgram(m,[s,i],"float32",y)}else if(Le().getBool("WEBGL_CONV_IM2COL"))h=moe({x:s,filter:i,convInfo:d,backend:n});else{const m=new hoe(d);h=n.runWebGLProgram(m,[s,i],"float32")}const p=ft({inputs:{x:h},backend:n,attrs:{shape:d.outShape}});return n.disposeIntermediateTensorInfo(h),p}const Lqe={kernelName:gb,backendName:"webgl",kernelFunc:Fqe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Dqe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,r=e.strideWidth,s=e.padInfo.top,i=e.padInfo.left,o=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${s};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              ${o?`float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);`:`float dyValue = getDy(b, d2, yR, yC);
              float xValue = getX(b, d1, xR, xC);
              dotProd += (xValue * dyValue);`}
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Rqe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,s=e.strideHeight,i=e.strideWidth,o=e.dataFormat==="channelsLast",a=n-1-e.padInfo.top,l=r-1-e.padInfo.left,c=o?1:2,u=o?2:3,A=o?3:1;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${A}];

        ivec2 dyCorner = ivec2(coords[${c}], coords[${u}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${o}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Pqe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideDepth,r=e.strideHeight,s=e.strideWidth,i=e.padInfo.front,o=e.padInfo.top,a=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${n} - ${i};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${r} - ${o};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${s} - ${a};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Oqe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterDepth,r=e.filterHeight,s=e.filterWidth,i=e.strideDepth,o=e.strideHeight,a=e.strideWidth,l=n-1-e.padInfo.front,c=r-1-e.padInfo.top,u=s-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${l}, ${c}, ${u});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${n}; wF++) {
          float dyF = float(dyFCorner + wF) / ${i}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${n} - 1 - wF;

          for (int wR = 0; wR < ${r}; wR++) {
            float dyR = float(dyRCorner + wR) / ${o}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${r} - 1 - wR;

            for (int wC = 0; wC < ${s}; wC++) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${s} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $qe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:o,pad:a,dataFormat:l,dimRoundingMode:c,filterShape:u}=r,A=Ed(l),d=bi(s.shape,u,o,1,a,c,!1,A),h=new Dqe(d);return n.runWebGLProgram(h,[s,i],"float32")}const Uqe={kernelName:gI,backendName:"webgl",kernelFunc:$qe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Mqe{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=ro(this.outputShape.length);const n=e.filterHeight,r=e.filterWidth,s=n-1-e.padInfo.top,i=r-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${i});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];

        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        vec4 result = vec4(0.);
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / strides[0];
          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);
          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            int wCPerm = ${r} - 1 - wC;

            float dyC = float(dyCCorner + wC) / strides[1];
            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)
              && (fract(dyC) == 0.0);
            int idyC = int(dyC);

            float dyC2 = float(dyCCorner + wC + 1) / strides[1];
            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)
              && (fract(dyC2) == 0.0);
            int idyC2 = int(dyC2);

            if (idyCVal && idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?
                  dySample : getDy(batch, idyR, idyC2, d2);

                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));

                dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample2.xy : dySample2.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC2, d2);
                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            }
          }
        }
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qqe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{inputShape:o,strides:a,pad:l,dataFormat:c,dimRoundingMode:u}=r,A=Ed(c),d=bi(o,i.shape,a,1,l,u,!1,A);if(Le().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&A==="channelsLast"){const h=[[d.strideHeight,d.strideWidth]],p=new Mqe(d);return n.runWebGLProgram(p,[s,i],"float32",h)}else{const h=new Rqe(d);return n.runWebGLProgram(h,[s,i],"float32")}}const jqe={kernelName:yb,backendName:"webgl",kernelFunc:Qqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hqe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dilations:l}=r,c=Df(s.shape,i.shape,o,l,a),u=new kqe(c);return n.runWebGLProgram(u,[s,i],"float32")}const zqe={kernelName:wb,backendName:"webgl",kernelFunc:Hqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vqe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:o,pad:a,filterShape:l}=r,c=Df(s.shape,l,o,1,a),u=new Pqe(c);return n.runWebGLProgram(u,[s,i],"float32")}const Wqe={kernelName:yI,backendName:"webgl",kernelFunc:Vqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gqe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{pad:o,strides:a,inputShape:l}=r,c=Df(l,i.shape,a,1,o),u=new Oqe(c);return n.runWebGLProgram(u,[s,i],"float32")}const Kqe={kernelName:wI,backendName:"webgl",kernelFunc:Gqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qqe=j1+`
  return cos(x);
`,Xqe=`
  vec4 result = cos(x);
  bvec4 isNaN = isnan(x);
  ${tg}
  return result;
`,Yqe=Kn({opSnippet:qqe,packedOpSnippet:Xqe}),Zqe={kernelName:Hy,backendName:"webgl",kernelFunc:Yqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jqe=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,eXe=Kn({opSnippet:Jqe}),tXe={kernelName:zy,backendName:"webgl",kernelFunc:eXe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nXe{constructor(e,n,r,s,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[o,a,l,c]=e,[u]=n,[A,d]=r;this.outputShape=[u,A,d,c];const h=s==="bilinear"?1:0,[p,m]=[`${a-1}.0`,`${l-1}.0`],[y,g,v]=A>1?[`${(a-1)/(A-1)}`,"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[b,C,_]=d>1?[`${(l-1)/(d-1)}`,"(x2-x1) * width_ratio",`x1*${m} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${m}`];this.userCode=`
      const float height_ratio = float(${y});
      const float width_ratio = float(${b});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${o}) {
          return;
        }

        float height_scale = ${g};
        float width_scale = ${C};

        float in_y = ${v};
        if( in_y < 0.0 || in_y > ${p} ) {
          setOutput(float(${i}));
          return;
        }
        float in_x = ${_};
        if( in_x < 0.0 || in_x > ${m} ) {
          setOutput(float(${i}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${h} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rXe=t=>{const{inputs:e,backend:n,attrs:r}=t,{image:s,boxes:i,boxInd:o}=e,{cropSize:a,method:l,extrapolationValue:c}=r,u=new nXe(s.shape,i.shape,a,l,c);return n.runWebGLProgram(u,[s,i,o],"float32")},sXe={kernelName:xI,backendName:"webgl",kernelFunc:rXe};var Tx;(function(t){t.Prod="*",t.Sum="+"})(Tx||(Tx={}));class Jz{constructor(e,n,r,s){this.op=e,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const i=this.outputShape.length,o=this.op===Tx.Prod?"1.0":"0.0",a=r?o:`getX(${eV(i,"coords",this.op)})`,l=this.outputShape[this.outputShape.length-1];let c="",u="";r?(c=s?`end != ${l-1}`:"end != 0",u=s?"end + 1":"end - 1"):(c=s?`end + pow2 < ${l}`:"end >= pow2",u=s?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${Sr(i)} coords = getOutputCoords();
        int end = ${tV(i,"coords",this.op)};
        float val = ${a};
        int pow2 = int(pow(2.0, index));
        if (${c}) {
          int idx = ${u};
          ${tV(i,"coords",this.op)} = idx;
          val ${this.op}= getX(${eV(i,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function eV(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.x, ${e}.y`;if(t===3)return`${e}.x, ${e}.y, ${e}.z`;if(t===4)return`${e}.x, ${e}.y, ${e}.z, ${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}function tV(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.y`;if(t===3)return`${e}.z`;if(t===4)return`${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function goe(t,e,n,r,s,i){const o=e.shape.length,a=cs([r],o);let l=e;a!=null&&(l=ko({inputs:{x:e},backend:n,attrs:{perm:a}}));const c=ks(1,o)[0];if(c!==o-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${e.shape.length-1} but got axis=${r}`);const u=l.shape[c];let A=$a({inputs:{x:l},backend:n});for(let d=0;d<=Math.ceil(Math.log2(u))-1;d++){const h=new Jz(t,l.shape,!1,i),p=[[d]],m=A;A=n.runWebGLProgram(h,[A],A.dtype,p),n.disposeIntermediateTensorInfo(m)}if(s){const d=new Jz(t,l.shape,s,i),h=A;A=n.runWebGLProgram(d,[A],A.dtype),n.disposeIntermediateTensorInfo(h)}if(a!=null){const d=Rf(a),h=ko({inputs:{x:A},backend:n,attrs:{perm:d}});return n.disposeIntermediateTensorInfo(A),n.disposeIntermediateTensorInfo(l),h}return A}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iXe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:o,reverse:a}=r;return goe(Tx.Prod,s,n,i,o,a)}const oXe={kernelName:vI,backendName:"webgl",kernelFunc:iXe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aXe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:o,reverse:a}=r;return goe(Tx.Sum,s,n,i,o,a)}const lXe={kernelName:vb,backendName:"webgl",kernelFunc:aXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cXe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:o,binaryOutput:a}=r;if(s.shape.length===1){const l=n.readSync(s.dataId),c=n.readSync(i.dataId),u=Yie(l,c,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,u)}else if(s.shape.length===2){const l=n.bufferSync(s),c=n.bufferSync(i),u=hGe(l,c,o,a);return n.makeTensorInfo(u.shape,i.dtype,u.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}const uXe={kernelName:bI,backendName:"webgl",kernelFunc:cXe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class AXe{constructor(e,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${n};
      int offset_h = imod(h, ${n});
      int in_w = w / ${n};
      int offset_w = imod(w, ${n});
      int offset_d = (offset_h * ${n} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dXe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockSize:i,dataFormat:o}=r,a=s.shape[0],l=o==="NHWC"?s.shape[1]:s.shape[2],c=o==="NHWC"?s.shape[2]:s.shape[3],u=o==="NHWC"?s.shape[3]:s.shape[1],A=l*i,d=c*i,h=u/(i*i),p=o==="NHWC"?[a,A,d,h]:[a,h,A,d],m=new AXe(p,i,o);return n.runWebGLProgram(m,[s],s.dtype)}const hXe={kernelName:CI,backendName:"webgl",kernelFunc:dXe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yoe{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=ro(this.outputShape.length);const o=e.filterHeight,a=e.filterWidth,l=e.outChannels/e.inChannels;let c="",u="";r&&(s?c=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?c=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:c=`
          float activation(float x) {
            ${r}
          }
        `,u="result = activation(result);");const A=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${c}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${l};
        int q = d2 - d1 * ${l};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${o}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${a}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${A}
        ${u}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class woe{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=ro(this.outputShape.length);const o=e.outChannels/e.inChannels,a=e.padInfo.left,l=e.strideWidth,c=e.dilationWidth,u=e.filterHeight,A=e.filterWidth,d=A;let h=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let g=0;g<A;g++)h+=`
          vec4 xTexelC${g*2};
          int xTexelC${g*2}Ready;
          vec4 xTexelC${g*2+1};
          int xTexelC${g*2+1}Ready;
          vec4 xC${g};`;h+=`
    for (int r = 0; r < ${u}; r++) {
      `;for(let g=0;g<A;g++)h+=`
          xTexelC${g*2} = vec4(0.0);
          xTexelC${g*2}Ready = 0;
          xTexelC${g*2+1} = vec4(0.0);
          xTexelC${g*2+1}Ready = 0;
          xC${g} = vec4(0.0);`;h+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let g=0;g<(d+1)/2;g++){const v=g*2;if(h+=`
          xC = xCCorner + ${v*c};
          `,l===1){if(v<A&&(a%2===1?(h+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v}Ready == 0) {
                  xTexelC${v} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${v}.zw = vec2(0.0);
                  }
                  xTexelC${v}Ready = 1;
                }
              `,c===1&&v>0?h+=`
                xC${v} = vec4(xTexelC${v-2}.zw, xTexelC${v}.xy);
                `:h+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${v} = vec4(previous.zw, xTexelC${v}.xy);
                  } else {
                    xC${v} = vec4(0.0, 0.0, xTexelC${v}.xy);
                  }
                  `):h+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${v}Ready == 0) {
                  xTexelC${v} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${v}.zw = vec2(0.0);
                  }
                  xTexelC${v}Ready = 1;
                }

                xC${v} = xTexelC${v};
                `,v+1<A)){const b=a%2===0?lI(c):c;c%2===0&&a%2===1||c%2!==0&&a%2!==1?(h+=`
                  xCOffset = xC + imod(pads[1], 2) + ${b};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                    xTexelC${v+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${v+1}.zw = vec2(0.0);
                    }
                    xTexelC${v+1}Ready = 1;
                  }
                  `,c>1?h+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${v+1} = vec4(previous.zw, xTexelC${v+1}.xy);
                    } else {
                     xC${v+1} = vec4(0.0, 0.0, xTexelC${v+1}.xy);
                    }
                    `:h+=`
                    xC${v+1} = vec4(xTexelC${v}.zw, xTexelC${v+1}.xy);
                    `):b===1?h+=`
                    xC${v+1} = xTexelC${v};
                    `:h+=`
                    xCOffset = xC + ${b};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                      xTexelC${v+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${v+1}.zw = vec2(0.0);
                      }
                      xTexelC${v+1}Ready = 1;
                    }

                    xC${v+1} = xTexelC${v+1};
                    `}}else v<A&&(a%2===1?(h+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v}Ready == 0) {
                  xTexelC${v} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${v}.zw = vec2(0.0);
                  }
                  xTexelC${v}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${v+1}Ready == 0) {
                  xTexelC${v+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${v+1}.zw = vec2(0.0);
                  }
                  xTexelC${v+1}Ready = 1;
                }

                xC${v} = vec4(xTexelC${v}.zw, xTexelC${v+1}.zw);
              `,v+1<A&&(h+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${v+1} = vec4(xTexelC${v+1}.xy, final.xy);
                `)):(h+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${v}Ready == 0) {
                  xTexelC${v} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${v}.zw = vec2(0.0);
                  }
                  xTexelC${v}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                  xTexelC${v+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${v+1}.zw = vec2(0.);
                  }
                  xTexelC${v+1}Ready = 1;
                }

                xC${v} = vec4(
                  xTexelC${v}.xy, xTexelC${v+1}.xy);
              `,v+1<A&&(h+=`
                  xC${v+1} = vec4(xTexelC${v}.zw, xTexelC${v+1}.zw);
                `)));v<A&&(h+=`
            wTexel = getW(r, ${v}, d1, q);
            dotProd += xC${v} * vec4(wTexel.xz, wTexel.xz);
          `,v+1<A&&(h+=`
              wTexel = getW(r, ${v+1}, d1, q);
              dotProd += xC${v+1} * vec4(wTexel.xz, wTexel.xz);
            `))}h+=`
    }
  `,h+=`
      }
    `;let p="",m="";r&&(s?p=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?p=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:p=`vec4 activation(vec4 x) {
          ${r}
        }`,m="result = activation(result);");const y=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${p}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${o};
        int q = d2 - d1 * ${o};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${h}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${y}
        ${m}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fXe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dilations:l,dimRoundingMode:c}=r;let u=l;u==null&&(u=[1,1]),ee(Ri(o,u),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);const A=bi(s.shape,i.shape,o,u,a,c,!0);let d;Le().getBool("WEBGL_PACK_DEPTHWISECONV")&&A.strideWidth<=2&&A.outChannels/A.inChannels===1?d=new woe(A):d=new yoe(A);const h=[[A.padInfo.top,A.padInfo.left],[A.strideHeight,A.strideWidth],[A.dilationHeight,A.dilationWidth],[A.inHeight,A.inWidth]];return n.runWebGLProgram(d,[s,i],"float32",h)}const pXe={kernelName:xb,backendName:"webgl",kernelFunc:fXe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mXe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,r=e.strideWidth,s=e.padInfo.top,i=e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${o} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${s};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class gXe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,s=e.strideHeight,i=e.strideWidth,o=n-1-e.padInfo.top,a=r-1-e.padInfo.left,l=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${a});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${l}; dm++) {
              int d2 = d1 * ${l} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yXe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:o,dilations:a,pad:l,dimRoundingMode:c,filterShape:u}=r,A=bi(s.shape,u,o,a,l,c,!0),d=new mXe(A);return n.runWebGLProgram(d,[s,i],"float32")}const wXe={kernelName:SI,backendName:"webgl",kernelFunc:yXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vXe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{strides:o,dilations:a,pad:l,dimRoundingMode:c,inputShape:u}=r,A=bi(u,i.shape,o,a,l,c,!0),d=new gXe(A);return n.runWebGLProgram(d,[s,i],"float32")}const xXe={kernelName:BI,backendName:"webgl",kernelFunc:vXe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bXe{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CXe(t){const{inputs:e,backend:n}=t,{x:r}=e,s=[...r.shape,...r.shape],i=$e(r.shape),o=ft({inputs:{x:r},backend:n,attrs:{shape:[i]}}),a=new bXe(i),l=n.runWebGLProgram(a,[o],o.dtype),c=ft({inputs:{x:l},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),c}const SXe={kernelName:_I,backendName:"webgl",kernelFunc:CXe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class BXe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:n,inWidth:r,padInfo:s,strideHeight:i,strideWidth:o,filterHeight:a,filterWidth:l,dilationHeight:c,dilationWidth:u}=e,{top:A,left:d}=s;this.userCode=`
      const ivec2 strides = ivec2(${i}, ${o});
      const ivec2 pads = ivec2(${A}, ${d});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${a}; h++) {
          int hIn = hBeg + h * ${c};

          if (hIn >= 0 && hIn < ${n}) {
            for (int w = 0; w < ${l}; w++) {
              int wIn = wBeg + w * ${u};

              if (wIn >= 0 && wIn < ${r}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Xe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dilations:l}=r,c=A2(s.shape,i.shape,o,a,"NHWC",l);let u;const A=new BXe(c);u=n.runWebGLProgram(A,[s,i],"float32");const d=ft({inputs:{x:u},backend:n,attrs:{shape:c.outShape}});return n.disposeIntermediateTensorInfo(u),d}const NXe={kernelName:bb,backendName:"webgl",kernelFunc:_Xe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IXe(t){const{inputs:e,backend:n,attrs:r}=t,{equation:s}=r,i=e,{allDims:o,summedDims:a,idDims:l}=a$(s,i.length);c$(o.length,l,i);const{path:c,steps:u}=u$(a,l),A=u.length;let d=null,h=o.length;const p=[];for(let m=0;m<A;++m){for(const y of u[m]){const{permutationIndices:g,expandDims:v}=l$(h,l[y]);let b;A$(g)?b=i[y]:(b=ko({inputs:{x:i[y]},backend:n,attrs:{perm:g}}),p.push(b));const C=b.shape.slice();for(let _=0;_<v.length;++_)C.splice(v[_],0,1);Pn(b.shape,C)||(b=ft({inputs:{x:b},backend:n,attrs:{shape:C}}),p.push(b)),d===null?d=b:(d=eU({inputs:{a:b,b:d},backend:n}),p.push(d))}m<A-1&&(c[m]>=0&&(d=vk({inputs:{x:d},backend:n,attrs:{axis:c[m]-(o.length-h),keepDims:!1}}),p.push(d)),h--)}for(const m of p)m!==d&&n.disposeIntermediateTensorInfo(m);return d}const EXe={kernelName:II,backendName:"webgl",kernelFunc:IXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kXe="return (x >= 0.0) ? x : (exp(x) - 1.0);",TXe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,FXe=Kn({opSnippet:kXe,packedOpSnippet:TXe}),LXe={kernelName:Wy,backendName:"webgl",kernelFunc:FXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DXe="return (b >= 0.0) ? a : a * (b + 1.0);",RXe=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,PXe=t=>{const{inputs:e,backend:n}=t,{dy:r,y:s}=e,i=Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Q1(RXe,r.shape,s.shape):new Fm(DXe,r.shape,s.shape);return n.runWebGLProgram(i,[r,s],r.dtype)},OXe={kernelName:EI,backendName:"webgl",kernelFunc:PXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Xe=`
  return vec4(equal(a, b));
`,UXe="return float(a == b);",MXe=$i({opSnippet:UXe,packedOpSnippet:$Xe,dtype:"bool",cpuKernelImpl:yGe}),QXe={kernelName:Cb,backendName:"webgl",kernelFunc:MXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jXe=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${e$};
  float a1 = ${t$};
  float a2 = ${n$};
  float a3 = ${r$};
  float a4 = ${s$};
  float a5 = ${i$};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,HXe=Kn({opSnippet:jXe}),zXe={kernelName:Gy,backendName:"webgl",kernelFunc:HXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VXe=j1+`
  return exp(x);
`,WXe=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,voe=Kn({opSnippet:VXe,packedOpSnippet:WXe,cpuKernelImpl:wGe,dtype:"float32"}),GXe={kernelName:Ky,backendName:"webgl",kernelFunc:voe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TL(t){const{inputs:e,attrs:n,backend:r}=t,{dim:s}=n,{input:i}=e,o=i.shape.length,a=i.shape.slice();let l=s;return s<0&&(ee(-(o+1)<=s,()=>`Axis must be in the interval [${-(o+1)}, ${o}]`),l=o+s+1),a.splice(l,0,1),ft({inputs:{x:i},backend:r,attrs:{shape:a}})}const KXe={kernelName:Sb,backendName:"webgl",kernelFunc:TL};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nV="return exp(x) - 1.0;",qXe=Kn({opSnippet:nV,packedOpSnippet:nV,cpuKernelImpl:vGe}),XXe={kernelName:qy,backendName:"webgl",kernelFunc:qXe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rV{constructor(e,n,r){this.variableNames=["real","imag"];const s=n[1];this.outputShape=n;const i=r?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,o=r?`${s}.0`:"1.0";let a;if(e==="real")a="return real * expR - imag * expI;";else if(e==="imag")a="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${i};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${a}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${s});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${s}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${o};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xoe(t,e,n){const r=n.texData.get(t.dataId),s=$e(t.shape),i=t.shape[t.shape.length-1],o=s/i,a=ft({inputs:{x:t},backend:n,attrs:{shape:[o,i]}}),l=a.shape,c=new rV("real",l,e),u=new rV("imag",l,e),A=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:l},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:l}],d=n.runWebGLProgram(c,A,"float32"),h=n.runWebGLProgram(u,A,"float32"),p=jf({inputs:{real:d,imag:h},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h);const m=ft({inputs:{x:p},backend:n,attrs:{shape:t.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(p),m}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YXe(t){const{inputs:e,backend:n}=t,{input:r}=e;return xoe(r,!1,n)}const ZXe={kernelName:kI,backendName:"webgl",kernelFunc:YXe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class JXe{constructor(e,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V2(t){const{backend:e,attrs:n}=t,{shape:r,value:s}=n;let{dtype:i}=n;if(i=i||jm(s),i==="string"){const o=ms(i,$e(r));return o.fill(s),e.makeTensorInfo(r,i,o)}else{const o=new JXe(r,s),a=[[s]];return e.runWebGLProgram(o,[],i,a)}}const eYe={kernelName:TI,backendName:"webgl",kernelFunc:V2};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tYe{constructor(e){this.variableNames=["Image"],this.outputShape=[];const n=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${n} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${n}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nYe={kernelName:FI,backendName:"webgl",kernelFunc:({inputs:t,backend:e})=>{const{image:n}=t,r=e,s=new tYe(n.shape);return r.runWebGLProgram(s,[n],n.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sV="return floor(x);",rYe=Kn({opSnippet:sV,packedOpSnippet:sV,cpuKernelImpl:xGe}),sYe={kernelName:Xy,backendName:"webgl",kernelFunc:rYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iYe=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,oYe=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,aYe=$i({opSnippet:iYe,packedOpSnippet:oYe,dtype:"int32"}),lYe={kernelName:Yy,backendName:"webgl",kernelFunc:aYe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cYe{constructor(e){this.variableNames=["A"];const n=Fo(),[r,s]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${s}.0, ${r}.0);

        vec4 values = ${n.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uYe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=Fo(),[r,s]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${s}.0, ${r}.0);
            vec4 values = ${n.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AYe={kernelName:F_,backendName:"webgl",kernelFunc:dYe};let Dg,sF=Le().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function dYe(t){const{inputs:e,backend:n,attrs:r}=t;let{pixels:s}=e;const{numChannels:i}=r,o=typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement,a=typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement,[l,c]=o?[s.videoWidth,s.videoHeight]:[s.width,s.height],u=[c,l],A=[c,l,i];if(a||o){const m=Le().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(Dg==null||m!==sF)&&(sF=m,Dg=document.createElement("canvas").getContext("2d",{willReadFrequently:sF})),Dg.canvas.width=l,Dg.canvas.height=c,Dg.drawImage(s,0,0,l,c),s=Dg.canvas}const d=n.makeTensorInfo(u,"int32");n.texData.get(d.dataId).usage=hl.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(d.dataId),s);const h=Le().getBool("WEBGL_PACK")?new uYe(A):new cYe(A),p=n.runWebGLProgram(h,[d],"int32");return n.disposeData(d.dataId),p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hYe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:o,preluActivationWeights:a}=e,{strides:l,pad:c,dataFormat:u,dilations:A,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r,m=Ed(u),y=bi(s.shape,i.shape,l,A,c,d,!1,m);let g;const v=[],b=o!=null,C=a!=null,_=h==="leakyrelu",I=()=>{const F=[s,i],D=(j,O)=>{if(O==="NCHW"&&j.shape.length===1&&j.shape[0]!==1){const U=ft({inputs:{x:j},backend:n,attrs:{shape:[j.shape[0],1,1]}});return v.push(U),U}return j};if(b&&F.push(D(o,u)),C&&F.push(D(a,u)),_){const j=n.makeTensorInfo([],"float32",Nd(p,"float32"));F.push(j),v.push(j)}return F};if(y.filterHeight===1&&y.filterWidth===1&&y.dilationHeight===1&&y.dilationWidth===1&&y.strideHeight===1&&y.strideWidth===1&&(y.padInfo.type==="SAME"||y.padInfo.type==="VALID"))g=poe({x:s,filter:i,convInfo:y,backend:n,bias:o,activation:h,preluActivationWeights:a,leakyreluAlpha:p});else if(y.strideWidth<=2&&m==="channelsLast"&&Le().getBool("WEBGL_EXP_CONV")){const F=h?Ex(h,!0):null,D=new foe(y,b,F,C,_),j=[[y.padInfo.top,y.padInfo.left],[y.strideHeight,y.strideWidth],[y.dilationHeight,y.dilationWidth],[y.inHeight,y.inWidth]],O=I();g=n.runWebGLProgram(D,O,"float32",j)}else if(Le().getBool("WEBGL_CONV_IM2COL"))g=moe({x:s,filter:i,convInfo:y,backend:n,bias:o,activation:h,preluActivationWeights:a,leakyreluAlpha:p});else{const F=h?Ex(h,!1):null,D=new hoe(y,b,F,C,_),j=I();g=n.runWebGLProgram(D,j,"float32")}const T=ft({inputs:{x:g},backend:n,attrs:{shape:y.outShape}});return v.push(g),v.forEach(F=>n.disposeIntermediateTensorInfo(F)),T}const fYe={kernelName:fx,backendName:"webgl",kernelFunc:hYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pYe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:o,preluActivationWeights:a}=e,{strides:l,pad:c,dilations:u,dimRoundingMode:A,activation:d,leakyreluAlpha:h}=r,p=[];let m=u;m==null&&(m=[1,1]),ee(Ri(l,m),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${m}'`);const y=bi(s.shape,i.shape,l,m,c,A,!0),g=Le().getBool("WEBGL_PACK_DEPTHWISECONV")&&y.strideWidth<=2&&y.outChannels/y.inChannels===1,v=d?Ex(d,g):null,b=[s,i],C=o!=null,_=a!=null,I=d==="leakyrelu";if(C&&b.push(o),_&&b.push(a),I){const j=n.makeTensorInfo([],"float32",Nd(h,"float32"));b.push(j),p.push(j)}let T;g?T=new woe(y,C,v,_,I):T=new yoe(y,C,v,_,I);const F=[[y.padInfo.top,y.padInfo.left],[y.strideHeight,y.strideWidth],[y.dilationHeight,y.dilationWidth],[y.inHeight,y.inWidth]],D=n.runWebGLProgram(T,b,"float32",F);return p.forEach(j=>n.disposeIntermediateTensorInfo(j)),D}const mYe={kernelName:px,backendName:"webgl",kernelFunc:pYe};class gYe{constructor(e,n,r,s){this.sliceDim=e,this.strides=n,this.paramsShape=s,this.variableNames=["x","indices"],this.outputShape=r;const i=Sr(r.length);let o=`
    int index;`;for(let a=0;a<this.sliceDim;a++)o+=`
          index = round(getIndices(coords[0], ${a}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[a]};
          flattenIndex += index * ${this.strides[a]};`;this.userCode=`
         void main() {
          ${i} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${o}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yYe(t){const{inputs:e,backend:n}=t,{params:r,indices:s}=e,i=s.shape,o=i[i.length-1],a=$e(r.shape),[l,c,u,A]=ek(r,s),d=ft({inputs:{x:s},backend:n,attrs:{shape:[c,o]}}),h=ft({inputs:{x:r},backend:n,attrs:{shape:[$e(r.shape)/u,u]}});if(n.shouldExecuteOnCPU([r,s])||r.dtype==="string"){const g=n.readSync(s.dataId),v=n.bufferSync(r),b=bGe(g,v,r.dtype,c,o,u,A,r.shape,a);return n.makeTensorInfo(l,r.dtype,b.values)}const p=new gYe(o,A,[c,u],r.shape),m=n.runWebGLProgram(p,[h,d],h.dtype),y=ft({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),y}const wYe={kernelName:LI,backendName:"webgl",kernelFunc:yYe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vYe{constructor(e,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const r=Sr(this.rank),s=xYe(e);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${s}));
      }
    `}}function xYe(t,e){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let s=0;s<t.length;s++)s===2?r.push("index"):r.push(`${n[s]}`);return r.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function boe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,indices:i}=e,{axis:o,batchDims:a}=r,l=En(o,s.shape)[0];if(Le().get("DEBUG")){const v=n.readSync(i.dataId),b=s.shape[l];for(let C=0;C<v.length;++C){const _=v[C];ee(_<=b-1&&_>=0,()=>`GatherV2: the index value ${_} is not in [0, ${b-1}]`)}}const c=h$(s,i,l,a),u=$e(i.shape),A=[],d=ft({inputs:{x:s},backend:n,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),h=ft({inputs:{x:i},backend:n,attrs:{shape:[c.batchSize,u/c.batchSize]}});A.push(d),A.push(h);const p=[c.batchSize,c.outerSize,u/c.batchSize,c.sliceSize];if(n.shouldExecuteOnCPU([s,i])||s.dtype==="string"){const v=n.bufferSync(h),b=n.bufferSync(d),C=CGe(b,v,p);return A.forEach(_=>n.disposeIntermediateTensorInfo(_)),n.makeTensorInfo(c.outputShape,C.dtype,C.values)}const m=new vYe(d.shape,p),y=n.runWebGLProgram(m,[d,h],d.dtype);A.push(y);const g=ft({inputs:{x:y},backend:n,attrs:{shape:c.outputShape}});return A.forEach(v=>n.disposeIntermediateTensorInfo(v)),g}const bYe={kernelName:_b,backendName:"webgl",kernelFunc:boe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CYe="return float(a > b);",SYe=`
  return vec4(greaterThan(a, b));
`,BYe=$i({opSnippet:CYe,packedOpSnippet:SYe,cpuKernelImpl:SGe,dtype:"bool"}),_Ye={kernelName:Nb,backendName:"webgl",kernelFunc:BYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NYe="return float(a >= b);",IYe=`
  return vec4(greaterThanEqual(a, b));
`,EYe=$i({opSnippet:NYe,packedOpSnippet:IYe,dtype:"bool",cpuKernelImpl:BGe}),kYe={kernelName:Zy,backendName:"webgl",kernelFunc:EYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TYe(t){const{inputs:e,backend:n}=t,{input:r}=e;return xoe(r,!0,n)}const FYe={kernelName:DI,backendName:"webgl",kernelFunc:TYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LYe="return float(!isnan(x) && !isinf(x));",DYe=Kn({opSnippet:LYe,dtype:"bool"}),RYe={kernelName:e1,backendName:"webgl",kernelFunc:DYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PYe="return float(isinf(x));",OYe=Kn({opSnippet:PYe,dtype:"bool"}),$Ye={kernelName:t1,backendName:"webgl",kernelFunc:OYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UYe="return float(isnan(x));",MYe=Kn({opSnippet:UYe,dtype:"bool"}),QYe={kernelName:n1,backendName:"webgl",kernelFunc:MYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jYe="return float(a < b);",HYe=`
  return vec4(lessThan(a, b));
`,zYe=$i({opSnippet:jYe,packedOpSnippet:HYe,cpuKernelImpl:_Ge,dtype:"bool"}),VYe={kernelName:Eb,backendName:"webgl",kernelFunc:zYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WYe="return float(a <= b);",GYe=`
  return vec4(lessThanEqual(a, b));
`,KYe=$i({opSnippet:WYe,packedOpSnippet:GYe,cpuKernelImpl:NGe,dtype:"bool"}),qYe={kernelName:kb,backendName:"webgl",kernelFunc:KYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XYe(t){const{backend:e,attrs:n}=t,{start:r,stop:s,num:i}=n,o=IGe(r,s,i);return e.makeTensorInfo([o.length],"float32",o)}const YYe={kernelName:PI,backendName:"webgl",kernelFunc:XYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZYe=j1+`
  return x < 0.0 ? 0./0. : log(x);
`,JYe=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,eZe=Kn({opSnippet:ZYe,packedOpSnippet:JYe,cpuKernelImpl:EGe}),tZe={kernelName:r1,backendName:"webgl",kernelFunc:eZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nZe=j1+`
  return log(1.0 + x);
`,rZe=Kn({opSnippet:nZe}),sZe={kernelName:s1,backendName:"webgl",kernelFunc:rZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iZe="return float(a >= 1.0 && b >= 1.0);",oZe=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,aZe=$i({opSnippet:iZe,packedOpSnippet:oZe,dtype:"bool"}),lZe={kernelName:Tb,backendName:"webgl",kernelFunc:aZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cZe="return float(!(x >= 1.0));",uZe=Kn({opSnippet:cZe}),AZe={kernelName:Fb,backendName:"webgl",kernelFunc:uZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dZe="return float(a >= 1.0 || b >= 1.0);",hZe=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,fZe=$i({opSnippet:dZe,packedOpSnippet:hZe,dtype:"bool"}),pZe={kernelName:Lb,backendName:"webgl",kernelFunc:fZe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mZe{constructor(e,n,r,s,i){this.variableNames=["x"],this.outputShape=[];const o=n,a=e[3]-1;this.outputShape=e;let l;const c=`float(${r}) + float(${s}) * sum`;i===.5?l=`inversesqrt(${c})`:i===1?l=`1.0/(${c})`:l=`exp(log(${c}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${o}; j <= ${o}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${a}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${l};
        setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gZe{constructor(e,n,r,s,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const o=n,a=e[3]-1;this.outputShape=e;let l;const c=`float(${r}) + float(${s}) * sum`;i===.5?l=`inversesqrt(${c})`:i===1?l=`1.0/(${c})`:l=`exp(log(${c}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${o};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${o}; j <= ${o}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${a}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${l};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yZe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{depthRadius:i,bias:o,alpha:a,beta:l}=r,c=Le().getBool("WEBGL_PACK_NORMALIZATION")?new gZe(s.shape,i,o,a,l):new mZe(s.shape,i,o,a,l);return n.runWebGLProgram(c,[s],s.dtype)},wZe={kernelName:Db,backendName:"webgl",kernelFunc:yZe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vZe{constructor(e,n,r,s,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=r,this.alpha=s,this.beta=i,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${n})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${n} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${s}) * norm + float(${r});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${s})
                * float(${i})
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${i});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xZe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s,y:i,dy:o}=e,{depthRadius:a,bias:l,alpha:c,beta:u}=r,A=new vZe(s.shape,a,l,c,u);return n.runWebGLProgram(A,[s,i,o],s.dtype)},bZe={kernelName:OI,backendName:"webgl",kernelFunc:xZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CZe(t,e,n,r){const s=$e(e),o=$e(t.shape)/s,a=ft({inputs:{x:t},attrs:{shape:[o,s]},backend:r}),l=ng(a,t.dtype,"max",r),c=ft({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(l),c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Coe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reductionIndices:i,keepDims:o}=r,a=s.shape.length,l=En(i,s.shape);let c=l;const u=cs(c,a),A=u!=null,d=n.shouldExecuteOnCPU([s]);let h=s;if(A){if(d){const b=n.texData.get(h.dataId).values,C=new Array(a);for(let T=0;T<C.length;T++)C[T]=s.shape[u[T]];const _=Z$(b,s.shape,s.dtype,u,C);h=n.makeTensorInfo(C,s.dtype);const I=n.texData.get(h.dataId);I.values=_}else h=wk(s,u,n);c=ks(c.length,a)}Pi("max",c,a);const[p,m]=Ci(h.shape,c);let y=p;o&&(y=Es(p,l));let g;if(d){const b=n.texData.get(h.dataId).values,C=kGe(b,$e(m),y,s.dtype);g=n.makeTensorInfo(y,s.dtype);const _=n.texData.get(g.dataId);_.values=C}else g=CZe(h,m,y,n);return A&&n.disposeIntermediateTensorInfo(h),g}const SZe={kernelName:Rb,backendName:"webgl",kernelFunc:Coe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BZe=J$+`
  return max(a, b);
`,_Ze=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+tg+`
  return result;
`,NZe=$i({opSnippet:BZe,packedOpSnippet:_Ze,cpuKernelImpl:TGe}),IZe={kernelName:i1,backendName:"webgl",kernelFunc:NZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EZe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;j2(s,"maxPool");const{filterSize:i,strides:o,pad:a,dimRoundingMode:l}=r,c=1;ee(Ri(o,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${c}'`);const u=dc(s.shape,i,o,c,a,l);if(u.filterWidth===1&&u.filterHeight===1&&Pn(u.inShape,u.outShape))return $a({inputs:{x:s},backend:n});const A=new kx(u,"max",!1);return n.runWebGLProgram(A,[s],s.dtype)}const kZe={kernelName:Pb,backendName:"webgl",kernelFunc:EZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TZe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:o,pad:a,dataFormat:l,dimRoundingMode:c}=r,u=[1,1,1],A=Id(s.shape,i,o,u,a,c,l),d=new tU(A,"max",!1);return n.runWebGLProgram(d,[s],s.dtype)}const FZe={kernelName:Ob,backendName:"webgl",kernelFunc:TZe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class LZe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideHeight,r=e.strideWidth,s=e.dilationHeight,i=e.effectiveFilterHeight,o=e.effectiveFilterWidth,a=i-1-e.padInfo.top,l=o-1-e.padInfo.left,c=i*o-1;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${i};
          wR += ${s}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${o}; wC++) {
            float dyC = float(dyCCorner + wC) / ${r}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${c} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${o} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class DZe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideDepth,r=e.strideHeight,s=e.strideWidth,i=e.dilationDepth,o=e.dilationHeight,a=e.dilationWidth,l=e.effectiveFilterDepth,c=e.effectiveFilterHeight,u=e.effectiveFilterWidth,A=l-1-e.padInfo.front,d=c-1-e.padInfo.top,h=u-1-e.padInfo.left,p=l*c*u-1;this.userCode=`
      const ivec3 pads = ivec3(${A}, ${d}, ${h});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${l};
           wD += ${i}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${c};
              wR += ${o}) {
            float dyR = float(dyRCorner + wR) / ${r}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${u};
                wC += ${a}) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${p} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${c} * ${u} +
                  wR * ${u} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RZe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,o=i,{filterSize:a,strides:l,pad:c,dimRoundingMode:u}=r,A=[1,1,1],d=Id(o.shape,a,l,A,c,u),h=new tU(d,"max",!0),p=n.runWebGLProgram(h,[o],o.dtype),m=new DZe(d),y=n.runWebGLProgram(m,[s,p],o.dtype);return n.disposeIntermediateTensorInfo(p),y}const PZe={kernelName:UI,backendName:"webgl",kernelFunc:RZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OZe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i,output:o}=e,a=i;j2([i,o],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:A}=r,d=dc(a.shape,l,c,1,u,A),h=!0,p=new kx(d,"max",h),m=n.runWebGLProgram(p,[a],a.dtype),y=new LZe(d),g=n.runWebGLProgram(y,[s,m],a.dtype);return n.disposeIntermediateTensorInfo(m),g}const $Ze={kernelName:$I,backendName:"webgl",kernelFunc:OZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UZe(t,e,n,r){let s=new kx(n,"max",!1);const i=r.runWebGLProgram(s,[t],"float32");s=new kx(n,"max",!0,!0,e);const o=r.runWebGLProgram(s,[t],"float32");return[i,o]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MZe={kernelName:MI,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{filterSize:s,strides:i,pad:o,includeBatchInIndex:a}=e,l=n;ee(r.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`);const c=[1,1];ee(Ri(i,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${c}'`);const u=dc(r.shape,s,i,c,o),[A,d]=UZe(r,a,u,l);return[A,d]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QZe(t,e,n,r){const s=$e(e),o=$e(t.shape)/s,a=ft({inputs:{x:t},attrs:{shape:[o,s]},backend:r}),l=ng(a,"float32","mean",r),c=ft({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(l),c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jZe={kernelName:$b,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{keepDims:s,axis:i}=e,o=n,a=r.shape.length,l=En(i,r.shape);let c=l;const u=cs(c,a),A=u!=null,d=o.shouldExecuteOnCPU([r]),h=[];let p=r;if(A){if(d){const C=o.texData.get(p.dataId).values,_=new Array(a);for(let F=0;F<_.length;F++)_[F]=r.shape[u[F]];const I=Z$(C,r.shape,r.dtype,u,_);p=o.makeTensorInfo(_,r.dtype);const T=o.texData.get(p.dataId);T.values=I}else p=wk(r,u,o);h.push(p),c=ks(c.length,a)}Pi("sum",c,a);const[m,y]=Ci(p.shape,c);let g=m;s&&(g=Es(m,l));const v=QZe(p,y,g,o);for(const b of h)o.disposeIntermediateTensorInfo(b);return v}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HZe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r,a=s.shape.length,l=En(i,s.shape);let c=l;const u=cs(c,a);let A=s;u!=null&&(A=ko({inputs:{x:s},backend:n,attrs:{perm:u}}),c=ks(c.length,s.shape.length)),Pi("min",c,a);const[d,h]=Ci(A.shape,c),p=$e(h),m=ft({inputs:{x:A},backend:n,attrs:{shape:[-1,p]}}),y=ng(m,m.dtype,"min",n);let g;if(o){const v=Es(d,l);g=ft({inputs:{x:y},backend:n,attrs:{shape:v}})}else g=ft({inputs:{x:y},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),u!=null&&n.disposeIntermediateTensorInfo(A),g}const zZe={kernelName:Ub,backendName:"webgl",kernelFunc:HZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VZe=J$+`
  return min(a, b);
`,WZe=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+tg+`
  return result;
`,GZe=$i({opSnippet:VZe,packedOpSnippet:WZe,cpuKernelImpl:FGe}),KZe={kernelName:o1,backendName:"webgl",kernelFunc:GZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qZe{constructor(e,n,r){this.variableNames=["x"],this.outputShape=n.map((u,A)=>u[0]+e[A]+u[1]);const s=e.length,i=Sr(s),o=n.map(u=>u[0]).join(","),a=n.map((u,A)=>u[0]+e[A]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s),c=r==="reflect"?0:1;if(s===1){this.userCode=`
        int start = ${o};
        int end = ${a};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${c};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${c};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${o});
      ${i} end = ${i}(${a});

      void main() {
        ${i} outC = getOutputCoords();
        for (int i = 0; i < ${s}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${c};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${c};
          }
        }
        ${i} coords = outC - start;
        setOutput(getX(${l}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class XZe{constructor(e,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((p,m)=>p[0]+e[m]+p[1]);const s=e.length,i=Sr(s),o=n.map(p=>p[0]).join(","),a=n.map((p,m)=>p[0]+e[m]).join(","),l=Io("rc",s),c=Io("source",s),u=`${l[s-1]} < ${this.outputShape[s-1]}`,A=s===1?"source":`vec2(${c.slice(-2).join()})`,d=r==="reflect"?0:1;let h="";if(s===1){const p=`
        ${i} source = rc;
        if (source < start) {
          source = start * 2 - source - ${d};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${d};
        }
        source -= start;
      `;h=`
        ${i} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${c.join()}), ${A});
        ${l[s-1]} += 1;
        if(${u}) {
          ${p}
          result[1] = getChannel(getX(${c.join()}), ${A});
        }
      `}else{const p=`
        ${i} source = rc;
        ${i} lt = ${i}(lessThan(source, start));
        ${i} gte = ${i}(greaterThanEqual(source, end));
        ${i} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${d}) +
                gte * ((end - 1) * 2 - source + ${d});
        source -= start;
      `;h=`
        ${i} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${c.join()}), ${A});
        ${l[s-1]} += 1;
        if(${u}) {
          ${p}
          result[1] = getChannel(getX(${c.join()}), ${A});
        }
        rc = outputLoc;
        ${l[s-2]} += 1;
        if(${l[s-2]} < ${this.outputShape[s-2]}) {
          ${p}
          result[2] = getChannel(getX(${c.join()}), ${A});
          ${l[s-1]} += 1;
          if(${u}) {
            ${p}
            result[3] = getChannel(getX(${c.join()}), ${A});
          }
        }
      `}this.userCode=`
      const ${i} start = ${i}(${o});
      const ${i} end = ${i}(${a});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${h}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YZe=({inputs:t,backend:e,attrs:n})=>{const{x:r}=t,{paddings:s,mode:i}=n,o=Le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new XZe(r.shape,s,i):new qZe(r.shape,s,i);return e.runWebGLProgram(o,[r],r.dtype)},ZZe={kernelName:Mb,backendName:"webgl",kernelFunc:YZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JZe=`if (b == 0.0) return NAN;
  return mod(a, b);`,eJe=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+tg+`
  return result;
`,tJe=$i({opSnippet:JZe,packedOpSnippet:eJe}),nJe={kernelName:a1,backendName:"webgl",kernelFunc:tJe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rJe{constructor(e,n,r){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,r],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${n-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${n-1}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sJe=`
if (a == b) {
  return 1.0;
};
return a / b;`,iJe=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,Soe=$i({opSnippet:sJe,packedOpSnippet:iJe,checkOutOfBounds:!0}),oJe={kernelName:Vy,backendName:"webgl",kernelFunc:Soe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iV="return a - b;",Boe=$i({opSnippet:iV,packedOpSnippet:iV,supportsComplex:!0,cpuKernelImpl:JGe}),aJe={kernelName:C1,backendName:"webgl",kernelFunc:Boe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _oe(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{dim:i}=r,o=En([i],s.shape),a=Coe({inputs:{x:s},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),l=Es(a.shape,o),c=ft({inputs:{x:a},backend:n,attrs:{shape:l}}),u=Boe({inputs:{a:s,b:c},backend:n}),A=voe({inputs:{x:u},backend:n}),d=vk({inputs:{x:A},backend:n,attrs:{axis:o,keepDims:!1}}),h=ft({inputs:{x:d},backend:n,attrs:{shape:l}}),p=Soe({inputs:{a:A,b:h},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(A),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),p}const lJe={kernelName:s2,backendName:"webgl",kernelFunc:_oe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cJe(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{numSamples:i,seed:o,normalized:a}=r,l=a?s:_oe({inputs:{logits:s},backend:n,attrs:{dim:s.shape.length-1}}),c=l.shape[0],u=l.shape[1],A=new rJe(c,u,i),d=[[o]],h=n.runWebGLProgram(A,[l],"int32",d);return a||n.disposeIntermediateTensorInfo(l),h}const uJe={kernelName:QI,backendName:"webgl",kernelFunc:cJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AJe=fc+`
  return -x;
`,dJe=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function hJe(t){const{inputs:e,backend:n}=t,{x:r}=e;if(n.shouldExecuteOnCPU([r])){const i=n.texData.get(r.dataId),[o,a]=DGe(i.values,r.shape,r.dtype);return n.makeTensorInfo(a,r.dtype,o)}let s;return Le().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new $h(r.shape,dJe):s=new rA(r.shape,AJe),n.runWebGLProgram(s,[r],r.dtype)}const fJe={kernelName:Qb,backendName:"webgl",kernelFunc:hJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pJe=XE;function mJe(t){al("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:l}=r,c=n.readSync(s.dataId),u=n.readSync(i.dataId),{selectedIndices:A}=pJe(c,u,o,a,l);return n.makeTensorInfo([A.length],"int32",new Int32Array(A))}const gJe={kernelName:jI,backendName:"webgl",kernelFunc:mJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yJe=YE;function wJe(t){al("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:l,padToMaxOutputSize:c}=r,u=n.readSync(s.dataId),A=n.readSync(i.dataId),{selectedIndices:d,validOutputs:h}=yJe(u,A,o,a,l,c);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const vJe={kernelName:HI,backendName:"webgl",kernelFunc:wJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xJe=ZE;function bJe(t){al("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:l,softNmsSigma:c}=r,u=n.readSync(s.dataId),A=n.readSync(i.dataId),d=o,h=a,p=l,m=c,{selectedIndices:y,selectedScores:g}=xJe(u,A,d,h,p,m);return[n.makeTensorInfo([y.length],"int32",new Int32Array(y)),n.makeTensorInfo([g.length],"float32",new Float32Array(g))]}const CJe={kernelName:zI,backendName:"webgl",kernelFunc:bJe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class SJe{constructor(e,n,r,s){this.variableNames=["indices"],this.outputShape=[e,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${s}), float(${r}),
                      float(index == coords.y)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BJe=t=>{const{inputs:e,backend:n,attrs:r}=t,{indices:s}=e,{dtype:i,depth:o,onValue:a,offValue:l}=r,c=$e(s.shape),u=new SJe(c,o,a,l),A=ft({inputs:{x:s},backend:n,attrs:{shape:[c]}}),d=n.runWebGLProgram(u,[A],i);n.disposeIntermediateTensorInfo(A);const h=[...s.shape,o],p=ft({inputs:{x:d},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(d),p},_Je={kernelName:zb,backendName:"webgl",kernelFunc:BJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rN(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="complex64"){const s=z2({inputs:{input:r},backend:n}),i=rN({inputs:{x:s},backend:n}),o=xk({inputs:{input:r},backend:n}),a=rN({inputs:{x:o},backend:n}),l=jf({inputs:{real:i,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),l}else return V2({attrs:{shape:r.shape,dtype:r.dtype,value:r.dtype==="string"?"":0},backend:n})}const NJe={kernelName:l2,backendName:"webgl",kernelFunc:rN};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Noe(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(r.dtype==="complex64"){const s=z2({inputs:{input:r},backend:n}),i=Noe({inputs:{x:s},backend:n}),o=xk({inputs:{input:r},backend:n}),a=rN({inputs:{x:o},backend:n}),l=jf({inputs:{real:i,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),l}else return V2({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:n})}const IJe={kernelName:Hb,backendName:"webgl",kernelFunc:Noe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EJe(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r;if(e.length===1)return TL({inputs:{input:e[0]},backend:n,attrs:{dim:s}});const i=e[0].shape,o=e[0].dtype;e.forEach(u=>{Di(i,u.shape,"All tensors passed to stack must have matching shapes"),ee(o===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=[],l=e.map(u=>{const A=TL({inputs:{input:u},backend:n,attrs:{dim:s}});return a.push(A),A}),c=doe({inputs:l,backend:n,attrs:{axis:s}});return a.forEach(u=>n.disposeIntermediateTensorInfo(u)),c}const kJe={kernelName:Vb,backendName:"webgl",kernelFunc:EJe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class TJe{constructor(e,n,r){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((c,u)=>c[0]+e[u]+c[1]);const s=e.length,i=Sr(s),o=n.map(c=>c[0]).join(","),a=n.map((c,u)=>c[0]+e[u]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s);if(s===1){this.userCode=`
        int start = ${o};
        int end = ${a};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${o});
      ${i} end = ${i}(${a});

      void main() {
        ${i} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${i} coords = outC - start;
          setOutput(getX(${l}));
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class FJe{constructor(e,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((m,y)=>m[0]+e[y]+m[1]);const s=e.length,i=Sr(s),o=n.map(m=>m[0]).join(","),a=n.map((m,y)=>m[0]+e[y]).join(","),l=Io("rc",s),c=Io("source",s),u=`${l[s-1]} < ${this.outputShape[s-1]}`,A=s===1?"source":`vec2(${c.slice(-2).join()})`,d=[`${i} rc = outputLoc;`,`${l[s-1]} += 1;
       if(${u}) {
      `,s===1?"":`}
       rc = outputLoc;
       ${l[s-2]} += 1;
       if(${l[s-2]} < ${this.outputShape[s-2]}) {`,s===1?"":`  ${l[s-1]} += 1;
         if(${u}) {`],h=s===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let m=0,y=s===1?2:4;m<y;m++)p+=`
        ${d[m]}
        if (${h}) {
          result[${m}] = float(value);
        } else {
          ${i} source = rc - start;
          result[${m}] = getChannel(getX(${c.join()}), ${A});
        }
      `;p+=s===1?"} ":"}}",this.userCode=`
      const ${i} start = ${i}(${o});
      const ${i} end = ${i}(${a});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${p}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ioe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{paddings:i,constantValue:o}=r;if($e(s.shape)===0){const c=i.map((u,A)=>u[0]+s.shape[A]+u[1]);return V2({backend:n,attrs:{shape:c,value:o,dtype:s.dtype}})}const a=Le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new FJe(s.shape,i,o):new TJe(s.shape,i,o),l=[[o]];return n.runWebGLProgram(a,[s],s.dtype,l)},LJe={kernelName:Wb,backendName:"webgl",kernelFunc:Ioe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DJe=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,RJe=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+tg+`
  return result;
`,PJe=$i({opSnippet:DJe,packedOpSnippet:RJe}),OJe={kernelName:c1,backendName:"webgl",kernelFunc:PJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Je(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r,a=s.shape.length,l=[],c=En(i,s.shape);let u=c;const A=cs(u,a);let d=s;A!=null&&(d=ko({inputs:{x:s},backend:n,attrs:{perm:A}}),u=ks(u.length,a),l.push(d)),Pi("prod",u,a);let h;if(n.shouldExecuteOnCPU([d])){const p=n.texData.get(d.dataId).values,{outVals:m,outShape:y,outDtype:g}=PGe(d.shape,d.dtype,p,u);h=n.makeTensorInfo(y,g,m)}else{const[p,m]=Ci(d.shape,u),y=$e(m),g=ft({inputs:{x:d},backend:n,attrs:{shape:[-1,y]}}),v=mE(s.dtype),b=ng(g,v,"prod",n);h=ft({inputs:{x:b},backend:n,attrs:{shape:p}}),l.push(g),l.push(b)}if(o){l.push(h);const p=Es(h.shape,c);h=ft({inputs:{x:h},backend:n,attrs:{shape:p}})}return l.forEach(p=>n.disposeIntermediateTensorInfo(p)),h}const UJe={kernelName:Kb,backendName:"webgl",kernelFunc:$Je};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MJe(t){const{inputs:e,backend:n,attrs:r}=t,{paramsNestedSplits:s,paramsDenseValues:i,indices:o}=e,{outputRaggedRank:a}=r,l=s.map(g=>n.readSync(g.dataId)),c=s.map(g=>g.shape),u=n.readSync(i.dataId),A=n.readSync(o.dataId),[d,h,p]=OGe(l,c,u,i.shape,i.dtype,A,o.shape,a),m=d.map(g=>n.makeTensorInfo([g.length],"int32",g)),y=n.makeTensorInfo(p,i.dtype,h);return m.concat([y])}const QJe={kernelName:VI,backendName:"webgl",kernelFunc:MJe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jJe(t){const{inputs:e,backend:n}=t,{starts:r,limits:s,deltas:i}=e,o=n.readSync(r.dataId),a=n.readSync(s.dataId),l=n.readSync(i.dataId),[c,u]=$Ge(o,r.shape,r.dtype,a,s.shape,l,i.shape),A=n.makeTensorInfo([c.length],"int32",c),d=n.makeTensorInfo([u.length],r.dtype,u);return[A,d]}const HJe={kernelName:WI,backendName:"webgl",kernelFunc:jJe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zJe(t){const{inputs:e,backend:n,attrs:r}=t,{shape:s,values:i,defaultValue:o,rowPartitionTensors:a}=e,{rowPartitionTypes:l}=r,c=n.readSync(s.dataId),u=n.readSync(i.dataId),A=n.readSync(o.dataId),d=a.map(y=>n.readSync(y.dataId)),h=a.map(y=>y.shape),[p,m]=UGe(c,s.shape,u,i.shape,i.dtype,A,o.shape,d,h,l);return n.makeTensorInfo(p,i.dtype,m)}const VJe={kernelName:GI,backendName:"webgl",kernelFunc:zJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eoe=t=>{const{backend:e,attrs:n}=t,{start:r,stop:s,step:i,dtype:o}=n,a=MGe(r,s,i,o);return e.makeTensorInfo([a.length],o,a)},WJe={kernelName:KI,backendName:"webgl",kernelFunc:Eoe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GJe="return 1.0 / x;",KJe=Kn({opSnippet:GJe}),qJe={kernelName:u1,backendName:"webgl",kernelFunc:KJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XJe=fc+`
  return (x < 0.0) ? 0.0 : x;
`,YJe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,ZJe=Kn({opSnippet:XJe,packedOpSnippet:YJe}),JJe={kernelName:A1,backendName:"webgl",kernelFunc:ZJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eet=fc+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,tet=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,net=Kn({opSnippet:eet,packedOpSnippet:tet}),ret={kernelName:d1,backendName:"webgl",kernelFunc:net};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class set{constructor(e,n,r,s,i){this.variableNames=["A"],this.outputShape=[];const[o,a,l,c]=e;this.outputShape=[o,n,r,c];const u=[s&&n>1?a-1:a,s&&r>1?l-1:l],A=[s&&n>1?n-1:n,s&&r>1?r-1:r];let d;i?d="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":d="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${u[0]/A[0]},
          ${u[1]/A[1]});
      const vec2 inputShapeRC = vec2(${a}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${d};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iet{constructor(e,n,r,s,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,a,l,c]=e;this.outputShape=[o,n,r,c];const u=[s&&n>1?a-1:a,s&&r>1?l-1:l],A=[s&&n>1?n-1:n,s&&r>1?r-1:r];let d;i?d="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":d="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${u[0]/A[0]},
          ${u[1]/A[1]},
          ${u[1]/A[1]});
      const vec3 inputShapeRC = vec3(${a}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${d};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${c-1};
        bool hasNextRow = coords.z < ${r-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oet(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:o,size:a}=r,[l,c]=a,u=Le().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new iet(s.shape,l,c,i,o):new set(s.shape,l,c,i,o);return n.runWebGLProgram(u,[s],"float32")}const aet={kernelName:Yb,backendName:"webgl",kernelFunc:oet};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cet{constructor(e,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,i]=n,[,o,a]=e,l=[r&&o>1?s-1:s,r&&a>1?i-1:i],c=[r&&o>1?o-1:o,r&&a>1?a-1:a],u=l[0]/c[0],A=l[1]/c[1],d=1/u,h=1/A,p=Math.ceil(d)*2+2,m=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${u});
        const float widthScale = float(${A});

        const float invHeightScale = float(${d});
        const float invWidthScale = float(${h});

        const int winHeight = int(${p});
        const int winWidth = int(${m});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${o}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${a}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${s-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${i-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uet(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:o}=r,a=new cet(i.shape,s.shape,o);return n.runWebGLProgram(a,[i],i.dtype)}const Aet={kernelName:YI,backendName:"webgl",kernelFunc:uet};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class det{constructor(e,n,r,s,i){this.variableNames=["A"],this.outputShape=[];const[o,a,l,c]=e;this.outputShape=[o,n,r,c];const u=[s&&n>1?a-1:a,s&&r>1?l-1:l],A=[s&&n>1?n-1:n,s&&r>1?r-1:r],d=s?"0.5":"0.0";let h;i?h="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":h="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${u[0]/A[0]},
          ${u[1]/A[1]});
      const vec2 inputShapeRC = vec2(${a}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class het{constructor(e,n,r,s,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,a,l,c]=e;this.outputShape=[o,n,r,c];const u=[s&&n>1?a-1:a,s&&r>1?l-1:l],A=[s&&n>1?n-1:n,s&&r>1?r-1:r],d=s?"0.5":"0.0";let h;i?h="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":h="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${u[0]/A[0]},
          ${u[1]/A[1]},
          ${u[1]/A[1]});
      const vec3 inputShapeRC = vec3(${a}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${c-1};
        bool hasNextRow = coords.z < ${r-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fet(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:o,size:a}=r,[l,c]=a,u=Le().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new het(s.shape,l,c,i,o):new det(s.shape,l,c,i,o);return n.runWebGLProgram(u,[s],s.dtype)}const pet={kernelName:Xb,backendName:"webgl",kernelFunc:fet};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class met{constructor(e,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,i]=n,[,o,a]=e,l=[r&&o>1?s-1:s,r&&a>1?i-1:i],c=[r&&o>1?o-1:o,r&&a>1?a-1:a],u=l[0]/c[0],A=l[1]/c[1],d=1/u,h=1/A,p=Math.ceil(d)*2+2,m=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${u});
        const float widthScale = float(${A});

        const float invHeightScale = float(${d});
        const float invWidthScale = float(${h});

        const int winHeight = int(${p});
        const int winWidth = int(${m});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${o}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${a}) {
              continue;
            }

            float sourceFracRow =
              float(${l[0]}) *
                (float(dyR) / float(${c[0]}));

            float sourceFracCol =
                float(${l[1]}) *
                  (float(dyC) / float(${c[1]}));

            int sourceNearestRow = int(min(
                float(int(${s}) - 1),
                ${r} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${i}) - 1),
                ${r} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function get(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:o}=r,a=new met(i.shape,s.shape,o);return n.runWebGLProgram(a,[i],i.dtype)}const yet={kernelName:XI,backendName:"webgl",kernelFunc:get};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wet{constructor(e,n){this.variableNames=["x"];const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);if(this.outputShape=e,r===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}const s=a=>n.indexOf(a)!==-1&&e[a]!==1?`${e[a]} - coords[${a}] - 1`:`coords[${a}]`,i=e.map((a,l)=>s(l)).join(","),o=Sr(r);this.userCode=`
      void main() {
        ${o} coords = getOutputCoords();
        setOutput(getX(${i}));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vet{constructor(e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);this.outputShape=e;const s=Io("rc",r),i=`${s[r-1]} + 1 < ${this.outputShape[r-1]}`,o=`${s[r-2]} + 1 < ${this.outputShape[r-2]}`,a=Sr(r);r===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${i}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${a} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${l(s.slice())};
          if(${i}){
            result.g = ${c(s.slice())};
          }
          if(${o}) {
            result.b = ${u(s.slice())};
            if(${i}) {
              result.a = ${A(s.slice())};
            }
          }
          setOutput(result);
        }
    `;function l(p){return d(p)}function c(p){return p[r-1]="("+p[r-1]+" + 1)",d(p)}function u(p){return p[r-2]="("+p[r-2]+" + 1)",d(p)}function A(p){return p[r-1]="("+p[r-1]+" + 1)",p[r-2]="("+p[r-2]+" + 1)",d(p)}function d(p){const m=e.map((v,b)=>h(b,p)),y=m.join(","),g=m.slice(-2).join(",");return`getChannel(getX(${y}), vec2(${g}))`}function h(p,m){return n.indexOf(p)!==-1&&e[p]!==1?`${e[p]} - ${m[p]} - 1`:`${m[p]}`}}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xet(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dims:i}=r,o=s.shape.length,a=En(i,s.shape);if(o===0)return $a({inputs:{x:s},backend:n});const l=Le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new vet(s.shape,a):new wet(s.shape,a);return n.runWebGLProgram(l,[s],s.dtype)}const bet={kernelName:Zb,backendName:"webgl",kernelFunc:xet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Cet{constructor(e,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const r=e[1],s=e[2];this.outputShape=e;let i="";typeof n=="number"?i=`float outputValue = ${n.toFixed(2)};`:i=`
        vec3 fill = vec3(${n.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${i}
          if(coordX >= 0 && coordX < ${s} && coordY >= 0 && coordY < ${r}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bet={kernelName:fE,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:s,fillValue:i,center:o}=e,a=n,l=new Cet(r.shape,i),[c,u]=YO(o,r.shape[1],r.shape[2]),A=[[c,u,Math.sin(s),Math.cos(s)]];return a.runWebGLProgram(l,[r],r.dtype,A)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _et=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,Net=Kn({opSnippet:_et}),Iet={kernelName:h1,backendName:"webgl",kernelFunc:Net};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eet="return inversesqrt(x);",ket=Kn({opSnippet:Eet,cpuKernelImpl:QGe}),Tet={kernelName:f1,backendName:"webgl",kernelFunc:ket};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nU{constructor(e,n,r,s,i,o,a=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;const c=Sr(i.length),u=Sr(o.length);let A="";r===1?A="i":r===2&&(A="i, j");const d=`getIndices(${A})`;let h="";s===1?h="i":s===2&&(h="i, coords[1]");const p=`getUpdates(${h})`;let m="";l&&(m="coords[0], coords[1]");const y=`getDefaultValue(${m})`,g=n>1?"strides[j]":"strides";this.userCode=`
        ${c} strides = ${c}(${i});

        void main() {
          ${u} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${n}; j++) {
              int index = round(${d});
              flattenedIndex += index * ${g};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${p};
              found = true;
            }
          }
          setOutput(mix(${y}, sum, float(found)));
        }
      `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Fet{constructor(e,n,r,s,i,o,a=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=o;const c=Sr(i.length),u=Sr(o.length);let A="";r===1?A="i":r===2&&(A="i, j");const d=`getIndices(${A})`;let h="";s===1?h="i":s===2&&(h="i, coords[1]");const p=`getUpdates(${h})`;let m="";l&&(m="coords[0], coords[1]");const y=`getDefaultValue(${m})`,g=n>1?"strides[j]":"strides",v=n>1?"strides[j + 1]":"strides";this.userCode=`
        ${c} strides = ${c}(${i});

        void main() {
          ${u} coords = getOutputCoords();
          vec4 sum = vec4(0.);
          vec4 found = vec4(0.);
          for (int i = 0; i < ${e}; i+=2) {
            ivec2 flattenedIndex = ivec2(0);
            for (int j = 0; j < ${n}; j+=2) {
              ivec4 index = round(${d});
              flattenedIndex += index.xz * ${g};
              if (j + 1 < ${n}) {
                flattenedIndex += index.yw * ${v};
              }
            }
            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||
                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {
              vec4 updVals = ${p};
              if (flattenedIndex[0] == coords[0]) {
                sum.xy += updVals.xy;
                found.xy = vec2(1.);
              } else if (flattenedIndex[0] == coords[0] + 1) {
                sum.zw += updVals.xy;
                found.zw = vec2(1.);
              }
              if (flattenedIndex[1] == coords[0]) {
                sum.xy += updVals.zw;
                found.xy = vec2(1.);
              } else if (flattenedIndex[1] == coords[0] + 1) {
                sum.zw += updVals.zw;
                found.zw = vec2(1.);
              }
            }
          }
          setOutput(mix(${y}, sum, found));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Let(t){const{inputs:e,backend:n,attrs:r}=t,{indices:s,updates:i}=e,{shape:o}=r,{sliceRank:a,numUpdates:l,sliceSize:c,strides:u,outputSize:A}=Uf(i,s,o),d=[A/c,c];if(A===0)return n.makeTensorInfo(o,s.dtype);const h=ft({inputs:{x:s},backend:n,attrs:{shape:[l,a]}}),p=ft({inputs:{x:i},backend:n,attrs:{shape:[l,c]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0]));let y;Le().getBool("WEBGL_PACK")?y=new Fet(l,a,h.shape.length,p.shape.length,u,d):y=new nU(l,a,h.shape.length,p.shape.length,u,d);const g=n.runWebGLProgram(y,[p,h,m],p.dtype),v=ft({inputs:{x:g},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(m),v}const Det={kernelName:ZI,backendName:"webgl",kernelFunc:Let};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ret{constructor(e,n,r,s){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,r];const i="while (left < right) {",o=`for (int i = 0; i < ${Math.ceil(Math.log2(n+1))}; ++i) { if (left >= right) break;`,a=Le().getNumber("WEBGL_VERSION")===2?i:o,l=s==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${a}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${l} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pet(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:s,values:i}=e,{side:o}=r,a=new Ret(s.shape[0],s.shape[1],i.shape[1],o),l=[[s.shape[1]]];return n.runWebGLProgram(a,[s,i],"int32",l)}const Oet={kernelName:eE,backendName:"webgl",kernelFunc:Pet};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $et{constructor(e,n,r){this.variableNames=["c","a","b"],this.outputShape=n;let s,i;if(r>4)throw Error(`Where for rank ${r} is not yet supported`);if(r===1)i="resRC",s="resRC";else{const a=["resRC.x","resRC.y","resRC.z","resRC.w"],l=[],c=[];for(let u=0;u<n.length;u++)c.push(`${a[u]}`),u<e&&l.push(`${a[u]}`);s=l.join(),i=c.join()}const o=Sr(r);this.userCode=`
      void main() {
        ${o} resRC = getOutputCoords();
        float cVal = getC(${s});
        if (cVal >= 1.0) {
          setOutput(getA(${i}));
        } else {
          setOutput(getB(${i}));
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uet(t){const{inputs:e,backend:n}=t,{condition:r,t:s,e:i}=e,o=new $et(r.shape.length,s.shape,s.shape.length);return n.runWebGLProgram(o,[r,s,i],ea(s.dtype,i.dtype))}const Met={kernelName:Jb,backendName:"webgl",kernelFunc:Uet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qet=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${rk};
  float scale = ${sk};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,jet=Kn({opSnippet:Qet}),Het={kernelName:p1,backendName:"webgl",kernelFunc:jet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zet=j1+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,Vet=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Wet=Kn({opSnippet:zet,packedOpSnippet:Vet,cpuKernelImpl:HGe}),Get={kernelName:w1,backendName:"webgl",kernelFunc:Wet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ket=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,qet=Kn({opSnippet:Ket}),Xet={kernelName:y1,backendName:"webgl",kernelFunc:qet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yet=j1+`
  return sin(x);
`,Zet=`
  vec4 result = sin(x);
  bvec4 isNaN = isnan(x);
  ${tg}
  return result;
`,Jet=Kn({opSnippet:Yet,packedOpSnippet:Zet}),ett={kernelName:m1,backendName:"webgl",kernelFunc:Jet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ttt=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,ntt=Kn({opSnippet:ttt}),rtt={kernelName:g1,backendName:"webgl",kernelFunc:ntt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const stt=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,itt=Kn({opSnippet:stt}),ott={kernelName:v1,backendName:"webgl",kernelFunc:itt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const att=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,paddings:o}=r;ee(s.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const a=i.reduce((g,v)=>g*v),l=[[0,0]];l.push(...o);for(let g=1+i.length;g<s.shape.length;++g)l.push([0,0]);const c=[],u=Ioe({inputs:{x:s},backend:n,attrs:{paddings:l,constantValue:0}}),A=E2(u.shape,i,a,!1),d=k2(A.length,i.length,!1),h=T2(u.shape,i,a,!1),p=ft({inputs:{x:u},backend:n,attrs:{shape:A}}),m=ko({inputs:{x:p},backend:n,attrs:{perm:d}}),y=ft({inputs:{x:m},backend:n,attrs:{shape:h}});return c.push(u),c.push(p),c.push(m),c.forEach(g=>n.disposeIntermediateTensorInfo(g)),y},ltt={kernelName:n2,backendName:"webgl",kernelFunc:att};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ctt(t){const{inputs:e,backend:n}=t,{indices:r,values:s,denseShape:i,defaultValue:o}=e;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${r.shape}`);if(s.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${s.shape}`);if(o.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${o.shape}`);const a=n.readSync(r.dataId),l=n.readSync(s.dataId),c=n.readSync(i.dataId),u=n.readSync(o.dataId)[0],[A,d,h,p,m]=VGe(a,r.shape,r.dtype,l,s.dtype,c,u);return[n.makeTensorInfo(d,r.dtype,A),n.makeTensorInfo([d[0]],s.dtype,h),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(y=>Number(y)))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}const utt={kernelName:tE,backendName:"webgl",kernelFunc:ctt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Att(t){const{inputs:e,backend:n}=t,{inputIndices:r,inputShape:s,newShape:i}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(s.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${s.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const o=Array.from(n.readSync(s.dataId)),a=n.readSync(r.dataId),l=Array.from(n.readSync(i.dataId)),[c,u,A]=WGe(a,r.shape,r.dtype,o,l);return[n.makeTensorInfo(u,r.dtype,c),n.makeTensorInfo([A.length],i.dtype,new Int32Array(A))]}const dtt={kernelName:nE,backendName:"webgl",kernelFunc:Att};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function htt(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${i.shape}`);const o=n.readSync(r.dataId),a=n.readSync(s.dataId),l=n.readSync(i.dataId),[c,u]=Jie(o,r.shape,r.dtype,a,l,!0);return n.makeTensorInfo(u,r.dtype,c)}const ftt={kernelName:rE,backendName:"webgl",kernelFunc:htt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ptt(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${i.shape}`);const o=n.readSync(r.dataId),a=n.readSync(s.dataId),l=n.readSync(i.dataId),[c,u]=Jie(o,r.shape,r.dtype,a,l);return n.makeTensorInfo(u,r.dtype,c)}const mtt={kernelName:sE,backendName:"webgl",kernelFunc:ptt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gtt(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:s,sparseValues:i,defaultValue:o}=e,{outputShape:a}=r,{sliceRank:l,numUpdates:c,sliceSize:u,strides:A,outputSize:d}=Uf(i,s,a),h=!1;if(i.dtype==="string"){const g=n.bufferSync(s),v=n.bufferSync(i),b=vd(n.readSync(o.dataId)[0]),C=jGe(g,v,a,d,u,c,l,A,b,h);return n.makeTensorInfo(a,C.dtype,C.values)}const p=new nU(c,l,s.shape.length,i.shape.length,A,[d,1],h),m=n.runWebGLProgram(p,[i,s,o],i.dtype),y=ft({inputs:{x:m},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(m),y}const ytt={kernelName:iE,backendName:"webgl",kernelFunc:gtt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wtt(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{numOrSizeSplits:i,axis:o}=r,a=En(o,s.shape)[0],l=d$(s,i,a),c=s.shape.length,u=new Array(c).fill(0),A=s.shape.slice();return l.map(d=>{const h=[...A];h[a]=d;const p=H1({inputs:{x:s},backend:n,attrs:{begin:u,size:h}});return u[a]+=d,p})}const vtt={kernelName:r2,backendName:"webgl",kernelFunc:wtt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oV="return sqrt(x);",xtt=Kn({opSnippet:oV,packedOpSnippet:oV,cpuKernelImpl:GGe}),btt={kernelName:x1,backendName:"webgl",kernelFunc:xtt};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ctt="return x * x;",Stt=Kn({opSnippet:Ctt}),Btt={kernelName:oE,backendName:"webgl",kernelFunc:Stt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aV="return (a - b) * (a - b);",_tt=$i({opSnippet:aV,packedOpSnippet:aV}),Ntt={kernelName:b1,backendName:"webgl",kernelFunc:_tt};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Itt(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");const i=n.readSync(s.dataId),o=Sd(i),a=KGe(o,"string",r);return n.makeTensorInfo(s.shape,"string",a)}const Ett={kernelName:i2,backendName:"webgl",kernelFunc:Itt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ktt({inputs:t,attrs:e,backend:n}){const{x:r}=t,s=fc+`
    return x > 0.0 ? 1.0 : float(${e.alpha});
  `,i=new rA(r.shape,s);return n.runWebGLProgram(i,[r],r.dtype)}const Ttt={kernelName:N1,backendName:"webgl",kernelFunc:ktt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ftt{constructor(e,n,r){this.variableNames=["x"],this.outputShape=r;const s=r.length,i=Sr(r.length),o=Sr(r.length);let a="";if(s===1)a="coords * strides + begin";else{let l=0;a=r.map((c,u)=>(l++,r.length===1?`coords * strides[${u}] + begin[${u}]`:`coords[${l-1}] * strides[${u}] + begin[${u}]`)).join(",")}this.userCode=`
      ${i} begin = ${i}(${e});
      ${i} strides = ${i}(${n});

      void main() {
        ${o} coords = getOutputCoords();
        setOutput(getX(${a}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ltt(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,end:o,strides:a,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:A,shrinkAxisMask:d}=r,{finalShapeSparse:h,finalShape:p,isIdentity:m,sliceDim0:y,isSimpleSlice:g,begin:v,end:b,strides:C}=GO(s.shape,i,o,a,l,c,u,A,d);let _;if(m)_=ft({inputs:{x:s},backend:n,attrs:{shape:p}});else if(y||g){ee(s.shape.length>=1,()=>`Input must have rank at least 1, got: ${s.shape.length}`);const T=zO(v,b,C),F=H1({inputs:{x:s},backend:n,attrs:{begin:v,size:T}});_=ft({inputs:{x:F},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(F)}else if(n.shouldExecuteOnCPU([s])){const F=n.readSync(s.dataId),D=wn(s.shape,s.dtype,F),j=qGe(h,D,C,v);_=n.makeTensorInfo(p,s.dtype,j.values)}else{const F=new Ftt(v,C,h);_=n.runWebGLProgram(F,[s],s.dtype)}const I=ft({inputs:{x:_},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(_),I}const Dtt={kernelName:aE,backendName:"webgl",kernelFunc:Ltt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rtt(t){const{inputs:e,backend:n,attrs:r}=t,{separator:s,nGramWidths:i,leftPad:o,rightPad:a,padWidth:l,preserveShortSequences:c}=r,{data:u,dataSplits:A}=e,d=n.readSync(u.dataId),h=n.readSync(A.dataId),[p,m]=XGe(d,h,s,i,o,a,l,c);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(A.shape,"int32",m)]}const Ptt={kernelName:lE,backendName:"webgl",kernelFunc:Rtt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ott(t){const{inputs:e,backend:n,attrs:r}=t,{skipEmpty:s}=r,{input:i,delimiter:o}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(o.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${o.shape}`);const a=n.readSync(i.dataId),l=n.readSync(o.dataId)[0],[c,u,A]=YGe(a,l,s),d=u.length;return[n.makeTensorInfo([d,2],"int32",c),n.makeTensorInfo([d],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(A))]}const $tt={kernelName:cE,backendName:"webgl",kernelFunc:Ott};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Utt(t){const{inputs:e,backend:n,attrs:r}=t,{numBuckets:s}=r,{input:i}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const o=n.readSync(i.dataId),a=ZGe(o,s);return n.makeTensorInfo(i.shape,"int32",a)}const Mtt={kernelName:uE,backendName:"webgl",kernelFunc:Utt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qtt="return tan(x);",jtt=Kn({opSnippet:Qtt}),Htt={kernelName:S1,backendName:"webgl",kernelFunc:jtt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ztt=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,Vtt=Kn({opSnippet:ztt}),Wtt={kernelName:B1,backendName:"webgl",kernelFunc:Vtt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gtt(t){const{inputs:e,backend:n,attrs:r}=t,{tensor:s,indices:i,updates:o}=e,{sliceRank:a,numUpdates:l,sliceSize:c,strides:u,outputSize:A}=Uf(o,i,s.shape),d=[A/c,c];if(A===0)return n.makeTensorInfo(s.shape,i.dtype);const h=ft({inputs:{x:i},backend:n,attrs:{shape:[l,a]}}),p=ft({inputs:{x:o},backend:n,attrs:{shape:[l,c]}}),m=ft({inputs:{x:s},backend:n,attrs:{shape:d}}),y=new nU(l,a,h.shape.length,p.shape.length,u,d,!1,!0),g=n.runWebGLProgram(y,[p,h,m],m.dtype),v=ft({inputs:{x:g},backend:n,attrs:{shape:s.shape}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),v}const Ktt={kernelName:JI,backendName:"webgl",kernelFunc:Gtt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qtt{constructor(e,n){this.variableNames=["A"];const r=new Array(e.length);for(let o=0;o<r.length;o++)r[o]=e[o]*n[o];this.outputShape=r,this.rank=r.length;const s=Sr(this.rank),i=Xtt(e);this.userCode=`
      void main() {
        ${s} resRC = getOutputCoords();
        setOutput(getA(${i}));
      }
    `}}function Xtt(t){const e=t.length;if(e>5)throw Error(`Tile for rank ${e} is not yet supported`);if(e===1)return`imod(resRC, ${t[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let s=0;s<t.length;s++)r.push(`imod(${n[s]}, ${t[s]})`);return r.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function koe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reps:i}=r;if(s.dtype==="string"||s.shape.length>5){const l=n.readSync(s.dataId),c=s.dtype==="string"?l.map(d=>vd(d)):l,u=wn(s.shape,s.dtype,c),A=eKe(u,i);return n.makeTensorInfo(A.shape,A.dtype,A.values)}const o=new qtt(s.shape,i);return n.runWebGLProgram(o,[s],s.dtype)}const Ytt={kernelName:_1,backendName:"webgl",kernelFunc:koe};class Ztt{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class Jtt{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dp(t,e){e!==null&&t.disposeIntermediateTensorInfo(e)}function lV(t){let e=1;for(;e<t;)e*=2;return e}function ent(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{k:i,sorted:o}=r,a=Le().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=Le().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=s.shape,u=c[c.length-1];if(n.shouldExecuteOnCPU([s])||u<a||i>l){const j=n.readSync(s.dataId),[O,U]=tKe(j,c,s.dtype,i,o);return[n.makeTensorInfo(O.shape,O.dtype,O.values),n.makeTensorInfo(U.shape,U.dtype,U.values)]}if(i===0)return c[c.length-1]=0,[n.makeTensorInfo(c,s.dtype,[]),n.makeTensorInfo(c,"int32",[])];if(u===1)return[s,V2({attrs:{shape:c,dtype:"int32",value:0},backend:n})];const A=n.texData.get(s.dataId),d=A!==null&&A.isPacked,h=d?n.unpackTensor(s):s,m=$e(c)/u,y=ft({inputs:{x:h},attrs:{shape:[m,u]},backend:n});d&&dp(n,h);const g=lV(i),v=lV(u);let b=null;const C=()=>b===null?[y,y]:[y,b],_=(j,O,U)=>{const W=C(),$=new Ztt(U),Z=[[u],[b===null?1:0],[Number.NEGATIVE_INFINITY],[j],[O]],oe=b;b=n.runWebGLProgram($,W,"int32",Z),dp(n,oe)};for(let j=1;j<g;j*=2){const O=j*2;for(let U=j;U>=1;U/=2)_(O,U,[m,v])}for(let j=v;j>g;j/=2){const O=C(),U=new Jtt([m,j/2]),$=[[u],[b===null?1:0],[g]],J=b;b=n.runWebGLProgram(U,O,"int32",$),dp(n,J);const Z=g/2,oe=Z*2;for(let V=Z;V>=1;V/=2)_(oe,V,b.shape)}let I=b;b=H1({inputs:{x:b},backend:n,attrs:{begin:0,size:[m,i]}}),dp(n,I);let T=boe({inputs:{x:y,indices:b},backend:n,attrs:{axis:1,batchDims:1}});dp(n,y);const F=c.slice(0,-1);F.push(i),I=b,b=ft({inputs:{x:b},attrs:{shape:F},backend:n}),dp(n,I);const D=T;return T=ft({inputs:{x:T},attrs:{shape:F},backend:n}),dp(n,D),[T,b]}const tnt={kernelName:AE,backendName:"webgl",kernelFunc:ent};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nnt{constructor(e,n,r,s,i,o){this.variableNames=["Image","Transforms"],this.outputShape=o;const a=r==="nearest"?1:2;let l;switch(s){case"constant":l=1;break;case"reflect":l=2;break;case"wrap":l=3;break;case"nearest":l=4;break;default:l=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${l} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${n}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${i});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${i});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${n}));
                float mapY = mapCoord(inY, float(${e}));

                if (${a} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rnt(t){const{inputs:e,backend:n,attrs:r}=t,{image:s,transforms:i}=e,{interpolation:o,fillMode:a,fillValue:l,outputShape:c}=r,[u,A,d,h]=s.shape,[p,m]=c??[A,d],y=[u,p,m,h],g=new nnt(A,d,o,a,l,y);return n.runWebGLProgram(g,[s,i],"float32")}const snt={kernelName:dE,backendName:"webgl",kernelFunc:rnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function int(t){const{inputs:e,attrs:n,backend:r}=t,{axis:s}=n,{x:i}=e;j2(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const o=r.readSync(i.dataId),{outputValues:a,outputShape:l,indices:c}=nKe(o,s,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,a),r.makeTensorInfo([c.length],"int32",c)]}const ont={kernelName:hE,backendName:"webgl",kernelFunc:int};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ant(t){const{inputs:e,backend:n,attrs:r}=t,{value:s}=e;let{axis:i}=r;i<0&&(i+=s.shape.length);const o=s,a=o.shape.length,l=s.shape[i],c=new Array(a-1);let u=0;for(let m=0;m<a;m++)m!==i&&(c[u++]=o.shape[m]);const A=[],d=new Array(a).fill(0),h=o.shape.slice();h[i]=1;const p=new Array(l);for(let m=0;m<p.length;m++){d[i]=m;const y=H1({inputs:{x:o},backend:n,attrs:{begin:d,size:h}}),g=ft({inputs:{x:y},backend:n,attrs:{shape:c}});p[m]=g,A.push(y)}return A.forEach(m=>n.disposeIntermediateTensorInfo(m)),p}const lnt={kernelName:o2,backendName:"webgl",kernelFunc:ant};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cnt{constructor(e,n){this.variableNames=["x","segmentIds"];const r=e.windowSize,s=e.batchSize,i=e.inSize,o=e.numSegments,a=o*Math.ceil(i/r);this.outputShape=[s,a];const l="0.0",c="sumValue",u=Math.floor(r/4)*4,A=r%4,d=`
        sumValue += dot(values, segFilter);
    `;let h="";i%r>0&&(h=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `);let p="";i%r>0&&(p=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${l};

      float getValue(int batch, int inIdx) {
        ${h}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${p}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${o})) * float(${r}));
        int currentSeg = int(mod(float(outIdx), float(${o})));

        float sumValue = 0.0;

        for (int i = 0; i < ${u}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${d}
        }

        int inIdx = inOffset + ${u};
        if (${A===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${d}
        } else if (${A===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${d}
        } else if (${A===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${d}
        }
        setOutput(${c});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function unt(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,segmentIds:i}=e,{numSegments:o}=r,a=s.shape.length,l=[];let c=0;const u=cs([c],a);let A=s;u!=null&&(A=ko({inputs:{x:s},backend:n,attrs:{perm:u}}),l.push(A),c=ks(1,a)[0]);const d=ane(A.shape,c,o),h=$e([A.shape[c]]),p=ft({inputs:{x:A},backend:n,attrs:{shape:[-1,h]}});l.push(p);const m=mE(s.dtype),y=(C,_,I,T,F)=>{const D=C.shape[0],j=C.shape[1],O=one(j,F),U={windowSize:O,inSize:j,batchSize:D,numSegments:F},W=new cnt(U,_),$=n.compileAndRun(W,[C,I],T);if(l.push($),$.shape[1]===F)return $;const J=Eoe({backend:n,attrs:{start:0,stop:F,step:1,dtype:"float32"}}),Z=koe({inputs:{x:J},backend:n,attrs:{reps:[j/O]}});return l.push(J),l.push(Z),y($,_,Z,T,F)},g=y(p,"unsortedSegmentSum",i,m,o),v=ft({inputs:{x:g},backend:n,attrs:{shape:d}});let b=v;if(u!=null){l.push(v);const C=Rf(u);b=ko({inputs:{x:b},backend:n,attrs:{perm:C}})}return l.forEach(C=>n.disposeIntermediateTensorInfo(C)),b}const Ant={kernelName:a2,backendName:"webgl",kernelFunc:unt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dnt=[GKe,qKe,ZKe,t9e,r9e,o9e,l9e,u9e,f9e,m9e,w9e,b9e,B9e,E9e,F9e,D9e,P9e,M9e,j9e,z9e,K9e,tqe,rqe,aqe,cqe,pqe,gqe,xqe,kKe,Sqe,Eqe,Lqe,Uqe,jqe,zqe,Wqe,Kqe,Zqe,tXe,sXe,oXe,lXe,uXe,hXe,pXe,wXe,xXe,SXe,NXe,EXe,LXe,OXe,QXe,zXe,GXe,KXe,XXe,ZXe,eYe,nYe,sYe,lYe,AYe,fYe,mYe,wYe,bYe,_Ye,kYe,EKe,FYe,Nqe,RYe,$Ye,QYe,FKe,VYe,qYe,YYe,tZe,sZe,lZe,AZe,pZe,wZe,bZe,SZe,IZe,kZe,FZe,PZe,$Ze,MZe,jZe,zZe,KZe,ZZe,nJe,uJe,RKe,fJe,gJe,vJe,CJe,Aqe,_Je,IJe,kJe,LJe,OJe,DKe,UJe,QJe,HJe,VJe,WJe,dqe,oJe,qJe,JJe,ret,OKe,aet,Aet,pet,yet,bet,Bet,Iet,Tet,Det,Oet,Met,Het,Get,Xet,ett,rtt,J9e,lJe,ott,ltt,utt,dtt,ftt,mtt,ytt,vtt,btt,Btt,Ntt,Ett,Ttt,Dtt,Ptt,$tt,Mtt,aJe,zKe,Htt,Wtt,Ktt,Ytt,tnt,snt,VKe,ont,lnt,Ant,NJe];for(const t of dnt)pE(t);var FL={exports:{}};const hnt=DL(W6e),fnt=DL(mPe);/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */(function(t,e){(function(n,r){r(e,hnt,fnt)})(_A,function(n,r,s){const i={1:{name:"/m/01g317",id:1,displayName:"person"},2:{name:"/m/0199g",id:2,displayName:"bicycle"},3:{name:"/m/0k4j",id:3,displayName:"car"},4:{name:"/m/04_sv",id:4,displayName:"motorcycle"},5:{name:"/m/05czz6l",id:5,displayName:"airplane"},6:{name:"/m/01bjv",id:6,displayName:"bus"},7:{name:"/m/07jdr",id:7,displayName:"train"},8:{name:"/m/07r04",id:8,displayName:"truck"},9:{name:"/m/019jd",id:9,displayName:"boat"},10:{name:"/m/015qff",id:10,displayName:"traffic light"},11:{name:"/m/01pns0",id:11,displayName:"fire hydrant"},13:{name:"/m/02pv19",id:13,displayName:"stop sign"},14:{name:"/m/015qbp",id:14,displayName:"parking meter"},15:{name:"/m/0cvnqh",id:15,displayName:"bench"},16:{name:"/m/015p6",id:16,displayName:"bird"},17:{name:"/m/01yrx",id:17,displayName:"cat"},18:{name:"/m/0bt9lr",id:18,displayName:"dog"},19:{name:"/m/03k3r",id:19,displayName:"horse"},20:{name:"/m/07bgp",id:20,displayName:"sheep"},21:{name:"/m/01xq0k1",id:21,displayName:"cow"},22:{name:"/m/0bwd_0j",id:22,displayName:"elephant"},23:{name:"/m/01dws",id:23,displayName:"bear"},24:{name:"/m/0898b",id:24,displayName:"zebra"},25:{name:"/m/03bk1",id:25,displayName:"giraffe"},27:{name:"/m/01940j",id:27,displayName:"backpack"},28:{name:"/m/0hnnb",id:28,displayName:"umbrella"},31:{name:"/m/080hkjn",id:31,displayName:"handbag"},32:{name:"/m/01rkbr",id:32,displayName:"tie"},33:{name:"/m/01s55n",id:33,displayName:"suitcase"},34:{name:"/m/02wmf",id:34,displayName:"frisbee"},35:{name:"/m/071p9",id:35,displayName:"skis"},36:{name:"/m/06__v",id:36,displayName:"snowboard"},37:{name:"/m/018xm",id:37,displayName:"sports ball"},38:{name:"/m/02zt3",id:38,displayName:"kite"},39:{name:"/m/03g8mr",id:39,displayName:"baseball bat"},40:{name:"/m/03grzl",id:40,displayName:"baseball glove"},41:{name:"/m/06_fw",id:41,displayName:"skateboard"},42:{name:"/m/019w40",id:42,displayName:"surfboard"},43:{name:"/m/0dv9c",id:43,displayName:"tennis racket"},44:{name:"/m/04dr76w",id:44,displayName:"bottle"},46:{name:"/m/09tvcd",id:46,displayName:"wine glass"},47:{name:"/m/08gqpm",id:47,displayName:"cup"},48:{name:"/m/0dt3t",id:48,displayName:"fork"},49:{name:"/m/04ctx",id:49,displayName:"knife"},50:{name:"/m/0cmx8",id:50,displayName:"spoon"},51:{name:"/m/04kkgm",id:51,displayName:"bowl"},52:{name:"/m/09qck",id:52,displayName:"banana"},53:{name:"/m/014j1m",id:53,displayName:"apple"},54:{name:"/m/0l515",id:54,displayName:"sandwich"},55:{name:"/m/0cyhj_",id:55,displayName:"orange"},56:{name:"/m/0hkxq",id:56,displayName:"broccoli"},57:{name:"/m/0fj52s",id:57,displayName:"carrot"},58:{name:"/m/01b9xk",id:58,displayName:"hot dog"},59:{name:"/m/0663v",id:59,displayName:"pizza"},60:{name:"/m/0jy4k",id:60,displayName:"donut"},61:{name:"/m/0fszt",id:61,displayName:"cake"},62:{name:"/m/01mzpv",id:62,displayName:"chair"},63:{name:"/m/02crq1",id:63,displayName:"couch"},64:{name:"/m/03fp41",id:64,displayName:"potted plant"},65:{name:"/m/03ssj5",id:65,displayName:"bed"},67:{name:"/m/04bcr3",id:67,displayName:"dining table"},70:{name:"/m/09g1w",id:70,displayName:"toilet"},72:{name:"/m/07c52",id:72,displayName:"tv"},73:{name:"/m/01c648",id:73,displayName:"laptop"},74:{name:"/m/020lf",id:74,displayName:"mouse"},75:{name:"/m/0qjjc",id:75,displayName:"remote"},76:{name:"/m/01m2v",id:76,displayName:"keyboard"},77:{name:"/m/050k8",id:77,displayName:"cell phone"},78:{name:"/m/0fx9l",id:78,displayName:"microwave"},79:{name:"/m/029bxz",id:79,displayName:"oven"},80:{name:"/m/01k6s3",id:80,displayName:"toaster"},81:{name:"/m/0130jx",id:81,displayName:"sink"},82:{name:"/m/040b_t",id:82,displayName:"refrigerator"},84:{name:"/m/0bt_c3",id:84,displayName:"book"},85:{name:"/m/01x3z",id:85,displayName:"clock"},86:{name:"/m/02s195",id:86,displayName:"vase"},87:{name:"/m/01lsmm",id:87,displayName:"scissors"},88:{name:"/m/0kmg4",id:88,displayName:"teddy bear"},89:{name:"/m/03wvsk",id:89,displayName:"hair drier"},90:{name:"/m/012xff",id:90,displayName:"toothbrush"}};class o{constructor(l,c){this.modelPath=c||`https://storage.googleapis.com/tfjs-models/savedmodel/${this.getPrefix(l)}/model.json`}getPrefix(l){return l==="lite_mobilenet_v2"?`ssd${l}`:`ssd_${l}`}async load(){this.model=await r.loadGraphModel(this.modelPath);const l=s.zeros([1,300,300,3],"int32"),c=await this.model.executeAsync(l);await Promise.all(c.map(u=>u.data())),c.map(u=>u.dispose()),l.dispose()}async infer(l,c,u){const A=s.tidy(()=>(l instanceof s.Tensor||(l=s.browser.fromPixels(l)),s.expandDims(l))),d=A.shape[1],h=A.shape[2],p=await this.model.executeAsync(A),m=p[0].dataSync(),y=p[1].dataSync();A.dispose(),s.dispose(p);const[g,v]=this.calculateMaxScores(m,p[0].shape[1],p[0].shape[2]),b=s.getBackend();s.getBackend()==="webgl"&&s.setBackend("cpu");const C=s.tidy(()=>{const I=s.tensor2d(y,[p[1].shape[1],p[1].shape[3]]);return s.image.nonMaxSuppression(I,g,c,u,u)}),_=C.dataSync();return C.dispose(),b!==s.getBackend()&&s.setBackend(b),this.buildDetectedObjects(h,d,y,g,_,v)}buildDetectedObjects(l,c,u,A,d,h){const p=d.length,m=[];for(let y=0;y<p;y++){const g=[];for(let I=0;I<4;I++)g[I]=u[4*d[y]+I];const v=g[0]*c,b=g[1]*l,C=g[2]*c,_=g[3]*l;g[0]=b,g[1]=v,g[2]=_-b,g[3]=C-v,m.push({bbox:g,class:i[h[d[y]]+1].displayName,score:A[d[y]]})}return m}calculateMaxScores(l,c,u){const A=[],d=[];for(let h=0;h<c;h++){let p=Number.MIN_VALUE,m=-1;for(let y=0;y<u;y++)l[h*u+y]>p&&(p=l[h*u+y],m=y);A[h]=p,d[h]=m}return[A,d]}async detect(l,c=20,u=.5){return this.infer(l,c,u)}dispose(){this.model!=null&&this.model.dispose()}}n.ObjectDetection=o,n.load=async function(a={}){if(s==null)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");const l=a.base||"lite_mobilenet_v2",c=a.modelUrl;if(["mobilenet_v1","mobilenet_v2","lite_mobilenet_v2"].indexOf(l)===-1)throw new Error(`ObjectDetection constructed with invalid base model ${l}. Valid names are 'mobilenet_v1', 'mobilenet_v2' and 'lite_mobilenet_v2'.`);const u=new o(l,c);return await u.load(),u},n.version="2.2.3",Object.defineProperty(n,"__esModule",{value:!0})})})(FL,FL.exports);var pnt=FL.exports;const mnt=()=>{eR();const t=la(),e=P.useRef(null),[n,r]=P.useState(!1),[s,i]=P.useState(0),[o,a]=P.useState({teamA:{runs:0,wickets:0,overs:0},teamB:{runs:0,wickets:0,overs:0}}),[l,c]=P.useState("teamA"),[u,A]=P.useState([]),[d,h]=P.useState(""),[p,m]=P.useState(null),[y,g]=P.useState(!1),v=P.useRef([]),b=P.useRef(0),C=P.useRef(null),_=P.useRef(null),[I,T]=P.useState(null),[F,D]=P.useState(null),[j,O]=P.useState(15),U=P.useRef(null),W=P.useRef(null),$=P.useRef(null);P.useRef(0);const J={red:{label:"Red Ball",hsl:{h:0,s:70,l:50},tol:20,color:"bg-red-500"},green:{label:"Tennis Ball",hsl:{h:80,s:70,l:50},tol:25,color:"bg-yellow-400"},white:{label:"White / Paper Ball",hsl:{h:0,s:0,l:90},tol:35,color:"bg-white border"}},[Z,oe]=P.useState(!1),[V,Y]=P.useState(!1),[ce,he]=P.useState(!1),z=P.useRef(null),G=P.useRef(null);P.useEffect(()=>{let Ue;return n&&(Ue=setInterval(()=>{i(Re=>Re+1)},1e3)),()=>clearInterval(Ue)},[n]),P.useEffect(()=>{(async()=>{if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)try{const Ke=(await navigator.mediaDevices.enumerateDevices()).filter(Ze=>Ze.kind==="videoinput");A(Ke),Ke.length>0&&!d&&h(Ke[0].deviceId)}catch(Re){console.error("Error getting devices:",Re)}})()},[d]),P.useEffect(()=>{(async()=>{try{await nee();const Re=await pnt.load();m(Re),On.success("AI Detection Ready",{description:"Ball tracking enabled"})}catch(Re){console.error("Error loading model:",Re),On.error("AI model failed to load")}})()},[]);const X=(Ue,Re,Ke)=>{Ue/=255,Re/=255,Ke/=255;const Ze=Math.max(Ue,Re,Ke),st=Math.min(Ue,Re,Ke);let Me=0,St,Bt=(Ze+st)/2;if(Ze===st)Me=St=0;else{const ct=Ze-st;switch(St=Bt>.5?ct/(2-Ze-st):ct/(Ze+st),Ze){case Ue:Me=(Re-Ke)/ct+(Re<Ke?6:0);break;case Re:Me=(Ke-Ue)/ct+2;break;case Ke:Me=(Ue-Re)/ct+4;break}Me/=6}return{h:Me*360,s:St*100,l:Bt*100}},re=(Ue,Re,Ke,Ze,st)=>{if(st===360)return Ke>10&&Ke<98;const Me=Ze.s<20,St=Me?0:20,Bt=Me?98:90;if(Re<St||Ke<15||Ke>Bt)return!1;const ct=Math.abs(Ue-Ze.h),Nt=Math.min(ct,360-ct);return(Me?!0:Nt<=st)&&Math.abs(Re-Ze.s)<=40&&Math.abs(Ke-Ze.l)<=50},ue=Ue=>{const Re=J[Ue];D(Re.hsl),O(Re.tol),T(Ue),U.current=null,W.current=null,On.success(`Tracking ${Re.label}`,{description:"Motion detection initialized"})},Ae=(Ue,Re,Ke)=>{a(Ze=>{const st=Ze[Ue];let Me=st[Re]+Ke;if(Re==="overs"){Math.floor(st.overs)*6+Math.round(st.overs%1*10);const St=Math.floor(st.overs)*6+Math.round(st.overs%1*10)+Ke;Me=Math.floor(St/6)+St%6/10}return{...Ze,[Ue]:{...st,[Re]:Math.max(0,Me)}}})},we=(Ue,Re,Ke)=>{if(Ue.length<2)return;const Ze=Date.now();if(Ze-b.current<2e3)return;const st=Ue[Ue.length-1],Me=Re*.1,St=Re*.9,Bt=Ke*.2,ct=Ke*.7;(st.x<Me||st.x>St||st.y<Bt||st.y>ct)&&(st.y>ct?(Ae(l,"runs",4),Ae(l,"overs",1),On.success("FOUR!",{description:"Yellow Boundary Hit"})):(Ae(l,"runs",6),Ae(l,"overs",1),On.success("SIX!",{description:"Red Boundary Hit"})),b.current=Ze,v.current=[])},Ce=Ue=>{const Re=Math.floor(Ue/60),Ke=Ue%60;return`${Re.toString().padStart(2,"0")}:${Ke.toString().padStart(2,"0")}`},Ne=()=>{r(!n),n?On.info("Match paused"):On.success("Match started!")},ke=()=>{g(!y),y?On.info("AI Detection Deactivated"):On.success("AI Detection Activated",{description:"Automatic boundary detection enabled"})},je=()=>{r(!1),g(!1),he(!0),On.success("Match ended!")};P.useEffect(()=>{if(!p||!y||!n)return;const Ue=setInterval(async()=>{if(e.current&&e.current.video&&e.current.video.readyState===4)try{const Re=await p.detect(e.current.video,3,.4);$.current=Re.find(Ke=>["sports ball","apple","orange","baseball"].includes(Ke.class))}catch{}},500);return()=>clearInterval(Ue)},[p,y,n]),P.useEffect(()=>{let Ue;const Re=()=>{if(e.current&&e.current.video&&n){const Ke=e.current.video;if(Ke.readyState===4){if(C.current){const Me=C.current.getContext("2d");if(Me){Me.clearRect(0,0,Me.canvas.width,Me.canvas.height),Me.canvas.width=Ke.videoWidth,Me.canvas.height=Ke.videoHeight;const St=Ke.videoWidth,Bt=Ke.videoHeight;if(Me.strokeStyle="rgba(255, 255, 0, 0.6)",Me.lineWidth=2,Me.beginPath(),Me.moveTo(0,Bt*.7),Me.lineTo(St,Bt*.7),Me.stroke(),Me.fillStyle="rgba(255, 255, 0, 0.8)",Me.fillText("4 Runs Zone",10,Bt*.7+20),Me.strokeStyle="rgba(255, 0, 0, 0.6)",Me.beginPath(),Me.moveTo(St*.1,0),Me.lineTo(St*.1,Bt),Me.moveTo(St*.9,0),Me.lineTo(St*.9,Bt),Me.stroke(),Me.fillStyle="rgba(255, 0, 0, 0.8)",Me.fillText("6 Runs Boundary",10,30),U.current&&(Me.strokeStyle="rgba(255, 0, 255, 0.8)",Me.lineWidth=1,Me.strokeRect(U.current.x,U.current.y,U.current.width,U.current.height),Me.fillStyle="rgba(255, 0, 255, 0.8)",Me.fillText("ROI Lock",U.current.x,U.current.y-5)),!$.current&&n){const Nt=St/2,Dt=Bt/2;Me.strokeStyle="rgba(255, 255, 255, 0.5)",Me.lineWidth=2,Me.beginPath(),Me.moveTo(Nt,Dt-40),Me.lineTo(Nt,Dt+40),Me.stroke(),Me.beginPath(),Me.moveTo(Nt-40,Dt),Me.lineTo(Nt+40,Dt),Me.stroke(),Me.beginPath(),Me.arc(Nt,Dt,5,0,Math.PI*2),Me.stroke(),Me.fillStyle="rgba(255, 255, 255, 0.7)",Me.font="14px sans-serif",Me.textAlign="center",Me.fillText("Ready to Detect Ball",Nt,Dt+40+20),Me.textAlign="start"}}}let Ze=null,st="none";if(y&&$.current&&(Ze=$.current,st="AI"),!Ze&&F){const Me=_.current||document.createElement("canvas");_.current||(_.current=Me);const St=U.current?U.current.width:160,Bt=U.current?U.current.height:90,ct=U.current?U.current.x:0,Nt=U.current?U.current.y:0,Dt=Math.max(0,ct),gt=Math.max(0,Nt),Vt=Math.min(St,Ke.videoWidth-Dt),xt=Math.min(Bt,Ke.videoHeight-gt);Me.width=160,Me.height=90;const kn=Me.getContext("2d",{willReadFrequently:!0});if(kn&&Vt>0&&xt>0){kn.drawImage(Ke,Dt,gt,Vt,xt,0,0,160,90);const Wt=kn.getImageData(0,0,160,90).data;let Jt=W.current;Jt&&Jt.length!==Wt.length&&(Jt=null);const Tn=16,Rt=9,Vn=new Array(Rt*Tn).fill(0),Yt=160/Tn,rn=90/Rt,nr=[];for(let sn=0;sn<Wt.length;sn+=4){const Kt=Wt[sn],tn=Wt[sn+1],vn=Wt[sn+2];let qn=!0;if(Jt){const yt=Math.abs(Kt-Jt[sn]),Br=Math.abs(tn-Jt[sn+1]),Ir=Math.abs(vn-Jt[sn+2]);yt+Br+Ir<30&&(qn=!1)}if(qn){const{h:yt,s:Br,l:Ir}=X(Kt,tn,vn);if(re(yt,Br,Ir,F,j)){const Zn=sn/4,cr=Zn%160,Fn=Math.floor(Zn/160);nr.push({x:cr,y:Fn});const ht=Math.floor(cr/Yt),Er=Math.floor(Fn/rn);ht>=0&&ht<Tn&&Er>=0&&Er<Rt&&Vn[Er*Tn+ht]++}}}W.current=new Uint8ClampedArray(Wt);let ln=0,Et=-1;for(let sn=0;sn<Vn.length;sn++)Vn[sn]>ln&&(ln=Vn[sn],Et=sn);if(Et!==-1&&ln>5){const sn=Math.floor(Et/Tn),Kt=Et%Tn;let tn=0,vn=0,qn=0,yt=160,Br=0,Ir=90,Zn=0;nr.forEach(rr=>{const Vr=Math.floor(rr.x/Yt),oi=Math.floor(rr.y/rn);Math.abs(Vr-Kt)<=1&&Math.abs(oi-sn)<=1&&(tn+=rr.x,vn+=rr.y,rr.x<yt&&(yt=rr.x),rr.x>Br&&(Br=rr.x),rr.y<Ir&&(Ir=rr.y),rr.y>Zn&&(Zn=rr.y),qn++)});const cr=Br-yt+1,Fn=Zn-Ir+1,ht=cr/Fn;let Er=0;if(v.current.length>1){const rr=v.current[v.current.length-1],Vr=v.current[v.current.length-2];Er=Math.hypot(rr.x-Vr.x,rr.y-Vr.y)}const ua=Er>20,ja=ua?.2:.5,so=ua?4:1.8,Ui=qn/(cr*Fn);if(qn>8&&cr>3&&Fn>3&&ht>ja&&ht<so&&Ui>.3&&Ui<.95){const rr=Vt/160,Vr=xt/90,oi=tn/qn*rr,pc=vn/qn*Vr,Lo=Dt+oi,Sl=gt+pc;Ze={bbox:[Lo-25,Sl-25,50,50],class:"color_blob",score:Math.min(1,qn/50)},st=ua?"Streak":j===360?"Shape":"Color",U.current={x:Lo-150,y:Sl-150,width:300,height:300}}else U.current=null}else U.current=null}}if(Ze){const[Me,St,Bt,ct]=Ze.bbox,Nt=Me+Bt/2,Dt=St+ct/2;if(C.current){const kn=C.current.getContext("2d");kn&&(kn.strokeStyle=st==="AI"?"#00FF00":"#3B82F6",kn.lineWidth=4,kn.strokeRect(Me,St,Bt,ct),kn.fillStyle=st==="AI"?"#00FF00":"#3B82F6",kn.font="bold 18px Arial",kn.fillText(`${st} ${Math.round(Ze.score*100)}%`,Me,St-10))}const Vt=Ke.videoHeight*.7,xt=Dt>Vt;v.current.push({x:Nt,y:Dt,touchedGround:xt}),v.current.length>30&&v.current.shift(),we(v.current,Ke.videoWidth,Ke.videoHeight)}}}Ue=requestAnimationFrame(Re)};if(n)Re();else if(v.current=[],C.current){const Ke=C.current.getContext("2d");Ke&&Ke.clearRect(0,0,C.current.width,C.current.height)}return()=>cancelAnimationFrame(Ue)},[y,n,p,l,F,j]);const Ge=()=>{c(Ue=>Ue==="teamA"?"teamB":"teamA"),On.info(`${l==="teamA"?"Team B":"Team A"} is now batting`)},ot=()=>{if(u.length<2){On.error("No other camera available");return}const Re=(u.findIndex(Ke=>Ke.deviceId===d)+1)%u.length;h(u[Re].deviceId),On.success("Camera switched",{description:u[Re].label||`Camera ${Re+1}`})},le=async()=>{if(document.fullscreenElement)try{await document.exitFullscreen(),oe(!1),On.info("Exited fullscreen")}catch(Ue){console.error("Error exiting fullscreen:",Ue)}else try{z.current&&(await z.current.requestFullscreen(),oe(!0),On.success("Fullscreen mode activated"))}catch(Ue){console.error("Error entering fullscreen:",Ue),On.error("Fullscreen not supported")}};P.useEffect(()=>{const Ue=()=>{oe(!!document.fullscreenElement),document.fullscreenElement===G.current&&Y(!0)};return document.addEventListener("fullscreenchange",Ue),()=>document.removeEventListener("fullscreenchange",Ue)},[]);const Xe=async()=>{if(document.fullscreenElement)try{await document.exitFullscreen(),Y(!1),On.info("Exited camera fullscreen")}catch(Ue){console.error("Error exiting fullscreen:",Ue)}else try{G.current&&(await G.current.requestFullscreen(),Y(!0),On.success("Camera fullscreen activated"))}catch(Ue){console.error("Error entering camera fullscreen:",Ue),On.error("Fullscreen not supported")}},dt=o[l];return x.jsxs("div",{ref:z,className:"min-h-screen bg-background",children:[x.jsx($m,{}),x.jsx("main",{className:"pt-20 pb-12",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[x.jsxs(Ft,{variant:"ghost",onClick:()=>t("/dashboard"),children:[x.jsx(_ue,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(h0,{className:`w-5 h-5 ${y?"text-green-500 animate-pulse":"text-muted-foreground"}`}),x.jsx("span",{className:"text-sm font-medium",children:y?"AI Active":"AI Inactive"})]}),x.jsxs("div",{className:"text-lg font-semibold",children:["Match Time: ",Ce(s)]}),x.jsx(Ft,{variant:"outline",size:"sm",onClick:le,title:Z?"Exit Fullscreen":"Enter Fullscreen",children:Z?x.jsx(dT,{className:"w-4 h-4"}):x.jsx(RM,{className:"w-4 h-4"})})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsx("div",{className:"lg:col-span-2",children:x.jsxs(Ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card border rounded-2xl p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h2",{className:"text-2xl font-bold",children:"Live Camera Feed"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Wue,{className:"w-5 h-5 text-primary"}),x.jsx("span",{className:"text-sm text-muted-foreground",children:n?"Recording":"Ready"}),x.jsx(Ft,{variant:"ghost",size:"sm",onClick:Xe,title:V?"Exit Camera Fullscreen":"Maximize Camera",className:"ml-2",children:V?x.jsx(dT,{className:"w-4 h-4"}):x.jsx(RM,{className:"w-4 h-4"})})]})]}),x.jsxs("div",{ref:G,className:"relative bg-black rounded-lg overflow-hidden aspect-video",children:[x.jsx(jke,{ref:e,audio:!1,videoConstraints:{deviceId:d,width:1280,height:720},className:"w-full h-full object-cover"}),x.jsx("canvas",{ref:C,className:"absolute inset-0 w-full h-full pointer-events-none z-10"}),V&&x.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 bg-gradient-to-b from-black/80 to-transparent p-4",children:x.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-2 md:gap-4 h-full",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-6 w-full md:w-auto",children:[x.jsxs("div",{className:"bg-primary/90 backdrop-blur-sm px-2 py-1 md:px-4 md:py-2 rounded-lg flex-shrink-0 shadow-lg",children:[x.jsx("div",{className:"text-white text-[10px] md:text-sm font-medium mb-0.5 md:mb-1 opacity-90",children:l==="teamA"?"Team A":"Team B"}),x.jsxs("div",{className:"text-white text-xl md:text-3xl font-bold leading-none",children:[dt.runs,"/",dt.wickets]}),x.jsxs("div",{className:"text-white/80 text-[10px] md:text-sm leading-none mt-0.5",children:[dt.overs.toFixed(1)," ov"]})]}),x.jsxs("div",{className:"bg-black/60 backdrop-blur-sm px-2 py-1 md:px-4 md:py-2 rounded-lg flex-shrink-0 shadow-lg border border-white/10",children:[x.jsx("div",{className:"text-white/70 text-[10px] md:text-xs mb-0.5 md:mb-1",children:"Time"}),x.jsx("div",{className:"text-white text-sm md:text-xl font-bold leading-none",children:Ce(s)})]}),y&&x.jsxs("div",{className:"flex bg-green-500/90 backdrop-blur-sm px-2 py-1 md:px-3 md:py-2 rounded-lg items-center gap-1 md:gap-2 shadow-lg",children:[x.jsx(h0,{className:"w-3 h-3 md:w-4 md:h-4 text-white animate-pulse"}),x.jsx("span",{className:"text-white text-[10px] md:text-sm font-medium",children:"AI On"})]})]}),x.jsxs("div",{className:"flex items-center gap-2 absolute top-4 right-4 md:static",children:[x.jsx(Ft,{size:"sm",onClick:Ne,variant:n?"secondary":"default",className:"bg-white/90 hover:bg-white text-black h-7 md:h-9 text-[10px] md:text-sm px-2 md:px-4 shadow-xl",children:n?x.jsxs(x.Fragment,{children:[x.jsx(PM,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Pause"]}):x.jsxs(x.Fragment,{children:[x.jsx(lv,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Resume"]})}),x.jsx(Ft,{size:"sm",onClick:Xe,variant:"secondary",className:"bg-white/90 hover:bg-white text-black h-7 w-7 md:h-9 md:w-auto md:px-3 shadow-xl p-0 md:p-2",children:x.jsx(dT,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]})}),y&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"absolute top-0 left-0 right-0 h-[20%] border-2 border-red-500/30 pointer-events-none",children:x.jsx("span",{className:"absolute top-2 left-2 text-red-500 text-xs bg-black/50 px-2 py-1 rounded",children:"Boundary Zone (6)"})}),x.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[30%] border-2 border-yellow-500/30 pointer-events-none",children:x.jsx("span",{className:"absolute bottom-2 left-2 text-yellow-500 text-xs bg-black/50 px-2 py-1 rounded",children:"Ground Zone (4)"})}),x.jsx("div",{className:"absolute top-0 left-0 bottom-0 w-[10%] border-2 border-red-500/30 pointer-events-none"}),x.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[10%] border-2 border-red-500/30 pointer-events-none"})]}),x.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[x.jsx(Ft,{size:"sm",onClick:ot,disabled:u.length<2,variant:"secondary",title:"Flip Camera",children:x.jsx(jue,{className:"w-4 h-4"})}),u.length>1&&x.jsxs(V4,{value:d,onValueChange:h,children:[x.jsx(a_,{className:"w-[200px]",children:x.jsx(W4,{placeholder:"Select Camera"})}),x.jsx(l_,{children:u.map(Ue=>x.jsx(c_,{value:Ue.deviceId,children:Ue.label||`Camera ${u.indexOf(Ue)+1}`},Ue.deviceId))})]})]}),!n&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",children:x.jsxs("div",{className:"text-center",children:[x.jsx(lv,{className:"w-16 h-16 text-white mx-auto mb-4"}),x.jsx("p",{className:"text-white text-lg",children:"Press Start to begin match"})]})})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[x.jsx(Ft,{onClick:Ne,className:"flex-1",children:n?x.jsxs(x.Fragment,{children:[x.jsx(PM,{className:"w-5 h-5 mr-2"}),"Pause Match"]}):x.jsxs(x.Fragment,{children:[x.jsx(lv,{className:"w-5 h-5 mr-2"}),"Start Match"]})}),x.jsxs(Ft,{onClick:ke,disabled:!p,variant:y?"default":"secondary",className:"flex-1",children:[x.jsx(h0,{className:"w-5 h-5 mr-2"}),y?"AI On":"AI Off"]}),x.jsxs(Ft,{onClick:je,variant:"outline",children:[x.jsx(gA,{className:"w-5 h-5 mr-2"}),"End Match"]}),x.jsx("div",{className:"flex gap-2",children:Object.keys(J).map(Ue=>x.jsxs(Ft,{size:"sm",variant:I===Ue?"default":"outline",onClick:()=>ue(Ue),className:"flex-1",children:[x.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${J[Ue].color}`}),J[Ue].label]},Ue))})]})]})}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs(Ot.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-primary text-primary-foreground rounded-2xl p-6",children:[x.jsx("h3",{className:"text-xl font-bold mb-4",children:"Live Score"}),x.jsxs("div",{className:"text-center mb-4",children:[x.jsxs("div",{className:"text-4xl md:text-5xl font-bold",children:[dt.runs,"/",dt.wickets]}),x.jsxs("div",{className:"opacity-80 mt-2",children:[dt.overs.toFixed(1)," overs"]}),x.jsxs("div",{className:"text-sm opacity-60 mt-1",children:[l==="teamA"?"Team A":"Team B"," Batting"]})]}),y&&x.jsx("div",{className:"bg-white/10 rounded-lg p-2 text-center",children:x.jsx("p",{className:"text-xs",children:" AI Auto-Scoring Active"})})]}),x.jsxs(Ot.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-card border rounded-2xl p-6",children:[x.jsx("h3",{className:"text-lg font-bold mb-4",children:"Manual Controls"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex bg-card/50 p-2 rounded-lg items-center justify-between flex-wrap gap-2",children:[x.jsx("span",{className:"font-medium text-sm",children:"Runs"}),x.jsxs("div",{className:"flex gap-2 flex-wrap justify-end",children:[x.jsx(Ft,{size:"sm",variant:"outline",className:"h-8 w-8 p-0",onClick:()=>Ae(l,"runs",-1),children:x.jsx(hT,{className:"w-4 h-4"})}),x.jsx(Ft,{size:"sm",className:"h-8 min-w-[3rem]",onClick:()=>Ae(l,"runs",1),children:"+1"}),x.jsx(Ft,{size:"sm",className:"h-8 min-w-[3rem]",onClick:()=>Ae(l,"runs",4),children:"+4"}),x.jsx(Ft,{size:"sm",className:"h-8 min-w-[3rem]",onClick:()=>Ae(l,"runs",6),children:"+6"})]})]}),x.jsxs("div",{className:"flex bg-card/50 p-2 rounded-lg items-center justify-between flex-wrap gap-2",children:[x.jsx("span",{className:"font-medium text-sm",children:"Wickets"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Ft,{size:"sm",variant:"outline",className:"h-8 w-8 p-0",onClick:()=>Ae(l,"wickets",-1),children:x.jsx(hT,{className:"w-4 h-4"})}),x.jsx(Ft,{size:"sm",className:"h-8 w-8 p-0",onClick:()=>Ae(l,"wickets",1),children:x.jsx(HB,{className:"w-4 h-4"})})]})]}),x.jsxs("div",{className:"flex bg-card/50 p-2 rounded-lg items-center justify-between flex-wrap gap-2",children:[x.jsx("span",{className:"font-medium text-sm",children:"Overs"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Ft,{size:"sm",variant:"outline",className:"h-8 w-8 p-0",onClick:()=>Ae(l,"overs",-.1),children:x.jsx(hT,{className:"w-4 h-4"})}),x.jsx(Ft,{size:"sm",className:"h-8 w-8 p-0",onClick:()=>Ae(l,"overs",.1),children:x.jsx(HB,{className:"w-4 h-4"})})]})]}),x.jsx(Ft,{onClick:Ge,className:"w-full mt-4",children:"Switch Innings"})]})]}),x.jsxs(Ot.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-card border rounded-2xl p-6",children:[x.jsx("h3",{className:"text-lg font-bold mb-4",children:"Teams"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:`p-3 rounded-lg ${l==="teamA"?"bg-primary/10 border border-primary":"bg-secondary"}`,children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-semibold",children:"Team A"}),x.jsxs("span",{className:"text-xl font-bold",children:[o.teamA.runs,"/",o.teamA.wickets]})]}),x.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[o.teamA.overs.toFixed(1)," overs"]})]}),x.jsxs("div",{className:`p-3 rounded-lg ${l==="teamB"?"bg-primary/10 border border-primary":"bg-secondary"}`,children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-semibold",children:"Team B"}),x.jsxs("span",{className:"text-xl font-bold",children:[o.teamB.runs,"/",o.teamB.wickets]})]}),x.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[o.teamB.overs.toFixed(1)," overs"]})]})]})]})]})]})]})}),ce&&x.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:x.jsxs(Ot.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-card border-2 border-primary/20 rounded-3xl p-8 max-w-2xl w-full shadow-2xl relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-transparent via-primary to-transparent"}),x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h2",{className:"text-4xl font-bold mb-2",children:"Match Ends"}),x.jsx("div",{className:"inline-block px-4 py-2 rounded-full bg-primary/10 border border-primary/20 text-primary text-xl font-bold animate-pulse",children:o.teamA.runs>o.teamB.runs?" Team A Wins! ":o.teamB.runs>o.teamA.runs?" Team B Wins! ":" It's a Tie! "})]}),x.jsxs("div",{className:"grid grid-cols-3 items-center gap-4 mb-8",children:[x.jsxs("div",{className:"text-center p-6 rounded-2xl bg-secondary/50 border border-border",children:[x.jsx("div",{className:"text-xl font-bold mb-2 text-primary",children:"Team A"}),x.jsxs("div",{className:"text-5xl font-black mb-2",children:[o.teamA.runs,"/",o.teamA.wickets]}),x.jsxs("div",{className:"text-sm text-muted-foreground font-medium",children:[o.teamA.overs.toFixed(1)," Overs"]})]}),x.jsx("div",{className:"text-center",children:x.jsx("div",{className:"text-4xl font-black text-muted-foreground/20",children:"VS"})}),x.jsxs("div",{className:"text-center p-6 rounded-2xl bg-secondary/50 border border-border",children:[x.jsx("div",{className:"text-xl font-bold mb-2 text-blue-500",children:"Team B"}),x.jsxs("div",{className:"text-5xl font-black mb-2",children:[o.teamB.runs,"/",o.teamB.wickets]}),x.jsxs("div",{className:"text-sm text-muted-foreground font-medium",children:[o.teamB.overs.toFixed(1)," Overs"]})]})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx(Ft,{onClick:()=>he(!1),variant:"outline",className:"flex-1 h-12",children:"Close"}),x.jsx(Ft,{onClick:()=>t("/dashboard"),className:"flex-1 text-lg font-bold h-12",children:"Return to Dashboard"})]})]})})]})},gnt="PlayPalCricketDB",ynt=1;class wnt{constructor(){Hn(this,"db",null);Hn(this,"initPromise",null)}async init(){return this.initPromise?this.initPromise:(this.initPromise=new Promise((e,n)=>{const r=indexedDB.open(gnt,ynt);r.onerror=()=>{console.error("IndexedDB failed to open:",r.error),n(r.error)},r.onsuccess=()=>{this.db=r.result,console.log("IndexedDB initialized successfully"),e()},r.onupgradeneeded=s=>{const i=s.target.result;if(!i.objectStoreNames.contains("players")){const o=i.createObjectStore("players",{keyPath:"id"});o.createIndex("teamId","teamId",{unique:!1}),o.createIndex("name","name",{unique:!1}),o.createIndex("role","role",{unique:!1})}if(i.objectStoreNames.contains("teams")||i.createObjectStore("teams",{keyPath:"id"}).createIndex("name","name",{unique:!1}),!i.objectStoreNames.contains("matches")){const o=i.createObjectStore("matches",{keyPath:"id"});o.createIndex("status","status",{unique:!1}),o.createIndex("teamAId","teamAId",{unique:!1}),o.createIndex("teamBId","teamBId",{unique:!1}),o.createIndex("createdAt","createdAt",{unique:!1})}if(!i.objectStoreNames.contains("ballEvents")){const o=i.createObjectStore("ballEvents",{keyPath:"id"});o.createIndex("matchId","matchId",{unique:!1}),o.createIndex("batsmanId","batsmanId",{unique:!1}),o.createIndex("bowlerId","bowlerId",{unique:!1}),o.createIndex("timestamp","timestamp",{unique:!1})}console.log("IndexedDB schema created/upgraded")}}),this.initPromise)}async ensureDB(){if(this.db||await this.init(),!this.db)throw new Error("Database not initialized");return this.db}async add(e,n){const r=await this.ensureDB();return new Promise((s,i)=>{const l=r.transaction(e,"readwrite").objectStore(e).add(n);l.onsuccess=()=>s(n),l.onerror=()=>i(l.error)})}async get(e,n){const r=await this.ensureDB();return new Promise((s,i)=>{const l=r.transaction(e,"readonly").objectStore(e).get(n);l.onsuccess=()=>s(l.result||null),l.onerror=()=>i(l.error)})}async update(e,n){const r=await this.ensureDB();return new Promise((s,i)=>{const l=r.transaction(e,"readwrite").objectStore(e).put(n);l.onsuccess=()=>s(n),l.onerror=()=>i(l.error)})}async delete(e,n){const r=await this.ensureDB();return new Promise((s,i)=>{const l=r.transaction(e,"readwrite").objectStore(e).delete(n);l.onsuccess=()=>s(),l.onerror=()=>i(l.error)})}async getAll(e){const n=await this.ensureDB();return new Promise((r,s)=>{const a=n.transaction(e,"readonly").objectStore(e).getAll();a.onsuccess=()=>r(a.result),a.onerror=()=>s(a.error)})}async queryByIndex(e,n,r){const s=await this.ensureDB();return new Promise((i,o)=>{const u=s.transaction(e,"readonly").objectStore(e).index(n).getAll(r);u.onsuccess=()=>i(u.result),u.onerror=()=>o(u.error)})}async bulkAdd(e,n){const r=await this.ensureDB();return new Promise((s,i)=>{const a=r.transaction(e,"readwrite").objectStore(e);let l=0;const c=n.length;n.forEach(u=>{const A=a.add(u);A.onsuccess=()=>{l++,l===c&&s()},A.onerror=()=>i(A.error)}),c===0&&s()})}async count(e){const n=await this.ensureDB();return new Promise((r,s)=>{const a=n.transaction(e,"readonly").objectStore(e).count();a.onsuccess=()=>r(a.result),a.onerror=()=>s(a.error)})}async clear(e){const n=await this.ensureDB();return new Promise((r,s)=>{const a=n.transaction(e,"readwrite").objectStore(e).clear();a.onsuccess=()=>r(),a.onerror=()=>s(a.error)})}}const Dn=new wnt,Vi=[];for(let t=0;t<256;++t)Vi.push((t+256).toString(16).slice(1));function vnt(t,e=0){return(Vi[t[e+0]]+Vi[t[e+1]]+Vi[t[e+2]]+Vi[t[e+3]]+"-"+Vi[t[e+4]]+Vi[t[e+5]]+"-"+Vi[t[e+6]]+Vi[t[e+7]]+"-"+Vi[t[e+8]]+Vi[t[e+9]]+"-"+Vi[t[e+10]]+Vi[t[e+11]]+Vi[t[e+12]]+Vi[t[e+13]]+Vi[t[e+14]]+Vi[t[e+15]]).toLowerCase()}let iF;const xnt=new Uint8Array(16);function bnt(){if(!iF){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");iF=crypto.getRandomValues.bind(crypto)}return iF(xnt)}const Cnt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cV={randomUUID:Cnt};function Snt(t,e,n){var s;t=t||{};const r=t.random??((s=t.rng)==null?void 0:s.call(t))??bnt();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,vnt(r)}function bk(t,e,n){return cV.randomUUID&&!e&&!t?cV.randomUUID():Snt(t)}const Bnt=()=>({matchesPlayed:0,innings:0,runs:0,balls:0,fours:0,sixes:0,highestScore:0,notOuts:0,strikeRate:0,average:0}),_nt=()=>({matchesPlayed:0,innings:0,overs:0,balls:0,runs:0,wickets:0,maidens:0,economy:0,average:0,bestFigures:"0/0"});class ol{static async createPlayer(e){const n={id:bk(),name:e.name,role:e.role,teamId:e.teamId||null,battingStats:Bnt(),bowlingStats:_nt(),createdAt:Date.now(),updatedAt:Date.now()};return await Dn.add("players",n),n}static async getPlayer(e){return await Dn.get("players",e)}static async updatePlayer(e,n){const r=await this.getPlayer(e);if(!r)throw new Error(`Player with ID ${e} not found`);const s={...r,...n,id:r.id,updatedAt:Date.now()};return await Dn.update("players",s),s}static async deletePlayer(e){await Dn.delete("players",e)}static async getAllPlayers(){return await Dn.getAll("players")}static async getPlayersByTeam(e){return await Dn.queryByIndex("players","teamId",e)}static async getPlayerHistory(e){const n=await Dn.queryByIndex("ballEvents","batsmanId",e),r=await Dn.queryByIndex("ballEvents","bowlerId",e);return[...n,...r].sort((i,o)=>i.timestamp-o.timestamp)}static async searchPlayersByName(e){const n=await this.getAllPlayers(),r=e.toLowerCase();return n.filter(s=>s.name.toLowerCase().includes(r))}}class qu{static async createTeam(e){const n={id:bk(),name:e.name,playerIds:e.playerIds||[],matchHistory:[],createdAt:Date.now(),updatedAt:Date.now()};if(await Dn.add("teams",n),e.playerIds&&e.playerIds.length>0)for(const r of e.playerIds)await ol.updatePlayer(r,{teamId:n.id});return n}static async getTeam(e){return await Dn.get("teams",e)}static async updateTeam(e,n){const r=await this.getTeam(e);if(!r)throw new Error(`Team with ID ${e} not found`);const s={...r,...n,id:r.id,updatedAt:Date.now()};return await Dn.update("teams",s),s}static async deleteTeam(e){const n=await ol.getPlayersByTeam(e);for(const r of n)await ol.updatePlayer(r.id,{teamId:null});await Dn.delete("teams",e)}static async getAllTeams(){return await Dn.getAll("teams")}static async addPlayerToTeam(e,n){const r=await this.getTeam(e);if(!r)throw new Error(`Team with ID ${e} not found`);r.playerIds.includes(n)||(r.playerIds.push(n),await this.updateTeam(e,{playerIds:r.playerIds}),await ol.updatePlayer(n,{teamId:e}))}static async removePlayerFromTeam(e,n){const r=await this.getTeam(e);if(!r)throw new Error(`Team with ID ${e} not found`);const s=r.playerIds.filter(i=>i!==n);await this.updateTeam(e,{playerIds:s}),await ol.updatePlayer(n,{teamId:null})}static async getTeamPlayers(e){return await ol.getPlayersByTeam(e)}static async addMatchToHistory(e,n){const r=await this.getTeam(e);if(!r)throw new Error(`Team with ID ${e} not found`);r.matchHistory.includes(n)||(r.matchHistory.push(n),await this.updateTeam(e,{matchHistory:r.matchHistory}))}}const LL={CURRENT_MATCH_ID:"cricket_current_match_id",PREFERENCES:"cricket_preferences"},uV=t=>{try{t===null?localStorage.removeItem(LL.CURRENT_MATCH_ID):localStorage.setItem(LL.CURRENT_MATCH_ID,t)}catch(e){console.error("Failed to save current match ID:",e)}},Nnt=()=>{try{return localStorage.getItem(LL.CURRENT_MATCH_ID)}catch(t){return console.error("Failed to load current match ID:",t),null}};class Xu{static async createMatch(e){const n={id:bk(),teamAId:e.teamAId,teamBId:e.teamBId,venue:e.venue,status:"NOT_STARTED",currentInnings:1,battingTeamId:e.teamAId,bowlingTeamId:e.teamBId,currentBatsmanId:null,currentBowlerId:null,totalOvers:e.totalOvers||20,currentOver:0,currentBall:0,teamAScore:0,teamBScore:0,teamAWickets:0,teamBWickets:0,startTime:null,endTime:null,createdAt:Date.now(),updatedAt:Date.now()};return await Dn.add("matches",n),await qu.addMatchToHistory(e.teamAId,n.id),await qu.addMatchToHistory(e.teamBId,n.id),uV(n.id),n}static async getMatch(e){return await Dn.get("matches",e)}static async updateMatch(e,n){const r=await this.getMatch(e);if(!r)throw new Error(`Match with ID ${e} not found`);const s={...r,...n,id:r.id,updatedAt:Date.now()};return await Dn.update("matches",s),s}static async updateMatchStatus(e,n){var s;const r={status:n};n==="IN_PROGRESS"&&!((s=await this.getMatch(e))!=null&&s.startTime)&&(r.startTime=Date.now()),(n==="COMPLETED"||n==="ABANDONED")&&(r.endTime=Date.now(),uV(null)),await this.updateMatch(e,r)}static async getCurrentMatch(){const e=Nnt();return e?await this.getMatch(e):null}static async startMatch(e){await this.updateMatchStatus(e,"IN_PROGRESS")}static async finishMatch(e){await this.updateMatchStatus(e,"COMPLETED")}static async getAllMatches(){return await Dn.getAll("matches")}static async getMatchesByStatus(e){return await Dn.queryByIndex("matches","status",e)}static async getTeamMatches(e){const n=await Dn.queryByIndex("matches","teamAId",e),r=await Dn.queryByIndex("matches","teamBId",e);return[...n,...r].sort((i,o)=>o.createdAt-i.createdAt)}static async updateScore(e,n,r=!1){const s=await this.getMatch(e);if(!s)throw new Error(`Match with ID ${e} not found`);const i={};s.battingTeamId===s.teamAId?(i.teamAScore=s.teamAScore+n,r&&(i.teamAWickets=s.teamAWickets+1)):(i.teamBScore=s.teamBScore+n,r&&(i.teamBWickets=s.teamBWickets+1)),await this.updateMatch(e,i)}static async advanceBall(e){const n=await this.getMatch(e);if(!n)throw new Error(`Match with ID ${e} not found`);let{currentOver:r,currentBall:s}=n;s++,s>=6&&(s=0,r++),await this.updateMatch(e,{currentOver:r,currentBall:s})}}class tu{static async logBallEvent(e){const n=await Xu.getMatch(e.matchId);if(!n)throw new Error(`Match with ID ${e.matchId} not found`);const r={id:bk(),matchId:e.matchId,innings:n.currentInnings,over:n.currentOver,ball:n.currentBall,batsmanId:e.batsmanId,bowlerId:e.bowlerId,runs:e.runs,extras:e.extras||0,outcome:e.outcome||"RUNS",isWicket:e.isWicket||!1,wicketType:e.wicketType,dismissedPlayerId:e.dismissedPlayerId,fielderIds:e.fielderIds,source:e.source||"MANUAL_INPUT",timestamp:Date.now(),metadata:e.metadata};await Dn.add("ballEvents",r);const s=r.runs+r.extras;return await Xu.updateScore(e.matchId,s,r.isWicket),r.outcome!=="NO_BALL"&&r.outcome!=="WIDE"&&await Xu.advanceBall(e.matchId),r}static async getBallEvent(e){return await Dn.get("ballEvents",e)}static async updateBallEvent(e,n){const r=await this.getBallEvent(e);if(!r)throw new Error(`Ball event with ID ${e} not found`);const s={...r,...n,id:r.id,timestamp:r.timestamp};return await Dn.update("ballEvents",s),(n.runs!==void 0||n.extras!==void 0||n.isWicket!==void 0)&&console.warn("Manual event update may require score recalculation"),s}static async deleteBallEvent(e){await Dn.delete("ballEvents",e),console.warn("Event deletion requires score recalculation")}static async getMatchEvents(e){return(await Dn.queryByIndex("ballEvents","matchId",e)).sort((r,s)=>r.timestamp-s.timestamp)}static async getBatsmanEvents(e){return await Dn.queryByIndex("ballEvents","batsmanId",e)}static async getBowlerEvents(e){return await Dn.queryByIndex("ballEvents","bowlerId",e)}static async getEventsBySource(e,n){return(await this.getMatchEvents(e)).filter(s=>s.source===n)}static async getWicketEvents(e){return(await this.getMatchEvents(e)).filter(r=>r.isWicket)}static async getBoundaryEvents(e){return(await this.getMatchEvents(e)).filter(r=>r.runs===4||r.runs===6)}static async getOverEvents(e,n){return(await this.getMatchEvents(e)).filter(s=>s.over===n)}}class Nw{static async calculateBattingStats(e,n){const r=n?(await tu.getMatchEvents(n)).filter(a=>a.batsmanId===e):await tu.getBatsmanEvents(e),s={matchesPlayed:0,innings:0,runs:0,balls:0,fours:0,sixes:0,highestScore:0,notOuts:0,strikeRate:0,average:0};if(r.length===0)return s;const i=new Map;r.forEach(a=>{i.has(a.matchId)||i.set(a.matchId,[]),i.get(a.matchId).push(a)}),s.matchesPlayed=i.size,s.innings=i.size,r.forEach(a=>{s.runs+=a.runs,s.balls++,a.runs===4&&s.fours++,a.runs===6&&s.sixes++}),i.forEach(a=>{const l=a.reduce((u,A)=>u+A.runs,0);l>s.highestScore&&(s.highestScore=l),a.some(u=>u.isWicket&&u.dismissedPlayerId===e)||s.notOuts++}),s.strikeRate=s.balls>0?s.runs/s.balls*100:0;const o=s.innings-s.notOuts;return s.average=o>0?s.runs/o:s.runs,s}static async calculateBowlingStats(e,n){const r=n?(await tu.getMatchEvents(n)).filter(l=>l.bowlerId===e):await tu.getBowlerEvents(e),s={matchesPlayed:0,innings:0,overs:0,balls:0,runs:0,wickets:0,maidens:0,economy:0,average:0,bestFigures:"0/0"};if(r.length===0)return s;const i=new Map;r.forEach(l=>{i.has(l.matchId)||i.set(l.matchId,[]),i.get(l.matchId).push(l)}),s.matchesPlayed=i.size,s.innings=i.size,r.forEach(l=>{s.balls++,s.runs+=l.runs+l.extras,l.isWicket&&s.wickets++}),s.overs=Math.floor(s.balls/6)+s.balls%6/10,i.forEach(l=>{const c=new Map;l.forEach(u=>{c.has(u.over)||c.set(u.over,[]),c.get(u.over).push(u)}),c.forEach(u=>{u.length===6&&u.reduce((d,h)=>d+h.runs+h.extras,0)===0&&s.maidens++})}),s.economy=s.overs>0?s.runs/s.overs:0,s.average=s.wickets>0?s.runs/s.wickets:0;let o=0,a=999;return i.forEach(l=>{const c=l.filter(A=>A.isWicket).length,u=l.reduce((A,d)=>A+d.runs+d.extras,0);(c>o||c===o&&u<a)&&(o=c,a=u)}),s.bestFigures=`${o}/${a}`,s}static async updatePlayerStats(e){const n=await this.calculateBattingStats(e),r=await this.calculateBowlingStats(e);await ol.updatePlayer(e,{battingStats:n,bowlingStats:r})}static async getMatchStats(e,n){var c;const r=await this.calculateBattingStats(n,e),s=await this.calculateBowlingStats(n,e),i=await tu.getMatchEvents(e),o=i.filter(u=>u.batsmanId===n),a=o.some(u=>u.isWicket&&u.dismissedPlayerId===n),l=a?(c=o.find(u=>u.isWicket&&u.dismissedPlayerId===n))==null?void 0:c.wicketType:void 0;return{matchId:e,playerId:n,batting:o.length>0?{runs:r.runs,balls:r.balls,fours:r.fours,sixes:r.sixes,strikeRate:r.strikeRate,isOut:a,dismissal:l}:void 0,bowling:i.filter(u=>u.bowlerId===n).length>0?{overs:s.overs,runs:s.runs,wickets:s.wickets,economy:s.economy}:void 0}}static async getMatchSummary(e){const n=await Xu.getMatch(e);if(!n)throw new Error(`Match with ID ${e} not found`);const r=await qu.getTeamPlayers(n.teamAId),s=await qu.getTeamPlayers(n.teamBId),i=await tu.getMatchEvents(e),o=i.length,a=i.reduce((A,d)=>A+d.runs+d.extras,0),l=i.filter(A=>A.isWicket).length;let c=null,u;return n.status==="COMPLETED"&&(n.teamAScore>n.teamBScore?(c="TEAM_A",u=`by ${n.teamAScore-n.teamBScore} runs`):n.teamBScore>n.teamAScore?(c="TEAM_B",u=`by ${10-n.teamBWickets} wickets`):c="DRAW"),{match:n,teamAPlayers:r,teamBPlayers:s,totalBalls:o,totalRuns:a,totalWickets:l,winner:c,winMargin:u}}}class oF{static async initialize(){await Dn.init(),console.log("Cricket Data Layer initialized")}static async createMatch(e){return await Xu.createMatch(e)}static async getCurrentMatch(){return await Xu.getCurrentMatch()}static async getMatch(e){return await Xu.getMatch(e)}static async startMatch(e){return await Xu.startMatch(e)}static async finishMatch(e){return await Xu.finishMatch(e)}static async getAllMatches(){return await Xu.getAllMatches()}static async getMatchSummary(e){return await Nw.getMatchSummary(e)}static async logBallEvent(e){return await tu.logBallEvent(e)}static async updateBallEvent(e,n){return await tu.updateBallEvent(e,n)}static async getMatchEvents(e){return await tu.getMatchEvents(e)}static async getBoundaryEvents(e){return await tu.getBoundaryEvents(e)}static async getWicketEvents(e){return await tu.getWicketEvents(e)}static async createPlayer(e){return await ol.createPlayer(e)}static async getPlayer(e){return await ol.getPlayer(e)}static async updatePlayer(e,n){return await ol.updatePlayer(e,n)}static async getAllPlayers(){return await ol.getAllPlayers()}static async searchPlayers(e){return await ol.searchPlayersByName(e)}static async createTeam(e){return await qu.createTeam(e)}static async getTeam(e){return await qu.getTeam(e)}static async updateTeam(e,n){return await qu.updateTeam(e,n)}static async getAllTeams(){return await qu.getAllTeams()}static async addPlayerToTeam(e,n){return await qu.addPlayerToTeam(e,n)}static async getTeamPlayers(e){return await qu.getTeamPlayers(e)}static async calculateBattingStats(e,n){return await Nw.calculateBattingStats(e,n)}static async calculateBowlingStats(e,n){return await Nw.calculateBowlingStats(e,n)}static async updatePlayerStats(e){return await Nw.updatePlayerStats(e)}static async getMatchStats(e,n){return await Nw.getMatchStats(e,n)}static async getPlayerHistory(e){return await ol.getPlayerHistory(e)}static async clearAllData(){await Dn.clear("players"),await Dn.clear("teams"),await Dn.clear("matches"),await Dn.clear("ballEvents"),console.log("All cricket data cleared")}static async exportData(){const[e,n,r,s]=await Promise.all([Dn.getAll("players"),Dn.getAll("teams"),Dn.getAll("matches"),Dn.getAll("ballEvents")]);return{players:e,teams:n,matches:r,ballEvents:s}}static async getDBStats(){const[e,n,r,s]=await Promise.all([Dn.count("players"),Dn.count("teams"),Dn.count("matches"),Dn.count("ballEvents")]);return{playerCount:e,teamCount:n,matchCount:r,eventCount:s}}}class Toe{constructor(e){Hn(this,"matchId");Hn(this,"liveScore",null);Hn(this,"scoreListeners",new Set);Hn(this,"updateListeners",new Set);Hn(this,"autoSave");this.matchId=e.matchId,this.autoSave=e.autoSave??!0}async startMatch(e,n,r=20){const s=await oF.createMatch({teamAId:e,teamBId:n,totalOvers:r,venue:{name:"Live Match"}});this.matchId=s.id,await oF.startMatch(s.id),this.liveScore={matchId:s.id,teamAScore:0,teamBScore:0,teamAWickets:0,teamBWickets:0,currentOver:0,currentBall:0,totalOvers:r,battingTeam:"TEAM_A",currentBatsmanId:null,currentBowlerId:null,lastEvent:null,isLive:!0},this.autoSave&&this.saveToLocalStorage(),this.notifyScoreListeners()}async endMatch(){if(!this.liveScore)throw new Error("No active match");await oF.finishMatch(this.matchId),this.liveScore.isLive=!1;const e={type:"MATCH_END",timestamp:Date.now()};this.notifyUpdateListeners(e),this.notifyScoreListeners(),this.autoSave&&this.saveToLocalStorage()}async processEvent(e,n,r){if(!this.liveScore||!this.liveScore.isLive)throw new Error("No active match");e.type==="SCORING"?await this.processScoringEvent(e,n,r):e.type==="DISMISSAL"&&await this.processDismissalEvent(e,n,r),this.advanceBall(),this.autoSave&&this.saveToLocalStorage(),this.notifyScoreListeners()}async processScoringEvent(e,n,r){this.liveScore.battingTeam==="TEAM_A"?this.liveScore.teamAScore+=e.runs:this.liveScore.teamBScore+=e.runs,this.liveScore.lastEvent=`${e.runs} runs (${e.boundaryType})`;const s={type:"RUNS",runs:e.runs,timestamp:Date.now()};this.notifyUpdateListeners(s)}async processDismissalEvent(e,n,r){this.liveScore.battingTeam==="TEAM_A"?this.liveScore.teamAWickets++:this.liveScore.teamBWickets++,this.liveScore.lastEvent=`Wicket! ${e.dismissalType}`;const s={type:"WICKET",wickets:1,dismissalType:e.dismissalType,timestamp:Date.now()};this.notifyUpdateListeners(s)}advanceBall(){if(this.liveScore&&(this.liveScore.currentBall++,this.liveScore.currentBall>=6)){this.liveScore.currentBall=0,this.liveScore.currentOver++;const e={type:"OVER_COMPLETE",timestamp:Date.now()};this.notifyUpdateListeners(e),this.liveScore.currentOver>=this.liveScore.totalOvers&&this.switchInnings()}}switchInnings(){this.liveScore&&(this.liveScore.battingTeam==="TEAM_A"?(this.liveScore.battingTeam="TEAM_B",this.liveScore.currentOver=0,this.liveScore.currentBall=0,this.liveScore.lastEvent="Innings complete - Team B batting"):this.endMatch())}getLiveScore(){return this.liveScore?{...this.liveScore}:null}onScoreUpdate(e){return this.scoreListeners.add(e),()=>this.scoreListeners.delete(e)}onEventUpdate(e){return this.updateListeners.add(e),()=>this.updateListeners.delete(e)}notifyScoreListeners(){this.liveScore&&this.scoreListeners.forEach(e=>e(this.liveScore))}notifyUpdateListeners(e){this.updateListeners.forEach(n=>n(e))}saveToLocalStorage(){this.liveScore&&localStorage.setItem("liveScore",JSON.stringify(this.liveScore))}loadFromLocalStorage(){const e=localStorage.getItem("liveScore");return e?(this.liveScore=JSON.parse(e),this.liveScore):null}clearLocalStorage(){localStorage.removeItem("liveScore")}}new Toe({matchId:"",teamAId:"",teamBId:""});const Int=()=>{const[t,e]=P.useState(null),[n,r]=P.useState(0),[s,i]=P.useState(0),[o,a]=P.useState({teamA:50,teamB:50}),[l,c]=P.useState("Analyzing...");P.useEffect(()=>{const p=new Toe({matchId:"live-match",teamAId:"team-a",teamBId:"team-b"}),m=p.loadFromLocalStorage();m&&e(m);const y=p.onScoreUpdate(g=>{e(g),u(g)});return p.onEventUpdate(g=>{g.type==="RUNS"?(r(Math.floor(Math.random()*30)+120),i(Math.floor(Math.random()*50)+50),c(g.runs===6?"Maximum!":"Boundary!")):g.type==="WICKET"&&c(`Wicket! ${g.dismissalType}`)}),y},[]);const u=p=>{const m=p.teamAScore+p.teamBScore;if(m>0){const y=Math.round(p.teamAScore/m*100);a({teamA:y,teamB:100-y})}};if(!t)return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx(h0,{className:"w-16 h-16 text-[#8B0000] mx-auto mb-4 animate-pulse"}),x.jsx("p",{className:"text-2xl text-[#F5F5DC]",children:"Waiting for match to start..."})]})});const A=t.battingTeam==="TEAM_A"?"Team A":"Team B",d=t.battingTeam==="TEAM_A"?t.teamAScore:t.teamBScore,h=t.battingTeam==="TEAM_A"?t.teamAWickets:t.teamBWickets;return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-8",children:[x.jsx(Ot.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-[#8B0000] to-[#A52A2A] rounded-3xl p-8 mb-8 shadow-2xl",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsxs("h1",{className:"text-6xl font-bold text-[#F5F5DC] mb-2",children:[d,"/",h]}),x.jsxs("p",{className:"text-2xl text-[#F5F5DC]/80",children:[A,"  ",t.currentOver,".",t.currentBall," overs"]})]}),x.jsx(gA,{className:"w-24 h-24 text-[#F5F5DC]/30"})]})}),x.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[x.jsxs(Ot.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 border border-[#8B0000]/30",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx(mG,{className:"w-6 h-6 text-[#8B0000]"}),x.jsx("h2",{className:"text-xl font-semibold text-[#F5F5DC]",children:"Batsman"})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60",children:"Current Batsman"}),x.jsx("p",{className:"text-2xl font-bold text-[#F5F5DC]",children:"Player 1"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60",children:"Runs"}),x.jsx("p",{className:"text-xl font-bold text-[#8B0000]",children:d})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60",children:"Balls"}),x.jsx("p",{className:"text-xl font-bold text-[#8B0000]",children:t.currentOver*6+t.currentBall})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60",children:"Strike Rate"}),x.jsx("p",{className:"text-xl font-bold text-[#8B0000]",children:(d/(t.currentOver*6+t.currentBall||1)*100).toFixed(1)})]})]})]}),x.jsxs(Ot.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 border border-[#8B0000]/30",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx($D,{className:"w-6 h-6 text-[#8B0000]"}),x.jsx("h2",{className:"text-xl font-semibold text-[#F5F5DC]",children:"Bowler"})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60",children:"Current Bowler"}),x.jsx("p",{className:"text-2xl font-bold text-[#F5F5DC]",children:"Player 2"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60",children:"Overs"}),x.jsxs("p",{className:"text-xl font-bold text-[#8B0000]",children:[t.currentOver,".",t.currentBall]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60",children:"Wickets"}),x.jsx("p",{className:"text-xl font-bold text-[#8B0000]",children:h})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60",children:"Economy"}),x.jsx("p",{className:"text-xl font-bold text-[#8B0000]",children:(d/(t.currentOver||1)).toFixed(2)})]})]})]}),x.jsxs(Ot.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 border border-[#8B0000]/30",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx(h0,{className:"w-6 h-6 text-[#8B0000]"}),x.jsx("h2",{className:"text-xl font-semibold text-[#F5F5DC]",children:"Live Metrics"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60 mb-2",children:"Ball Speed"}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-3",children:x.jsx(Ot.div,{initial:{width:0},animate:{width:`${n/150*100}%`},className:"bg-gradient-to-r from-[#8B0000] to-[#FF4500] h-full rounded-full"})}),x.jsxs("span",{className:"text-xl font-bold text-[#8B0000] min-w-[80px]",children:[n," km/h"]})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-[#F5F5DC]/60 mb-2",children:"Shot Power"}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-3",children:x.jsx(Ot.div,{initial:{width:0},animate:{width:`${s}%`},className:"bg-gradient-to-r from-[#8B0000] to-[#FFD700] h-full rounded-full"})}),x.jsxs("span",{className:"text-xl font-bold text-[#8B0000] min-w-[80px]",children:[s,"%"]})]})]})]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[x.jsxs(Ot.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-gray-800/80 to-gray-900/80 backdrop-blur-sm rounded-2xl p-6 border border-[#8B0000]/30",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx(Hue,{className:"w-6 h-6 text-[#8B0000]"}),x.jsx("h2",{className:"text-xl font-semibold text-[#F5F5DC]",children:"AI Prediction"})]}),x.jsx(Ot.p,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-3xl font-bold text-[#8B0000]",children:l},l),t.lastEvent&&x.jsx("p",{className:"text-lg text-[#F5F5DC]/70 mt-2",children:t.lastEvent})]}),x.jsxs(Ot.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-gray-800/80 to-gray-900/80 backdrop-blur-sm rounded-2xl p-6 border border-[#8B0000]/30",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx(gA,{className:"w-6 h-6 text-[#8B0000]"}),x.jsx("h2",{className:"text-xl font-semibold text-[#F5F5DC]",children:"Win Probability"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between mb-2",children:[x.jsx("span",{className:"text-[#F5F5DC]",children:"Team A"}),x.jsxs("span",{className:"text-xl font-bold text-[#8B0000]",children:[o.teamA,"%"]})]}),x.jsx("div",{className:"bg-gray-700 rounded-full h-4",children:x.jsx(Ot.div,{initial:{width:0},animate:{width:`${o.teamA}%`},className:"bg-gradient-to-r from-[#8B0000] to-[#A52A2A] h-full rounded-full"})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between mb-2",children:[x.jsx("span",{className:"text-[#F5F5DC]",children:"Team B"}),x.jsxs("span",{className:"text-xl font-bold text-[#8B0000]",children:[o.teamB,"%"]})]}),x.jsx("div",{className:"bg-gray-700 rounded-full h-4",children:x.jsx(Ot.div,{initial:{width:0},animate:{width:`${o.teamB}%`},className:"bg-gradient-to-r from-[#8B0000] to-[#A52A2A] h-full rounded-full"})})]})]})]})]}),x.jsxs(Ot.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"fixed top-8 right-8 flex items-center gap-2 bg-red-600 px-4 py-2 rounded-full",children:[x.jsx(Ot.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:1.5},className:"w-3 h-3 bg-white rounded-full"}),x.jsx("span",{className:"text-white font-semibold",children:"LIVE"})]})]})},Ent=new gfe,knt=()=>x.jsx(wfe,{client:Ent,children:x.jsx(Ghe,{children:x.jsx(vpe,{children:x.jsx(Spe,{children:x.jsxs(Cpe,{children:[x.jsx(EAe,{}),x.jsx(ade,{}),x.jsx(Bpe,{children:x.jsx(ppe,{children:x.jsxs(lpe,{children:[x.jsx(tl,{path:"/",element:x.jsx(g1e,{})}),x.jsx(tl,{path:"/login",element:x.jsx(y1e,{})}),x.jsx(tl,{path:"/dashboard",element:x.jsx(w1e,{})}),x.jsx(tl,{path:"/venues",element:x.jsx(v1e,{})}),x.jsx(tl,{path:"/venue/:id",element:x.jsx(x1e,{})}),x.jsx(tl,{path:"/players",element:x.jsx(Xve,{})}),x.jsx(tl,{path:"/match/:bookingId",element:x.jsx(mnt,{})}),x.jsx(tl,{path:"/broadcast",element:x.jsx(Int,{})}),x.jsx(tl,{path:"/tournaments",element:x.jsx(Zve,{})}),x.jsx(tl,{path:"/owner-dashboard",element:x.jsx(Jve,{})}),x.jsx(tl,{path:"/invoice/:id",element:x.jsx(Uke,{})}),x.jsx(tl,{path:"*",element:x.jsx(Mke,{})})]})})})]})})})})});LW(document.getElementById("root")).render(x.jsx(knt,{}));export{xr as _,_A as c,Dx as g};
